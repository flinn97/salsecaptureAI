var XT=Object.defineProperty;var ZT=(r,e,t)=>e in r?XT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var le=(r,e,t)=>ZT(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Up={exports:{}},tu={},zp={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function eI(){if(m1)return ft;m1=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function f(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function C(B,V,H){this.props=B,this.context=V,this.refs=x,this.updater=H||y}C.prototype.isReactComponent={},C.prototype.setState=function(B,V){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,V,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=C.prototype;function E(B,V,H){this.props=B,this.context=V,this.refs=x,this.updater=H||y}var P=E.prototype=new w;P.constructor=E,b(P,C.prototype),P.isPureReactComponent=!0;var S=Array.isArray,O=Object.prototype.hasOwnProperty,M={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function A(B,V,H){var ne,ee={},$=null,Y=null;if(V!=null)for(ne in V.ref!==void 0&&(Y=V.ref),V.key!==void 0&&($=""+V.key),V)O.call(V,ne)&&!R.hasOwnProperty(ne)&&(ee[ne]=V[ne]);var Q=arguments.length-2;if(Q===1)ee.children=H;else if(1<Q){for(var te=Array(Q),ae=0;ae<Q;ae++)te[ae]=arguments[ae+2];ee.children=te}if(B&&B.defaultProps)for(ne in Q=B.defaultProps,Q)ee[ne]===void 0&&(ee[ne]=Q[ne]);return{$$typeof:r,type:B,key:$,ref:Y,props:ee,_owner:M.current}}function T(B,V){return{$$typeof:r,type:B.type,key:V,ref:B.ref,props:B.props,_owner:B._owner}}function I(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function D(B){var V={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(H){return V[H]})}var N=/\/+/g;function L(B,V){return typeof B=="object"&&B!==null&&B.key!=null?D(""+B.key):V.toString(36)}function U(B,V,H,ne,ee){var $=typeof B;($==="undefined"||$==="boolean")&&(B=null);var Y=!1;if(B===null)Y=!0;else switch($){case"string":case"number":Y=!0;break;case"object":switch(B.$$typeof){case r:case e:Y=!0}}if(Y)return Y=B,ee=ee(Y),B=ne===""?"."+L(Y,0):ne,S(ee)?(H="",B!=null&&(H=B.replace(N,"$&/")+"/"),U(ee,V,H,"",function(ae){return ae})):ee!=null&&(I(ee)&&(ee=T(ee,H+(!ee.key||Y&&Y.key===ee.key?"":(""+ee.key).replace(N,"$&/")+"/")+B)),V.push(ee)),1;if(Y=0,ne=ne===""?".":ne+":",S(B))for(var Q=0;Q<B.length;Q++){$=B[Q];var te=ne+L($,Q);Y+=U($,V,H,te,ee)}else if(te=f(B),typeof te=="function")for(B=te.call(B),Q=0;!($=B.next()).done;)$=$.value,te=ne+L($,Q++),Y+=U($,V,H,te,ee);else if($==="object")throw V=String(B),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Y}function J(B,V,H){if(B==null)return B;var ne=[],ee=0;return U(B,ne,"","",function($){return V.call(H,$,ee++)}),ne}function re(B){if(B._status===-1){var V=B._result;V=V(),V.then(function(H){(B._status===0||B._status===-1)&&(B._status=1,B._result=H)},function(H){(B._status===0||B._status===-1)&&(B._status=2,B._result=H)}),B._status===-1&&(B._status=0,B._result=V)}if(B._status===1)return B._result.default;throw B._result}var Z={current:null},ie={transition:null},G={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:ie,ReactCurrentOwner:M};function W(){throw Error("act(...) is not supported in production builds of React.")}return ft.Children={map:J,forEach:function(B,V,H){J(B,function(){V.apply(this,arguments)},H)},count:function(B){var V=0;return J(B,function(){V++}),V},toArray:function(B){return J(B,function(V){return V})||[]},only:function(B){if(!I(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},ft.Component=C,ft.Fragment=t,ft.Profiler=i,ft.PureComponent=E,ft.StrictMode=n,ft.Suspense=h,ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,ft.act=W,ft.cloneElement=function(B,V,H){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ne=b({},B.props),ee=B.key,$=B.ref,Y=B._owner;if(V!=null){if(V.ref!==void 0&&($=V.ref,Y=M.current),V.key!==void 0&&(ee=""+V.key),B.type&&B.type.defaultProps)var Q=B.type.defaultProps;for(te in V)O.call(V,te)&&!R.hasOwnProperty(te)&&(ne[te]=V[te]===void 0&&Q!==void 0?Q[te]:V[te])}var te=arguments.length-2;if(te===1)ne.children=H;else if(1<te){Q=Array(te);for(var ae=0;ae<te;ae++)Q[ae]=arguments[ae+2];ne.children=Q}return{$$typeof:r,type:B.type,key:ee,ref:$,props:ne,_owner:Y}},ft.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:o,_context:B},B.Consumer=B},ft.createElement=A,ft.createFactory=function(B){var V=A.bind(null,B);return V.type=B,V},ft.createRef=function(){return{current:null}},ft.forwardRef=function(B){return{$$typeof:u,render:B}},ft.isValidElement=I,ft.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:re}},ft.memo=function(B,V){return{$$typeof:d,type:B,compare:V===void 0?null:V}},ft.startTransition=function(B){var V=ie.transition;ie.transition={};try{B()}finally{ie.transition=V}},ft.unstable_act=W,ft.useCallback=function(B,V){return Z.current.useCallback(B,V)},ft.useContext=function(B){return Z.current.useContext(B)},ft.useDebugValue=function(){},ft.useDeferredValue=function(B){return Z.current.useDeferredValue(B)},ft.useEffect=function(B,V){return Z.current.useEffect(B,V)},ft.useId=function(){return Z.current.useId()},ft.useImperativeHandle=function(B,V,H){return Z.current.useImperativeHandle(B,V,H)},ft.useInsertionEffect=function(B,V){return Z.current.useInsertionEffect(B,V)},ft.useLayoutEffect=function(B,V){return Z.current.useLayoutEffect(B,V)},ft.useMemo=function(B,V){return Z.current.useMemo(B,V)},ft.useReducer=function(B,V,H){return Z.current.useReducer(B,V,H)},ft.useRef=function(B){return Z.current.useRef(B)},ft.useState=function(B){return Z.current.useState(B)},ft.useSyncExternalStore=function(B,V,H){return Z.current.useSyncExternalStore(B,V,H)},ft.useTransition=function(){return Z.current.useTransition()},ft.version="18.3.1",ft}var g1;function Ad(){return g1||(g1=1,zp.exports=eI()),zp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function tI(){if(y1)return tu;y1=1;var r=Ad(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,d){var g,m={},f=null,y=null;d!==void 0&&(f=""+d),h.key!==void 0&&(f=""+h.key),h.ref!==void 0&&(y=h.ref);for(g in h)n.call(h,g)&&!o.hasOwnProperty(g)&&(m[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)m[g]===void 0&&(m[g]=h[g]);return{$$typeof:e,type:u,key:f,ref:y,props:m,_owner:i.current}}return tu.Fragment=t,tu.jsx=l,tu.jsxs=l,tu}var v1;function nI(){return v1||(v1=1,Up.exports=tI()),Up.exports}var _=nI(),ve=Ad();const qe=qu(ve);var _h={},Hp={exports:{}},tr={},Wp={exports:{}},$p={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1;function rI(){return _1||(_1=1,function(r){function e(ie,G){var W=ie.length;ie.push(G);e:for(;0<W;){var B=W-1>>>1,V=ie[B];if(0<i(V,G))ie[B]=G,ie[W]=V,W=B;else break e}}function t(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var G=ie[0],W=ie.pop();if(W!==G){ie[0]=W;e:for(var B=0,V=ie.length,H=V>>>1;B<H;){var ne=2*(B+1)-1,ee=ie[ne],$=ne+1,Y=ie[$];if(0>i(ee,W))$<V&&0>i(Y,ee)?(ie[B]=Y,ie[$]=W,B=$):(ie[B]=ee,ie[ne]=W,B=ne);else if($<V&&0>i(Y,W))ie[B]=Y,ie[$]=W,B=$;else break e}}return G}function i(ie,G){var W=ie.sortIndex-G.sortIndex;return W!==0?W:ie.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var h=[],d=[],g=1,m=null,f=3,y=!1,b=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(ie){for(var G=t(d);G!==null;){if(G.callback===null)n(d);else if(G.startTime<=ie)n(d),G.sortIndex=G.expirationTime,e(h,G);else break;G=t(d)}}function S(ie){if(x=!1,P(ie),!b)if(t(h)!==null)b=!0,re(O);else{var G=t(d);G!==null&&Z(S,G.startTime-ie)}}function O(ie,G){b=!1,x&&(x=!1,w(A),A=-1),y=!0;var W=f;try{for(P(G),m=t(h);m!==null&&(!(m.expirationTime>G)||ie&&!D());){var B=m.callback;if(typeof B=="function"){m.callback=null,f=m.priorityLevel;var V=B(m.expirationTime<=G);G=r.unstable_now(),typeof V=="function"?m.callback=V:m===t(h)&&n(h),P(G)}else n(h);m=t(h)}if(m!==null)var H=!0;else{var ne=t(d);ne!==null&&Z(S,ne.startTime-G),H=!1}return H}finally{m=null,f=W,y=!1}}var M=!1,R=null,A=-1,T=5,I=-1;function D(){return!(r.unstable_now()-I<T)}function N(){if(R!==null){var ie=r.unstable_now();I=ie;var G=!0;try{G=R(!0,ie)}finally{G?L():(M=!1,R=null)}}else M=!1}var L;if(typeof E=="function")L=function(){E(N)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,J=U.port2;U.port1.onmessage=N,L=function(){J.postMessage(null)}}else L=function(){C(N,0)};function re(ie){R=ie,M||(M=!0,L())}function Z(ie,G){A=C(function(){ie(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){b||y||(b=!0,re(O))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return t(h)},r.unstable_next=function(ie){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var W=f;f=G;try{return ie()}finally{f=W}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,G){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var W=f;f=ie;try{return G()}finally{f=W}},r.unstable_scheduleCallback=function(ie,G,W){var B=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?B+W:B):W=B,ie){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=W+V,ie={id:g++,callback:G,priorityLevel:ie,startTime:W,expirationTime:V,sortIndex:-1},W>B?(ie.sortIndex=W,e(d,ie),t(h)===null&&ie===t(d)&&(x?(w(A),A=-1):x=!0,Z(S,W-B))):(ie.sortIndex=V,e(h,ie),b||y||(b=!0,re(O))),ie},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(ie){var G=f;return function(){var W=f;f=G;try{return ie.apply(this,arguments)}finally{f=W}}}}($p)),$p}var w1;function iI(){return w1||(w1=1,Wp.exports=rI()),Wp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function sI(){if(E1)return tr;E1=1;var r=Ad(),e=iI();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function f(s){return h.call(m,s)?!0:h.call(g,s)?!1:d.test(s)?m[s]=!0:(g[s]=!0,!1)}function y(s,a,c,v){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return v?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,a,c,v){if(a===null||typeof a>"u"||y(s,a,c,v))return!0;if(v)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function x(s,a,c,v,k,j,z){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=v,this.attributeNamespace=k,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=j,this.removeEmptyString=z}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new x(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];C[a]=new x(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new x(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new x(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new x(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new x(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new x(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new x(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new x(s,5,!1,s.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function E(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(w,E);C[a]=new x(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(w,E);C[a]=new x(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(w,E);C[a]=new x(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new x(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new x(s,1,!1,s.toLowerCase(),null,!0,!0)});function P(s,a,c,v){var k=C.hasOwnProperty(a)?C[a]:null;(k!==null?k.type!==0:v||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,c,k,v)&&(c=null),v||k===null?f(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):k.mustUseProperty?s[k.propertyName]=c===null?k.type===3?!1:"":c:(a=k.attributeName,v=k.attributeNamespace,c===null?s.removeAttribute(a):(k=k.type,c=k===3||k===4&&c===!0?"":""+c,v?s.setAttributeNS(v,a,c):s.setAttribute(a,c))))}var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),M=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),ie=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var W=Object.assign,B;function V(s){if(B===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);B=a&&a[1]||""}return`
`+B+s}var H=!1;function ne(s,a){if(!s||H)return"";H=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(pe){var v=pe}Reflect.construct(s,[],a)}else{try{a.call()}catch(pe){v=pe}s.call(a.prototype)}else{try{throw Error()}catch(pe){v=pe}s()}}catch(pe){if(pe&&v&&typeof pe.stack=="string"){for(var k=pe.stack.split(`
`),j=v.stack.split(`
`),z=k.length-1,X=j.length-1;1<=z&&0<=X&&k[z]!==j[X];)X--;for(;1<=z&&0<=X;z--,X--)if(k[z]!==j[X]){if(z!==1||X!==1)do if(z--,X--,0>X||k[z]!==j[X]){var se=`
`+k[z].replace(" at new "," at ");return s.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",s.displayName)),se}while(1<=z&&0<=X);break}}}finally{H=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?V(s):""}function ee(s){switch(s.tag){case 5:return V(s.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return s=ne(s.type,!1),s;case 11:return s=ne(s.type.render,!1),s;case 1:return s=ne(s.type,!0),s;default:return""}}function $(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case M:return"Portal";case T:return"Profiler";case A:return"StrictMode";case L:return"Suspense";case U:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case I:return(s._context.displayName||"Context")+".Provider";case N:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case J:return a=s.displayName||null,a!==null?a:$(s.type)||"Memo";case re:a=s._payload,s=s._init;try{return $(s(a))}catch{}}return null}function Y(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Q(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function te(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ae(s){var a=te(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),v=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var k=c.get,j=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return k.call(this)},set:function(z){v=""+z,j.call(this,z)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return v},setValue:function(z){v=""+z},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ge(s){s._valueTracker||(s._valueTracker=ae(s))}function Ce(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),v="";return s&&(v=te(s)?s.checked?"true":"false":s.value),s=v,s!==c?(a.setValue(s),!0):!1}function Re(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Pe(s,a){var c=a.checked;return W({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Ne(s,a){var c=a.defaultValue==null?"":a.defaultValue,v=a.checked!=null?a.checked:a.defaultChecked;c=Q(a.value!=null?a.value:c),s._wrapperState={initialChecked:v,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Fe(s,a){a=a.checked,a!=null&&P(s,"checked",a,!1)}function Xe(s,a){Fe(s,a);var c=Q(a.value),v=a.type;if(c!=null)v==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(v==="submit"||v==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?fe(s,a.type,c):a.hasOwnProperty("defaultValue")&&fe(s,a.type,Q(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ue(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var v=a.type;if(!(v!=="submit"&&v!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function fe(s,a,c){(a!=="number"||Re(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Ee=Array.isArray;function Te(s,a,c,v){if(s=s.options,a){a={};for(var k=0;k<c.length;k++)a["$"+c[k]]=!0;for(c=0;c<s.length;c++)k=a.hasOwnProperty("$"+s[c].value),s[c].selected!==k&&(s[c].selected=k),k&&v&&(s[c].defaultSelected=!0)}else{for(c=""+Q(c),a=null,k=0;k<s.length;k++){if(s[k].value===c){s[k].selected=!0,v&&(s[k].defaultSelected=!0);return}a!==null||s[k].disabled||(a=s[k])}a!==null&&(a.selected=!0)}}function ye(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return W({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function $e(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Ee(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Q(c)}}function Le(s,a){var c=Q(a.value),v=Q(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),v!=null&&(s.defaultValue=""+v)}function ze(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Ke(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Ke(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var st,Gn=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,v,k){MSApp.execUnsafeLocalFunction(function(){return s(a,c,v,k)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(st=st||document.createElement("div"),st.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=st.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function vt(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var kt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];Object.keys(kt).forEach(function(s){tn.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),kt[a]=kt[s]})});function kr(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||kt.hasOwnProperty(s)&&kt[s]?(""+a).trim():a+"px"}function rs(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var v=c.indexOf("--")===0,k=kr(c,a[c],v);c==="float"&&(c="cssFloat"),v?s.setProperty(c,k):s[c]=k}}var pl=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ml(s,a){if(a){if(pl[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function gl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=null;function Go(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ko=null,yr=null,Zr=null;function Jo(s){if(s=ql(s)){if(typeof Ko!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Oc(a),Ko(s.stateNode,s.type,a))}}function ei(s){yr?Zr?Zr.push(s):Zr=[s]:yr=s}function yl(){if(yr){var s=yr,a=Zr;if(Zr=yr=null,Jo(s),a)for(s=0;s<a.length;s++)Jo(a[s])}}function so(s,a){return s(a)}function vl(){}var Ti=!1;function _l(s,a,c){if(Ti)return s(a,c);Ti=!0;try{return so(s,a,c)}finally{Ti=!1,(yr!==null||Zr!==null)&&(vl(),yl())}}function Qt(s,a){var c=s.stateNode;if(c===null)return null;var v=Oc(c);if(v===null)return null;c=v[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Qo=!1;if(u)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{Qo=!1}function oo(s,a,c,v,k,j,z,X,se){var pe=Array.prototype.slice.call(arguments,3);try{a.apply(c,pe)}catch(be){this.onError(be)}}var ao=!1,Yo=null,Pr=!1,wl=null,gf={onError:function(s){ao=!0,Yo=s}};function Xo(s,a,c,v,k,j,z,X,se){ao=!1,Yo=null,oo.apply(gf,arguments)}function sc(s,a,c,v,k,j,z,X,se){if(Xo.apply(this,arguments),ao){if(ao){var pe=Yo;ao=!1,Yo=null}else throw Error(t(198));Pr||(Pr=!0,wl=pe)}}function Nr(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function lo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Or(s){if(Nr(s)!==s)throw Error(t(188))}function oc(s){var a=s.alternate;if(!a){if(a=Nr(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,v=a;;){var k=c.return;if(k===null)break;var j=k.alternate;if(j===null){if(v=k.return,v!==null){c=v;continue}break}if(k.child===j.child){for(j=k.child;j;){if(j===c)return Or(k),s;if(j===v)return Or(k),a;j=j.sibling}throw Error(t(188))}if(c.return!==v.return)c=k,v=j;else{for(var z=!1,X=k.child;X;){if(X===c){z=!0,c=k,v=j;break}if(X===v){z=!0,v=k,c=j;break}X=X.sibling}if(!z){for(X=j.child;X;){if(X===c){z=!0,c=j,v=k;break}if(X===v){z=!0,v=j,c=k;break}X=X.sibling}if(!z)throw Error(t(189))}}if(c.alternate!==v)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function El(s){return s=oc(s),s!==null?Zo(s):null}function Zo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Zo(s);if(a!==null)return a;s=s.sibling}return null}var ea=e.unstable_scheduleCallback,Cl=e.unstable_cancelCallback,ac=e.unstable_shouldYield,yf=e.unstable_requestPaint,Rt=e.unstable_now,lc=e.unstable_getCurrentPriorityLevel,uo=e.unstable_ImmediatePriority,is=e.unstable_UserBlockingPriority,vr=e.unstable_NormalPriority,Al=e.unstable_LowPriority,uc=e.unstable_IdlePriority,co=null,sr=null;function cc(s){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(co,s,void 0,(s.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:dc,bl=Math.log,hc=Math.LN2;function dc(s){return s>>>=0,s===0?32:31-(bl(s)/hc|0)|0}var ta=64,na=4194304;function ss(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ho(s,a){var c=s.pendingLanes;if(c===0)return 0;var v=0,k=s.suspendedLanes,j=s.pingedLanes,z=c&268435455;if(z!==0){var X=z&~k;X!==0?v=ss(X):(j&=z,j!==0&&(v=ss(j)))}else z=c&~k,z!==0?v=ss(z):j!==0&&(v=ss(j));if(v===0)return 0;if(a!==0&&a!==v&&(a&k)===0&&(k=v&-v,j=a&-a,k>=j||k===16&&(j&4194240)!==0))return a;if((v&4)!==0&&(v|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=v;0<a;)c=31-Bn(a),k=1<<c,v|=s[c],a&=~k;return v}function vf(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ii(s,a){for(var c=s.suspendedLanes,v=s.pingedLanes,k=s.expirationTimes,j=s.pendingLanes;0<j;){var z=31-Bn(j),X=1<<z,se=k[z];se===-1?((X&c)===0||(X&v)!==0)&&(k[z]=vf(X,a)):se<=a&&(s.expiredLanes|=X),j&=~X}}function or(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function fo(){var s=ta;return ta<<=1,(ta&4194240)===0&&(ta=64),s}function os(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function as(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Bn(a),s[a]=c}function It(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var v=s.eventTimes;for(s=s.expirationTimes;0<c;){var k=31-Bn(c),j=1<<k;a[k]=0,v[k]=-1,s[k]=-1,c&=~j}}function ls(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var v=31-Bn(c),k=1<<v;k&a|s[v]&a&&(s[v]|=a),c&=~k}}var yt=0;function us(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var fc,ra,pc,mc,gc,xl=!1,ti=[],wn=null,Lr=null,Fr=null,cs=new Map,_r=new Map,ni=[],_f="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yc(s,a){switch(s){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":cs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(a.pointerId)}}function Kn(s,a,c,v,k,j){return s===null||s.nativeEvent!==j?(s={blockedOn:a,domEventName:c,eventSystemFlags:v,nativeEvent:j,targetContainers:[k]},a!==null&&(a=ql(a),a!==null&&ra(a)),s):(s.eventSystemFlags|=v,a=s.targetContainers,k!==null&&a.indexOf(k)===-1&&a.push(k),s)}function wf(s,a,c,v,k){switch(a){case"focusin":return wn=Kn(wn,s,a,c,v,k),!0;case"dragenter":return Lr=Kn(Lr,s,a,c,v,k),!0;case"mouseover":return Fr=Kn(Fr,s,a,c,v,k),!0;case"pointerover":var j=k.pointerId;return cs.set(j,Kn(cs.get(j)||null,s,a,c,v,k)),!0;case"gotpointercapture":return j=k.pointerId,_r.set(j,Kn(_r.get(j)||null,s,a,c,v,k)),!0}return!1}function vc(s){var a=vo(s.target);if(a!==null){var c=Nr(a);if(c!==null){if(a=c.tag,a===13){if(a=lo(c),a!==null){s.blockedOn=a,gc(s.priority,function(){pc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Di(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=ia(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var v=new c.constructor(c.type,c);io=v,c.target.dispatchEvent(v),io=null}else return a=ql(c),a!==null&&ra(a),s.blockedOn=c,!1;a.shift()}return!0}function po(s,a,c){Di(s)&&c.delete(a)}function _c(){xl=!1,wn!==null&&Di(wn)&&(wn=null),Lr!==null&&Di(Lr)&&(Lr=null),Fr!==null&&Di(Fr)&&(Fr=null),cs.forEach(po),_r.forEach(po)}function jr(s,a){s.blockedOn===a&&(s.blockedOn=null,xl||(xl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_c)))}function Br(s){function a(k){return jr(k,s)}if(0<ti.length){jr(ti[0],s);for(var c=1;c<ti.length;c++){var v=ti[c];v.blockedOn===s&&(v.blockedOn=null)}}for(wn!==null&&jr(wn,s),Lr!==null&&jr(Lr,s),Fr!==null&&jr(Fr,s),cs.forEach(a),_r.forEach(a),c=0;c<ni.length;c++)v=ni[c],v.blockedOn===s&&(v.blockedOn=null);for(;0<ni.length&&(c=ni[0],c.blockedOn===null);)vc(c),c.blockedOn===null&&ni.shift()}var ki=S.ReactCurrentBatchConfig,hs=!0;function Mt(s,a,c,v){var k=yt,j=ki.transition;ki.transition=null;try{yt=1,Sl(s,a,c,v)}finally{yt=k,ki.transition=j}}function Ef(s,a,c,v){var k=yt,j=ki.transition;ki.transition=null;try{yt=4,Sl(s,a,c,v)}finally{yt=k,ki.transition=j}}function Sl(s,a,c,v){if(hs){var k=ia(s,a,c,v);if(k===null)Pf(s,a,v,mo,c),yc(s,v);else if(wf(k,s,a,c,v))v.stopPropagation();else if(yc(s,v),a&4&&-1<_f.indexOf(s)){for(;k!==null;){var j=ql(k);if(j!==null&&fc(j),j=ia(s,a,c,v),j===null&&Pf(s,a,v,mo,c),j===k)break;k=j}k!==null&&v.stopPropagation()}else Pf(s,a,v,null,c)}}var mo=null;function ia(s,a,c,v){if(mo=null,s=Go(v),s=vo(s),s!==null)if(a=Nr(s),a===null)s=null;else if(c=a.tag,c===13){if(s=lo(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return mo=s,null}function Tl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lc()){case uo:return 1;case is:return 4;case vr:case Al:return 16;case uc:return 536870912;default:return 16}default:return 16}}var ar=null,sa=null,Jn=null;function Il(){if(Jn)return Jn;var s,a=sa,c=a.length,v,k="value"in ar?ar.value:ar.textContent,j=k.length;for(s=0;s<c&&a[s]===k[s];s++);var z=c-s;for(v=1;v<=z&&a[c-v]===k[j-v];v++);return Jn=k.slice(s,1<v?1-v:void 0)}function oa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ri(){return!0}function Dl(){return!1}function En(s){function a(c,v,k,j,z){this._reactName=c,this._targetInst=k,this.type=v,this.nativeEvent=j,this.target=z,this.currentTarget=null;for(var X in s)s.hasOwnProperty(X)&&(c=s[X],this[X]=c?c(j):j[X]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?ri:Dl,this.isPropagationStopped=Dl,this}return W(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),a}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=En(Mr),ii=W({},Mr,{view:0,detail:0}),Cf=En(ii),la,Ri,ds,go=W({},ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:si,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ds&&(ds&&s.type==="mousemove"?(la=s.screenX-ds.screenX,Ri=s.screenY-ds.screenY):Ri=la=0,ds=s),la)},movementY:function(s){return"movementY"in s?s.movementY:Ri}}),ua=En(go),kl=W({},go,{dataTransfer:0}),wc=En(kl),ca=W({},ii,{relatedTarget:0}),ha=En(ca),Ec=W({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Pi=En(Ec),Cc=W({},Mr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ac=En(Cc),bc=W({},Mr,{data:0}),Rl=En(bc),da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=xc[s])?!!a[s]:!1}function si(){return Sc}var p=W({},ii,{key:function(s){if(s.key){var a=da[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=oa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Mn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:si,charCode:function(s){return s.type==="keypress"?oa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?oa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),F=En(p),q=W({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K=En(q),ce=W({},ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:si}),me=En(ce),ke=W({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),St=En(ke),ln=W({},go,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),_t=En(ln),pn=[9,13,27,32],nn=u&&"CompositionEvent"in window,wr=null;u&&"documentMode"in document&&(wr=document.documentMode);var lr=u&&"TextEvent"in window&&!wr,yo=u&&(!nn||wr&&8<wr&&11>=wr),fa=" ",u0=!1;function c0(s,a){switch(s){case"keyup":return pn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var pa=!1;function JS(s,a){switch(s){case"compositionend":return h0(a);case"keypress":return a.which!==32?null:(u0=!0,fa);case"textInput":return s=a.data,s===fa&&u0?null:s;default:return null}}function QS(s,a){if(pa)return s==="compositionend"||!nn&&c0(s,a)?(s=Il(),Jn=sa=ar=null,pa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return yo&&a.locale!=="ko"?null:a.data;default:return null}}var YS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!YS[s.type]:a==="textarea"}function f0(s,a,c,v){ei(v),a=Rc(a,"onChange"),0<a.length&&(c=new aa("onChange","change",null,c,v),s.push({event:c,listeners:a}))}var Pl=null,Nl=null;function XS(s){R0(s,0)}function Tc(s){var a=_a(s);if(Ce(a))return s}function ZS(s,a){if(s==="change")return a}var p0=!1;if(u){var Af;if(u){var bf="oninput"in document;if(!bf){var m0=document.createElement("div");m0.setAttribute("oninput","return;"),bf=typeof m0.oninput=="function"}Af=bf}else Af=!1;p0=Af&&(!document.documentMode||9<document.documentMode)}function g0(){Pl&&(Pl.detachEvent("onpropertychange",y0),Nl=Pl=null)}function y0(s){if(s.propertyName==="value"&&Tc(Nl)){var a=[];f0(a,Nl,s,Go(s)),_l(XS,a)}}function eT(s,a,c){s==="focusin"?(g0(),Pl=a,Nl=c,Pl.attachEvent("onpropertychange",y0)):s==="focusout"&&g0()}function tT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Tc(Nl)}function nT(s,a){if(s==="click")return Tc(a)}function rT(s,a){if(s==="input"||s==="change")return Tc(a)}function iT(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var qr=typeof Object.is=="function"?Object.is:iT;function Ol(s,a){if(qr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),v=Object.keys(a);if(c.length!==v.length)return!1;for(v=0;v<c.length;v++){var k=c[v];if(!h.call(a,k)||!qr(s[k],a[k]))return!1}return!0}function v0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function _0(s,a){var c=v0(s);s=0;for(var v;c;){if(c.nodeType===3){if(v=s+c.textContent.length,s<=a&&v>=a)return{node:c,offset:a-s};s=v}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=v0(c)}}function w0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?w0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function E0(){for(var s=window,a=Re();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Re(s.document)}return a}function xf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function sT(s){var a=E0(),c=s.focusedElem,v=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&w0(c.ownerDocument.documentElement,c)){if(v!==null&&xf(c)){if(a=v.start,s=v.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var k=c.textContent.length,j=Math.min(v.start,k);v=v.end===void 0?j:Math.min(v.end,k),!s.extend&&j>v&&(k=v,v=j,j=k),k=_0(c,j);var z=_0(c,v);k&&z&&(s.rangeCount!==1||s.anchorNode!==k.node||s.anchorOffset!==k.offset||s.focusNode!==z.node||s.focusOffset!==z.offset)&&(a=a.createRange(),a.setStart(k.node,k.offset),s.removeAllRanges(),j>v?(s.addRange(a),s.extend(z.node,z.offset)):(a.setEnd(z.node,z.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var oT=u&&"documentMode"in document&&11>=document.documentMode,ma=null,Sf=null,Ll=null,Tf=!1;function C0(s,a,c){var v=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Tf||ma==null||ma!==Re(v)||(v=ma,"selectionStart"in v&&xf(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Ll&&Ol(Ll,v)||(Ll=v,v=Rc(Sf,"onSelect"),0<v.length&&(a=new aa("onSelect","select",null,a,c),s.push({event:a,listeners:v}),a.target=ma)))}function Ic(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var ga={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},If={},A0={};u&&(A0=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Dc(s){if(If[s])return If[s];if(!ga[s])return s;var a=ga[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in A0)return If[s]=a[c];return s}var b0=Dc("animationend"),x0=Dc("animationiteration"),S0=Dc("animationstart"),T0=Dc("transitionend"),I0=new Map,D0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(s,a){I0.set(s,a),o(a,[s])}for(var Df=0;Df<D0.length;Df++){var kf=D0[Df],aT=kf.toLowerCase(),lT=kf[0].toUpperCase()+kf.slice(1);fs(aT,"on"+lT)}fs(b0,"onAnimationEnd"),fs(x0,"onAnimationIteration"),fs(S0,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(T0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function k0(s,a,c){var v=s.type||"unknown-event";s.currentTarget=c,sc(v,a,void 0,s),s.currentTarget=null}function R0(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var v=s[c],k=v.event;v=v.listeners;e:{var j=void 0;if(a)for(var z=v.length-1;0<=z;z--){var X=v[z],se=X.instance,pe=X.currentTarget;if(X=X.listener,se!==j&&k.isPropagationStopped())break e;k0(k,X,pe),j=se}else for(z=0;z<v.length;z++){if(X=v[z],se=X.instance,pe=X.currentTarget,X=X.listener,se!==j&&k.isPropagationStopped())break e;k0(k,X,pe),j=se}}}if(Pr)throw s=wl,Pr=!1,wl=null,s}function Ot(s,a){var c=a[Bf];c===void 0&&(c=a[Bf]=new Set);var v=s+"__bubble";c.has(v)||(P0(a,s,2,!1),c.add(v))}function Rf(s,a,c){var v=0;a&&(v|=4),P0(c,s,v,a)}var kc="_reactListening"+Math.random().toString(36).slice(2);function jl(s){if(!s[kc]){s[kc]=!0,n.forEach(function(c){c!=="selectionchange"&&(uT.has(c)||Rf(c,!1,s),Rf(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[kc]||(a[kc]=!0,Rf("selectionchange",!1,a))}}function P0(s,a,c,v){switch(Tl(a)){case 1:var k=Mt;break;case 4:k=Ef;break;default:k=Sl}c=k.bind(null,a,c,s),k=void 0,!Qo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(k=!0),v?k!==void 0?s.addEventListener(a,c,{capture:!0,passive:k}):s.addEventListener(a,c,!0):k!==void 0?s.addEventListener(a,c,{passive:k}):s.addEventListener(a,c,!1)}function Pf(s,a,c,v,k){var j=v;if((a&1)===0&&(a&2)===0&&v!==null)e:for(;;){if(v===null)return;var z=v.tag;if(z===3||z===4){var X=v.stateNode.containerInfo;if(X===k||X.nodeType===8&&X.parentNode===k)break;if(z===4)for(z=v.return;z!==null;){var se=z.tag;if((se===3||se===4)&&(se=z.stateNode.containerInfo,se===k||se.nodeType===8&&se.parentNode===k))return;z=z.return}for(;X!==null;){if(z=vo(X),z===null)return;if(se=z.tag,se===5||se===6){v=j=z;continue e}X=X.parentNode}}v=v.return}_l(function(){var pe=j,be=Go(c),xe=[];e:{var Ae=I0.get(s);if(Ae!==void 0){var Oe=aa,Ue=s;switch(s){case"keypress":if(oa(c)===0)break e;case"keydown":case"keyup":Oe=F;break;case"focusin":Ue="focus",Oe=ha;break;case"focusout":Ue="blur",Oe=ha;break;case"beforeblur":case"afterblur":Oe=ha;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=me;break;case b0:case x0:case S0:Oe=Pi;break;case T0:Oe=St;break;case"scroll":Oe=Cf;break;case"wheel":Oe=_t;break;case"copy":case"cut":case"paste":Oe=Ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=K}var He=(a&4)!==0,Yt=!He&&s==="scroll",he=He?Ae!==null?Ae+"Capture":null:Ae;He=[];for(var oe=pe,de;oe!==null;){de=oe;var Ie=de.stateNode;if(de.tag===5&&Ie!==null&&(de=Ie,he!==null&&(Ie=Qt(oe,he),Ie!=null&&He.push(Bl(oe,Ie,de)))),Yt)break;oe=oe.return}0<He.length&&(Ae=new Oe(Ae,Ue,null,c,be),xe.push({event:Ae,listeners:He}))}}if((a&7)===0){e:{if(Ae=s==="mouseover"||s==="pointerover",Oe=s==="mouseout"||s==="pointerout",Ae&&c!==io&&(Ue=c.relatedTarget||c.fromElement)&&(vo(Ue)||Ue[Ni]))break e;if((Oe||Ae)&&(Ae=be.window===be?be:(Ae=be.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Oe?(Ue=c.relatedTarget||c.toElement,Oe=pe,Ue=Ue?vo(Ue):null,Ue!==null&&(Yt=Nr(Ue),Ue!==Yt||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Oe=null,Ue=pe),Oe!==Ue)){if(He=ua,Ie="onMouseLeave",he="onMouseEnter",oe="mouse",(s==="pointerout"||s==="pointerover")&&(He=K,Ie="onPointerLeave",he="onPointerEnter",oe="pointer"),Yt=Oe==null?Ae:_a(Oe),de=Ue==null?Ae:_a(Ue),Ae=new He(Ie,oe+"leave",Oe,c,be),Ae.target=Yt,Ae.relatedTarget=de,Ie=null,vo(be)===pe&&(He=new He(he,oe+"enter",Ue,c,be),He.target=de,He.relatedTarget=Yt,Ie=He),Yt=Ie,Oe&&Ue)t:{for(He=Oe,he=Ue,oe=0,de=He;de;de=ya(de))oe++;for(de=0,Ie=he;Ie;Ie=ya(Ie))de++;for(;0<oe-de;)He=ya(He),oe--;for(;0<de-oe;)he=ya(he),de--;for(;oe--;){if(He===he||he!==null&&He===he.alternate)break t;He=ya(He),he=ya(he)}He=null}else He=null;Oe!==null&&N0(xe,Ae,Oe,He,!1),Ue!==null&&Yt!==null&&N0(xe,Yt,Ue,He,!0)}}e:{if(Ae=pe?_a(pe):window,Oe=Ae.nodeName&&Ae.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&Ae.type==="file")var We=ZS;else if(d0(Ae))if(p0)We=rT;else{We=tT;var Qe=eT}else(Oe=Ae.nodeName)&&Oe.toLowerCase()==="input"&&(Ae.type==="checkbox"||Ae.type==="radio")&&(We=nT);if(We&&(We=We(s,pe))){f0(xe,We,c,be);break e}Qe&&Qe(s,Ae,pe),s==="focusout"&&(Qe=Ae._wrapperState)&&Qe.controlled&&Ae.type==="number"&&fe(Ae,"number",Ae.value)}switch(Qe=pe?_a(pe):window,s){case"focusin":(d0(Qe)||Qe.contentEditable==="true")&&(ma=Qe,Sf=pe,Ll=null);break;case"focusout":Ll=Sf=ma=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,C0(xe,c,be);break;case"selectionchange":if(oT)break;case"keydown":case"keyup":C0(xe,c,be)}var Ye;if(nn)e:{switch(s){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else pa?c0(s,c)&&(it="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(it="onCompositionStart");it&&(yo&&c.locale!=="ko"&&(pa||it!=="onCompositionStart"?it==="onCompositionEnd"&&pa&&(Ye=Il()):(ar=be,sa="value"in ar?ar.value:ar.textContent,pa=!0)),Qe=Rc(pe,it),0<Qe.length&&(it=new Rl(it,s,null,c,be),xe.push({event:it,listeners:Qe}),Ye?it.data=Ye:(Ye=h0(c),Ye!==null&&(it.data=Ye)))),(Ye=lr?JS(s,c):QS(s,c))&&(pe=Rc(pe,"onBeforeInput"),0<pe.length&&(be=new Rl("onBeforeInput","beforeinput",null,c,be),xe.push({event:be,listeners:pe}),be.data=Ye))}R0(xe,a)})}function Bl(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Rc(s,a){for(var c=a+"Capture",v=[];s!==null;){var k=s,j=k.stateNode;k.tag===5&&j!==null&&(k=j,j=Qt(s,c),j!=null&&v.unshift(Bl(s,j,k)),j=Qt(s,a),j!=null&&v.push(Bl(s,j,k))),s=s.return}return v}function ya(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function N0(s,a,c,v,k){for(var j=a._reactName,z=[];c!==null&&c!==v;){var X=c,se=X.alternate,pe=X.stateNode;if(se!==null&&se===v)break;X.tag===5&&pe!==null&&(X=pe,k?(se=Qt(c,j),se!=null&&z.unshift(Bl(c,se,X))):k||(se=Qt(c,j),se!=null&&z.push(Bl(c,se,X)))),c=c.return}z.length!==0&&s.push({event:a,listeners:z})}var cT=/\r\n?/g,hT=/\u0000|\uFFFD/g;function O0(s){return(typeof s=="string"?s:""+s).replace(cT,`
`).replace(hT,"")}function Pc(s,a,c){if(a=O0(a),O0(s)!==a&&c)throw Error(t(425))}function Nc(){}var Nf=null,Of=null;function Lf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,dT=typeof clearTimeout=="function"?clearTimeout:void 0,L0=typeof Promise=="function"?Promise:void 0,fT=typeof queueMicrotask=="function"?queueMicrotask:typeof L0<"u"?function(s){return L0.resolve(null).then(s).catch(pT)}:Ff;function pT(s){setTimeout(function(){throw s})}function jf(s,a){var c=a,v=0;do{var k=c.nextSibling;if(s.removeChild(c),k&&k.nodeType===8)if(c=k.data,c==="/$"){if(v===0){s.removeChild(k),Br(a);return}v--}else c!=="$"&&c!=="$?"&&c!=="$!"||v++;c=k}while(c);Br(a)}function ps(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function F0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var va=Math.random().toString(36).slice(2),oi="__reactFiber$"+va,Ml="__reactProps$"+va,Ni="__reactContainer$"+va,Bf="__reactEvents$"+va,mT="__reactListeners$"+va,gT="__reactHandles$"+va;function vo(s){var a=s[oi];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Ni]||c[oi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=F0(s);s!==null;){if(c=s[oi])return c;s=F0(s)}return a}s=c,c=s.parentNode}return null}function ql(s){return s=s[oi]||s[Ni],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function _a(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Oc(s){return s[Ml]||null}var Mf=[],wa=-1;function ms(s){return{current:s}}function Lt(s){0>wa||(s.current=Mf[wa],Mf[wa]=null,wa--)}function Pt(s,a){wa++,Mf[wa]=s.current,s.current=a}var gs={},Dn=ms(gs),Qn=ms(!1),_o=gs;function Ea(s,a){var c=s.type.contextTypes;if(!c)return gs;var v=s.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===a)return v.__reactInternalMemoizedMaskedChildContext;var k={},j;for(j in c)k[j]=a[j];return v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=k),k}function Yn(s){return s=s.childContextTypes,s!=null}function Lc(){Lt(Qn),Lt(Dn)}function j0(s,a,c){if(Dn.current!==gs)throw Error(t(168));Pt(Dn,a),Pt(Qn,c)}function B0(s,a,c){var v=s.stateNode;if(a=a.childContextTypes,typeof v.getChildContext!="function")return c;v=v.getChildContext();for(var k in v)if(!(k in a))throw Error(t(108,Y(s)||"Unknown",k));return W({},c,v)}function Fc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||gs,_o=Dn.current,Pt(Dn,s),Pt(Qn,Qn.current),!0}function M0(s,a,c){var v=s.stateNode;if(!v)throw Error(t(169));c?(s=B0(s,a,_o),v.__reactInternalMemoizedMergedChildContext=s,Lt(Qn),Lt(Dn),Pt(Dn,s)):Lt(Qn),Pt(Qn,c)}var Oi=null,jc=!1,qf=!1;function q0(s){Oi===null?Oi=[s]:Oi.push(s)}function yT(s){jc=!0,q0(s)}function ys(){if(!qf&&Oi!==null){qf=!0;var s=0,a=yt;try{var c=Oi;for(yt=1;s<c.length;s++){var v=c[s];do v=v(!0);while(v!==null)}Oi=null,jc=!1}catch(k){throw Oi!==null&&(Oi=Oi.slice(s+1)),ea(uo,ys),k}finally{yt=a,qf=!1}}return null}var Ca=[],Aa=0,Bc=null,Mc=0,Er=[],Cr=0,wo=null,Li=1,Fi="";function Eo(s,a){Ca[Aa++]=Mc,Ca[Aa++]=Bc,Bc=s,Mc=a}function V0(s,a,c){Er[Cr++]=Li,Er[Cr++]=Fi,Er[Cr++]=wo,wo=s;var v=Li;s=Fi;var k=32-Bn(v)-1;v&=~(1<<k),c+=1;var j=32-Bn(a)+k;if(30<j){var z=k-k%5;j=(v&(1<<z)-1).toString(32),v>>=z,k-=z,Li=1<<32-Bn(a)+k|c<<k|v,Fi=j+s}else Li=1<<j|c<<k|v,Fi=s}function Vf(s){s.return!==null&&(Eo(s,1),V0(s,1,0))}function Uf(s){for(;s===Bc;)Bc=Ca[--Aa],Ca[Aa]=null,Mc=Ca[--Aa],Ca[Aa]=null;for(;s===wo;)wo=Er[--Cr],Er[Cr]=null,Fi=Er[--Cr],Er[Cr]=null,Li=Er[--Cr],Er[Cr]=null}var ur=null,cr=null,qt=!1,Vr=null;function U0(s,a){var c=Sr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function z0(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,ur=s,cr=ps(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,ur=s,cr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=wo!==null?{id:Li,overflow:Fi}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Sr(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,ur=s,cr=null,!0):!1;default:return!1}}function zf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Hf(s){if(qt){var a=cr;if(a){var c=a;if(!z0(s,a)){if(zf(s))throw Error(t(418));a=ps(c.nextSibling);var v=ur;a&&z0(s,a)?U0(v,c):(s.flags=s.flags&-4097|2,qt=!1,ur=s)}}else{if(zf(s))throw Error(t(418));s.flags=s.flags&-4097|2,qt=!1,ur=s}}}function H0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;ur=s}function qc(s){if(s!==ur)return!1;if(!qt)return H0(s),qt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Lf(s.type,s.memoizedProps)),a&&(a=cr)){if(zf(s))throw W0(),Error(t(418));for(;a;)U0(s,a),a=ps(a.nextSibling)}if(H0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){cr=ps(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}cr=null}}else cr=ur?ps(s.stateNode.nextSibling):null;return!0}function W0(){for(var s=cr;s;)s=ps(s.nextSibling)}function ba(){cr=ur=null,qt=!1}function Wf(s){Vr===null?Vr=[s]:Vr.push(s)}var vT=S.ReactCurrentBatchConfig;function Vl(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var v=c.stateNode}if(!v)throw Error(t(147,s));var k=v,j=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j?a.ref:(a=function(z){var X=k.refs;z===null?delete X[j]:X[j]=z},a._stringRef=j,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Vc(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function $0(s){var a=s._init;return a(s._payload)}function G0(s){function a(he,oe){if(s){var de=he.deletions;de===null?(he.deletions=[oe],he.flags|=16):de.push(oe)}}function c(he,oe){if(!s)return null;for(;oe!==null;)a(he,oe),oe=oe.sibling;return null}function v(he,oe){for(he=new Map;oe!==null;)oe.key!==null?he.set(oe.key,oe):he.set(oe.index,oe),oe=oe.sibling;return he}function k(he,oe){return he=xs(he,oe),he.index=0,he.sibling=null,he}function j(he,oe,de){return he.index=de,s?(de=he.alternate,de!==null?(de=de.index,de<oe?(he.flags|=2,oe):de):(he.flags|=2,oe)):(he.flags|=1048576,oe)}function z(he){return s&&he.alternate===null&&(he.flags|=2),he}function X(he,oe,de,Ie){return oe===null||oe.tag!==6?(oe=Fp(de,he.mode,Ie),oe.return=he,oe):(oe=k(oe,de),oe.return=he,oe)}function se(he,oe,de,Ie){var We=de.type;return We===R?be(he,oe,de.props.children,Ie,de.key):oe!==null&&(oe.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===re&&$0(We)===oe.type)?(Ie=k(oe,de.props),Ie.ref=Vl(he,oe,de),Ie.return=he,Ie):(Ie=hh(de.type,de.key,de.props,null,he.mode,Ie),Ie.ref=Vl(he,oe,de),Ie.return=he,Ie)}function pe(he,oe,de,Ie){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==de.containerInfo||oe.stateNode.implementation!==de.implementation?(oe=jp(de,he.mode,Ie),oe.return=he,oe):(oe=k(oe,de.children||[]),oe.return=he,oe)}function be(he,oe,de,Ie,We){return oe===null||oe.tag!==7?(oe=Do(de,he.mode,Ie,We),oe.return=he,oe):(oe=k(oe,de),oe.return=he,oe)}function xe(he,oe,de){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Fp(""+oe,he.mode,de),oe.return=he,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case O:return de=hh(oe.type,oe.key,oe.props,null,he.mode,de),de.ref=Vl(he,null,oe),de.return=he,de;case M:return oe=jp(oe,he.mode,de),oe.return=he,oe;case re:var Ie=oe._init;return xe(he,Ie(oe._payload),de)}if(Ee(oe)||G(oe))return oe=Do(oe,he.mode,de,null),oe.return=he,oe;Vc(he,oe)}return null}function Ae(he,oe,de,Ie){var We=oe!==null?oe.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return We!==null?null:X(he,oe,""+de,Ie);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case O:return de.key===We?se(he,oe,de,Ie):null;case M:return de.key===We?pe(he,oe,de,Ie):null;case re:return We=de._init,Ae(he,oe,We(de._payload),Ie)}if(Ee(de)||G(de))return We!==null?null:be(he,oe,de,Ie,null);Vc(he,de)}return null}function Oe(he,oe,de,Ie,We){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return he=he.get(de)||null,X(oe,he,""+Ie,We);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case O:return he=he.get(Ie.key===null?de:Ie.key)||null,se(oe,he,Ie,We);case M:return he=he.get(Ie.key===null?de:Ie.key)||null,pe(oe,he,Ie,We);case re:var Qe=Ie._init;return Oe(he,oe,de,Qe(Ie._payload),We)}if(Ee(Ie)||G(Ie))return he=he.get(de)||null,be(oe,he,Ie,We,null);Vc(oe,Ie)}return null}function Ue(he,oe,de,Ie){for(var We=null,Qe=null,Ye=oe,it=oe=0,yn=null;Ye!==null&&it<de.length;it++){Ye.index>it?(yn=Ye,Ye=null):yn=Ye.sibling;var At=Ae(he,Ye,de[it],Ie);if(At===null){Ye===null&&(Ye=yn);break}s&&Ye&&At.alternate===null&&a(he,Ye),oe=j(At,oe,it),Qe===null?We=At:Qe.sibling=At,Qe=At,Ye=yn}if(it===de.length)return c(he,Ye),qt&&Eo(he,it),We;if(Ye===null){for(;it<de.length;it++)Ye=xe(he,de[it],Ie),Ye!==null&&(oe=j(Ye,oe,it),Qe===null?We=Ye:Qe.sibling=Ye,Qe=Ye);return qt&&Eo(he,it),We}for(Ye=v(he,Ye);it<de.length;it++)yn=Oe(Ye,he,it,de[it],Ie),yn!==null&&(s&&yn.alternate!==null&&Ye.delete(yn.key===null?it:yn.key),oe=j(yn,oe,it),Qe===null?We=yn:Qe.sibling=yn,Qe=yn);return s&&Ye.forEach(function(Ss){return a(he,Ss)}),qt&&Eo(he,it),We}function He(he,oe,de,Ie){var We=G(de);if(typeof We!="function")throw Error(t(150));if(de=We.call(de),de==null)throw Error(t(151));for(var Qe=We=null,Ye=oe,it=oe=0,yn=null,At=de.next();Ye!==null&&!At.done;it++,At=de.next()){Ye.index>it?(yn=Ye,Ye=null):yn=Ye.sibling;var Ss=Ae(he,Ye,At.value,Ie);if(Ss===null){Ye===null&&(Ye=yn);break}s&&Ye&&Ss.alternate===null&&a(he,Ye),oe=j(Ss,oe,it),Qe===null?We=Ss:Qe.sibling=Ss,Qe=Ss,Ye=yn}if(At.done)return c(he,Ye),qt&&Eo(he,it),We;if(Ye===null){for(;!At.done;it++,At=de.next())At=xe(he,At.value,Ie),At!==null&&(oe=j(At,oe,it),Qe===null?We=At:Qe.sibling=At,Qe=At);return qt&&Eo(he,it),We}for(Ye=v(he,Ye);!At.done;it++,At=de.next())At=Oe(Ye,he,it,At.value,Ie),At!==null&&(s&&At.alternate!==null&&Ye.delete(At.key===null?it:At.key),oe=j(At,oe,it),Qe===null?We=At:Qe.sibling=At,Qe=At);return s&&Ye.forEach(function(YT){return a(he,YT)}),qt&&Eo(he,it),We}function Yt(he,oe,de,Ie){if(typeof de=="object"&&de!==null&&de.type===R&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case O:e:{for(var We=de.key,Qe=oe;Qe!==null;){if(Qe.key===We){if(We=de.type,We===R){if(Qe.tag===7){c(he,Qe.sibling),oe=k(Qe,de.props.children),oe.return=he,he=oe;break e}}else if(Qe.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===re&&$0(We)===Qe.type){c(he,Qe.sibling),oe=k(Qe,de.props),oe.ref=Vl(he,Qe,de),oe.return=he,he=oe;break e}c(he,Qe);break}else a(he,Qe);Qe=Qe.sibling}de.type===R?(oe=Do(de.props.children,he.mode,Ie,de.key),oe.return=he,he=oe):(Ie=hh(de.type,de.key,de.props,null,he.mode,Ie),Ie.ref=Vl(he,oe,de),Ie.return=he,he=Ie)}return z(he);case M:e:{for(Qe=de.key;oe!==null;){if(oe.key===Qe)if(oe.tag===4&&oe.stateNode.containerInfo===de.containerInfo&&oe.stateNode.implementation===de.implementation){c(he,oe.sibling),oe=k(oe,de.children||[]),oe.return=he,he=oe;break e}else{c(he,oe);break}else a(he,oe);oe=oe.sibling}oe=jp(de,he.mode,Ie),oe.return=he,he=oe}return z(he);case re:return Qe=de._init,Yt(he,oe,Qe(de._payload),Ie)}if(Ee(de))return Ue(he,oe,de,Ie);if(G(de))return He(he,oe,de,Ie);Vc(he,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,oe!==null&&oe.tag===6?(c(he,oe.sibling),oe=k(oe,de),oe.return=he,he=oe):(c(he,oe),oe=Fp(de,he.mode,Ie),oe.return=he,he=oe),z(he)):c(he,oe)}return Yt}var xa=G0(!0),K0=G0(!1),Uc=ms(null),zc=null,Sa=null,$f=null;function Gf(){$f=Sa=zc=null}function Kf(s){var a=Uc.current;Lt(Uc),s._currentValue=a}function Jf(s,a,c){for(;s!==null;){var v=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,v!==null&&(v.childLanes|=a)):v!==null&&(v.childLanes&a)!==a&&(v.childLanes|=a),s===c)break;s=s.return}}function Ta(s,a){zc=s,$f=Sa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Xn=!0),s.firstContext=null)}function Ar(s){var a=s._currentValue;if($f!==s)if(s={context:s,memoizedValue:a,next:null},Sa===null){if(zc===null)throw Error(t(308));Sa=s,zc.dependencies={lanes:0,firstContext:s}}else Sa=Sa.next=s;return a}var Co=null;function Qf(s){Co===null?Co=[s]:Co.push(s)}function J0(s,a,c,v){var k=a.interleaved;return k===null?(c.next=c,Qf(a)):(c.next=k.next,k.next=c),a.interleaved=c,ji(s,v)}function ji(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var vs=!1;function Yf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Bi(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function _s(s,a,c){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(Ct&2)!==0){var k=v.pending;return k===null?a.next=a:(a.next=k.next,k.next=a),v.pending=a,ji(s,c)}return k=v.interleaved,k===null?(a.next=a,Qf(v)):(a.next=k.next,k.next=a),v.interleaved=a,ji(s,c)}function Hc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var v=a.lanes;v&=s.pendingLanes,c|=v,a.lanes=c,ls(s,c)}}function Y0(s,a){var c=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,c===v)){var k=null,j=null;if(c=c.firstBaseUpdate,c!==null){do{var z={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};j===null?k=j=z:j=j.next=z,c=c.next}while(c!==null);j===null?k=j=a:j=j.next=a}else k=j=a;c={baseState:v.baseState,firstBaseUpdate:k,lastBaseUpdate:j,shared:v.shared,effects:v.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Wc(s,a,c,v){var k=s.updateQueue;vs=!1;var j=k.firstBaseUpdate,z=k.lastBaseUpdate,X=k.shared.pending;if(X!==null){k.shared.pending=null;var se=X,pe=se.next;se.next=null,z===null?j=pe:z.next=pe,z=se;var be=s.alternate;be!==null&&(be=be.updateQueue,X=be.lastBaseUpdate,X!==z&&(X===null?be.firstBaseUpdate=pe:X.next=pe,be.lastBaseUpdate=se))}if(j!==null){var xe=k.baseState;z=0,be=pe=se=null,X=j;do{var Ae=X.lane,Oe=X.eventTime;if((v&Ae)===Ae){be!==null&&(be=be.next={eventTime:Oe,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Ue=s,He=X;switch(Ae=a,Oe=c,He.tag){case 1:if(Ue=He.payload,typeof Ue=="function"){xe=Ue.call(Oe,xe,Ae);break e}xe=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=He.payload,Ae=typeof Ue=="function"?Ue.call(Oe,xe,Ae):Ue,Ae==null)break e;xe=W({},xe,Ae);break e;case 2:vs=!0}}X.callback!==null&&X.lane!==0&&(s.flags|=64,Ae=k.effects,Ae===null?k.effects=[X]:Ae.push(X))}else Oe={eventTime:Oe,lane:Ae,tag:X.tag,payload:X.payload,callback:X.callback,next:null},be===null?(pe=be=Oe,se=xe):be=be.next=Oe,z|=Ae;if(X=X.next,X===null){if(X=k.shared.pending,X===null)break;Ae=X,X=Ae.next,Ae.next=null,k.lastBaseUpdate=Ae,k.shared.pending=null}}while(!0);if(be===null&&(se=xe),k.baseState=se,k.firstBaseUpdate=pe,k.lastBaseUpdate=be,a=k.shared.interleaved,a!==null){k=a;do z|=k.lane,k=k.next;while(k!==a)}else j===null&&(k.shared.lanes=0);xo|=z,s.lanes=z,s.memoizedState=xe}}function X0(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var v=s[a],k=v.callback;if(k!==null){if(v.callback=null,v=c,typeof k!="function")throw Error(t(191,k));k.call(v)}}}var Ul={},ai=ms(Ul),zl=ms(Ul),Hl=ms(Ul);function Ao(s){if(s===Ul)throw Error(t(174));return s}function Xf(s,a){switch(Pt(Hl,a),Pt(zl,s),Pt(ai,Ul),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:rt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=rt(a,s)}Lt(ai),Pt(ai,a)}function Ia(){Lt(ai),Lt(zl),Lt(Hl)}function Z0(s){Ao(Hl.current);var a=Ao(ai.current),c=rt(a,s.type);a!==c&&(Pt(zl,s),Pt(ai,c))}function Zf(s){zl.current===s&&(Lt(ai),Lt(zl))}var Ut=ms(0);function $c(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ep=[];function tp(){for(var s=0;s<ep.length;s++)ep[s]._workInProgressVersionPrimary=null;ep.length=0}var Gc=S.ReactCurrentDispatcher,np=S.ReactCurrentBatchConfig,bo=0,zt=null,un=null,mn=null,Kc=!1,Wl=!1,$l=0,_T=0;function kn(){throw Error(t(321))}function rp(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!qr(s[c],a[c]))return!1;return!0}function ip(s,a,c,v,k,j){if(bo=j,zt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Gc.current=s===null||s.memoizedState===null?AT:bT,s=c(v,k),Wl){j=0;do{if(Wl=!1,$l=0,25<=j)throw Error(t(301));j+=1,mn=un=null,a.updateQueue=null,Gc.current=xT,s=c(v,k)}while(Wl)}if(Gc.current=Yc,a=un!==null&&un.next!==null,bo=0,mn=un=zt=null,Kc=!1,a)throw Error(t(300));return s}function sp(){var s=$l!==0;return $l=0,s}function li(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?zt.memoizedState=mn=s:mn=mn.next=s,mn}function br(){if(un===null){var s=zt.alternate;s=s!==null?s.memoizedState:null}else s=un.next;var a=mn===null?zt.memoizedState:mn.next;if(a!==null)mn=a,un=s;else{if(s===null)throw Error(t(310));un=s,s={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},mn===null?zt.memoizedState=mn=s:mn=mn.next=s}return mn}function Gl(s,a){return typeof a=="function"?a(s):a}function op(s){var a=br(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var v=un,k=v.baseQueue,j=c.pending;if(j!==null){if(k!==null){var z=k.next;k.next=j.next,j.next=z}v.baseQueue=k=j,c.pending=null}if(k!==null){j=k.next,v=v.baseState;var X=z=null,se=null,pe=j;do{var be=pe.lane;if((bo&be)===be)se!==null&&(se=se.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),v=pe.hasEagerState?pe.eagerState:s(v,pe.action);else{var xe={lane:be,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};se===null?(X=se=xe,z=v):se=se.next=xe,zt.lanes|=be,xo|=be}pe=pe.next}while(pe!==null&&pe!==j);se===null?z=v:se.next=X,qr(v,a.memoizedState)||(Xn=!0),a.memoizedState=v,a.baseState=z,a.baseQueue=se,c.lastRenderedState=v}if(s=c.interleaved,s!==null){k=s;do j=k.lane,zt.lanes|=j,xo|=j,k=k.next;while(k!==s)}else k===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function ap(s){var a=br(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var v=c.dispatch,k=c.pending,j=a.memoizedState;if(k!==null){c.pending=null;var z=k=k.next;do j=s(j,z.action),z=z.next;while(z!==k);qr(j,a.memoizedState)||(Xn=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),c.lastRenderedState=j}return[j,v]}function e2(){}function t2(s,a){var c=zt,v=br(),k=a(),j=!qr(v.memoizedState,k);if(j&&(v.memoizedState=k,Xn=!0),v=v.queue,lp(i2.bind(null,c,v,s),[s]),v.getSnapshot!==a||j||mn!==null&&mn.memoizedState.tag&1){if(c.flags|=2048,Kl(9,r2.bind(null,c,v,k,a),void 0,null),gn===null)throw Error(t(349));(bo&30)!==0||n2(c,a,k)}return k}function n2(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=zt.updateQueue,a===null?(a={lastEffect:null,stores:null},zt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function r2(s,a,c,v){a.value=c,a.getSnapshot=v,s2(a)&&o2(s)}function i2(s,a,c){return c(function(){s2(a)&&o2(s)})}function s2(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!qr(s,c)}catch{return!0}}function o2(s){var a=ji(s,1);a!==null&&Wr(a,s,1,-1)}function a2(s){var a=li();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:s},a.queue=s,s=s.dispatch=CT.bind(null,zt,s),[a.memoizedState,s]}function Kl(s,a,c,v){return s={tag:s,create:a,destroy:c,deps:v,next:null},a=zt.updateQueue,a===null?(a={lastEffect:null,stores:null},zt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(v=c.next,c.next=s,s.next=v,a.lastEffect=s)),s}function l2(){return br().memoizedState}function Jc(s,a,c,v){var k=li();zt.flags|=s,k.memoizedState=Kl(1|a,c,void 0,v===void 0?null:v)}function Qc(s,a,c,v){var k=br();v=v===void 0?null:v;var j=void 0;if(un!==null){var z=un.memoizedState;if(j=z.destroy,v!==null&&rp(v,z.deps)){k.memoizedState=Kl(a,c,j,v);return}}zt.flags|=s,k.memoizedState=Kl(1|a,c,j,v)}function u2(s,a){return Jc(8390656,8,s,a)}function lp(s,a){return Qc(2048,8,s,a)}function c2(s,a){return Qc(4,2,s,a)}function h2(s,a){return Qc(4,4,s,a)}function d2(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function f2(s,a,c){return c=c!=null?c.concat([s]):null,Qc(4,4,d2.bind(null,a,s),c)}function up(){}function p2(s,a){var c=br();a=a===void 0?null:a;var v=c.memoizedState;return v!==null&&a!==null&&rp(a,v[1])?v[0]:(c.memoizedState=[s,a],s)}function m2(s,a){var c=br();a=a===void 0?null:a;var v=c.memoizedState;return v!==null&&a!==null&&rp(a,v[1])?v[0]:(s=s(),c.memoizedState=[s,a],s)}function g2(s,a,c){return(bo&21)===0?(s.baseState&&(s.baseState=!1,Xn=!0),s.memoizedState=c):(qr(c,a)||(c=fo(),zt.lanes|=c,xo|=c,s.baseState=!0),a)}function wT(s,a){var c=yt;yt=c!==0&&4>c?c:4,s(!0);var v=np.transition;np.transition={};try{s(!1),a()}finally{yt=c,np.transition=v}}function y2(){return br().memoizedState}function ET(s,a,c){var v=As(s);if(c={lane:v,action:c,hasEagerState:!1,eagerState:null,next:null},v2(s))_2(a,c);else if(c=J0(s,a,c,v),c!==null){var k=Vn();Wr(c,s,v,k),w2(c,a,v)}}function CT(s,a,c){var v=As(s),k={lane:v,action:c,hasEagerState:!1,eagerState:null,next:null};if(v2(s))_2(a,k);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var z=a.lastRenderedState,X=j(z,c);if(k.hasEagerState=!0,k.eagerState=X,qr(X,z)){var se=a.interleaved;se===null?(k.next=k,Qf(a)):(k.next=se.next,se.next=k),a.interleaved=k;return}}catch{}finally{}c=J0(s,a,k,v),c!==null&&(k=Vn(),Wr(c,s,v,k),w2(c,a,v))}}function v2(s){var a=s.alternate;return s===zt||a!==null&&a===zt}function _2(s,a){Wl=Kc=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function w2(s,a,c){if((c&4194240)!==0){var v=a.lanes;v&=s.pendingLanes,c|=v,a.lanes=c,ls(s,c)}}var Yc={readContext:Ar,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},AT={readContext:Ar,useCallback:function(s,a){return li().memoizedState=[s,a===void 0?null:a],s},useContext:Ar,useEffect:u2,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Jc(4194308,4,d2.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Jc(4194308,4,s,a)},useInsertionEffect:function(s,a){return Jc(4,2,s,a)},useMemo:function(s,a){var c=li();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var v=li();return a=c!==void 0?c(a):a,v.memoizedState=v.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},v.queue=s,s=s.dispatch=ET.bind(null,zt,s),[v.memoizedState,s]},useRef:function(s){var a=li();return s={current:s},a.memoizedState=s},useState:a2,useDebugValue:up,useDeferredValue:function(s){return li().memoizedState=s},useTransition:function(){var s=a2(!1),a=s[0];return s=wT.bind(null,s[1]),li().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var v=zt,k=li();if(qt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),gn===null)throw Error(t(349));(bo&30)!==0||n2(v,a,c)}k.memoizedState=c;var j={value:c,getSnapshot:a};return k.queue=j,u2(i2.bind(null,v,j,s),[s]),v.flags|=2048,Kl(9,r2.bind(null,v,j,c,a),void 0,null),c},useId:function(){var s=li(),a=gn.identifierPrefix;if(qt){var c=Fi,v=Li;c=(v&~(1<<32-Bn(v)-1)).toString(32)+c,a=":"+a+"R"+c,c=$l++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=_T++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},bT={readContext:Ar,useCallback:p2,useContext:Ar,useEffect:lp,useImperativeHandle:f2,useInsertionEffect:c2,useLayoutEffect:h2,useMemo:m2,useReducer:op,useRef:l2,useState:function(){return op(Gl)},useDebugValue:up,useDeferredValue:function(s){var a=br();return g2(a,un.memoizedState,s)},useTransition:function(){var s=op(Gl)[0],a=br().memoizedState;return[s,a]},useMutableSource:e2,useSyncExternalStore:t2,useId:y2,unstable_isNewReconciler:!1},xT={readContext:Ar,useCallback:p2,useContext:Ar,useEffect:lp,useImperativeHandle:f2,useInsertionEffect:c2,useLayoutEffect:h2,useMemo:m2,useReducer:ap,useRef:l2,useState:function(){return ap(Gl)},useDebugValue:up,useDeferredValue:function(s){var a=br();return un===null?a.memoizedState=s:g2(a,un.memoizedState,s)},useTransition:function(){var s=ap(Gl)[0],a=br().memoizedState;return[s,a]},useMutableSource:e2,useSyncExternalStore:t2,useId:y2,unstable_isNewReconciler:!1};function Ur(s,a){if(s&&s.defaultProps){a=W({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function cp(s,a,c,v){a=s.memoizedState,c=c(v,a),c=c==null?a:W({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Xc={isMounted:function(s){return(s=s._reactInternals)?Nr(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var v=Vn(),k=As(s),j=Bi(v,k);j.payload=a,c!=null&&(j.callback=c),a=_s(s,j,k),a!==null&&(Wr(a,s,k,v),Hc(a,s,k))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var v=Vn(),k=As(s),j=Bi(v,k);j.tag=1,j.payload=a,c!=null&&(j.callback=c),a=_s(s,j,k),a!==null&&(Wr(a,s,k,v),Hc(a,s,k))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Vn(),v=As(s),k=Bi(c,v);k.tag=2,a!=null&&(k.callback=a),a=_s(s,k,v),a!==null&&(Wr(a,s,v,c),Hc(a,s,v))}};function E2(s,a,c,v,k,j,z){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,j,z):a.prototype&&a.prototype.isPureReactComponent?!Ol(c,v)||!Ol(k,j):!0}function C2(s,a,c){var v=!1,k=gs,j=a.contextType;return typeof j=="object"&&j!==null?j=Ar(j):(k=Yn(a)?_o:Dn.current,v=a.contextTypes,j=(v=v!=null)?Ea(s,k):gs),a=new a(c,j),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Xc,s.stateNode=a,a._reactInternals=s,v&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=k,s.__reactInternalMemoizedMaskedChildContext=j),a}function A2(s,a,c,v){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,v),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,v),a.state!==s&&Xc.enqueueReplaceState(a,a.state,null)}function hp(s,a,c,v){var k=s.stateNode;k.props=c,k.state=s.memoizedState,k.refs={},Yf(s);var j=a.contextType;typeof j=="object"&&j!==null?k.context=Ar(j):(j=Yn(a)?_o:Dn.current,k.context=Ea(s,j)),k.state=s.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&(cp(s,a,j,c),k.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(a=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),a!==k.state&&Xc.enqueueReplaceState(k,k.state,null),Wc(s,c,k,v),k.state=s.memoizedState),typeof k.componentDidMount=="function"&&(s.flags|=4194308)}function Da(s,a){try{var c="",v=a;do c+=ee(v),v=v.return;while(v);var k=c}catch(j){k=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:a,stack:k,digest:null}}function dp(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function fp(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var ST=typeof WeakMap=="function"?WeakMap:Map;function b2(s,a,c){c=Bi(-1,c),c.tag=3,c.payload={element:null};var v=a.value;return c.callback=function(){sh||(sh=!0,Ip=v),fp(s,a)},c}function x2(s,a,c){c=Bi(-1,c),c.tag=3;var v=s.type.getDerivedStateFromError;if(typeof v=="function"){var k=a.value;c.payload=function(){return v(k)},c.callback=function(){fp(s,a)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(c.callback=function(){fp(s,a),typeof v!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var z=a.stack;this.componentDidCatch(a.value,{componentStack:z!==null?z:""})}),c}function S2(s,a,c){var v=s.pingCache;if(v===null){v=s.pingCache=new ST;var k=new Set;v.set(a,k)}else k=v.get(a),k===void 0&&(k=new Set,v.set(a,k));k.has(c)||(k.add(c),s=qT.bind(null,s,a,c),a.then(s,s))}function T2(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function I2(s,a,c,v,k){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Bi(-1,1),a.tag=2,_s(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=k,s)}var TT=S.ReactCurrentOwner,Xn=!1;function qn(s,a,c,v){a.child=s===null?K0(a,null,c,v):xa(a,s.child,c,v)}function D2(s,a,c,v,k){c=c.render;var j=a.ref;return Ta(a,k),v=ip(s,a,c,v,j,k),c=sp(),s!==null&&!Xn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~k,Mi(s,a,k)):(qt&&c&&Vf(a),a.flags|=1,qn(s,a,v,k),a.child)}function k2(s,a,c,v,k){if(s===null){var j=c.type;return typeof j=="function"&&!Lp(j)&&j.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=j,R2(s,a,j,v,k)):(s=hh(c.type,null,v,a,a.mode,k),s.ref=a.ref,s.return=a,a.child=s)}if(j=s.child,(s.lanes&k)===0){var z=j.memoizedProps;if(c=c.compare,c=c!==null?c:Ol,c(z,v)&&s.ref===a.ref)return Mi(s,a,k)}return a.flags|=1,s=xs(j,v),s.ref=a.ref,s.return=a,a.child=s}function R2(s,a,c,v,k){if(s!==null){var j=s.memoizedProps;if(Ol(j,v)&&s.ref===a.ref)if(Xn=!1,a.pendingProps=v=j,(s.lanes&k)!==0)(s.flags&131072)!==0&&(Xn=!0);else return a.lanes=s.lanes,Mi(s,a,k)}return pp(s,a,c,v,k)}function P2(s,a,c){var v=a.pendingProps,k=v.children,j=s!==null?s.memoizedState:null;if(v.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Ra,hr),hr|=c;else{if((c&1073741824)===0)return s=j!==null?j.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Pt(Ra,hr),hr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=j!==null?j.baseLanes:c,Pt(Ra,hr),hr|=v}else j!==null?(v=j.baseLanes|c,a.memoizedState=null):v=c,Pt(Ra,hr),hr|=v;return qn(s,a,k,c),a.child}function N2(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function pp(s,a,c,v,k){var j=Yn(c)?_o:Dn.current;return j=Ea(a,j),Ta(a,k),c=ip(s,a,c,v,j,k),v=sp(),s!==null&&!Xn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~k,Mi(s,a,k)):(qt&&v&&Vf(a),a.flags|=1,qn(s,a,c,k),a.child)}function O2(s,a,c,v,k){if(Yn(c)){var j=!0;Fc(a)}else j=!1;if(Ta(a,k),a.stateNode===null)eh(s,a),C2(a,c,v),hp(a,c,v,k),v=!0;else if(s===null){var z=a.stateNode,X=a.memoizedProps;z.props=X;var se=z.context,pe=c.contextType;typeof pe=="object"&&pe!==null?pe=Ar(pe):(pe=Yn(c)?_o:Dn.current,pe=Ea(a,pe));var be=c.getDerivedStateFromProps,xe=typeof be=="function"||typeof z.getSnapshotBeforeUpdate=="function";xe||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(X!==v||se!==pe)&&A2(a,z,v,pe),vs=!1;var Ae=a.memoizedState;z.state=Ae,Wc(a,v,z,k),se=a.memoizedState,X!==v||Ae!==se||Qn.current||vs?(typeof be=="function"&&(cp(a,c,be,v),se=a.memoizedState),(X=vs||E2(a,c,X,v,Ae,se,pe))?(xe||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(a.flags|=4194308)):(typeof z.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=v,a.memoizedState=se),z.props=v,z.state=se,z.context=pe,v=X):(typeof z.componentDidMount=="function"&&(a.flags|=4194308),v=!1)}else{z=a.stateNode,Q0(s,a),X=a.memoizedProps,pe=a.type===a.elementType?X:Ur(a.type,X),z.props=pe,xe=a.pendingProps,Ae=z.context,se=c.contextType,typeof se=="object"&&se!==null?se=Ar(se):(se=Yn(c)?_o:Dn.current,se=Ea(a,se));var Oe=c.getDerivedStateFromProps;(be=typeof Oe=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(X!==xe||Ae!==se)&&A2(a,z,v,se),vs=!1,Ae=a.memoizedState,z.state=Ae,Wc(a,v,z,k);var Ue=a.memoizedState;X!==xe||Ae!==Ue||Qn.current||vs?(typeof Oe=="function"&&(cp(a,c,Oe,v),Ue=a.memoizedState),(pe=vs||E2(a,c,pe,v,Ae,Ue,se)||!1)?(be||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(v,Ue,se),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(v,Ue,se)),typeof z.componentDidUpdate=="function"&&(a.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof z.componentDidUpdate!="function"||X===s.memoizedProps&&Ae===s.memoizedState||(a.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||X===s.memoizedProps&&Ae===s.memoizedState||(a.flags|=1024),a.memoizedProps=v,a.memoizedState=Ue),z.props=v,z.state=Ue,z.context=se,v=pe):(typeof z.componentDidUpdate!="function"||X===s.memoizedProps&&Ae===s.memoizedState||(a.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||X===s.memoizedProps&&Ae===s.memoizedState||(a.flags|=1024),v=!1)}return mp(s,a,c,v,j,k)}function mp(s,a,c,v,k,j){N2(s,a);var z=(a.flags&128)!==0;if(!v&&!z)return k&&M0(a,c,!1),Mi(s,a,j);v=a.stateNode,TT.current=a;var X=z&&typeof c.getDerivedStateFromError!="function"?null:v.render();return a.flags|=1,s!==null&&z?(a.child=xa(a,s.child,null,j),a.child=xa(a,null,X,j)):qn(s,a,X,j),a.memoizedState=v.state,k&&M0(a,c,!0),a.child}function L2(s){var a=s.stateNode;a.pendingContext?j0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&j0(s,a.context,!1),Xf(s,a.containerInfo)}function F2(s,a,c,v,k){return ba(),Wf(k),a.flags|=256,qn(s,a,c,v),a.child}var gp={dehydrated:null,treeContext:null,retryLane:0};function yp(s){return{baseLanes:s,cachePool:null,transitions:null}}function j2(s,a,c){var v=a.pendingProps,k=Ut.current,j=!1,z=(a.flags&128)!==0,X;if((X=z)||(X=s!==null&&s.memoizedState===null?!1:(k&2)!==0),X?(j=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(k|=1),Pt(Ut,k&1),s===null)return Hf(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(z=v.children,s=v.fallback,j?(v=a.mode,j=a.child,z={mode:"hidden",children:z},(v&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=z):j=dh(z,v,0,null),s=Do(s,v,c,null),j.return=a,s.return=a,j.sibling=s,a.child=j,a.child.memoizedState=yp(c),a.memoizedState=gp,s):vp(a,z));if(k=s.memoizedState,k!==null&&(X=k.dehydrated,X!==null))return IT(s,a,z,v,X,k,c);if(j){j=v.fallback,z=a.mode,k=s.child,X=k.sibling;var se={mode:"hidden",children:v.children};return(z&1)===0&&a.child!==k?(v=a.child,v.childLanes=0,v.pendingProps=se,a.deletions=null):(v=xs(k,se),v.subtreeFlags=k.subtreeFlags&14680064),X!==null?j=xs(X,j):(j=Do(j,z,c,null),j.flags|=2),j.return=a,v.return=a,v.sibling=j,a.child=v,v=j,j=a.child,z=s.child.memoizedState,z=z===null?yp(c):{baseLanes:z.baseLanes|c,cachePool:null,transitions:z.transitions},j.memoizedState=z,j.childLanes=s.childLanes&~c,a.memoizedState=gp,v}return j=s.child,s=j.sibling,v=xs(j,{mode:"visible",children:v.children}),(a.mode&1)===0&&(v.lanes=c),v.return=a,v.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=v,a.memoizedState=null,v}function vp(s,a){return a=dh({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Zc(s,a,c,v){return v!==null&&Wf(v),xa(a,s.child,null,c),s=vp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function IT(s,a,c,v,k,j,z){if(c)return a.flags&256?(a.flags&=-257,v=dp(Error(t(422))),Zc(s,a,z,v)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(j=v.fallback,k=a.mode,v=dh({mode:"visible",children:v.children},k,0,null),j=Do(j,k,z,null),j.flags|=2,v.return=a,j.return=a,v.sibling=j,a.child=v,(a.mode&1)!==0&&xa(a,s.child,null,z),a.child.memoizedState=yp(z),a.memoizedState=gp,j);if((a.mode&1)===0)return Zc(s,a,z,null);if(k.data==="$!"){if(v=k.nextSibling&&k.nextSibling.dataset,v)var X=v.dgst;return v=X,j=Error(t(419)),v=dp(j,v,void 0),Zc(s,a,z,v)}if(X=(z&s.childLanes)!==0,Xn||X){if(v=gn,v!==null){switch(z&-z){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(v.suspendedLanes|z))!==0?0:k,k!==0&&k!==j.retryLane&&(j.retryLane=k,ji(s,k),Wr(v,s,k,-1))}return Op(),v=dp(Error(t(421))),Zc(s,a,z,v)}return k.data==="$?"?(a.flags|=128,a.child=s.child,a=VT.bind(null,s),k._reactRetry=a,null):(s=j.treeContext,cr=ps(k.nextSibling),ur=a,qt=!0,Vr=null,s!==null&&(Er[Cr++]=Li,Er[Cr++]=Fi,Er[Cr++]=wo,Li=s.id,Fi=s.overflow,wo=a),a=vp(a,v.children),a.flags|=4096,a)}function B2(s,a,c){s.lanes|=a;var v=s.alternate;v!==null&&(v.lanes|=a),Jf(s.return,a,c)}function _p(s,a,c,v,k){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:v,tail:c,tailMode:k}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=v,j.tail=c,j.tailMode=k)}function M2(s,a,c){var v=a.pendingProps,k=v.revealOrder,j=v.tail;if(qn(s,a,v.children,c),v=Ut.current,(v&2)!==0)v=v&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&B2(s,c,a);else if(s.tag===19)B2(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}v&=1}if(Pt(Ut,v),(a.mode&1)===0)a.memoizedState=null;else switch(k){case"forwards":for(c=a.child,k=null;c!==null;)s=c.alternate,s!==null&&$c(s)===null&&(k=c),c=c.sibling;c=k,c===null?(k=a.child,a.child=null):(k=c.sibling,c.sibling=null),_p(a,!1,k,c,j);break;case"backwards":for(c=null,k=a.child,a.child=null;k!==null;){if(s=k.alternate,s!==null&&$c(s)===null){a.child=k;break}s=k.sibling,k.sibling=c,c=k,k=s}_p(a,!0,c,null,j);break;case"together":_p(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function eh(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Mi(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),xo|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=xs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=xs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function DT(s,a,c){switch(a.tag){case 3:L2(a),ba();break;case 5:Z0(a);break;case 1:Yn(a.type)&&Fc(a);break;case 4:Xf(a,a.stateNode.containerInfo);break;case 10:var v=a.type._context,k=a.memoizedProps.value;Pt(Uc,v._currentValue),v._currentValue=k;break;case 13:if(v=a.memoizedState,v!==null)return v.dehydrated!==null?(Pt(Ut,Ut.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?j2(s,a,c):(Pt(Ut,Ut.current&1),s=Mi(s,a,c),s!==null?s.sibling:null);Pt(Ut,Ut.current&1);break;case 19:if(v=(c&a.childLanes)!==0,(s.flags&128)!==0){if(v)return M2(s,a,c);a.flags|=128}if(k=a.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),Pt(Ut,Ut.current),v)break;return null;case 22:case 23:return a.lanes=0,P2(s,a,c)}return Mi(s,a,c)}var q2,wp,V2,U2;q2=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},wp=function(){},V2=function(s,a,c,v){var k=s.memoizedProps;if(k!==v){s=a.stateNode,Ao(ai.current);var j=null;switch(c){case"input":k=Pe(s,k),v=Pe(s,v),j=[];break;case"select":k=W({},k,{value:void 0}),v=W({},v,{value:void 0}),j=[];break;case"textarea":k=ye(s,k),v=ye(s,v),j=[];break;default:typeof k.onClick!="function"&&typeof v.onClick=="function"&&(s.onclick=Nc)}ml(c,v);var z;c=null;for(pe in k)if(!v.hasOwnProperty(pe)&&k.hasOwnProperty(pe)&&k[pe]!=null)if(pe==="style"){var X=k[pe];for(z in X)X.hasOwnProperty(z)&&(c||(c={}),c[z]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(i.hasOwnProperty(pe)?j||(j=[]):(j=j||[]).push(pe,null));for(pe in v){var se=v[pe];if(X=k!=null?k[pe]:void 0,v.hasOwnProperty(pe)&&se!==X&&(se!=null||X!=null))if(pe==="style")if(X){for(z in X)!X.hasOwnProperty(z)||se&&se.hasOwnProperty(z)||(c||(c={}),c[z]="");for(z in se)se.hasOwnProperty(z)&&X[z]!==se[z]&&(c||(c={}),c[z]=se[z])}else c||(j||(j=[]),j.push(pe,c)),c=se;else pe==="dangerouslySetInnerHTML"?(se=se?se.__html:void 0,X=X?X.__html:void 0,se!=null&&X!==se&&(j=j||[]).push(pe,se)):pe==="children"?typeof se!="string"&&typeof se!="number"||(j=j||[]).push(pe,""+se):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(pe)?(se!=null&&pe==="onScroll"&&Ot("scroll",s),j||X===se||(j=[])):(j=j||[]).push(pe,se))}c&&(j=j||[]).push("style",c);var pe=j;(a.updateQueue=pe)&&(a.flags|=4)}},U2=function(s,a,c,v){c!==v&&(a.flags|=4)};function Jl(s,a){if(!qt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var v=null;c!==null;)c.alternate!==null&&(v=c),c=c.sibling;v===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Rn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,v=0;if(a)for(var k=s.child;k!==null;)c|=k.lanes|k.childLanes,v|=k.subtreeFlags&14680064,v|=k.flags&14680064,k.return=s,k=k.sibling;else for(k=s.child;k!==null;)c|=k.lanes|k.childLanes,v|=k.subtreeFlags,v|=k.flags,k.return=s,k=k.sibling;return s.subtreeFlags|=v,s.childLanes=c,a}function kT(s,a,c){var v=a.pendingProps;switch(Uf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(a),null;case 1:return Yn(a.type)&&Lc(),Rn(a),null;case 3:return v=a.stateNode,Ia(),Lt(Qn),Lt(Dn),tp(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(s===null||s.child===null)&&(qc(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Vr!==null&&(Rp(Vr),Vr=null))),wp(s,a),Rn(a),null;case 5:Zf(a);var k=Ao(Hl.current);if(c=a.type,s!==null&&a.stateNode!=null)V2(s,a,c,v,k),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!v){if(a.stateNode===null)throw Error(t(166));return Rn(a),null}if(s=Ao(ai.current),qc(a)){v=a.stateNode,c=a.type;var j=a.memoizedProps;switch(v[oi]=a,v[Ml]=j,s=(a.mode&1)!==0,c){case"dialog":Ot("cancel",v),Ot("close",v);break;case"iframe":case"object":case"embed":Ot("load",v);break;case"video":case"audio":for(k=0;k<Fl.length;k++)Ot(Fl[k],v);break;case"source":Ot("error",v);break;case"img":case"image":case"link":Ot("error",v),Ot("load",v);break;case"details":Ot("toggle",v);break;case"input":Ne(v,j),Ot("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!j.multiple},Ot("invalid",v);break;case"textarea":$e(v,j),Ot("invalid",v)}ml(c,j),k=null;for(var z in j)if(j.hasOwnProperty(z)){var X=j[z];z==="children"?typeof X=="string"?v.textContent!==X&&(j.suppressHydrationWarning!==!0&&Pc(v.textContent,X,s),k=["children",X]):typeof X=="number"&&v.textContent!==""+X&&(j.suppressHydrationWarning!==!0&&Pc(v.textContent,X,s),k=["children",""+X]):i.hasOwnProperty(z)&&X!=null&&z==="onScroll"&&Ot("scroll",v)}switch(c){case"input":ge(v),ue(v,j,!0);break;case"textarea":ge(v),ze(v);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(v.onclick=Nc)}v=k,a.updateQueue=v,v!==null&&(a.flags|=4)}else{z=k.nodeType===9?k:k.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ke(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=z.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof v.is=="string"?s=z.createElement(c,{is:v.is}):(s=z.createElement(c),c==="select"&&(z=s,v.multiple?z.multiple=!0:v.size&&(z.size=v.size))):s=z.createElementNS(s,c),s[oi]=a,s[Ml]=v,q2(s,a,!1,!1),a.stateNode=s;e:{switch(z=gl(c,v),c){case"dialog":Ot("cancel",s),Ot("close",s),k=v;break;case"iframe":case"object":case"embed":Ot("load",s),k=v;break;case"video":case"audio":for(k=0;k<Fl.length;k++)Ot(Fl[k],s);k=v;break;case"source":Ot("error",s),k=v;break;case"img":case"image":case"link":Ot("error",s),Ot("load",s),k=v;break;case"details":Ot("toggle",s),k=v;break;case"input":Ne(s,v),k=Pe(s,v),Ot("invalid",s);break;case"option":k=v;break;case"select":s._wrapperState={wasMultiple:!!v.multiple},k=W({},v,{value:void 0}),Ot("invalid",s);break;case"textarea":$e(s,v),k=ye(s,v),Ot("invalid",s);break;default:k=v}ml(c,k),X=k;for(j in X)if(X.hasOwnProperty(j)){var se=X[j];j==="style"?rs(s,se):j==="dangerouslySetInnerHTML"?(se=se?se.__html:void 0,se!=null&&Gn(s,se)):j==="children"?typeof se=="string"?(c!=="textarea"||se!=="")&&vt(s,se):typeof se=="number"&&vt(s,""+se):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?se!=null&&j==="onScroll"&&Ot("scroll",s):se!=null&&P(s,j,se,z))}switch(c){case"input":ge(s),ue(s,v,!1);break;case"textarea":ge(s),ze(s);break;case"option":v.value!=null&&s.setAttribute("value",""+Q(v.value));break;case"select":s.multiple=!!v.multiple,j=v.value,j!=null?Te(s,!!v.multiple,j,!1):v.defaultValue!=null&&Te(s,!!v.multiple,v.defaultValue,!0);break;default:typeof k.onClick=="function"&&(s.onclick=Nc)}switch(c){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Rn(a),null;case 6:if(s&&a.stateNode!=null)U2(s,a,s.memoizedProps,v);else{if(typeof v!="string"&&a.stateNode===null)throw Error(t(166));if(c=Ao(Hl.current),Ao(ai.current),qc(a)){if(v=a.stateNode,c=a.memoizedProps,v[oi]=a,(j=v.nodeValue!==c)&&(s=ur,s!==null))switch(s.tag){case 3:Pc(v.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Pc(v.nodeValue,c,(s.mode&1)!==0)}j&&(a.flags|=4)}else v=(c.nodeType===9?c:c.ownerDocument).createTextNode(v),v[oi]=a,a.stateNode=v}return Rn(a),null;case 13:if(Lt(Ut),v=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(qt&&cr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)W0(),ba(),a.flags|=98560,j=!1;else if(j=qc(a),v!==null&&v.dehydrated!==null){if(s===null){if(!j)throw Error(t(318));if(j=a.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(t(317));j[oi]=a}else ba(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Rn(a),j=!1}else Vr!==null&&(Rp(Vr),Vr=null),j=!0;if(!j)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(v=v!==null,v!==(s!==null&&s.memoizedState!==null)&&v&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Ut.current&1)!==0?cn===0&&(cn=3):Op())),a.updateQueue!==null&&(a.flags|=4),Rn(a),null);case 4:return Ia(),wp(s,a),s===null&&jl(a.stateNode.containerInfo),Rn(a),null;case 10:return Kf(a.type._context),Rn(a),null;case 17:return Yn(a.type)&&Lc(),Rn(a),null;case 19:if(Lt(Ut),j=a.memoizedState,j===null)return Rn(a),null;if(v=(a.flags&128)!==0,z=j.rendering,z===null)if(v)Jl(j,!1);else{if(cn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(z=$c(s),z!==null){for(a.flags|=128,Jl(j,!1),v=z.updateQueue,v!==null&&(a.updateQueue=v,a.flags|=4),a.subtreeFlags=0,v=c,c=a.child;c!==null;)j=c,s=v,j.flags&=14680066,z=j.alternate,z===null?(j.childLanes=0,j.lanes=s,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=z.childLanes,j.lanes=z.lanes,j.child=z.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=z.memoizedProps,j.memoizedState=z.memoizedState,j.updateQueue=z.updateQueue,j.type=z.type,s=z.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Pt(Ut,Ut.current&1|2),a.child}s=s.sibling}j.tail!==null&&Rt()>Pa&&(a.flags|=128,v=!0,Jl(j,!1),a.lanes=4194304)}else{if(!v)if(s=$c(z),s!==null){if(a.flags|=128,v=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Jl(j,!0),j.tail===null&&j.tailMode==="hidden"&&!z.alternate&&!qt)return Rn(a),null}else 2*Rt()-j.renderingStartTime>Pa&&c!==1073741824&&(a.flags|=128,v=!0,Jl(j,!1),a.lanes=4194304);j.isBackwards?(z.sibling=a.child,a.child=z):(c=j.last,c!==null?c.sibling=z:a.child=z,j.last=z)}return j.tail!==null?(a=j.tail,j.rendering=a,j.tail=a.sibling,j.renderingStartTime=Rt(),a.sibling=null,c=Ut.current,Pt(Ut,v?c&1|2:c&1),a):(Rn(a),null);case 22:case 23:return Np(),v=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==v&&(a.flags|=8192),v&&(a.mode&1)!==0?(hr&1073741824)!==0&&(Rn(a),a.subtreeFlags&6&&(a.flags|=8192)):Rn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function RT(s,a){switch(Uf(a),a.tag){case 1:return Yn(a.type)&&Lc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ia(),Lt(Qn),Lt(Dn),tp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Zf(a),null;case 13:if(Lt(Ut),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));ba()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Lt(Ut),null;case 4:return Ia(),null;case 10:return Kf(a.type._context),null;case 22:case 23:return Np(),null;case 24:return null;default:return null}}var th=!1,Pn=!1,PT=typeof WeakSet=="function"?WeakSet:Set,Me=null;function ka(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(v){Gt(s,a,v)}else c.current=null}function Ep(s,a,c){try{c()}catch(v){Gt(s,a,v)}}var z2=!1;function NT(s,a){if(Nf=hs,s=E0(),xf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var v=c.getSelection&&c.getSelection();if(v&&v.rangeCount!==0){c=v.anchorNode;var k=v.anchorOffset,j=v.focusNode;v=v.focusOffset;try{c.nodeType,j.nodeType}catch{c=null;break e}var z=0,X=-1,se=-1,pe=0,be=0,xe=s,Ae=null;t:for(;;){for(var Oe;xe!==c||k!==0&&xe.nodeType!==3||(X=z+k),xe!==j||v!==0&&xe.nodeType!==3||(se=z+v),xe.nodeType===3&&(z+=xe.nodeValue.length),(Oe=xe.firstChild)!==null;)Ae=xe,xe=Oe;for(;;){if(xe===s)break t;if(Ae===c&&++pe===k&&(X=z),Ae===j&&++be===v&&(se=z),(Oe=xe.nextSibling)!==null)break;xe=Ae,Ae=xe.parentNode}xe=Oe}c=X===-1||se===-1?null:{start:X,end:se}}else c=null}c=c||{start:0,end:0}}else c=null;for(Of={focusedElem:s,selectionRange:c},hs=!1,Me=a;Me!==null;)if(a=Me,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Me=s;else for(;Me!==null;){a=Me;try{var Ue=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var He=Ue.memoizedProps,Yt=Ue.memoizedState,he=a.stateNode,oe=he.getSnapshotBeforeUpdate(a.elementType===a.type?He:Ur(a.type,He),Yt);he.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var de=a.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ie){Gt(a,a.return,Ie)}if(s=a.sibling,s!==null){s.return=a.return,Me=s;break}Me=a.return}return Ue=z2,z2=!1,Ue}function Ql(s,a,c){var v=a.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var k=v=v.next;do{if((k.tag&s)===s){var j=k.destroy;k.destroy=void 0,j!==void 0&&Ep(a,c,j)}k=k.next}while(k!==v)}}function nh(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var v=c.create;c.destroy=v()}c=c.next}while(c!==a)}}function Cp(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function H2(s){var a=s.alternate;a!==null&&(s.alternate=null,H2(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[oi],delete a[Ml],delete a[Bf],delete a[mT],delete a[gT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function W2(s){return s.tag===5||s.tag===3||s.tag===4}function $2(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||W2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ap(s,a,c){var v=s.tag;if(v===5||v===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Nc));else if(v!==4&&(s=s.child,s!==null))for(Ap(s,a,c),s=s.sibling;s!==null;)Ap(s,a,c),s=s.sibling}function bp(s,a,c){var v=s.tag;if(v===5||v===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(v!==4&&(s=s.child,s!==null))for(bp(s,a,c),s=s.sibling;s!==null;)bp(s,a,c),s=s.sibling}var Cn=null,zr=!1;function ws(s,a,c){for(c=c.child;c!==null;)G2(s,a,c),c=c.sibling}function G2(s,a,c){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(co,c)}catch{}switch(c.tag){case 5:Pn||ka(c,a);case 6:var v=Cn,k=zr;Cn=null,ws(s,a,c),Cn=v,zr=k,Cn!==null&&(zr?(s=Cn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Cn.removeChild(c.stateNode));break;case 18:Cn!==null&&(zr?(s=Cn,c=c.stateNode,s.nodeType===8?jf(s.parentNode,c):s.nodeType===1&&jf(s,c),Br(s)):jf(Cn,c.stateNode));break;case 4:v=Cn,k=zr,Cn=c.stateNode.containerInfo,zr=!0,ws(s,a,c),Cn=v,zr=k;break;case 0:case 11:case 14:case 15:if(!Pn&&(v=c.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){k=v=v.next;do{var j=k,z=j.destroy;j=j.tag,z!==void 0&&((j&2)!==0||(j&4)!==0)&&Ep(c,a,z),k=k.next}while(k!==v)}ws(s,a,c);break;case 1:if(!Pn&&(ka(c,a),v=c.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=c.memoizedProps,v.state=c.memoizedState,v.componentWillUnmount()}catch(X){Gt(c,a,X)}ws(s,a,c);break;case 21:ws(s,a,c);break;case 22:c.mode&1?(Pn=(v=Pn)||c.memoizedState!==null,ws(s,a,c),Pn=v):ws(s,a,c);break;default:ws(s,a,c)}}function K2(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new PT),a.forEach(function(v){var k=UT.bind(null,s,v);c.has(v)||(c.add(v),v.then(k,k))})}}function Hr(s,a){var c=a.deletions;if(c!==null)for(var v=0;v<c.length;v++){var k=c[v];try{var j=s,z=a,X=z;e:for(;X!==null;){switch(X.tag){case 5:Cn=X.stateNode,zr=!1;break e;case 3:Cn=X.stateNode.containerInfo,zr=!0;break e;case 4:Cn=X.stateNode.containerInfo,zr=!0;break e}X=X.return}if(Cn===null)throw Error(t(160));G2(j,z,k),Cn=null,zr=!1;var se=k.alternate;se!==null&&(se.return=null),k.return=null}catch(pe){Gt(k,a,pe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)J2(a,s),a=a.sibling}function J2(s,a){var c=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Hr(a,s),ui(s),v&4){try{Ql(3,s,s.return),nh(3,s)}catch(He){Gt(s,s.return,He)}try{Ql(5,s,s.return)}catch(He){Gt(s,s.return,He)}}break;case 1:Hr(a,s),ui(s),v&512&&c!==null&&ka(c,c.return);break;case 5:if(Hr(a,s),ui(s),v&512&&c!==null&&ka(c,c.return),s.flags&32){var k=s.stateNode;try{vt(k,"")}catch(He){Gt(s,s.return,He)}}if(v&4&&(k=s.stateNode,k!=null)){var j=s.memoizedProps,z=c!==null?c.memoizedProps:j,X=s.type,se=s.updateQueue;if(s.updateQueue=null,se!==null)try{X==="input"&&j.type==="radio"&&j.name!=null&&Fe(k,j),gl(X,z);var pe=gl(X,j);for(z=0;z<se.length;z+=2){var be=se[z],xe=se[z+1];be==="style"?rs(k,xe):be==="dangerouslySetInnerHTML"?Gn(k,xe):be==="children"?vt(k,xe):P(k,be,xe,pe)}switch(X){case"input":Xe(k,j);break;case"textarea":Le(k,j);break;case"select":var Ae=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!j.multiple;var Oe=j.value;Oe!=null?Te(k,!!j.multiple,Oe,!1):Ae!==!!j.multiple&&(j.defaultValue!=null?Te(k,!!j.multiple,j.defaultValue,!0):Te(k,!!j.multiple,j.multiple?[]:"",!1))}k[Ml]=j}catch(He){Gt(s,s.return,He)}}break;case 6:if(Hr(a,s),ui(s),v&4){if(s.stateNode===null)throw Error(t(162));k=s.stateNode,j=s.memoizedProps;try{k.nodeValue=j}catch(He){Gt(s,s.return,He)}}break;case 3:if(Hr(a,s),ui(s),v&4&&c!==null&&c.memoizedState.isDehydrated)try{Br(a.containerInfo)}catch(He){Gt(s,s.return,He)}break;case 4:Hr(a,s),ui(s);break;case 13:Hr(a,s),ui(s),k=s.child,k.flags&8192&&(j=k.memoizedState!==null,k.stateNode.isHidden=j,!j||k.alternate!==null&&k.alternate.memoizedState!==null||(Tp=Rt())),v&4&&K2(s);break;case 22:if(be=c!==null&&c.memoizedState!==null,s.mode&1?(Pn=(pe=Pn)||be,Hr(a,s),Pn=pe):Hr(a,s),ui(s),v&8192){if(pe=s.memoizedState!==null,(s.stateNode.isHidden=pe)&&!be&&(s.mode&1)!==0)for(Me=s,be=s.child;be!==null;){for(xe=Me=be;Me!==null;){switch(Ae=Me,Oe=Ae.child,Ae.tag){case 0:case 11:case 14:case 15:Ql(4,Ae,Ae.return);break;case 1:ka(Ae,Ae.return);var Ue=Ae.stateNode;if(typeof Ue.componentWillUnmount=="function"){v=Ae,c=Ae.return;try{a=v,Ue.props=a.memoizedProps,Ue.state=a.memoizedState,Ue.componentWillUnmount()}catch(He){Gt(v,c,He)}}break;case 5:ka(Ae,Ae.return);break;case 22:if(Ae.memoizedState!==null){X2(xe);continue}}Oe!==null?(Oe.return=Ae,Me=Oe):X2(xe)}be=be.sibling}e:for(be=null,xe=s;;){if(xe.tag===5){if(be===null){be=xe;try{k=xe.stateNode,pe?(j=k.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(X=xe.stateNode,se=xe.memoizedProps.style,z=se!=null&&se.hasOwnProperty("display")?se.display:null,X.style.display=kr("display",z))}catch(He){Gt(s,s.return,He)}}}else if(xe.tag===6){if(be===null)try{xe.stateNode.nodeValue=pe?"":xe.memoizedProps}catch(He){Gt(s,s.return,He)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===s)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===s)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===s)break e;be===xe&&(be=null),xe=xe.return}be===xe&&(be=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:Hr(a,s),ui(s),v&4&&K2(s);break;case 21:break;default:Hr(a,s),ui(s)}}function ui(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(W2(c)){var v=c;break e}c=c.return}throw Error(t(160))}switch(v.tag){case 5:var k=v.stateNode;v.flags&32&&(vt(k,""),v.flags&=-33);var j=$2(s);bp(s,j,k);break;case 3:case 4:var z=v.stateNode.containerInfo,X=$2(s);Ap(s,X,z);break;default:throw Error(t(161))}}catch(se){Gt(s,s.return,se)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function OT(s,a,c){Me=s,Q2(s)}function Q2(s,a,c){for(var v=(s.mode&1)!==0;Me!==null;){var k=Me,j=k.child;if(k.tag===22&&v){var z=k.memoizedState!==null||th;if(!z){var X=k.alternate,se=X!==null&&X.memoizedState!==null||Pn;X=th;var pe=Pn;if(th=z,(Pn=se)&&!pe)for(Me=k;Me!==null;)z=Me,se=z.child,z.tag===22&&z.memoizedState!==null?Z2(k):se!==null?(se.return=z,Me=se):Z2(k);for(;j!==null;)Me=j,Q2(j),j=j.sibling;Me=k,th=X,Pn=pe}Y2(s)}else(k.subtreeFlags&8772)!==0&&j!==null?(j.return=k,Me=j):Y2(s)}}function Y2(s){for(;Me!==null;){var a=Me;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Pn||nh(5,a);break;case 1:var v=a.stateNode;if(a.flags&4&&!Pn)if(c===null)v.componentDidMount();else{var k=a.elementType===a.type?c.memoizedProps:Ur(a.type,c.memoizedProps);v.componentDidUpdate(k,c.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var j=a.updateQueue;j!==null&&X0(a,j,v);break;case 3:var z=a.updateQueue;if(z!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}X0(a,z,c)}break;case 5:var X=a.stateNode;if(c===null&&a.flags&4){c=X;var se=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":se.autoFocus&&c.focus();break;case"img":se.src&&(c.src=se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var pe=a.alternate;if(pe!==null){var be=pe.memoizedState;if(be!==null){var xe=be.dehydrated;xe!==null&&Br(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Pn||a.flags&512&&Cp(a)}catch(Ae){Gt(a,a.return,Ae)}}if(a===s){Me=null;break}if(c=a.sibling,c!==null){c.return=a.return,Me=c;break}Me=a.return}}function X2(s){for(;Me!==null;){var a=Me;if(a===s){Me=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Me=c;break}Me=a.return}}function Z2(s){for(;Me!==null;){var a=Me;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{nh(4,a)}catch(se){Gt(a,c,se)}break;case 1:var v=a.stateNode;if(typeof v.componentDidMount=="function"){var k=a.return;try{v.componentDidMount()}catch(se){Gt(a,k,se)}}var j=a.return;try{Cp(a)}catch(se){Gt(a,j,se)}break;case 5:var z=a.return;try{Cp(a)}catch(se){Gt(a,z,se)}}}catch(se){Gt(a,a.return,se)}if(a===s){Me=null;break}var X=a.sibling;if(X!==null){X.return=a.return,Me=X;break}Me=a.return}}var LT=Math.ceil,rh=S.ReactCurrentDispatcher,xp=S.ReactCurrentOwner,xr=S.ReactCurrentBatchConfig,Ct=0,gn=null,rn=null,An=0,hr=0,Ra=ms(0),cn=0,Yl=null,xo=0,ih=0,Sp=0,Xl=null,Zn=null,Tp=0,Pa=1/0,qi=null,sh=!1,Ip=null,Es=null,oh=!1,Cs=null,ah=0,Zl=0,Dp=null,lh=-1,uh=0;function Vn(){return(Ct&6)!==0?Rt():lh!==-1?lh:lh=Rt()}function As(s){return(s.mode&1)===0?1:(Ct&2)!==0&&An!==0?An&-An:vT.transition!==null?(uh===0&&(uh=fo()),uh):(s=yt,s!==0||(s=window.event,s=s===void 0?16:Tl(s.type)),s)}function Wr(s,a,c,v){if(50<Zl)throw Zl=0,Dp=null,Error(t(185));as(s,c,v),((Ct&2)===0||s!==gn)&&(s===gn&&((Ct&2)===0&&(ih|=c),cn===4&&bs(s,An)),er(s,v),c===1&&Ct===0&&(a.mode&1)===0&&(Pa=Rt()+500,jc&&ys()))}function er(s,a){var c=s.callbackNode;Ii(s,a);var v=ho(s,s===gn?An:0);if(v===0)c!==null&&Cl(c),s.callbackNode=null,s.callbackPriority=0;else if(a=v&-v,s.callbackPriority!==a){if(c!=null&&Cl(c),a===1)s.tag===0?yT(t1.bind(null,s)):q0(t1.bind(null,s)),fT(function(){(Ct&6)===0&&ys()}),c=null;else{switch(us(v)){case 1:c=uo;break;case 4:c=is;break;case 16:c=vr;break;case 536870912:c=uc;break;default:c=vr}c=u1(c,e1.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function e1(s,a){if(lh=-1,uh=0,(Ct&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Na()&&s.callbackNode!==c)return null;var v=ho(s,s===gn?An:0);if(v===0)return null;if((v&30)!==0||(v&s.expiredLanes)!==0||a)a=ch(s,v);else{a=v;var k=Ct;Ct|=2;var j=r1();(gn!==s||An!==a)&&(qi=null,Pa=Rt()+500,To(s,a));do try{BT();break}catch(X){n1(s,X)}while(!0);Gf(),rh.current=j,Ct=k,rn!==null?a=0:(gn=null,An=0,a=cn)}if(a!==0){if(a===2&&(k=or(s),k!==0&&(v=k,a=kp(s,k))),a===1)throw c=Yl,To(s,0),bs(s,v),er(s,Rt()),c;if(a===6)bs(s,v);else{if(k=s.current.alternate,(v&30)===0&&!FT(k)&&(a=ch(s,v),a===2&&(j=or(s),j!==0&&(v=j,a=kp(s,j))),a===1))throw c=Yl,To(s,0),bs(s,v),er(s,Rt()),c;switch(s.finishedWork=k,s.finishedLanes=v,a){case 0:case 1:throw Error(t(345));case 2:Io(s,Zn,qi);break;case 3:if(bs(s,v),(v&130023424)===v&&(a=Tp+500-Rt(),10<a)){if(ho(s,0)!==0)break;if(k=s.suspendedLanes,(k&v)!==v){Vn(),s.pingedLanes|=s.suspendedLanes&k;break}s.timeoutHandle=Ff(Io.bind(null,s,Zn,qi),a);break}Io(s,Zn,qi);break;case 4:if(bs(s,v),(v&4194240)===v)break;for(a=s.eventTimes,k=-1;0<v;){var z=31-Bn(v);j=1<<z,z=a[z],z>k&&(k=z),v&=~j}if(v=k,v=Rt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*LT(v/1960))-v,10<v){s.timeoutHandle=Ff(Io.bind(null,s,Zn,qi),v);break}Io(s,Zn,qi);break;case 5:Io(s,Zn,qi);break;default:throw Error(t(329))}}}return er(s,Rt()),s.callbackNode===c?e1.bind(null,s):null}function kp(s,a){var c=Xl;return s.current.memoizedState.isDehydrated&&(To(s,a).flags|=256),s=ch(s,a),s!==2&&(a=Zn,Zn=c,a!==null&&Rp(a)),s}function Rp(s){Zn===null?Zn=s:Zn.push.apply(Zn,s)}function FT(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var v=0;v<c.length;v++){var k=c[v],j=k.getSnapshot;k=k.value;try{if(!qr(j(),k))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function bs(s,a){for(a&=~Sp,a&=~ih,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Bn(a),v=1<<c;s[c]=-1,a&=~v}}function t1(s){if((Ct&6)!==0)throw Error(t(327));Na();var a=ho(s,0);if((a&1)===0)return er(s,Rt()),null;var c=ch(s,a);if(s.tag!==0&&c===2){var v=or(s);v!==0&&(a=v,c=kp(s,v))}if(c===1)throw c=Yl,To(s,0),bs(s,a),er(s,Rt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Io(s,Zn,qi),er(s,Rt()),null}function Pp(s,a){var c=Ct;Ct|=1;try{return s(a)}finally{Ct=c,Ct===0&&(Pa=Rt()+500,jc&&ys())}}function So(s){Cs!==null&&Cs.tag===0&&(Ct&6)===0&&Na();var a=Ct;Ct|=1;var c=xr.transition,v=yt;try{if(xr.transition=null,yt=1,s)return s()}finally{yt=v,xr.transition=c,Ct=a,(Ct&6)===0&&ys()}}function Np(){hr=Ra.current,Lt(Ra)}function To(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,dT(c)),rn!==null)for(c=rn.return;c!==null;){var v=c;switch(Uf(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&Lc();break;case 3:Ia(),Lt(Qn),Lt(Dn),tp();break;case 5:Zf(v);break;case 4:Ia();break;case 13:Lt(Ut);break;case 19:Lt(Ut);break;case 10:Kf(v.type._context);break;case 22:case 23:Np()}c=c.return}if(gn=s,rn=s=xs(s.current,null),An=hr=a,cn=0,Yl=null,Sp=ih=xo=0,Zn=Xl=null,Co!==null){for(a=0;a<Co.length;a++)if(c=Co[a],v=c.interleaved,v!==null){c.interleaved=null;var k=v.next,j=c.pending;if(j!==null){var z=j.next;j.next=k,v.next=z}c.pending=v}Co=null}return s}function n1(s,a){do{var c=rn;try{if(Gf(),Gc.current=Yc,Kc){for(var v=zt.memoizedState;v!==null;){var k=v.queue;k!==null&&(k.pending=null),v=v.next}Kc=!1}if(bo=0,mn=un=zt=null,Wl=!1,$l=0,xp.current=null,c===null||c.return===null){cn=1,Yl=a,rn=null;break}e:{var j=s,z=c.return,X=c,se=a;if(a=An,X.flags|=32768,se!==null&&typeof se=="object"&&typeof se.then=="function"){var pe=se,be=X,xe=be.tag;if((be.mode&1)===0&&(xe===0||xe===11||xe===15)){var Ae=be.alternate;Ae?(be.updateQueue=Ae.updateQueue,be.memoizedState=Ae.memoizedState,be.lanes=Ae.lanes):(be.updateQueue=null,be.memoizedState=null)}var Oe=T2(z);if(Oe!==null){Oe.flags&=-257,I2(Oe,z,X,j,a),Oe.mode&1&&S2(j,pe,a),a=Oe,se=pe;var Ue=a.updateQueue;if(Ue===null){var He=new Set;He.add(se),a.updateQueue=He}else Ue.add(se);break e}else{if((a&1)===0){S2(j,pe,a),Op();break e}se=Error(t(426))}}else if(qt&&X.mode&1){var Yt=T2(z);if(Yt!==null){(Yt.flags&65536)===0&&(Yt.flags|=256),I2(Yt,z,X,j,a),Wf(Da(se,X));break e}}j=se=Da(se,X),cn!==4&&(cn=2),Xl===null?Xl=[j]:Xl.push(j),j=z;do{switch(j.tag){case 3:j.flags|=65536,a&=-a,j.lanes|=a;var he=b2(j,se,a);Y0(j,he);break e;case 1:X=se;var oe=j.type,de=j.stateNode;if((j.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(Es===null||!Es.has(de)))){j.flags|=65536,a&=-a,j.lanes|=a;var Ie=x2(j,X,a);Y0(j,Ie);break e}}j=j.return}while(j!==null)}s1(c)}catch(We){a=We,rn===c&&c!==null&&(rn=c=c.return);continue}break}while(!0)}function r1(){var s=rh.current;return rh.current=Yc,s===null?Yc:s}function Op(){(cn===0||cn===3||cn===2)&&(cn=4),gn===null||(xo&268435455)===0&&(ih&268435455)===0||bs(gn,An)}function ch(s,a){var c=Ct;Ct|=2;var v=r1();(gn!==s||An!==a)&&(qi=null,To(s,a));do try{jT();break}catch(k){n1(s,k)}while(!0);if(Gf(),Ct=c,rh.current=v,rn!==null)throw Error(t(261));return gn=null,An=0,cn}function jT(){for(;rn!==null;)i1(rn)}function BT(){for(;rn!==null&&!ac();)i1(rn)}function i1(s){var a=l1(s.alternate,s,hr);s.memoizedProps=s.pendingProps,a===null?s1(s):rn=a,xp.current=null}function s1(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=kT(c,a,hr),c!==null){rn=c;return}}else{if(c=RT(c,a),c!==null){c.flags&=32767,rn=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cn=6,rn=null;return}}if(a=a.sibling,a!==null){rn=a;return}rn=a=s}while(a!==null);cn===0&&(cn=5)}function Io(s,a,c){var v=yt,k=xr.transition;try{xr.transition=null,yt=1,MT(s,a,c,v)}finally{xr.transition=k,yt=v}return null}function MT(s,a,c,v){do Na();while(Cs!==null);if((Ct&6)!==0)throw Error(t(327));c=s.finishedWork;var k=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var j=c.lanes|c.childLanes;if(It(s,j),s===gn&&(rn=gn=null,An=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||oh||(oh=!0,u1(vr,function(){return Na(),null})),j=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||j){j=xr.transition,xr.transition=null;var z=yt;yt=1;var X=Ct;Ct|=4,xp.current=null,NT(s,c),J2(c,s),sT(Of),hs=!!Nf,Of=Nf=null,s.current=c,OT(c),yf(),Ct=X,yt=z,xr.transition=j}else s.current=c;if(oh&&(oh=!1,Cs=s,ah=k),j=s.pendingLanes,j===0&&(Es=null),cc(c.stateNode),er(s,Rt()),a!==null)for(v=s.onRecoverableError,c=0;c<a.length;c++)k=a[c],v(k.value,{componentStack:k.stack,digest:k.digest});if(sh)throw sh=!1,s=Ip,Ip=null,s;return(ah&1)!==0&&s.tag!==0&&Na(),j=s.pendingLanes,(j&1)!==0?s===Dp?Zl++:(Zl=0,Dp=s):Zl=0,ys(),null}function Na(){if(Cs!==null){var s=us(ah),a=xr.transition,c=yt;try{if(xr.transition=null,yt=16>s?16:s,Cs===null)var v=!1;else{if(s=Cs,Cs=null,ah=0,(Ct&6)!==0)throw Error(t(331));var k=Ct;for(Ct|=4,Me=s.current;Me!==null;){var j=Me,z=j.child;if((Me.flags&16)!==0){var X=j.deletions;if(X!==null){for(var se=0;se<X.length;se++){var pe=X[se];for(Me=pe;Me!==null;){var be=Me;switch(be.tag){case 0:case 11:case 15:Ql(8,be,j)}var xe=be.child;if(xe!==null)xe.return=be,Me=xe;else for(;Me!==null;){be=Me;var Ae=be.sibling,Oe=be.return;if(H2(be),be===pe){Me=null;break}if(Ae!==null){Ae.return=Oe,Me=Ae;break}Me=Oe}}}var Ue=j.alternate;if(Ue!==null){var He=Ue.child;if(He!==null){Ue.child=null;do{var Yt=He.sibling;He.sibling=null,He=Yt}while(He!==null)}}Me=j}}if((j.subtreeFlags&2064)!==0&&z!==null)z.return=j,Me=z;else e:for(;Me!==null;){if(j=Me,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Ql(9,j,j.return)}var he=j.sibling;if(he!==null){he.return=j.return,Me=he;break e}Me=j.return}}var oe=s.current;for(Me=oe;Me!==null;){z=Me;var de=z.child;if((z.subtreeFlags&2064)!==0&&de!==null)de.return=z,Me=de;else e:for(z=oe;Me!==null;){if(X=Me,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:nh(9,X)}}catch(We){Gt(X,X.return,We)}if(X===z){Me=null;break e}var Ie=X.sibling;if(Ie!==null){Ie.return=X.return,Me=Ie;break e}Me=X.return}}if(Ct=k,ys(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(co,s)}catch{}v=!0}return v}finally{yt=c,xr.transition=a}}return!1}function o1(s,a,c){a=Da(c,a),a=b2(s,a,1),s=_s(s,a,1),a=Vn(),s!==null&&(as(s,1,a),er(s,a))}function Gt(s,a,c){if(s.tag===3)o1(s,s,c);else for(;a!==null;){if(a.tag===3){o1(a,s,c);break}else if(a.tag===1){var v=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Es===null||!Es.has(v))){s=Da(c,s),s=x2(a,s,1),a=_s(a,s,1),s=Vn(),a!==null&&(as(a,1,s),er(a,s));break}}a=a.return}}function qT(s,a,c){var v=s.pingCache;v!==null&&v.delete(a),a=Vn(),s.pingedLanes|=s.suspendedLanes&c,gn===s&&(An&c)===c&&(cn===4||cn===3&&(An&130023424)===An&&500>Rt()-Tp?To(s,0):Sp|=c),er(s,a)}function a1(s,a){a===0&&((s.mode&1)===0?a=1:(a=na,na<<=1,(na&130023424)===0&&(na=4194304)));var c=Vn();s=ji(s,a),s!==null&&(as(s,a,c),er(s,c))}function VT(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),a1(s,c)}function UT(s,a){var c=0;switch(s.tag){case 13:var v=s.stateNode,k=s.memoizedState;k!==null&&(c=k.retryLane);break;case 19:v=s.stateNode;break;default:throw Error(t(314))}v!==null&&v.delete(a),a1(s,c)}var l1;l1=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Qn.current)Xn=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return Xn=!1,DT(s,a,c);Xn=(s.flags&131072)!==0}else Xn=!1,qt&&(a.flags&1048576)!==0&&V0(a,Mc,a.index);switch(a.lanes=0,a.tag){case 2:var v=a.type;eh(s,a),s=a.pendingProps;var k=Ea(a,Dn.current);Ta(a,c),k=ip(null,a,v,s,k,c);var j=sp();return a.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Yn(v)?(j=!0,Fc(a)):j=!1,a.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Yf(a),k.updater=Xc,a.stateNode=k,k._reactInternals=a,hp(a,v,s,c),a=mp(null,a,v,!0,j,c)):(a.tag=0,qt&&j&&Vf(a),qn(null,a,k,c),a=a.child),a;case 16:v=a.elementType;e:{switch(eh(s,a),s=a.pendingProps,k=v._init,v=k(v._payload),a.type=v,k=a.tag=HT(v),s=Ur(v,s),k){case 0:a=pp(null,a,v,s,c);break e;case 1:a=O2(null,a,v,s,c);break e;case 11:a=D2(null,a,v,s,c);break e;case 14:a=k2(null,a,v,Ur(v.type,s),c);break e}throw Error(t(306,v,""))}return a;case 0:return v=a.type,k=a.pendingProps,k=a.elementType===v?k:Ur(v,k),pp(s,a,v,k,c);case 1:return v=a.type,k=a.pendingProps,k=a.elementType===v?k:Ur(v,k),O2(s,a,v,k,c);case 3:e:{if(L2(a),s===null)throw Error(t(387));v=a.pendingProps,j=a.memoizedState,k=j.element,Q0(s,a),Wc(a,v,null,c);var z=a.memoizedState;if(v=z.element,j.isDehydrated)if(j={element:v,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){k=Da(Error(t(423)),a),a=F2(s,a,v,c,k);break e}else if(v!==k){k=Da(Error(t(424)),a),a=F2(s,a,v,c,k);break e}else for(cr=ps(a.stateNode.containerInfo.firstChild),ur=a,qt=!0,Vr=null,c=K0(a,null,v,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ba(),v===k){a=Mi(s,a,c);break e}qn(s,a,v,c)}a=a.child}return a;case 5:return Z0(a),s===null&&Hf(a),v=a.type,k=a.pendingProps,j=s!==null?s.memoizedProps:null,z=k.children,Lf(v,k)?z=null:j!==null&&Lf(v,j)&&(a.flags|=32),N2(s,a),qn(s,a,z,c),a.child;case 6:return s===null&&Hf(a),null;case 13:return j2(s,a,c);case 4:return Xf(a,a.stateNode.containerInfo),v=a.pendingProps,s===null?a.child=xa(a,null,v,c):qn(s,a,v,c),a.child;case 11:return v=a.type,k=a.pendingProps,k=a.elementType===v?k:Ur(v,k),D2(s,a,v,k,c);case 7:return qn(s,a,a.pendingProps,c),a.child;case 8:return qn(s,a,a.pendingProps.children,c),a.child;case 12:return qn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(v=a.type._context,k=a.pendingProps,j=a.memoizedProps,z=k.value,Pt(Uc,v._currentValue),v._currentValue=z,j!==null)if(qr(j.value,z)){if(j.children===k.children&&!Qn.current){a=Mi(s,a,c);break e}}else for(j=a.child,j!==null&&(j.return=a);j!==null;){var X=j.dependencies;if(X!==null){z=j.child;for(var se=X.firstContext;se!==null;){if(se.context===v){if(j.tag===1){se=Bi(-1,c&-c),se.tag=2;var pe=j.updateQueue;if(pe!==null){pe=pe.shared;var be=pe.pending;be===null?se.next=se:(se.next=be.next,be.next=se),pe.pending=se}}j.lanes|=c,se=j.alternate,se!==null&&(se.lanes|=c),Jf(j.return,c,a),X.lanes|=c;break}se=se.next}}else if(j.tag===10)z=j.type===a.type?null:j.child;else if(j.tag===18){if(z=j.return,z===null)throw Error(t(341));z.lanes|=c,X=z.alternate,X!==null&&(X.lanes|=c),Jf(z,c,a),z=j.sibling}else z=j.child;if(z!==null)z.return=j;else for(z=j;z!==null;){if(z===a){z=null;break}if(j=z.sibling,j!==null){j.return=z.return,z=j;break}z=z.return}j=z}qn(s,a,k.children,c),a=a.child}return a;case 9:return k=a.type,v=a.pendingProps.children,Ta(a,c),k=Ar(k),v=v(k),a.flags|=1,qn(s,a,v,c),a.child;case 14:return v=a.type,k=Ur(v,a.pendingProps),k=Ur(v.type,k),k2(s,a,v,k,c);case 15:return R2(s,a,a.type,a.pendingProps,c);case 17:return v=a.type,k=a.pendingProps,k=a.elementType===v?k:Ur(v,k),eh(s,a),a.tag=1,Yn(v)?(s=!0,Fc(a)):s=!1,Ta(a,c),C2(a,v,k),hp(a,v,k,c),mp(null,a,v,!0,s,c);case 19:return M2(s,a,c);case 22:return P2(s,a,c)}throw Error(t(156,a.tag))};function u1(s,a){return ea(s,a)}function zT(s,a,c,v){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(s,a,c,v){return new zT(s,a,c,v)}function Lp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function HT(s){if(typeof s=="function")return Lp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===N)return 11;if(s===J)return 14}return 2}function xs(s,a){var c=s.alternate;return c===null?(c=Sr(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function hh(s,a,c,v,k,j){var z=2;if(v=s,typeof s=="function")Lp(s)&&(z=1);else if(typeof s=="string")z=5;else e:switch(s){case R:return Do(c.children,k,j,a);case A:z=8,k|=8;break;case T:return s=Sr(12,c,a,k|2),s.elementType=T,s.lanes=j,s;case L:return s=Sr(13,c,a,k),s.elementType=L,s.lanes=j,s;case U:return s=Sr(19,c,a,k),s.elementType=U,s.lanes=j,s;case Z:return dh(c,k,j,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:z=10;break e;case D:z=9;break e;case N:z=11;break e;case J:z=14;break e;case re:z=16,v=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Sr(z,c,a,k),a.elementType=s,a.type=v,a.lanes=j,a}function Do(s,a,c,v){return s=Sr(7,s,v,a),s.lanes=c,s}function dh(s,a,c,v){return s=Sr(22,s,v,a),s.elementType=Z,s.lanes=c,s.stateNode={isHidden:!1},s}function Fp(s,a,c){return s=Sr(6,s,null,a),s.lanes=c,s}function jp(s,a,c){return a=Sr(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function WT(s,a,c,v,k){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=os(0),this.expirationTimes=os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.identifierPrefix=v,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Bp(s,a,c,v,k,j,z,X,se){return s=new WT(s,a,c,X,se),a===1?(a=1,j===!0&&(a|=8)):a=0,j=Sr(3,null,null,a),s.current=j,j.stateNode=s,j.memoizedState={element:v,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yf(j),s}function $T(s,a,c){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:v==null?null:""+v,children:s,containerInfo:a,implementation:c}}function c1(s){if(!s)return gs;s=s._reactInternals;e:{if(Nr(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Yn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Yn(c))return B0(s,c,a)}return a}function h1(s,a,c,v,k,j,z,X,se){return s=Bp(c,v,!0,s,k,j,z,X,se),s.context=c1(null),c=s.current,v=Vn(),k=As(c),j=Bi(v,k),j.callback=a??null,_s(c,j,k),s.current.lanes=k,as(s,k,v),er(s,v),s}function fh(s,a,c,v){var k=a.current,j=Vn(),z=As(k);return c=c1(c),a.context===null?a.context=c:a.pendingContext=c,a=Bi(j,z),a.payload={element:s},v=v===void 0?null:v,v!==null&&(a.callback=v),s=_s(k,a,z),s!==null&&(Wr(s,k,z,j),Hc(s,k,z)),z}function ph(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function d1(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Mp(s,a){d1(s,a),(s=s.alternate)&&d1(s,a)}function GT(){return null}var f1=typeof reportError=="function"?reportError:function(s){console.error(s)};function qp(s){this._internalRoot=s}mh.prototype.render=qp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));fh(s,a,null,null)},mh.prototype.unmount=qp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;So(function(){fh(null,s,null,null)}),a[Ni]=null}};function mh(s){this._internalRoot=s}mh.prototype.unstable_scheduleHydration=function(s){if(s){var a=mc();s={blockedOn:null,target:s,priority:a};for(var c=0;c<ni.length&&a!==0&&a<ni[c].priority;c++);ni.splice(c,0,s),c===0&&vc(s)}};function Vp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function gh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function p1(){}function KT(s,a,c,v,k){if(k){if(typeof v=="function"){var j=v;v=function(){var pe=ph(z);j.call(pe)}}var z=h1(a,v,s,0,null,!1,!1,"",p1);return s._reactRootContainer=z,s[Ni]=z.current,jl(s.nodeType===8?s.parentNode:s),So(),z}for(;k=s.lastChild;)s.removeChild(k);if(typeof v=="function"){var X=v;v=function(){var pe=ph(se);X.call(pe)}}var se=Bp(s,0,!1,null,null,!1,!1,"",p1);return s._reactRootContainer=se,s[Ni]=se.current,jl(s.nodeType===8?s.parentNode:s),So(function(){fh(a,se,c,v)}),se}function yh(s,a,c,v,k){var j=c._reactRootContainer;if(j){var z=j;if(typeof k=="function"){var X=k;k=function(){var se=ph(z);X.call(se)}}fh(a,z,s,k)}else z=KT(c,a,s,k,v);return ph(z)}fc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=ss(a.pendingLanes);c!==0&&(ls(a,c|1),er(a,Rt()),(Ct&6)===0&&(Pa=Rt()+500,ys()))}break;case 13:So(function(){var v=ji(s,1);if(v!==null){var k=Vn();Wr(v,s,1,k)}}),Mp(s,1)}},ra=function(s){if(s.tag===13){var a=ji(s,134217728);if(a!==null){var c=Vn();Wr(a,s,134217728,c)}Mp(s,134217728)}},pc=function(s){if(s.tag===13){var a=As(s),c=ji(s,a);if(c!==null){var v=Vn();Wr(c,s,a,v)}Mp(s,a)}},mc=function(){return yt},gc=function(s,a){var c=yt;try{return yt=s,a()}finally{yt=c}},Ko=function(s,a,c){switch(a){case"input":if(Xe(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var v=c[a];if(v!==s&&v.form===s.form){var k=Oc(v);if(!k)throw Error(t(90));Ce(v),Xe(v,k)}}}break;case"textarea":Le(s,c);break;case"select":a=c.value,a!=null&&Te(s,!!c.multiple,a,!1)}},so=Pp,vl=So;var JT={usingClientEntryPoint:!1,Events:[ql,_a,Oc,ei,yl,Pp]},eu={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QT={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=El(s),s===null?null:s.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||GT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{co=vh.inject(QT),sr=vh}catch{}}return tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JT,tr.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vp(a))throw Error(t(200));return $T(s,a,null,c)},tr.createRoot=function(s,a){if(!Vp(s))throw Error(t(299));var c=!1,v="",k=f1;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onRecoverableError!==void 0&&(k=a.onRecoverableError)),a=Bp(s,1,!1,null,null,c,!1,v,k),s[Ni]=a.current,jl(s.nodeType===8?s.parentNode:s),new qp(a)},tr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=El(a),s=s===null?null:s.stateNode,s},tr.flushSync=function(s){return So(s)},tr.hydrate=function(s,a,c){if(!gh(a))throw Error(t(200));return yh(null,s,a,!0,c)},tr.hydrateRoot=function(s,a,c){if(!Vp(s))throw Error(t(405));var v=c!=null&&c.hydratedSources||null,k=!1,j="",z=f1;if(c!=null&&(c.unstable_strictMode===!0&&(k=!0),c.identifierPrefix!==void 0&&(j=c.identifierPrefix),c.onRecoverableError!==void 0&&(z=c.onRecoverableError)),a=h1(a,null,s,1,c??null,k,!1,j,z),s[Ni]=a.current,jl(s),v)for(s=0;s<v.length;s++)c=v[s],k=c._getVersion,k=k(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,k]:a.mutableSourceEagerHydrationData.push(c,k);return new mh(a)},tr.render=function(s,a,c){if(!gh(a))throw Error(t(200));return yh(null,s,a,!1,c)},tr.unmountComponentAtNode=function(s){if(!gh(s))throw Error(t(40));return s._reactRootContainer?(So(function(){yh(null,null,s,!1,function(){s._reactRootContainer=null,s[Ni]=null})}),!0):!1},tr.unstable_batchedUpdates=Pp,tr.unstable_renderSubtreeIntoContainer=function(s,a,c,v){if(!gh(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return yh(s,a,c,!1,v)},tr.version="18.3.1-next-f1338f8080-20240426",tr}var C1;function Iy(){if(C1)return Hp.exports;C1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hp.exports=sI(),Hp.exports}var A1;function oI(){if(A1)return _h;A1=1;var r=Iy();return _h.createRoot=r.createRoot,_h.hydrateRoot=r.hydrateRoot,_h}var aI=oI();const lI=()=>{};var b1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},uI=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],l=r[t++],u=r[t++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},FC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],l=i+1<r.length,u=l?r[i+1]:0,h=i+2<r.length,d=h?r[i+2]:0,g=o>>2,m=(o&3)<<4|u>>4;let f=(u&15)<<2|d>>6,y=d&63;h||(y=64,l||(f=64)),n.push(t[g],t[m],t[f],t[y])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(LC(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):uI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],u=i<r.length?t[r.charAt(i)]:0;++i;const d=i<r.length?t[r.charAt(i)]:64;++i;const m=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||u==null||d==null||m==null)throw new cI;const f=o<<2|u>>4;if(n.push(f),d!==64){const y=u<<4&240|d>>2;if(n.push(y),m!==64){const b=d<<6&192|m;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class cI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hI=function(r){const e=LC(r);return FC.encodeByteArray(e,!0)},Qh=function(r){return hI(r).replace(/\./g,"")},jC=function(r){try{return FC.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=()=>dI().__FIREBASE_DEFAULTS__,pI=()=>{if(typeof process>"u"||typeof b1>"u")return;const r=b1.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mI=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&jC(r[1]);return e&&JSON.parse(e)},bd=()=>{try{return lI()||fI()||pI()||mI()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},BC=r=>{var e,t;return(t=(e=bd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},MC=r=>{const e=BC(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},qC=()=>{var r;return(r=bd())===null||r===void 0?void 0:r.config},VC=r=>{var e;return(e=bd())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(r){return r.endsWith(".cloudworkstations.dev")}async function Dy(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Qh(JSON.stringify(t)),Qh(JSON.stringify(l)),""].join(".")}const pu={};function yI(){const r={prod:[],emulator:[]};for(const e of Object.keys(pu))pu[e]?r.emulator.push(e):r.prod.push(e);return r}function vI(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let x1=!1;function ky(r,e){if(typeof window>"u"||typeof document>"u"||!Qs(window.location.host)||pu[r]===e||pu[r]||x1)return;pu[r]=e;function t(f){return`__firebase__banner__${f}`}const n="__firebase__banner",o=yI().prod.length>0;function l(){const f=document.getElementById(n);f&&f.remove()}function u(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function h(f,y){f.setAttribute("width","24"),f.setAttribute("id",y),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function d(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{x1=!0,l()},f}function g(f,y){f.setAttribute("id",y),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function m(){const f=vI(n),y=t("text"),b=document.getElementById(y)||document.createElement("span"),x=t("learnmore"),C=document.getElementById(x)||document.createElement("a"),w=t("preprendIcon"),E=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const P=f.element;u(P),g(C,x);const S=d();h(E,w),P.append(E,b,C,S),document.body.appendChild(P)}o?(b.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function wI(){var r;const e=(r=bd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function AI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bI(){const r=jn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xI(){return!wI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SI(){try{return typeof indexedDB=="object"}catch{return!1}}function TI(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="FirebaseError";class Ai extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=II,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?DI(o,n):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ai(i,u,n)}}function DI(r,e){return r.replace(kI,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const kI=/\{\$([^}]+)}/g;function RI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Oo(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],l=e[i];if(S1(o)&&S1(l)){if(!Oo(o,l))return!1}else if(o!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function S1(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function su(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ou(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function PI(r,e){const t=new NI(r,e);return t.subscribe.bind(t)}class NI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");OI(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Gp),i.error===void 0&&(i.error=Gp),i.complete===void 0&&(i.complete=Gp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Gp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r){return r&&r._delegate?r._delegate:r}class Vs{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new gI;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jI(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);n===u&&l.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:FI(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FI(r){return r===ko?void 0:r}function jI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new LI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(mt||(mt={}));const MI={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},qI=mt.INFO,VI={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},UI=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=VI[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ry{constructor(e){this.name=e,this._logLevel=qI,this._logHandler=UI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const zI=(r,e)=>e.some(t=>r instanceof t);let T1,I1;function HI(){return T1||(T1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WI(){return I1||(I1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zC=new WeakMap,Kg=new WeakMap,HC=new WeakMap,Kp=new WeakMap,Py=new WeakMap;function $I(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(js(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&zC.set(t,r)}).catch(()=>{}),Py.set(e,r),e}function GI(r){if(Kg.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});Kg.set(r,e)}let Jg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Kg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||HC.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return js(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function KI(r){Jg=r(Jg)}function JI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Jp(this),e,...t);return HC.set(n,e.sort?e.sort():[e]),js(n)}:WI().includes(r)?function(...e){return r.apply(Jp(this),e),js(zC.get(this))}:function(...e){return js(r.apply(Jp(this),e))}}function QI(r){return typeof r=="function"?JI(r):(r instanceof IDBTransaction&&GI(r),zI(r,HI())?new Proxy(r,Jg):r)}function js(r){if(r instanceof IDBRequest)return $I(r);if(Kp.has(r))return Kp.get(r);const e=QI(r);return e!==r&&(Kp.set(r,e),Py.set(e,r)),e}const Jp=r=>Py.get(r);function YI(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(r,e),u=js(l);return n&&l.addEventListener("upgradeneeded",h=>{n(js(l.result),h.oldVersion,h.newVersion,js(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const XI=["get","getKey","getAll","getAllKeys","count"],ZI=["put","add","delete","clear"],Qp=new Map;function D1(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=ZI.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||XI.includes(t)))return;const o=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let d=h.store;return n&&(d=d.index(u.shift())),(await Promise.all([d[t](...u),i&&h.done]))[0]};return Qp.set(e,o),o}KI(r=>({...r,get:(e,t,n)=>D1(e,t)||r.get(e,t,n),has:(e,t)=>!!D1(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tD(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function tD(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qg="@firebase/app",k1="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Ry("@firebase/app"),nD="@firebase/app-compat",rD="@firebase/analytics-compat",iD="@firebase/analytics",sD="@firebase/app-check-compat",oD="@firebase/app-check",aD="@firebase/auth",lD="@firebase/auth-compat",uD="@firebase/database",cD="@firebase/data-connect",hD="@firebase/database-compat",dD="@firebase/functions",fD="@firebase/functions-compat",pD="@firebase/installations",mD="@firebase/installations-compat",gD="@firebase/messaging",yD="@firebase/messaging-compat",vD="@firebase/performance",_D="@firebase/performance-compat",wD="@firebase/remote-config",ED="@firebase/remote-config-compat",CD="@firebase/storage",AD="@firebase/storage-compat",bD="@firebase/firestore",xD="@firebase/ai",SD="@firebase/firestore-compat",TD="firebase",ID="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="[DEFAULT]",DD={[Qg]:"fire-core",[nD]:"fire-core-compat",[iD]:"fire-analytics",[rD]:"fire-analytics-compat",[oD]:"fire-app-check",[sD]:"fire-app-check-compat",[aD]:"fire-auth",[lD]:"fire-auth-compat",[uD]:"fire-rtdb",[cD]:"fire-data-connect",[hD]:"fire-rtdb-compat",[dD]:"fire-fn",[fD]:"fire-fn-compat",[pD]:"fire-iid",[mD]:"fire-iid-compat",[gD]:"fire-fcm",[yD]:"fire-fcm-compat",[vD]:"fire-perf",[_D]:"fire-perf-compat",[wD]:"fire-rc",[ED]:"fire-rc-compat",[CD]:"fire-gcs",[AD]:"fire-gcs-compat",[bD]:"fire-fst",[SD]:"fire-fst-compat",[xD]:"fire-vertex","fire-js":"fire-js",[TD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,kD=new Map,Xg=new Map;function R1(r,e){try{r.container.addComponent(e)}catch(t){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Lo(r){const e=r.name;if(Xg.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;Xg.set(e,r);for(const t of Yh.values())R1(t,r);for(const t of kD.values())R1(t,r);return!0}function xd(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function dr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new Vu("app","Firebase",RD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=ID;function WC(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Yg,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw Bs.create("bad-app-name",{appName:String(i)});if(t||(t=qC()),!t)throw Bs.create("no-options");const o=Yh.get(i);if(o){if(Oo(t,o.options)&&Oo(n,o.config))return o;throw Bs.create("duplicate-app",{appName:i})}const l=new BI(i);for(const h of Xg.values())l.addComponent(h);const u=new PD(t,n,l);return Yh.set(i,u),u}function Ny(r=Yg){const e=Yh.get(r);if(!e&&r===Yg&&qC())return WC();if(!e)throw Bs.create("no-app",{appName:r});return e}function pi(r,e,t){var n;let i=(n=DD[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(u.join(" "));return}Lo(new Vs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="firebase-heartbeat-database",OD=1,Au="firebase-heartbeat-store";let Yp=null;function $C(){return Yp||(Yp=YI(ND,OD,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Au)}catch(t){console.warn(t)}}}}).catch(r=>{throw Bs.create("idb-open",{originalErrorMessage:r.message})})),Yp}async function LD(r){try{const t=(await $C()).transaction(Au),n=await t.objectStore(Au).get(GC(r));return await t.done,n}catch(e){if(e instanceof Ai)Gi.warn(e.message);else{const t=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(t.message)}}}async function P1(r,e){try{const n=(await $C()).transaction(Au,"readwrite");await n.objectStore(Au).put(e,GC(r)),await n.done}catch(t){if(t instanceof Ai)Gi.warn(t.message);else{const n=Bs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Gi.warn(n.message)}}}function GC(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=1024,jD=30;class BD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qD(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=N1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>jD){const l=VD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Gi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=N1(),{heartbeatsToSend:n,unsentEntries:i}=MD(this._heartbeatsCache.heartbeats),o=Qh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Gi.warn(t),""}}}function N1(){return new Date().toISOString().substring(0,10)}function MD(r,e=FD){const t=[];let n=r.slice();for(const i of r){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),O1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),O1(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class qD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SI()?TI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await LD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return P1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return P1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function O1(r){return Qh(JSON.stringify({version:2,heartbeats:r})).length}function VD(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(r){Lo(new Vs("platform-logger",e=>new eD(e),"PRIVATE")),Lo(new Vs("heartbeat",e=>new BD(e),"PRIVATE")),pi(Qg,k1,r),pi(Qg,k1,"esm2017"),pi("fire-js","")}UD("");var zD="firebase",HD="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(zD,HD,"app");var L1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,KC;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function T(){}T.prototype=A.prototype,R.D=A.prototype,R.prototype=new T,R.prototype.constructor=R,R.C=function(I,D,N){for(var L=Array(arguments.length-2),U=2;U<arguments.length;U++)L[U-2]=arguments[U];return A.prototype[D].apply(I,L)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,A,T){T||(T=0);var I=Array(16);if(typeof A=="string")for(var D=0;16>D;++D)I[D]=A.charCodeAt(T++)|A.charCodeAt(T++)<<8|A.charCodeAt(T++)<<16|A.charCodeAt(T++)<<24;else for(D=0;16>D;++D)I[D]=A[T++]|A[T++]<<8|A[T++]<<16|A[T++]<<24;A=R.g[0],T=R.g[1],D=R.g[2];var N=R.g[3],L=A+(N^T&(D^N))+I[0]+3614090360&4294967295;A=T+(L<<7&4294967295|L>>>25),L=N+(D^A&(T^D))+I[1]+3905402710&4294967295,N=A+(L<<12&4294967295|L>>>20),L=D+(T^N&(A^T))+I[2]+606105819&4294967295,D=N+(L<<17&4294967295|L>>>15),L=T+(A^D&(N^A))+I[3]+3250441966&4294967295,T=D+(L<<22&4294967295|L>>>10),L=A+(N^T&(D^N))+I[4]+4118548399&4294967295,A=T+(L<<7&4294967295|L>>>25),L=N+(D^A&(T^D))+I[5]+1200080426&4294967295,N=A+(L<<12&4294967295|L>>>20),L=D+(T^N&(A^T))+I[6]+2821735955&4294967295,D=N+(L<<17&4294967295|L>>>15),L=T+(A^D&(N^A))+I[7]+4249261313&4294967295,T=D+(L<<22&4294967295|L>>>10),L=A+(N^T&(D^N))+I[8]+1770035416&4294967295,A=T+(L<<7&4294967295|L>>>25),L=N+(D^A&(T^D))+I[9]+2336552879&4294967295,N=A+(L<<12&4294967295|L>>>20),L=D+(T^N&(A^T))+I[10]+4294925233&4294967295,D=N+(L<<17&4294967295|L>>>15),L=T+(A^D&(N^A))+I[11]+2304563134&4294967295,T=D+(L<<22&4294967295|L>>>10),L=A+(N^T&(D^N))+I[12]+1804603682&4294967295,A=T+(L<<7&4294967295|L>>>25),L=N+(D^A&(T^D))+I[13]+4254626195&4294967295,N=A+(L<<12&4294967295|L>>>20),L=D+(T^N&(A^T))+I[14]+2792965006&4294967295,D=N+(L<<17&4294967295|L>>>15),L=T+(A^D&(N^A))+I[15]+1236535329&4294967295,T=D+(L<<22&4294967295|L>>>10),L=A+(D^N&(T^D))+I[1]+4129170786&4294967295,A=T+(L<<5&4294967295|L>>>27),L=N+(T^D&(A^T))+I[6]+3225465664&4294967295,N=A+(L<<9&4294967295|L>>>23),L=D+(A^T&(N^A))+I[11]+643717713&4294967295,D=N+(L<<14&4294967295|L>>>18),L=T+(N^A&(D^N))+I[0]+3921069994&4294967295,T=D+(L<<20&4294967295|L>>>12),L=A+(D^N&(T^D))+I[5]+3593408605&4294967295,A=T+(L<<5&4294967295|L>>>27),L=N+(T^D&(A^T))+I[10]+38016083&4294967295,N=A+(L<<9&4294967295|L>>>23),L=D+(A^T&(N^A))+I[15]+3634488961&4294967295,D=N+(L<<14&4294967295|L>>>18),L=T+(N^A&(D^N))+I[4]+3889429448&4294967295,T=D+(L<<20&4294967295|L>>>12),L=A+(D^N&(T^D))+I[9]+568446438&4294967295,A=T+(L<<5&4294967295|L>>>27),L=N+(T^D&(A^T))+I[14]+3275163606&4294967295,N=A+(L<<9&4294967295|L>>>23),L=D+(A^T&(N^A))+I[3]+4107603335&4294967295,D=N+(L<<14&4294967295|L>>>18),L=T+(N^A&(D^N))+I[8]+1163531501&4294967295,T=D+(L<<20&4294967295|L>>>12),L=A+(D^N&(T^D))+I[13]+2850285829&4294967295,A=T+(L<<5&4294967295|L>>>27),L=N+(T^D&(A^T))+I[2]+4243563512&4294967295,N=A+(L<<9&4294967295|L>>>23),L=D+(A^T&(N^A))+I[7]+1735328473&4294967295,D=N+(L<<14&4294967295|L>>>18),L=T+(N^A&(D^N))+I[12]+2368359562&4294967295,T=D+(L<<20&4294967295|L>>>12),L=A+(T^D^N)+I[5]+4294588738&4294967295,A=T+(L<<4&4294967295|L>>>28),L=N+(A^T^D)+I[8]+2272392833&4294967295,N=A+(L<<11&4294967295|L>>>21),L=D+(N^A^T)+I[11]+1839030562&4294967295,D=N+(L<<16&4294967295|L>>>16),L=T+(D^N^A)+I[14]+4259657740&4294967295,T=D+(L<<23&4294967295|L>>>9),L=A+(T^D^N)+I[1]+2763975236&4294967295,A=T+(L<<4&4294967295|L>>>28),L=N+(A^T^D)+I[4]+1272893353&4294967295,N=A+(L<<11&4294967295|L>>>21),L=D+(N^A^T)+I[7]+4139469664&4294967295,D=N+(L<<16&4294967295|L>>>16),L=T+(D^N^A)+I[10]+3200236656&4294967295,T=D+(L<<23&4294967295|L>>>9),L=A+(T^D^N)+I[13]+681279174&4294967295,A=T+(L<<4&4294967295|L>>>28),L=N+(A^T^D)+I[0]+3936430074&4294967295,N=A+(L<<11&4294967295|L>>>21),L=D+(N^A^T)+I[3]+3572445317&4294967295,D=N+(L<<16&4294967295|L>>>16),L=T+(D^N^A)+I[6]+76029189&4294967295,T=D+(L<<23&4294967295|L>>>9),L=A+(T^D^N)+I[9]+3654602809&4294967295,A=T+(L<<4&4294967295|L>>>28),L=N+(A^T^D)+I[12]+3873151461&4294967295,N=A+(L<<11&4294967295|L>>>21),L=D+(N^A^T)+I[15]+530742520&4294967295,D=N+(L<<16&4294967295|L>>>16),L=T+(D^N^A)+I[2]+3299628645&4294967295,T=D+(L<<23&4294967295|L>>>9),L=A+(D^(T|~N))+I[0]+4096336452&4294967295,A=T+(L<<6&4294967295|L>>>26),L=N+(T^(A|~D))+I[7]+1126891415&4294967295,N=A+(L<<10&4294967295|L>>>22),L=D+(A^(N|~T))+I[14]+2878612391&4294967295,D=N+(L<<15&4294967295|L>>>17),L=T+(N^(D|~A))+I[5]+4237533241&4294967295,T=D+(L<<21&4294967295|L>>>11),L=A+(D^(T|~N))+I[12]+1700485571&4294967295,A=T+(L<<6&4294967295|L>>>26),L=N+(T^(A|~D))+I[3]+2399980690&4294967295,N=A+(L<<10&4294967295|L>>>22),L=D+(A^(N|~T))+I[10]+4293915773&4294967295,D=N+(L<<15&4294967295|L>>>17),L=T+(N^(D|~A))+I[1]+2240044497&4294967295,T=D+(L<<21&4294967295|L>>>11),L=A+(D^(T|~N))+I[8]+1873313359&4294967295,A=T+(L<<6&4294967295|L>>>26),L=N+(T^(A|~D))+I[15]+4264355552&4294967295,N=A+(L<<10&4294967295|L>>>22),L=D+(A^(N|~T))+I[6]+2734768916&4294967295,D=N+(L<<15&4294967295|L>>>17),L=T+(N^(D|~A))+I[13]+1309151649&4294967295,T=D+(L<<21&4294967295|L>>>11),L=A+(D^(T|~N))+I[4]+4149444226&4294967295,A=T+(L<<6&4294967295|L>>>26),L=N+(T^(A|~D))+I[11]+3174756917&4294967295,N=A+(L<<10&4294967295|L>>>22),L=D+(A^(N|~T))+I[2]+718787259&4294967295,D=N+(L<<15&4294967295|L>>>17),L=T+(N^(D|~A))+I[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(D+(L<<21&4294967295|L>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+N&4294967295}n.prototype.u=function(R,A){A===void 0&&(A=R.length);for(var T=A-this.blockSize,I=this.B,D=this.h,N=0;N<A;){if(D==0)for(;N<=T;)i(this,R,N),N+=this.blockSize;if(typeof R=="string"){for(;N<A;)if(I[D++]=R.charCodeAt(N++),D==this.blockSize){i(this,I),D=0;break}}else for(;N<A;)if(I[D++]=R[N++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=A},n.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;var T=8*this.o;for(A=R.length-8;A<R.length;++A)R[A]=T&255,T/=256;for(this.u(R),R=Array(16),A=T=0;4>A;++A)for(var I=0;32>I;I+=8)R[T++]=this.g[A]>>>I&255;return R};function o(R,A){var T=u;return Object.prototype.hasOwnProperty.call(T,R)?T[R]:T[R]=A(R)}function l(R,A){this.h=A;for(var T=[],I=!0,D=R.length-1;0<=D;D--){var N=R[D]|0;I&&N==A||(T[D]=N,I=!1)}this.g=T}var u={};function h(R){return-128<=R&&128>R?o(R,function(A){return new l([A|0],0>A?-1:0)}):new l([R|0],0>R?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return m;if(0>R)return C(d(-R));for(var A=[],T=1,I=0;R>=T;I++)A[I]=R/T|0,T*=4294967296;return new l(A,0)}function g(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return C(g(R.substring(1),A));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=d(Math.pow(A,8)),I=m,D=0;D<R.length;D+=8){var N=Math.min(8,R.length-D),L=parseInt(R.substring(D,D+N),A);8>N?(N=d(Math.pow(A,N)),I=I.j(N).add(d(L))):(I=I.j(T),I=I.add(d(L)))}return I}var m=h(0),f=h(1),y=h(16777216);r=l.prototype,r.m=function(){if(x(this))return-C(this).m();for(var R=0,A=1,T=0;T<this.g.length;T++){var I=this.i(T);R+=(0<=I?I:4294967296+I)*A,A*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(b(this))return"0";if(x(this))return"-"+C(this).toString(R);for(var A=d(Math.pow(R,6)),T=this,I="";;){var D=S(T,A).g;T=w(T,D.j(A));var N=((0<T.g.length?T.g[0]:T.h)>>>0).toString(R);if(T=D,b(T))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function b(R){if(R.h!=0)return!1;for(var A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function x(R){return R.h==-1}r.l=function(R){return R=w(this,R),x(R)?-1:b(R)?0:1};function C(R){for(var A=R.g.length,T=[],I=0;I<A;I++)T[I]=~R.g[I];return new l(T,~R.h).add(f)}r.abs=function(){return x(this)?C(this):this},r.add=function(R){for(var A=Math.max(this.g.length,R.g.length),T=[],I=0,D=0;D<=A;D++){var N=I+(this.i(D)&65535)+(R.i(D)&65535),L=(N>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);I=L>>>16,N&=65535,L&=65535,T[D]=L<<16|N}return new l(T,T[T.length-1]&-2147483648?-1:0)};function w(R,A){return R.add(C(A))}r.j=function(R){if(b(this)||b(R))return m;if(x(this))return x(R)?C(this).j(C(R)):C(C(this).j(R));if(x(R))return C(this.j(C(R)));if(0>this.l(y)&&0>R.l(y))return d(this.m()*R.m());for(var A=this.g.length+R.g.length,T=[],I=0;I<2*A;I++)T[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<R.g.length;D++){var N=this.i(I)>>>16,L=this.i(I)&65535,U=R.i(D)>>>16,J=R.i(D)&65535;T[2*I+2*D]+=L*J,E(T,2*I+2*D),T[2*I+2*D+1]+=N*J,E(T,2*I+2*D+1),T[2*I+2*D+1]+=L*U,E(T,2*I+2*D+1),T[2*I+2*D+2]+=N*U,E(T,2*I+2*D+2)}for(I=0;I<A;I++)T[I]=T[2*I+1]<<16|T[2*I];for(I=A;I<2*A;I++)T[I]=0;return new l(T,0)};function E(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function P(R,A){this.g=R,this.h=A}function S(R,A){if(b(A))throw Error("division by zero");if(b(R))return new P(m,m);if(x(R))return A=S(C(R),A),new P(C(A.g),C(A.h));if(x(A))return A=S(R,C(A)),new P(C(A.g),A.h);if(30<R.g.length){if(x(R)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var T=f,I=A;0>=I.l(R);)T=O(T),I=O(I);var D=M(T,1),N=M(I,1);for(I=M(I,2),T=M(T,2);!b(I);){var L=N.add(I);0>=L.l(R)&&(D=D.add(T),N=L),I=M(I,1),T=M(T,1)}return A=w(R,D.j(A)),new P(D,A)}for(D=m;0<=R.l(A);){for(T=Math.max(1,Math.floor(R.m()/A.m())),I=Math.ceil(Math.log(T)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=d(T),L=N.j(A);x(L)||0<L.l(R);)T-=I,N=d(T),L=N.j(A);b(N)&&(N=f),D=D.add(N),R=w(R,L)}return new P(D,R)}r.A=function(R){return S(this,R).h},r.and=function(R){for(var A=Math.max(this.g.length,R.g.length),T=[],I=0;I<A;I++)T[I]=this.i(I)&R.i(I);return new l(T,this.h&R.h)},r.or=function(R){for(var A=Math.max(this.g.length,R.g.length),T=[],I=0;I<A;I++)T[I]=this.i(I)|R.i(I);return new l(T,this.h|R.h)},r.xor=function(R){for(var A=Math.max(this.g.length,R.g.length),T=[],I=0;I<A;I++)T[I]=this.i(I)^R.i(I);return new l(T,this.h^R.h)};function O(R){for(var A=R.g.length+1,T=[],I=0;I<A;I++)T[I]=R.i(I)<<1|R.i(I-1)>>>31;return new l(T,R.h)}function M(R,A){var T=A>>5;A%=32;for(var I=R.g.length-T,D=[],N=0;N<I;N++)D[N]=0<A?R.i(N+T)>>>A|R.i(N+T+1)<<32-A:R.i(N+T);return new l(D,R.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,KC=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=g,Ms=l}).apply(typeof L1<"u"?L1:typeof self<"u"?self:typeof window<"u"?window:{});var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JC,au,QC,Nh,Zg,YC,XC,ZC;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,F,q){return p==Array.prototype||p==Object.prototype||(p[F]=q.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof wh=="object"&&wh];for(var F=0;F<p.length;++F){var q=p[F];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var n=t(this);function i(p,F){if(F)e:{var q=n;p=p.split(".");for(var K=0;K<p.length-1;K++){var ce=p[K];if(!(ce in q))break e;q=q[ce]}p=p[p.length-1],K=q[p],F=F(K),F!=K&&F!=null&&e(q,p,{configurable:!0,writable:!0,value:F})}}function o(p,F){p instanceof String&&(p+="");var q=0,K=!1,ce={next:function(){if(!K&&q<p.length){var me=q++;return{value:F(me,p[me]),done:!1}}return K=!0,{done:!0,value:void 0}}};return ce[Symbol.iterator]=function(){return ce},ce}i("Array.prototype.values",function(p){return p||function(){return o(this,function(F,q){return q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(p){var F=typeof p;return F=F!="object"?F:p?Array.isArray(p)?"array":F:"null",F=="array"||F=="object"&&typeof p.length=="number"}function d(p){var F=typeof p;return F=="object"&&p!=null||F=="function"}function g(p,F,q){return p.call.apply(p.bind,arguments)}function m(p,F,q){if(!p)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ce,K),p.apply(F,ce)}}return function(){return p.apply(F,arguments)}}function f(p,F,q){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:m,f.apply(null,arguments)}function y(p,F){var q=Array.prototype.slice.call(arguments,1);return function(){var K=q.slice();return K.push.apply(K,arguments),p.apply(this,K)}}function b(p,F){function q(){}q.prototype=F.prototype,p.aa=F.prototype,p.prototype=new q,p.prototype.constructor=p,p.Qb=function(K,ce,me){for(var ke=Array(arguments.length-2),St=2;St<arguments.length;St++)ke[St-2]=arguments[St];return F.prototype[ce].apply(K,ke)}}function x(p){const F=p.length;if(0<F){const q=Array(F);for(let K=0;K<F;K++)q[K]=p[K];return q}return[]}function C(p,F){for(let q=1;q<arguments.length;q++){const K=arguments[q];if(h(K)){const ce=p.length||0,me=K.length||0;p.length=ce+me;for(let ke=0;ke<me;ke++)p[ce+ke]=K[ke]}else p.push(K)}}class w{constructor(F,q){this.i=F,this.j=q,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function E(p){return/^[\s\xa0]*$/.test(p)}function P(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function S(p){return S[" "](p),p}S[" "]=function(){};var O=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function M(p,F,q){for(const K in p)F.call(q,p[K],K,p)}function R(p,F){for(const q in p)F.call(void 0,p[q],q,p)}function A(p){const F={};for(const q in p)F[q]=p[q];return F}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(p,F){let q,K;for(let ce=1;ce<arguments.length;ce++){K=arguments[ce];for(q in K)p[q]=K[q];for(let me=0;me<T.length;me++)q=T[me],Object.prototype.hasOwnProperty.call(K,q)&&(p[q]=K[q])}}function D(p){var F=1;p=p.split(":");const q=[];for(;0<F&&p.length;)q.push(p.shift()),F--;return p.length&&q.push(p.join(":")),q}function N(p){u.setTimeout(()=>{throw p},0)}function L(){var p=G;let F=null;return p.g&&(F=p.g,p.g=p.g.next,p.g||(p.h=null),F.next=null),F}class U{constructor(){this.h=this.g=null}add(F,q){const K=J.get();K.set(F,q),this.h?this.h.next=K:this.g=K,this.h=K}}var J=new w(()=>new re,p=>p.reset());class re{constructor(){this.next=this.g=this.h=null}set(F,q){this.h=F,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ie=!1,G=new U,W=()=>{const p=u.Promise.resolve(void 0);Z=()=>{p.then(B)}};var B=()=>{for(var p;p=L();){try{p.h.call(p.g)}catch(q){N(q)}var F=J;F.j(p),100>F.h&&(F.h++,p.next=F.g,F.g=p)}ie=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(p,F){this.type=p,this.g=this.target=F,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,F=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const q=()=>{};u.addEventListener("test",q,F),u.removeEventListener("test",q,F)}catch{}return p}();function ee(p,F){if(H.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var q=this.type=p.type,K=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=F,F=p.relatedTarget){if(O){e:{try{S(F.nodeName);var ce=!0;break e}catch{}ce=!1}ce||(F=null)}}else q=="mouseover"?F=p.fromElement:q=="mouseout"&&(F=p.toElement);this.relatedTarget=F,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:$[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ee.aa.h.call(this)}}b(ee,H);var $={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),Q=0;function te(p,F,q,K,ce){this.listener=p,this.proxy=null,this.src=F,this.type=q,this.capture=!!K,this.ha=ce,this.key=++Q,this.da=this.fa=!1}function ae(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ge(p){this.src=p,this.g={},this.h=0}ge.prototype.add=function(p,F,q,K,ce){var me=p.toString();p=this.g[me],p||(p=this.g[me]=[],this.h++);var ke=Re(p,F,K,ce);return-1<ke?(F=p[ke],q||(F.fa=!1)):(F=new te(F,this.src,me,!!K,ce),F.fa=q,p.push(F)),F};function Ce(p,F){var q=F.type;if(q in p.g){var K=p.g[q],ce=Array.prototype.indexOf.call(K,F,void 0),me;(me=0<=ce)&&Array.prototype.splice.call(K,ce,1),me&&(ae(F),p.g[q].length==0&&(delete p.g[q],p.h--))}}function Re(p,F,q,K){for(var ce=0;ce<p.length;++ce){var me=p[ce];if(!me.da&&me.listener==F&&me.capture==!!q&&me.ha==K)return ce}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),Ne={};function Fe(p,F,q,K,ce){if(Array.isArray(F)){for(var me=0;me<F.length;me++)Fe(p,F[me],q,K,ce);return null}return q=ze(q),p&&p[Y]?p.K(F,q,d(K)?!!K.capture:!1,ce):Xe(p,F,q,!1,K,ce)}function Xe(p,F,q,K,ce,me){if(!F)throw Error("Invalid event type");var ke=d(ce)?!!ce.capture:!!ce,St=$e(p);if(St||(p[Pe]=St=new ge(p)),q=St.add(F,q,K,ke,me),q.proxy)return q;if(K=ue(),q.proxy=K,K.src=p,K.listener=q,p.addEventListener)ne||(ce=ke),ce===void 0&&(ce=!1),p.addEventListener(F.toString(),K,ce);else if(p.attachEvent)p.attachEvent(Te(F.toString()),K);else if(p.addListener&&p.removeListener)p.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return q}function ue(){function p(q){return F.call(p.src,p.listener,q)}const F=ye;return p}function fe(p,F,q,K,ce){if(Array.isArray(F))for(var me=0;me<F.length;me++)fe(p,F[me],q,K,ce);else K=d(K)?!!K.capture:!!K,q=ze(q),p&&p[Y]?(p=p.i,F=String(F).toString(),F in p.g&&(me=p.g[F],q=Re(me,q,K,ce),-1<q&&(ae(me[q]),Array.prototype.splice.call(me,q,1),me.length==0&&(delete p.g[F],p.h--)))):p&&(p=$e(p))&&(F=p.g[F.toString()],p=-1,F&&(p=Re(F,q,K,ce)),(q=-1<p?F[p]:null)&&Ee(q))}function Ee(p){if(typeof p!="number"&&p&&!p.da){var F=p.src;if(F&&F[Y])Ce(F.i,p);else{var q=p.type,K=p.proxy;F.removeEventListener?F.removeEventListener(q,K,p.capture):F.detachEvent?F.detachEvent(Te(q),K):F.addListener&&F.removeListener&&F.removeListener(K),(q=$e(F))?(Ce(q,p),q.h==0&&(q.src=null,F[Pe]=null)):ae(p)}}}function Te(p){return p in Ne?Ne[p]:Ne[p]="on"+p}function ye(p,F){if(p.da)p=!0;else{F=new ee(F,this);var q=p.listener,K=p.ha||p.src;p.fa&&Ee(p),p=q.call(K,F)}return p}function $e(p){return p=p[Pe],p instanceof ge?p:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function ze(p){return typeof p=="function"?p:(p[Le]||(p[Le]=function(F){return p.handleEvent(F)}),p[Le])}function Ke(){V.call(this),this.i=new ge(this),this.M=this,this.F=null}b(Ke,V),Ke.prototype[Y]=!0,Ke.prototype.removeEventListener=function(p,F,q,K){fe(this,p,F,q,K)};function rt(p,F){var q,K=p.F;if(K)for(q=[];K;K=K.F)q.push(K);if(p=p.M,K=F.type||F,typeof F=="string")F=new H(F,p);else if(F instanceof H)F.target=F.target||p;else{var ce=F;F=new H(K,p),I(F,ce)}if(ce=!0,q)for(var me=q.length-1;0<=me;me--){var ke=F.g=q[me];ce=st(ke,K,!0,F)&&ce}if(ke=F.g=p,ce=st(ke,K,!0,F)&&ce,ce=st(ke,K,!1,F)&&ce,q)for(me=0;me<q.length;me++)ke=F.g=q[me],ce=st(ke,K,!1,F)&&ce}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var p=this.i,F;for(F in p.g){for(var q=p.g[F],K=0;K<q.length;K++)ae(q[K]);delete p.g[F],p.h--}}this.F=null},Ke.prototype.K=function(p,F,q,K){return this.i.add(String(p),F,!1,q,K)},Ke.prototype.L=function(p,F,q,K){return this.i.add(String(p),F,!0,q,K)};function st(p,F,q,K){if(F=p.i.g[String(F)],!F)return!0;F=F.concat();for(var ce=!0,me=0;me<F.length;++me){var ke=F[me];if(ke&&!ke.da&&ke.capture==q){var St=ke.listener,ln=ke.ha||ke.src;ke.fa&&Ce(p.i,ke),ce=St.call(ln,K)!==!1&&ce}}return ce&&!K.defaultPrevented}function Gn(p,F,q){if(typeof p=="function")q&&(p=f(p,q));else if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:u.setTimeout(p,F||0)}function vt(p){p.g=Gn(()=>{p.g=null,p.i&&(p.i=!1,vt(p))},p.l);const F=p.h;p.h=null,p.m.apply(null,F)}class kt extends V{constructor(F,q){super(),this.m=F,this.l=q,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:vt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(p){V.call(this),this.h=p,this.g={}}b(tn,V);var kr=[];function rs(p){M(p.g,function(F,q){this.g.hasOwnProperty(q)&&Ee(F)},p),p.g={}}tn.prototype.N=function(){tn.aa.N.call(this),rs(this)},tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pl=u.JSON.stringify,ml=u.JSON.parse,gl=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function io(){}io.prototype.h=null;function Go(p){return p.h||(p.h=p.i())}function Ko(){}var yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zr(){H.call(this,"d")}b(Zr,H);function Jo(){H.call(this,"c")}b(Jo,H);var ei={},yl=null;function so(){return yl=yl||new Ke}ei.La="serverreachability";function vl(p){H.call(this,ei.La,p)}b(vl,H);function Ti(p){const F=so();rt(F,new vl(F))}ei.STAT_EVENT="statevent";function _l(p,F){H.call(this,ei.STAT_EVENT,p),this.stat=F}b(_l,H);function Qt(p){const F=so();rt(F,new _l(F,p))}ei.Ma="timingevent";function Qo(p,F){H.call(this,ei.Ma,p),this.size=F}b(Qo,H);function Rr(p,F){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},F)}function oo(){this.g=!0}oo.prototype.xa=function(){this.g=!1};function ao(p,F,q,K,ce,me){p.info(function(){if(p.g)if(me)for(var ke="",St=me.split("&"),ln=0;ln<St.length;ln++){var _t=St[ln].split("=");if(1<_t.length){var pn=_t[0];_t=_t[1];var nn=pn.split("_");ke=2<=nn.length&&nn[1]=="type"?ke+(pn+"="+_t+"&"):ke+(pn+"=redacted&")}}else ke=null;else ke=me;return"XMLHTTP REQ ("+K+") [attempt "+ce+"]: "+F+`
`+q+`
`+ke})}function Yo(p,F,q,K,ce,me,ke){p.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+ce+"]: "+F+`
`+q+`
`+me+" "+ke})}function Pr(p,F,q,K){p.info(function(){return"XMLHTTP TEXT ("+F+"): "+gf(p,q)+(K?" "+K:"")})}function wl(p,F){p.info(function(){return"TIMEOUT: "+F})}oo.prototype.info=function(){};function gf(p,F){if(!p.g)return F;if(!F)return null;try{var q=JSON.parse(F);if(q){for(p=0;p<q.length;p++)if(Array.isArray(q[p])){var K=q[p];if(!(2>K.length)){var ce=K[1];if(Array.isArray(ce)&&!(1>ce.length)){var me=ce[0];if(me!="noop"&&me!="stop"&&me!="close")for(var ke=1;ke<ce.length;ke++)ce[ke]=""}}}}return pl(q)}catch{return F}}var Xo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nr;function lo(){}b(lo,io),lo.prototype.g=function(){return new XMLHttpRequest},lo.prototype.i=function(){return{}},Nr=new lo;function Or(p,F,q,K){this.j=p,this.i=F,this.l=q,this.R=K||1,this.U=new tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oc}function oc(){this.i=null,this.g="",this.h=!1}var El={},Zo={};function ea(p,F,q){p.L=1,p.v=ls(or(F)),p.m=q,p.P=!0,Cl(p,null)}function Cl(p,F){p.F=Date.now(),Rt(p),p.A=or(p.v);var q=p.A,K=p.R;Array.isArray(K)||(K=[String(K)]),cs(q.i,"t",K),p.C=0,q=p.j.J,p.h=new oc,p.g=bc(p.j,q?F:null,!p.m),0<p.O&&(p.M=new kt(f(p.Y,p,p.g),p.O)),F=p.U,q=p.g,K=p.ca;var ce="readystatechange";Array.isArray(ce)||(ce&&(kr[0]=ce.toString()),ce=kr);for(var me=0;me<ce.length;me++){var ke=Fe(q,ce[me],K||F.handleEvent,!1,F.h||F);if(!ke)break;F.g[ke.key]=ke}F=p.H?A(p.H):{},p.m?(p.u||(p.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,F)):(p.u="GET",p.g.ea(p.A,p.u,null,F)),Ti(),ao(p.i,p.u,p.A,p.l,p.R,p.m)}Or.prototype.ca=function(p){p=p.target;const F=this.M;F&&Jn(p)==3?F.j():this.Y(p)},Or.prototype.Y=function(p){try{if(p==this.g)e:{const nn=Jn(this.g);var F=this.g.Ba();const wr=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||Il(this.g)))){this.J||nn!=4||F==7||(F==8||0>=wr?Ti(3):Ti(2)),uo(this);var q=this.g.Z();this.X=q;t:if(ac(this)){var K=Il(this.g);p="";var ce=K.length,me=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vr(this),is(this);var ke="";break t}this.h.i=new u.TextDecoder}for(F=0;F<ce;F++)this.h.h=!0,p+=this.h.i.decode(K[F],{stream:!(me&&F==ce-1)});K.length=0,this.h.g+=p,this.C=0,ke=this.h.g}else ke=this.g.oa();if(this.o=q==200,Yo(this.i,this.u,this.A,this.l,this.R,nn,q),this.o){if(this.T&&!this.K){t:{if(this.g){var St,ln=this.g;if((St=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(St)){var _t=St;break t}}_t=null}if(q=_t)Pr(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Al(this,q);else{this.o=!1,this.s=3,Qt(12),vr(this),is(this);break e}}if(this.P){q=!0;let lr;for(;!this.J&&this.C<ke.length;)if(lr=yf(this,ke),lr==Zo){nn==4&&(this.s=4,Qt(14),q=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(lr==El){this.s=4,Qt(15),Pr(this.i,this.l,ke,"[Invalid Chunk]"),q=!1;break}else Pr(this.i,this.l,lr,null),Al(this,lr);if(ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ke.length!=0||this.h.h||(this.s=1,Qt(16),q=!1),this.o=this.o&&q,!q)Pr(this.i,this.l,ke,"[Invalid Chunked Response]"),vr(this),is(this);else if(0<ke.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+ke.length),kl(pn),pn.M=!0,Qt(11))}}else Pr(this.i,this.l,ke,null),Al(this,ke);nn==4&&vr(this),this.o&&!this.J&&(nn==4?ha(this.j,this):(this.o=!1,Rt(this)))}else oa(this.g),q==400&&0<ke.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),vr(this),is(this)}}}catch{}finally{}};function ac(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function yf(p,F){var q=p.C,K=F.indexOf(`
`,q);return K==-1?Zo:(q=Number(F.substring(q,K)),isNaN(q)?El:(K+=1,K+q>F.length?Zo:(F=F.slice(K,K+q),p.C=K+q,F)))}Or.prototype.cancel=function(){this.J=!0,vr(this)};function Rt(p){p.S=Date.now()+p.I,lc(p,p.I)}function lc(p,F){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Rr(f(p.ba,p),F)}function uo(p){p.B&&(u.clearTimeout(p.B),p.B=null)}Or.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(wl(this.i,this.A),this.L!=2&&(Ti(),Qt(17)),vr(this),this.s=2,is(this)):lc(this,this.S-p)};function is(p){p.j.G==0||p.J||ha(p.j,p)}function vr(p){uo(p);var F=p.M;F&&typeof F.ma=="function"&&F.ma(),p.M=null,rs(p.U),p.g&&(F=p.g,p.g=null,F.abort(),F.ma())}function Al(p,F){try{var q=p.j;if(q.G!=0&&(q.g==p||Bn(q.h,p))){if(!p.K&&Bn(q.h,p)&&q.G==3){try{var K=q.Da.g.parse(F)}catch{K=null}if(Array.isArray(K)&&K.length==3){var ce=K;if(ce[0]==0){e:if(!q.u){if(q.g)if(q.g.F+3e3<p.F)ca(q),Mr(q);else break e;ua(q),Qt(18)}}else q.za=ce[1],0<q.za-q.T&&37500>ce[2]&&q.F&&q.v==0&&!q.C&&(q.C=Rr(f(q.Za,q),6e3));if(1>=cc(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Pi(q,11)}else if((p.K||q.g==p)&&ca(q),!E(F))for(ce=q.Da.g.parse(F),F=0;F<ce.length;F++){let _t=ce[F];if(q.T=_t[0],_t=_t[1],q.G==2)if(_t[0]=="c"){q.K=_t[1],q.ia=_t[2];const pn=_t[3];pn!=null&&(q.la=pn,q.j.info("VER="+q.la));const nn=_t[4];nn!=null&&(q.Aa=nn,q.j.info("SVER="+q.Aa));const wr=_t[5];wr!=null&&typeof wr=="number"&&0<wr&&(K=1.5*wr,q.L=K,q.j.info("backChannelRequestTimeoutMs_="+K)),K=q;const lr=p.g;if(lr){const yo=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yo){var me=K.h;me.g||yo.indexOf("spdy")==-1&&yo.indexOf("quic")==-1&&yo.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(bl(me,me.h),me.h=null))}if(K.D){const fa=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(K.ya=fa,It(K.I,K.D,fa))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-p.F,q.j.info("Handshake RTT: "+q.R+"ms")),K=q;var ke=p;if(K.qa=Ac(K,K.J?K.ia:null,K.W),ke.K){hc(K.h,ke);var St=ke,ln=K.L;ln&&(St.I=ln),St.B&&(uo(St),Rt(St)),K.g=ke}else go(K);0<q.i.length&&ii(q)}else _t[0]!="stop"&&_t[0]!="close"||Pi(q,7);else q.G==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?Pi(q,7):En(q):_t[0]!="noop"&&q.l&&q.l.ta(_t),q.v=0)}}Ti(4)}catch{}}var uc=class{constructor(p,F){this.g=p,this.map=F}};function co(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sr(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function cc(p){return p.h?1:p.g?p.g.size:0}function Bn(p,F){return p.h?p.h==F:p.g?p.g.has(F):!1}function bl(p,F){p.g?p.g.add(F):p.h=F}function hc(p,F){p.h&&p.h==F?p.h=null:p.g&&p.g.has(F)&&p.g.delete(F)}co.prototype.cancel=function(){if(this.i=dc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function dc(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let F=p.i;for(const q of p.g.values())F=F.concat(q.D);return F}return x(p.i)}function ta(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var F=[],q=p.length,K=0;K<q;K++)F.push(p[K]);return F}F=[],q=0;for(K in p)F[q++]=p[K];return F}function na(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(h(p)||typeof p=="string"){var F=[];p=p.length;for(var q=0;q<p;q++)F.push(q);return F}F=[],q=0;for(const K in p)F[q++]=K;return F}}}function ss(p,F){if(p.forEach&&typeof p.forEach=="function")p.forEach(F,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,F,void 0);else for(var q=na(p),K=ta(p),ce=K.length,me=0;me<ce;me++)F.call(void 0,K[me],q&&q[me],p)}var ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vf(p,F){if(p){p=p.split("&");for(var q=0;q<p.length;q++){var K=p[q].indexOf("="),ce=null;if(0<=K){var me=p[q].substring(0,K);ce=p[q].substring(K+1)}else me=p[q];F(me,ce?decodeURIComponent(ce.replace(/\+/g," ")):"")}}}function Ii(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ii){this.h=p.h,fo(this,p.j),this.o=p.o,this.g=p.g,os(this,p.s),this.l=p.l;var F=p.i,q=new ti;q.i=F.i,F.g&&(q.g=new Map(F.g),q.h=F.h),as(this,q),this.m=p.m}else p&&(F=String(p).match(ho))?(this.h=!1,fo(this,F[1]||"",!0),this.o=yt(F[2]||""),this.g=yt(F[3]||"",!0),os(this,F[4]),this.l=yt(F[5]||"",!0),as(this,F[6]||"",!0),this.m=yt(F[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}Ii.prototype.toString=function(){var p=[],F=this.j;F&&p.push(us(F,ra,!0),":");var q=this.g;return(q||F=="file")&&(p.push("//"),(F=this.o)&&p.push(us(F,ra,!0),"@"),p.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.s,q!=null&&p.push(":",String(q))),(q=this.l)&&(this.g&&q.charAt(0)!="/"&&p.push("/"),p.push(us(q,q.charAt(0)=="/"?mc:pc,!0))),(q=this.i.toString())&&p.push("?",q),(q=this.m)&&p.push("#",us(q,xl)),p.join("")};function or(p){return new Ii(p)}function fo(p,F,q){p.j=q?yt(F,!0):F,p.j&&(p.j=p.j.replace(/:$/,""))}function os(p,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);p.s=F}else p.s=null}function as(p,F,q){F instanceof ti?(p.i=F,ni(p.i,p.h)):(q||(F=us(F,gc)),p.i=new ti(F,p.h))}function It(p,F,q){p.i.set(F,q)}function ls(p){return It(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function yt(p,F){return p?F?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function us(p,F,q){return typeof p=="string"?(p=encodeURI(p).replace(F,fc),q&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function fc(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ra=/[#\/\?@]/g,pc=/[#\?:]/g,mc=/[#\?]/g,gc=/[#\?@]/g,xl=/#/g;function ti(p,F){this.h=this.g=null,this.i=p||null,this.j=!!F}function wn(p){p.g||(p.g=new Map,p.h=0,p.i&&vf(p.i,function(F,q){p.add(decodeURIComponent(F.replace(/\+/g," ")),q)}))}r=ti.prototype,r.add=function(p,F){wn(this),this.i=null,p=_r(this,p);var q=this.g.get(p);return q||this.g.set(p,q=[]),q.push(F),this.h+=1,this};function Lr(p,F){wn(p),F=_r(p,F),p.g.has(F)&&(p.i=null,p.h-=p.g.get(F).length,p.g.delete(F))}function Fr(p,F){return wn(p),F=_r(p,F),p.g.has(F)}r.forEach=function(p,F){wn(this),this.g.forEach(function(q,K){q.forEach(function(ce){p.call(F,ce,K,this)},this)},this)},r.na=function(){wn(this);const p=Array.from(this.g.values()),F=Array.from(this.g.keys()),q=[];for(let K=0;K<F.length;K++){const ce=p[K];for(let me=0;me<ce.length;me++)q.push(F[K])}return q},r.V=function(p){wn(this);let F=[];if(typeof p=="string")Fr(this,p)&&(F=F.concat(this.g.get(_r(this,p))));else{p=Array.from(this.g.values());for(let q=0;q<p.length;q++)F=F.concat(p[q])}return F},r.set=function(p,F){return wn(this),this.i=null,p=_r(this,p),Fr(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[F]),this.h+=1,this},r.get=function(p,F){return p?(p=this.V(p),0<p.length?String(p[0]):F):F};function cs(p,F,q){Lr(p,F),0<q.length&&(p.i=null,p.g.set(_r(p,F),x(q)),p.h+=q.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],F=Array.from(this.g.keys());for(var q=0;q<F.length;q++){var K=F[q];const me=encodeURIComponent(String(K)),ke=this.V(K);for(K=0;K<ke.length;K++){var ce=me;ke[K]!==""&&(ce+="="+encodeURIComponent(String(ke[K]))),p.push(ce)}}return this.i=p.join("&")};function _r(p,F){return F=String(F),p.j&&(F=F.toLowerCase()),F}function ni(p,F){F&&!p.j&&(wn(p),p.i=null,p.g.forEach(function(q,K){var ce=K.toLowerCase();K!=ce&&(Lr(this,K),cs(this,ce,q))},p)),p.j=F}function _f(p,F){const q=new oo;if(u.Image){const K=new Image;K.onload=y(Kn,q,"TestLoadImage: loaded",!0,F,K),K.onerror=y(Kn,q,"TestLoadImage: error",!1,F,K),K.onabort=y(Kn,q,"TestLoadImage: abort",!1,F,K),K.ontimeout=y(Kn,q,"TestLoadImage: timeout",!1,F,K),u.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=p}else F(!1)}function yc(p,F){const q=new oo,K=new AbortController,ce=setTimeout(()=>{K.abort(),Kn(q,"TestPingServer: timeout",!1,F)},1e4);fetch(p,{signal:K.signal}).then(me=>{clearTimeout(ce),me.ok?Kn(q,"TestPingServer: ok",!0,F):Kn(q,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(ce),Kn(q,"TestPingServer: error",!1,F)})}function Kn(p,F,q,K,ce){try{ce&&(ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null),K(q)}catch{}}function wf(){this.g=new gl}function vc(p,F,q){const K=q||"";try{ss(p,function(ce,me){let ke=ce;d(ce)&&(ke=pl(ce)),F.push(K+me+"="+encodeURIComponent(ke))})}catch(ce){throw F.push(K+"type="+encodeURIComponent("_badmap")),ce}}function Di(p){this.l=p.Ub||null,this.j=p.eb||!1}b(Di,io),Di.prototype.g=function(){return new po(this.l,this.j)},Di.prototype.i=function(p){return function(){return p}}({});function po(p,F){Ke.call(this),this.D=p,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(po,Ke),r=po.prototype,r.open=function(p,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=F,this.readyState=1,Br(this)},r.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(F.body=p),(this.D||u).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},r.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Br(this)),this.g&&(this.readyState=3,Br(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_c(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function _c(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}r.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var F=p.value?p.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!p.done}))&&(this.response=this.responseText+=F)}p.done?jr(this):Br(this),this.readyState==3&&_c(this)}},r.Ra=function(p){this.g&&(this.response=this.responseText=p,jr(this))},r.Qa=function(p){this.g&&(this.response=p,jr(this))},r.ga=function(){this.g&&jr(this)};function jr(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Br(p)}r.setRequestHeader=function(p,F){this.u.append(p,F)},r.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],F=this.h.entries();for(var q=F.next();!q.done;)q=q.value,p.push(q[0]+": "+q[1]),q=F.next();return p.join(`\r
`)};function Br(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ki(p){let F="";return M(p,function(q,K){F+=K,F+=":",F+=q,F+=`\r
`}),F}function hs(p,F,q){e:{for(K in q){var K=!1;break e}K=!0}K||(q=ki(q),typeof p=="string"?q!=null&&encodeURIComponent(String(q)):It(p,F,q))}function Mt(p){Ke.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Mt,Ke);var Ef=/^https?$/i,Sl=["POST","PUT"];r=Mt.prototype,r.Ha=function(p){this.J=p},r.ea=function(p,F,q,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);F=F?F.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nr.g(),this.v=this.o?Go(this.o):Go(Nr),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(F,String(p),!0),this.B=!1}catch(me){mo(this,me);return}if(p=q||"",q=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var ce in K)q.set(ce,K[ce]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const me of K.keys())q.set(me,K.get(me));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(q.keys()).find(me=>me.toLowerCase()=="content-type"),ce=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Sl,F,void 0))||K||ce||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,ke]of q)this.g.setRequestHeader(me,ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sa(this),this.u=!0,this.g.send(p),this.u=!1}catch(me){mo(this,me)}};function mo(p,F){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=F,p.m=5,ia(p),ar(p)}function ia(p){p.A||(p.A=!0,rt(p,"complete"),rt(p,"error"))}r.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,rt(this,"complete"),rt(this,"abort"),ar(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),Mt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Tl(this):this.bb())},r.bb=function(){Tl(this)};function Tl(p){if(p.h&&typeof l<"u"&&(!p.v[1]||Jn(p)!=4||p.Z()!=2)){if(p.u&&Jn(p)==4)Gn(p.Ea,0,p);else if(rt(p,"readystatechange"),Jn(p)==4){p.h=!1;try{const ke=p.Z();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var q;if(!(q=F)){var K;if(K=ke===0){var ce=String(p.D).match(ho)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),K=!Ef.test(ce?ce.toLowerCase():"")}q=K}if(q)rt(p,"complete"),rt(p,"success");else{p.m=6;try{var me=2<Jn(p)?p.g.statusText:""}catch{me=""}p.l=me+" ["+p.Z()+"]",ia(p)}}finally{ar(p)}}}}function ar(p,F){if(p.g){sa(p);const q=p.g,K=p.v[0]?()=>{}:null;p.g=null,p.v=null,F||rt(p,"ready");try{q.onreadystatechange=K}catch{}}}function sa(p){p.I&&(u.clearTimeout(p.I),p.I=null)}r.isActive=function(){return!!this.g};function Jn(p){return p.g?p.g.readyState:0}r.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(p){if(this.g){var F=this.g.responseText;return p&&F.indexOf(p)==0&&(F=F.substring(p.length)),ml(F)}};function Il(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function oa(p){const F={};p=(p.g&&2<=Jn(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<p.length;K++){if(E(p[K]))continue;var q=D(p[K]);const ce=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const me=F[ce]||[];F[ce]=me,me.push(q)}R(F,function(K){return K.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(p,F,q){return q&&q.internalChannelParams&&q.internalChannelParams[p]||F}function Dl(p){this.Aa=0,this.i=[],this.j=new oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ri("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ri("baseRetryDelayMs",5e3,p),this.cb=ri("retryDelaySeedMs",1e4,p),this.Wa=ri("forwardChannelMaxRetries",2,p),this.wa=ri("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new co(p&&p.concurrentRequestLimit),this.Da=new wf,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Dl.prototype,r.la=8,r.G=1,r.connect=function(p,F,q,K){Qt(0),this.W=p,this.H=F||{},q&&K!==void 0&&(this.H.OSID=q,this.H.OAID=K),this.F=this.X,this.I=Ac(this,null,this.W),ii(this)};function En(p){if(aa(p),p.G==3){var F=p.U++,q=or(p.I);if(It(q,"SID",p.K),It(q,"RID",F),It(q,"TYPE","terminate"),Ri(p,q),F=new Or(p,p.j,F),F.L=2,F.v=ls(or(q)),q=!1,u.navigator&&u.navigator.sendBeacon)try{q=u.navigator.sendBeacon(F.v.toString(),"")}catch{}!q&&u.Image&&(new Image().src=F.v,q=!0),q||(F.g=bc(F.j,null),F.g.ea(F.v)),F.F=Date.now(),Rt(F)}Cc(p)}function Mr(p){p.g&&(kl(p),p.g.cancel(),p.g=null)}function aa(p){Mr(p),p.u&&(u.clearTimeout(p.u),p.u=null),ca(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function ii(p){if(!sr(p.h)&&!p.s){p.s=!0;var F=p.Ga;Z||W(),ie||(Z(),ie=!0),G.add(F,p),p.B=0}}function Cf(p,F){return cc(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=F.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Rr(f(p.Ga,p,F),Ec(p,p.B)),p.B++,!0)}r.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const ce=new Or(this,this.j,p);let me=this.o;if(this.S&&(me?(me=A(me),I(me,this.S)):me=this.S),this.m!==null||this.O||(ce.H=me,me=null),this.P)e:{for(var F=0,q=0;q<this.i.length;q++){t:{var K=this.i[q];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(F+=K,4096<F){F=q;break e}if(F===4096||q===this.i.length-1){F=q+1;break e}}F=1e3}else F=1e3;F=ds(this,ce,F),q=or(this.I),It(q,"RID",p),It(q,"CVER",22),this.D&&It(q,"X-HTTP-Session-Id",this.D),Ri(this,q),me&&(this.O?F="headers="+encodeURIComponent(String(ki(me)))+"&"+F:this.m&&hs(q,this.m,me)),bl(this.h,ce),this.Ua&&It(q,"TYPE","init"),this.P?(It(q,"$req",F),It(q,"SID","null"),ce.T=!0,ea(ce,q,null)):ea(ce,q,F),this.G=2}}else this.G==3&&(p?la(this,p):this.i.length==0||sr(this.h)||la(this))};function la(p,F){var q;F?q=F.l:q=p.U++;const K=or(p.I);It(K,"SID",p.K),It(K,"RID",q),It(K,"AID",p.T),Ri(p,K),p.m&&p.o&&hs(K,p.m,p.o),q=new Or(p,p.j,q,p.B+1),p.m===null&&(q.H=p.o),F&&(p.i=F.D.concat(p.i)),F=ds(p,q,1e3),q.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),bl(p.h,q),ea(q,K,F)}function Ri(p,F){p.H&&M(p.H,function(q,K){It(F,K,q)}),p.l&&ss({},function(q,K){It(F,K,q)})}function ds(p,F,q){q=Math.min(p.i.length,q);var K=p.l?f(p.l.Na,p.l,p):null;e:{var ce=p.i;let me=-1;for(;;){const ke=["count="+q];me==-1?0<q?(me=ce[0].g,ke.push("ofs="+me)):me=0:ke.push("ofs="+me);let St=!0;for(let ln=0;ln<q;ln++){let _t=ce[ln].g;const pn=ce[ln].map;if(_t-=me,0>_t)me=Math.max(0,ce[ln].g-100),St=!1;else try{vc(pn,ke,"req"+_t+"_")}catch{K&&K(pn)}}if(St){K=ke.join("&");break e}}}return p=p.i.splice(0,q),F.D=p,K}function go(p){if(!p.g&&!p.u){p.Y=1;var F=p.Fa;Z||W(),ie||(Z(),ie=!0),G.add(F,p),p.v=0}}function ua(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Rr(f(p.Fa,p),Ec(p,p.v)),p.v++,!0)}r.Fa=function(){if(this.u=null,wc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Rr(f(this.ab,this),p)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),Mr(this),wc(this))};function kl(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function wc(p){p.g=new Or(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var F=or(p.qa);It(F,"RID","rpc"),It(F,"SID",p.K),It(F,"AID",p.T),It(F,"CI",p.F?"0":"1"),!p.F&&p.ja&&It(F,"TO",p.ja),It(F,"TYPE","xmlhttp"),Ri(p,F),p.m&&p.o&&hs(F,p.m,p.o),p.L&&(p.g.I=p.L);var q=p.g;p=p.ia,q.L=1,q.v=ls(or(F)),q.m=null,q.P=!0,Cl(q,p)}r.Za=function(){this.C!=null&&(this.C=null,Mr(this),ua(this),Qt(19))};function ca(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function ha(p,F){var q=null;if(p.g==F){ca(p),kl(p),p.g=null;var K=2}else if(Bn(p.h,F))q=F.D,hc(p.h,F),K=1;else return;if(p.G!=0){if(F.o)if(K==1){q=F.m?F.m.length:0,F=Date.now()-F.F;var ce=p.B;K=so(),rt(K,new Qo(K,q)),ii(p)}else go(p);else if(ce=F.s,ce==3||ce==0&&0<F.X||!(K==1&&Cf(p,F)||K==2&&ua(p)))switch(q&&0<q.length&&(F=p.h,F.i=F.i.concat(q)),ce){case 1:Pi(p,5);break;case 4:Pi(p,10);break;case 3:Pi(p,6);break;default:Pi(p,2)}}}function Ec(p,F){let q=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(q*=2),q*F}function Pi(p,F){if(p.j.info("Error code "+F),F==2){var q=f(p.fb,p),K=p.Xa;const ce=!K;K=new Ii(K||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||fo(K,"https"),ls(K),ce?_f(K.toString(),q):yc(K.toString(),q)}else Qt(2);p.G=0,p.l&&p.l.sa(F),Cc(p),aa(p)}r.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function Cc(p){if(p.G=0,p.ka=[],p.l){const F=dc(p.h);(F.length!=0||p.i.length!=0)&&(C(p.ka,F),C(p.ka,p.i),p.h.i.length=0,x(p.i),p.i.length=0),p.l.ra()}}function Ac(p,F,q){var K=q instanceof Ii?or(q):new Ii(q);if(K.g!="")F&&(K.g=F+"."+K.g),os(K,K.s);else{var ce=u.location;K=ce.protocol,F=F?F+"."+ce.hostname:ce.hostname,ce=+ce.port;var me=new Ii(null);K&&fo(me,K),F&&(me.g=F),ce&&os(me,ce),q&&(me.l=q),K=me}return q=p.D,F=p.ya,q&&F&&It(K,q,F),It(K,"VER",p.la),Ri(p,K),K}function bc(p,F,q){if(F&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=p.Ca&&!p.pa?new Mt(new Di({eb:q})):new Mt(p.pa),F.Ha(p.J),F}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rl(){}r=Rl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function da(){}da.prototype.g=function(p,F){return new Mn(p,F)};function Mn(p,F){Ke.call(this),this.g=new Dl(F),this.l=p,this.h=F&&F.messageUrlParams||null,p=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(p?p["X-WebChannel-Content-Type"]=F.messageContentType:p={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(p?p["X-WebChannel-Client-Profile"]=F.va:p={"X-WebChannel-Client-Profile":F.va}),this.g.S=p,(p=F&&F.Sb)&&!E(p)&&(this.g.m=p),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!E(F)&&(this.g.D=F,p=this.h,p!==null&&F in p&&(p=this.h,F in p&&delete p[F])),this.j=new si(this)}b(Mn,Ke),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){En(this.g)},Mn.prototype.o=function(p){var F=this.g;if(typeof p=="string"){var q={};q.__data__=p,p=q}else this.u&&(q={},q.__data__=pl(p),p=q);F.i.push(new uc(F.Ya++,p)),F.G==3&&ii(F)},Mn.prototype.N=function(){this.g.l=null,delete this.j,En(this.g),delete this.g,Mn.aa.N.call(this)};function xc(p){Zr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var F=p.__sm__;if(F){e:{for(const q in F){p=q;break e}p=void 0}(this.i=p)&&(p=this.i,F=F!==null&&p in F?F[p]:void 0),this.data=F}else this.data=p}b(xc,Zr);function Sc(){Jo.call(this),this.status=1}b(Sc,Jo);function si(p){this.g=p}b(si,Rl),si.prototype.ua=function(){rt(this.g,"a")},si.prototype.ta=function(p){rt(this.g,new xc(p))},si.prototype.sa=function(p){rt(this.g,new Sc)},si.prototype.ra=function(){rt(this.g,"b")},da.prototype.createWebChannel=da.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,ZC=function(){return new da},XC=function(){return so()},YC=ei,Zg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xo.NO_ERROR=0,Xo.TIMEOUT=8,Xo.HTTP_ERROR=6,Nh=Xo,sc.COMPLETE="complete",QC=sc,Ko.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,au=Ko,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,JC=Mt}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});const F1="@firebase/firestore",j1="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let On=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=new Ry("@firebase/firestore");function Oa(){return Fo.logLevel}function je(r,...e){if(Fo.logLevel<=mt.DEBUG){const t=e.map(Oy);Fo.debug(`Firestore (${tl}): ${r}`,...t)}}function Ki(r,...e){if(Fo.logLevel<=mt.ERROR){const t=e.map(Oy);Fo.error(`Firestore (${tl}): ${r}`,...t)}}function Wa(r,...e){if(Fo.logLevel<=mt.WARN){const t=e.map(Oy);Fo.warn(`Firestore (${tl}): ${r}`,...t)}}function Oy(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,eA(r,n,t)}function eA(r,e,t){let n=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw Ki(n),new Error(n)}function bt(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||eA(e,i,n)}function at(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends Ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(On.UNAUTHENTICATED))}shutdown(){}}class $D{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class GD{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){bt(this.o===void 0,42304);let n=this.i;const i=h=>this.i!==n?(n=this.i,t(h)):Promise.resolve();let o=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(bt(typeof n.accessToken=="string",31837,{l:n}),new tA(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new On(e)}}class KD{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=On.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JD{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new KD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){bt(this.o===void 0,3512);const n=o=>{o.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,je("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new B1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new B1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=YD(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%62))}return n}}function dt(r,e){return r<e?-1:r>e?1:0}function ey(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),i=e.codePointAt(t);if(n!==i){if(n<128&&i<128)return dt(n,i);{const o=nA(),l=XD(o.encode(M1(r,t)),o.encode(M1(e,t)));return l!==0?l:dt(n,i)}}t+=n>65535?2:1}return dt(r.length,e.length)}function M1(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function XD(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return dt(r[t],e[t]);return dt(r.length,e.length)}function $a(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=-62135596800,V1=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*V1);return new Zt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Be(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Be(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<q1)throw new Be(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V1}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-q1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{static fromTimestamp(e){return new ut(e)}static min(){return new ut(new Zt(0,0))}static max(){return new ut(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="__name__";class ci{constructor(e,t,n){t===void 0?t=0:t>e.length&&tt(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&tt(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=ci.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return dt(e.length,t.length)}static compareSegments(e,t){const n=ci.isNumericId(e),i=ci.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?ci.extractNumericId(e).compare(ci.extractNumericId(t)):ey(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ms.fromString(e.substring(4,e.length-2))}}class Ft extends ci{construct(e,t,n){return new Ft(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Be(_e.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new Ft(t)}static emptyPath(){return new Ft([])}}const ZD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends ci{construct(e,t,n){return new xn(e,t,n)}static isValidIdentifier(e){return ZD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U1}static keyField(){return new xn([U1])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new Be(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Be(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Be(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(n+=u,i++):(o(),i++)}if(o(),l)throw new Be(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(t)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.path=e}static fromPath(e){return new Je(Ft.fromString(e))}static fromName(e){return new Je(Ft.fromString(e).popFirst(5))}static empty(){return new Je(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new Ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;function ek(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=ut.fromTimestamp(n===1e9?new Zt(t+1,0):new Zt(t,n));return new Us(i,Je.empty(),e)}function tk(r){return new Us(r.readTime,r.key,bu)}class Us{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Us(ut.min(),Je.empty(),bu)}static max(){return new Us(ut.max(),Je.empty(),bu)}}function nk(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Je.comparator(r.documentKey,e.documentKey),t!==0?t:dt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ik{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(r){if(r.code!==_e.FAILED_PRECONDITION||r.message!==rk)throw r;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(t){return we.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):we.reject(t)}static resolve(e){return new we((t,n)=>{t(e)})}static reject(e){return new we((t,n)=>{n(e)})}static waitFor(e){return new we((t,n)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},h=>n(h))}),l=!0,o===i&&t()})}static or(e){let t=we.resolve(!1);for(const n of e)t=t.next(i=>i?we.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,o)=>{n.push(t.call(this,i,o))}),this.waitFor(n)}static mapArray(e,t){return new we((n,i)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const d=h;t(e[d]).next(g=>{l[d]=g,++u,u===o&&n(l)},g=>i(g))}})}static doWhile(e,t){return new we((n,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):n()};o()})}}function sk(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function rl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>t.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Sd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-1;function Td(r){return r==null}function Xh(r){return r===0&&1/r==-1/0}function ok(r){return typeof r=="number"&&Number.isInteger(r)&&!Xh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="";function ak(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=z1(e)),e=lk(r.get(t),e);return z1(e)}function lk(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const o=r.charAt(i);switch(o){case"\0":t+="";break;case iA:t+="";break;default:t+=o}}return t}function z1(r){return r+iA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ys(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function uk(r,e){const t=[];for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(e(r[n],n,r));return t}function sA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t){this.comparator=e,this.root=t||bn.EMPTY}insert(e,t){return new $t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bn.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}}class Eh{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bn{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??bn.RED,this.left=i??bn.EMPTY,this.right=o??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new bn(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return bn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tt(27949);return e+(this.isRed()?0:1)}}bn.EMPTY=null,bn.RED=!0,bn.BLACK=!1;bn.EMPTY=new class{constructor(){this.size=0}get key(){throw tt(57766)}get value(){throw tt(16141)}get color(){throw tt(16727)}get left(){throw tt(29726)}get right(){throw tt(36894)}copy(e,t,n,i,o){return this}insert(e,t,n){return new bn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W1(this.data.getIterator())}getIteratorFrom(e){return new W1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class W1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new pr([])}unionWith(e){let t=new fn(xn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oA("Invalid base64 string: "+o):o}}(e);return new Tn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tn.EMPTY_BYTE_STRING=new Tn("");const ck=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(r){if(bt(!!r,39018),typeof r=="string"){let e=0;const t=ck.exec(r);if(bt(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Xt(r.seconds),nanos:Xt(r.nanos)}}function Xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hs(r){return typeof r=="string"?Tn.fromBase64String(r):Tn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="server_timestamp",lA="__type__",uA="__previous_value__",cA="__local_write_time__";function Fy(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[lA])===null||t===void 0?void 0:t.stringValue)===aA}function Id(r){const e=r.mapValue.fields[uA];return Fy(e)?Id(e):e}function xu(r){const e=zs(r.mapValue.fields[cA].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t,n,i,o,l,u,h,d,g){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=g}}const Zh="(default)";class Su{constructor(e,t){this.projectId=e,this.database=t||Zh}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===Zh}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="__type__",dk="__max__",Ch={mapValue:{}},dA="__vector__",ed="value";function Ws(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fy(r)?4:pk(r)?9007199254740991:fk(r)?10:11:tt(28295,{value:r})}function wi(r,e){if(r===e)return!0;const t=Ws(r);if(t!==Ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xu(r).isEqual(xu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=zs(i.timestampValue),u=zs(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,o){return Hs(i.bytesValue).isEqual(Hs(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,o){return Xt(i.geoPointValue.latitude)===Xt(o.geoPointValue.latitude)&&Xt(i.geoPointValue.longitude)===Xt(o.geoPointValue.longitude)}(r,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Xt(i.integerValue)===Xt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Xt(i.doubleValue),u=Xt(o.doubleValue);return l===u?Xh(l)===Xh(u):isNaN(l)&&isNaN(u)}return!1}(r,e);case 9:return $a(r.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(H1(l)!==H1(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!wi(l[h],u[h])))return!1;return!0}(r,e);default:return tt(52216,{left:r})}}function Tu(r,e){return(r.values||[]).find(t=>wi(t,e))!==void 0}function Ga(r,e){if(r===e)return 0;const t=Ws(r),n=Ws(e);if(t!==n)return dt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return dt(r.booleanValue,e.booleanValue);case 2:return function(o,l){const u=Xt(o.integerValue||o.doubleValue),h=Xt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(r,e);case 3:return $1(r.timestampValue,e.timestampValue);case 4:return $1(xu(r),xu(e));case 5:return ey(r.stringValue,e.stringValue);case 6:return function(o,l){const u=Hs(o),h=Hs(l);return u.compareTo(h)}(r.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let d=0;d<u.length&&d<h.length;d++){const g=dt(u[d],h[d]);if(g!==0)return g}return dt(u.length,h.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,l){const u=dt(Xt(o.latitude),Xt(l.latitude));return u!==0?u:dt(Xt(o.longitude),Xt(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return G1(r.arrayValue,e.arrayValue);case 10:return function(o,l){var u,h,d,g;const m=o.fields||{},f=l.fields||{},y=(u=m[ed])===null||u===void 0?void 0:u.arrayValue,b=(h=f[ed])===null||h===void 0?void 0:h.arrayValue,x=dt(((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0,((g=b==null?void 0:b.values)===null||g===void 0?void 0:g.length)||0);return x!==0?x:G1(y,b)}(r.mapValue,e.mapValue);case 11:return function(o,l){if(o===Ch.mapValue&&l===Ch.mapValue)return 0;if(o===Ch.mapValue)return 1;if(l===Ch.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),d=l.fields||{},g=Object.keys(d);h.sort(),g.sort();for(let m=0;m<h.length&&m<g.length;++m){const f=ey(h[m],g[m]);if(f!==0)return f;const y=Ga(u[h[m]],d[g[m]]);if(y!==0)return y}return dt(h.length,g.length)}(r.mapValue,e.mapValue);default:throw tt(23264,{Pe:t})}}function $1(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return dt(r,e);const t=zs(r),n=zs(e),i=dt(t.seconds,n.seconds);return i!==0?i:dt(t.nanos,n.nanos)}function G1(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=Ga(t[i],n[i]);if(o)return o}return dt(t.length,n.length)}function Ka(r){return ty(r)}function ty(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=zs(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Hs(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Je.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=ty(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of n)o?o=!1:i+=",",i+=`${l}:${ty(t.fields[l])}`;return i+"}"}(r.mapValue):tt(61005,{value:r})}function Oh(r){switch(Ws(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Id(r);return e?16+Oh(e):16;case 5:return 2*r.stringValue.length;case 6:return Hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+Oh(o),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return Ys(n.fields,(o,l)=>{i+=o.length+Oh(l)}),i}(r.mapValue);default:throw tt(13486,{value:r})}}function K1(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ny(r){return!!r&&"integerValue"in r}function jy(r){return!!r&&"arrayValue"in r}function J1(r){return!!r&&"nullValue"in r}function Q1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lh(r){return!!r&&"mapValue"in r}function fk(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[hA])===null||t===void 0?void 0:t.stringValue)===dA}function mu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ys(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=mu(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function pk(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Lh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(t)}setAll(e){let t=xn.emptyPath(),n={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,n,i),n={},i=[],t=u.popLast()}l?n[u.lastSegment()]=mu(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());Lh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Ys(t,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new rr(mu(this.value))}}function fA(r){const e=[];return Ys(r.fields,(t,n)=>{const i=new xn([t]);if(Lh(n)){const o=fA(n.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,t,n,i,o,l,u){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Ln(e,0,ut.min(),ut.min(),ut.min(),rr.empty(),0)}static newFoundDocument(e,t,n,i){return new Ln(e,1,t,ut.min(),n,i,0)}static newNoDocument(e,t){return new Ln(e,2,t,ut.min(),ut.min(),rr.empty(),0)}static newUnknownDocument(e,t){return new Ln(e,3,t,ut.min(),ut.min(),rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t){this.position=e,this.inclusive=t}}function Y1(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],l=r.position[i];if(o.field.isKeyField()?n=Je.comparator(Je.fromName(l.referenceValue),t.key):n=Ga(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function X1(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!wi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t="asc"){this.field=e,this.dir=t}}function mk(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{}class on extends pA{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new yk(e,t,n):t==="array-contains"?new wk(e,n):t==="in"?new Ek(e,n):t==="not-in"?new Ck(e,n):t==="array-contains-any"?new Ak(e,n):new on(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new vk(e,n):new _k(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ga(t,this.value)):t!==null&&Ws(this.value)===Ws(t)&&this.matchesComparison(Ga(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jr extends pA{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Jr(e,t)}matches(e){return mA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function mA(r){return r.op==="and"}function gA(r){return gk(r)&&mA(r)}function gk(r){for(const e of r.filters)if(e instanceof Jr)return!1;return!0}function ry(r){if(r instanceof on)return r.field.canonicalString()+r.op.toString()+Ka(r.value);if(gA(r))return r.filters.map(e=>ry(e)).join(",");{const e=r.filters.map(t=>ry(t)).join(",");return`${r.op}(${e})`}}function yA(r,e){return r instanceof on?function(n,i){return i instanceof on&&n.op===i.op&&n.field.isEqual(i.field)&&wi(n.value,i.value)}(r,e):r instanceof Jr?function(n,i){return i instanceof Jr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,l,u)=>o&&yA(l,i.filters[u]),!0):!1}(r,e):void tt(19439)}function vA(r){return r instanceof on?function(t){return`${t.field.canonicalString()} ${t.op} ${Ka(t.value)}`}(r):r instanceof Jr?function(t){return t.op.toString()+" {"+t.getFilters().map(vA).join(" ,")+"}"}(r):"Filter"}class yk extends on{constructor(e,t,n){super(e,t,n),this.key=Je.fromName(n.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class vk extends on{constructor(e,t){super(e,"in",t),this.keys=_A("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _k extends on{constructor(e,t){super(e,"not-in",t),this.keys=_A("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _A(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Je.fromName(n.referenceValue))}class wk extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jy(t)&&Tu(t.arrayValue,this.value)}}class Ek extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tu(this.value.arrayValue,t)}}class Ck extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tu(this.value.arrayValue,t)}}class Ak extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Tu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t=null,n=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Ie=null}}function Z1(r,e=null,t=[],n=[],i=null,o=null,l=null){return new bk(r,e,t,n,i,o,l)}function By(r){const e=at(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>ry(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Ka(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Ka(n)).join(",")),e.Ie=t}return e.Ie}function My(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!mk(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!yA(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!X1(r.startAt,e.startAt)&&X1(r.endAt,e.endAt)}function iy(r){return Je.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t=null,n=[],i=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xk(r,e,t,n,i,o,l,u){return new il(r,e,t,n,i,o,l,u)}function qy(r){return new il(r)}function e_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wA(r){return r.collectionGroup!==null}function gu(r){const e=at(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new fn(xn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Iu(o,n))}),t.has(xn.keyField().canonicalString())||e.Ee.push(new Iu(xn.keyField(),n))}return e.Ee}function mi(r){const e=at(r);return e.de||(e.de=EA(e,gu(r))),e.de}function Sk(r){const e=at(r);return e.Ae||(e.Ae=EA(e,r.explicitOrderBy)),e.Ae}function EA(r,e){if(r.limitType==="F")return Z1(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Iu(i.field,o)});const t=r.endAt?new td(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new td(r.startAt.position,r.startAt.inclusive):null;return Z1(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function sy(r,e){const t=r.filters.concat([e]);return new il(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function nd(r,e,t){return new il(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Dd(r,e){return My(mi(r),mi(e))&&r.limitType===e.limitType}function CA(r){return`${By(mi(r))}|lt:${r.limitType}`}function La(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>vA(i)).join(", ")}]`),Td(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ka(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ka(i)).join(",")),`Target(${n})`}(mi(r))}; limitType=${r.limitType})`}function kd(r,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Je.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,i){for(const o of gu(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(l,u,h){const d=Y1(l,u,h);return l.inclusive?d<=0:d<0}(n.startAt,gu(n),i)||n.endAt&&!function(l,u,h){const d=Y1(l,u,h);return l.inclusive?d>=0:d>0}(n.endAt,gu(n),i))}(r,e)}function Tk(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function AA(r){return(e,t)=>{let n=!1;for(const i of gu(r)){const o=Ik(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function Ik(r,e,t){const n=r.field.isKeyField()?Je.comparator(e.key,t.key):function(o,l,u){const h=l.data.field(o),d=u.data.field(o);return h!==null&&d!==null?Ga(h,d):tt(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return tt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,(t,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return sA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=new $t(Je.comparator);function Ji(){return Dk}const bA=new $t(Je.comparator);function lu(...r){let e=bA;for(const t of r)e=e.insert(t.key,t);return e}function xA(r){let e=bA;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Ro(){return yu()}function SA(){return yu()}function yu(){return new Uo(r=>r.toString(),(r,e)=>r.isEqual(e))}const kk=new $t(Je.comparator),Rk=new fn(Je.comparator);function gt(...r){let e=Rk;for(const t of r)e=e.add(t);return e}const Pk=new fn(dt);function Nk(){return Pk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function TA(r){return{integerValue:""+r}}function Ok(r,e){return ok(e)?TA(e):Vy(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this._=void 0}}function Lk(r,e,t){return r instanceof Du?function(i,o){const l={fields:{[lA]:{stringValue:aA},[cA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Fy(o)&&(o=Id(o)),o&&(l.fields[uA]=o),{mapValue:l}}(t,e):r instanceof ku?DA(r,e):r instanceof Ru?kA(r,e):function(i,o){const l=IA(i,o),u=t_(l)+t_(i.Re);return ny(l)&&ny(i.Re)?TA(u):Vy(i.serializer,u)}(r,e)}function Fk(r,e,t){return r instanceof ku?DA(r,e):r instanceof Ru?kA(r,e):t}function IA(r,e){return r instanceof rd?function(n){return ny(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class Du extends Rd{}class ku extends Rd{constructor(e){super(),this.elements=e}}function DA(r,e){const t=RA(e);for(const n of r.elements)t.some(i=>wi(i,n))||t.push(n);return{arrayValue:{values:t}}}class Ru extends Rd{constructor(e){super(),this.elements=e}}function kA(r,e){let t=RA(e);for(const n of r.elements)t=t.filter(i=>!wi(i,n));return{arrayValue:{values:t}}}class rd extends Rd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function t_(r){return Xt(r.integerValue||r.doubleValue)}function RA(r){return jy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t){this.field=e,this.transform=t}}function Bk(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof ku&&i instanceof ku||n instanceof Ru&&i instanceof Ru?$a(n.elements,i.elements,wi):n instanceof rd&&i instanceof rd?wi(n.Re,i.Re):n instanceof Du&&i instanceof Du}(r.transform,e.transform)}class Mk{constructor(e,t){this.version=e,this.transformResults=t}}class Kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Pd{}function PA(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Uy(r.key,Kr.none()):new zu(r.key,r.data,Kr.none());{const t=r.data,n=rr.empty();let i=new fn(xn.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),i=i.add(o)}return new Xs(r.key,n,new pr(i.toArray()),Kr.none())}}function qk(r,e,t){r instanceof zu?function(i,o,l){const u=i.value.clone(),h=r_(i.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(r,e,t):r instanceof Xs?function(i,o,l){if(!Fh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=r_(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(NA(i)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(r,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function vu(r,e,t,n){return r instanceof zu?function(o,l,u,h){if(!Fh(o.precondition,l))return u;const d=o.value.clone(),g=i_(o.fieldTransforms,h,l);return d.setAll(g),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(r,e,t,n):r instanceof Xs?function(o,l,u,h){if(!Fh(o.precondition,l))return u;const d=i_(o.fieldTransforms,h,l),g=l.data;return g.setAll(NA(o)),g.setAll(d),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(r,e,t,n):function(o,l,u){return Fh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(r,e,t)}function Vk(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=IA(n.transform,i||null);o!=null&&(t===null&&(t=rr.empty()),t.set(n.field,o))}return t||null}function n_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&$a(n,i,(o,l)=>Bk(o,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class zu extends Pd{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xs extends Pd{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function NA(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function r_(r,e,t){const n=new Map;bt(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let i=0;i<t.length;i++){const o=r[i],l=o.transform,u=e.data.field(o.field);n.set(o.field,Fk(l,u,t[i]))}return n}function i_(r,e,t){const n=new Map;for(const i of r){const o=i.transform,l=t.data.field(i.field);n.set(i.field,Lk(o,l,e))}return n}class Uy extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uk extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&qk(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=vu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=vu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=SA();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const h=PA(l,u);h!==null&&n.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(ut.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gt())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(t,n)=>n_(t,n))&&$a(this.baseMutations,e.baseMutations,(t,n)=>n_(t,n))}}class zy{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){bt(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let i=function(){return kk}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,n[l].version);return new zy(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,wt;function Gk(r){switch(r){case _e.OK:return tt(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return tt(15467,{code:r})}}function OA(r){if(r===void 0)return Ki("GRPC error has no .code"),_e.UNKNOWN;switch(r){case sn.OK:return _e.OK;case sn.CANCELLED:return _e.CANCELLED;case sn.UNKNOWN:return _e.UNKNOWN;case sn.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case sn.INTERNAL:return _e.INTERNAL;case sn.UNAVAILABLE:return _e.UNAVAILABLE;case sn.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case sn.NOT_FOUND:return _e.NOT_FOUND;case sn.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case sn.ABORTED:return _e.ABORTED;case sn.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case sn.DATA_LOSS:return _e.DATA_LOSS;default:return tt(39323,{code:r})}}(wt=sn||(sn={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=new Ms([4294967295,4294967295],0);function s_(r){const e=nA().encode(r),t=new KC;return t.update(e),new Uint8Array(t.digest())}function o_(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ms([t,n],0),new Ms([i,o],0)]}class Hy{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new uu(`Invalid padding: ${t}`);if(n<0)throw new uu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new uu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ms.fromNumber(this.pe)}we(e,t,n){let i=e.add(t.multiply(Ms.fromNumber(n)));return i.compare(Kk)===1&&(i=new Ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=s_(e),[n,i]=o_(t);for(let o=0;o<this.hashCount;o++){const l=this.we(n,i,o);if(!this.be(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Hy(o,i,t);return n.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const t=s_(e),[n,i]=o_(t);for(let o=0;o<this.hashCount;o++){const l=this.we(n,i,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Nd(ut.min(),i,new $t(dt),Ji(),gt())}}class Hu{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Hu(n,t,gt(),gt(),gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t,n,i){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=i}}class LA{constructor(e,t){this.targetId=e,this.Ce=t}}class FA{constructor(e,t,n=Tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class a_{constructor(){this.Fe=0,this.Me=l_(),this.xe=Tn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=gt(),t=gt(),n=gt();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:tt(38017,{changeType:o})}}),new Hu(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=l_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,bt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Jk{constructor(e){this.ze=e,this.je=new Map,this.He=Ji(),this.Je=Ah(),this.Ye=Ah(),this.Ze=new $t(dt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:tt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((n,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,n=e.Ce.count,i=this._t(t);if(i){const o=i.target;if(iy(o))if(n===0){const l=new Je(o.path);this.tt(t,l,Ln.newNoDocument(l,ut.min()))}else bt(n===1,20013,{expectedCount:n});else{const l=this.ut(t);if(l!==n){const u=this.ct(e),h=u?this.lt(u,e,l):1;if(h!==0){this.st(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=Hs(n).toUint8Array()}catch(h){if(h instanceof oA)return Wa("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Hy(l,i,o)}catch(h){return Wa(h instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.pe===0?null:u}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let i=0;return n.forEach(o=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,o,null),i++)}),i}It(e){const t=new Map;this.je.forEach((o,l)=>{const u=this._t(l);if(u){if(o.current&&iy(u.target)){const h=new Je(u.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,Ln.newNoDocument(h,e))}o.Le&&(t.set(l,o.qe()),o.Qe())}});let n=gt();this.Ye.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const i=new Nd(e,t,this.Ze,this.He,n);return this.He=Ji(),this.Je=Ah(),this.Ye=Ah(),this.Ze=new $t(dt),i}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new a_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new fn(dt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new fn(dt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||je("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new a_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Ah(){return new $t(Je.comparator)}function l_(){return new $t(Je.comparator)}const Qk={asc:"ASCENDING",desc:"DESCENDING"},Yk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xk={and:"AND",or:"OR"};class Zk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function oy(r,e){return r.useProto3Json||Td(e)?e:{value:e}}function id(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function eR(r,e){return id(r,e.toTimestamp())}function gi(r){return bt(!!r,49232),ut.fromTimestamp(function(t){const n=zs(t);return new Zt(n.seconds,n.nanos)}(r))}function Wy(r,e){return ay(r,e).canonicalString()}function ay(r,e){const t=function(i){return new Ft(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function BA(r){const e=Ft.fromString(r);return bt(HA(e),10190,{key:e.toString()}),e}function ly(r,e){return Wy(r.databaseId,e.path)}function Xp(r,e){const t=BA(e);if(t.get(1)!==r.databaseId.projectId)throw new Be(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Be(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Je(qA(t))}function MA(r,e){return Wy(r.databaseId,e)}function tR(r){const e=BA(r);return e.length===4?Ft.emptyPath():qA(e)}function uy(r){return new Ft(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function qA(r){return bt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function u_(r,e,t){return{name:ly(r,e),fields:t.value.mapValue.fields}}function nR(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:tt(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,g){return d.useProto3Json?(bt(g===void 0||typeof g=="string",58123),Tn.fromBase64String(g||"")):(bt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Tn.fromUint8Array(g||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(d){const g=d.code===void 0?_e.UNKNOWN:OA(d.code);return new Be(g,d.message||"")}(l);t=new FA(n,i,o,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Xp(r,n.document.name),o=gi(n.document.updateTime),l=n.document.createTime?gi(n.document.createTime):ut.min(),u=new rr({mapValue:{fields:n.document.fields}}),h=Ln.newFoundDocument(i,o,l,u),d=n.targetIds||[],g=n.removedTargetIds||[];t=new jh(d,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Xp(r,n.document),o=n.readTime?gi(n.readTime):ut.min(),l=Ln.newNoDocument(i,o),u=n.removedTargetIds||[];t=new jh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Xp(r,n.document),o=n.removedTargetIds||[];t=new jh([],o,i,null)}else{if(!("filter"in e))return tt(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,l=new $k(i,o),u=n.targetId;t=new LA(u,l)}}return t}function rR(r,e){let t;if(e instanceof zu)t={update:u_(r,e.key,e.value)};else if(e instanceof Uy)t={delete:ly(r,e.key)};else if(e instanceof Xs)t={update:u_(r,e.key,e.data),updateMask:dR(e.fieldMask)};else{if(!(e instanceof Uk))return tt(16599,{ft:e.type});t={verify:ly(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,l){const u=l.transform;if(u instanceof Du)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ku)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ru)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof rd)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw tt(20930,{transform:l.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:eR(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:tt(27497)}(r,e.precondition)),t}function iR(r,e){return r&&r.length>0?(bt(e!==void 0,14353),r.map(t=>function(i,o){let l=i.updateTime?gi(i.updateTime):gi(o);return l.isEqual(ut.min())&&(l=gi(o)),new Mk(l,i.transformResults||[])}(t,e))):[]}function sR(r,e){return{documents:[MA(r,e.path)]}}function VA(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=MA(r,i);const o=function(d){if(d.length!==0)return zA(Jr.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(g=>function(f){return{field:Ds(f.field),direction:uR(f.dir)}}(g))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=oy(r,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:i}}function oR(r,e,t,n){const{gt:i,parent:o}=VA(r,e),l={},u=[];let h=0;return t.forEach(d=>{const g="aggregate_"+h++;l[g]=d.alias,d.aggregateType==="count"?u.push({alias:g,count:{}}):d.aggregateType==="avg"?u.push({alias:g,avg:{field:Ds(d.fieldPath)}}):d.aggregateType==="sum"&&u.push({alias:g,sum:{field:Ds(d.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:u,structuredQuery:i.structuredQuery},parent:i.parent},yt:l,parent:o}}function aR(r){let e=tR(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){bt(n===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(m){const f=UA(m);return f instanceof Jr&&gA(f)?f.getFilters():[f]}(t.where));let l=[];t.orderBy&&(l=function(m){return m.map(f=>function(b){return new Iu(Fa(b.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(f))}(t.orderBy));let u=null;t.limit&&(u=function(m){let f;return f=typeof m=="object"?m.value:m,Td(f)?null:f}(t.limit));let h=null;t.startAt&&(h=function(m){const f=!!m.before,y=m.values||[];return new td(y,f)}(t.startAt));let d=null;return t.endAt&&(d=function(m){const f=!m.before,y=m.values||[];return new td(y,f)}(t.endAt)),xk(e,i,l,o,u,"F",h,d)}function lR(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function UA(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Fa(t.unaryFilter.field);return on.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Fa(t.unaryFilter.field);return on.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fa(t.unaryFilter.field);return on.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Fa(t.unaryFilter.field);return on.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tt(61313);default:return tt(60726)}}(r):r.fieldFilter!==void 0?function(t){return on.create(Fa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tt(58110);default:return tt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Jr.create(t.compositeFilter.filters.map(n=>UA(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return tt(1026)}}(t.compositeFilter.op))}(r):tt(30097,{filter:r})}function uR(r){return Qk[r]}function cR(r){return Yk[r]}function hR(r){return Xk[r]}function Ds(r){return{fieldPath:r.canonicalString()}}function Fa(r){return xn.fromServerFormat(r.fieldPath)}function zA(r){return r instanceof on?function(t){if(t.op==="=="){if(Q1(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NAN"}};if(J1(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Q1(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NOT_NAN"}};if(J1(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(t.field),op:cR(t.op),value:t.value}}}(r):r instanceof Jr?function(t){const n=t.getFilters().map(i=>zA(i));return n.length===1?n[0]:{compositeFilter:{op:hR(t.op),filters:n}}}(r):tt(54877,{filter:r})}function dR(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t,n,i,o=ut.min(),l=ut.min(),u=Tn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.wt=e}}function pR(r){const e=aR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.Cn=new gR}addToCollectionParentIndex(e,t){return this.Cn.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return we.resolve()}deleteFieldIndex(e,t){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,t){return we.resolve()}getDocumentsMatchingTarget(e,t){return we.resolve(null)}getIndexType(e,t){return we.resolve(0)}getFieldIndexes(e,t){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,t){return we.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return we.resolve(Us.min())}updateCollectionGroup(e,t,n){return we.resolve()}updateIndexEntries(e,t){return we.resolve()}}class gR{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new fn(Ft.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new fn(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WA=41943040;class nr{static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(WA,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ja(0)}static lr(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="LruGarbageCollector",yR=1048576;function d_([r,e],[t,n]){const i=dt(r,t);return i===0?dt(e,n):i}class vR{constructor(e){this.Er=e,this.buffer=new fn(d_),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();d_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class _R{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){je(h_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){rl(t)?je(h_,"Ignoring IndexedDB error during garbage collection: ",t):await nl(t)}await this.mr(3e5)})}}class wR{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return we.resolve(Sd.le);const n=new vR(t);return this.gr.forEachTarget(e,i=>n.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>n.Rr(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(c_)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,i,o,l,u,h,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(n=m,u=Date.now(),this.removeTargets(e,n,t))).next(m=>(o=m,h=Date.now(),this.removeOrphanedDocuments(e,n))).next(m=>(d=Date.now(),Oa()<=mt.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${m} documents in `+(d-h)+`ms
Total Duration: ${d-g}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m})))}}function ER(r,e){return new wR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.changes=new Uo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?we.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&vu(n.mutation,i,pr.empty(),Zt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,gt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=gt()){const i=Ro();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(o=>{let l=lu();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=Ro();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,gt()))}populateOverlays(e,t,n){const i=[];return n.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,n,i){let o=Ji();const l=yu(),u=function(){return yu()}();return t.forEach((h,d)=>{const g=n.get(d.key);i.has(d.key)&&(g===void 0||g.mutation instanceof Xs)?o=o.insert(d.key,d):g!==void 0?(l.set(d.key,g.mutation.getFieldMask()),vu(g.mutation,d,g.mutation.getFieldMask(),Zt.now())):l.set(d.key,pr.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((d,g)=>l.set(d,g)),t.forEach((d,g)=>{var m;return u.set(d,new AR(g,(m=l.get(d))!==null&&m!==void 0?m:null))}),u))}recalculateAndSaveOverlays(e,t){const n=yu();let i=new $t((l,u)=>l-u),o=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const d=t.get(h);if(d===null)return;let g=n.get(h)||pr.empty();g=u.applyToLocalView(d,g),n.set(h,g);const m=(i.get(u.batchId)||gt()).add(h);i=i.insert(u.batchId,m)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),d=h.key,g=h.value,m=SA();g.forEach(f=>{if(!o.has(f)){const y=PA(t.get(f),n.get(f));y!==null&&m.set(f,y),o=o.add(f)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,m))}return we.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(l){return Je.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):we.resolve(Ro());let u=bu,h=o;return l.next(d=>we.forEach(d,(g,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),o.get(g)?we.resolve():this.remoteDocumentCache.getEntry(e,g).next(f=>{h=h.insert(g,f)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,h,d,gt())).next(g=>({batchId:u,changes:xA(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(n=>{let i=lu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let l=lu();return this.indexManager.getCollectionParents(e,o).next(u=>we.forEach(u,h=>{const d=function(m,f){return new il(f,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next(g=>{g.forEach((m,f)=>{l=l.insert(m,f)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i))).next(l=>{o.forEach((h,d)=>{const g=d.getKey();l.get(g)===null&&(l=l.insert(g,Ln.newInvalidDocument(g)))});let u=lu();return l.forEach((h,d)=>{const g=o.get(h);g!==void 0&&vu(g.mutation,d,pr.empty(),Zt.now()),kd(t,d)&&(u=u.insert(h,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return we.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:gi(i.createTime)}}(t)),we.resolve()}getNamedQuery(e,t){return we.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:pR(i.bundledQuery),readTime:gi(i.readTime)}}(t)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.overlays=new $t(Je.comparator),this.Qr=new Map}getOverlay(e,t){return we.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ro();return we.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,o)=>{this.St(e,t,o)}),we.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Qr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(n)),we.resolve()}getOverlaysForCollection(e,t,n){const i=Ro(),o=t.length+1,l=new Je(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&h.largestBatchId>n&&i.set(h.getKey(),h)}return we.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new $t((d,g)=>d-g);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>n){let g=o.get(d.largestBatchId);g===null&&(g=Ro(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const u=Ro(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,g)=>u.set(d,g)),!(u.size()>=i)););return we.resolve(u)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(n.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new Hk(t,n));let o=this.Qr.get(t);o===void 0&&(o=gt(),this.Qr.set(t,o)),this.Qr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.sessionToken=Tn.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.$r=new fn(vn.Ur),this.Kr=new fn(vn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new vn(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.zr(new vn(e,t))}jr(e,t){e.forEach(n=>this.removeReference(n,t))}Hr(e){const t=new Je(new Ft([])),n=new vn(t,e),i=new vn(t,e+1),o=[];return this.Kr.forEachInRange([n,i],l=>{this.zr(l),o.push(l.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Je(new Ft([])),n=new vn(t,e),i=new vn(t,e+1);let o=gt();return this.Kr.forEachInRange([n,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new vn(e,0),n=this.$r.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class vn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Je.comparator(e.key,t.key)||dt(e.Zr,t.Zr)}static Wr(e,t){return dt(e.Zr,t.Zr)||Je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new fn(vn.Ur)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new zk(o,t,n,i);this.mutationQueue.push(l);for(const u of i)this.Xr=this.Xr.add(new vn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return we.resolve(l)}lookupMutationBatch(e,t){return we.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ti(n),o=i<0?0:i;return we.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?Ly:this.nr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new vn(t,0),i=new vn(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([n,i],l=>{const u=this.ei(l.Zr);o.push(u)}),we.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new fn(dt);return t.forEach(i=>{const o=new vn(i,0),l=new vn(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,l],u=>{n=n.add(u.Zr)})}),we.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;Je.isDocumentKey(o)||(o=o.child(""));const l=new vn(new Je(o),0);let u=new fn(dt);return this.Xr.forEachWhile(h=>{const d=h.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(u=u.add(h.Zr)),!0)},l),we.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(n=>{const i=this.ei(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){bt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return we.forEach(t.mutations,i=>{const o=new vn(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,t){const n=new vn(t,0),i=this.Xr.firstAfterOrEqual(n);return we.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.ii=e,this.docs=function(){return new $t(Je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,l=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return we.resolve(n?n.document.mutableCopy():Ln.newInvalidDocument(t))}getEntries(e,t){let n=Ji();return t.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():Ln.newInvalidDocument(i))}),we.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=Ji();const l=t.path,u=new Je(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:d,value:{document:g}}=h.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||nk(tk(g),n)<=0||(i.has(g.key)||kd(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return we.resolve(o)}getAllFromCollectionGroup(e,t,n,i){tt(9500)}si(e,t){return we.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new kR(this)}getSize(e){return we.resolve(this.size)}}class kR extends CR{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(n)}),we.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.persistence=e,this.oi=new Uo(t=>By(t),My),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this._i=0,this.ai=new $y,this.targetCount=0,this.ui=Ja.cr()}forEachTarget(e,t){return this.oi.forEach((n,i)=>t(i)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),we.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Ja(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.Tr(t),we.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.oi.forEach((l,u)=>{u.sequenceNumber<=t&&n.get(u.targetId)===null&&(this.oi.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),we.waitFor(o).next(()=>i)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return we.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),we.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),we.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),we.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return we.resolve(n)}containsKey(e,t){return we.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,t){this.ci={},this.overlays={},this.li=new Sd(0),this.hi=!1,this.hi=!0,this.Pi=new TR,this.referenceDelegate=e(this),this.Ti=new RR(this),this.indexManager=new mR,this.remoteDocumentCache=function(i){return new DR(i)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new fR(t),this.Ei=new xR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new IR(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){je("MemoryPersistence","Starting transaction:",e);const i=new PR(this.li.next());return this.referenceDelegate.di(),n(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return we.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,t)))}}class PR extends ik{constructor(e){super(),this.currentSequenceNumber=e}}class Gy{constructor(e){this.persistence=e,this.Vi=new $y,this.mi=null}static fi(e){return new Gy(e)}get gi(){if(this.mi)return this.mi;throw tt(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),we.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),we.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.gi,n=>{const i=Je.fromPath(n);return this.pi(e,i).next(o=>{o||t.removeEntry(i,ut.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(n=>{n?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return we.or([()=>we.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class sd{constructor(e,t){this.persistence=e,this.yi=new Uo(n=>ak(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=ER(this,t)}static fi(e,t){return new sd(e,t)}di(){}Ai(e){return we.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}br(e){let t=0;return this.yr(e,n=>{t++}).next(()=>t)}yr(e,t){return we.forEach(this.yi,(n,i)=>this.Dr(e,n,i).next(o=>o?we.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,t).next(u=>{u||(n++,o.removeEntry(l,ut.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),we.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),we.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),we.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Oh(e.data.value)),t}Dr(e,t,n){return we.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return we.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.ds=n,this.As=i}static Rs(e,t){let n=gt(),i=gt();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ky(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return xI()?8:sk(jn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.ws(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.bs(e,t,i,n).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new NR;return this.Ss(e,t,l).next(u=>{if(o.result=u,this.fs)return this.Ds(e,t,l,u.size)})}).next(()=>o.result)}Ds(e,t,n,i){return n.documentReadCount<this.gs?(Oa()<=mt.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",La(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),we.resolve()):(Oa()<=mt.DEBUG&&je("QueryEngine","Query:",La(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ps*i?(Oa()<=mt.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",La(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(t))):we.resolve())}ws(e,t){if(e_(t))return we.resolve(null);let n=mi(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=nd(t,null,"F"),n=mi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const l=gt(...o);return this.ys.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,n).next(h=>{const d=this.vs(t,u);return this.Cs(t,d,l,h.readTime)?this.ws(e,nd(t,null,"F")):this.Fs(e,d,t,h)}))})))}bs(e,t,n,i){return e_(t)||i.isEqual(ut.min())?we.resolve(null):this.ys.getDocuments(e,n).next(o=>{const l=this.vs(t,o);return this.Cs(t,l,n,i)?we.resolve(null):(Oa()<=mt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),La(t)),this.Fs(e,l,t,ek(i,bu)).next(u=>u))})}vs(e,t){let n=new fn(AA(e));return t.forEach((i,o)=>{kd(e,o)&&(n=n.add(o))}),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,n){return Oa()<=mt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",La(t)),this.ys.getDocumentsMatchingQuery(e,t,Us.min(),n)}Fs(e,t,n,i){return this.ys.getDocumentsMatchingQuery(e,n,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LocalStore",LR=3e8;class FR{constructor(e,t,n,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new $t(dt),this.Os=new Uo(o=>By(o),My),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bR(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function jR(r,e,t,n){return new FR(r,e,t,n)}async function GA(r,e){const t=at(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const l=[],u=[];let h=gt();for(const d of i){l.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}for(const d of o){u.push(d.batchId);for(const g of d.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(n,h).next(d=>({ks:d,removedBatchIds:l,addedBatchIds:u}))})})}function BR(r,e){const t=at(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,h,d,g){const m=d.batch,f=m.keys();let y=we.resolve();return f.forEach(b=>{y=y.next(()=>g.getEntry(h,b)).next(x=>{const C=d.docVersions.get(b);bt(C!==null,48541),x.version.compareTo(C)<0&&(m.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),g.addEntry(x)))})}),y.next(()=>u.mutationQueue.removeMutationBatch(h,m))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let h=gt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(h=h.add(u.batch.mutations[d].key));return h}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function KA(r){const e=at(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function MR(r,e){const t=at(r),n=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const u=[];e.targetChanges.forEach((g,m)=>{const f=i.get(m);if(!f)return;u.push(t.Ti.removeMatchingKeys(o,g.removedDocuments,m).next(()=>t.Ti.addMatchingKeys(o,g.addedDocuments,m)));let y=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Tn.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):g.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(g.resumeToken,n)),i=i.insert(m,y),function(x,C,w){return x.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=LR?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,y,g)&&u.push(t.Ti.updateTargetData(o,y))});let h=Ji(),d=gt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),u.push(qR(o,l,e.documentUpdates).next(g=>{h=g.qs,d=g.Qs})),!n.isEqual(ut.min())){const g=t.Ti.getLastRemoteSnapshotVersion(o).next(m=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,n));u.push(g)}return we.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,d)).next(()=>h)}).then(o=>(t.xs=i,o))}function qR(r,e,t){let n=gt(),i=gt();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let l=Ji();return t.forEach((u,h)=>{const d=o.get(u);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(ut.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):je(Jy,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",h.version)}),{qs:l,Qs:i}})}function VR(r,e){const t=at(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Ly),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function UR(r,e){const t=at(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Ti.getTargetData(n,e).next(o=>o?(i=o,we.resolve(i)):t.Ti.allocateTargetId(n).next(l=>(i=new Ls(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Ti.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.xs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(n.targetId,n),t.Os.set(e,n.targetId)),n})}async function cy(r,e,t){const n=at(r),i=n.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!rl(l))throw l;je(Jy,`Failed to update sequence numbers for target ${e}: ${l}`)}n.xs=n.xs.remove(e),n.Os.delete(i.target)}function f_(r,e,t){const n=at(r);let i=ut.min(),o=gt();return n.persistence.runTransaction("Execute query","readwrite",l=>function(h,d,g){const m=at(h),f=m.Os.get(g);return f!==void 0?we.resolve(m.xs.get(f)):m.Ti.getTargetData(d,g)}(n,l,mi(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>n.Ms.getDocumentsMatchingQuery(l,e,t?i:ut.min(),t?o:gt())).next(u=>(zR(n,Tk(e),u),{documents:u,$s:o})))}function zR(r,e,t){let n=r.Ns.get(e)||ut.min();t.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.Ns.set(e,n)}class p_{constructor(){this.activeTargetIds=Nk()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HR{constructor(){this.xo=new p_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new p_,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="ConnectivityMonitor";class g_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){je(m_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){je(m_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh=null;function hy(){return bh===null?bh=function(){return 268435456+Math.round(2147483648*Math.random())}():bh++,"0x"+bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="RestConnection",$R={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GR{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${n}/databases/${i}`,this.Go=this.databaseId.database===Zh?`project_id=${n}`:`project_id=${n}&database_id=${i}`}zo(e,t,n,i,o){const l=hy(),u=this.jo(e,t.toUriEncodedString());je(Zp,`Sending RPC '${e}' ${l}:`,u,n);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,i,o);const{host:d}=new URL(u),g=Qs(d);return this.Jo(e,u,h,n,g).then(m=>(je(Zp,`Received RPC '${e}' ${l}: `,m),m),m=>{throw Wa(Zp,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",n),m})}Yo(e,t,n,i,o,l){return this.zo(e,t,n,i,o)}Ho(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),n&&n.headers.forEach((i,o)=>e[o]=i)}jo(e,t){const n=$R[e];return`${this.Ko}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class JR extends GR{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,o){const l=hy();return new Promise((u,h)=>{const d=new JC;d.setWithCredentials(!0),d.listenOnce(QC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Nh.NO_ERROR:const m=d.getResponseJson();je(Nn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),u(m);break;case Nh.TIMEOUT:je(Nn,`RPC '${e}' ${l} timed out`),h(new Be(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const f=d.getStatus();if(je(Nn,`RPC '${e}' ${l} failed with status:`,f,"response text:",d.getResponseText()),f>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const x=function(w){const E=w.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(E)>=0?E:_e.UNKNOWN}(b.status);h(new Be(x,b.message))}else h(new Be(_e.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Be(_e.UNAVAILABLE,"Connection failed."));break;default:tt(9055,{h_:e,streamId:l,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{je(Nn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(i);je(Nn,`RPC '${e}' ${l} sending request:`,i),d.send(t,"POST",g,n,15)})}I_(e,t,n){const i=hy(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=ZC(),u=XC(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,t,n),h.encodeInitMessageHeaders=!0;const g=o.join("");je(Nn,`Creating RPC '${e}' stream ${i}: ${g}`,h);const m=l.createWebChannel(g,h);this.E_(m);let f=!1,y=!1;const b=new KR({Zo:C=>{y?je(Nn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(f||(je(Nn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),f=!0),je(Nn,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},Xo:()=>m.close()}),x=(C,w,E)=>{C.listen(w,P=>{try{E(P)}catch(S){setTimeout(()=>{throw S},0)}})};return x(m,au.EventType.OPEN,()=>{y||(je(Nn,`RPC '${e}' stream ${i} transport opened.`),b.__())}),x(m,au.EventType.CLOSE,()=>{y||(y=!0,je(Nn,`RPC '${e}' stream ${i} transport closed`),b.u_(),this.d_(m))}),x(m,au.EventType.ERROR,C=>{y||(y=!0,Wa(Nn,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),b.u_(new Be(_e.UNAVAILABLE,"The operation could not be completed")))}),x(m,au.EventType.MESSAGE,C=>{var w;if(!y){const E=C.data[0];bt(!!E,16349);const P=E,S=(P==null?void 0:P.error)||((w=P[0])===null||w===void 0?void 0:w.error);if(S){je(Nn,`RPC '${e}' stream ${i} received error:`,S);const O=S.status;let M=function(T){const I=sn[T];if(I!==void 0)return OA(I)}(O),R=S.message;M===void 0&&(M=_e.INTERNAL,R="Unknown error status: "+O+" with message "+S.message),y=!0,b.u_(new Be(M,R)),m.close()}else je(Nn,`RPC '${e}' stream ${i} received:`,E),b.c_(E)}}),x(u,YC.STAT_EVENT,C=>{C.stat===Zg.PROXY?je(Nn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Zg.NOPROXY&&je(Nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(r){return new Zk(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,n=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=n,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-n);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="PersistentStream";class QA{constructor(e,t,n,i,o,l,u,h){this.xi=e,this.S_=n,this.D_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new JA(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(Ki(t.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.v_===t&&this.z_(n,i)},n=>{e(()=>{const i=new Be(_e.UNKNOWN,"Fetching auth token failed: "+n.message);return this.j_(i)})})}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{n(()=>this.j_(i))}),this.stream.onMessage(i=>{n(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return je(y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(je(y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QR extends QA{constructor(e,t,n,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=nR(this.serializer,e),n=function(o){if(!("targetChange"in o))return ut.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ut.min():l.readTime?gi(l.readTime):ut.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=uy(this.serializer),t.addTarget=function(o,l){let u;const h=l.target;if(u=iy(h)?{documents:sR(o,h)}:{query:VA(o,h).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=jA(o,l.resumeToken);const d=oy(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(ut.min())>0){u.readTime=id(o,l.snapshotVersion.toTimestamp());const d=oy(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,e);const n=lR(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=uy(this.serializer),t.removeTarget=e,this.Q_(t)}}class YR extends QA{constructor(e,t,n,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=iR(e.writeResults,e.commitTime),n=gi(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=uy(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>rR(this.serializer,n))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{}class ZR extends XR{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new Be(_e.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.zo(e,ay(t,n),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Be(_e.UNKNOWN,o.toString())})}Yo(e,t,n,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Yo(e,ay(t,n),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Be(_e.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class eP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ki(t),this.ua=!1):je("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="RemoteStore";class tP{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(l=>{n.enqueueAndForget(async()=>{zo(this)&&(je(jo,"Restarting streams for network reachability change."),await async function(h){const d=at(h);d.da.add(4),await Wu(d),d.Va.set("Unknown"),d.da.delete(4),await Ld(d)}(this))})}),this.Va=new eP(n,i)}}async function Ld(r){if(zo(r))for(const e of r.Aa)await e(!0)}async function Wu(r){for(const e of r.Aa)await e(!1)}function YA(r,e){const t=at(r);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Zy(t)?Xy(t):sl(t).N_()&&Yy(t,e))}function Qy(r,e){const t=at(r),n=sl(t);t.Ea.delete(e),n.N_()&&XA(t,e),t.Ea.size===0&&(n.N_()?n.k_():zo(t)&&t.Va.set("Unknown"))}function Yy(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ut.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sl(r).Z_(e)}function XA(r,e){r.ma.Ke(e),sl(r).X_(e)}function Xy(r){r.ma=new Jk({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),sl(r).start(),r.Va.ca()}function Zy(r){return zo(r)&&!sl(r).O_()&&r.Ea.size>0}function zo(r){return at(r).da.size===0}function ZA(r){r.ma=void 0}async function nP(r){r.Va.set("Online")}async function rP(r){r.Ea.forEach((e,t)=>{Yy(r,e)})}async function iP(r,e){ZA(r),Zy(r)?(r.Va.Pa(e),Xy(r)):r.Va.set("Unknown")}async function sP(r,e,t){if(r.Va.set("Online"),e instanceof FA&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.Ea.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ea.delete(u),i.ma.removeTarget(u))}(r,e)}catch(n){je(jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await od(r,n)}else if(e instanceof jh?r.ma.Xe(e):e instanceof LA?r.ma.ot(e):r.ma.nt(e),!t.isEqual(ut.min()))try{const n=await KA(r.localStore);t.compareTo(n)>=0&&await function(o,l){const u=o.ma.It(l);return u.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ea.get(d);g&&o.Ea.set(d,g.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,d)=>{const g=o.Ea.get(h);if(!g)return;o.Ea.set(h,g.withResumeToken(Tn.EMPTY_BYTE_STRING,g.snapshotVersion)),XA(o,h);const m=new Ls(g.target,h,d,g.sequenceNumber);Yy(o,m)}),o.remoteSyncer.applyRemoteEvent(u)}(r,t)}catch(n){je(jo,"Failed to raise snapshot:",n),await od(r,n)}}async function od(r,e,t){if(!rl(e))throw e;r.da.add(1),await Wu(r),r.Va.set("Offline"),t||(t=()=>KA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{je(jo,"Retrying IndexedDB access"),await t(),r.da.delete(1),await Ld(r)})}function eb(r,e){return e().catch(t=>od(r,t,e))}async function Fd(r){const e=at(r),t=$s(e);let n=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Ly;for(;oP(e);)try{const i=await VR(e.localStore,n);if(i===null){e.Ia.length===0&&t.k_();break}n=i.batchId,aP(e,i)}catch(i){await od(e,i)}tb(e)&&nb(e)}function oP(r){return zo(r)&&r.Ia.length<10}function aP(r,e){r.Ia.push(e);const t=$s(r);t.N_()&&t.ea&&t.ta(e.mutations)}function tb(r){return zo(r)&&!$s(r).O_()&&r.Ia.length>0}function nb(r){$s(r).start()}async function lP(r){$s(r).ia()}async function uP(r){const e=$s(r);for(const t of r.Ia)e.ta(t.mutations)}async function cP(r,e,t){const n=r.Ia.shift(),i=zy.from(n,e,t);await eb(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Fd(r)}async function hP(r,e){e&&$s(r).ea&&await async function(n,i){if(function(l){return Gk(l)&&l!==_e.ABORTED}(i.code)){const o=n.Ia.shift();$s(n).L_(),await eb(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Fd(n)}}(r,e),tb(r)&&nb(r)}async function v_(r,e){const t=at(r);t.asyncQueue.verifyOperationInProgress(),je(jo,"RemoteStore received new credentials");const n=zo(t);t.da.add(3),await Wu(t),n&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Ld(t)}async function dP(r,e){const t=at(r);e?(t.da.delete(2),await Ld(t)):e||(t.da.add(2),await Wu(t),t.Va.set("Unknown"))}function sl(r){return r.fa||(r.fa=function(t,n,i){const o=at(t);return o.oa(),new QR(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{e_:nP.bind(null,r),n_:rP.bind(null,r),i_:iP.bind(null,r),Y_:sP.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),Zy(r)?Xy(r):r.Va.set("Unknown")):(await r.fa.stop(),ZA(r))})),r.fa}function $s(r){return r.ga||(r.ga=function(t,n,i){const o=at(t);return o.oa(),new YR(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:lP.bind(null,r),i_:hP.bind(null,r),na:uP.bind(null,r),ra:cP.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await Fd(r)):(await r.ga.stop(),r.Ia.length>0&&(je(jo,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const l=Date.now()+n,u=new ev(e,t,l,i,o);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tv(r,e){if(Ki("AsyncQueue",`${e}: ${r}`),rl(r))return new Be(_e.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{static emptySet(e){return new Ma(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Je.comparator(t.key,n.key):(t,n)=>Je.comparator(t.key,n.key),this.keyedMap=lu(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ma)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Ma;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.pa=new $t(Je.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?e.type!==0&&n.type===3?this.pa=this.pa.insert(t,e):e.type===3&&n.type!==1?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.pa=this.pa.remove(t):e.type===1&&n.type===2?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):tt(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,n)=>{e.push(n)}),e}}class Qa{constructor(e,t,n,i,o,l,u,h,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Qa(e,t,Ma.emptySet(t),l,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class pP{constructor(){this.queries=w_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=at(t),o=i.queries;i.queries=w_(),o.forEach((l,u)=>{for(const h of u.Sa)h.onError(n)})})(this,new Be(_e.ABORTED,"Firestore shutting down"))}}function w_(){return new Uo(r=>CA(r),Dd)}async function rb(r,e){const t=at(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.Da()&&e.va()&&(n=2):(o=new fP,n=e.va()?0:1);try{switch(n){case 0:o.ba=await t.onListen(i,!0);break;case 1:o.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=tv(l,`Initialization of query '${La(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&nv(t)}async function ib(r,e){const t=at(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function mP(r,e){const t=at(r);let n=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.Sa)u.Ma(i)&&(n=!0);l.ba=i}}n&&nv(t)}function gP(r,e,t){const n=at(r),i=n.queries.get(e);if(i)for(const o of i.Sa)o.onError(t);n.queries.delete(e)}function nv(r){r.Ca.forEach(e=>{e.next()})}var dy,E_;(E_=dy||(dy={})).xa="default",E_.Cache="cache";class sb{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Qa(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const n=t!=="Offline";return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==dy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.key=e}}class ab{constructor(e){this.key=e}}class yP{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=gt(),this.mutatedKeys=gt(),this.Za=AA(e),this.Xa=new Ma(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new __,i=t?t.Xa:this.Xa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,m)=>{const f=i.get(g),y=kd(this.query,m)?m:null,b=!!f&&this.mutatedKeys.has(f.key),x=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;f&&y?f.data.isEqual(y.data)?b!==x&&(n.track({type:3,doc:y}),C=!0):this.ru(f,y)||(n.track({type:2,doc:y}),C=!0,(h&&this.Za(y,h)>0||d&&this.Za(y,d)<0)&&(u=!0)):!f&&y?(n.track({type:0,doc:y}),C=!0):f&&!y&&(n.track({type:1,doc:f}),C=!0,(h||d)&&(u=!0)),C&&(y?(l=l.add(y),o=x?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),n.track({type:1,doc:g})}return{Xa:l,nu:n,Cs:u,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((g,m)=>function(y,b){const x=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt(20277,{Vt:C})}};return x(y)-x(b)}(g.type,m.type)||this.Za(g.doc,m.doc)),this.iu(n),i=i!=null&&i;const u=t&&!i?this.su():[],h=this.Ya.size===0&&this.current&&!i?1:0,d=h!==this.Ja;return this.Ja=h,l.length!==0||d?{snapshot:new Qa(this.query,e.Xa,o,l,e.mutatedKeys,h===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:u}:{ou:u}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new __,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=gt(),this.Xa.forEach(n=>{this._u(n.key)&&(this.Ya=this.Ya.add(n.key))});const t=[];return e.forEach(n=>{this.Ya.has(n)||t.push(new ab(n))}),this.Ya.forEach(n=>{e.has(n)||t.push(new ob(n))}),t}au(e){this.Ha=e.$s,this.Ya=gt();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Qa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const rv="SyncEngine";class vP{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class _P{constructor(e){this.key=e,this.cu=!1}}class wP{constructor(e,t,n,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new Uo(u=>CA(u),Dd),this.Pu=new Map,this.Tu=new Set,this.Iu=new $t(Je.comparator),this.Eu=new Map,this.du=new $y,this.Au={},this.Ru=new Map,this.Vu=Ja.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function EP(r,e,t=!0){const n=fb(r);let i;const o=n.hu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=await lb(n,e,t,!0),i}async function CP(r,e){const t=fb(r);await lb(t,e,!0,!1)}async function lb(r,e,t,n){const i=await UR(r.localStore,mi(e)),o=i.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let u;return n&&(u=await AP(r,e,o,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&YA(r.remoteStore,i),u}async function AP(r,e,t,n,i){r.fu=(m,f,y)=>async function(x,C,w,E){let P=C.view.tu(w);P.Cs&&(P=await f_(x.localStore,C.query,!1).then(({documents:R})=>C.view.tu(R,P)));const S=E&&E.targetChanges.get(C.targetId),O=E&&E.targetMismatches.get(C.targetId)!=null,M=C.view.applyChanges(P,x.isPrimaryClient,S,O);return A_(x,C.targetId,M.ou),M.snapshot}(r,m,f,y);const o=await f_(r.localStore,e,!0),l=new yP(e,o.$s),u=l.tu(o.documents),h=Hu.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),d=l.applyChanges(u,r.isPrimaryClient,h);A_(r,t,d.ou);const g=new vP(e,t,l);return r.hu.set(e,g),r.Pu.has(t)?r.Pu.get(t).push(e):r.Pu.set(t,[e]),d.snapshot}async function bP(r,e,t){const n=at(r),i=n.hu.get(e),o=n.Pu.get(i.targetId);if(o.length>1)return n.Pu.set(i.targetId,o.filter(l=>!Dd(l,e))),void n.hu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await cy(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&Qy(n.remoteStore,i.targetId),fy(n,i.targetId)}).catch(nl)):(fy(n,i.targetId),await cy(n.localStore,i.targetId,!0))}async function xP(r,e){const t=at(r),n=t.hu.get(e),i=t.Pu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Qy(t.remoteStore,n.targetId))}async function SP(r,e,t){const n=NP(r);try{const i=await function(l,u){const h=at(l),d=Zt.now(),g=u.reduce((y,b)=>y.add(b.key),gt());let m,f;return h.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=Ji(),x=gt();return h.Bs.getEntries(y,g).next(C=>{b=C,b.forEach((w,E)=>{E.isValidDocument()||(x=x.add(w))})}).next(()=>h.localDocuments.getOverlayedDocuments(y,b)).next(C=>{m=C;const w=[];for(const E of u){const P=Vk(E,m.get(E.key).overlayedDocument);P!=null&&w.push(new Xs(E.key,P,fA(P.value.mapValue),Kr.exists(!0)))}return h.mutationQueue.addMutationBatch(y,d,w,u)}).next(C=>{f=C;const w=C.applyToLocalDocumentSet(m,x);return h.documentOverlayCache.saveOverlays(y,C.batchId,w)})}).then(()=>({batchId:f.batchId,changes:xA(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let d=l.Au[l.currentUser.toKey()];d||(d=new $t(dt)),d=d.insert(u,h),l.Au[l.currentUser.toKey()]=d}(n,i.batchId,t),await $u(n,i.changes),await Fd(n.remoteStore)}catch(i){const o=tv(i,"Failed to persist write");t.reject(o)}}async function ub(r,e){const t=at(r);try{const n=await MR(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Eu.get(o);l&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.cu=!0:i.modifiedDocuments.size>0?bt(l.cu,14607):i.removedDocuments.size>0&&(bt(l.cu,42227),l.cu=!1))}),await $u(t,n,e)}catch(n){await nl(n)}}function C_(r,e,t){const n=at(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.hu.forEach((o,l)=>{const u=l.view.Fa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=at(l);h.onlineState=u;let d=!1;h.queries.forEach((g,m)=>{for(const f of m.Sa)f.Fa(u)&&(d=!0)}),d&&nv(h)}(n.eventManager,e),i.length&&n.lu.Y_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function TP(r,e,t){const n=at(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Eu.get(e),o=i&&i.key;if(o){let l=new $t(Je.comparator);l=l.insert(o,Ln.newNoDocument(o,ut.min()));const u=gt().add(o),h=new Nd(ut.min(),new Map,new $t(dt),l,u);await ub(n,h),n.Iu=n.Iu.remove(o),n.Eu.delete(e),iv(n)}else await cy(n.localStore,e,!1).then(()=>fy(n,e,t)).catch(nl)}async function IP(r,e){const t=at(r),n=e.batch.batchId;try{const i=await BR(t.localStore,e);hb(t,n,null),cb(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await $u(t,i)}catch(i){await nl(i)}}async function DP(r,e,t){const n=at(r);try{const i=await function(l,u){const h=at(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let g;return h.mutationQueue.lookupMutationBatch(d,u).next(m=>(bt(m!==null,37113),g=m.keys(),h.mutationQueue.removeMutationBatch(d,m))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,g,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g)).next(()=>h.localDocuments.getDocuments(d,g))})}(n.localStore,e);hb(n,e,t),cb(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await $u(n,i)}catch(i){await nl(i)}}function cb(r,e){(r.Ru.get(e)||[]).forEach(t=>{t.resolve()}),r.Ru.delete(e)}function hb(r,e,t){const n=at(r);let i=n.Au[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.Au[n.currentUser.toKey()]=i}}function fy(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Pu.get(e))r.hu.delete(n),t&&r.lu.gu(n,t);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(n=>{r.du.containsKey(n)||db(r,n)})}function db(r,e){r.Tu.delete(e.path.canonicalString());const t=r.Iu.get(e);t!==null&&(Qy(r.remoteStore,t),r.Iu=r.Iu.remove(e),r.Eu.delete(t),iv(r))}function A_(r,e,t){for(const n of t)n instanceof ob?(r.du.addReference(n.key,e),kP(r,n)):n instanceof ab?(je(rv,"Document no longer in limbo: "+n.key),r.du.removeReference(n.key,e),r.du.containsKey(n.key)||db(r,n.key)):tt(19791,{pu:n})}function kP(r,e){const t=e.key,n=t.path.canonicalString();r.Iu.get(t)||r.Tu.has(n)||(je(rv,"New document in limbo: "+t),r.Tu.add(n),iv(r))}function iv(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const t=new Je(Ft.fromString(e)),n=r.Vu.next();r.Eu.set(n,new _P(t)),r.Iu=r.Iu.insert(t,n),YA(r.remoteStore,new Ls(mi(qy(t.path)),n,"TargetPurposeLimboResolution",Sd.le))}}async function $u(r,e,t){const n=at(r),i=[],o=[],l=[];n.hu.isEmpty()||(n.hu.forEach((u,h)=>{l.push(n.fu(h,e,t).then(d=>{var g;if((d||t)&&n.isPrimaryClient){const m=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;n.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(d){i.push(d);const m=Ky.Rs(h.targetId,d);o.push(m)}}))}),await Promise.all(l),n.lu.Y_(i),await async function(h,d){const g=at(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>we.forEach(d,f=>we.forEach(f.ds,y=>g.persistence.referenceDelegate.addReference(m,f.targetId,y)).next(()=>we.forEach(f.As,y=>g.persistence.referenceDelegate.removeReference(m,f.targetId,y)))))}catch(m){if(!rl(m))throw m;je(Jy,"Failed to update sequence numbers: "+m)}for(const m of d){const f=m.targetId;if(!m.fromCache){const y=g.xs.get(f),b=y.snapshotVersion,x=y.withLastLimboFreeSnapshotVersion(b);g.xs=g.xs.insert(f,x)}}}(n.localStore,o))}async function RP(r,e){const t=at(r);if(!t.currentUser.isEqual(e)){je(rv,"User change. New user:",e.toKey());const n=await GA(t.localStore,e);t.currentUser=e,function(o,l){o.Ru.forEach(u=>{u.forEach(h=>{h.reject(new Be(_e.CANCELLED,l))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await $u(t,n.ks)}}function PP(r,e){const t=at(r),n=t.Eu.get(e);if(n&&n.cu)return gt().add(n.key);{let i=gt();const o=t.Pu.get(e);if(!o)return i;for(const l of o){const u=t.hu.get(l);i=i.unionWith(u.view.eu)}return i}}function fb(r){const e=at(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ub.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TP.bind(null,e),e.lu.Y_=mP.bind(null,e.eventManager),e.lu.gu=gP.bind(null,e.eventManager),e}function NP(r){const e=at(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DP.bind(null,e),e}class ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Od(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return jR(this.persistence,new OR,e.initialUser,this.serializer)}Su(e){return new $A(Gy.fi,this.serializer)}bu(e){return new HR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ad.provider={build:()=>new ad};class OP extends ad{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){bt(this.persistence.referenceDelegate instanceof sd,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new _R(n,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?nr.withCacheSize(this.cacheSizeBytes):nr.DEFAULT;return new $A(n=>sd.fi(n,t),this.serializer)}}class py{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>C_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=RP.bind(null,this.syncEngine),await dP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pP}()}createDatastore(e){const t=Od(e.databaseInfo.databaseId),n=function(o){return new JR(o)}(e.databaseInfo);return function(o,l,u,h){return new ZR(o,l,u,h)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,o,l,u){return new tP(n,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>C_(this.syncEngine,t,0),function(){return g_.C()?new g_:new WR}())}createSyncEngine(e,t){return function(i,o,l,u,h,d,g){const m=new wP(i,o,l,u,h,d);return g&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=at(i);je(jo,"RemoteStore shutting down."),o.da.add(5),await Wu(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}py.provider={build:()=>new py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class LP{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=On.UNAUTHENTICATED,this.clientId=rA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async l=>{je(Gs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(je(Gs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=tv(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function tm(r,e){r.asyncQueue.verifyOperationInProgress(),je(Gs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await GA(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function b_(r,e){r.asyncQueue.verifyOperationInProgress();const t=await FP(r);je(Gs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>v_(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>v_(e.remoteStore,i)),r._onlineComponents=e}async function FP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){je(Gs,"Using user provided OfflineComponentProvider");try{await tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===_e.FAILED_PRECONDITION||i.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Wa("Error using user provided cache. Falling back to memory cache: "+t),await tm(r,new ad)}}else je(Gs,"Using default OfflineComponentProvider"),await tm(r,new OP(void 0));return r._offlineComponents}async function sv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(je(Gs,"Using user provided OnlineComponentProvider"),await b_(r,r._uninitializedComponentsProvider._online)):(je(Gs,"Using default OnlineComponentProvider"),await b_(r,new py))),r._onlineComponents}function jP(r){return sv(r).then(e=>e.syncEngine)}function BP(r){return sv(r).then(e=>e.datastore)}async function my(r){const e=await sv(r),t=e.eventManager;return t.onListen=EP.bind(null,e.syncEngine),t.onUnlisten=bP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xP.bind(null,e.syncEngine),t}function MP(r,e,t={}){const n=new zi;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,d){const g=new pb({next:f=>{g.xu(),l.enqueueAndForget(()=>ib(o,m)),f.fromCache&&h.source==="server"?d.reject(new Be(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(f)},error:f=>d.reject(f)}),m=new sb(u,g,{includeMetadataChanges:!0,Qa:!0});return rb(o,m)}(await my(r),r.asyncQueue,e,t,n)),n.promise}function qP(r,e,t){const n=new zi;return r.asyncQueue.enqueueAndForget(async()=>{try{const i=await BP(r);n.resolve(async function(l,u,h){var d;const g=at(l),{request:m,yt:f,parent:y}=oR(g.serializer,Sk(u),h);g.connection.Uo||delete m.parent;const b=(await g.Yo("RunAggregationQuery",g.serializer.databaseId,y,m,1)).filter(C=>!!C.result);bt(b.length===1,64727);const x=(d=b[0].result)===null||d===void 0?void 0:d.aggregateFields;return Object.keys(x).reduce((C,w)=>(C[f[w]]=x[w],C),{})}(i,e,t))}catch(i){n.reject(i)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(r,e,t){if(!t)throw new Be(_e.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function VP(r,e,t,n){if(e===!0&&n===!0)throw new Be(_e.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function S_(r){if(!Je.isDocumentKey(r))throw new Be(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function T_(r){if(Je.isDocumentKey(r))throw new Be(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function jd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":tt(12329,{type:typeof r})}function Dr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Be(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jd(r);throw new Be(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function UP(r,e){if(e<=0)throw new Be(_e.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="firestore.googleapis.com",I_=!0;class D_{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Be(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yb,this.ssl=I_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:I_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yR)throw new Be(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mb((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Be(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Be(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Be(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Be(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new WD;switch(n.type){case"firstParty":return new JD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Be(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=x_.get(t);n&&(je("ComponentProvider","Removing Datastore"),x_.delete(t),n.terminate())}(this),Promise.resolve()}}function zP(r,e,t,n={}){var i;r=Dr(r,Bd);const o=Qs(e),l=r._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:r._getEmulatorOptions()}),h=`${e}:${t}`;o&&(Dy(`https://${h}`),ky("Firestore",!0)),l.host!==yb&&l.host!==h&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},l),{host:h,ssl:o,emulatorOptions:n});if(!Oo(d,u)&&(r._setSettings(d),n.mockUserToken)){let g,m;if(typeof n.mockUserToken=="string")g=n.mockUserToken,m=On.MOCK_USER;else{g=UC(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const f=n.mockUserToken.sub||n.mockUserToken.user_id;if(!f)throw new Be(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new On(f)}r._authCredentials=new $D(new tA(g,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class zn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class qs extends Xi{constructor(e,t,n){super(e,t,qy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new Je(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function HP(r,e,...t){if(r=Nt(r),gb("collection","path",e),r instanceof Bd){const n=Ft.fromString(e,...t);return T_(n),new qs(r,null,n)}{if(!(r instanceof zn||r instanceof qs))throw new Be(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Ft.fromString(e,...t));return T_(n),new qs(r.firestore,null,n)}}function WP(r,e,...t){if(r=Nt(r),arguments.length===1&&(e=rA.newId()),gb("doc","path",e),r instanceof Bd){const n=Ft.fromString(e,...t);return S_(n),new zn(r,null,new Je(n))}{if(!(r instanceof zn||r instanceof qs))throw new Be(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Ft.fromString(e,...t));return S_(n),new zn(r.firestore,r instanceof qs?r.converter:null,new Je(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="AsyncQueue";class R_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new JA(this,"async_queue_retry"),this.rc=()=>{const n=em();n&&je(k_,"Visibility state changed to "+n.visibilityState),this.x_.b_()},this.sc=e;const t=em();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=em();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new zi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!rl(e))throw e;je(k_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(n=>{throw this.Xu=n,this.ec=!1,Ki("INTERNAL UNHANDLED ERROR: ",P_(n)),n}).then(n=>(this.ec=!1,n))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=ev.createAndSchedule(this,e,t,n,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&tt(47125,{cc:P_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function P_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of n)if(o in i&&typeof i[o]=="function")return!0;return!1}(r,["next","error","complete"])}class Ks extends Bd{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new R_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R_(e),this._firestoreClient=void 0,await e}}}function $P(r,e){const t=typeof r=="object"?r:Ny(),n=typeof r=="string"?r:Zh,i=xd(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=MC("firestore");o&&zP(i,...o)}return i}function Md(r){if(r._terminated)throw new Be(_e.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||GP(r),r._firestoreClient}function GP(r){var e,t,n;const i=r._freezeSettings(),o=function(u,h,d,g){return new hk(u,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,mb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new LP(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class JP{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ya(Tn.fromBase64String(e))}catch(t){throw new Be(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ya(Tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Be(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Be(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Be(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=/^__.*__$/;class YP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new zu(e,this.data,t,this.fieldTransforms)}}class vb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _b(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt(40011,{Ic:r})}}class lv{constructor(e,t,n,i,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new lv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:n,Rc:!1});return i.Vc(e),i}mc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:n,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return ld(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(_b(this.Ic)&&QP.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class XP{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Od(e)}bc(e,t,n,i=!1){return new lv({Ic:e,methodName:t,wc:n,path:xn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uv(r){const e=r._freezeSettings(),t=Od(r._databaseId);return new XP(r._databaseId,!!e.ignoreUndefinedProperties,t)}function ZP(r,e,t,n,i,o={}){const l=r.bc(o.merge||o.mergeFields?2:0,e,t,i);hv("Data must be an object, but it was:",l,n);const u=wb(n,l);let h,d;if(o.merge)h=new pr(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const m of o.mergeFields){const f=gy(e,m,t);if(!l.contains(f))throw new Be(_e.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Cb(g,f)||g.push(f)}h=new pr(g),d=l.fieldTransforms.filter(m=>h.covers(m.field))}else h=null,d=l.fieldTransforms;return new YP(new rr(u),h,d)}class Ud extends Vd{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ud}}class cv extends Vd{_toFieldTransform(e){return new jk(e.path,new Du)}isEqual(e){return e instanceof cv}}function e3(r,e,t,n){const i=r.bc(1,e,t);hv("Data must be an object, but it was:",i,n);const o=[],l=rr.empty();Ys(n,(h,d)=>{const g=dv(e,h,t);d=Nt(d);const m=i.mc(g);if(d instanceof Ud)o.push(g);else{const f=Gu(d,m);f!=null&&(o.push(g),l.set(g,f))}});const u=new pr(o);return new vb(l,u,i.fieldTransforms)}function t3(r,e,t,n,i,o){const l=r.bc(1,e,t),u=[gy(e,n,t)],h=[i];if(o.length%2!=0)throw new Be(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)u.push(gy(e,o[f])),h.push(o[f+1]);const d=[],g=rr.empty();for(let f=u.length-1;f>=0;--f)if(!Cb(d,u[f])){const y=u[f];let b=h[f];b=Nt(b);const x=l.mc(y);if(b instanceof Ud)d.push(y);else{const C=Gu(b,x);C!=null&&(d.push(y),g.set(y,C))}}const m=new pr(d);return new vb(g,m,l.fieldTransforms)}function n3(r,e,t,n=!1){return Gu(t,r.bc(n?4:3,e))}function Gu(r,e){if(Eb(r=Nt(r)))return hv("Unsupported field value:",e,r),wb(r,e);if(r instanceof Vd)return function(n,i){if(!_b(i.Ic))throw i.gc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(n,i){const o=[];let l=0;for(const u of n){let h=Gu(u,i.fc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(r,e)}return function(n,i){if((n=Nt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Ok(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Zt.fromDate(n);return{timestampValue:id(i.serializer,o)}}if(n instanceof Zt){const o=new Zt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:id(i.serializer,o)}}if(n instanceof ov)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ya)return{bytesValue:jA(i.serializer,n._byteString)};if(n instanceof zn){const o=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wy(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof av)return function(l,u){return{mapValue:{fields:{[hA]:{stringValue:dA},[ed]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw u.gc("VectorValues must only contain numeric values.");return Vy(u.serializer,d)})}}}}}}(n,i);throw i.gc(`Unsupported field value: ${jd(n)}`)}(r,e)}function wb(r,e){const t={};return sA(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(r,(n,i)=>{const o=Gu(i,e.Ac(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function Eb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Zt||r instanceof ov||r instanceof Ya||r instanceof zn||r instanceof Vd||r instanceof av)}function hv(r,e,t){if(!Eb(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=jd(t);throw n==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+n)}}function gy(r,e,t){if((e=Nt(e))instanceof qd)return e._internalPath;if(typeof e=="string")return dv(r,e);throw ld("Field path arguments must be of type string or ",r,!1,void 0,t)}const r3=new RegExp("[~\\*/\\[\\]]");function dv(r,e,t){if(e.search(r3)>=0)throw ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new qd(...e.split("."))._internalPath}catch{throw ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function ld(r,e,t,n,i){const o=n&&!n.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${n}`),l&&(h+=` in document ${i}`),h+=")"),new Be(_e.INVALID_ARGUMENT,u+r+h)}function Cb(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new i3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class i3 extends Ab{data(){return super.data()}}function zd(r,e){return typeof e=="string"?dv(r,e):e instanceof qd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Be(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fv{}class pv extends fv{}function s3(r,e,...t){let n=[];e instanceof fv&&n.push(e),n=n.concat(t),function(o){const l=o.filter(h=>h instanceof mv).length,u=o.filter(h=>h instanceof Hd).length;if(l>1||l>0&&u>0)throw new Be(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class Hd extends pv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Hd(e,t,n)}_apply(e){const t=this._parse(e);return xb(e._query,t),new Xi(e.firestore,e.converter,sy(e._query,t))}_parse(e){const t=uv(e.firestore);return function(o,l,u,h,d,g,m){let f;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Be(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){F_(m,g);const b=[];for(const x of m)b.push(L_(h,o,x));f={arrayValue:{values:b}}}else f=L_(h,o,m)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||F_(m,g),f=n3(u,l,m,g==="in"||g==="not-in");return on.create(d,g,f)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function O_(r,e,t){const n=e,i=zd("where",r);return Hd._create(i,n,t)}class mv extends fv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mv(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Jr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const h of u)xb(l,h),l=sy(l,h)}(e._query,t),new Xi(e.firestore,e.converter,sy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gv extends pv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new gv(e,t)}_apply(e){const t=function(i,o,l){if(i.startAt!==null)throw new Be(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Be(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iu(o,l)}(e._query,this._field,this._direction);return new Xi(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new il(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function o3(r,e="asc"){const t=e,n=zd("orderBy",r);return gv._create(n,t)}class yv extends pv{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new yv(e,t,n)}_apply(e){return new Xi(e.firestore,e.converter,nd(e._query,this._limit,this._limitType))}}function a3(r){return UP("limit",r),yv._create("limit",r,"F")}function L_(r,e,t){if(typeof(t=Nt(t))=="string"){if(t==="")throw new Be(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wA(e)&&t.indexOf("/")!==-1)throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Ft.fromString(t));if(!Je.isDocumentKey(n))throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return K1(r,new Je(n))}if(t instanceof zn)return K1(r,t._key);throw new Be(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jd(t)}.`)}function F_(r,e){if(!Array.isArray(r)||r.length===0)throw new Be(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xb(r,e){const t=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Be(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Be(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class l3{convertValue(e,t="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw tt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ys(e,(i,o)=>{n[i]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,i;const o=(i=(n=(t=e.fields)===null||t===void 0?void 0:t[ed].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>Xt(l.doubleValue));return new av(o)}convertGeoPoint(e){return new ov(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Id(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const t=zs(e);return new Zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ft.fromString(e);bt(HA(n),9688,{name:e});const i=new Su(n.get(1),n.get(3)),o=new Je(n.popFirst(5));return i.isEqual(t)||Ki(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}function c3(){return new KP("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sb extends Ab{constructor(e,t,n,i,o,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(zd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Bh extends Sb{data(e={}){return super.data(e)}}class Tb{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new cu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Bh(this._firestore,this._userDataWriter,n.key,n,new cu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Be(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const h=new Bh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new cu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new Bh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new cu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,g=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),g=l.indexOf(u.doc.key)),{type:h3(u.type),doc:h,oldIndex:d,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function h3(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt(61501,{type:r})}}class Wd extends l3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ya(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,t)}}function d3(r){r=Dr(r,Xi);const e=Dr(r.firestore,Ks),t=Md(e),n=new Wd(e);return bb(r._query),MP(t,r._query).then(i=>new Tb(e,n,r,i))}function f3(r,e,t){r=Dr(r,zn);const n=Dr(r.firestore,Ks),i=u3(r.converter,e,t);return vv(n,[ZP(uv(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,Kr.none())])}function p3(r,e,t,...n){r=Dr(r,zn);const i=Dr(r.firestore,Ks),o=uv(i);let l;return l=typeof(e=Nt(e))=="string"||e instanceof qd?t3(o,"updateDoc",r._key,e,t,n):e3(o,"updateDoc",r._key,e),vv(i,[l.toMutation(r._key,Kr.exists(!0))])}function j_(r){return vv(Dr(r.firestore,Ks),[new Uy(r._key,Kr.none())])}function m3(r,...e){var t,n,i;r=Nt(r);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||N_(e[l])||(o=e[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(N_(e[l])){const m=e[l];e[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),e[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[l+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let h,d,g;if(r instanceof zn)d=Dr(r.firestore,Ks),g=qy(r._key.path),h={next:m=>{e[l]&&e[l](g3(d,r,m))},error:e[l+1],complete:e[l+2]};else{const m=Dr(r,Xi);d=Dr(m.firestore,Ks),g=m._query;const f=new Wd(d);h={next:y=>{e[l]&&e[l](new Tb(d,f,m,y))},error:e[l+1],complete:e[l+2]},bb(r._query)}return function(f,y,b,x){const C=new pb(x),w=new sb(y,C,b);return f.asyncQueue.enqueueAndForget(async()=>rb(await my(f),w)),()=>{C.xu(),f.asyncQueue.enqueueAndForget(async()=>ib(await my(f),w))}}(Md(d),g,u,h)}function vv(r,e){return function(n,i){const o=new zi;return n.asyncQueue.enqueueAndForget(async()=>SP(await jP(n),i,o)),o.promise}(Md(r),e)}function g3(r,e,t){const n=t.docs.get(e._key),i=new Wd(r);return new Sb(r,i,e._key,n,new cu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(r){return v3(r,{count:c3()})}function v3(r,e){const t=Dr(r.firestore,Ks),n=Md(t),i=uk(e,(o,l)=>new Wk(l,o.aggregateType,o._internalFieldPath));return qP(n,r._query,i).then(o=>function(u,h,d){const g=new Wd(u);return new JP(h,g,d)}(t,r,o))}function _3(){return new cv("serverTimestamp")}(function(e,t=!0){(function(i){tl=i})(Vo),Lo(new Vs("firestore",(n,{instanceIdentifier:i,options:o})=>{const l=n.getProvider("app").getImmediate(),u=new Ks(new GD(n.getProvider("auth-internal")),new QD(l,n.getProvider("app-check-internal")),function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Be(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(d.options.projectId,g)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),pi(F1,j1,e),pi(F1,j1,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="firebasestorage.googleapis.com",Db="storageBucket",w3=2*60*1e3,E3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt extends Ai{constructor(e,t,n=0){super(nm(e),`Firebase Storage: ${t} (${nm(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Jt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Kt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Kt||(Kt={}));function nm(r){return"storage/"+r}function _v(){const r="An unknown error occurred, please check the error payload for server response.";return new Jt(Kt.UNKNOWN,r)}function C3(r){return new Jt(Kt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function A3(r){return new Jt(Kt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function b3(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Jt(Kt.UNAUTHENTICATED,r)}function x3(){return new Jt(Kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function S3(r){return new Jt(Kt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function T3(){return new Jt(Kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function I3(){return new Jt(Kt.CANCELED,"User canceled the upload/download.")}function D3(r){return new Jt(Kt.INVALID_URL,"Invalid URL '"+r+"'.")}function k3(r){return new Jt(Kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function R3(){return new Jt(Kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Db+"' property when initializing the app?")}function P3(){return new Jt(Kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function N3(){return new Jt(Kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function O3(r){return new Jt(Kt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yy(r){return new Jt(Kt.INVALID_ARGUMENT,r)}function kb(){return new Jt(Kt.APP_DELETED,"The Firebase app was deleted.")}function L3(r){return new Jt(Kt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _u(r,e){return new Jt(Kt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function nu(r){throw new Jt(Kt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=mr.makeFromUrl(e,t)}catch{return new mr(e,"")}if(n.path==="")return n;throw k3(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function o(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function d(S){S.path_=decodeURIComponent(S.path)}const g="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${g}/b/${i}/o${f}`,"i"),b={bucket:1,path:3},x=t===Ib?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",w=new RegExp(`^https?://${x}/${i}/${C}`,"i"),P=[{regex:u,indices:h,postModify:o},{regex:y,indices:b,postModify:d},{regex:w,indices:{bucket:1,path:2},postModify:d}];for(let S=0;S<P.length;S++){const O=P[S],M=O.regex.exec(e);if(M){const R=M[O.indices.bucket];let A=M[O.indices.path];A||(A=""),n=new mr(R,A),O.postModify(n);break}}if(n==null)throw D3(e);return n}}class F3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(r,e,t){let n=1,i=null,o=null,l=!1,u=0;function h(){return u===2}let d=!1;function g(...C){d||(d=!0,e.apply(null,C))}function m(C){i=setTimeout(()=>{i=null,r(y,h())},C)}function f(){o&&clearTimeout(o)}function y(C,...w){if(d){f();return}if(C){f(),g.call(null,C,...w);return}if(h()||l){f(),g.call(null,C,...w);return}n<64&&(n*=2);let P;u===1?(u=2,P=0):P=(n+Math.random())*1e3,m(P)}let b=!1;function x(C){b||(b=!0,f(),!d&&(i!==null?(C||(u=2),clearTimeout(i),m(0)):C||(u=1)))}return m(0),o=setTimeout(()=>{l=!0,x(!0)},t),x}function B3(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(r){return r!==void 0}function q3(r){return typeof r=="object"&&!Array.isArray(r)}function wv(r){return typeof r=="string"||r instanceof String}function B_(r){return Ev()&&r instanceof Blob}function Ev(){return typeof Blob<"u"}function M_(r,e,t,n){if(n<e)throw yy(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw yy(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function Rb(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var No;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(No||(No={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,o=e.indexOf(r)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,t,n,i,o,l,u,h,d,g,m,f=!0,y=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=g,this.connectionFactory_=m,this.retry=f,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,x)=>{this.resolve_=b,this.reject_=x,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new xh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const h=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===No.NO_ERROR,h=o.getStatus();if(!u||V3(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===No.ABORT;n(!1,new xh(!1,null,g));return}const d=this.successCodes_.indexOf(h)!==-1;n(!0,new xh(d,o))})},t=(n,i)=>{const o=this.resolve_,l=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());M3(h)?o(h):o()}catch(h){l(h)}else if(u!==null){const h=_v();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(i.canceled){const h=this.appDelete_?kb():I3();l(h)}else{const h=T3();l(h)}};this.canceled_?t(!1,new xh(!1,null,!0)):this.backoffId_=j3(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&B3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xh{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function z3(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function H3(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function W3(r,e){e&&(r["X-Firebase-GMPID"]=e)}function $3(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function G3(r,e,t,n,i,o,l=!0,u=!1){const h=Rb(r.urlParams),d=r.url+h,g=Object.assign({},r.headers);return W3(g,e),z3(g,t),H3(g,o),$3(g,n),new U3(d,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function J3(...r){const e=K3();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(Ev())return new Blob(r);throw new Jt(Kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Q3(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(r){if(typeof atob>"u")throw O3("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rm{constructor(e,t){this.data=e,this.contentType=t||null}}function X3(r,e){switch(r){case di.RAW:return new rm(Pb(e));case di.BASE64:case di.BASE64URL:return new rm(Nb(r,e));case di.DATA_URL:return new rm(eN(e),tN(e))}throw _v()}function Pb(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=n,l=r.charCodeAt(++t);n=65536|(o&1023)<<10|l&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Z3(r){let e;try{e=decodeURIComponent(r)}catch{throw _u(di.DATA_URL,"Malformed data URL.")}return Pb(e)}function Nb(r,e){switch(r){case di.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw _u(r,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case di.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw _u(r,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Y3(e)}catch(i){throw i.message.includes("polyfill")?i:_u(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}class Ob{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw _u(di.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=nN(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function eN(r){const e=new Ob(r);return e.base64?Nb(di.BASE64,e.rest):Z3(e.rest)}function tN(r){return new Ob(r).contentType}function nN(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,t){let n=0,i="";B_(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(B_(this.data_)){const n=this.data_,i=Q3(n,e,t);return i===null?null:new ks(i)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new ks(n,!0)}}static getBlob(...e){if(Ev()){const t=e.map(n=>n instanceof ks?n.data_:n);return new ks(J3.apply(null,t))}else{const t=e.map(l=>wv(l)?X3(di.RAW,l).data:l.data_);let n=0;t.forEach(l=>{n+=l.byteLength});const i=new Uint8Array(n);let o=0;return t.forEach(l=>{for(let u=0;u<l.length;u++)i[o++]=l[u]}),new ks(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(r){let e;try{e=JSON.parse(r)}catch{return null}return q3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function iN(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function Fb(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(r,e){return e}class Un{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||sN}}let Sh=null;function oN(r){return!wv(r)||r.length<2?r:Fb(r)}function jb(){if(Sh)return Sh;const r=[];r.push(new Un("bucket")),r.push(new Un("generation")),r.push(new Un("metageneration")),r.push(new Un("name","fullPath",!0));function e(o,l){return oN(l)}const t=new Un("name");t.xform=e,r.push(t);function n(o,l){return l!==void 0?Number(l):l}const i=new Un("size");return i.xform=n,r.push(i),r.push(new Un("timeCreated")),r.push(new Un("updated")),r.push(new Un("md5Hash",null,!0)),r.push(new Un("cacheControl",null,!0)),r.push(new Un("contentDisposition",null,!0)),r.push(new Un("contentEncoding",null,!0)),r.push(new Un("contentLanguage",null,!0)),r.push(new Un("contentType",null,!0)),r.push(new Un("metadata","customMetadata",!0)),Sh=r,Sh}function aN(r,e){function t(){const n=r.bucket,i=r.fullPath,o=new mr(n,i);return e._makeStorageReference(o)}Object.defineProperty(r,"ref",{get:t})}function lN(r,e,t){const n={};n.type="file";const i=t.length;for(let o=0;o<i;o++){const l=t[o];n[l.local]=l.xform(n,e[l.server])}return aN(n,r),n}function Bb(r,e,t){const n=Lb(e);return n===null?null:lN(r,n,t)}function uN(r,e,t,n){const i=Lb(e);if(i===null||!wv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(d=>{const g=r.bucket,m=r.fullPath,f="/b/"+l(g)+"/o/"+l(m),y=$d(f,t,n),b=Rb({alt:"media",token:d});return y+b})[0]}function cN(r,e){const t={},n=e.length;for(let i=0;i<n;i++){const o=e[i];o.writable&&(t[o.server]=r[o.local])}return JSON.stringify(t)}class Cv{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(r){if(!r)throw _v()}function hN(r,e){function t(n,i){const o=Bb(r,i,e);return Mb(o!==null),o}return t}function dN(r,e){function t(n,i){const o=Bb(r,i,e);return Mb(o!==null),uN(o,i,r.host,r._protocol)}return t}function qb(r){function e(t,n){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=x3():i=b3():t.getStatus()===402?i=A3(r.bucket):t.getStatus()===403?i=S3(r.path):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}return e}function Vb(r){const e=qb(r);function t(n,i){let o=e(n,i);return n.getStatus()===404&&(o=C3(r.path)),o.serverResponse=i.serverResponse,o}return t}function fN(r,e,t){const n=e.fullServerUrl(),i=$d(n,r.host,r._protocol),o="GET",l=r.maxOperationRetryTime,u=new Cv(i,o,dN(r,t),l);return u.errorHandler=Vb(e),u}function pN(r,e){const t=e.fullServerUrl(),n=$d(t,r.host,r._protocol),i="DELETE",o=r.maxOperationRetryTime;function l(h,d){}const u=new Cv(n,i,l,o);return u.successCodes=[200,204],u.errorHandler=Vb(e),u}function mN(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function gN(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=mN(null,e)),n}function yN(r,e,t,n,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let P="";for(let S=0;S<2;S++)P=P+Math.random().toString().slice(2);return P}const h=u();l["Content-Type"]="multipart/related; boundary="+h;const d=gN(e,n,i),g=cN(d,t),m="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+d.contentType+`\r
\r
`,f=`\r
--`+h+"--",y=ks.getBlob(m,n,f);if(y===null)throw P3();const b={name:d.fullPath},x=$d(o,r.host,r._protocol),C="POST",w=r.maxUploadRetryTime,E=new Cv(x,C,hN(r,t),w);return E.urlParams=b,E.headers=l,E.body=y.uploadData(),E.errorHandler=qb(e),E}class vN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=No.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=No.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=No.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,i,o){if(this.sent_)throw nu("cannot .send() more than once");if(Qs(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _N extends vN{initXhr(){this.xhr_.responseType="text"}}function Av(){return new _N}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,t){this._service=e,t instanceof mr?this._location=t:this._location=mr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bo(e,t)}get root(){const e=new mr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fb(this._location.path)}get storage(){return this._service}get parent(){const e=rN(this._location.path);if(e===null)return null;const t=new mr(this._location.bucket,e);return new Bo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw L3(e)}}function wN(r,e,t){r._throwIfRoot("uploadBytes");const n=yN(r.storage,r._location,jb(),new ks(e,!0),t);return r.storage.makeRequestWithTokens(n,Av).then(i=>({metadata:i,ref:r}))}function EN(r){r._throwIfRoot("getDownloadURL");const e=fN(r.storage,r._location,jb());return r.storage.makeRequestWithTokens(e,Av).then(t=>{if(t===null)throw N3();return t})}function CN(r){r._throwIfRoot("deleteObject");const e=pN(r.storage,r._location);return r.storage.makeRequestWithTokens(e,Av)}function AN(r,e){const t=iN(r._location.path,e),n=new mr(r._location.bucket,t);return new Bo(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r){return/^[A-Za-z]+:\/\//.test(r)}function xN(r,e){return new Bo(r,e)}function Ub(r,e){if(r instanceof bv){const t=r;if(t._bucket==null)throw R3();const n=new Bo(t,t._bucket);return e!=null?Ub(n,e):n}else return e!==void 0?AN(r,e):r}function SN(r,e){if(e&&bN(e)){if(r instanceof bv)return xN(r,e);throw yy("To use ref(service, url), the first argument must be a Storage instance.")}else return Ub(r,e)}function q_(r,e){const t=e==null?void 0:e[Db];return t==null?null:mr.makeFromBucketSpec(t,r)}function TN(r,e,t,n={}){r.host=`${e}:${t}`;const i=Qs(e);i&&(Dy(`https://${r.host}/b`),ky("Storage",!0)),r._isUsingEmulator=!0,r._protocol=i?"https":"http";const{mockUserToken:o}=n;o&&(r._overrideAuthToken=typeof o=="string"?o:UC(o,r.app.options.projectId))}class bv{constructor(e,t,n,i,o,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=Ib,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=w3,this._maxUploadRetryTime=E3,this._requests=new Set,i!=null?this._bucket=mr.makeFromBucketSpec(i,this._host):this._bucket=q_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mr.makeFromBucketSpec(this._url,e):this._bucket=q_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){M_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){M_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bo(this,e)}_makeRequest(e,t,n,i,o=!0){if(this._deleted)return new F3(kb());{const l=G3(e,this._appId,n,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const V_="@firebase/storage",U_="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="storage";function IN(r,e,t){return r=Nt(r),wN(r,e,t)}function DN(r){return r=Nt(r),EN(r)}function kN(r){return r=Nt(r),CN(r)}function im(r,e){return r=Nt(r),SN(r,e)}function RN(r=Ny(),e){r=Nt(r);const n=xd(r,zb).getImmediate({identifier:e}),i=MC("storage");return i&&PN(n,...i),n}function PN(r,e,t,n={}){TN(r,e,t,n)}function NN(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new bv(t,n,i,e,Vo)}function ON(){Lo(new Vs(zb,NN,"PUBLIC").setMultipleInstances(!0)),pi(V_,U_,""),pi(V_,U_,"esm2017")}ON();function xv(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function Hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LN=Hb,Wb=new Vu("auth","Firebase",Hb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Ry("@firebase/auth");function FN(r,...e){ud.logLevel<=mt.WARN&&ud.warn(`Auth (${Vo}): ${r}`,...e)}function Mh(r,...e){ud.logLevel<=mt.ERROR&&ud.error(`Auth (${Vo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(r,...e){throw Sv(r,...e)}function yi(r,...e){return Sv(r,...e)}function $b(r,e,t){const n=Object.assign(Object.assign({},LN()),{[e]:t});return new Vu("auth","Firebase",n).create(e,{appName:r.name})}function Hi(r){return $b(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sv(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return Wb.create(r,...e)}function et(r,e,...t){if(!r)throw Sv(e,...t)}function Vi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Mh(e),new Error(e)}function Qi(r,e){r||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function jN(){return z_()==="http:"||z_()==="https:"}function z_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jN()||CI()||"connection"in navigator)?navigator.onLine:!0}function MN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qi(t>e,"Short delay should be less than long delay!"),this.isMobile=_I()||AI()}get(){return BN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(r,e){Qi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UN=new Ku(3e4,6e4);function Zi(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function bi(r,e,t,n,i={}){return Kb(r,i,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const u=Uu(Object.assign({key:r.config.apiKey},l)).slice(1),h=await r._getAdditionalHeaders();h["Content-Type"]="application/json",r.languageCode&&(h["X-Firebase-Locale"]=r.languageCode);const d=Object.assign({method:e,headers:h},o);return EI()||(d.referrerPolicy="no-referrer"),r.emulatorConfig&&Qs(r.emulatorConfig.host)&&(d.credentials="include"),Gb.fetch()(await Jb(r,r.config.apiHost,t,u),d)})}async function Kb(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},qN),e);try{const i=new HN(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Th(r,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,d]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(r,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Th(r,"email-already-in-use",l);if(h==="USER_DISABLED")throw Th(r,"user-disabled",l);const g=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw $b(r,g,d);Qr(r,g)}}catch(i){if(i instanceof Ai)throw i;Qr(r,"network-request-failed",{message:String(i)})}}async function Ju(r,e,t,n,i={}){const o=await bi(r,e,t,n,i);return"mfaPendingCredential"in o&&Qr(r,"multi-factor-auth-required",{_serverResponse:o}),o}async function Jb(r,e,t,n){const i=`${e}${t}?${n}`,o=r,l=o.config.emulator?Tv(r.config,i):`${r.config.apiScheme}://${i}`;return VN.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function zN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(yi(this.auth,"network-request-failed")),UN.get())})}}function Th(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=yi(r,e,n);return i.customData._tokenResponse=t,i}function H_(r){return r!==void 0&&r.enterprise!==void 0}class WN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $N(r,e){return bi(r,"GET","/v2/recaptchaConfig",Zi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(r,e){return bi(r,"POST","/v1/accounts:delete",e)}async function cd(r,e){return bi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KN(r,e=!1){const t=Nt(r),n=await t.getIdToken(e),i=Iv(n);et(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:wu(sm(i.auth_time)),issuedAtTime:wu(sm(i.iat)),expirationTime:wu(sm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function sm(r){return Number(r)*1e3}function Iv(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{const i=jC(t);return i?JSON.parse(i):(Mh("Failed to decode base64 JWT payload"),null)}catch(i){return Mh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function W_(r){const e=Iv(r);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Ai&&JN(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function JN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(r){var e;const t=r.auth,n=await r.getIdToken(),i=await Xa(r,cd(t,{idToken:n}));et(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Qb(o.providerUserInfo):[],u=XN(r.providerData,l),h=r.isAnonymous,d=!(r.email&&o.passwordHash)&&!(u!=null&&u.length),g=h?d:!1,m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _y(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,m)}async function YN(r){const e=Nt(r);await hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XN(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Qb(r){return r.map(e=>{var{providerId:t}=e,n=xv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(r,e){const t=await Kb(r,{},async()=>{const n=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,l=await Jb(r,i,"/v1/token",`key=${o}`),u=await r._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:n};return r.emulatorConfig&&Qs(r.emulatorConfig.host)&&(h.credentials="include"),Gb.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eO(r,e){return bi(r,"POST","/v2/accounts:revokeToken",Zi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){et(e.length!==0,"internal-error");const t=W_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await ZN(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,l=new qa;return n&&(et(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(et(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(et(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(r,e){et(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Gr{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,o=xv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _y(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Xa(this,this.stsTokenManager.getToken(this.auth,e));return et(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return KN(this,e)}reload(){return YN(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await hd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await Xa(this,GN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,o,l,u,h,d,g;const m=(n=t.displayName)!==null&&n!==void 0?n:void 0,f=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(l=t.photoURL)!==null&&l!==void 0?l:void 0,x=(u=t.tenantId)!==null&&u!==void 0?u:void 0,C=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,w=(d=t.createdAt)!==null&&d!==void 0?d:void 0,E=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:P,emailVerified:S,isAnonymous:O,providerData:M,stsTokenManager:R}=t;et(P&&R,e,"internal-error");const A=qa.fromJSON(this.name,R);et(typeof P=="string",e,"internal-error"),Ts(m,e.name),Ts(f,e.name),et(typeof S=="boolean",e,"internal-error"),et(typeof O=="boolean",e,"internal-error"),Ts(y,e.name),Ts(b,e.name),Ts(x,e.name),Ts(C,e.name),Ts(w,e.name),Ts(E,e.name);const T=new Gr({uid:P,auth:e,email:f,emailVerified:S,displayName:m,isAnonymous:O,photoURL:b,phoneNumber:y,tenantId:x,stsTokenManager:A,createdAt:w,lastLoginAt:E});return M&&Array.isArray(M)&&(T.providerData=M.map(I=>Object.assign({},I))),C&&(T._redirectEventId=C),T}static async _fromIdTokenResponse(e,t,n=!1){const i=new qa;i.updateFromServerResponse(t);const o=new Gr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await hd(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];et(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Qb(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new qa;u.updateFromIdToken(n);const h=new Gr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _y(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new Map;function Ui(r){Qi(r instanceof Function,"Expected a class definition");let e=$_.get(r);return e?(Qi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,$_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Yb.type="NONE";const G_=Yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(r,e,t){return`firebase:${r}:${e}:${t}`}class Va{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=qh(this.userKey,i.apiKey,o),this.fullPersistenceKey=qh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await cd(this.auth,{idToken:e}).catch(()=>{});return t?Gr._fromGetAccountInfoResponse(this.auth,t,e):null}return Gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Va(Ui(G_),e,n);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Ui(G_);const l=qh(n,e.config.apiKey,e.name);let u=null;for(const d of t)try{const g=await d._get(l);if(g){let m;if(typeof g=="string"){const f=await cd(e,{idToken:g}).catch(()=>{});if(!f)break;m=await Gr._fromGetAccountInfoResponse(e,f,g)}else m=Gr._fromJSON(e,g);d!==o&&(u=m),o=d;break}}catch{}const h=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Va(o,e,n):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new Va(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rx(e))return"Blackberry";if(ix(e))return"Webos";if(Zb(e))return"Safari";if((e.includes("chrome/")||ex(e))&&!e.includes("edge/"))return"Chrome";if(nx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Xb(r=jn()){return/firefox\//i.test(r)}function Zb(r=jn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ex(r=jn()){return/crios\//i.test(r)}function tx(r=jn()){return/iemobile/i.test(r)}function nx(r=jn()){return/android/i.test(r)}function rx(r=jn()){return/blackberry/i.test(r)}function ix(r=jn()){return/webos/i.test(r)}function Dv(r=jn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tO(r=jn()){var e;return Dv(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nO(){return bI()&&document.documentMode===10}function sx(r=jn()){return Dv(r)||nx(r)||ix(r)||rx(r)||/windows phone/i.test(r)||tx(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(r,e=[]){let t;switch(r){case"Browser":t=K_(jn());break;case"Worker":t=`${K_(jn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vo}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(r,e={}){return bi(r,"GET","/v2/passwordPolicy",Zi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=6;class oO{constructor(e){var t,n,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:sO,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(n=h.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new J_(this),this.idTokenSubscription=new J_(this),this.beforeStateQueue=new rO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ui(t)),this._initializationPromise=this.queue(async()=>{var n,i,o;if(!this._deleted&&(this.persistenceManager=await Va.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await cd(this,{idToken:e}),n=await Gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(Hi(this));const t=e?Nt(e):null;return t&&et(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iO(this),t=new oO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vu("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await eO(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ui(e)||this._popupRedirectResolver;et(t,this,"argument-error"),this.redirectPersistenceManager=await Va.create(this,[Ui(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,n,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ox(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&FN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Zs(r){return Nt(r)}class J_{constructor(e){this.auth=e,this.observer=null,this.addObserver=PI(t=>this.observer=t)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lO(r){Gd=r}function ax(r){return Gd.loadJS(r)}function uO(){return Gd.recaptchaEnterpriseScript}function cO(){return Gd.gapiScript}function hO(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class dO{constructor(){this.enterprise=new fO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const pO="recaptcha-enterprise",lx="NO_RECAPTCHA";class mO{constructor(e){this.type=pO,this.auth=Zs(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{$N(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new WN(h);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(h=>{u(h)})})}function i(o,l,u){const h=window.grecaptcha;H_(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(d=>{l(d)}).catch(()=>{l(lx)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dO().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{n(this.auth).then(u=>{if(!t&&H_(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=uO();h.length!==0&&(h+=u),ax(h).then(()=>{i(u,o,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function Q_(r,e,t,n=!1,i=!1){const o=new mO(r);let l;if(i)l=lx;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function dd(r,e,t,n,i){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Q_(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Q_(r,e,t,t==="getOobCode");return n(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(r,e){const t=xd(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Oo(o,e??{}))return i;Qr(i,"already-initialized")}return t.initialize({options:e})}function yO(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Ui);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function vO(r,e,t){const n=Zs(r);et(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=ux(e),{host:l,port:u}=_O(e),h=u===null?"":`:${u}`,d={url:`${o}//${l}${h}/`},g=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){et(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),et(Oo(d,n.config.emulator)&&Oo(g,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=g,n.settings.appVerificationDisabledForTesting=!0,Qs(l)?(Dy(`${o}//${l}${h}`),ky("Auth",!0)):wO()}function ux(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function _O(r){const e=ux(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:Y_(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:Y_(l)}}}function Y_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function wO(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,t){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}async function EO(r,e){return bi(r,"POST","/v1/accounts:update",e)}async function CO(r,e){return bi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(r,e){return Ju(r,"POST","/v1/accounts:signInWithPassword",Zi(r,e))}async function bO(r,e){return bi(r,"POST","/v1/accounts:sendOobCode",Zi(r,e))}async function xO(r,e){return bO(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(r,e){return Ju(r,"POST","/v1/accounts:signInWithEmailLink",Zi(r,e))}async function TO(r,e){return Ju(r,"POST","/v1/accounts:signInWithEmailLink",Zi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends kv{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Pu(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Pu(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dd(e,t,"signInWithPassword",AO);case"emailLink":return SO(e,{email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dd(e,n,"signUpPassword",CO);case"emailLink":return TO(e,{idToken:t,email:this._email,oobCode:this._password});default:Qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(r,e){return Ju(r,"POST","/v1/accounts:signInWithIdp",Zi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="http://localhost";class Mo extends kv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,o=xv(t,["providerId","signInMethod"]);if(!n||!i)return null;const l=new Mo(n,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ua(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ua(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ua(e,t)}buildRequest(){const e={requestUri:IO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Uu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kO(r){const e=su(ou(r)).link,t=e?su(ou(e)).deep_link_id:null,n=su(ou(r)).deep_link_id;return(n?su(ou(n)).link:null)||n||t||e||r}class Rv{constructor(e){var t,n,i,o,l,u;const h=su(ou(e)),d=(t=h.apiKey)!==null&&t!==void 0?t:null,g=(n=h.oobCode)!==null&&n!==void 0?n:null,m=DO((i=h.mode)!==null&&i!==void 0?i:null);et(d&&g&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=g,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=kO(e);try{return new Rv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.providerId=ol.PROVIDER_ID}static credential(e,t){return Pu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Rv.parseLink(t);return et(n,"argument-error"),Pu._fromEmailAndCode(e,n.code,n.tenantId)}}ol.PROVIDER_ID="password";ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends cx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Qu{constructor(){super("facebook.com")}static credential(e){return Mo._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Mo._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ps.credential(t,n)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Qu{constructor(){super("github.com")}static credential(e){return Mo._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Qu{constructor(){super("twitter.com")}static credential(e,t){return Mo._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Os.credential(t,n)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(r,e){return Ju(r,"POST","/v1/accounts:signUp",Zi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await Gr._fromIdTokenResponse(e,n,i),l=X_(n);return new qo({user:o,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=X_(n);return new qo({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function X_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends Ai{constructor(e,t,n,i){var o;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new fd(e,t,n,i)}}function hx(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(r,o,e,n):o})}async function PO(r,e,t=!1){const n=await Xa(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return qo._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(r,e,t=!1){const{auth:n}=r;if(dr(n.app))return Promise.reject(Hi(n));const i="reauthenticate";try{const o=await Xa(r,hx(n,i,e,r),t);et(o.idToken,n,"internal-error");const l=Iv(o.idToken);et(l,n,"internal-error");const{sub:u}=l;return et(r.uid===u,n,"user-mismatch"),qo._forOperation(r,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Qr(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(r,e,t=!1){if(dr(r.app))return Promise.reject(Hi(r));const n="signIn",i=await hx(r,n,e),o=await qo._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}async function OO(r,e){return dx(Zs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(r){const e=Zs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function LO(r,e,t){const n=Zs(r);await dd(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",xO)}async function FO(r,e,t){if(dr(r.app))return Promise.reject(Hi(r));const n=Zs(r),l=await dd(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",RO).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&fx(r),h}),u=await qo._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(u.user),u}function Z_(r,e,t){return dr(r.app)?Promise.reject(Hi(r)):OO(Nt(r),ol.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&fx(r),n})}function jO(r,e){return BO(Nt(r),null,e)}async function BO(r,e,t){const{auth:n}=r,o={idToken:await r.getIdToken(),returnSecureToken:!0};t&&(o.password=t);const l=await Xa(r,EO(n,o));await r._updateTokensIfNecessary(l,!0)}function MO(r,e,t,n){return Nt(r).onIdTokenChanged(e,t,n)}function qO(r,e,t){return Nt(r).beforeAuthStateChanged(e,t)}function om(r,e,t,n){return Nt(r).onAuthStateChanged(e,t,n)}function ew(r){return Nt(r).signOut()}async function VO(r){return Nt(r).delete()}const pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=1e3,zO=10;class mx extends px{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);nO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zO):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},UO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mx.type="LOCAL";const HO=mx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends px{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gx.type="SESSION";const yx=gx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Kd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(l).map(async d=>d(t.origin,o)),h=await WO(u);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const d=Pv("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(m){const f=m;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function GO(r){vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function KO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JO(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function QO(){return vx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firebaseLocalStorageDb",YO=1,md="firebaseLocalStorage",wx="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jd(r,e){return r.transaction([md],e?"readwrite":"readonly").objectStore(md)}function XO(){const r=indexedDB.deleteDatabase(_x);return new Yu(r).toPromise()}function wy(){const r=indexedDB.open(_x,YO);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(md,{keyPath:wx})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(md)?e(n):(n.close(),await XO(),e(await wy()))})})}async function tw(r,e,t){const n=Jd(r,!0).put({[wx]:e,value:t});return new Yu(n).toPromise()}async function ZO(r,e){const t=Jd(r,!1).get(e),n=await new Yu(t).toPromise();return n===void 0?null:n.value}function nw(r,e){const t=Jd(r,!0).delete(e);return new Yu(t).toPromise()}const eL=800,tL=3;class Ex{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>tL)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kd._getInstance(QO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await KO(),!this.activeServiceWorker)return;this.sender=new $O(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wy();return await tw(e,pd,"1"),await nw(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tw(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>ZO(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>nw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Jd(i,!1).getAll();return new Yu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ex.type="LOCAL";const nL=Ex;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(r,e){return e?Ui(e):(et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends kv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ua(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ua(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ua(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function iL(r){return dx(r.auth,new Nv(r),r.bypassAuthState)}function sL(r){const{auth:e,user:t}=r;return et(t,e,"internal-error"),NO(t,new Nv(r),r.bypassAuthState)}async function oL(r){const{auth:e,user:t}=r;return et(t,e,"internal-error"),PO(t,new Nv(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iL;case"linkViaPopup":case"linkViaRedirect":return oL;case"reauthViaPopup":case"reauthViaRedirect":return sL;default:Qr(this.auth,"internal-error")}}resolve(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL=new Ku(2e3,1e4);class Ba extends Cx{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const e=Pv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aL.get())};e()}}Ba.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="pendingRedirect",Vh=new Map;class uL extends Cx{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Vh.get(this.auth._key());if(!e){try{const n=await cL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cL(r,e){const t=fL(e),n=dL(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function hL(r,e){Vh.set(r._key(),e)}function dL(r){return Ui(r._redirectPersistence)}function fL(r){return qh(lL,r.config.apiKey,r.name)}async function pL(r,e,t=!1){if(dr(r.app))return Promise.reject(Hi(r));const n=Zs(r),i=rL(n,e),l=await new uL(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=10*60*1e3;class gL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ax(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(yi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mL&&this.cachedEventUids.clear(),this.cachedEventUids.has(rw(e))}saveEventToCache(e){this.cachedEventUids.add(rw(e)),this.lastProcessedEventTime=Date.now()}}function rw(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ax({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yL(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ax(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(r,e={}){return bi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wL=/^https?/;async function EL(r){if(r.config.emulator)return;const{authorizedDomains:e}=await vL(r);for(const t of e)try{if(CL(t))return}catch{}Qr(r,"unauthorized-domain")}function CL(r){const e=vy(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!wL.test(t))return!1;if(_L.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=new Ku(3e4,6e4);function iw(){const r=vi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function bL(r){return new Promise((e,t)=>{var n,i,o;function l(){iw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iw(),t(yi(r,"network-request-failed"))},timeout:AL.get()})}if(!((i=(n=vi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=vi().gapi)===null||o===void 0)&&o.load)l();else{const u=hO("iframefcb");return vi()[u]=()=>{gapi.load?l():t(yi(r,"network-request-failed"))},ax(`${cO()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function xL(r){return Uh=Uh||bL(r),Uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new Ku(5e3,15e3),TL="__/auth/iframe",IL="emulator/auth/iframe",DL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RL(r){const e=r.config;et(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Tv(e,IL):`https://${r.config.authDomain}/${TL}`,n={apiKey:e.apiKey,appName:r.name,v:Vo},i=kL.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${Uu(n).slice(1)}`}async function PL(r){const e=await xL(r),t=vi().gapi;return et(t,r,"internal-error"),e.open({where:document.body,url:RL(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DL,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const l=yi(r,"network-request-failed"),u=vi().setTimeout(()=>{o(l)},SL.get());function h(){vi().clearTimeout(u),i(n)}n.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OL=500,LL=600,FL="_blank",jL="http://localhost";class sw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BL(r,e,t,n=OL,i=LL){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const h=Object.assign(Object.assign({},NL),{width:n.toString(),height:i.toString(),top:o,left:l}),d=jn().toLowerCase();t&&(u=ex(d)?FL:t),Xb(d)&&(e=e||jL,h.scrollbars="yes");const g=Object.entries(h).reduce((f,[y,b])=>`${f}${y}=${b},`,"");if(tO(d)&&u!=="_self")return ML(e||"",u),new sw(null);const m=window.open(e||"",u,g);et(m,r,"popup-blocked");try{m.focus()}catch{}return new sw(m)}function ML(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="__/auth/handler",VL="emulator/auth/handler",UL=encodeURIComponent("fac");async function ow(r,e,t,n,i,o){et(r.config.authDomain,r,"auth-domain-config-required"),et(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Vo,eventId:i};if(e instanceof cx){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",RI(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,m]of Object.entries({}))l[g]=m}if(e instanceof Qu){const g=e.getScopes().filter(m=>m!=="");g.length>0&&(l.scopes=g.join(","))}r.tenantId&&(l.tid=r.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const h=await r._getAppCheckToken(),d=h?`#${UL}=${encodeURIComponent(h)}`:"";return`${zL(r)}?${Uu(u).slice(1)}${d}`}function zL({config:r}){return r.emulator?Tv(r,VL):`https://${r.authDomain}/${qL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class HL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yx,this._completeRedirectFn=pL,this._overrideRedirectResult=hL}async _openPopup(e,t,n,i){var o;Qi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await ow(e,t,n,vy(),i);return BL(e,l,Pv())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await ow(e,t,n,vy(),i);return GO(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Qi(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await PL(e),n=new gL(e);return t.register("authEvent",i=>(et(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(am,{type:am},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[am];l!==void 0&&t(!!l),Qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sx()||Zb()||Dv()}}const WL=HL;var aw="@firebase/auth",lw="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KL(r){Lo(new Vs("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=n.options;et(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:l,authDomain:u,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ox(r)},d=new aO(n,i,o,h);return yO(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Lo(new Vs("auth-internal",e=>{const t=Zs(e.getProvider("auth").getImmediate());return(n=>new $L(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(aw,lw,GL(r)),pi(aw,lw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=5*60,QL=VC("authIdTokenMaxAge")||JL;let uw=null;const YL=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>QL)return;const i=t==null?void 0:t.token;uw!==i&&(uw=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function zh(r=Ny()){const e=xd(r,"auth");if(e.isInitialized())return e.getImmediate();const t=gO(r,{popupRedirectResolver:WL,persistence:[nL,HO,yx]}),n=VC("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=YL(o.toString());qO(t,l,()=>l(t.currentUser)),MO(t,u=>l(u))}}const i=BC("auth");return i&&vO(t,`http://${i}`),t}function XL(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}lO({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=yi("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",XL().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KL("Browser");const ZL={apiKey:"AIzaSyC1ejMnWWe98bFa29RwIiBBB7UndNdJ1cA",authDomain:"salescaptureai.firebaseapp.com",projectId:"salescaptureai",storageBucket:"salescaptureai.firebasestorage.app",messagingSenderId:"392166418592",appId:"1:392166418592:web:7807d9aafec37b8c0581c5",measurementId:"G-BTPP6403LT"},bx=WC(ZL),e5=RN(),t5=$P(bx),n5=zh(bx);class r5{constructor(){le(this,"doNotInclude",["render","forceUpdate","setState"])}bind(e){var n;let t=Object.getPrototypeOf(e);for(;t&&t!==Object.prototype;){const i=Object.getOwnPropertyNames(t).filter(o=>typeof t[o]=="function"&&o!=="constructor");for(let o of i)this.doNotInclude.includes(o)||(e[o]=(n=e[o])==null?void 0:n.bind(e));t=Object.getPrototypeOf(t)}}setDoNotIncludeList(e){this.doNotInclude=e}leaveOut(e){this.doNotInclude.push(e)}include(e){this.doNotInclude=this.doNotInclude.filter(t=>t!==e)}}let Hn=new r5;class Wi{constructor(){le(this,"list",[]);Hn.bind(this)}setList(e){e=e.filter(t=>t!==void 0),this.list=e}getList(){return this.list}subscribe(e){e&&this.list.push(e)}unsubscribe(e){this.list=this.list.filter(t=>t!==e)}run(...e){for(let t of this.list)t&&t(...e)}}var ru={},cw;function i5(){if(cw)return ru;cw=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.parse=l,ru.serialize=d;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function l(f,y){const b=new o,x=f.length;if(x<2)return b;const C=(y==null?void 0:y.decode)||g;let w=0;do{const E=f.indexOf("=",w);if(E===-1)break;const P=f.indexOf(";",w),S=P===-1?x:P;if(E>S){w=f.lastIndexOf(";",E-1)+1;continue}const O=u(f,w,E),M=h(f,E,O),R=f.slice(O,M);if(b[R]===void 0){let A=u(f,E+1,S),T=h(f,S,A);const I=C(f.slice(A,T));b[R]=I}w=S+1}while(w<x);return b}function u(f,y,b){do{const x=f.charCodeAt(y);if(x!==32&&x!==9)return y}while(++y<b);return b}function h(f,y,b){for(;y>b;){const x=f.charCodeAt(--y);if(x!==32&&x!==9)return y+1}return b}function d(f,y,b){const x=(b==null?void 0:b.encode)||encodeURIComponent;if(!r.test(f))throw new TypeError(`argument name is invalid: ${f}`);const C=x(y);if(!e.test(C))throw new TypeError(`argument val is invalid: ${y}`);let w=f+"="+C;if(!b)return w;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);w+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);w+="; Domain="+b.domain}if(b.path){if(!n.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);w+="; Path="+b.path}if(b.expires){if(!m(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);w+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(w+="; HttpOnly"),b.secure&&(w+="; Secure"),b.partitioned&&(w+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return w}function g(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function m(f){return i.call(f)==="[object Date]"}return ru}i5();var hw="popstate";function s5(r={}){function e(n,i){let{pathname:o,search:l,hash:u}=n.location;return Ey("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Nu(i)}return a5(e,t,null,r)}function Wt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ei(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function o5(){return Math.random().toString(36).substring(2,10)}function dw(r,e){return{usr:r.state,key:r.key,idx:e}}function Ey(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?al(e):e,state:t,key:e&&e.key||n||o5()}}function Nu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function al(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function a5(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,u="POP",h=null,d=g();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function g(){return(l.state||{idx:null}).idx}function m(){u="POP";let C=g(),w=C==null?null:C-d;d=C,h&&h({action:u,location:x.location,delta:w})}function f(C,w){u="PUSH";let E=Ey(x.location,C,w);d=g()+1;let P=dw(E,d),S=x.createHref(E);try{l.pushState(P,"",S)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(S)}o&&h&&h({action:u,location:x.location,delta:1})}function y(C,w){u="REPLACE";let E=Ey(x.location,C,w);d=g();let P=dw(E,d),S=x.createHref(E);l.replaceState(P,"",S),o&&h&&h({action:u,location:x.location,delta:0})}function b(C){return l5(C)}let x={get action(){return u},get location(){return r(i,l)},listen(C){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(hw,m),h=C,()=>{i.removeEventListener(hw,m),h=null}},createHref(C){return e(i,C)},createURL:b,encodeLocation(C){let w=b(C);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:y,go(C){return l.go(C)}};return x}function l5(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Nu(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function xx(r,e,t="/"){return u5(r,e,t,!1)}function u5(r,e,t,n){let i=typeof e=="string"?al(e):e,o=Yi(i.pathname||"/",t);if(o==null)return null;let l=Sx(r);c5(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let d=E5(o);u=_5(l[h],d,n)}return u}function Sx(r,e=[],t=[],n=""){let i=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(Wt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let d=$i([n,h.relativePath]),g=t.concat(h);o.children&&o.children.length>0&&(Wt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Sx(o.children,e,g,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:y5(d,o.index),routesMeta:g})};return r.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let h of Tx(o.path))i(o,l,h)}),e}function Tx(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=Tx(n.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&u.push(...l),u.map(h=>r.startsWith("/")&&h===""?"/":h)}function c5(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:v5(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var h5=/^:[\w-]+$/,d5=3,f5=2,p5=1,m5=10,g5=-2,fw=r=>r==="*";function y5(r,e){let t=r.split("/"),n=t.length;return t.some(fw)&&(n+=g5),e&&(n+=f5),t.filter(i=>!fw(i)).reduce((i,o)=>i+(h5.test(o)?d5:o===""?p5:m5),n)}function v5(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function _5(r,e,t=!1){let{routesMeta:n}=r,i={},o="/",l=[];for(let u=0;u<n.length;++u){let h=n[u],d=u===n.length-1,g=o==="/"?e:e.slice(o.length)||"/",m=gd({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},g),f=h.route;if(!m&&d&&t&&!n[n.length-1].route.index&&(m=gd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:$i([o,m.pathname]),pathnameBase:x5($i([o,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(o=$i([o,m.pathnameBase]))}return l}function gd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=w5(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((d,{paramName:g,isOptional:m},f)=>{if(g==="*"){let b=u[f]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const y=u[f];return m&&!y?d[g]=void 0:d[g]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:r}}function w5(r,e=!1,t=!0){Ei(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(n.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function E5(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ei(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Yi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function C5(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?al(r):r;return{pathname:t?t.startsWith("/")?t:A5(t,e):e,search:S5(n),hash:T5(i)}}function A5(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function lm(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b5(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ix(r){let e=b5(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function Dx(r,e,t,n=!1){let i;typeof r=="string"?i=al(r):(i={...r},Wt(!i.pathname||!i.pathname.includes("?"),lm("?","pathname","search",i)),Wt(!i.pathname||!i.pathname.includes("#"),lm("#","pathname","hash",i)),Wt(!i.search||!i.search.includes("#"),lm("#","search","hash",i)));let o=r===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let m=e.length-1;if(!n&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),m-=1;i.pathname=f.join("/")}u=m>=0?e[m]:"/"}let h=C5(i,u),d=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||g)&&(h.pathname+="/"),h}var $i=r=>r.join("/").replace(/\/\/+/g,"/"),x5=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),S5=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,T5=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function I5(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var kx=["POST","PUT","PATCH","DELETE"];new Set(kx);var D5=["GET",...kx];new Set(D5);var ll=ve.createContext(null);ll.displayName="DataRouter";var Qd=ve.createContext(null);Qd.displayName="DataRouterState";var Rx=ve.createContext({isTransitioning:!1});Rx.displayName="ViewTransition";var k5=ve.createContext(new Map);k5.displayName="Fetchers";var R5=ve.createContext(null);R5.displayName="Await";var xi=ve.createContext(null);xi.displayName="Navigation";var Xu=ve.createContext(null);Xu.displayName="Location";var es=ve.createContext({outlet:null,matches:[],isDataRoute:!1});es.displayName="Route";var Ov=ve.createContext(null);Ov.displayName="RouteError";function P5(r,{relative:e}={}){Wt(Zu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=ve.useContext(xi),{hash:i,pathname:o,search:l}=ec(r,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:$i([t,o])),n.createHref({pathname:u,search:l,hash:i})}function Zu(){return ve.useContext(Xu)!=null}function Ho(){return Wt(Zu(),"useLocation() may be used only in the context of a <Router> component."),ve.useContext(Xu).location}var Px="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nx(r){ve.useContext(xi).static||ve.useLayoutEffect(r)}function N5(){let{isDataRoute:r}=ve.useContext(es);return r?$5():O5()}function O5(){Wt(Zu(),"useNavigate() may be used only in the context of a <Router> component.");let r=ve.useContext(ll),{basename:e,navigator:t}=ve.useContext(xi),{matches:n}=ve.useContext(es),{pathname:i}=Ho(),o=JSON.stringify(Ix(n)),l=ve.useRef(!1);return Nx(()=>{l.current=!0}),ve.useCallback((h,d={})=>{if(Ei(l.current,Px),!l.current)return;if(typeof h=="number"){t.go(h);return}let g=Dx(h,JSON.parse(o),i,d.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:$i([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,i,r])}ve.createContext(null);function ec(r,{relative:e}={}){let{matches:t}=ve.useContext(es),{pathname:n}=Ho(),i=JSON.stringify(Ix(t));return ve.useMemo(()=>Dx(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function L5(r,e){return Ox(r,e)}function Ox(r,e,t,n){var w;Wt(Zu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=ve.useContext(xi),{matches:o}=ve.useContext(es),l=o[o.length-1],u=l?l.params:{},h=l?l.pathname:"/",d=l?l.pathnameBase:"/",g=l&&l.route;{let E=g&&g.path||"";Lx(h,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=Ho(),f;if(e){let E=typeof e=="string"?al(e):e;Wt(d==="/"||((w=E.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),f=E}else f=m;let y=f.pathname||"/",b=y;if(d!=="/"){let E=d.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=xx(r,{pathname:b});Ei(g||x!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),Ei(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=q5(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:$i([d,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:$i([d,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,t,n);return e&&C?ve.createElement(Xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},C):C}function F5(){let r=W5(),e=I5(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",r),l=ve.createElement(ve.Fragment,null,ve.createElement("p",null,"💿 Hey developer 👋"),ve.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ve.createElement("code",{style:o},"ErrorBoundary")," or"," ",ve.createElement("code",{style:o},"errorElement")," prop on your route.")),ve.createElement(ve.Fragment,null,ve.createElement("h2",null,"Unexpected Application Error!"),ve.createElement("h3",{style:{fontStyle:"italic"}},e),t?ve.createElement("pre",{style:i},t):null,l)}var j5=ve.createElement(F5,null),B5=class extends ve.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?ve.createElement(es.Provider,{value:this.props.routeContext},ve.createElement(Ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M5({routeContext:r,match:e,children:t}){let n=ve.useContext(ll);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ve.createElement(es.Provider,{value:r},t)}function q5(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,o=t==null?void 0:t.errors;if(o!=null){let h=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Wt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:g,errors:m}=t,f=d.route.loader&&!g.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||f){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,d,g)=>{let m,f=!1,y=null,b=null;t&&(m=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||j5,l&&(u<0&&g===0?(Lx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,b=null):u===g&&(f=!0,b=d.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,g+1)),C=()=>{let w;return m?w=y:f?w=b:d.route.Component?w=ve.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,ve.createElement(M5,{match:d,routeContext:{outlet:h,matches:x,isDataRoute:t!=null},children:w})};return t&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?ve.createElement(B5,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:C(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):C()},null)}function Lv(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V5(r){let e=ve.useContext(ll);return Wt(e,Lv(r)),e}function U5(r){let e=ve.useContext(Qd);return Wt(e,Lv(r)),e}function z5(r){let e=ve.useContext(es);return Wt(e,Lv(r)),e}function Fv(r){let e=z5(r),t=e.matches[e.matches.length-1];return Wt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function H5(){return Fv("useRouteId")}function W5(){var n;let r=ve.useContext(Ov),e=U5("useRouteError"),t=Fv("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function $5(){let{router:r}=V5("useNavigate"),e=Fv("useNavigate"),t=ve.useRef(!1);return Nx(()=>{t.current=!0}),ve.useCallback(async(i,o={})=>{Ei(t.current,Px),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...o}))},[r,e])}var pw={};function Lx(r,e,t){!e&&!pw[r]&&(pw[r]=!0,Ei(!1,t))}ve.memo(G5);function G5({routes:r,future:e,state:t}){return Ox(r,void 0,t,e)}function Is(r){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K5({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:o=!1}){Wt(!Zu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=r.replace(/^\/*/,"/"),u=ve.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=al(t));let{pathname:h="/",search:d="",hash:g="",state:m=null,key:f="default"}=t,y=ve.useMemo(()=>{let b=Yi(h,l);return b==null?null:{location:{pathname:b,search:d,hash:g,state:m,key:f},navigationType:n}},[l,h,d,g,m,f,n]);return Ei(y!=null,`<Router basename="${l}"> is not able to match the URL "${h}${d}${g}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:ve.createElement(xi.Provider,{value:u},ve.createElement(Xu.Provider,{children:e,value:y}))}function mw({children:r,location:e}){return L5(Cy(r),e)}function Cy(r,e=[]){let t=[];return ve.Children.forEach(r,(n,i)=>{if(!ve.isValidElement(n))return;let o=[...e,i];if(n.type===ve.Fragment){t.push.apply(t,Cy(n.props.children,o));return}Wt(n.type===Is,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Cy(n.props.children,o)),t.push(l)}),t}var Hh="get",Wh="application/x-www-form-urlencoded";function Yd(r){return r!=null&&typeof r.tagName=="string"}function J5(r){return Yd(r)&&r.tagName.toLowerCase()==="button"}function Q5(r){return Yd(r)&&r.tagName.toLowerCase()==="form"}function Y5(r){return Yd(r)&&r.tagName.toLowerCase()==="input"}function X5(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Z5(r,e){return r.button===0&&(!e||e==="_self")&&!X5(r)}var Ih=null;function e4(){if(Ih===null)try{new FormData(document.createElement("form"),0),Ih=!1}catch{Ih=!0}return Ih}var t4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(r){return r!=null&&!t4.has(r)?(Ei(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wh}"`),null):r}function n4(r,e){let t,n,i,o,l;if(Q5(r)){let u=r.getAttribute("action");n=u?Yi(u,e):null,t=r.getAttribute("method")||Hh,i=um(r.getAttribute("enctype"))||Wh,o=new FormData(r)}else if(J5(r)||Y5(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||u.getAttribute("action");if(n=h?Yi(h,e):null,t=r.getAttribute("formmethod")||u.getAttribute("method")||Hh,i=um(r.getAttribute("formenctype"))||um(u.getAttribute("enctype"))||Wh,o=new FormData(u,r),!e4()){let{name:d,type:g,value:m}=r;if(g==="image"){let f=d?`${d}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else d&&o.append(d,m)}}else{if(Yd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Hh,n=null,i=Wh,l=r}return o&&i==="text/plain"&&(l=o,o=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:o,body:l}}function jv(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function r4(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function i4(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function s4(r,e,t){let n=await Promise.all(r.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await r4(o,t);return l.links?l.links():[]}return[]}));return u4(n.flat(1).filter(i4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function gw(r,e,t,n,i,o){let l=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,u=(h,d)=>{var g;return t[d].pathname!==h.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,d)=>l(h,d)||u(h,d)):o==="data"?e.filter((h,d)=>{var m;let g=n.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,d)||u(h,d))return!0;if(h.route.shouldRevalidate){let f=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=t[0])==null?void 0:m.params)||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function o4(r,e,{includeHydrateFallback:t}={}){return a4(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function a4(r){return[...new Set(r)]}function l4(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function u4(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let o=JSON.stringify(l4(i));return t.has(o)||(t.add(o),n.push({key:o,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var c4=new Set([100,101,204,205]);function h4(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Yi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Fx(){let r=ve.useContext(ll);return jv(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function d4(){let r=ve.useContext(Qd);return jv(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Bv=ve.createContext(void 0);Bv.displayName="FrameworkContext";function jx(){let r=ve.useContext(Bv);return jv(r,"You must render this element inside a <HydratedRouter> element"),r}function f4(r,e){let t=ve.useContext(Bv),[n,i]=ve.useState(!1),[o,l]=ve.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:d,onMouseLeave:g,onTouchStart:m}=e,f=ve.useRef(null);ve.useEffect(()=>{if(r==="render"&&l(!0),r==="viewport"){let x=w=>{w.forEach(E=>{l(E.isIntersecting)})},C=new IntersectionObserver(x,{threshold:.5});return f.current&&C.observe(f.current),()=>{C.disconnect()}}},[r]),ve.useEffect(()=>{if(n){let x=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(x)}}},[n]);let y=()=>{i(!0)},b=()=>{i(!1),l(!1)};return t?r!=="intent"?[o,f,{}]:[o,f,{onFocus:iu(u,y),onBlur:iu(h,b),onMouseEnter:iu(d,y),onMouseLeave:iu(g,b),onTouchStart:iu(m,y)}]:[!1,f,{}]}function iu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function p4({page:r,...e}){let{router:t}=Fx(),n=ve.useMemo(()=>xx(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?ve.createElement(g4,{page:r,matches:n,...e}):null}function m4(r){let{manifest:e,routeModules:t}=jx(),[n,i]=ve.useState([]);return ve.useEffect(()=>{let o=!1;return s4(r,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[r,e,t]),n}function g4({page:r,matches:e,...t}){let n=Ho(),{manifest:i,routeModules:o}=jx(),{basename:l}=Fx(),{loaderData:u,matches:h}=d4(),d=ve.useMemo(()=>gw(r,e,h,i,n,"data"),[r,e,h,i,n]),g=ve.useMemo(()=>gw(r,e,h,i,n,"assets"),[r,e,h,i,n]),m=ve.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let b=new Set,x=!1;if(e.forEach(w=>{var P;let E=i.routes[w.route.id];!E||!E.hasLoader||(!d.some(S=>S.route.id===w.route.id)&&w.route.id in u&&((P=o[w.route.id])!=null&&P.shouldRevalidate)||E.hasClientLoader?x=!0:b.add(w.route.id))}),b.size===0)return[];let C=h4(r,l);return x&&b.size>0&&C.searchParams.set("_routes",e.filter(w=>b.has(w.route.id)).map(w=>w.route.id).join(",")),[C.pathname+C.search]},[l,u,n,i,d,e,r,o]),f=ve.useMemo(()=>o4(g,i),[g,i]),y=m4(g);return ve.createElement(ve.Fragment,null,m.map(b=>ve.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),f.map(b=>ve.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),y.map(({key:b,link:x})=>ve.createElement("link",{key:b,...x})))}function y4(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Bx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bx&&(window.__reactRouterVersion="7.6.2")}catch{}function v4({basename:r,children:e,window:t}){let n=ve.useRef();n.current==null&&(n.current=s5({window:t,v5Compat:!0}));let i=n.current,[o,l]=ve.useState({action:i.action,location:i.location}),u=ve.useCallback(h=>{ve.startTransition(()=>l(h))},[l]);return ve.useLayoutEffect(()=>i.listen(u),[i,u]),ve.createElement(K5,{basename:r,children:e,location:o.location,navigationType:o.action,navigator:i})}var Mx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ht=ve.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:o,replace:l,state:u,target:h,to:d,preventScrollReset:g,viewTransition:m,...f},y){let{basename:b}=ve.useContext(xi),x=typeof d=="string"&&Mx.test(d),C,w=!1;if(typeof d=="string"&&x&&(C=d,Bx))try{let T=new URL(window.location.href),I=d.startsWith("//")?new URL(T.protocol+d):new URL(d),D=Yi(I.pathname,b);I.origin===T.origin&&D!=null?d=D+I.search+I.hash:w=!0}catch{Ei(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=P5(d,{relative:i}),[P,S,O]=f4(n,f),M=C4(d,{replace:l,state:u,target:h,preventScrollReset:g,relative:i,viewTransition:m});function R(T){e&&e(T),T.defaultPrevented||M(T)}let A=ve.createElement("a",{...f,...O,href:C||E,onClick:w||o?e:R,ref:y4(y,S),target:h,"data-discover":!x&&t==="render"?"true":void 0});return P&&!x?ve.createElement(ve.Fragment,null,A,ve.createElement(p4,{page:E})):A});Ht.displayName="Link";var _4=ve.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:o,to:l,viewTransition:u,children:h,...d},g){let m=ec(l,{relative:d.relative}),f=Ho(),y=ve.useContext(Qd),{navigator:b,basename:x}=ve.useContext(xi),C=y!=null&&T4(m)&&u===!0,w=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,E=f.pathname,P=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(E=E.toLowerCase(),P=P?P.toLowerCase():null,w=w.toLowerCase()),P&&x&&(P=Yi(P,x)||P);const S=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let O=E===w||!i&&E.startsWith(w)&&E.charAt(S)==="/",M=P!=null&&(P===w||!i&&P.startsWith(w)&&P.charAt(w.length)==="/"),R={isActive:O,isPending:M,isTransitioning:C},A=O?e:void 0,T;typeof n=="function"?T=n(R):T=[n,O?"active":null,M?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(R):o;return ve.createElement(Ht,{...d,"aria-current":A,className:T,ref:g,style:I,to:l,viewTransition:u},typeof h=="function"?h(R):h)});_4.displayName="NavLink";var w4=ve.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:o,method:l=Hh,action:u,onSubmit:h,relative:d,preventScrollReset:g,viewTransition:m,...f},y)=>{let b=x4(),x=S4(u,{relative:d}),C=l.toLowerCase()==="get"?"get":"post",w=typeof u=="string"&&Mx.test(u),E=P=>{if(h&&h(P),P.defaultPrevented)return;P.preventDefault();let S=P.nativeEvent.submitter,O=(S==null?void 0:S.getAttribute("formmethod"))||l;b(S||P.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:i,state:o,relative:d,preventScrollReset:g,viewTransition:m})};return ve.createElement("form",{ref:y,method:C,action:x,onSubmit:n?h:E,...f,"data-discover":!w&&r==="render"?"true":void 0})});w4.displayName="Form";function E4(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qx(r){let e=ve.useContext(ll);return Wt(e,E4(r)),e}function C4(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=N5(),h=Ho(),d=ec(r,{relative:o});return ve.useCallback(g=>{if(Z5(g,e)){g.preventDefault();let m=t!==void 0?t:Nu(h)===Nu(d);u(r,{replace:m,state:n,preventScrollReset:i,relative:o,viewTransition:l})}},[h,u,d,t,n,e,r,i,o,l])}var A4=0,b4=()=>`__${String(++A4)}__`;function x4(){let{router:r}=qx("useSubmit"),{basename:e}=ve.useContext(xi),t=H5();return ve.useCallback(async(n,i={})=>{let{action:o,method:l,encType:u,formData:h,body:d}=n4(n,e);if(i.navigate===!1){let g=i.fetcherKey||b4();await r.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await r.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function S4(r,{relative:e}={}){let{basename:t}=ve.useContext(xi),n=ve.useContext(es);Wt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...ec(r||".",{relative:e})},l=Ho();if(r==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(g=>g==="")){u.delete("index"),h.filter(m=>m).forEach(m=>u.append("index",m));let g=u.toString();o.search=g?`?${g}`:""}}return(!r||r===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:$i([t,o.pathname])),Nu(o)}function T4(r,e={}){let t=ve.useContext(Rx);Wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=qx("useViewTransitionState"),i=ec(r,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Yi(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=Yi(t.nextLocation.pathname,n)||t.nextLocation.pathname;return gd(i.pathname,l)!=null||gd(i.pathname,o)!=null}[...c4];var I4=Iy();const D4=qu(I4);class k4{constructor(e){Hn.bind(this),this.props={...e},this.content=e.content||"",this.type="div"}setHtmlType(e){this.type=e}getHtmlType(){return this.type}setProp(e,t){this.props[e]=t}setProps(e){this.props={...e},e.content&&(this.content=e.content)}updateProps(e){this.props={...this.props,...e},e.content&&(this.content=e.content)}addProps(e){this.props={...this.props,...e},e.content&&(this.content=e.content)}getProps(){return this.props}getProp(e){return this.props[e]}setStyle(e){this.props.style=e}updateStyle(e){this.props.style={...this.props.style,...e}}getStyle(){return this.props.style}setClass(e){this.props.className=e}getClass(){return this.props.className}setOnChange(e){this.props.onChange=e}setOnClick(e){this.props.onClick=e}getOnClick(){return this.props.onClick}setContent(e){this.content=e}getContent(){return this.content}getHtml(e){let{content:t,props:n}=e,i=e==null?void 0:e.type;t&&(this.content=t),n={...this.props,...n};const o={a:_.jsx("a",{...n,children:this.content}),button:_.jsx("button",{...n,children:this.content}),div:_.jsx("div",{...n,children:this.content}),h1:_.jsx("h1",{...n,children:this.content}),h2:_.jsx("h2",{...n,children:this.content}),h3:_.jsx("h3",{...n,children:this.content}),h4:_.jsx("h4",{...n,children:this.content}),h5:_.jsx("h5",{...n,children:this.content}),h6:_.jsx("h6",{...n,children:this.content}),img:_.jsx("img",{...n}),input:_.jsx("input",{...n}),p:_.jsx("p",{...n,children:this.content}),span:_.jsx("span",{...n,children:this.content}),table:_.jsx("table",{...n,children:this.content}),tr:_.jsx("tr",{...n,children:this.content}),td:_.jsx("td",{...n,children:this.content}),th:_.jsx("th",{...n,children:this.content}),ul:_.jsx("ul",{...n,children:this.content}),li:_.jsx("li",{...n,children:this.content}),ol:_.jsx("ol",{...n,children:this.content}),form:_.jsx("form",{...n,children:this.content}),textarea:_.jsx("textarea",{...n,children:this.content}),select:_.jsx("select",{...n,children:this.content}),option:_.jsx("option",{...n,children:this.content}),label:_.jsx("label",{...n,children:this.content}),nav:_.jsx("nav",{...n,children:this.content}),footer:_.jsx("footer",{...n,children:this.content}),header:_.jsx("header",{...n,children:this.content}),article:_.jsx("article",{...n,children:this.content}),section:_.jsx("section",{...n,children:this.content}),aside:_.jsx("aside",{...n,children:this.content}),main:_.jsx("main",{...n,children:this.content}),video:_.jsx("video",{...n,children:this.content}),audio:_.jsx("audio",{...n,children:this.content}),iframe:_.jsx("iframe",{...n,children:this.content}),canvas:_.jsx("canvas",{...n,children:this.content}),content:_.jsx(_.Fragment,{}),fragment:_.jsx(_.Fragment,{children:this.content}),link:_.jsx(Ht,{...n,children:this.content})};if(i==="content"||this.type==="conent"){let u=this.content;o.content=_.jsx(u,{...n})}return i?o[i]:o[this.type]}}class R4 extends Wi{constructor(){super(...arguments);le(this,"component");le(this,"setAttribute")}setObserverFunction(t){this.setAttribute=t}setComponent(t){this.component=t}getComponent(){return this.component}run(){for(let t of this.list)this.setAttribute(t.name,new k4(t))}}class ul{constructor(){le(this,"factory");le(this,"componentList");le(this,"themeFactory");le(this,"appComponent");le(this,"mainFunc");le(this,"appObserver",new Wi);Hn.bind(this),this.getFactory(),this.getThemeFactory()}subscribeToAppObserver(e){this.appObserver.subscribe(e)}getMainFunc(){return this.mainFunc}getFactory(){}getThemeFactory(){}getAppComponent(){return this.appComponent}setAppComponent(e){this.appComponent=e,this.appObserver.run(e)}getComponentList(){var e,t;return this.componentList||(this.componentList=(t=(e=this.appComponent)==null?void 0:e.state)==null?void 0:t.componentList),this.componentList}}class P4 extends ul{constructor(){super(...arguments);le(this,"type","appInterface")}}const Vx=new P4;class nt extends ve.Component{constructor(t){super(t);le(this,"resize");Hn.bind(this),this.initialBuilderSetupFunctions=[],this.setInterface(),this.setInitialApp(),this.initialPropsSetupFunctions=[this.setInterface,this.setAppOnInterace,this.setInitialApp,this.setObj,this.setThemeFactory,this.setTheme,this.createReactRefsForComponents],this.setupObserver=new Wi,this.builderObserver=new R4,this.ObserverForSetupFunction=new Wi,this.builderObserver.setComponent(this),this.builderObserver.setObserverFunction(this.setHtmlBuilderSingleton),this.initialSetupFunctions=[this.builderObserver.run,this.additionalSetup],this.components=[]}setInitialApp(){var n,i,o,l,u,h;this.interface||(this.app=(n=this.props)==null?void 0:n.app);let t=this.interface.getAppComponent();t&&(this.app=t),this.app&&(this.propsState=(i=this.app)==null?void 0:i.state,this.dispatch=(o=this.app)==null?void 0:o.dispatch,this.componentList=(l=this.propsState)==null?void 0:l.componentList,this.APIService=(u=this.componentList)==null?void 0:u.getAPIService(),this.operationsFactory=(h=this.componentList)==null?void 0:h.getOperationsFactory())}setInterface(t){var n;this.interface=t||((n=this.props)==null?void 0:n.interface)||this.interface||Vx,this.interface.type==="appInterface"&&this.subscribeToAppObserverBool===void 0&&(this.subscribeToAppObserverBool=!0,this.interface.subscribeToAppObserver(this.setInitialApp))}setAppOnInterace(){this.interface&&(this.props.app&&this.interface.setAppComponent(this.props.app),this.app=this.interface.getAppComponent())}setComponents(t){this.components=t}getComponents(){return this.components}createReactRefsForComponents(){for(let t of this.components)this[t+"Ref"]||(this[t+"Ref"]=qe.createRef())}createPropObj(t,n){n=n||this.state.propType;let i,o=this[n||"props"][t+"Class"];return o||(o=this.theme&&typeof this.theme!="string"?this.theme[this.state[t+"Class"]]:this["default"+t+"Class"]||""),i={name:t,ref:this[t+"Ref"],style:this[t+"Click"]?{...this[n||"props"][t+"Style"],cursor:"pointer"}:this[n||"props"][t+"Style"],className:o,content:this[n||"props"][t],onClick:this[n||"props"][t+"Click"]||this[t+"Click"],obj:this.obj},i.onClick&&(i.onClick=i.onClick.bind(this,this.obj)),i}builderPropsSubscribe(t){this[t+"Props"]=this.createPropObj(t),this.builderObserver.subscribe(this[t+"Props"])}setInitialBuilderPropFunctions(){for(let t of this.components)this["set"+t+"props"]||(this["set"+t+"props"]=this.builderPropsSubscribe(t)),this.initialBuilderSetupFunctions.push(this["set"+t+"props"]);return this.initialBuilderSetupFunctions}loadObserver(){this.setupObserver.setList(this.initialSetupFunctions)}setInitialSetupFunctions(){const t=[...this.initialPropsSetupFunctions,...this.initialBuilderSetupFunctions,...this.initialSetupFunctions,this.additionalPostSetup],n=[...new Set(t)];return this.initialSetupFunctions=n,this.initialSetupFunctions}runInitialPropsSetup(){for(let t of this.initialPropsSetupFunctions)t&&t()}isArray(t){return Array.isArray(t)?t:[t]}setObj(){this.obj=this.props.obj}setThemeFactory(){this.interface!==void 0&&(this.themeFactory=this.interface.getThemeFactory())}setTheme(){var t,n;this.themeFactory&&(this.theme=this.themeFactory.getComponent(((t=this.props)==null?void 0:t.theme)||((n=this.state)==null?void 0:n.defaultTheme)||"default"))}clearLists(){this.setupObserver.setList([]),this.builderObserver.setList([])}setupItem(...t){this.clearLists(),this.preSetup(),this.runInitialPropsSetup(),this.setInitialBuilderPropFunctions(),this.setInitialSetupFunctions(),this.loadObserver(),this.setupObserver.run(...t)}preSetup(){}setAttribute(t,n){this[t]=n}setHtmlBuilderSingleton(t,n){this[t]||(this[t]=n)}getInnerContent(){return this.innerContent}getAdditionalInnerContent(){return this.innerContent}mapList(t){return _.jsx(_.Fragment,{children:t.filter(n=>n!==void 0&&n!==!1).map(n=>n)})}additionalSetup(){}additionalPostSetup(){}mapInnerContent(){return this.getInnerContent(),this.getAdditionalInnerContent(),this.innerContent=this.mapList(this.innerContent),this.innerContent}getHtml(){return this.html}getFactoryTypeString(t){let n=this.propsState.componentListInterface.getFactory().getRegistry(),i=n.find(o=>t.toLowerCase()===o);return i=i||n.find(o=>t.toLowerCase().includes(o)),i}getCapitalFirstLetter(t){var n;return((n=t==null?void 0:t.charAt(0))==null?void 0:n.toUpperCase())+(t==null?void 0:t.slice(1))}classNameToString(t){let n=t.name;return n.charAt(0).toLowerCase()+n.slice(1)}render(){return this.setupItem(),this.html=this.getHtml(),this.html}}class N4 extends ul{}const Ux=new N4;class en extends nt{constructor(t){super(t);le(this,"type");le(this,"theme");le(this,"interface");this.wrapperRef=qe.createRef(),this.setWrapperRef=this.setWrapperRef,this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setApp,this.setType,this.setClassStr],this.state={defaultType:this.props.type?this.props.type:"fit",defaultTheme:this.props.theme?this.props.theme:"Default",typeKey:"type",themeKey:"theme"},this.interface=Ux}componentDidMount(){this.props.popup&&document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){this.props.popup&&document.removeEventListener("mousedown",this.handleClickOutside)}handleClickOutside(t){this.wrapperRef&&!this.wrapperRef.current.contains(t.target)&&this.props.handleClose&&this.props.handleClose()}isPopup(t){if(this.props.popup){let n=this.closePopup.getHtml({content:this.props.closeUI||_.jsx(_.Fragment,{children:"X"}),props:{onClick:()=>{this.props.handleClose&&this.props.handleClose()}}}),i=this.popupContent.getHtml({content:_.jsxs(_.Fragment,{children:[n,t]}),props:{ref:this.wrapperRef}});t=this.backDrop.getHtml({content:i})}return t}setTheme(){this.theme=this.props[this.state.themeKey]?this.props[this.state.themeKey]:this.state.defaultTheme}setType(){this.type=this.props[this.state.typeKey]?this.props[this.state.typeKey]:this.state.defaultType}setClassStr(){this.defaultcardClass=this.type+this.theme+" scroller",this.defaultcardClass=this.props.popup?this.defaultcardClass+" cardPopup":this.defaultcardClass,this.props.popup&&(this.defaultbackDropClass="backDropPopup",this.defaultpopupContentClass="popupContent",this.defaultclosePopupClass="closePopup")}getHtml(){let t=this.getContent();return this.html=this.card.getHtml({content:t}),this.html=this.isPopup(this.html),this.html}getContent(){return this.content=this.props.content,this.content}preSetup(){let t=["card"];this.props.popup&&(t=[...t,"backDrop","popupContent","closePopup"]),this.setComponents(t)}}let O4=class{constructor(e){le(this,"operationsFactory");le(this,"dispatch");le(this,"json",{_id:"",backendKeys:[],backendAttributes:[],backendFilterKeys:[],orderMatters:!1,orderFilterKey:"",filterKey:"",removeOwnerQuery:[]});le(this,"componentList");le(this,"APIService");Hn.bind(this),this.operationsFactory=e,this.json._id=this.createId()}getAssociatedItemsHelper(e){let t=this.json._id,n=this.json.type+"Id";return this.json.backendAttributes.length>0&&(t=this.json[this.json.backendAttributes[e]]),this.json.backendFilterKeys.length>0&&(n=this.json.backendFilterKeys[e]),{attribute:t,filterKey:n}}async getAssociatedItems(e){e=e||this.json.backendKeys;const t=e==null?void 0:e.map((n,i)=>{let{attribute:o,filterKey:l}=this.getAssociatedItemsHelper(i);return this.componentList.getList(n,o,l)});return await Promise.all(t)}async getAssociatedItemsFromBackend(e,t){e=e||this.json.backendKeys;let n=!0;const i=e==null?void 0:e.map((o,l)=>{this.json.removeOwnerQuery.includes(o)&&(n=!1);let{attribute:u,filterKey:h}=this.getAssociatedItemsHelper(l);return this.componentList.getComponentsFromBackend({type:o,ids:u,filterKeys:h,owner:n,...t})});return await Promise.all(i)}setComponentList(e){this.componentList=e,this.componentList.getAPIService&&this.setAPIService(this.componentList.getAPIService()),this.componentList.getDispatch&&this.setDispatch(this.componentList.getDispatch())}setDispatch(e){this.dispatch=e}getDispatch(){return this.dispatch}getComponentList(){return this.componentList}setAPIService(e){this.APIService=e}getAPIService(){return this.APIService}update(...e){this.APIService&&this.APIService.update([this],...e)}del(...e){this.componentList.del(this,{...e})}updateOrder(e,t){e=e||-1,e===!0&&(e=1);let n=this.componentList.getList(this.json.type,this.json[this.json.orderFilterKey],this.json.orderFilterKey);t=t||(this.json.orderKey?this.json[this.json.orderKey]:"order");let i=n.indexOf(this),o;e<0&&i===0?this.json[t]=n.length:e>0&&i===n.length-1?(this.json[t]=0,this.componentList.shiftOrderedList(this,t)):(o=n[i+e],o.setCompState({[t]:i},{run:!0,clean:!0}),this.json[t]=i+e),this.componentList.sortSelectedList(this.json.type,this.json.orderKey||"order"),this.componentList.resetOrder(this,t),this.update()}prepare(){this.operationsFactory.prepare({prepare:this})}setAttribute(e,t){this[e]=t}setAttributes(e){for(let t in e)this[t]=e[t]}getAttribute(e){return this[e]}getJsonAttribute(e){return this.json[e]}setCompState(e,t,n,i){this.subscribeToOperations(t),this.json={...this.json,...e},n&&this.dispatch({updated:this}),i&&i(e),t!=null&&t.run&&this.operationsFactory.runOperations()}getOperationsFactory(){return this.operationsFactory}setJson(e,t,n,i){this.subscribeToOperations(t),this.json=e,n&&this.dispatch({updated:this}),i&&i(this),t!=null&&t.run&&this.operationsFactory.runOperations()}getJson(){return this.json}subscribeToOperations(e){e&&this.operationsFactory.subscribeToOperations(e.operation||this.update,e.clean)}copyJson(e){return{...this.json,_id:"",...e}}copy(e){let t=this.copyJson(e);this.componentList.addComponents(t)}updateObjInsideJson(e,t){this.json[e]={...this.json[e],...t}}removeObjInsideJson(e,t){let n={};for(const i in this.json[e])t.includes(i)||(n[i]=this.json[e][i]);this.json[e]=n}randomFiveDigitNumber(){let e=Math.floor(Math.random()*9e4)+1e4;e=e.toString();let t=String.fromCharCode(97+Math.floor(Math.random()*26)),n=Math.floor(Math.random()*5);if(e=e.substring(0,n)+t+e.substring(n+1),Math.floor(Math.random()*2)===1){let o=String.fromCharCode(97+Math.floor(Math.random()*26)),l;do l=Math.floor(Math.random()*5);while(l===n);e=e.substring(0,l)+o+e.substring(l+1)}return e}createId(){const e=new Date,t=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=e.getFullYear().toString().slice(-2);return this.randomFiveDigitNumber().toString()+t+n+i}createUUID(e){let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz123456789",i=n.length;for(let o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*i));return t}};class L4{constructor(){le(this,"operationsFactory");le(this,"factory",{})}registerComponents(e){this.factory[e.name]=e.component}setOperationsFactory(e){this.operationsFactory=e}getRegistry(){return Object.keys(this.factory)}async getComponent(e){if(Object.keys(this.factory).includes(e.type)){let t=e.type,n=new this.factory[t](this.operationsFactory);return[void 0,"",!1].includes(e._id)&&(e._id=n.getJson()._id),n.setCompState({...e}),n}}}class F4 extends Wi{clear(){this.list=[]}cleanSubscibe(e){this.clear(),this.subscribe(e)}run(...e){for(let t of this.list)t&&t(...e);this.clear()}}class yw{constructor(e){le(this,"register");le(this,"factory");le(this,"operationsObserver");Hn.bind(this),this.add=[],this.lastChange=[],this.factory=e.getFactory(),this.operationsObserver=new F4}removeFromList(e){this.add=this.add.filter(t=>t!==e)}getOperationsObserver(){return this.operationsObserver}setOperationsObserver(e){this.operationsObserver=e}subscribeToOperations(e,t){t&&this.operationsObserver.clear(),this.operationsObserver.subscribe(e)}runOperations(...e){this.operationsObserver.run(...e)}setAddList(e){this.add=[...e],this.lastChange=[...this.add]}getAddList(){return this.add}getLastPrepare(){return this.lastChange}async prepare(e,t){let{prepare:n,amount:i,clean:o}=e;i=i||1;let l=Array.isArray(n)?n:[n];l=l.flatMap(h=>Array(i).fill(h));let u=[];for(let h of l){let d=await this.factory.getComponent({...h});u.push(d)}return l=[...u],this.setAddList(o?[...l]:[...this.add,...l]),t&&t(this.add),e.run&&await this.addToComponentList(),this.add}clear(){this.setAddList([])}removeFromRegister(e){this.setAddList(this.add.filter(t=>t!==e))}run(e){this.addToComponentList(e)}addToComponentList(e){let t=[...this.add];return this.clear(),this.register(t,{skipBackendUpdate:e}),t}setRegister(e){this.register=e}}class j4{constructor(e){le(this,"components",[]);le(this,"dispatch");le(this,"backArray",{});le(this,"operationsFactory");le(this,"componentListInterface");le(this,"componentsList",{});le(this,"completionObserver",new Wi);le(this,"factory");le(this,"APIService");Hn.bind(this),this.operationsFactory=e.getOperationsFactory(),this.operationsFactory.setRegister(this.add),this.componentListInterface=e,this.factory=e.getFactory(),this.dispatch=e.dispatch,this.APIService=e.getAPIService(),this.APIService.setComponentList(this),this.completionObserver.subscribe(this.setComponentsList),this.completionObserver.subscribe(this.setOrderAfterAddorDel)}getFactory(){return this.factory}getDispatch(){return this.dispatch}setDispatch(e){this.dispatch=e}getCompletionObserver(){return this.completionObserver}setCompoletionObserver(e){this.completionObserver=e}subscribeToOperationCompletion(e){this.completionObserver.subscribe(e)}getAPIService(){return this.APIService}setAPIService(e){this.APIService=e}getComponents(){return this.components}filterOutErrors(e){let t=this.components.map(i=>i.getJson()._id);e=e.filter(i=>i!==void 0),e=e.map(i=>{if(i!==void 0&&t.includes(i.getJson()._id)){let o=this.components.find(l=>l.getJson()._id===i.getJson()._id);i.setJson({...o.getJson(),...i.getJson()})}return i}),e=e.filter(i=>!t.includes(i.getJson()._id));let n=this.factory.getRegistry();return e=e.filter(i=>n.includes(i.getJson().type)),e}add(e,t){return e=Array.isArray(e)?e:[e],e=this.filterOutErrors(e),e.forEach(n=>{n.setComponentList(this)}),this.components=[...this.components,...e],this.operationComplete(e,"add",t)}setComponentsList(){let e={};this.componentListInterface.getFactory().getRegistry().forEach(n=>{e[n]=[]});for(let n of this.components){let i=n.getJson().type;e[i].push(n)}this.componentsList=e}async addComponents(e,t){e.prepare||(e={prepare:Array.isArray(e)?e:[e]}),await this.operationsFactory.prepare({...e}),this.operationsFactory.addToComponentList(t);let n=e==null?void 0:e.prepare.map(o=>o._id);return await this.components.filter(o=>n.includes(o.getJson()._id))}del(e,t){return e=Array.isArray(e)?e:[e],this.components=this.components.filter(n=>!e.includes(n)),this.operationComplete(e,"del",t)}setOrderAfterAddorDel(e){for(let t of e){let n=t.getJson();if(n.orderMatters){let i=this.getList(n.type,n[n.orderFilterKey],n.orderFilterKey),o=n.orderKey?n[n.orderKey]:"order",l=t.getJson()[o],h=i.filter(g=>{let m=parseInt(g.getJson()[o]);return l=parseInt(l),m===l}).find(g=>!e.includes(g)),d=i.indexOf(t);h&&h!==t&&t.setCompState({[o]:d}),this.sortSelectedList(n.type,n.orderKey||"order"),this.resetOrder(t,o)}}}shiftOrderedList(e,t){let n=e.getJson();this.sortSelectedList(n.type,n.orderKey||"order");let i=this.getList(n.type,n[n.orderFilterKey],n.orderFilterKey);t=t||(n.orderKey?n[n.orderKey]:"order"),i=i.filter(o=>o!==e);for(let o=1;o<i.length;o++)i[o-1].setCompState({[t]:o},{run:!0,clean:!0})}resetOrder(e,t){let n=e.getJson();t=t||(n.orderKey?n[n.orderKey]:n.order);let i=this.getList(n.type,n[n.orderFilterKey],n.orderFilterKey);for(let o=0;o<i.length;o++)i[o][t]!==o&&(i[o].setCompState({[t]:o}),i[o]!==e&&i[o].update())}operationComplete(e,t,n){return this.completionObserver.run(e,t,n),this.backArray={[t]:e},n.skipBackendUpdate||this.updateBackend(e,t,n),e}updateBackend(e,t,n){this.dispatch({backend:!0,backendUpdate:{...this.backArray}});let i=[n.path,n.dispatchKey];t==="add"&&i.push(n.timeKey),this.APIService[t](e,...i),this.backArray={}}getOperationsFactory(){return this.operationsFactory}createQueryJson(e,t,n,i,o="type"){i=i||{},n===void 0&&t&&(n="_id"),t=Array.isArray(t)?t:[t],n=Array.isArray(n)?n:[n];let l={where:[{attribute:o,val:e}],...i};return t.length>0&&t[0]!==void 0&&(l.where=[...l.where,...t.map((u,h)=>({attribute:n[h]||n[0],val:u}))]),l}async getComponentsFromBackend(e,t){typeof e=="string"&&(e={type:e,owner:t===!1?t:!0});let n=await this.createQueryJson(e.type,e.ids,e.filterKeys,e.obj,e.typeAttribute);return await this.APIService[e.snapshot?"firebaseGetterSnapshot":"firebaseGetter"](n,e.path,e.owner)}async getComponentFromBackend(e){return(await this.getComponentsFromBackend(e))[0]}getList(e,t,n){n=n||"owner",e=Array.isArray(e)?e:[e];let i=[];for(let o of e){let l=this.componentsList[o]||[];i=[...i,...l]}return Array.isArray(t)||(t=t?[t]:[]),Array.isArray(n)||(n=[n]),t.length>0&&(i=i.filter(o=>n.some((l,u)=>{var g;const h=(g=o.getJson())==null?void 0:g[l],d=t[u]||t[0];return typeof h=="object"?Object.keys(h).includes(d):h===d}))),i}getComponent(e,t,n){return this.getList(e,t,n||"_id")[0]}clearList(){this.components=[],this.componentsList={}}clearSelectedList(e,t){let n=[...this.components],i=[];for(const o in n)n[o].getJson()[t]!==e&&i.push(n[o]);this.components=[...i],this.setComponentsList()}setComponentList(e){this.componentsList=e}setSelectedList(e,t){this.componentsList[e]=t}sortSelectedList(e,t,n){if(t&&this.componentsList[e]){let i=[...this.componentsList[e]];i=i.sort(function(o,l){const u=o.getJson()[t],h=l.getJson()[t],d=isNaN(Number(u))?u:Number(u),g=isNaN(Number(h))?h:Number(h);return typeof d=="number"&&typeof g=="number"?n?g-d:d-g:n?(""+g).localeCompare(""+d):(""+d).localeCompare(""+g)}),this.setSelectedList(e,i)}}sortSelectedListbyFirebaseDate(e,t){if(this.componentsList[e]){let n=[...this.componentsList[e]];n=n.sort(function(i,o){var h,d;let l=i.getJson().date||i.getJson().date!==""?(h=i.getJson().date)==null?void 0:h.seconds:new Date(0),u=o.getJson().date||o.getJson().date!==""?(d=o.getJson().date)==null?void 0:d.seconds:new Date(0);return t?u-l:l-u}),this.setSelectedList(e,n)}}}class B4{constructor(e,t){le(this,"DB");le(this,"url");le(this,"path",[]);le(this,"orderStr","date");Hn.bind(this),this.setDB(e),this.setUrl(t),this.path=[this.DB,this.url+"users",this.url+"APP","components"]}setDB(e){this.DB=e}setUrl(e){this.url=e}setPath(e){this.path=e}setOrderStr(e){this.orderStr=e}async generateQueary(e,t,n){let i=e.where.map(h=>{if(h.attribute!==void 0)return O_(h.attribute,h.type||"==",h.val)}).filter(h=>h!==void 0);n&&i.push(O_("owner","==",n)),t=t||this.path;let o=[...i],l=e.order||this.orderStr;return l!=="noOrder"&&l!==void 0&&o.push(o3(l)),e.limit&&o.push(a3(e.limit)),s3(HP(...t),...o)}}class M4{constructor(e,t,n,i,o){le(this,"urlEndpoint","");le(this,"dispatch");le(this,"componentList");le(this,"userStr","flinnappsUser");le(this,"QuearyGenerator");le(this,"DB");le(this,"storage");le(this,"auth");le(this,"userEmail");le(this,"path",[]);le(this,"postObserver",new Wi);le(this,"dispatchObserver",new Wi);le(this,"readObserver",new Wi);Hn.bind(this),this.urlEndpoint=e,this.DB=t,this.storage=n,this.auth=i,this.dispatch=o,this.path=[this.DB,`${this.urlEndpoint}users`,`${this.urlEndpoint}APP`,"components"],this.QuearyGenerator=new B4(this.DB,this.urlEndpoint)}setAuth(e){this.auth=e}setStorage(e){this.storage=e}setPath(e){this.path=e}setDB(e){this.DB=e,this.QuearyGenerator.setDB(e)}setDispatch(e){this.dispatch=e}setComponentList(e){this.componentList=e}setUserStr(e){this.userStr=e,this.QuearyGenerator.setUrl(e)}getPostObserver(){return this.postObserver}setPostObserver(e){this.postObserver=e}subscribeToPostObserver(e){this.postObserver.subscribe(e)}getReadObserver(){return this.readObserver}setReadObserver(e){this.readObserver=e}subscribeToReadObserver(e){this.readObserver.subscribe(e)}getPath(){return this.path}getDispatchObserver(){return this.dispatchObserver}setDispatchObserver(e){this.dispatchObserver=e}subscribeToDispatchObserver(e){this.dispatchObserver.subscribe(e)}getQueryGenerator(){return this.QuearyGenerator}setQueryGenerator(e){this.QuearyGenerator=e}async login(e,t){let n,i;if(await Z_(this.auth,e,t).then(o=>{n=o.user}).catch(o=>{const l=o.message;i={error:l.slice(9,l.length-1)},console.log(i)}),n){let o=n;this.dispatch({login:!0}),await localStorage.setItem(this.userStr,JSON.stringify(o)),this.componentList!==void 0&&this.dispatch!==void 0&&(n=await this.getuser(e))}else n=i;return n}async register(e,t,n){let i;return await FO(this.auth,e,t).then(o=>{i=o.user}).catch(o=>{o.code;let l=o.message,u=l.length-1;i={error:l.slice(9,u)}}),i.error||(this.userEmail=i.email,localStorage.setItem(this.userStr,JSON.stringify(i))),i}async logout(){await localStorage.clear(),localStorage.setItem(this.userStr,void 0);let e;await om(this.auth,t=>{t&&(e=t.uid)}),e&&await ew(this.auth),await localStorage.setItem(this.userStr,null),window.location.href="/"}sendForgotPasswordChange(e){const t=zh();LO(t,e).then(()=>{}).catch(n=>{n.code,n.message})}async checkIfLoggedIn(){return new Promise((e,t)=>{om(this.auth,async n=>{if(n)e(n);else{await localStorage.setItem(this.userStr,null),await localStorage.clear(),localStorage.setItem(this.userStr,void 0);let i;await om(this.auth,o=>{o&&(i=o.uid)}),i&&await ew(this.auth),await window.location.reload()}})})}async getCurrentUser(){let e=await localStorage.getItem(this.userStr);return e=await JSON.parse(e),e}async setCurrentUser(e){await localStorage.setItem(this.userStr,JSON.stringify(e))}async loginToDel(e,t){await Z_(this.auth,e,t).then(n=>{}).catch(n=>{n.code,n.message})}async delAccount(){const t=zh().currentUser;await VO(t).then(()=>{}).catch(n=>{})}async notify(e,t){fetch(t,{method:"POST",mode:"no-cors",body:JSON.stringify(e),headers:{"Conent-Type":"application/json"}})}async changePassword(e){const n=zh().currentUser;return await jO(n,e).then(()=>{}).catch(o=>{}),!0}async firebaseGetterSnapshot(e,t,n){n=n===!0?this.userEmail:void 0;let i=await this.QuearyGenerator.generateQueary(e,t,n),o=[];return await m3(i,async l=>{o=await this.getRawData(l)}),o}async firebaseGetter(e,t,n){n=n===!0?this.userEmail:void 0;let i=await this.QuearyGenerator.generateQueary(e,t,n),o=await d3(i);return await this.getRawData(o)}async getRawData(e){let t=[];for(const i in e.docs){let o=e.docs[i].data();t.push(o)}let n=await this.componentList.addComponents(t,!0);return this.dispatch&&await this.dispatch({snapShot:{dataRetrieved:n}}),this.readObserver.run(n,t),n}async getCount(e,t,n){n=n===!0?this.userEmail:void 0;let i=await this.QuearyGenerator.generateQueary(e,t,n);return(await y3(i)).data().count}async getuser(e){this.userEmail=e;let t=await this.componentList.getComponentFromBackend({type:"user",ids:e});return t&&this.dispatch({currentUser:t,email:e,gotUser:!0}),t}async GetAllData(e,t){t=t||[this.db,this.urlEndpoint+"users"],this.firebaseGetter(e,t)}async uploadPics(e,t){const n=im(this.storage,t);await IN(n,e).then(i=>{console.log("Uploaded a file!")})}async downloadPics(e){let t;return await DN(im(this.storage,e)).then(n=>{t=n}),t}deletePics(e){const t=im(this.storage,e);kN(t).then(()=>{}).catch(n=>{})}prep(e){return e=Array.isArray(e)?e:[e],e=e.map(t=>{let n=t;return t.getJson&&(n=t.getJson()),n}),e=e.filter(t=>t!==void 0),e}async add(e,t,n,i){return e=await e.map(o=>((o.getJson().owner===""||o.getJson().owner===void 0)&&o.setCompState({owner:this.userEmail}),o)),await this.operate(e,f3,t,n||"added",i||"date")}async update(e,t,n,i){return await this.operate(e,p3,t,i||"updated",n||"lastUpdated")}async del(e,t,n){return await this.operate(e,j_,t,n||"deleted")}async operate(e,t,n,i,o){try{e=await this.prep(e),n=n||this.path;for(let l of e){o&&(l[o]=await _3()),await this.postObserver.run([l]);let u=[WP(...n,l._id)];t!==j_&&u.push(l),await t(...u)}return this.dispatch&&this.dispatch({[i]:e,dispatchComplete:!0}),this.dispatchObserver.run([{[i]:e}]),e}catch(l){console.log(l),console.error(e,"something went wrong with this operation")}}}class q4{constructor(e,t,n,i,o){le(this,"factory");le(this,"updater");le(this,"operationsFactory");le(this,"dispatch");le(this,"APIService");Hn.bind(this),this.dispatch=e,this.getFactory(),this.getAPIService(t,n,i,o,e)}getFactory(){return this.factory===void 0&&(this.factory=new L4(this)),this.factory}getAPIService(e,t,n,i,o){return this.APIService===void 0&&(this.APIService=new M4(e,t,n,i,o)),this.APIService}createComponentList(){return new j4(this)}getOperationsFactory(){return this.operationsFactory===void 0&&(this.operationsFactory=new yw(this),this.factory.setOperationsFactory(this.operationsFactory)),this.operationsFactory}getNewOperationsFactory(){return new yw(this)}}class za extends nt{constructor(e){super(e),this.domList=["a","button","div","h1","h2","h3","h4","h5","h6","img","input","p","span","table","tr","td","th","ul","li","ol","form","textarea","select","option","label","nav","footer","header","article","section","aside","main","video","audio","iframe","canvas"],this.state={...this.state,wrapperClass:"FCWrapper",formClass:"FCInputForm",labelClass:"defaultLabel",errorClass:"defaultErrorMessage",interface:"form"}}setObj(){var e,t;if(!this.props.prepareOnClick){let n=this.props.obj||(this.props.inPopup?(e=this.propsState)==null?void 0:e.currentPopupComponent:(t=this.propsState)==null?void 0:t.currentComponent);this.obj=this.isArray(n)}}preSetup(){this.setComponents(["wrapper","form","label","error"])}getInnerContent(){return this.innerContent=[this.props.label&&this.label.getHtml(),this.getFormHtml(),this.props.errorText&&this.error.getHtml()],this.innerContent}getHtml(){this.mapInnerContent();let e=this.wrapper.getHtml({type:"div",content:this.innerContent});return this.html=_.jsx(_.Fragment,{children:e}),this.html}getFormHtml(){const e=this.props.type||"input";return e==="select"&&(this.content=this.generateSelectOptions()),this.getInputProps(e),this.additionalPropsSetup(),this.form.getHtml({type:e,content:this.content,props:this.inputProps})}additionalPropsSetup(){}handleChange(e){let{name:t,value:n}=e.target;for(let i of this.obj){if(this.props.isPropArray){let o=i.getJson()[this.props.name]||[];Array.isArray(o)||(o=[o]),Array.isArray(o[0])||(o[0]=[o[0]]),o[0]=n,n=o}i.setCompState({[this.props.name]:n})}this.afterChange(e)}afterChange(e){if(this.props.update)for(let t of this.obj){let n=this.props.update===!0?void 0:{...this.props.update};t==null||t.update(n)}this.props.sendUpdate&&this.props.app&&this.app.dispatch({formUpdate:this.props.type}),this.props.callbackFunc&&this.props.callbackFunc(this.obj),this.additionalChanges(e),this.setState({})}additionalChanges(e){}async prepareOnClick(){var e;if(this.props.prepareOnClick&&this.props.app){let t=this.props.obj;t&&(t=this.isArray(t)),t=await((e=this.props.app)==null?void 0:e.state.componentList.getOperationsFactory().prepare({...t})),t&&(t=this.isArray(t)),this.obj=t}}objDispatch(e){for(let t of this.obj)t.setCompState({[this.props.name]:e});this.afterChange()}handleChangeWithoutEvent(e){for(let t in this.obj)t.setCompState({[e.name]:e.value});this.afterChange()}generateSelectOptions(){const{selectOptions:e,textOptions:t,useIndexForValue:n}=this.props;return Array.isArray(e)?t&&(!Array.isArray(t)||e.length!==t.length)?(console.error("'selectOptions' and 'textOptions' must be arrays of the same length."),null):e.map((i,o)=>{var h;const l=t?t[o]:i;let u=t?n?o:(h=i==null?void 0:i.getJson)==null?void 0:h.call(i)._id:i;return u===void 0?(console.warn(`Could not determine a value for the option at index ${o}.`),null):_.jsx("option",{value:u,children:l},u)}):null}getInputProps(e){var t;return this.inputProps={onChange:this.props.handleChange?n=>{this.props.handleChange(n,this.obj)}:this.handleChange,value:this.obj[0]?(t=this.obj[0])==null?void 0:t.getJson()[this.props.name]:this.props.value,type:this.props.inputType||this.props.type,onFocus:this.props.onFocus||this.onFocus,placeholder:this.props.placeholder,name:this.props.name,min:this.props.min,max:this.props.max,cols:this.props.cols||"",rows:this.props.rows||5,resize:this.props.resize||"true",autoComplete:this.props.autoComplete?this.props.autoComplete:"off",id:this.props.id,checked:this.props.checked,spellCheck:this.props.type==="password"||this.props.spellCheck===void 0?!1:this.props.spellCheck,minLength:this.props.minLength,maxLength:this.props.maxLength},this.domList.includes(e)||(this.inputProps.handleChangeWithoutEvent=this.props.update?()=>{console.log("")}:this.props.handleChangeWithoutEvent?this.props.handleChangeWithoutEvent:this.handleChangeWithoutEvent,this.inputProps.selectOptions=this.props.selectOptions,this.inputProps.textOptions=this.props.textOptions,this.inputProps.unit=this.props.unit?this.props.unit:"$",this.inputProps.tickClass=this.props.tickClass,this.inputProps.handleHTMLChange=this.props.handleHTMLChange||this.objDispatch,this.inputProps.doesMath=this.props.doesMath,this.inputProps.objDispatch=this.objDispatch,this.inputProps.emitClickedOutside=this.props.emitClickedOutside,this.inputProps.updateOnClickOutside=this.props.updateOnClickOutside),this.props.required&&(this.inputProps.required=!0),this.props.disabled&&(this.inputProps.disabled=!0),this.inputProps}}class eo extends za{constructor(e){super(e),this.state.formClass="FCDefaultButton"}buttonClick(){this.props.buttonClick?this.props.buttonClick(this.obj):this.buttonClickFunc(),this.props.callbackFunc&&this.props.callbackFunc(this.obj)}buttonClickFunc(){}additionalSetup(){this.form.setOnClick(this.buttonClick)}getFormHtml(){return this.form.setStyle({cursor:"pointer"}),this.content=this.props.content||this.content||_.jsx(_.Fragment,{children:"button"}),this.form.getHtml({type:"div",content:this.content})}}let zx=class{constructor(){le(this,"FCInputForm","defaultInputForm");le(this,"FCWrapper","defaultWrapper");le(this,"FCError","defaultErrorMessage");le(this,"FCLabel","defaultLabel");le(this,"FCDefaultButton","defaultButton");le(this,"FCDefaultDelButton","delButton");le(this,"FCImgButton","imgButton")}};const V4=Object.freeze(Object.defineProperty({__proto__:null,DefaultRegistry:zx},Symbol.toStringTag,{value:"Module"}));class Mv{constructor(e){le(this,"factory",{});Hn.bind(this),e&&(this.registry=e,this.registerListWithFactory())}registerListWithFactory(){for(const e in this.registry)if(Object.prototype.hasOwnProperty.call(this.registry,e)){const t=e.charAt(0).toLowerCase()+e.slice(1);this.factory[t]=this.registry[e]}}getComponent(e){let t;return this.factory[e]&&(t=new this.factory[e]),t}registerComponent(e,t){this.factory[e]=t}}let U4=class extends Mv{constructor(){super(V4),this.factory.default=zx}};class Hx{constructor(){le(this,"factory",{})}getComponent(e,t){let n;return this.factory[e]&&(n=this.factory[e]),_.jsx(n,{...t})}registerComponent(e,t){this.factory[e]=t}}class z4 extends eo{buttonClickFunc(){let e=this.props.add;this.componentList.addComponents(e)}}class H4{constructor(){Hn.bind(this)}doMath(e){e=e.replace(/\s+/g,"");const t=/(\d+)([+\-*/])(\d+)/,n=e.match(t);if(!n)throw new Error("Invalid input");const i=parseFloat(n[1]),o=n[2],l=parseFloat(n[3]);return{"+":i+l,"-":i-l,"*":i*l,"/":i/l}[o]}}let W4=new H4;class $4 extends za{constructor(e){super(e)}componentDidMount(){document.addEventListener("keyup",this.doMath)}componentWillUnmount(){document.removeEventListener("keyup",this.doMath)}additionalChanges(e){let{name:t,value:n}=e.target;this.setState({val:n})}async doMath(e){if(e.key==="Enter"&&this.state.val!==void 0){let t=this.obj[0],n=await W4.doMath(this.state.val).toString();await t.setCompState({[this.props.name]:n}),t.update(),await this.setState({val:void 0})}}}let G4=class extends eo{async buttonClickFunc(){let e=this.obj,t=e.type;this.props.popupSwitch.includes("add")&&(e=e[0]?e[0]:{type:this.getFactoryTypeString(this.props.popupSwitch.slice(3))},e={prepare:{...e},amount:this.props.amount,clean:this.props.clean},e=await this.operationsFactory.prepare(e),e.length===1&&(e=e[0],t=e.getJson().type)),Array.isArray(e)&&e.length===1&&(e=e[0]);let n=this.props.setCurrnetItem&&{["current"+this.getCapitalFirstLetter(t)]:e},i={popupSwitch:this.props.popupSwitch,currentPopupComponent:e,...n};await this.dispatch({...i})}},K4=class extends eo{buttonClickFunc(){for(let e of this.obj)e.update(this.props.updateParams);this.props.isPopup&&this.dispatch({popupSwitch:"",currentPopupComponent:void 0})}},J4=class extends eo{buttonClickFunc(){let e=this.operationsFactory.addToComponentList(this.props.skipBackendUpdate),t=this.props.setCurrnetItem&&{["current"+this.getCapitalFirstLetter(e[0].getJson().type)]:e[0]},n={};this.props.isPopup&&(n={popupSwitch:"",currentPopupComponent:void 0}),this.dispatch({...n,...t})}};var cm,vw;function Q4(){if(vw)return cm;vw=1;function r(){this.__data__=[],this.size=0}return cm=r,cm}var hm,_w;function Wx(){if(_w)return hm;_w=1;function r(e,t){return e===t||e!==e&&t!==t}return hm=r,hm}var dm,ww;function Xd(){if(ww)return dm;ww=1;var r=Wx();function e(t,n){for(var i=t.length;i--;)if(r(t[i][0],n))return i;return-1}return dm=e,dm}var fm,Ew;function Y4(){if(Ew)return fm;Ew=1;var r=Xd(),e=Array.prototype,t=e.splice;function n(i){var o=this.__data__,l=r(o,i);if(l<0)return!1;var u=o.length-1;return l==u?o.pop():t.call(o,l,1),--this.size,!0}return fm=n,fm}var pm,Cw;function X4(){if(Cw)return pm;Cw=1;var r=Xd();function e(t){var n=this.__data__,i=r(n,t);return i<0?void 0:n[i][1]}return pm=e,pm}var mm,Aw;function Z4(){if(Aw)return mm;Aw=1;var r=Xd();function e(t){return r(this.__data__,t)>-1}return mm=e,mm}var gm,bw;function eF(){if(bw)return gm;bw=1;var r=Xd();function e(t,n){var i=this.__data__,o=r(i,t);return o<0?(++this.size,i.push([t,n])):i[o][1]=n,this}return gm=e,gm}var ym,xw;function Zd(){if(xw)return ym;xw=1;var r=Q4(),e=Y4(),t=X4(),n=Z4(),i=eF();function o(l){var u=-1,h=l==null?0:l.length;for(this.clear();++u<h;){var d=l[u];this.set(d[0],d[1])}}return o.prototype.clear=r,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=n,o.prototype.set=i,ym=o,ym}var vm,Sw;function tF(){if(Sw)return vm;Sw=1;var r=Zd();function e(){this.__data__=new r,this.size=0}return vm=e,vm}var _m,Tw;function nF(){if(Tw)return _m;Tw=1;function r(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return _m=r,_m}var wm,Iw;function rF(){if(Iw)return wm;Iw=1;function r(e){return this.__data__.get(e)}return wm=r,wm}var Em,Dw;function iF(){if(Dw)return Em;Dw=1;function r(e){return this.__data__.has(e)}return Em=r,Em}var Cm,kw;function $x(){if(kw)return Cm;kw=1;var r=typeof ja=="object"&&ja&&ja.Object===Object&&ja;return Cm=r,Cm}var Am,Rw;function ts(){if(Rw)return Am;Rw=1;var r=$x(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return Am=t,Am}var bm,Pw;function qv(){if(Pw)return bm;Pw=1;var r=ts(),e=r.Symbol;return bm=e,bm}var xm,Nw;function sF(){if(Nw)return xm;Nw=1;var r=qv(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,i=r?r.toStringTag:void 0;function o(l){var u=t.call(l,i),h=l[i];try{l[i]=void 0;var d=!0}catch{}var g=n.call(l);return d&&(u?l[i]=h:delete l[i]),g}return xm=o,xm}var Sm,Ow;function oF(){if(Ow)return Sm;Ow=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return Sm=t,Sm}var Tm,Lw;function ef(){if(Lw)return Tm;Lw=1;var r=qv(),e=sF(),t=oF(),n="[object Null]",i="[object Undefined]",o=r?r.toStringTag:void 0;function l(u){return u==null?u===void 0?i:n:o&&o in Object(u)?e(u):t(u)}return Tm=l,Tm}var Im,Fw;function Gx(){if(Fw)return Im;Fw=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Im=r,Im}var Dm,jw;function Kx(){if(jw)return Dm;jw=1;var r=ef(),e=Gx(),t="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(u){if(!e(u))return!1;var h=r(u);return h==n||h==i||h==t||h==o}return Dm=l,Dm}var km,Bw;function aF(){if(Bw)return km;Bw=1;var r=ts(),e=r["__core-js_shared__"];return km=e,km}var Rm,Mw;function lF(){if(Mw)return Rm;Mw=1;var r=aF(),e=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!e&&e in n}return Rm=t,Rm}var Pm,qw;function Jx(){if(qw)return Pm;qw=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Pm=t,Pm}var Nm,Vw;function uF(){if(Vw)return Nm;Vw=1;var r=Kx(),e=lF(),t=Gx(),n=Jx(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,h=l.toString,d=u.hasOwnProperty,g=RegExp("^"+h.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(f){if(!t(f)||e(f))return!1;var y=r(f)?g:o;return y.test(n(f))}return Nm=m,Nm}var Om,Uw;function cF(){if(Uw)return Om;Uw=1;function r(e,t){return e==null?void 0:e[t]}return Om=r,Om}var Lm,zw;function cl(){if(zw)return Lm;zw=1;var r=uF(),e=cF();function t(n,i){var o=e(n,i);return r(o)?o:void 0}return Lm=t,Lm}var Fm,Hw;function Vv(){if(Hw)return Fm;Hw=1;var r=cl(),e=ts(),t=r(e,"Map");return Fm=t,Fm}var jm,Ww;function tf(){if(Ww)return jm;Ww=1;var r=cl(),e=r(Object,"create");return jm=e,jm}var Bm,$w;function hF(){if($w)return Bm;$w=1;var r=tf();function e(){this.__data__=r?r(null):{},this.size=0}return Bm=e,Bm}var Mm,Gw;function dF(){if(Gw)return Mm;Gw=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Mm=r,Mm}var qm,Kw;function fF(){if(Kw)return qm;Kw=1;var r=tf(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function i(o){var l=this.__data__;if(r){var u=l[o];return u===e?void 0:u}return n.call(l,o)?l[o]:void 0}return qm=i,qm}var Vm,Jw;function pF(){if(Jw)return Vm;Jw=1;var r=tf(),e=Object.prototype,t=e.hasOwnProperty;function n(i){var o=this.__data__;return r?o[i]!==void 0:t.call(o,i)}return Vm=n,Vm}var Um,Qw;function mF(){if(Qw)return Um;Qw=1;var r=tf(),e="__lodash_hash_undefined__";function t(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=r&&i===void 0?e:i,this}return Um=t,Um}var zm,Yw;function gF(){if(Yw)return zm;Yw=1;var r=hF(),e=dF(),t=fF(),n=pF(),i=mF();function o(l){var u=-1,h=l==null?0:l.length;for(this.clear();++u<h;){var d=l[u];this.set(d[0],d[1])}}return o.prototype.clear=r,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=n,o.prototype.set=i,zm=o,zm}var Hm,Xw;function yF(){if(Xw)return Hm;Xw=1;var r=gF(),e=Zd(),t=Vv();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return Hm=n,Hm}var Wm,Zw;function vF(){if(Zw)return Wm;Zw=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Wm=r,Wm}var $m,eE;function nf(){if(eE)return $m;eE=1;var r=vF();function e(t,n){var i=t.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return $m=e,$m}var Gm,tE;function _F(){if(tE)return Gm;tE=1;var r=nf();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return Gm=e,Gm}var Km,nE;function wF(){if(nE)return Km;nE=1;var r=nf();function e(t){return r(this,t).get(t)}return Km=e,Km}var Jm,rE;function EF(){if(rE)return Jm;rE=1;var r=nf();function e(t){return r(this,t).has(t)}return Jm=e,Jm}var Qm,iE;function CF(){if(iE)return Qm;iE=1;var r=nf();function e(t,n){var i=r(this,t),o=i.size;return i.set(t,n),this.size+=i.size==o?0:1,this}return Qm=e,Qm}var Ym,sE;function Qx(){if(sE)return Ym;sE=1;var r=yF(),e=_F(),t=wF(),n=EF(),i=CF();function o(l){var u=-1,h=l==null?0:l.length;for(this.clear();++u<h;){var d=l[u];this.set(d[0],d[1])}}return o.prototype.clear=r,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=n,o.prototype.set=i,Ym=o,Ym}var Xm,oE;function AF(){if(oE)return Xm;oE=1;var r=Zd(),e=Vv(),t=Qx(),n=200;function i(o,l){var u=this.__data__;if(u instanceof r){var h=u.__data__;if(!e||h.length<n-1)return h.push([o,l]),this.size=++u.size,this;u=this.__data__=new t(h)}return u.set(o,l),this.size=u.size,this}return Xm=i,Xm}var Zm,aE;function bF(){if(aE)return Zm;aE=1;var r=Zd(),e=tF(),t=nF(),n=rF(),i=iF(),o=AF();function l(u){var h=this.__data__=new r(u);this.size=h.size}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=n,l.prototype.has=i,l.prototype.set=o,Zm=l,Zm}var eg,lE;function xF(){if(lE)return eg;lE=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return eg=e,eg}var tg,uE;function SF(){if(uE)return tg;uE=1;function r(e){return this.__data__.has(e)}return tg=r,tg}var ng,cE;function TF(){if(cE)return ng;cE=1;var r=Qx(),e=xF(),t=SF();function n(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new r;++o<l;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,ng=n,ng}var rg,hE;function IF(){if(hE)return rg;hE=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}return rg=r,rg}var ig,dE;function DF(){if(dE)return ig;dE=1;function r(e,t){return e.has(t)}return ig=r,ig}var sg,fE;function Yx(){if(fE)return sg;fE=1;var r=TF(),e=IF(),t=DF(),n=1,i=2;function o(l,u,h,d,g,m){var f=h&n,y=l.length,b=u.length;if(y!=b&&!(f&&b>y))return!1;var x=m.get(l),C=m.get(u);if(x&&C)return x==u&&C==l;var w=-1,E=!0,P=h&i?new r:void 0;for(m.set(l,u),m.set(u,l);++w<y;){var S=l[w],O=u[w];if(d)var M=f?d(O,S,w,u,l,m):d(S,O,w,l,u,m);if(M!==void 0){if(M)continue;E=!1;break}if(P){if(!e(u,function(R,A){if(!t(P,A)&&(S===R||g(S,R,h,d,m)))return P.push(A)})){E=!1;break}}else if(!(S===O||g(S,O,h,d,m))){E=!1;break}}return m.delete(l),m.delete(u),E}return sg=o,sg}var og,pE;function kF(){if(pE)return og;pE=1;var r=ts(),e=r.Uint8Array;return og=e,og}var ag,mE;function RF(){if(mE)return ag;mE=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i,o){n[++t]=[o,i]}),n}return ag=r,ag}var lg,gE;function PF(){if(gE)return lg;gE=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}return lg=r,lg}var ug,yE;function NF(){if(yE)return ug;yE=1;var r=qv(),e=kF(),t=Wx(),n=Yx(),i=RF(),o=PF(),l=1,u=2,h="[object Boolean]",d="[object Date]",g="[object Error]",m="[object Map]",f="[object Number]",y="[object RegExp]",b="[object Set]",x="[object String]",C="[object Symbol]",w="[object ArrayBuffer]",E="[object DataView]",P=r?r.prototype:void 0,S=P?P.valueOf:void 0;function O(M,R,A,T,I,D,N){switch(A){case E:if(M.byteLength!=R.byteLength||M.byteOffset!=R.byteOffset)return!1;M=M.buffer,R=R.buffer;case w:return!(M.byteLength!=R.byteLength||!D(new e(M),new e(R)));case h:case d:case f:return t(+M,+R);case g:return M.name==R.name&&M.message==R.message;case y:case x:return M==R+"";case m:var L=i;case b:var U=T&l;if(L||(L=o),M.size!=R.size&&!U)return!1;var J=N.get(M);if(J)return J==R;T|=u,N.set(M,R);var re=n(L(M),L(R),T,I,D,N);return N.delete(M),re;case C:if(S)return S.call(M)==S.call(R)}return!1}return ug=O,ug}var cg,vE;function OF(){if(vE)return cg;vE=1;function r(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e}return cg=r,cg}var hg,_E;function Uv(){if(_E)return hg;_E=1;var r=Array.isArray;return hg=r,hg}var dg,wE;function LF(){if(wE)return dg;wE=1;var r=OF(),e=Uv();function t(n,i,o){var l=i(n);return e(n)?l:r(l,o(n))}return dg=t,dg}var fg,EE;function FF(){if(EE)return fg;EE=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,o=0,l=[];++n<i;){var u=e[n];t(u,n,e)&&(l[o++]=u)}return l}return fg=r,fg}var pg,CE;function jF(){if(CE)return pg;CE=1;function r(){return[]}return pg=r,pg}var mg,AE;function BF(){if(AE)return mg;AE=1;var r=FF(),e=jF(),t=Object.prototype,n=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),r(i(l),function(u){return n.call(l,u)}))}:e;return mg=o,mg}var gg,bE;function MF(){if(bE)return gg;bE=1;function r(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}return gg=r,gg}var yg,xE;function rf(){if(xE)return yg;xE=1;function r(e){return e!=null&&typeof e=="object"}return yg=r,yg}var vg,SE;function qF(){if(SE)return vg;SE=1;var r=ef(),e=rf(),t="[object Arguments]";function n(i){return e(i)&&r(i)==t}return vg=n,vg}var _g,TE;function VF(){if(TE)return _g;TE=1;var r=qF(),e=rf(),t=Object.prototype,n=t.hasOwnProperty,i=t.propertyIsEnumerable,o=r(function(){return arguments}())?r:function(l){return e(l)&&n.call(l,"callee")&&!i.call(l,"callee")};return _g=o,_g}var hu={exports:{}},wg,IE;function UF(){if(IE)return wg;IE=1;function r(){return!1}return wg=r,wg}hu.exports;var DE;function Xx(){return DE||(DE=1,function(r,e){var t=ts(),n=UF(),i=e&&!e.nodeType&&e,o=i&&!0&&r&&!r.nodeType&&r,l=o&&o.exports===i,u=l?t.Buffer:void 0,h=u?u.isBuffer:void 0,d=h||n;r.exports=d}(hu,hu.exports)),hu.exports}var Eg,kE;function zF(){if(kE)return Eg;kE=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,i){var o=typeof n;return i=i??r,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Eg=t,Eg}var Cg,RE;function Zx(){if(RE)return Cg;RE=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return Cg=e,Cg}var Ag,PE;function HF(){if(PE)return Ag;PE=1;var r=ef(),e=Zx(),t=rf(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",u="[object Error]",h="[object Function]",d="[object Map]",g="[object Number]",m="[object Object]",f="[object RegExp]",y="[object Set]",b="[object String]",x="[object WeakMap]",C="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",P="[object Float64Array]",S="[object Int8Array]",O="[object Int16Array]",M="[object Int32Array]",R="[object Uint8Array]",A="[object Uint8ClampedArray]",T="[object Uint16Array]",I="[object Uint32Array]",D={};D[E]=D[P]=D[S]=D[O]=D[M]=D[R]=D[A]=D[T]=D[I]=!0,D[n]=D[i]=D[C]=D[o]=D[w]=D[l]=D[u]=D[h]=D[d]=D[g]=D[m]=D[f]=D[y]=D[b]=D[x]=!1;function N(L){return t(L)&&e(L.length)&&!!D[r(L)]}return Ag=N,Ag}var bg,NE;function WF(){if(NE)return bg;NE=1;function r(e){return function(t){return e(t)}}return bg=r,bg}var du={exports:{}};du.exports;var OE;function $F(){return OE||(OE=1,function(r,e){var t=$x(),n=e&&!e.nodeType&&e,i=n&&!0&&r&&!r.nodeType&&r,o=i&&i.exports===n,l=o&&t.process,u=function(){try{var h=i&&i.require&&i.require("util").types;return h||l&&l.binding&&l.binding("util")}catch{}}();r.exports=u}(du,du.exports)),du.exports}var xg,LE;function eS(){if(LE)return xg;LE=1;var r=HF(),e=WF(),t=$F(),n=t&&t.isTypedArray,i=n?e(n):r;return xg=i,xg}var Sg,FE;function GF(){if(FE)return Sg;FE=1;var r=MF(),e=VF(),t=Uv(),n=Xx(),i=zF(),o=eS(),l=Object.prototype,u=l.hasOwnProperty;function h(d,g){var m=t(d),f=!m&&e(d),y=!m&&!f&&n(d),b=!m&&!f&&!y&&o(d),x=m||f||y||b,C=x?r(d.length,String):[],w=C.length;for(var E in d)(g||u.call(d,E))&&!(x&&(E=="length"||y&&(E=="offset"||E=="parent")||b&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,w)))&&C.push(E);return C}return Sg=h,Sg}var Tg,jE;function KF(){if(jE)return Tg;jE=1;var r=Object.prototype;function e(t){var n=t&&t.constructor,i=typeof n=="function"&&n.prototype||r;return t===i}return Tg=e,Tg}var Ig,BE;function JF(){if(BE)return Ig;BE=1;function r(e,t){return function(n){return e(t(n))}}return Ig=r,Ig}var Dg,ME;function QF(){if(ME)return Dg;ME=1;var r=JF(),e=r(Object.keys,Object);return Dg=e,Dg}var kg,qE;function YF(){if(qE)return kg;qE=1;var r=KF(),e=QF(),t=Object.prototype,n=t.hasOwnProperty;function i(o){if(!r(o))return e(o);var l=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&l.push(u);return l}return kg=i,kg}var Rg,VE;function XF(){if(VE)return Rg;VE=1;var r=Kx(),e=Zx();function t(n){return n!=null&&e(n.length)&&!r(n)}return Rg=t,Rg}var Pg,UE;function ZF(){if(UE)return Pg;UE=1;var r=GF(),e=YF(),t=XF();function n(i){return t(i)?r(i):e(i)}return Pg=n,Pg}var Ng,zE;function e9(){if(zE)return Ng;zE=1;var r=LF(),e=BF(),t=ZF();function n(i){return r(i,t,e)}return Ng=n,Ng}var Og,HE;function t9(){if(HE)return Og;HE=1;var r=e9(),e=1,t=Object.prototype,n=t.hasOwnProperty;function i(o,l,u,h,d,g){var m=u&e,f=r(o),y=f.length,b=r(l),x=b.length;if(y!=x&&!m)return!1;for(var C=y;C--;){var w=f[C];if(!(m?w in l:n.call(l,w)))return!1}var E=g.get(o),P=g.get(l);if(E&&P)return E==l&&P==o;var S=!0;g.set(o,l),g.set(l,o);for(var O=m;++C<y;){w=f[C];var M=o[w],R=l[w];if(h)var A=m?h(R,M,w,l,o,g):h(M,R,w,o,l,g);if(!(A===void 0?M===R||d(M,R,u,h,g):A)){S=!1;break}O||(O=w=="constructor")}if(S&&!O){var T=o.constructor,I=l.constructor;T!=I&&"constructor"in o&&"constructor"in l&&!(typeof T=="function"&&T instanceof T&&typeof I=="function"&&I instanceof I)&&(S=!1)}return g.delete(o),g.delete(l),S}return Og=i,Og}var Lg,WE;function n9(){if(WE)return Lg;WE=1;var r=cl(),e=ts(),t=r(e,"DataView");return Lg=t,Lg}var Fg,$E;function r9(){if($E)return Fg;$E=1;var r=cl(),e=ts(),t=r(e,"Promise");return Fg=t,Fg}var jg,GE;function i9(){if(GE)return jg;GE=1;var r=cl(),e=ts(),t=r(e,"Set");return jg=t,jg}var Bg,KE;function s9(){if(KE)return Bg;KE=1;var r=cl(),e=ts(),t=r(e,"WeakMap");return Bg=t,Bg}var Mg,JE;function o9(){if(JE)return Mg;JE=1;var r=n9(),e=Vv(),t=r9(),n=i9(),i=s9(),o=ef(),l=Jx(),u="[object Map]",h="[object Object]",d="[object Promise]",g="[object Set]",m="[object WeakMap]",f="[object DataView]",y=l(r),b=l(e),x=l(t),C=l(n),w=l(i),E=o;return(r&&E(new r(new ArrayBuffer(1)))!=f||e&&E(new e)!=u||t&&E(t.resolve())!=d||n&&E(new n)!=g||i&&E(new i)!=m)&&(E=function(P){var S=o(P),O=S==h?P.constructor:void 0,M=O?l(O):"";if(M)switch(M){case y:return f;case b:return u;case x:return d;case C:return g;case w:return m}return S}),Mg=E,Mg}var qg,QE;function a9(){if(QE)return qg;QE=1;var r=bF(),e=Yx(),t=NF(),n=t9(),i=o9(),o=Uv(),l=Xx(),u=eS(),h=1,d="[object Arguments]",g="[object Array]",m="[object Object]",f=Object.prototype,y=f.hasOwnProperty;function b(x,C,w,E,P,S){var O=o(x),M=o(C),R=O?g:i(x),A=M?g:i(C);R=R==d?m:R,A=A==d?m:A;var T=R==m,I=A==m,D=R==A;if(D&&l(x)){if(!l(C))return!1;O=!0,T=!1}if(D&&!T)return S||(S=new r),O||u(x)?e(x,C,w,E,P,S):t(x,C,R,w,E,P,S);if(!(w&h)){var N=T&&y.call(x,"__wrapped__"),L=I&&y.call(C,"__wrapped__");if(N||L){var U=N?x.value():x,J=L?C.value():C;return S||(S=new r),P(U,J,w,E,S)}}return D?(S||(S=new r),n(x,C,w,E,P,S)):!1}return qg=b,qg}var Vg,YE;function l9(){if(YE)return Vg;YE=1;var r=a9(),e=rf();function t(n,i,o,l,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:r(n,i,o,l,t,u)}return Vg=t,Vg}var Ug,XE;function u9(){if(XE)return Ug;XE=1;var r=l9();function e(t,n){return r(t,n)}return Ug=e,Ug}var $h={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var c9=$h.exports,ZE;function h9(){return ZE||(ZE=1,function(r,e){(function(n,i){r.exports=i()})(typeof self<"u"?self:c9,function(){return function(t){var n={};function i(o){if(n[o])return n[o].exports;var l=n[o]={i:o,l:!1,exports:{}};return t[o].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=t,i.c=n,i.d=function(o,l,u){i.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:u})},i.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(l,"a",l),l},i.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},i.p="",i(i.s=109)}([function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),l=i(18),u=i(19),h=i(45),d=i(46),g=i(47),m=i(48),f=i(49),y=i(12),b=i(32),x=i(33),C=i(31),w=i(1),E={Scope:w.Scope,create:w.create,find:w.find,query:w.query,register:w.register,Container:o.default,Format:l.default,Leaf:u.default,Embed:m.default,Scroll:h.default,Block:g.default,Inline:d.default,Text:f.default,Attributor:{Attribute:y.default,Class:b.default,Style:x.default,Store:C.default}};n.default=E},function(t,n,i){var o=this&&this.__extends||function(){var C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var P in E)E.hasOwnProperty(P)&&(w[P]=E[P])};return function(w,E){C(w,E);function P(){this.constructor=w}w.prototype=E===null?Object.create(E):(P.prototype=E.prototype,new P)}}();Object.defineProperty(n,"__esModule",{value:!0});var l=function(C){o(w,C);function w(E){var P=this;return E="[Parchment] "+E,P=C.call(this,E)||this,P.message=E,P.name=P.constructor.name,P}return w}(Error);n.ParchmentError=l;var u={},h={},d={},g={};n.DATA_KEY="__blot";var m;(function(C){C[C.TYPE=3]="TYPE",C[C.LEVEL=12]="LEVEL",C[C.ATTRIBUTE=13]="ATTRIBUTE",C[C.BLOT=14]="BLOT",C[C.INLINE=7]="INLINE",C[C.BLOCK=11]="BLOCK",C[C.BLOCK_BLOT=10]="BLOCK_BLOT",C[C.INLINE_BLOT=6]="INLINE_BLOT",C[C.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",C[C.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",C[C.ANY=15]="ANY"})(m=n.Scope||(n.Scope={}));function f(C,w){var E=b(C);if(E==null)throw new l("Unable to create "+C+" blot");var P=E,S=C instanceof Node||C.nodeType===Node.TEXT_NODE?C:P.create(w);return new P(S,w)}n.create=f;function y(C,w){return w===void 0&&(w=!1),C==null?null:C[n.DATA_KEY]!=null?C[n.DATA_KEY].blot:w?y(C.parentNode,w):null}n.find=y;function b(C,w){w===void 0&&(w=m.ANY);var E;if(typeof C=="string")E=g[C]||u[C];else if(C instanceof Text||C.nodeType===Node.TEXT_NODE)E=g.text;else if(typeof C=="number")C&m.LEVEL&m.BLOCK?E=g.block:C&m.LEVEL&m.INLINE&&(E=g.inline);else if(C instanceof HTMLElement){var P=(C.getAttribute("class")||"").split(/\s+/);for(var S in P)if(E=h[P[S]],E)break;E=E||d[C.tagName]}return E==null?null:w&m.LEVEL&E.scope&&w&m.TYPE&E.scope?E:null}n.query=b;function x(){for(var C=[],w=0;w<arguments.length;w++)C[w]=arguments[w];if(C.length>1)return C.map(function(S){return x(S)});var E=C[0];if(typeof E.blotName!="string"&&typeof E.attrName!="string")throw new l("Invalid definition");if(E.blotName==="abstract")throw new l("Cannot register abstract class");if(g[E.blotName||E.attrName]=E,typeof E.keyName=="string")u[E.keyName]=E;else if(E.className!=null&&(h[E.className]=E),E.tagName!=null){Array.isArray(E.tagName)?E.tagName=E.tagName.map(function(S){return S.toUpperCase()}):E.tagName=E.tagName.toUpperCase();var P=Array.isArray(E.tagName)?E.tagName:[E.tagName];P.forEach(function(S){(d[S]==null||E.className==null)&&(d[S]=E)})}return E}n.register=x},function(t,n,i){var o=i(51),l=i(11),u=i(3),h=i(20),d="\0",g=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};g.prototype.insert=function(m,f){var y={};return m.length===0?this:(y.insert=m,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(y.attributes=f),this.push(y))},g.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},g.prototype.retain=function(m,f){if(m<=0)return this;var y={retain:m};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(y.attributes=f),this.push(y)},g.prototype.push=function(m){var f=this.ops.length,y=this.ops[f-1];if(m=u(!0,{},m),typeof y=="object"){if(typeof m.delete=="number"&&typeof y.delete=="number")return this.ops[f-1]={delete:y.delete+m.delete},this;if(typeof y.delete=="number"&&m.insert!=null&&(f-=1,y=this.ops[f-1],typeof y!="object"))return this.ops.unshift(m),this;if(l(m.attributes,y.attributes)){if(typeof m.insert=="string"&&typeof y.insert=="string")return this.ops[f-1]={insert:y.insert+m.insert},typeof m.attributes=="object"&&(this.ops[f-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof y.retain=="number")return this.ops[f-1]={retain:y.retain+m.retain},typeof m.attributes=="object"&&(this.ops[f-1].attributes=m.attributes),this}}return f===this.ops.length?this.ops.push(m):this.ops.splice(f,0,m),this},g.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},g.prototype.filter=function(m){return this.ops.filter(m)},g.prototype.forEach=function(m){this.ops.forEach(m)},g.prototype.map=function(m){return this.ops.map(m)},g.prototype.partition=function(m){var f=[],y=[];return this.forEach(function(b){var x=m(b)?f:y;x.push(b)}),[f,y]},g.prototype.reduce=function(m,f){return this.ops.reduce(m,f)},g.prototype.changeLength=function(){return this.reduce(function(m,f){return f.insert?m+h.length(f):f.delete?m-f.delete:m},0)},g.prototype.length=function(){return this.reduce(function(m,f){return m+h.length(f)},0)},g.prototype.slice=function(m,f){m=m||0,typeof f!="number"&&(f=1/0);for(var y=[],b=h.iterator(this.ops),x=0;x<f&&b.hasNext();){var C;x<m?C=b.next(m-x):(C=b.next(f-x),y.push(C)),x+=h.length(C)}return new g(y)},g.prototype.compose=function(m){var f=h.iterator(this.ops),y=h.iterator(m.ops),b=[],x=y.peek();if(x!=null&&typeof x.retain=="number"&&x.attributes==null){for(var C=x.retain;f.peekType()==="insert"&&f.peekLength()<=C;)C-=f.peekLength(),b.push(f.next());x.retain-C>0&&y.next(x.retain-C)}for(var w=new g(b);f.hasNext()||y.hasNext();)if(y.peekType()==="insert")w.push(y.next());else if(f.peekType()==="delete")w.push(f.next());else{var E=Math.min(f.peekLength(),y.peekLength()),P=f.next(E),S=y.next(E);if(typeof S.retain=="number"){var O={};typeof P.retain=="number"?O.retain=E:O.insert=P.insert;var M=h.attributes.compose(P.attributes,S.attributes,typeof P.retain=="number");if(M&&(O.attributes=M),w.push(O),!y.hasNext()&&l(w.ops[w.ops.length-1],O)){var R=new g(f.rest());return w.concat(R).chop()}}else typeof S.delete=="number"&&typeof P.retain=="number"&&w.push(S)}return w.chop()},g.prototype.concat=function(m){var f=new g(this.ops.slice());return m.ops.length>0&&(f.push(m.ops[0]),f.ops=f.ops.concat(m.ops.slice(1))),f},g.prototype.diff=function(m,f){if(this.ops===m.ops)return new g;var y=[this,m].map(function(E){return E.map(function(P){if(P.insert!=null)return typeof P.insert=="string"?P.insert:d;var S=E===m?"on":"with";throw new Error("diff() called "+S+" non-document")}).join("")}),b=new g,x=o(y[0],y[1],f),C=h.iterator(this.ops),w=h.iterator(m.ops);return x.forEach(function(E){for(var P=E[1].length;P>0;){var S=0;switch(E[0]){case o.INSERT:S=Math.min(w.peekLength(),P),b.push(w.next(S));break;case o.DELETE:S=Math.min(P,C.peekLength()),C.next(S),b.delete(S);break;case o.EQUAL:S=Math.min(C.peekLength(),w.peekLength(),P);var O=C.next(S),M=w.next(S);l(O.insert,M.insert)?b.retain(S,h.attributes.diff(O.attributes,M.attributes)):b.push(M).delete(S);break}P-=S}}),b.chop()},g.prototype.eachLine=function(m,f){f=f||`
`;for(var y=h.iterator(this.ops),b=new g,x=0;y.hasNext();){if(y.peekType()!=="insert")return;var C=y.peek(),w=h.length(C)-y.peekLength(),E=typeof C.insert=="string"?C.insert.indexOf(f,w)-w:-1;if(E<0)b.push(y.next());else if(E>0)b.push(y.next(E));else{if(m(b,y.next(1).attributes||{},x)===!1)return;x+=1,b=new g}}b.length()>0&&m(b,{},x)},g.prototype.transform=function(m,f){if(f=!!f,typeof m=="number")return this.transformPosition(m,f);for(var y=h.iterator(this.ops),b=h.iterator(m.ops),x=new g;y.hasNext()||b.hasNext();)if(y.peekType()==="insert"&&(f||b.peekType()!=="insert"))x.retain(h.length(y.next()));else if(b.peekType()==="insert")x.push(b.next());else{var C=Math.min(y.peekLength(),b.peekLength()),w=y.next(C),E=b.next(C);if(w.delete)continue;E.delete?x.push(E):x.retain(C,h.attributes.transform(w.attributes,E.attributes,f))}return x.chop()},g.prototype.transformPosition=function(m,f){f=!!f;for(var y=h.iterator(this.ops),b=0;y.hasNext()&&b<=m;){var x=y.peekLength(),C=y.peekType();if(y.next(),C==="delete"){m-=Math.min(x,m-b);continue}else C==="insert"&&(b<m||!f)&&(m+=x);b+=x}return m},t.exports=g},function(t,n){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h=function(y){return typeof Array.isArray=="function"?Array.isArray(y):o.call(y)==="[object Array]"},d=function(y){if(!y||o.call(y)!=="[object Object]")return!1;var b=i.call(y,"constructor"),x=y.constructor&&y.constructor.prototype&&i.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!b&&!x)return!1;var C;for(C in y);return typeof C>"u"||i.call(y,C)},g=function(y,b){l&&b.name==="__proto__"?l(y,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):y[b.name]=b.newValue},m=function(y,b){if(b==="__proto__")if(i.call(y,b)){if(u)return u(y,b).value}else return;return y[b]};t.exports=function f(){var y,b,x,C,w,E,P=arguments[0],S=1,O=arguments.length,M=!1;for(typeof P=="boolean"&&(M=P,P=arguments[1]||{},S=2),(P==null||typeof P!="object"&&typeof P!="function")&&(P={});S<O;++S)if(y=arguments[S],y!=null)for(b in y)x=m(P,b),C=m(y,b),P!==C&&(M&&C&&(d(C)||(w=h(C)))?(w?(w=!1,E=x&&h(x)?x:[]):E=x&&d(x)?x:{},g(P,{name:b,newValue:f(M,E,C)})):typeof C<"u"&&g(P,{name:b,newValue:C}));return P}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var o=function(){function D(N,L){for(var U=0;U<L.length;U++){var J=L[U];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(N,J.key,J)}}return function(N,L,U){return L&&D(N.prototype,L),U&&D(N,U),N}}(),l=function D(N,L,U){N===null&&(N=Function.prototype);var J=Object.getOwnPropertyDescriptor(N,L);if(J===void 0){var re=Object.getPrototypeOf(N);return re===null?void 0:D(re,L,U)}else{if("value"in J)return J.value;var Z=J.get;return Z===void 0?void 0:Z.call(U)}},u=i(3),h=P(u),d=i(2),g=P(d),m=i(0),f=P(m),y=i(16),b=P(y),x=i(6),C=P(x),w=i(7),E=P(w);function P(D){return D&&D.__esModule?D:{default:D}}function S(D,N){if(!(D instanceof N))throw new TypeError("Cannot call a class as a function")}function O(D,N){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:D}function M(D,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);D.prototype=Object.create(N&&N.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(D,N):D.__proto__=N)}var R=1,A=function(D){M(N,D);function N(){return S(this,N),O(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return o(N,[{key:"attach",value:function(){l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new g.default().insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(U,J){var re=f.default.query(U,f.default.Scope.BLOCK_ATTRIBUTE);re!=null&&this.attributes.attribute(re,J)}},{key:"formatAt",value:function(U,J,re,Z){this.format(re,Z)}},{key:"insertAt",value:function(U,J,re){if(typeof J=="string"&&J.endsWith(`
`)){var Z=f.default.create(T.blotName);this.parent.insertBefore(Z,U===0?this:this.next),Z.insertAt(0,J.slice(0,-1))}else l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,U,J,re)}}]),N}(f.default.Embed);A.scope=f.default.Scope.BLOCK_BLOT;var T=function(D){M(N,D);function N(L){S(this,N);var U=O(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,L));return U.cache={},U}return o(N,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(U,J){return J.length()===0?U:U.insert(J.value(),I(J))},new g.default).insert(`
`,I(this))),this.cache.delta}},{key:"deleteAt",value:function(U,J){l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"deleteAt",this).call(this,U,J),this.cache={}}},{key:"formatAt",value:function(U,J,re,Z){J<=0||(f.default.query(re,f.default.Scope.BLOCK)?U+J===this.length()&&this.format(re,Z):l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"formatAt",this).call(this,U,Math.min(J,this.length()-U-1),re,Z),this.cache={})}},{key:"insertAt",value:function(U,J,re){if(re!=null)return l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,U,J,re);if(J.length!==0){var Z=J.split(`
`),ie=Z.shift();ie.length>0&&(U<this.length()-1||this.children.tail==null?l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,Math.min(U,this.length()-1),ie):this.children.tail.insertAt(this.children.tail.length(),ie),this.cache={});var G=this;Z.reduce(function(W,B){return G=G.split(W,!0),G.insertAt(0,B),B.length},U+ie.length)}}},{key:"insertBefore",value:function(U,J){var re=this.children.head;l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,U,J),re instanceof b.default&&re.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"length",this).call(this)+R),this.cache.length}},{key:"moveChildren",value:function(U,J){l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"moveChildren",this).call(this,U,J),this.cache={}}},{key:"optimize",value:function(U){l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,U),this.cache={}}},{key:"path",value:function(U){return l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"path",this).call(this,U,!0)}},{key:"removeChild",value:function(U){l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"removeChild",this).call(this,U),this.cache={}}},{key:"split",value:function(U){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(J&&(U===0||U>=this.length()-R)){var re=this.clone();return U===0?(this.parent.insertBefore(re,this),this):(this.parent.insertBefore(re,this.next),re)}else{var Z=l(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"split",this).call(this,U,J);return this.cache={},Z}}}]),N}(f.default.Block);T.blotName="block",T.tagName="P",T.defaultChild="break",T.allowedChildren=[C.default,f.default.Embed,E.default];function I(D){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return D==null||(typeof D.formats=="function"&&(N=(0,h.default)(N,D.formats())),D.parent==null||D.parent.blotName=="scroll"||D.parent.statics.scope!==D.statics.scope)?N:I(D.parent,N)}n.bubbleFormats=I,n.BlockEmbed=A,n.default=T},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},l=function(){function G(W,B){var V=[],H=!0,ne=!1,ee=void 0;try{for(var $=W[Symbol.iterator](),Y;!(H=(Y=$.next()).done)&&(V.push(Y.value),!(B&&V.length===B));H=!0);}catch(Q){ne=!0,ee=Q}finally{try{!H&&$.return&&$.return()}finally{if(ne)throw ee}}return V}return function(W,B){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return G(W,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function G(W,B){for(var V=0;V<B.length;V++){var H=B[V];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(W,H.key,H)}}return function(W,B,V){return B&&G(W.prototype,B),V&&G(W,V),W}}();i(50);var h=i(2),d=I(h),g=i(14),m=I(g),f=i(8),y=I(f),b=i(9),x=I(b),C=i(0),w=I(C),E=i(15),P=I(E),S=i(3),O=I(S),M=i(10),R=I(M),A=i(34),T=I(A);function I(G){return G&&G.__esModule?G:{default:G}}function D(G,W,B){return W in G?Object.defineProperty(G,W,{value:B,enumerable:!0,configurable:!0,writable:!0}):G[W]=B,G}function N(G,W){if(!(G instanceof W))throw new TypeError("Cannot call a class as a function")}var L=(0,R.default)("quill"),U=function(){u(G,null,[{key:"debug",value:function(B){B===!0&&(B="log"),R.default.level(B)}},{key:"find",value:function(B){return B.__quill||w.default.find(B)}},{key:"import",value:function(B){return this.imports[B]==null&&L.error("Cannot import "+B+". Are you sure it was registered?"),this.imports[B]}},{key:"register",value:function(B,V){var H=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof B!="string"){var ee=B.attrName||B.blotName;typeof ee=="string"?this.register("formats/"+ee,B,V):Object.keys(B).forEach(function($){H.register($,B[$],V)})}else this.imports[B]!=null&&!ne&&L.warn("Overwriting "+B+" with",V),this.imports[B]=V,(B.startsWith("blots/")||B.startsWith("formats/"))&&V.blotName!=="abstract"?w.default.register(V):B.startsWith("modules")&&typeof V.register=="function"&&V.register()}}]);function G(W){var B=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(N(this,G),this.options=J(W,V),this.container=this.options.container,this.container==null)return L.error("Invalid Quill container",W);this.options.debug&&G.debug(this.options.debug);var H=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=w.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new P.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(ee){ee===y.default.events.TEXT_CHANGE&&B.root.classList.toggle("ql-blank",B.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(ee,$){var Y=B.selection.lastRange,Q=Y&&Y.length===0?Y.index:void 0;re.call(B,function(){return B.editor.update(null,$,Q)},ee)});var ne=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+H+"<p><br></p></div>");this.setContents(ne),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return u(G,[{key:"addContainer",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof B=="string"){var H=B;B=document.createElement("div"),B.classList.add(H)}return this.container.insertBefore(B,V),B}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(B,V,H){var ne=this,ee=Z(B,V,H),$=l(ee,4);return B=$[0],V=$[1],H=$[3],re.call(this,function(){return ne.editor.deleteText(B,V)},H,B,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(B),this.container.classList.toggle("ql-disabled",!B)}},{key:"focus",value:function(){var B=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=B,this.scrollIntoView()}},{key:"format",value:function(B,V){var H=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;return re.call(this,function(){var ee=H.getSelection(!0),$=new d.default;if(ee==null)return $;if(w.default.query(B,w.default.Scope.BLOCK))$=H.editor.formatLine(ee.index,ee.length,D({},B,V));else{if(ee.length===0)return H.selection.format(B,V),$;$=H.editor.formatText(ee.index,ee.length,D({},B,V))}return H.setSelection(ee,y.default.sources.SILENT),$},ne)}},{key:"formatLine",value:function(B,V,H,ne,ee){var $=this,Y=void 0,Q=Z(B,V,H,ne,ee),te=l(Q,4);return B=te[0],V=te[1],Y=te[2],ee=te[3],re.call(this,function(){return $.editor.formatLine(B,V,Y)},ee,B,0)}},{key:"formatText",value:function(B,V,H,ne,ee){var $=this,Y=void 0,Q=Z(B,V,H,ne,ee),te=l(Q,4);return B=te[0],V=te[1],Y=te[2],ee=te[3],re.call(this,function(){return $.editor.formatText(B,V,Y)},ee,B,0)}},{key:"getBounds",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=void 0;typeof B=="number"?H=this.selection.getBounds(B,V):H=this.selection.getBounds(B.index,B.length);var ne=this.container.getBoundingClientRect();return{bottom:H.bottom-ne.top,height:H.height,left:H.left-ne.left,right:H.right-ne.left,top:H.top-ne.top,width:H.width}}},{key:"getContents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,H=Z(B,V),ne=l(H,2);return B=ne[0],V=ne[1],this.editor.getContents(B,V)}},{key:"getFormat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof B=="number"?this.editor.getFormat(B,V):this.editor.getFormat(B.index,B.length)}},{key:"getIndex",value:function(B){return B.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(B){return this.scroll.leaf(B)}},{key:"getLine",value:function(B){return this.scroll.line(B)}},{key:"getLines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof B!="number"?this.scroll.lines(B.index,B.length):this.scroll.lines(B,V)}},{key:"getModule",value:function(B){return this.theme.modules[B]}},{key:"getSelection",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return B&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,H=Z(B,V),ne=l(H,2);return B=ne[0],V=ne[1],this.editor.getText(B,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(B,V,H){var ne=this,ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:G.sources.API;return re.call(this,function(){return ne.editor.insertEmbed(B,V,H)},ee,B)}},{key:"insertText",value:function(B,V,H,ne,ee){var $=this,Y=void 0,Q=Z(B,0,H,ne,ee),te=l(Q,4);return B=te[0],Y=te[2],ee=te[3],re.call(this,function(){return $.editor.insertText(B,V,Y)},ee,B,V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(B,V,H){this.clipboard.dangerouslyPasteHTML(B,V,H)}},{key:"removeFormat",value:function(B,V,H){var ne=this,ee=Z(B,V,H),$=l(ee,4);return B=$[0],V=$[1],H=$[3],re.call(this,function(){return ne.editor.removeFormat(B,V)},H,B)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(B){var V=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return re.call(this,function(){B=new d.default(B);var ne=V.getLength(),ee=V.editor.deleteText(0,ne),$=V.editor.applyDelta(B),Y=$.ops[$.ops.length-1];Y!=null&&typeof Y.insert=="string"&&Y.insert[Y.insert.length-1]===`
`&&(V.editor.deleteText(V.getLength()-1,1),$.delete(1));var Q=ee.compose($);return Q},H)}},{key:"setSelection",value:function(B,V,H){if(B==null)this.selection.setRange(null,V||G.sources.API);else{var ne=Z(B,V,H),ee=l(ne,4);B=ee[0],V=ee[1],H=ee[3],this.selection.setRange(new E.Range(B,V),H),H!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API,H=new d.default().insert(B);return this.setContents(H,V)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,V=this.scroll.update(B);return this.selection.update(B),V}},{key:"updateContents",value:function(B){var V=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return re.call(this,function(){return B=new d.default(B),V.editor.applyDelta(B,H)},H,!0)}}]),G}();U.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},U.events=y.default.events,U.sources=y.default.sources,U.version="1.3.7",U.imports={delta:d.default,parchment:w.default,"core/module":x.default,"core/theme":T.default};function J(G,W){if(W=(0,O.default)(!0,{container:G,modules:{clipboard:!0,keyboard:!0,history:!0}},W),!W.theme||W.theme===U.DEFAULTS.theme)W.theme=T.default;else if(W.theme=U.import("themes/"+W.theme),W.theme==null)throw new Error("Invalid theme "+W.theme+". Did you register it?");var B=(0,O.default)(!0,{},W.theme.DEFAULTS);[B,W].forEach(function(ne){ne.modules=ne.modules||{},Object.keys(ne.modules).forEach(function(ee){ne.modules[ee]===!0&&(ne.modules[ee]={})})});var V=Object.keys(B.modules).concat(Object.keys(W.modules)),H=V.reduce(function(ne,ee){var $=U.import("modules/"+ee);return $==null?L.error("Cannot load "+ee+" module. Are you sure you registered it?"):ne[ee]=$.DEFAULTS||{},ne},{});return W.modules!=null&&W.modules.toolbar&&W.modules.toolbar.constructor!==Object&&(W.modules.toolbar={container:W.modules.toolbar}),W=(0,O.default)(!0,{},U.DEFAULTS,{modules:H},B,W),["bounds","container","scrollingContainer"].forEach(function(ne){typeof W[ne]=="string"&&(W[ne]=document.querySelector(W[ne]))}),W.modules=Object.keys(W.modules).reduce(function(ne,ee){return W.modules[ee]&&(ne[ee]=W.modules[ee]),ne},{}),W}function re(G,W,B,V){if(this.options.strict&&!this.isEnabled()&&W===y.default.sources.USER)return new d.default;var H=B==null?null:this.getSelection(),ne=this.editor.delta,ee=G();if(H!=null&&(B===!0&&(B=H.index),V==null?H=ie(H,ee,W):V!==0&&(H=ie(H,B,V,W)),this.setSelection(H,y.default.sources.SILENT)),ee.length()>0){var $,Y=[y.default.events.TEXT_CHANGE,ee,ne,W];if(($=this.emitter).emit.apply($,[y.default.events.EDITOR_CHANGE].concat(Y)),W!==y.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,Y)}}return ee}function Z(G,W,B,V,H){var ne={};return typeof G.index=="number"&&typeof G.length=="number"?typeof W!="number"?(H=V,V=B,B=W,W=G.length,G=G.index):(W=G.length,G=G.index):typeof W!="number"&&(H=V,V=B,B=W,W=0),(typeof B>"u"?"undefined":o(B))==="object"?(ne=B,H=V):typeof B=="string"&&(V!=null?ne[B]=V:H=B),H=H||y.default.sources.API,[G,W,ne,H]}function ie(G,W,B,V){if(G==null)return null;var H=void 0,ne=void 0;if(W instanceof d.default){var ee=[G.index,G.index+G.length].map(function(te){return W.transformPosition(te,V!==y.default.sources.USER)}),$=l(ee,2);H=$[0],ne=$[1]}else{var Y=[G.index,G.index+G.length].map(function(te){return te<W||te===W&&V===y.default.sources.USER?te:B>=0?te+B:Math.max(W,te+B)}),Q=l(Y,2);H=Q[0],ne=Q[1]}return new E.Range(H,ne-H)}n.expandConfig=J,n.overload=Z,n.default=U},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function C(w,E){for(var P=0;P<E.length;P++){var S=E[P];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,E,P){return E&&C(w.prototype,E),P&&C(w,P),w}}(),l=function C(w,E,P){w===null&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,E);if(S===void 0){var O=Object.getPrototypeOf(w);return O===null?void 0:C(O,E,P)}else{if("value"in S)return S.value;var M=S.get;return M===void 0?void 0:M.call(P)}},u=i(7),h=m(u),d=i(0),g=m(d);function m(C){return C&&C.__esModule?C:{default:C}}function f(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}function y(C,w){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:C}function b(C,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);C.prototype=Object.create(w&&w.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(C,w):C.__proto__=w)}var x=function(C){b(w,C);function w(){return f(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"formatAt",value:function(P,S,O,M){if(w.compare(this.statics.blotName,O)<0&&g.default.query(O,g.default.Scope.BLOT)){var R=this.isolate(P,S);M&&R.wrap(O,M)}else l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,P,S,O,M)}},{key:"optimize",value:function(P){if(l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,P),this.parent instanceof w&&w.compare(this.statics.blotName,this.parent.statics.blotName)>0){var S=this.parent.isolate(this.offset(),this.length());this.moveChildren(S),S.wrap(this)}}}],[{key:"compare",value:function(P,S){var O=w.order.indexOf(P),M=w.order.indexOf(S);return O>=0||M>=0?O-M:P===S?0:P<S?-1:1}}]),w}(g.default.Inline);x.allowedChildren=[x,g.default.Embed,h.default],x.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=x},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),l=u(o);function u(f){return f&&f.__esModule?f:{default:f}}function h(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}function d(f,y){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:f}function g(f,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);f.prototype=Object.create(y&&y.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(f,y):f.__proto__=y)}var m=function(f){g(y,f);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(l.default.Text);n.default=m},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function E(P,S){for(var O=0;O<S.length;O++){var M=S[O];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(P,M.key,M)}}return function(P,S,O){return S&&E(P.prototype,S),O&&E(P,O),P}}(),l=function E(P,S,O){P===null&&(P=Function.prototype);var M=Object.getOwnPropertyDescriptor(P,S);if(M===void 0){var R=Object.getPrototypeOf(P);return R===null?void 0:E(R,S,O)}else{if("value"in M)return M.value;var A=M.get;return A===void 0?void 0:A.call(O)}},u=i(54),h=m(u),d=i(10),g=m(d);function m(E){return E&&E.__esModule?E:{default:E}}function f(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")}function y(E,P){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:E}function b(E,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);E.prototype=Object.create(P&&P.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(E,P):E.__proto__=P)}var x=(0,g.default)("quill:events"),C=["selectionchange","mousedown","mouseup","click"];C.forEach(function(E){document.addEventListener(E,function(){for(var P=arguments.length,S=Array(P),O=0;O<P;O++)S[O]=arguments[O];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(M){if(M.__quill&&M.__quill.emitter){var R;(R=M.__quill.emitter).handleDOM.apply(R,S)}})})});var w=function(E){b(P,E);function P(){f(this,P);var S=y(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return S.listeners={},S.on("error",x.error),S}return o(P,[{key:"emit",value:function(){x.log.apply(x,arguments),l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(O){for(var M=arguments.length,R=Array(M>1?M-1:0),A=1;A<M;A++)R[A-1]=arguments[A];(this.listeners[O.type]||[]).forEach(function(T){var I=T.node,D=T.handler;(O.target===I||I.contains(O.target))&&D.apply(void 0,[O].concat(R))})}},{key:"listenDOM",value:function(O,M,R){this.listeners[O]||(this.listeners[O]=[]),this.listeners[O].push({node:M,handler:R})}}]),P}(h.default);w.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},w.sources={API:"api",SILENT:"silent",USER:"user"},n.default=w},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});function o(u,h){if(!(u instanceof h))throw new TypeError("Cannot call a class as a function")}var l=function u(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,u),this.quill=h,this.options=d};l.DEFAULTS={},n.default=l},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=["error","warn","log","info"],l="warn";function u(d){if(o.indexOf(d)<=o.indexOf(l)){for(var g,m=arguments.length,f=Array(m>1?m-1:0),y=1;y<m;y++)f[y-1]=arguments[y];(g=console)[d].apply(g,f)}}function h(d){return o.reduce(function(g,m){return g[m]=u.bind(console,m,d),g},{})}u.level=h.level=function(d){l=d},n.default=h},function(t,n,i){var o=Array.prototype.slice,l=i(52),u=i(53),h=t.exports=function(f,y,b){return b||(b={}),f===y?!0:f instanceof Date&&y instanceof Date?f.getTime()===y.getTime():!f||!y||typeof f!="object"&&typeof y!="object"?b.strict?f===y:f==y:m(f,y,b)};function d(f){return f==null}function g(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function m(f,y,b){var x,C;if(d(f)||d(y)||f.prototype!==y.prototype)return!1;if(u(f))return u(y)?(f=o.call(f),y=o.call(y),h(f,y,b)):!1;if(g(f)){if(!g(y)||f.length!==y.length)return!1;for(x=0;x<f.length;x++)if(f[x]!==y[x])return!1;return!0}try{var w=l(f),E=l(y)}catch{return!1}if(w.length!=E.length)return!1;for(w.sort(),E.sort(),x=w.length-1;x>=0;x--)if(w[x]!=E[x])return!1;for(x=w.length-1;x>=0;x--)if(C=w[x],!h(f[C],y[C],b))return!1;return typeof f==typeof y}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(1),l=function(){function u(h,d,g){g===void 0&&(g={}),this.attrName=h,this.keyName=d;var m=o.Scope.TYPE&o.Scope.ATTRIBUTE;g.scope!=null?this.scope=g.scope&o.Scope.LEVEL|m:this.scope=o.Scope.ATTRIBUTE,g.whitelist!=null&&(this.whitelist=g.whitelist)}return u.keys=function(h){return[].map.call(h.attributes,function(d){return d.name})},u.prototype.add=function(h,d){return this.canAdd(h,d)?(h.setAttribute(this.keyName,d),!0):!1},u.prototype.canAdd=function(h,d){var g=o.query(h,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return g==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},u.prototype.remove=function(h){h.removeAttribute(this.keyName)},u.prototype.value=function(h){var d=h.getAttribute(this.keyName);return this.canAdd(h,d)&&d?d:""},u}();n.default=l},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var o=function(){function A(T,I){var D=[],N=!0,L=!1,U=void 0;try{for(var J=T[Symbol.iterator](),re;!(N=(re=J.next()).done)&&(D.push(re.value),!(I&&D.length===I));N=!0);}catch(Z){L=!0,U=Z}finally{try{!N&&J.return&&J.return()}finally{if(L)throw U}}return D}return function(T,I){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return A(T,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function A(T,I){for(var D=0;D<I.length;D++){var N=I[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,N.key,N)}}return function(T,I,D){return I&&A(T.prototype,I),D&&A(T,D),T}}(),u=function A(T,I,D){T===null&&(T=Function.prototype);var N=Object.getOwnPropertyDescriptor(T,I);if(N===void 0){var L=Object.getPrototypeOf(T);return L===null?void 0:A(L,I,D)}else{if("value"in N)return N.value;var U=N.get;return U===void 0?void 0:U.call(D)}},h=i(2),d=E(h),g=i(0),m=E(g),f=i(4),y=E(f),b=i(6),x=E(b),C=i(7),w=E(C);function E(A){return A&&A.__esModule?A:{default:A}}function P(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function S(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function O(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var M=function(A){O(T,A);function T(){return P(this,T),S(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return T}(x.default);M.blotName="code",M.tagName="CODE";var R=function(A){O(T,A);function T(){return P(this,T),S(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return l(T,[{key:"delta",value:function(){var D=this,N=this.domNode.textContent;return N.endsWith(`
`)&&(N=N.slice(0,-1)),N.split(`
`).reduce(function(L,U){return L.insert(U).insert(`
`,D.formats())},new d.default)}},{key:"format",value:function(D,N){if(!(D===this.statics.blotName&&N)){var L=this.descendant(w.default,this.length()-1),U=o(L,1),J=U[0];J!=null&&J.deleteAt(J.length()-1,1),u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,D,N)}}},{key:"formatAt",value:function(D,N,L,U){if(N!==0&&!(m.default.query(L,m.default.Scope.BLOCK)==null||L===this.statics.blotName&&U===this.statics.formats(this.domNode))){var J=this.newlineIndex(D);if(!(J<0||J>=D+N)){var re=this.newlineIndex(D,!0)+1,Z=J-re+1,ie=this.isolate(re,Z),G=ie.next;ie.format(L,U),G instanceof T&&G.formatAt(0,D-re+N-Z,L,U)}}}},{key:"insertAt",value:function(D,N,L){if(L==null){var U=this.descendant(w.default,D),J=o(U,2),re=J[0],Z=J[1];re.insertAt(Z,N)}}},{key:"length",value:function(){var D=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?D:D+1}},{key:"newlineIndex",value:function(D){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N)return this.domNode.textContent.slice(0,D).lastIndexOf(`
`);var L=this.domNode.textContent.slice(D).indexOf(`
`);return L>-1?D+L:-1}},{key:"optimize",value:function(D){this.domNode.textContent.endsWith(`
`)||this.appendChild(m.default.create("text",`
`)),u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,D);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===N.statics.formats(N.domNode)&&(N.optimize(D),N.moveChildren(this),N.remove())}},{key:"replace",value:function(D){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replace",this).call(this,D),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(N){var L=m.default.find(N);L==null?N.parentNode.removeChild(N):L instanceof m.default.Embed?L.remove():L.unwrap()})}}],[{key:"create",value:function(D){var N=u(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,D);return N.setAttribute("spellcheck",!1),N}},{key:"formats",value:function(){return!0}}]),T}(y.default);R.blotName="code-block",R.tagName="PRE",R.TAB="  ",n.Code=M,n.default=R},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},l=function(){function G(W,B){var V=[],H=!0,ne=!1,ee=void 0;try{for(var $=W[Symbol.iterator](),Y;!(H=(Y=$.next()).done)&&(V.push(Y.value),!(B&&V.length===B));H=!0);}catch(Q){ne=!0,ee=Q}finally{try{!H&&$.return&&$.return()}finally{if(ne)throw ee}}return V}return function(W,B){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return G(W,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function G(W,B){for(var V=0;V<B.length;V++){var H=B[V];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(W,H.key,H)}}return function(W,B,V){return B&&G(W.prototype,B),V&&G(W,V),W}}(),h=i(2),d=N(h),g=i(20),m=N(g),f=i(0),y=N(f),b=i(13),x=N(b),C=i(24),w=N(C),E=i(4),P=N(E),S=i(16),O=N(S),M=i(21),R=N(M),A=i(11),T=N(A),I=i(3),D=N(I);function N(G){return G&&G.__esModule?G:{default:G}}function L(G,W,B){return W in G?Object.defineProperty(G,W,{value:B,enumerable:!0,configurable:!0,writable:!0}):G[W]=B,G}function U(G,W){if(!(G instanceof W))throw new TypeError("Cannot call a class as a function")}var J=/^[ -~]*$/,re=function(){function G(W){U(this,G),this.scroll=W,this.delta=this.getDelta()}return u(G,[{key:"applyDelta",value:function(B){var V=this,H=!1;this.scroll.update();var ne=this.scroll.length();return this.scroll.batchStart(),B=ie(B),B.reduce(function(ee,$){var Y=$.retain||$.delete||$.insert.length||1,Q=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var te=$.insert;te.endsWith(`
`)&&H&&(H=!1,te=te.slice(0,-1)),ee>=ne&&!te.endsWith(`
`)&&(H=!0),V.scroll.insertAt(ee,te);var ae=V.scroll.line(ee),ge=l(ae,2),Ce=ge[0],Re=ge[1],Pe=(0,D.default)({},(0,E.bubbleFormats)(Ce));if(Ce instanceof P.default){var Ne=Ce.descendant(y.default.Leaf,Re),Fe=l(Ne,1),Xe=Fe[0];Pe=(0,D.default)(Pe,(0,E.bubbleFormats)(Xe))}Q=m.default.attributes.diff(Pe,Q)||{}}else if(o($.insert)==="object"){var ue=Object.keys($.insert)[0];if(ue==null)return ee;V.scroll.insertAt(ee,ue,$.insert[ue])}ne+=Y}return Object.keys(Q).forEach(function(fe){V.scroll.formatAt(ee,Y,fe,Q[fe])}),ee+Y},0),B.reduce(function(ee,$){return typeof $.delete=="number"?(V.scroll.deleteAt(ee,$.delete),ee):ee+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(B)}},{key:"deleteText",value:function(B,V){return this.scroll.deleteAt(B,V),this.update(new d.default().retain(B).delete(V))}},{key:"formatLine",value:function(B,V){var H=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ne).forEach(function(ee){if(!(H.scroll.whitelist!=null&&!H.scroll.whitelist[ee])){var $=H.scroll.lines(B,Math.max(V,1)),Y=V;$.forEach(function(Q){var te=Q.length();if(!(Q instanceof x.default))Q.format(ee,ne[ee]);else{var ae=B-Q.offset(H.scroll),ge=Q.newlineIndex(ae+Y)-ae+1;Q.formatAt(ae,ge,ee,ne[ee])}Y-=te})}}),this.scroll.optimize(),this.update(new d.default().retain(B).retain(V,(0,R.default)(ne)))}},{key:"formatText",value:function(B,V){var H=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ne).forEach(function(ee){H.scroll.formatAt(B,V,ee,ne[ee])}),this.update(new d.default().retain(B).retain(V,(0,R.default)(ne)))}},{key:"getContents",value:function(B,V){return this.delta.slice(B,B+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(B,V){return B.concat(V.delta())},new d.default)}},{key:"getFormat",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=[],ne=[];V===0?this.scroll.path(B).forEach(function($){var Y=l($,1),Q=Y[0];Q instanceof P.default?H.push(Q):Q instanceof y.default.Leaf&&ne.push(Q)}):(H=this.scroll.lines(B,V),ne=this.scroll.descendants(y.default.Leaf,B,V));var ee=[H,ne].map(function($){if($.length===0)return{};for(var Y=(0,E.bubbleFormats)($.shift());Object.keys(Y).length>0;){var Q=$.shift();if(Q==null)return Y;Y=Z((0,E.bubbleFormats)(Q),Y)}return Y});return D.default.apply(D.default,ee)}},{key:"getText",value:function(B,V){return this.getContents(B,V).filter(function(H){return typeof H.insert=="string"}).map(function(H){return H.insert}).join("")}},{key:"insertEmbed",value:function(B,V,H){return this.scroll.insertAt(B,V,H),this.update(new d.default().retain(B).insert(L({},V,H)))}},{key:"insertText",value:function(B,V){var H=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V=V.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(B,V),Object.keys(ne).forEach(function(ee){H.scroll.formatAt(B,V.length,ee,ne[ee])}),this.update(new d.default().retain(B).insert(V,(0,R.default)(ne)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var B=this.scroll.children.head;return B.statics.blotName!==P.default.blotName||B.children.length>1?!1:B.children.head instanceof O.default}},{key:"removeFormat",value:function(B,V){var H=this.getText(B,V),ne=this.scroll.line(B+V),ee=l(ne,2),$=ee[0],Y=ee[1],Q=0,te=new d.default;$!=null&&($ instanceof x.default?Q=$.newlineIndex(Y)-Y+1:Q=$.length()-Y,te=$.delta().slice(Y,Y+Q-1).insert(`
`));var ae=this.getContents(B,V+Q),ge=ae.diff(new d.default().insert(H).concat(te)),Ce=new d.default().retain(B).concat(ge);return this.applyDelta(Ce)}},{key:"update",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ne=this.delta;if(V.length===1&&V[0].type==="characterData"&&V[0].target.data.match(J)&&y.default.find(V[0].target)){var ee=y.default.find(V[0].target),$=(0,E.bubbleFormats)(ee),Y=ee.offset(this.scroll),Q=V[0].oldValue.replace(w.default.CONTENTS,""),te=new d.default().insert(Q),ae=new d.default().insert(ee.value()),ge=new d.default().retain(Y).concat(te.diff(ae,H));B=ge.reduce(function(Ce,Re){return Re.insert?Ce.insert(Re.insert,$):Ce.push(Re)},new d.default),this.delta=ne.compose(B)}else this.delta=this.getDelta(),(!B||!(0,T.default)(ne.compose(B),this.delta))&&(B=ne.diff(this.delta,H));return B}}]),G}();function Z(G,W){return Object.keys(W).reduce(function(B,V){return G[V]==null||(W[V]===G[V]?B[V]=W[V]:Array.isArray(W[V])?W[V].indexOf(G[V])<0&&(B[V]=W[V].concat([G[V]])):B[V]=[W[V],G[V]]),B},{})}function ie(G){return G.reduce(function(W,B){if(B.insert===1){var V=(0,R.default)(B.attributes);return delete V.image,W.insert({image:B.attributes.image},V)}if(B.attributes!=null&&(B.attributes.list===!0||B.attributes.bullet===!0)&&(B=(0,R.default)(B),B.attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var H=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(H,B.attributes)}return W.push(B)},new d.default)}n.default=re},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var o=function(){function A(T,I){var D=[],N=!0,L=!1,U=void 0;try{for(var J=T[Symbol.iterator](),re;!(N=(re=J.next()).done)&&(D.push(re.value),!(I&&D.length===I));N=!0);}catch(Z){L=!0,U=Z}finally{try{!N&&J.return&&J.return()}finally{if(L)throw U}}return D}return function(T,I){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return A(T,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function A(T,I){for(var D=0;D<I.length;D++){var N=I[D];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,N.key,N)}}return function(T,I,D){return I&&A(T.prototype,I),D&&A(T,D),T}}(),u=i(0),h=w(u),d=i(21),g=w(d),m=i(11),f=w(m),y=i(8),b=w(y),x=i(10),C=w(x);function w(A){return A&&A.__esModule?A:{default:A}}function E(A){if(Array.isArray(A)){for(var T=0,I=Array(A.length);T<A.length;T++)I[T]=A[T];return I}else return Array.from(A)}function P(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}var S=(0,C.default)("quill:selection"),O=function A(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;P(this,A),this.index=T,this.length=I},M=function(){function A(T,I){var D=this;P(this,A),this.emitter=I,this.scroll=T,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=h.default.create("cursor",this),this.lastRange=this.savedRange=new O(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){D.mouseDown||setTimeout(D.update.bind(D,b.default.sources.USER),1)}),this.emitter.on(b.default.events.EDITOR_CHANGE,function(N,L){N===b.default.events.TEXT_CHANGE&&L.length()>0&&D.update(b.default.sources.SILENT)}),this.emitter.on(b.default.events.SCROLL_BEFORE_UPDATE,function(){if(D.hasFocus()){var N=D.getNativeRange();N!=null&&N.start.node!==D.cursor.textNode&&D.emitter.once(b.default.events.SCROLL_UPDATE,function(){try{D.setNativeRange(N.start.node,N.start.offset,N.end.node,N.end.offset)}catch{}})}}),this.emitter.on(b.default.events.SCROLL_OPTIMIZE,function(N,L){if(L.range){var U=L.range,J=U.startNode,re=U.startOffset,Z=U.endNode,ie=U.endOffset;D.setNativeRange(J,re,Z,ie)}}),this.update(b.default.sources.SILENT)}return l(A,[{key:"handleComposition",value:function(){var I=this;this.root.addEventListener("compositionstart",function(){I.composing=!0}),this.root.addEventListener("compositionend",function(){if(I.composing=!1,I.cursor.parent){var D=I.cursor.restore();if(!D)return;setTimeout(function(){I.setNativeRange(D.startNode,D.startOffset,D.endNode,D.endOffset)},1)}})}},{key:"handleDragging",value:function(){var I=this;this.emitter.listenDOM("mousedown",document.body,function(){I.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){I.mouseDown=!1,I.update(b.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(I,D){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[I])){this.scroll.update();var N=this.getNativeRange();if(!(N==null||!N.native.collapsed||h.default.query(I,h.default.Scope.BLOCK))){if(N.start.node!==this.cursor.textNode){var L=h.default.find(N.start.node,!1);if(L==null)return;if(L instanceof h.default.Leaf){var U=L.split(N.start.offset);L.parent.insertBefore(this.cursor,U)}else L.insertBefore(this.cursor,N.start.node);this.cursor.attach()}this.cursor.format(I,D),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(I){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=this.scroll.length();I=Math.min(I,N-1),D=Math.min(I+D,N-1)-I;var L=void 0,U=this.scroll.leaf(I),J=o(U,2),re=J[0],Z=J[1];if(re==null)return null;var ie=re.position(Z,!0),G=o(ie,2);L=G[0],Z=G[1];var W=document.createRange();if(D>0){W.setStart(L,Z);var B=this.scroll.leaf(I+D),V=o(B,2);if(re=V[0],Z=V[1],re==null)return null;var H=re.position(Z,!0),ne=o(H,2);return L=ne[0],Z=ne[1],W.setEnd(L,Z),W.getBoundingClientRect()}else{var ee="left",$=void 0;return L instanceof Text?(Z<L.data.length?(W.setStart(L,Z),W.setEnd(L,Z+1)):(W.setStart(L,Z-1),W.setEnd(L,Z),ee="right"),$=W.getBoundingClientRect()):($=re.domNode.getBoundingClientRect(),Z>0&&(ee="right")),{bottom:$.top+$.height,height:$.height,left:$[ee],right:$[ee],top:$.top,width:0}}}},{key:"getNativeRange",value:function(){var I=document.getSelection();if(I==null||I.rangeCount<=0)return null;var D=I.getRangeAt(0);if(D==null)return null;var N=this.normalizeNative(D);return S.info("getNativeRange",N),N}},{key:"getRange",value:function(){var I=this.getNativeRange();if(I==null)return[null,null];var D=this.normalizedToRange(I);return[D,I]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(I){var D=this,N=[[I.start.node,I.start.offset]];I.native.collapsed||N.push([I.end.node,I.end.offset]);var L=N.map(function(re){var Z=o(re,2),ie=Z[0],G=Z[1],W=h.default.find(ie,!0),B=W.offset(D.scroll);return G===0?B:W instanceof h.default.Container?B+W.length():B+W.index(ie,G)}),U=Math.min(Math.max.apply(Math,E(L)),this.scroll.length()-1),J=Math.min.apply(Math,[U].concat(E(L)));return new O(J,U-J)}},{key:"normalizeNative",value:function(I){if(!R(this.root,I.startContainer)||!I.collapsed&&!R(this.root,I.endContainer))return null;var D={start:{node:I.startContainer,offset:I.startOffset},end:{node:I.endContainer,offset:I.endOffset},native:I};return[D.start,D.end].forEach(function(N){for(var L=N.node,U=N.offset;!(L instanceof Text)&&L.childNodes.length>0;)if(L.childNodes.length>U)L=L.childNodes[U],U=0;else if(L.childNodes.length===U)L=L.lastChild,U=L instanceof Text?L.data.length:L.childNodes.length+1;else break;N.node=L,N.offset=U}),D}},{key:"rangeToNative",value:function(I){var D=this,N=I.collapsed?[I.index]:[I.index,I.index+I.length],L=[],U=this.scroll.length();return N.forEach(function(J,re){J=Math.min(U-1,J);var Z=void 0,ie=D.scroll.leaf(J),G=o(ie,2),W=G[0],B=G[1],V=W.position(B,re!==0),H=o(V,2);Z=H[0],B=H[1],L.push(Z,B)}),L.length<2&&(L=L.concat(L)),L}},{key:"scrollIntoView",value:function(I){var D=this.lastRange;if(D!=null){var N=this.getBounds(D.index,D.length);if(N!=null){var L=this.scroll.length()-1,U=this.scroll.line(Math.min(D.index,L)),J=o(U,1),re=J[0],Z=re;if(D.length>0){var ie=this.scroll.line(Math.min(D.index+D.length,L)),G=o(ie,1);Z=G[0]}if(!(re==null||Z==null)){var W=I.getBoundingClientRect();N.top<W.top?I.scrollTop-=W.top-N.top:N.bottom>W.bottom&&(I.scrollTop+=N.bottom-W.bottom)}}}}},{key:"setNativeRange",value:function(I,D){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I,L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D,U=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(S.info("setNativeRange",I,D,N,L),!(I!=null&&(this.root.parentNode==null||I.parentNode==null||N.parentNode==null))){var J=document.getSelection();if(J!=null)if(I!=null){this.hasFocus()||this.root.focus();var re=(this.getNativeRange()||{}).native;if(re==null||U||I!==re.startContainer||D!==re.startOffset||N!==re.endContainer||L!==re.endOffset){I.tagName=="BR"&&(D=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode),N.tagName=="BR"&&(L=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode);var Z=document.createRange();Z.setStart(I,D),Z.setEnd(N,L),J.removeAllRanges(),J.addRange(Z)}}else J.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(I){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof D=="string"&&(N=D,D=!1),S.info("setRange",I),I!=null){var L=this.rangeToNative(I);this.setNativeRange.apply(this,E(L).concat([D]))}else this.setNativeRange(null);this.update(N)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b.default.sources.USER,D=this.lastRange,N=this.getRange(),L=o(N,2),U=L[0],J=L[1];if(this.lastRange=U,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(D,this.lastRange)){var re;!this.composing&&J!=null&&J.native.collapsed&&J.start.node!==this.cursor.textNode&&this.cursor.restore();var Z=[b.default.events.SELECTION_CHANGE,(0,g.default)(this.lastRange),(0,g.default)(D),I];if((re=this.emitter).emit.apply(re,[b.default.events.EDITOR_CHANGE].concat(Z)),I!==b.default.sources.SILENT){var ie;(ie=this.emitter).emit.apply(ie,Z)}}}}]),A}();function R(A,T){try{T.parentNode}catch{return!1}return T instanceof Text&&(T=T.parentNode),A.contains(T)}n.Range=O,n.default=M},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function b(x,C){for(var w=0;w<C.length;w++){var E=C[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,C,w){return C&&b(x.prototype,C),w&&b(x,w),x}}(),l=function b(x,C,w){x===null&&(x=Function.prototype);var E=Object.getOwnPropertyDescriptor(x,C);if(E===void 0){var P=Object.getPrototypeOf(x);return P===null?void 0:b(P,C,w)}else{if("value"in E)return E.value;var S=E.get;return S===void 0?void 0:S.call(w)}},u=i(0),h=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function g(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function m(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function f(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var y=function(b){f(x,b);function x(){return g(this,x),m(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,[{key:"insertInto",value:function(w,E){w.children.length===0?l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertInto",this).call(this,w,E):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),x}(h.default.Embed);y.blotName="break",y.tagName="BR",n.default=y},function(t,n,i){var o=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,y){f.__proto__=y}||function(f,y){for(var b in y)y.hasOwnProperty(b)&&(f[b]=y[b])};return function(f,y){m(f,y);function b(){this.constructor=f}f.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var l=i(44),u=i(30),h=i(1),d=function(m){o(f,m);function f(y){var b=m.call(this,y)||this;return b.build(),b}return f.prototype.appendChild=function(y){this.insertBefore(y)},f.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(y){y.attach()})},f.prototype.build=function(){var y=this;this.children=new l.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(b){try{var x=g(b);y.insertBefore(x,y.children.head||void 0)}catch(C){if(C instanceof h.ParchmentError)return;throw C}})},f.prototype.deleteAt=function(y,b){if(y===0&&b===this.length())return this.remove();this.children.forEachAt(y,b,function(x,C,w){x.deleteAt(C,w)})},f.prototype.descendant=function(y,b){var x=this.children.find(b),C=x[0],w=x[1];return y.blotName==null&&y(C)||y.blotName!=null&&C instanceof y?[C,w]:C instanceof f?C.descendant(y,w):[null,-1]},f.prototype.descendants=function(y,b,x){b===void 0&&(b=0),x===void 0&&(x=Number.MAX_VALUE);var C=[],w=x;return this.children.forEachAt(b,x,function(E,P,S){(y.blotName==null&&y(E)||y.blotName!=null&&E instanceof y)&&C.push(E),E instanceof f&&(C=C.concat(E.descendants(y,P,w))),w-=S}),C},f.prototype.detach=function(){this.children.forEach(function(y){y.detach()}),m.prototype.detach.call(this)},f.prototype.formatAt=function(y,b,x,C){this.children.forEachAt(y,b,function(w,E,P){w.formatAt(E,P,x,C)})},f.prototype.insertAt=function(y,b,x){var C=this.children.find(y),w=C[0],E=C[1];if(w)w.insertAt(E,b,x);else{var P=x==null?h.create("text",b):h.create(b,x);this.appendChild(P)}},f.prototype.insertBefore=function(y,b){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(x){return y instanceof x}))throw new h.ParchmentError("Cannot insert "+y.statics.blotName+" into "+this.statics.blotName);y.insertInto(this,b)},f.prototype.length=function(){return this.children.reduce(function(y,b){return y+b.length()},0)},f.prototype.moveChildren=function(y,b){this.children.forEach(function(x){y.insertBefore(x,b)})},f.prototype.optimize=function(y){if(m.prototype.optimize.call(this,y),this.children.length===0)if(this.statics.defaultChild!=null){var b=h.create(this.statics.defaultChild);this.appendChild(b),b.optimize(y)}else this.remove()},f.prototype.path=function(y,b){b===void 0&&(b=!1);var x=this.children.find(y,b),C=x[0],w=x[1],E=[[this,y]];return C instanceof f?E.concat(C.path(w,b)):(C!=null&&E.push([C,w]),E)},f.prototype.removeChild=function(y){this.children.remove(y)},f.prototype.replace=function(y){y instanceof f&&y.moveChildren(this),m.prototype.replace.call(this,y)},f.prototype.split=function(y,b){if(b===void 0&&(b=!1),!b){if(y===0)return this;if(y===this.length())return this.next}var x=this.clone();return this.parent.insertBefore(x,this.next),this.children.forEachAt(y,this.length(),function(C,w,E){C=C.split(w,b),x.appendChild(C)}),x},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(y,b){var x=this,C=[],w=[];y.forEach(function(E){E.target===x.domNode&&E.type==="childList"&&(C.push.apply(C,E.addedNodes),w.push.apply(w,E.removedNodes))}),w.forEach(function(E){if(!(E.parentNode!=null&&E.tagName!=="IFRAME"&&document.body.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var P=h.find(E);P!=null&&(P.domNode.parentNode==null||P.domNode.parentNode===x.domNode)&&P.detach()}}),C.filter(function(E){return E.parentNode==x.domNode}).sort(function(E,P){return E===P?0:E.compareDocumentPosition(P)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(E){var P=null;E.nextSibling!=null&&(P=h.find(E.nextSibling));var S=g(E);(S.next!=P||S.next==null)&&(S.parent!=null&&S.parent.removeChild(x),x.insertBefore(S,P||void 0))})},f}(u.default);function g(m){var f=h.find(m);if(f==null)try{f=h.create(m)}catch{f=h.create(h.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(b){f.domNode.appendChild(b)}),m.parentNode&&m.parentNode.replaceChild(f.domNode,m),f.attach()}return f}n.default=d},function(t,n,i){var o=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,y){f.__proto__=y}||function(f,y){for(var b in y)y.hasOwnProperty(b)&&(f[b]=y[b])};return function(f,y){m(f,y);function b(){this.constructor=f}f.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var l=i(12),u=i(31),h=i(17),d=i(1),g=function(m){o(f,m);function f(y){var b=m.call(this,y)||this;return b.attributes=new u.default(b.domNode),b}return f.formats=function(y){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return y.tagName.toLowerCase()},f.prototype.format=function(y,b){var x=d.query(y);x instanceof l.default?this.attributes.attribute(x,b):b&&x!=null&&(y!==this.statics.blotName||this.formats()[y]!==b)&&this.replaceWith(y,b)},f.prototype.formats=function(){var y=this.attributes.values(),b=this.statics.formats(this.domNode);return b!=null&&(y[this.statics.blotName]=b),y},f.prototype.replaceWith=function(y,b){var x=m.prototype.replaceWith.call(this,y,b);return this.attributes.copy(x),x},f.prototype.update=function(y,b){var x=this;m.prototype.update.call(this,y,b),y.some(function(C){return C.target===x.domNode&&C.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(y,b){var x=m.prototype.wrap.call(this,y,b);return x instanceof f&&x.statics.scope===this.statics.scope&&this.attributes.move(x),x},f}(h.default);n.default=g},function(t,n,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var f in m)m.hasOwnProperty(f)&&(g[f]=m[f])};return function(g,m){d(g,m);function f(){this.constructor=g}g.prototype=m===null?Object.create(m):(f.prototype=m.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var l=i(30),u=i(1),h=function(d){o(g,d);function g(){return d!==null&&d.apply(this,arguments)||this}return g.value=function(m){return!0},g.prototype.index=function(m,f){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},g.prototype.position=function(m,f){var y=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(y+=1),[this.parent.domNode,y]},g.prototype.value=function(){var m;return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m},g.scope=u.Scope.INLINE_BLOT,g}(l.default);n.default=h},function(t,n,i){var o=i(11),l=i(3),u={attributes:{compose:function(d,g,m){typeof d!="object"&&(d={}),typeof g!="object"&&(g={});var f=l(!0,{},g);m||(f=Object.keys(f).reduce(function(b,x){return f[x]!=null&&(b[x]=f[x]),b},{}));for(var y in d)d[y]!==void 0&&g[y]===void 0&&(f[y]=d[y]);return Object.keys(f).length>0?f:void 0},diff:function(d,g){typeof d!="object"&&(d={}),typeof g!="object"&&(g={});var m=Object.keys(d).concat(Object.keys(g)).reduce(function(f,y){return o(d[y],g[y])||(f[y]=g[y]===void 0?null:g[y]),f},{});return Object.keys(m).length>0?m:void 0},transform:function(d,g,m){if(typeof d!="object")return g;if(typeof g=="object"){if(!m)return g;var f=Object.keys(g).reduce(function(y,b){return d[b]===void 0&&(y[b]=g[b]),y},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(d){return new h(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function h(d){this.ops=d,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(d){d||(d=1/0);var g=this.ops[this.index];if(g){var m=this.offset,f=u.length(g);if(d>=f-m?(d=f-m,this.index+=1,this.offset=0):this.offset+=d,typeof g.delete=="number")return{delete:d};var y={};return g.attributes&&(y.attributes=g.attributes),typeof g.retain=="number"?y.retain=d:typeof g.insert=="string"?y.insert=g.insert.substr(m,d):y.insert=g.insert,y}else return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?u.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,g=this.index,m=this.next(),f=this.ops.slice(this.index);return this.offset=d,this.index=g,[m].concat(f)}else return[]},t.exports=u},function(t,n){var i=function(){function o(x,C){return C!=null&&x instanceof C}var l;try{l=Map}catch{l=function(){}}var u;try{u=Set}catch{u=function(){}}var h;try{h=Promise}catch{h=function(){}}function d(x,C,w,E,P){typeof C=="object"&&(w=C.depth,E=C.prototype,P=C.includeNonEnumerable,C=C.circular);var S=[],O=[],M=typeof Buffer<"u";typeof C>"u"&&(C=!0),typeof w>"u"&&(w=1/0);function R(A,T){if(A===null)return null;if(T===0)return A;var I,D;if(typeof A!="object")return A;if(o(A,l))I=new l;else if(o(A,u))I=new u;else if(o(A,h))I=new h(function(W,B){A.then(function(V){W(R(V,T-1))},function(V){B(R(V,T-1))})});else if(d.__isArray(A))I=[];else if(d.__isRegExp(A))I=new RegExp(A.source,b(A)),A.lastIndex&&(I.lastIndex=A.lastIndex);else if(d.__isDate(A))I=new Date(A.getTime());else{if(M&&Buffer.isBuffer(A))return Buffer.allocUnsafe?I=Buffer.allocUnsafe(A.length):I=new Buffer(A.length),A.copy(I),I;o(A,Error)?I=Object.create(A):typeof E>"u"?(D=Object.getPrototypeOf(A),I=Object.create(D)):(I=Object.create(E),D=E)}if(C){var N=S.indexOf(A);if(N!=-1)return O[N];S.push(A),O.push(I)}o(A,l)&&A.forEach(function(W,B){var V=R(B,T-1),H=R(W,T-1);I.set(V,H)}),o(A,u)&&A.forEach(function(W){var B=R(W,T-1);I.add(B)});for(var L in A){var U;D&&(U=Object.getOwnPropertyDescriptor(D,L)),!(U&&U.set==null)&&(I[L]=R(A[L],T-1))}if(Object.getOwnPropertySymbols)for(var J=Object.getOwnPropertySymbols(A),L=0;L<J.length;L++){var re=J[L],Z=Object.getOwnPropertyDescriptor(A,re);Z&&!Z.enumerable&&!P||(I[re]=R(A[re],T-1),Z.enumerable||Object.defineProperty(I,re,{enumerable:!1}))}if(P)for(var ie=Object.getOwnPropertyNames(A),L=0;L<ie.length;L++){var G=ie[L],Z=Object.getOwnPropertyDescriptor(A,G);Z&&Z.enumerable||(I[G]=R(A[G],T-1),Object.defineProperty(I,G,{enumerable:!1}))}return I}return R(x,w)}d.clonePrototype=function(C){if(C===null)return null;var w=function(){};return w.prototype=C,new w};function g(x){return Object.prototype.toString.call(x)}d.__objToStr=g;function m(x){return typeof x=="object"&&g(x)==="[object Date]"}d.__isDate=m;function f(x){return typeof x=="object"&&g(x)==="[object Array]"}d.__isArray=f;function y(x){return typeof x=="object"&&g(x)==="[object RegExp]"}d.__isRegExp=y;function b(x){var C="";return x.global&&(C+="g"),x.ignoreCase&&(C+="i"),x.multiline&&(C+="m"),C}return d.__getRegExpFlags=b,d}();typeof t=="object"&&t.exports&&(t.exports=i)},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function I(D,N){var L=[],U=!0,J=!1,re=void 0;try{for(var Z=D[Symbol.iterator](),ie;!(U=(ie=Z.next()).done)&&(L.push(ie.value),!(N&&L.length===N));U=!0);}catch(G){J=!0,re=G}finally{try{!U&&Z.return&&Z.return()}finally{if(J)throw re}}return L}return function(D,N){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return I(D,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function I(D,N){for(var L=0;L<N.length;L++){var U=N[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,U.key,U)}}return function(D,N,L){return N&&I(D.prototype,N),L&&I(D,L),D}}(),u=function I(D,N,L){D===null&&(D=Function.prototype);var U=Object.getOwnPropertyDescriptor(D,N);if(U===void 0){var J=Object.getPrototypeOf(D);return J===null?void 0:I(J,N,L)}else{if("value"in U)return U.value;var re=U.get;return re===void 0?void 0:re.call(L)}},h=i(0),d=S(h),g=i(8),m=S(g),f=i(4),y=S(f),b=i(16),x=S(b),C=i(13),w=S(C),E=i(25),P=S(E);function S(I){return I&&I.__esModule?I:{default:I}}function O(I,D){if(!(I instanceof D))throw new TypeError("Cannot call a class as a function")}function M(I,D){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:I}function R(I,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);I.prototype=Object.create(D&&D.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(I,D):I.__proto__=D)}function A(I){return I instanceof y.default||I instanceof f.BlockEmbed}var T=function(I){R(D,I);function D(N,L){O(this,D);var U=M(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N));return U.emitter=L.emitter,Array.isArray(L.whitelist)&&(U.whitelist=L.whitelist.reduce(function(J,re){return J[re]=!0,J},{})),U.domNode.addEventListener("DOMNodeInserted",function(){}),U.optimize(),U.enable(),U}return l(D,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(L,U){var J=this.line(L),re=o(J,2),Z=re[0],ie=re[1],G=this.line(L+U),W=o(G,1),B=W[0];if(u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"deleteAt",this).call(this,L,U),B!=null&&Z!==B&&ie>0){if(Z instanceof f.BlockEmbed||B instanceof f.BlockEmbed){this.optimize();return}if(Z instanceof w.default){var V=Z.newlineIndex(Z.length(),!0);if(V>-1&&(Z=Z.split(V+1),Z===B)){this.optimize();return}}else if(B instanceof w.default){var H=B.newlineIndex(0);H>-1&&B.split(H+1)}var ne=B.children.head instanceof x.default?null:B.children.head;Z.moveChildren(B,ne),Z.remove()}this.optimize()}},{key:"enable",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",L)}},{key:"formatAt",value:function(L,U,J,re){this.whitelist!=null&&!this.whitelist[J]||(u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"formatAt",this).call(this,L,U,J,re),this.optimize())}},{key:"insertAt",value:function(L,U,J){if(!(J!=null&&this.whitelist!=null&&!this.whitelist[U])){if(L>=this.length())if(J==null||d.default.query(U,d.default.Scope.BLOCK)==null){var re=d.default.create(this.statics.defaultChild);this.appendChild(re),J==null&&U.endsWith(`
`)&&(U=U.slice(0,-1)),re.insertAt(0,U,J)}else{var Z=d.default.create(U,J);this.appendChild(Z)}else u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertAt",this).call(this,L,U,J);this.optimize()}}},{key:"insertBefore",value:function(L,U){if(L.statics.scope===d.default.Scope.INLINE_BLOT){var J=d.default.create(this.statics.defaultChild);J.appendChild(L),L=J}u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,L,U)}},{key:"leaf",value:function(L){return this.path(L).pop()||[null,-1]}},{key:"line",value:function(L){return L===this.length()?this.line(L-1):this.descendant(A,L)}},{key:"lines",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,J=function re(Z,ie,G){var W=[],B=G;return Z.children.forEachAt(ie,G,function(V,H,ne){A(V)?W.push(V):V instanceof d.default.Container&&(W=W.concat(re(V,H,B))),B-=ne}),W};return J(this,L,U)}},{key:"optimize",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,L,U),L.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,L,U))}},{key:"path",value:function(L){return u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"path",this).call(this,L).slice(1)}},{key:"update",value:function(L){if(this.batch!==!0){var U=m.default.sources.USER;typeof L=="string"&&(U=L),Array.isArray(L)||(L=this.observer.takeRecords()),L.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,U,L),u(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"update",this).call(this,L.concat([])),L.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,U,L)}}}]),D}(d.default.Scroll);T.blotName="scroll",T.className="ql-editor",T.tagName="DIV",T.defaultChild="block",T.allowedChildren=[y.default,f.BlockEmbed,P.default],n.default=T},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},l=function(){function $(Y,Q){var te=[],ae=!0,ge=!1,Ce=void 0;try{for(var Re=Y[Symbol.iterator](),Pe;!(ae=(Pe=Re.next()).done)&&(te.push(Pe.value),!(Q&&te.length===Q));ae=!0);}catch(Ne){ge=!0,Ce=Ne}finally{try{!ae&&Re.return&&Re.return()}finally{if(ge)throw Ce}}return te}return function(Y,Q){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return $(Y,Q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function $(Y,Q){for(var te=0;te<Q.length;te++){var ae=Q[te];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(Y,ae.key,ae)}}return function(Y,Q,te){return Q&&$(Y.prototype,Q),te&&$(Y,te),Y}}(),h=i(21),d=I(h),g=i(11),m=I(g),f=i(3),y=I(f),b=i(2),x=I(b),C=i(20),w=I(C),E=i(0),P=I(E),S=i(5),O=I(S),M=i(10),R=I(M),A=i(9),T=I(A);function I($){return $&&$.__esModule?$:{default:$}}function D($,Y,Q){return Y in $?Object.defineProperty($,Y,{value:Q,enumerable:!0,configurable:!0,writable:!0}):$[Y]=Q,$}function N($,Y){if(!($ instanceof Y))throw new TypeError("Cannot call a class as a function")}function L($,Y){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:$}function U($,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);$.prototype=Object.create(Y&&Y.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf($,Y):$.__proto__=Y)}var J=(0,R.default)("quill:keyboard"),re=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Z=function($){U(Y,$),u(Y,null,[{key:"match",value:function(te,ae){return ae=ee(ae),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ge){return!!ae[ge]!==te[ge]&&ae[ge]!==null})?!1:ae.key===(te.which||te.keyCode)}}]);function Y(Q,te){N(this,Y);var ae=L(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,Q,te));return ae.bindings={},Object.keys(ae.options.bindings).forEach(function(ge){ge==="list autofill"&&Q.scroll.whitelist!=null&&!Q.scroll.whitelist.list||ae.options.bindings[ge]&&ae.addBinding(ae.options.bindings[ge])}),ae.addBinding({key:Y.keys.ENTER,shiftKey:null},V),ae.addBinding({key:Y.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ae.addBinding({key:Y.keys.BACKSPACE},{collapsed:!0},G),ae.addBinding({key:Y.keys.DELETE},{collapsed:!0},W)):(ae.addBinding({key:Y.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},G),ae.addBinding({key:Y.keys.DELETE},{collapsed:!0,suffix:/^.?$/},W)),ae.addBinding({key:Y.keys.BACKSPACE},{collapsed:!1},B),ae.addBinding({key:Y.keys.DELETE},{collapsed:!1},B),ae.addBinding({key:Y.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},G),ae.listen(),ae}return u(Y,[{key:"addBinding",value:function(te){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ce=ee(te);if(Ce==null||Ce.key==null)return J.warn("Attempted to add invalid keyboard binding",Ce);typeof ae=="function"&&(ae={handler:ae}),typeof ge=="function"&&(ge={handler:ge}),Ce=(0,y.default)(Ce,ae,ge),this.bindings[Ce.key]=this.bindings[Ce.key]||[],this.bindings[Ce.key].push(Ce)}},{key:"listen",value:function(){var te=this;this.quill.root.addEventListener("keydown",function(ae){if(!ae.defaultPrevented){var ge=ae.which||ae.keyCode,Ce=(te.bindings[ge]||[]).filter(function(vt){return Y.match(ae,vt)});if(Ce.length!==0){var Re=te.quill.getSelection();if(!(Re==null||!te.quill.hasFocus())){var Pe=te.quill.getLine(Re.index),Ne=l(Pe,2),Fe=Ne[0],Xe=Ne[1],ue=te.quill.getLeaf(Re.index),fe=l(ue,2),Ee=fe[0],Te=fe[1],ye=Re.length===0?[Ee,Te]:te.quill.getLeaf(Re.index+Re.length),$e=l(ye,2),Le=$e[0],ze=$e[1],Ke=Ee instanceof P.default.Text?Ee.value().slice(0,Te):"",rt=Le instanceof P.default.Text?Le.value().slice(ze):"",st={collapsed:Re.length===0,empty:Re.length===0&&Fe.length()<=1,format:te.quill.getFormat(Re),offset:Xe,prefix:Ke,suffix:rt},Gn=Ce.some(function(vt){if(vt.collapsed!=null&&vt.collapsed!==st.collapsed||vt.empty!=null&&vt.empty!==st.empty||vt.offset!=null&&vt.offset!==st.offset)return!1;if(Array.isArray(vt.format)){if(vt.format.every(function(kt){return st.format[kt]==null}))return!1}else if(o(vt.format)==="object"&&!Object.keys(vt.format).every(function(kt){return vt.format[kt]===!0?st.format[kt]!=null:vt.format[kt]===!1?st.format[kt]==null:(0,m.default)(vt.format[kt],st.format[kt])}))return!1;return vt.prefix!=null&&!vt.prefix.test(st.prefix)||vt.suffix!=null&&!vt.suffix.test(st.suffix)?!1:vt.handler.call(te,Re,st)!==!0});Gn&&ae.preventDefault()}}}})}}]),Y}(T.default);Z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Z.DEFAULTS={bindings:{bold:ne("bold"),italic:ne("italic"),underline:ne("underline"),indent:{key:Z.keys.TAB,format:["blockquote","indent","list"],handler:function(Y,Q){if(Q.collapsed&&Q.offset!==0)return!0;this.quill.format("indent","+1",O.default.sources.USER)}},outdent:{key:Z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Y,Q){if(Q.collapsed&&Q.offset!==0)return!0;this.quill.format("indent","-1",O.default.sources.USER)}},"outdent backspace":{key:Z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Y,Q){Q.format.indent!=null?this.quill.format("indent","-1",O.default.sources.USER):Q.format.list!=null&&this.quill.format("list",!1,O.default.sources.USER)}},"indent code-block":H(!0),"outdent code-block":H(!1),"remove tab":{key:Z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Y){this.quill.deleteText(Y.index-1,1,O.default.sources.USER)}},tab:{key:Z.keys.TAB,handler:function(Y){this.quill.history.cutoff();var Q=new x.default().retain(Y.index).delete(Y.length).insert("	");this.quill.updateContents(Q,O.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Y.index+1,O.default.sources.SILENT)}},"list empty enter":{key:Z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Y,Q){this.quill.format("list",!1,O.default.sources.USER),Q.format.indent&&this.quill.format("indent",!1,O.default.sources.USER)}},"checklist enter":{key:Z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Y){var Q=this.quill.getLine(Y.index),te=l(Q,2),ae=te[0],ge=te[1],Ce=(0,y.default)({},ae.formats(),{list:"checked"}),Re=new x.default().retain(Y.index).insert(`
`,Ce).retain(ae.length()-ge-1).retain(1,{list:"unchecked"});this.quill.updateContents(Re,O.default.sources.USER),this.quill.setSelection(Y.index+1,O.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Y,Q){var te=this.quill.getLine(Y.index),ae=l(te,2),ge=ae[0],Ce=ae[1],Re=new x.default().retain(Y.index).insert(`
`,Q.format).retain(ge.length()-Ce-1).retain(1,{header:null});this.quill.updateContents(Re,O.default.sources.USER),this.quill.setSelection(Y.index+1,O.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Y,Q){var te=Q.prefix.length,ae=this.quill.getLine(Y.index),ge=l(ae,2),Ce=ge[0],Re=ge[1];if(Re>te)return!0;var Pe=void 0;switch(Q.prefix.trim()){case"[]":case"[ ]":Pe="unchecked";break;case"[x]":Pe="checked";break;case"-":case"*":Pe="bullet";break;default:Pe="ordered"}this.quill.insertText(Y.index," ",O.default.sources.USER),this.quill.history.cutoff();var Ne=new x.default().retain(Y.index-Re).delete(te+1).retain(Ce.length()-2-Re).retain(1,{list:Pe});this.quill.updateContents(Ne,O.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Y.index-te,O.default.sources.SILENT)}},"code exit":{key:Z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Y){var Q=this.quill.getLine(Y.index),te=l(Q,2),ae=te[0],ge=te[1],Ce=new x.default().retain(Y.index+ae.length()-ge-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Ce,O.default.sources.USER)}},"embed left":ie(Z.keys.LEFT,!1),"embed left shift":ie(Z.keys.LEFT,!0),"embed right":ie(Z.keys.RIGHT,!1),"embed right shift":ie(Z.keys.RIGHT,!0)}};function ie($,Y){var Q,te=$===Z.keys.LEFT?"prefix":"suffix";return Q={key:$,shiftKey:Y,altKey:null},D(Q,te,/^$/),D(Q,"handler",function(ge){var Ce=ge.index;$===Z.keys.RIGHT&&(Ce+=ge.length+1);var Re=this.quill.getLeaf(Ce),Pe=l(Re,1),Ne=Pe[0];return Ne instanceof P.default.Embed?($===Z.keys.LEFT?Y?this.quill.setSelection(ge.index-1,ge.length+1,O.default.sources.USER):this.quill.setSelection(ge.index-1,O.default.sources.USER):Y?this.quill.setSelection(ge.index,ge.length+1,O.default.sources.USER):this.quill.setSelection(ge.index+ge.length+1,O.default.sources.USER),!1):!0}),Q}function G($,Y){if(!($.index===0||this.quill.getLength()<=1)){var Q=this.quill.getLine($.index),te=l(Q,1),ae=te[0],ge={};if(Y.offset===0){var Ce=this.quill.getLine($.index-1),Re=l(Ce,1),Pe=Re[0];if(Pe!=null&&Pe.length()>1){var Ne=ae.formats(),Fe=this.quill.getFormat($.index-1,1);ge=w.default.attributes.diff(Ne,Fe)||{}}}var Xe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Y.prefix)?2:1;this.quill.deleteText($.index-Xe,Xe,O.default.sources.USER),Object.keys(ge).length>0&&this.quill.formatLine($.index-Xe,Xe,ge,O.default.sources.USER),this.quill.focus()}}function W($,Y){var Q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Y.suffix)?2:1;if(!($.index>=this.quill.getLength()-Q)){var te={},ae=0,ge=this.quill.getLine($.index),Ce=l(ge,1),Re=Ce[0];if(Y.offset>=Re.length()-1){var Pe=this.quill.getLine($.index+1),Ne=l(Pe,1),Fe=Ne[0];if(Fe){var Xe=Re.formats(),ue=this.quill.getFormat($.index,1);te=w.default.attributes.diff(Xe,ue)||{},ae=Fe.length()}}this.quill.deleteText($.index,Q,O.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine($.index+ae-1,Q,te,O.default.sources.USER)}}function B($){var Y=this.quill.getLines($),Q={};if(Y.length>1){var te=Y[0].formats(),ae=Y[Y.length-1].formats();Q=w.default.attributes.diff(ae,te)||{}}this.quill.deleteText($,O.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine($.index,1,Q,O.default.sources.USER),this.quill.setSelection($.index,O.default.sources.SILENT),this.quill.focus()}function V($,Y){var Q=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var te=Object.keys(Y.format).reduce(function(ae,ge){return P.default.query(ge,P.default.Scope.BLOCK)&&!Array.isArray(Y.format[ge])&&(ae[ge]=Y.format[ge]),ae},{});this.quill.insertText($.index,`
`,te,O.default.sources.USER),this.quill.setSelection($.index+1,O.default.sources.SILENT),this.quill.focus(),Object.keys(Y.format).forEach(function(ae){te[ae]==null&&(Array.isArray(Y.format[ae])||ae!=="link"&&Q.quill.format(ae,Y.format[ae],O.default.sources.USER))})}function H($){return{key:Z.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(Q){var te=P.default.query("code-block"),ae=Q.index,ge=Q.length,Ce=this.quill.scroll.descendant(te,ae),Re=l(Ce,2),Pe=Re[0],Ne=Re[1];if(Pe!=null){var Fe=this.quill.getIndex(Pe),Xe=Pe.newlineIndex(Ne,!0)+1,ue=Pe.newlineIndex(Fe+Ne+ge),fe=Pe.domNode.textContent.slice(Xe,ue).split(`
`);Ne=0,fe.forEach(function(Ee,Te){$?(Pe.insertAt(Xe+Ne,te.TAB),Ne+=te.TAB.length,Te===0?ae+=te.TAB.length:ge+=te.TAB.length):Ee.startsWith(te.TAB)&&(Pe.deleteAt(Xe+Ne,te.TAB.length),Ne-=te.TAB.length,Te===0?ae-=te.TAB.length:ge-=te.TAB.length),Ne+=Ee.length+1}),this.quill.update(O.default.sources.USER),this.quill.setSelection(ae,ge,O.default.sources.SILENT)}}}}function ne($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(Q,te){this.quill.format($,!te.format[$],O.default.sources.USER)}}}function ee($){if(typeof $=="string"||typeof $=="number")return ee({key:$});if((typeof $>"u"?"undefined":o($))==="object"&&($=(0,d.default)($,!1)),typeof $.key=="string")if(Z.keys[$.key.toUpperCase()]!=null)$.key=Z.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[re]=$.shortKey,delete $.shortKey),$}n.default=Z,n.SHORTKEY=re},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function w(E,P){var S=[],O=!0,M=!1,R=void 0;try{for(var A=E[Symbol.iterator](),T;!(O=(T=A.next()).done)&&(S.push(T.value),!(P&&S.length===P));O=!0);}catch(I){M=!0,R=I}finally{try{!O&&A.return&&A.return()}finally{if(M)throw R}}return S}return function(E,P){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return w(E,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function w(E,P,S){E===null&&(E=Function.prototype);var O=Object.getOwnPropertyDescriptor(E,P);if(O===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:w(M,P,S)}else{if("value"in O)return O.value;var R=O.get;return R===void 0?void 0:R.call(S)}},u=function(){function w(E,P){for(var S=0;S<P.length;S++){var O=P[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}return function(E,P,S){return P&&w(E.prototype,P),S&&w(E,S),E}}(),h=i(0),d=f(h),g=i(7),m=f(g);function f(w){return w&&w.__esModule?w:{default:w}}function y(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function b(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function x(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var C=function(w){x(E,w),u(E,null,[{key:"value",value:function(){}}]);function E(P,S){y(this,E);var O=b(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,P));return O.selection=S,O.textNode=document.createTextNode(E.CONTENTS),O.domNode.appendChild(O.textNode),O._length=0,O}return u(E,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(S,O){if(this._length!==0)return l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,S,O);for(var M=this,R=0;M!=null&&M.statics.scope!==d.default.Scope.BLOCK_BLOT;)R+=M.offset(M.parent),M=M.parent;M!=null&&(this._length=E.CONTENTS.length,M.optimize(),M.formatAt(R,E.CONTENTS.length,S,O),this._length=0)}},{key:"index",value:function(S,O){return S===this.textNode?0:l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"index",this).call(this,S,O)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var S=this.textNode,O=this.selection.getNativeRange(),M=void 0,R=void 0,A=void 0;if(O!=null&&O.start.node===S&&O.end.node===S){var T=[S,O.start.offset,O.end.offset];M=T[0],R=T[1],A=T[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==E.CONTENTS){var I=this.textNode.data.split(E.CONTENTS).join("");this.next instanceof m.default?(M=this.next.domNode,this.next.insertAt(0,I),this.textNode.data=E.CONTENTS):(this.textNode.data=I,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(E.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),R!=null){var D=[R,A].map(function(L){return Math.max(0,Math.min(M.data.length,L-1))}),N=o(D,2);return R=N[0],A=N[1],{startNode:M,startOffset:R,endNode:M,endOffset:A}}}}},{key:"update",value:function(S,O){var M=this;if(S.some(function(A){return A.type==="characterData"&&A.target===M.textNode})){var R=this.restore();R&&(O.range=R)}}},{key:"value",value:function(){return""}}]),E}(d.default.Embed);C.blotName="cursor",C.className="ql-cursor",C.tagName="span",C.CONTENTS="\uFEFF",n.default=C},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),l=d(o),u=i(4),h=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function g(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function m(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function f(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var y=function(b){f(x,b);function x(){return g(this,x),m(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return x}(l.default.Container);y.allowedChildren=[h.default,u.BlockEmbed,y],n.default=y},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var o=function(){function C(w,E){for(var P=0;P<E.length;P++){var S=E[P];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,E,P){return E&&C(w.prototype,E),P&&C(w,P),w}}(),l=function C(w,E,P){w===null&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,E);if(S===void 0){var O=Object.getPrototypeOf(w);return O===null?void 0:C(O,E,P)}else{if("value"in S)return S.value;var M=S.get;return M===void 0?void 0:M.call(P)}},u=i(0),h=d(u);function d(C){return C&&C.__esModule?C:{default:C}}function g(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}function m(C,w){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:C}function f(C,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);C.prototype=Object.create(w&&w.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(C,w):C.__proto__=w)}var y=function(C){f(w,C);function w(){return g(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"value",value:function(P){var S=l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,P);return S.startsWith("rgb(")?(S=S.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+S.split(",").map(function(O){return("00"+parseInt(O).toString(16)).slice(-2)}).join("")):S}}]),w}(h.default.Attributor.Style),b=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),x=new y("color","color",{scope:h.default.Scope.INLINE});n.ColorAttributor=y,n.ColorClass=b,n.ColorStyle=x},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var o=function(){function x(C,w){for(var E=0;E<w.length;E++){var P=w[E];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}return function(C,w,E){return w&&x(C.prototype,w),E&&x(C,E),C}}(),l=function x(C,w,E){C===null&&(C=Function.prototype);var P=Object.getOwnPropertyDescriptor(C,w);if(P===void 0){var S=Object.getPrototypeOf(C);return S===null?void 0:x(S,w,E)}else{if("value"in P)return P.value;var O=P.get;return O===void 0?void 0:O.call(E)}},u=i(6),h=d(u);function d(x){return x&&x.__esModule?x:{default:x}}function g(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")}function m(x,C){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:x}function f(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);x.prototype=Object.create(C&&C.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(x,C):x.__proto__=C)}var y=function(x){f(C,x);function C(){return g(this,C),m(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return o(C,[{key:"format",value:function(E,P){if(E!==this.statics.blotName||!P)return l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,E,P);P=this.constructor.sanitize(P),this.domNode.setAttribute("href",P)}}],[{key:"create",value:function(E){var P=l(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,E);return E=this.sanitize(E),P.setAttribute("href",E),P.setAttribute("rel","noopener noreferrer"),P.setAttribute("target","_blank"),P}},{key:"formats",value:function(E){return E.getAttribute("href")}},{key:"sanitize",value:function(E){return b(E,this.PROTOCOL_WHITELIST)?E:this.SANITIZED_URL}}]),C}(h.default);y.blotName="link",y.tagName="A",y.SANITIZED_URL="about:blank",y.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function b(x,C){var w=document.createElement("a");w.href=x;var E=w.href.slice(0,w.href.indexOf(":"));return C.indexOf(E)>-1}n.default=y,n.sanitize=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},l=function(){function C(w,E){for(var P=0;P<E.length;P++){var S=E[P];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,E,P){return E&&C(w.prototype,E),P&&C(w,P),w}}(),u=i(23),h=m(u),d=i(107),g=m(d);function m(C){return C&&C.__esModule?C:{default:C}}function f(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}var y=0;function b(C,w){C.setAttribute(w,C.getAttribute(w)!=="true")}var x=function(){function C(w){var E=this;f(this,C),this.select=w,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){E.togglePicker()}),this.label.addEventListener("keydown",function(P){switch(P.keyCode){case h.default.keys.ENTER:E.togglePicker();break;case h.default.keys.ESCAPE:E.escape(),P.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return l(C,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),b(this.label,"aria-expanded"),b(this.options,"aria-hidden")}},{key:"buildItem",value:function(E){var P=this,S=document.createElement("span");return S.tabIndex="0",S.setAttribute("role","button"),S.classList.add("ql-picker-item"),E.hasAttribute("value")&&S.setAttribute("data-value",E.getAttribute("value")),E.textContent&&S.setAttribute("data-label",E.textContent),S.addEventListener("click",function(){P.selectItem(S,!0)}),S.addEventListener("keydown",function(O){switch(O.keyCode){case h.default.keys.ENTER:P.selectItem(S,!0),O.preventDefault();break;case h.default.keys.ESCAPE:P.escape(),O.preventDefault();break}}),S}},{key:"buildLabel",value:function(){var E=document.createElement("span");return E.classList.add("ql-picker-label"),E.innerHTML=g.default,E.tabIndex="0",E.setAttribute("role","button"),E.setAttribute("aria-expanded","false"),this.container.appendChild(E),E}},{key:"buildOptions",value:function(){var E=this,P=document.createElement("span");P.classList.add("ql-picker-options"),P.setAttribute("aria-hidden","true"),P.tabIndex="-1",P.id="ql-picker-options-"+y,y+=1,this.label.setAttribute("aria-controls",P.id),this.options=P,[].slice.call(this.select.options).forEach(function(S){var O=E.buildItem(S);P.appendChild(O),S.selected===!0&&E.selectItem(O)}),this.container.appendChild(P)}},{key:"buildPicker",value:function(){var E=this;[].slice.call(this.select.attributes).forEach(function(P){E.container.setAttribute(P.name,P.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var E=this;this.close(),setTimeout(function(){return E.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(E){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=this.container.querySelector(".ql-selected");if(E!==S&&(S!=null&&S.classList.remove("ql-selected"),E!=null&&(E.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(E.parentNode.children,E),E.hasAttribute("data-value")?this.label.setAttribute("data-value",E.getAttribute("data-value")):this.label.removeAttribute("data-value"),E.hasAttribute("data-label")?this.label.setAttribute("data-label",E.getAttribute("data-label")):this.label.removeAttribute("data-label"),P))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var O=document.createEvent("Event");O.initEvent("change",!0,!0),this.select.dispatchEvent(O)}this.close()}}},{key:"update",value:function(){var E=void 0;if(this.select.selectedIndex>-1){var P=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];E=this.select.options[this.select.selectedIndex],this.selectItem(P)}else this.selectItem(null);var S=E!=null&&E!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",S)}}]),C}();n.default=x},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),l=J(o),u=i(5),h=J(u),d=i(4),g=J(d),m=i(16),f=J(m),y=i(25),b=J(y),x=i(24),C=J(x),w=i(35),E=J(w),P=i(6),S=J(P),O=i(22),M=J(O),R=i(7),A=J(R),T=i(55),I=J(T),D=i(42),N=J(D),L=i(23),U=J(L);function J(re){return re&&re.__esModule?re:{default:re}}h.default.register({"blots/block":g.default,"blots/block/embed":d.BlockEmbed,"blots/break":f.default,"blots/container":b.default,"blots/cursor":C.default,"blots/embed":E.default,"blots/inline":S.default,"blots/scroll":M.default,"blots/text":A.default,"modules/clipboard":I.default,"modules/history":N.default,"modules/keyboard":U.default}),l.default.register(g.default,f.default,C.default,S.default,M.default,A.default),n.default=h.default},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(1),l=function(){function u(h){this.domNode=h,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(u.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),u.create=function(h){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),typeof h=="number"?d=document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?d=document.createElement(h):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},u.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},u.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return o.create(h)},u.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},u.prototype.deleteAt=function(h,d){var g=this.isolate(h,d);g.remove()},u.prototype.formatAt=function(h,d,g,m){var f=this.isolate(h,d);if(o.query(g,o.Scope.BLOT)!=null&&m)f.wrap(g,m);else if(o.query(g,o.Scope.ATTRIBUTE)!=null){var y=o.create(this.statics.scope);f.wrap(y),y.format(g,m)}},u.prototype.insertAt=function(h,d,g){var m=g==null?o.create("text",d):o.create(d,g),f=this.split(h);this.parent.insertBefore(m,f)},u.prototype.insertInto=function(h,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var g=null;h.children.insertBefore(this,d),d!=null&&(g=d.domNode),(this.domNode.parentNode!=h.domNode||this.domNode.nextSibling!=g)&&h.domNode.insertBefore(this.domNode,g),this.parent=h,this.attach()},u.prototype.isolate=function(h,d){var g=this.split(h);return g.split(d),g},u.prototype.length=function(){return 1},u.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},u.prototype.optimize=function(h){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},u.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},u.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},u.prototype.replaceWith=function(h,d){var g=typeof h=="string"?o.create(h,d):h;return g.replace(this),g},u.prototype.split=function(h,d){return h===0?this:this.next},u.prototype.update=function(h,d){},u.prototype.wrap=function(h,d){var g=typeof h=="string"?o.create(h,d):h;return this.parent!=null&&this.parent.insertBefore(g,this.next),g.appendChild(this),g},u.blotName="abstract",u}();n.default=l},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),l=i(32),u=i(33),h=i(1),d=function(){function g(m){this.attributes={},this.domNode=m,this.build()}return g.prototype.attribute=function(m,f){f?m.add(this.domNode,f)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},g.prototype.build=function(){var m=this;this.attributes={};var f=o.default.keys(this.domNode),y=l.default.keys(this.domNode),b=u.default.keys(this.domNode);f.concat(y).concat(b).forEach(function(x){var C=h.query(x,h.Scope.ATTRIBUTE);C instanceof o.default&&(m.attributes[C.attrName]=C)})},g.prototype.copy=function(m){var f=this;Object.keys(this.attributes).forEach(function(y){var b=f.attributes[y].value(f.domNode);m.format(y,b)})},g.prototype.move=function(m){var f=this;this.copy(m),Object.keys(this.attributes).forEach(function(y){f.attributes[y].remove(f.domNode)}),this.attributes={}},g.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(f,y){return f[y]=m.attributes[y].value(m.domNode),f},{})},g}();n.default=d},function(t,n,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var f in m)m.hasOwnProperty(f)&&(g[f]=m[f])};return function(g,m){d(g,m);function f(){this.constructor=g}g.prototype=m===null?Object.create(m):(f.prototype=m.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var l=i(12);function u(d,g){var m=d.getAttribute("class")||"";return m.split(/\s+/).filter(function(f){return f.indexOf(g+"-")===0})}var h=function(d){o(g,d);function g(){return d!==null&&d.apply(this,arguments)||this}return g.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},g.prototype.add=function(m,f){return this.canAdd(m,f)?(this.remove(m),m.classList.add(this.keyName+"-"+f),!0):!1},g.prototype.remove=function(m){var f=u(m,this.keyName);f.forEach(function(y){m.classList.remove(y)}),m.classList.length===0&&m.removeAttribute("class")},g.prototype.value=function(m){var f=u(m,this.keyName)[0]||"",y=f.slice(this.keyName.length+1);return this.canAdd(m,y)?y:""},g}(l.default);n.default=h},function(t,n,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var f in m)m.hasOwnProperty(f)&&(g[f]=m[f])};return function(g,m){d(g,m);function f(){this.constructor=g}g.prototype=m===null?Object.create(m):(f.prototype=m.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var l=i(12);function u(d){var g=d.split("-"),m=g.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return g[0]+m}var h=function(d){o(g,d);function g(){return d!==null&&d.apply(this,arguments)||this}return g.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(f){var y=f.split(":");return y[0].trim()})},g.prototype.add=function(m,f){return this.canAdd(m,f)?(m.style[u(this.keyName)]=f,!0):!1},g.prototype.remove=function(m){m.style[u(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},g.prototype.value=function(m){var f=m.style[u(this.keyName)];return this.canAdd(m,f)?f:""},g}(l.default);n.default=h},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function h(d,g){for(var m=0;m<g.length;m++){var f=g[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(d,g,m){return g&&h(d.prototype,g),m&&h(d,m),d}}();function l(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var u=function(){function h(d,g){l(this,h),this.quill=d,this.options=g,this.modules={}}return o(h,[{key:"init",value:function(){var g=this;Object.keys(this.options.modules).forEach(function(m){g.modules[m]==null&&g.addModule(m)})}},{key:"addModule",value:function(g){var m=this.quill.constructor.import("modules/"+g);return this.modules[g]=new m(this.quill,this.options.modules[g]||{}),this.modules[g]}}]),h}();u.DEFAULTS={modules:{}},u.themes={default:u},n.default=u},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function w(E,P){for(var S=0;S<P.length;S++){var O=P[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}return function(E,P,S){return P&&w(E.prototype,P),S&&w(E,S),E}}(),l=function w(E,P,S){E===null&&(E=Function.prototype);var O=Object.getOwnPropertyDescriptor(E,P);if(O===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:w(M,P,S)}else{if("value"in O)return O.value;var R=O.get;return R===void 0?void 0:R.call(S)}},u=i(0),h=m(u),d=i(7),g=m(d);function m(w){return w&&w.__esModule?w:{default:w}}function f(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function y(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function b(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var x="\uFEFF",C=function(w){b(E,w);function E(P){f(this,E);var S=y(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,P));return S.contentNode=document.createElement("span"),S.contentNode.setAttribute("contenteditable",!1),[].slice.call(S.domNode.childNodes).forEach(function(O){S.contentNode.appendChild(O)}),S.leftGuard=document.createTextNode(x),S.rightGuard=document.createTextNode(x),S.domNode.appendChild(S.leftGuard),S.domNode.appendChild(S.contentNode),S.domNode.appendChild(S.rightGuard),S}return o(E,[{key:"index",value:function(S,O){return S===this.leftGuard?0:S===this.rightGuard?1:l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"index",this).call(this,S,O)}},{key:"restore",value:function(S){var O=void 0,M=void 0,R=S.data.split(x).join("");if(S===this.leftGuard)if(this.prev instanceof g.default){var A=this.prev.length();this.prev.insertAt(A,R),O={startNode:this.prev.domNode,startOffset:A+R.length}}else M=document.createTextNode(R),this.parent.insertBefore(h.default.create(M),this),O={startNode:M,startOffset:R.length};else S===this.rightGuard&&(this.next instanceof g.default?(this.next.insertAt(0,R),O={startNode:this.next.domNode,startOffset:R.length}):(M=document.createTextNode(R),this.parent.insertBefore(h.default.create(M),this.next),O={startNode:M,startOffset:R.length}));return S.data=x,O}},{key:"update",value:function(S,O){var M=this;S.forEach(function(R){if(R.type==="characterData"&&(R.target===M.leftGuard||R.target===M.rightGuard)){var A=M.restore(R.target);A&&(O.range=A)}})}}]),E}(h.default.Embed);n.default=C},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var o=i(0),l=u(o);function u(f){return f&&f.__esModule?f:{default:f}}var h={scope:l.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new l.default.Attributor.Attribute("align","align",h),g=new l.default.Attributor.Class("align","ql-align",h),m=new l.default.Attributor.Style("align","text-align",h);n.AlignAttribute=d,n.AlignClass=g,n.AlignStyle=m},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var o=i(0),l=h(o),u=i(26);function h(m){return m&&m.__esModule?m:{default:m}}var d=new l.default.Attributor.Class("background","ql-bg",{scope:l.default.Scope.INLINE}),g=new u.ColorAttributor("background","background-color",{scope:l.default.Scope.INLINE});n.BackgroundClass=d,n.BackgroundStyle=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var o=i(0),l=u(o);function u(f){return f&&f.__esModule?f:{default:f}}var h={scope:l.default.Scope.BLOCK,whitelist:["rtl"]},d=new l.default.Attributor.Attribute("direction","dir",h),g=new l.default.Attributor.Class("direction","ql-direction",h),m=new l.default.Attributor.Style("direction","direction",h);n.DirectionAttribute=d,n.DirectionClass=g,n.DirectionStyle=m},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var o=function(){function w(E,P){for(var S=0;S<P.length;S++){var O=P[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}return function(E,P,S){return P&&w(E.prototype,P),S&&w(E,S),E}}(),l=function w(E,P,S){E===null&&(E=Function.prototype);var O=Object.getOwnPropertyDescriptor(E,P);if(O===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:w(M,P,S)}else{if("value"in O)return O.value;var R=O.get;return R===void 0?void 0:R.call(S)}},u=i(0),h=d(u);function d(w){return w&&w.__esModule?w:{default:w}}function g(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function m(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function f(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var y={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},b=new h.default.Attributor.Class("font","ql-font",y),x=function(w){f(E,w);function E(){return g(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"value",value:function(S){return l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,S).replace(/["']/g,"")}}]),E}(h.default.Attributor.Style),C=new x("font","font-family",y);n.FontStyle=C,n.FontClass=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var o=i(0),l=u(o);function u(g){return g&&g.__esModule?g:{default:g}}var h=new l.default.Attributor.Class("size","ql-size",{scope:l.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new l.default.Attributor.Style("size","font-size",{scope:l.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=h,n.SizeStyle=d},function(t,n,i){t.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var o=function(){function P(S,O){for(var M=0;M<O.length;M++){var R=O[M];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}}return function(S,O,M){return O&&P(S.prototype,O),M&&P(S,M),S}}(),l=i(0),u=f(l),h=i(5),d=f(h),g=i(9),m=f(g);function f(P){return P&&P.__esModule?P:{default:P}}function y(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function b(P,S){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:P}function x(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(P,S):P.__proto__=S)}var C=function(P){x(S,P);function S(O,M){y(this,S);var R=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,O,M));return R.lastRecorded=0,R.ignoreChange=!1,R.clear(),R.quill.on(d.default.events.EDITOR_CHANGE,function(A,T,I,D){A!==d.default.events.TEXT_CHANGE||R.ignoreChange||(!R.options.userOnly||D===d.default.sources.USER?R.record(T,I):R.transform(T))}),R.quill.keyboard.addBinding({key:"Z",shortKey:!0},R.undo.bind(R)),R.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},R.redo.bind(R)),/Win/i.test(navigator.platform)&&R.quill.keyboard.addBinding({key:"Y",shortKey:!0},R.redo.bind(R)),R}return o(S,[{key:"change",value:function(M,R){if(this.stack[M].length!==0){var A=this.stack[M].pop();this.stack[R].push(A),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(A[M],d.default.sources.USER),this.ignoreChange=!1;var T=E(A[M]);this.quill.setSelection(T)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(M,R){if(M.ops.length!==0){this.stack.redo=[];var A=this.quill.getContents().diff(R),T=Date.now();if(this.lastRecorded+this.options.delay>T&&this.stack.undo.length>0){var I=this.stack.undo.pop();A=A.compose(I.undo),M=I.redo.compose(M)}else this.lastRecorded=T;this.stack.undo.push({redo:M,undo:A}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(M){this.stack.undo.forEach(function(R){R.undo=M.transform(R.undo,!0),R.redo=M.transform(R.redo,!0)}),this.stack.redo.forEach(function(R){R.undo=M.transform(R.undo,!0),R.redo=M.transform(R.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),S}(m.default);C.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function w(P){var S=P.ops[P.ops.length-1];return S==null?!1:S.insert!=null?typeof S.insert=="string"&&S.insert.endsWith(`
`):S.attributes!=null?Object.keys(S.attributes).some(function(O){return u.default.query(O,u.default.Scope.BLOCK)!=null}):!1}function E(P){var S=P.reduce(function(M,R){return M+=R.delete||0,M},0),O=P.length()-S;return w(P)&&(O-=1),O}n.default=C,n.getLastChangeIndex=E},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var o=function(){function V(H,ne){for(var ee=0;ee<ne.length;ee++){var $=ne[ee];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(H,$.key,$)}}return function(H,ne,ee){return ne&&V(H.prototype,ne),ee&&V(H,ee),H}}(),l=function V(H,ne,ee){H===null&&(H=Function.prototype);var $=Object.getOwnPropertyDescriptor(H,ne);if($===void 0){var Y=Object.getPrototypeOf(H);return Y===null?void 0:V(Y,ne,ee)}else{if("value"in $)return $.value;var Q=$.get;return Q===void 0?void 0:Q.call(ee)}},u=i(3),h=T(u),d=i(2),g=T(d),m=i(8),f=T(m),y=i(23),b=T(y),x=i(34),C=T(x),w=i(59),E=T(w),P=i(60),S=T(P),O=i(28),M=T(O),R=i(61),A=T(R);function T(V){return V&&V.__esModule?V:{default:V}}function I(V,H){if(!(V instanceof H))throw new TypeError("Cannot call a class as a function")}function D(V,H){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:V}function N(V,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);V.prototype=Object.create(H&&H.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(V,H):V.__proto__=H)}var L=[!1,"center","right","justify"],U=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],J=[!1,"serif","monospace"],re=["1","2","3",!1],Z=["small",!1,"large","huge"],ie=function(V){N(H,V);function H(ne,ee){I(this,H);var $=D(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,ne,ee)),Y=function Q(te){if(!document.body.contains(ne.root))return document.body.removeEventListener("click",Q);$.tooltip!=null&&!$.tooltip.root.contains(te.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(ae){ae.container.contains(te.target)||ae.close()})};return ne.emitter.listenDOM("click",document.body,Y),$}return o(H,[{key:"addModule",value:function(ee){var $=l(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"addModule",this).call(this,ee);return ee==="toolbar"&&this.extendToolbar($),$}},{key:"buildButtons",value:function(ee,$){ee.forEach(function(Y){var Q=Y.getAttribute("class")||"";Q.split(/\s+/).forEach(function(te){if(te.startsWith("ql-")&&(te=te.slice(3),$[te]!=null))if(te==="direction")Y.innerHTML=$[te][""]+$[te].rtl;else if(typeof $[te]=="string")Y.innerHTML=$[te];else{var ae=Y.value||"";ae!=null&&$[te][ae]&&(Y.innerHTML=$[te][ae])}})})}},{key:"buildPickers",value:function(ee,$){var Y=this;this.pickers=ee.map(function(te){if(te.classList.contains("ql-align"))return te.querySelector("option")==null&&B(te,L),new S.default(te,$.align);if(te.classList.contains("ql-background")||te.classList.contains("ql-color")){var ae=te.classList.contains("ql-background")?"background":"color";return te.querySelector("option")==null&&B(te,U,ae==="background"?"#ffffff":"#000000"),new E.default(te,$[ae])}else return te.querySelector("option")==null&&(te.classList.contains("ql-font")?B(te,J):te.classList.contains("ql-header")?B(te,re):te.classList.contains("ql-size")&&B(te,Z)),new M.default(te)});var Q=function(){Y.pickers.forEach(function(ae){ae.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,Q)}}]),H}(C.default);ie.DEFAULTS=(0,h.default)(!0,{},C.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var H=this,ne=this.container.querySelector("input.ql-image[type=file]");ne==null&&(ne=document.createElement("input"),ne.setAttribute("type","file"),ne.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ne.classList.add("ql-image"),ne.addEventListener("change",function(){if(ne.files!=null&&ne.files[0]!=null){var ee=new FileReader;ee.onload=function($){var Y=H.quill.getSelection(!0);H.quill.updateContents(new g.default().retain(Y.index).delete(Y.length).insert({image:$.target.result}),f.default.sources.USER),H.quill.setSelection(Y.index+1,f.default.sources.SILENT),ne.value=""},ee.readAsDataURL(ne.files[0])}}),this.container.appendChild(ne)),ne.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var G=function(V){N(H,V);function H(ne,ee){I(this,H);var $=D(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,ne,ee));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return o(H,[{key:"listen",value:function(){var ee=this;this.textbox.addEventListener("keydown",function($){b.default.match($,"enter")?(ee.save(),$.preventDefault()):b.default.match($,"escape")&&(ee.cancel(),$.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$!=null?this.textbox.value=$:ee!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+ee)||""),this.root.setAttribute("data-mode",ee)}},{key:"restoreFocus",value:function(){var ee=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=ee}},{key:"save",value:function(){var ee=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var $=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",ee,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",ee,f.default.sources.USER)),this.quill.root.scrollTop=$;break}case"video":ee=W(ee);case"formula":{if(!ee)break;var Y=this.quill.getSelection(!0);if(Y!=null){var Q=Y.index+Y.length;this.quill.insertEmbed(Q,this.root.getAttribute("data-mode"),ee,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Q+1," ",f.default.sources.USER),this.quill.setSelection(Q+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),H}(A.default);function W(V){var H=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return H?(H[1]||"https")+"://www.youtube.com/embed/"+H[2]+"?showinfo=0":(H=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(H[1]||"https")+"://player.vimeo.com/video/"+H[2]+"/":V}function B(V,H){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;H.forEach(function(ee){var $=document.createElement("option");ee===ne?$.setAttribute("selected","selected"):$.setAttribute("value",ee),V.appendChild($)})}n.BaseTooltip=G,n.default=ie},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function l(){this.head=this.tail=null,this.length=0}return l.prototype.append=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];this.insertBefore(u[0],null),u.length>1&&this.append.apply(this,u.slice(1))},l.prototype.contains=function(u){for(var h,d=this.iterator();h=d();)if(h===u)return!0;return!1},l.prototype.insertBefore=function(u,h){u&&(u.next=h,h!=null?(u.prev=h.prev,h.prev!=null&&(h.prev.next=u),h.prev=u,h===this.head&&(this.head=u)):this.tail!=null?(this.tail.next=u,u.prev=this.tail,this.tail=u):(u.prev=null,this.head=this.tail=u),this.length+=1)},l.prototype.offset=function(u){for(var h=0,d=this.head;d!=null;){if(d===u)return h;h+=d.length(),d=d.next}return-1},l.prototype.remove=function(u){this.contains(u)&&(u.prev!=null&&(u.prev.next=u.next),u.next!=null&&(u.next.prev=u.prev),u===this.head&&(this.head=u.next),u===this.tail&&(this.tail=u.prev),this.length-=1)},l.prototype.iterator=function(u){return u===void 0&&(u=this.head),function(){var h=u;return u!=null&&(u=u.next),h}},l.prototype.find=function(u,h){h===void 0&&(h=!1);for(var d,g=this.iterator();d=g();){var m=d.length();if(u<m||h&&u===m&&(d.next==null||d.next.length()!==0))return[d,u];u-=m}return[null,0]},l.prototype.forEach=function(u){for(var h,d=this.iterator();h=d();)u(h)},l.prototype.forEachAt=function(u,h,d){if(!(h<=0))for(var g=this.find(u),m=g[0],f=g[1],y,b=u-f,x=this.iterator(m);(y=x())&&b<u+h;){var C=y.length();u>b?d(y,u-b,Math.min(h,b+C-u)):d(y,0,Math.min(C,u+h-b)),b+=C}},l.prototype.map=function(u){return this.reduce(function(h,d){return h.push(u(d)),h},[])},l.prototype.reduce=function(u,h){for(var d,g=this.iterator();d=g();)h=u(h,d);return h},l}();n.default=o},function(t,n,i){var o=this&&this.__extends||function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,y){f.__proto__=y}||function(f,y){for(var b in y)y.hasOwnProperty(b)&&(f[b]=y[b])};return function(f,y){m(f,y);function b(){this.constructor=f}f.prototype=y===null?Object.create(y):(b.prototype=y.prototype,new b)}}();Object.defineProperty(n,"__esModule",{value:!0});var l=i(17),u=i(1),h={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,g=function(m){o(f,m);function f(y){var b=m.call(this,y)||this;return b.scroll=b,b.observer=new MutationObserver(function(x){b.update(x)}),b.observer.observe(b.domNode,h),b.attach(),b}return f.prototype.detach=function(){m.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(y,b){this.update(),y===0&&b===this.length()?this.children.forEach(function(x){x.remove()}):m.prototype.deleteAt.call(this,y,b)},f.prototype.formatAt=function(y,b,x,C){this.update(),m.prototype.formatAt.call(this,y,b,x,C)},f.prototype.insertAt=function(y,b,x){this.update(),m.prototype.insertAt.call(this,y,b,x)},f.prototype.optimize=function(y,b){var x=this;y===void 0&&(y=[]),b===void 0&&(b={}),m.prototype.optimize.call(this,b);for(var C=[].slice.call(this.observer.takeRecords());C.length>0;)y.push(C.pop());for(var w=function(O,M){M===void 0&&(M=!0),!(O==null||O===x)&&O.domNode.parentNode!=null&&(O.domNode[u.DATA_KEY].mutations==null&&(O.domNode[u.DATA_KEY].mutations=[]),M&&w(O.parent))},E=function(O){O.domNode[u.DATA_KEY]==null||O.domNode[u.DATA_KEY].mutations==null||(O instanceof l.default&&O.children.forEach(E),O.optimize(b))},P=y,S=0;P.length>0;S+=1){if(S>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(P.forEach(function(O){var M=u.find(O.target,!0);M!=null&&(M.domNode===O.target&&(O.type==="childList"?(w(u.find(O.previousSibling,!1)),[].forEach.call(O.addedNodes,function(R){var A=u.find(R,!1);w(A,!1),A instanceof l.default&&A.children.forEach(function(T){w(T,!1)})})):O.type==="attributes"&&w(M.prev)),w(M))}),this.children.forEach(E),P=[].slice.call(this.observer.takeRecords()),C=P.slice();C.length>0;)y.push(C.pop())}},f.prototype.update=function(y,b){var x=this;b===void 0&&(b={}),y=y||this.observer.takeRecords(),y.map(function(C){var w=u.find(C.target,!0);return w==null?null:w.domNode[u.DATA_KEY].mutations==null?(w.domNode[u.DATA_KEY].mutations=[C],w):(w.domNode[u.DATA_KEY].mutations.push(C),null)}).forEach(function(C){C==null||C===x||C.domNode[u.DATA_KEY]==null||C.update(C.domNode[u.DATA_KEY].mutations||[],b)}),this.domNode[u.DATA_KEY].mutations!=null&&m.prototype.update.call(this,this.domNode[u.DATA_KEY].mutations,b),this.optimize(y,b)},f.blotName="scroll",f.defaultChild="block",f.scope=u.Scope.BLOCK_BLOT,f.tagName="DIV",f}(l.default);n.default=g},function(t,n,i){var o=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var y in f)f.hasOwnProperty(y)&&(m[y]=f[y])};return function(m,f){g(m,f);function y(){this.constructor=m}m.prototype=f===null?Object.create(f):(y.prototype=f.prototype,new y)}}();Object.defineProperty(n,"__esModule",{value:!0});var l=i(18),u=i(1);function h(g,m){if(Object.keys(g).length!==Object.keys(m).length)return!1;for(var f in g)if(g[f]!==m[f])return!1;return!0}var d=function(g){o(m,g);function m(){return g!==null&&g.apply(this,arguments)||this}return m.formats=function(f){if(f.tagName!==m.tagName)return g.formats.call(this,f)},m.prototype.format=function(f,y){var b=this;f===this.statics.blotName&&!y?(this.children.forEach(function(x){x instanceof l.default||(x=x.wrap(m.blotName,!0)),b.attributes.copy(x)}),this.unwrap()):g.prototype.format.call(this,f,y)},m.prototype.formatAt=function(f,y,b,x){if(this.formats()[b]!=null||u.query(b,u.Scope.ATTRIBUTE)){var C=this.isolate(f,y);C.format(b,x)}else g.prototype.formatAt.call(this,f,y,b,x)},m.prototype.optimize=function(f){g.prototype.optimize.call(this,f);var y=this.formats();if(Object.keys(y).length===0)return this.unwrap();var b=this.next;b instanceof m&&b.prev===this&&h(y,b.formats())&&(b.moveChildren(this),b.remove())},m.blotName="inline",m.scope=u.Scope.INLINE_BLOT,m.tagName="SPAN",m}(l.default);n.default=d},function(t,n,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var f in m)m.hasOwnProperty(f)&&(g[f]=m[f])};return function(g,m){d(g,m);function f(){this.constructor=g}g.prototype=m===null?Object.create(m):(f.prototype=m.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var l=i(18),u=i(1),h=function(d){o(g,d);function g(){return d!==null&&d.apply(this,arguments)||this}return g.formats=function(m){var f=u.query(g.blotName).tagName;if(m.tagName!==f)return d.formats.call(this,m)},g.prototype.format=function(m,f){u.query(m,u.Scope.BLOCK)!=null&&(m===this.statics.blotName&&!f?this.replaceWith(g.blotName):d.prototype.format.call(this,m,f))},g.prototype.formatAt=function(m,f,y,b){u.query(y,u.Scope.BLOCK)!=null?this.format(y,b):d.prototype.formatAt.call(this,m,f,y,b)},g.prototype.insertAt=function(m,f,y){if(y==null||u.query(f,u.Scope.INLINE)!=null)d.prototype.insertAt.call(this,m,f,y);else{var b=this.split(m),x=u.create(f,y);b.parent.insertBefore(x,b)}},g.prototype.update=function(m,f){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,m,f)},g.blotName="block",g.scope=u.Scope.BLOCK_BLOT,g.tagName="P",g}(l.default);n.default=h},function(t,n,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var m in g)g.hasOwnProperty(m)&&(d[m]=g[m])};return function(d,g){h(d,g);function m(){this.constructor=d}d.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();Object.defineProperty(n,"__esModule",{value:!0});var l=i(19),u=function(h){o(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.formats=function(g){},d.prototype.format=function(g,m){h.prototype.formatAt.call(this,0,this.length(),g,m)},d.prototype.formatAt=function(g,m,f,y){g===0&&m===this.length()?this.format(f,y):h.prototype.formatAt.call(this,g,m,f,y)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d}(l.default);n.default=u},function(t,n,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var f in m)m.hasOwnProperty(f)&&(g[f]=m[f])};return function(g,m){d(g,m);function f(){this.constructor=g}g.prototype=m===null?Object.create(m):(f.prototype=m.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var l=i(19),u=i(1),h=function(d){o(g,d);function g(m){var f=d.call(this,m)||this;return f.text=f.statics.value(f.domNode),f}return g.create=function(m){return document.createTextNode(m)},g.value=function(m){var f=m.data;return f.normalize&&(f=f.normalize()),f},g.prototype.deleteAt=function(m,f){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+f)},g.prototype.index=function(m,f){return this.domNode===m?f:-1},g.prototype.insertAt=function(m,f,y){y==null?(this.text=this.text.slice(0,m)+f+this.text.slice(m),this.domNode.data=this.text):d.prototype.insertAt.call(this,m,f,y)},g.prototype.length=function(){return this.text.length},g.prototype.optimize=function(m){d.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof g&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},g.prototype.position=function(m,f){return[this.domNode,m]},g.prototype.split=function(m,f){if(f===void 0&&(f=!1),!f){if(m===0)return this;if(m===this.length())return this.next}var y=u.create(this.domNode.splitText(m));return this.parent.insertBefore(y,this.next),this.text=this.statics.value(this.domNode),y},g.prototype.update=function(m,f){var y=this;m.some(function(b){return b.type==="characterData"&&b.target===y.domNode})&&(this.text=this.statics.value(this.domNode))},g.prototype.value=function(){return this.text},g.blotName="text",g.scope=u.Scope.INLINE_BLOT,g}(l.default);n.default=h},function(t,n,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(u,h){return arguments.length>1&&!this.contains(u)==!h?h:l.call(this,u)}}String.prototype.startsWith||(String.prototype.startsWith=function(u,h){return h=h||0,this.substr(h,u.length)===u}),String.prototype.endsWith||(String.prototype.endsWith=function(u,h){var d=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>d.length)&&(h=d.length),h-=u.length;var g=d.indexOf(u,h);return g!==-1&&g===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(h){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof h!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),g=d.length>>>0,m=arguments[1],f,y=0;y<g;y++)if(f=d[y],h.call(m,f,y,d))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,n){var i=-1,o=1,l=0;function u(S,O,M){if(S==O)return S?[[l,S]]:[];(M<0||S.length<M)&&(M=null);var R=m(S,O),A=S.substring(0,R);S=S.substring(R),O=O.substring(R),R=f(S,O);var T=S.substring(S.length-R);S=S.substring(0,S.length-R),O=O.substring(0,O.length-R);var I=h(S,O);return A&&I.unshift([l,A]),T&&I.push([l,T]),b(I),M!=null&&(I=w(I,M)),I=E(I),I}function h(S,O){var M;if(!S)return[[o,O]];if(!O)return[[i,S]];var R=S.length>O.length?S:O,A=S.length>O.length?O:S,T=R.indexOf(A);if(T!=-1)return M=[[o,R.substring(0,T)],[l,A],[o,R.substring(T+A.length)]],S.length>O.length&&(M[0][0]=M[2][0]=i),M;if(A.length==1)return[[i,S],[o,O]];var I=y(S,O);if(I){var D=I[0],N=I[1],L=I[2],U=I[3],J=I[4],re=u(D,L),Z=u(N,U);return re.concat([[l,J]],Z)}return d(S,O)}function d(S,O){for(var M=S.length,R=O.length,A=Math.ceil((M+R)/2),T=A,I=2*A,D=new Array(I),N=new Array(I),L=0;L<I;L++)D[L]=-1,N[L]=-1;D[T+1]=0,N[T+1]=0;for(var U=M-R,J=U%2!=0,re=0,Z=0,ie=0,G=0,W=0;W<A;W++){for(var B=-W+re;B<=W-Z;B+=2){var V=T+B,H;B==-W||B!=W&&D[V-1]<D[V+1]?H=D[V+1]:H=D[V-1]+1;for(var ne=H-B;H<M&&ne<R&&S.charAt(H)==O.charAt(ne);)H++,ne++;if(D[V]=H,H>M)Z+=2;else if(ne>R)re+=2;else if(J){var ee=T+U-B;if(ee>=0&&ee<I&&N[ee]!=-1){var $=M-N[ee];if(H>=$)return g(S,O,H,ne)}}}for(var Y=-W+ie;Y<=W-G;Y+=2){var ee=T+Y,$;Y==-W||Y!=W&&N[ee-1]<N[ee+1]?$=N[ee+1]:$=N[ee-1]+1;for(var Q=$-Y;$<M&&Q<R&&S.charAt(M-$-1)==O.charAt(R-Q-1);)$++,Q++;if(N[ee]=$,$>M)G+=2;else if(Q>R)ie+=2;else if(!J){var V=T+U-Y;if(V>=0&&V<I&&D[V]!=-1){var H=D[V],ne=T+H-V;if($=M-$,H>=$)return g(S,O,H,ne)}}}}return[[i,S],[o,O]]}function g(S,O,M,R){var A=S.substring(0,M),T=O.substring(0,R),I=S.substring(M),D=O.substring(R),N=u(A,T),L=u(I,D);return N.concat(L)}function m(S,O){if(!S||!O||S.charAt(0)!=O.charAt(0))return 0;for(var M=0,R=Math.min(S.length,O.length),A=R,T=0;M<A;)S.substring(T,A)==O.substring(T,A)?(M=A,T=M):R=A,A=Math.floor((R-M)/2+M);return A}function f(S,O){if(!S||!O||S.charAt(S.length-1)!=O.charAt(O.length-1))return 0;for(var M=0,R=Math.min(S.length,O.length),A=R,T=0;M<A;)S.substring(S.length-A,S.length-T)==O.substring(O.length-A,O.length-T)?(M=A,T=M):R=A,A=Math.floor((R-M)/2+M);return A}function y(S,O){var M=S.length>O.length?S:O,R=S.length>O.length?O:S;if(M.length<4||R.length*2<M.length)return null;function A(Z,ie,G){for(var W=Z.substring(G,G+Math.floor(Z.length/4)),B=-1,V="",H,ne,ee,$;(B=ie.indexOf(W,B+1))!=-1;){var Y=m(Z.substring(G),ie.substring(B)),Q=f(Z.substring(0,G),ie.substring(0,B));V.length<Q+Y&&(V=ie.substring(B-Q,B)+ie.substring(B,B+Y),H=Z.substring(0,G-Q),ne=Z.substring(G+Y),ee=ie.substring(0,B-Q),$=ie.substring(B+Y))}return V.length*2>=Z.length?[H,ne,ee,$,V]:null}var T=A(M,R,Math.ceil(M.length/4)),I=A(M,R,Math.ceil(M.length/2)),D;if(!T&&!I)return null;I?T?D=T[4].length>I[4].length?T:I:D=I:D=T;var N,L,U,J;S.length>O.length?(N=D[0],L=D[1],U=D[2],J=D[3]):(U=D[0],J=D[1],N=D[2],L=D[3]);var re=D[4];return[N,L,U,J,re]}function b(S){S.push([l,""]);for(var O=0,M=0,R=0,A="",T="",I;O<S.length;)switch(S[O][0]){case o:R++,T+=S[O][1],O++;break;case i:M++,A+=S[O][1],O++;break;case l:M+R>1?(M!==0&&R!==0&&(I=m(T,A),I!==0&&(O-M-R>0&&S[O-M-R-1][0]==l?S[O-M-R-1][1]+=T.substring(0,I):(S.splice(0,0,[l,T.substring(0,I)]),O++),T=T.substring(I),A=A.substring(I)),I=f(T,A),I!==0&&(S[O][1]=T.substring(T.length-I)+S[O][1],T=T.substring(0,T.length-I),A=A.substring(0,A.length-I))),M===0?S.splice(O-R,M+R,[o,T]):R===0?S.splice(O-M,M+R,[i,A]):S.splice(O-M-R,M+R,[i,A],[o,T]),O=O-M-R+(M?1:0)+(R?1:0)+1):O!==0&&S[O-1][0]==l?(S[O-1][1]+=S[O][1],S.splice(O,1)):O++,R=0,M=0,A="",T="";break}S[S.length-1][1]===""&&S.pop();var D=!1;for(O=1;O<S.length-1;)S[O-1][0]==l&&S[O+1][0]==l&&(S[O][1].substring(S[O][1].length-S[O-1][1].length)==S[O-1][1]?(S[O][1]=S[O-1][1]+S[O][1].substring(0,S[O][1].length-S[O-1][1].length),S[O+1][1]=S[O-1][1]+S[O+1][1],S.splice(O-1,1),D=!0):S[O][1].substring(0,S[O+1][1].length)==S[O+1][1]&&(S[O-1][1]+=S[O+1][1],S[O][1]=S[O][1].substring(S[O+1][1].length)+S[O+1][1],S.splice(O+1,1),D=!0)),O++;D&&b(S)}var x=u;x.INSERT=o,x.DELETE=i,x.EQUAL=l,t.exports=x;function C(S,O){if(O===0)return[l,S];for(var M=0,R=0;R<S.length;R++){var A=S[R];if(A[0]===i||A[0]===l){var T=M+A[1].length;if(O===T)return[R+1,S];if(O<T){S=S.slice();var I=O-M,D=[A[0],A[1].slice(0,I)],N=[A[0],A[1].slice(I)];return S.splice(R,1,D,N),[R+1,S]}else M=T}}throw new Error("cursor_pos is out of bounds!")}function w(S,O){var M=C(S,O),R=M[1],A=M[0],T=R[A],I=R[A+1];if(T==null)return S;if(T[0]!==l)return S;if(I!=null&&T[1]+I[1]===I[1]+T[1])return R.splice(A,2,I,T),P(R,A,2);if(I!=null&&I[1].indexOf(T[1])===0){R.splice(A,2,[I[0],T[1]],[0,T[1]]);var D=I[1].slice(T[1].length);return D.length>0&&R.splice(A+2,0,[I[0],D]),P(R,A,3)}else return S}function E(S){for(var O=!1,M=function(I){return I.charCodeAt(0)>=56320&&I.charCodeAt(0)<=57343},R=function(I){return I.charCodeAt(I.length-1)>=55296&&I.charCodeAt(I.length-1)<=56319},A=2;A<S.length;A+=1)S[A-2][0]===l&&R(S[A-2][1])&&S[A-1][0]===i&&M(S[A-1][1])&&S[A][0]===o&&M(S[A][1])&&(O=!0,S[A-1][1]=S[A-2][1].slice(-1)+S[A-1][1],S[A][1]=S[A-2][1].slice(-1)+S[A][1],S[A-2][1]=S[A-2][1].slice(0,-1));if(!O)return S;for(var T=[],A=0;A<S.length;A+=1)S[A][1].length>0&&T.push(S[A]);return T}function P(S,O,M){for(var R=O+M-1;R>=0&&R>=O-1;R--)if(R+1<S.length){var A=S[R],T=S[R+1];A[0]===T[1]&&S.splice(R,2,[A[0],A[1]+T[1]])}return S}},function(t,n){n=t.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(o){var l=[];for(var u in o)l.push(u);return l}},function(t,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=t.exports=i?o:l,n.supported=o;function o(u){return Object.prototype.toString.call(u)=="[object Arguments]"}n.unsupported=l;function l(u){return u&&typeof u=="object"&&typeof u.length=="number"&&Object.prototype.hasOwnProperty.call(u,"callee")&&!Object.prototype.propertyIsEnumerable.call(u,"callee")||!1}},function(t,n){var i=Object.prototype.hasOwnProperty,o="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(o=!1));function u(d,g,m){this.fn=d,this.context=g,this.once=m||!1}function h(){this._events=new l,this._eventsCount=0}h.prototype.eventNames=function(){var g=[],m,f;if(this._eventsCount===0)return g;for(f in m=this._events)i.call(m,f)&&g.push(o?f.slice(1):f);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(m)):g},h.prototype.listeners=function(g,m){var f=o?o+g:g,y=this._events[f];if(m)return!!y;if(!y)return[];if(y.fn)return[y.fn];for(var b=0,x=y.length,C=new Array(x);b<x;b++)C[b]=y[b].fn;return C},h.prototype.emit=function(g,m,f,y,b,x){var C=o?o+g:g;if(!this._events[C])return!1;var w=this._events[C],E=arguments.length,P,S;if(w.fn){switch(w.once&&this.removeListener(g,w.fn,void 0,!0),E){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,m),!0;case 3:return w.fn.call(w.context,m,f),!0;case 4:return w.fn.call(w.context,m,f,y),!0;case 5:return w.fn.call(w.context,m,f,y,b),!0;case 6:return w.fn.call(w.context,m,f,y,b,x),!0}for(S=1,P=new Array(E-1);S<E;S++)P[S-1]=arguments[S];w.fn.apply(w.context,P)}else{var O=w.length,M;for(S=0;S<O;S++)switch(w[S].once&&this.removeListener(g,w[S].fn,void 0,!0),E){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,m);break;case 3:w[S].fn.call(w[S].context,m,f);break;case 4:w[S].fn.call(w[S].context,m,f,y);break;default:if(!P)for(M=1,P=new Array(E-1);M<E;M++)P[M-1]=arguments[M];w[S].fn.apply(w[S].context,P)}}return!0},h.prototype.on=function(g,m,f){var y=new u(m,f||this),b=o?o+g:g;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],y]:this._events[b].push(y):(this._events[b]=y,this._eventsCount++),this},h.prototype.once=function(g,m,f){var y=new u(m,f||this,!0),b=o?o+g:g;return this._events[b]?this._events[b].fn?this._events[b]=[this._events[b],y]:this._events[b].push(y):(this._events[b]=y,this._eventsCount++),this},h.prototype.removeListener=function(g,m,f,y){var b=o?o+g:g;if(!this._events[b])return this;if(!m)return--this._eventsCount===0?this._events=new l:delete this._events[b],this;var x=this._events[b];if(x.fn)x.fn===m&&(!y||x.once)&&(!f||x.context===f)&&(--this._eventsCount===0?this._events=new l:delete this._events[b]);else{for(var C=0,w=[],E=x.length;C<E;C++)(x[C].fn!==m||y&&!x[C].once||f&&x[C].context!==f)&&w.push(x[C]);w.length?this._events[b]=w.length===1?w[0]:w:--this._eventsCount===0?this._events=new l:delete this._events[b]}return this},h.prototype.removeAllListeners=function(g){var m;return g?(m=o?o+g:g,this._events[m]&&(--this._eventsCount===0?this._events=new l:delete this._events[m])):(this._events=new l,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=o,h.EventEmitter=h,typeof t<"u"&&(t.exports=h)},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},l=function(){function ue(fe,Ee){var Te=[],ye=!0,$e=!1,Le=void 0;try{for(var ze=fe[Symbol.iterator](),Ke;!(ye=(Ke=ze.next()).done)&&(Te.push(Ke.value),!(Ee&&Te.length===Ee));ye=!0);}catch(rt){$e=!0,Le=rt}finally{try{!ye&&ze.return&&ze.return()}finally{if($e)throw Le}}return Te}return function(fe,Ee){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return ue(fe,Ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function ue(fe,Ee){for(var Te=0;Te<Ee.length;Te++){var ye=Ee[Te];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(fe,ye.key,ye)}}return function(fe,Ee,Te){return Ee&&ue(fe.prototype,Ee),Te&&ue(fe,Te),fe}}(),h=i(3),d=N(h),g=i(2),m=N(g),f=i(0),y=N(f),b=i(5),x=N(b),C=i(10),w=N(C),E=i(9),P=N(E),S=i(36),O=i(37),M=i(13),R=N(M),A=i(26),T=i(38),I=i(39),D=i(40);function N(ue){return ue&&ue.__esModule?ue:{default:ue}}function L(ue,fe,Ee){return fe in ue?Object.defineProperty(ue,fe,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):ue[fe]=Ee,ue}function U(ue,fe){if(!(ue instanceof fe))throw new TypeError("Cannot call a class as a function")}function J(ue,fe){if(!ue)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:ue}function re(ue,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);ue.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ue,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(ue,fe):ue.__proto__=fe)}var Z=(0,w.default)("quill:clipboard"),ie="__ql-matcher",G=[[Node.TEXT_NODE,Xe],[Node.TEXT_NODE,Pe],["br",ge],[Node.ELEMENT_NODE,Pe],[Node.ELEMENT_NODE,ae],[Node.ELEMENT_NODE,Ne],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,Fe],["li",Re],["b",Q.bind(Q,"bold")],["i",Q.bind(Q,"italic")],["style",Ce]],W=[S.AlignAttribute,T.DirectionAttribute].reduce(function(ue,fe){return ue[fe.keyName]=fe,ue},{}),B=[S.AlignStyle,O.BackgroundStyle,A.ColorStyle,T.DirectionStyle,I.FontStyle,D.SizeStyle].reduce(function(ue,fe){return ue[fe.keyName]=fe,ue},{}),V=function(ue){re(fe,ue);function fe(Ee,Te){U(this,fe);var ye=J(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,Ee,Te));return ye.quill.root.addEventListener("paste",ye.onPaste.bind(ye)),ye.container=ye.quill.addContainer("ql-clipboard"),ye.container.setAttribute("contenteditable",!0),ye.container.setAttribute("tabindex",-1),ye.matchers=[],G.concat(ye.options.matchers).forEach(function($e){var Le=l($e,2),ze=Le[0],Ke=Le[1];!Te.matchVisual&&Ke===Ne||ye.addMatcher(ze,Ke)}),ye}return u(fe,[{key:"addMatcher",value:function(Te,ye){this.matchers.push([Te,ye])}},{key:"convert",value:function(Te){if(typeof Te=="string")return this.container.innerHTML=Te.replace(/\>\r?\n +\</g,"><"),this.convert();var ye=this.quill.getFormat(this.quill.selection.savedRange.index);if(ye[R.default.blotName]){var $e=this.container.innerText;return this.container.innerHTML="",new m.default().insert($e,L({},R.default.blotName,ye[R.default.blotName]))}var Le=this.prepareMatching(),ze=l(Le,2),Ke=ze[0],rt=ze[1],st=Y(this.container,Ke,rt);return ee(st,`
`)&&st.ops[st.ops.length-1].attributes==null&&(st=st.compose(new m.default().retain(st.length()-1).delete(1))),Z.log("convert",this.container.innerHTML,st),this.container.innerHTML="",st}},{key:"dangerouslyPasteHTML",value:function(Te,ye){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x.default.sources.API;if(typeof Te=="string")this.quill.setContents(this.convert(Te),ye),this.quill.setSelection(0,x.default.sources.SILENT);else{var Le=this.convert(ye);this.quill.updateContents(new m.default().retain(Te).concat(Le),$e),this.quill.setSelection(Te+Le.length(),x.default.sources.SILENT)}}},{key:"onPaste",value:function(Te){var ye=this;if(!(Te.defaultPrevented||!this.quill.isEnabled())){var $e=this.quill.getSelection(),Le=new m.default().retain($e.index),ze=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(x.default.sources.SILENT),setTimeout(function(){Le=Le.concat(ye.convert()).delete($e.length),ye.quill.updateContents(Le,x.default.sources.USER),ye.quill.setSelection(Le.length()-$e.length,x.default.sources.SILENT),ye.quill.scrollingContainer.scrollTop=ze,ye.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Te=this,ye=[],$e=[];return this.matchers.forEach(function(Le){var ze=l(Le,2),Ke=ze[0],rt=ze[1];switch(Ke){case Node.TEXT_NODE:$e.push(rt);break;case Node.ELEMENT_NODE:ye.push(rt);break;default:[].forEach.call(Te.container.querySelectorAll(Ke),function(st){st[ie]=st[ie]||[],st[ie].push(rt)});break}}),[ye,$e]}}]),fe}(P.default);V.DEFAULTS={matchers:[],matchVisual:!0};function H(ue,fe,Ee){return(typeof fe>"u"?"undefined":o(fe))==="object"?Object.keys(fe).reduce(function(Te,ye){return H(Te,ye,fe[ye])},ue):ue.reduce(function(Te,ye){return ye.attributes&&ye.attributes[fe]?Te.push(ye):Te.insert(ye.insert,(0,d.default)({},L({},fe,Ee),ye.attributes))},new m.default)}function ne(ue){if(ue.nodeType!==Node.ELEMENT_NODE)return{};var fe="__ql-computed-style";return ue[fe]||(ue[fe]=window.getComputedStyle(ue))}function ee(ue,fe){for(var Ee="",Te=ue.ops.length-1;Te>=0&&Ee.length<fe.length;--Te){var ye=ue.ops[Te];if(typeof ye.insert!="string")break;Ee=ye.insert+Ee}return Ee.slice(-1*fe.length)===fe}function $(ue){if(ue.childNodes.length===0)return!1;var fe=ne(ue);return["block","list-item"].indexOf(fe.display)>-1}function Y(ue,fe,Ee){return ue.nodeType===ue.TEXT_NODE?Ee.reduce(function(Te,ye){return ye(ue,Te)},new m.default):ue.nodeType===ue.ELEMENT_NODE?[].reduce.call(ue.childNodes||[],function(Te,ye){var $e=Y(ye,fe,Ee);return ye.nodeType===ue.ELEMENT_NODE&&($e=fe.reduce(function(Le,ze){return ze(ye,Le)},$e),$e=(ye[ie]||[]).reduce(function(Le,ze){return ze(ye,Le)},$e)),Te.concat($e)},new m.default):new m.default}function Q(ue,fe,Ee){return H(Ee,ue,!0)}function te(ue,fe){var Ee=y.default.Attributor.Attribute.keys(ue),Te=y.default.Attributor.Class.keys(ue),ye=y.default.Attributor.Style.keys(ue),$e={};return Ee.concat(Te).concat(ye).forEach(function(Le){var ze=y.default.query(Le,y.default.Scope.ATTRIBUTE);ze!=null&&($e[ze.attrName]=ze.value(ue),$e[ze.attrName])||(ze=W[Le],ze!=null&&(ze.attrName===Le||ze.keyName===Le)&&($e[ze.attrName]=ze.value(ue)||void 0),ze=B[Le],ze!=null&&(ze.attrName===Le||ze.keyName===Le)&&(ze=B[Le],$e[ze.attrName]=ze.value(ue)||void 0))}),Object.keys($e).length>0&&(fe=H(fe,$e)),fe}function ae(ue,fe){var Ee=y.default.query(ue);if(Ee==null)return fe;if(Ee.prototype instanceof y.default.Embed){var Te={},ye=Ee.value(ue);ye!=null&&(Te[Ee.blotName]=ye,fe=new m.default().insert(Te,Ee.formats(ue)))}else typeof Ee.formats=="function"&&(fe=H(fe,Ee.blotName,Ee.formats(ue)));return fe}function ge(ue,fe){return ee(fe,`
`)||fe.insert(`
`),fe}function Ce(){return new m.default}function Re(ue,fe){var Ee=y.default.query(ue);if(Ee==null||Ee.blotName!=="list-item"||!ee(fe,`
`))return fe;for(var Te=-1,ye=ue.parentNode;!ye.classList.contains("ql-clipboard");)(y.default.query(ye)||{}).blotName==="list"&&(Te+=1),ye=ye.parentNode;return Te<=0?fe:fe.compose(new m.default().retain(fe.length()-1).retain(1,{indent:Te}))}function Pe(ue,fe){return ee(fe,`
`)||($(ue)||fe.length()>0&&ue.nextSibling&&$(ue.nextSibling))&&fe.insert(`
`),fe}function Ne(ue,fe){if($(ue)&&ue.nextElementSibling!=null&&!ee(fe,`

`)){var Ee=ue.offsetHeight+parseFloat(ne(ue).marginTop)+parseFloat(ne(ue).marginBottom);ue.nextElementSibling.offsetTop>ue.offsetTop+Ee*1.5&&fe.insert(`
`)}return fe}function Fe(ue,fe){var Ee={},Te=ue.style||{};return Te.fontStyle&&ne(ue).fontStyle==="italic"&&(Ee.italic=!0),Te.fontWeight&&(ne(ue).fontWeight.startsWith("bold")||parseInt(ne(ue).fontWeight)>=700)&&(Ee.bold=!0),Object.keys(Ee).length>0&&(fe=H(fe,Ee)),parseFloat(Te.textIndent||0)>0&&(fe=new m.default().insert("	").concat(fe)),fe}function Xe(ue,fe){var Ee=ue.data;if(ue.parentNode.tagName==="O:P")return fe.insert(Ee.trim());if(Ee.trim().length===0&&ue.parentNode.classList.contains("ql-clipboard"))return fe;if(!ne(ue.parentNode).whiteSpace.startsWith("pre")){var Te=function($e,Le){return Le=Le.replace(/[^\u00a0]/g,""),Le.length<1&&$e?" ":Le};Ee=Ee.replace(/\r\n/g," ").replace(/\n/g," "),Ee=Ee.replace(/\s\s+/g,Te.bind(Te,!0)),(ue.previousSibling==null&&$(ue.parentNode)||ue.previousSibling!=null&&$(ue.previousSibling))&&(Ee=Ee.replace(/^\s+/,Te.bind(Te,!1))),(ue.nextSibling==null&&$(ue.parentNode)||ue.nextSibling!=null&&$(ue.nextSibling))&&(Ee=Ee.replace(/\s+$/,Te.bind(Te,!1)))}return fe.insert(Ee)}n.default=V,n.matchAttributor=te,n.matchBlot=ae,n.matchNewline=Pe,n.matchSpacing=Ne,n.matchText=Xe},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function b(x,C){for(var w=0;w<C.length;w++){var E=C[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,C,w){return C&&b(x.prototype,C),w&&b(x,w),x}}(),l=function b(x,C,w){x===null&&(x=Function.prototype);var E=Object.getOwnPropertyDescriptor(x,C);if(E===void 0){var P=Object.getPrototypeOf(x);return P===null?void 0:b(P,C,w)}else{if("value"in E)return E.value;var S=E.get;return S===void 0?void 0:S.call(w)}},u=i(6),h=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function g(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function m(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function f(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var y=function(b){f(x,b);function x(){return g(this,x),m(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,[{key:"optimize",value:function(w){l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,w),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),x}(h.default);y.blotName="bold",y.tagName=["STRONG","B"],n.default=y},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var o=function(){function D(N,L){var U=[],J=!0,re=!1,Z=void 0;try{for(var ie=N[Symbol.iterator](),G;!(J=(G=ie.next()).done)&&(U.push(G.value),!(L&&U.length===L));J=!0);}catch(W){re=!0,Z=W}finally{try{!J&&ie.return&&ie.return()}finally{if(re)throw Z}}return U}return function(N,L){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return D(N,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function D(N,L){for(var U=0;U<L.length;U++){var J=L[U];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(N,J.key,J)}}return function(N,L,U){return L&&D(N.prototype,L),U&&D(N,U),N}}(),u=i(2),h=w(u),d=i(0),g=w(d),m=i(5),f=w(m),y=i(10),b=w(y),x=i(9),C=w(x);function w(D){return D&&D.__esModule?D:{default:D}}function E(D,N,L){return N in D?Object.defineProperty(D,N,{value:L,enumerable:!0,configurable:!0,writable:!0}):D[N]=L,D}function P(D,N){if(!(D instanceof N))throw new TypeError("Cannot call a class as a function")}function S(D,N){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:D}function O(D,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);D.prototype=Object.create(N&&N.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(D,N):D.__proto__=N)}var M=(0,b.default)("quill:toolbar"),R=function(D){O(N,D);function N(L,U){P(this,N);var J=S(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,L,U));if(Array.isArray(J.options.container)){var re=document.createElement("div");T(re,J.options.container),L.container.parentNode.insertBefore(re,L.container),J.container=re}else typeof J.options.container=="string"?J.container=document.querySelector(J.options.container):J.container=J.options.container;if(!(J.container instanceof HTMLElement)){var Z;return Z=M.error("Container required for toolbar",J.options),S(J,Z)}return J.container.classList.add("ql-toolbar"),J.controls=[],J.handlers={},Object.keys(J.options.handlers).forEach(function(ie){J.addHandler(ie,J.options.handlers[ie])}),[].forEach.call(J.container.querySelectorAll("button, select"),function(ie){J.attach(ie)}),J.quill.on(f.default.events.EDITOR_CHANGE,function(ie,G){ie===f.default.events.SELECTION_CHANGE&&J.update(G)}),J.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var ie=J.quill.selection.getRange(),G=o(ie,1),W=G[0];J.update(W)}),J}return l(N,[{key:"addHandler",value:function(U,J){this.handlers[U]=J}},{key:"attach",value:function(U){var J=this,re=[].find.call(U.classList,function(ie){return ie.indexOf("ql-")===0});if(re){if(re=re.slice(3),U.tagName==="BUTTON"&&U.setAttribute("type","button"),this.handlers[re]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[re]==null){M.warn("ignoring attaching to disabled format",re,U);return}if(g.default.query(re)==null){M.warn("ignoring attaching to nonexistent format",re,U);return}}var Z=U.tagName==="SELECT"?"change":"click";U.addEventListener(Z,function(ie){var G=void 0;if(U.tagName==="SELECT"){if(U.selectedIndex<0)return;var W=U.options[U.selectedIndex];W.hasAttribute("selected")?G=!1:G=W.value||!1}else U.classList.contains("ql-active")?G=!1:G=U.value||!U.hasAttribute("value"),ie.preventDefault();J.quill.focus();var B=J.quill.selection.getRange(),V=o(B,1),H=V[0];if(J.handlers[re]!=null)J.handlers[re].call(J,G);else if(g.default.query(re).prototype instanceof g.default.Embed){if(G=prompt("Enter "+re),!G)return;J.quill.updateContents(new h.default().retain(H.index).delete(H.length).insert(E({},re,G)),f.default.sources.USER)}else J.quill.format(re,G,f.default.sources.USER);J.update(H)}),this.controls.push([re,U])}}},{key:"update",value:function(U){var J=U==null?{}:this.quill.getFormat(U);this.controls.forEach(function(re){var Z=o(re,2),ie=Z[0],G=Z[1];if(G.tagName==="SELECT"){var W=void 0;if(U==null)W=null;else if(J[ie]==null)W=G.querySelector("option[selected]");else if(!Array.isArray(J[ie])){var B=J[ie];typeof B=="string"&&(B=B.replace(/\"/g,'\\"')),W=G.querySelector('option[value="'+B+'"]')}W==null?(G.value="",G.selectedIndex=-1):W.selected=!0}else if(U==null)G.classList.remove("ql-active");else if(G.hasAttribute("value")){var V=J[ie]===G.getAttribute("value")||J[ie]!=null&&J[ie].toString()===G.getAttribute("value")||J[ie]==null&&!G.getAttribute("value");G.classList.toggle("ql-active",V)}else G.classList.toggle("ql-active",J[ie]!=null)})}}]),N}(C.default);R.DEFAULTS={};function A(D,N,L){var U=document.createElement("button");U.setAttribute("type","button"),U.classList.add("ql-"+N),L!=null&&(U.value=L),D.appendChild(U)}function T(D,N){Array.isArray(N[0])||(N=[N]),N.forEach(function(L){var U=document.createElement("span");U.classList.add("ql-formats"),L.forEach(function(J){if(typeof J=="string")A(U,J);else{var re=Object.keys(J)[0],Z=J[re];Array.isArray(Z)?I(U,re,Z):A(U,re,Z)}}),D.appendChild(U)})}function I(D,N,L){var U=document.createElement("select");U.classList.add("ql-"+N),L.forEach(function(J){var re=document.createElement("option");J!==!1?re.setAttribute("value",J):re.setAttribute("selected","selected"),U.appendChild(re)}),D.appendChild(U)}R.DEFAULTS={container:null,handlers:{clean:function(){var N=this,L=this.quill.getSelection();if(L!=null)if(L.length==0){var U=this.quill.getFormat();Object.keys(U).forEach(function(J){g.default.query(J,g.default.Scope.INLINE)!=null&&N.quill.format(J,!1)})}else this.quill.removeFormat(L,f.default.sources.USER)},direction:function(N){var L=this.quill.getFormat().align;N==="rtl"&&L==null?this.quill.format("align","right",f.default.sources.USER):!N&&L==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",N,f.default.sources.USER)},indent:function(N){var L=this.quill.getSelection(),U=this.quill.getFormat(L),J=parseInt(U.indent||0);if(N==="+1"||N==="-1"){var re=N==="+1"?1:-1;U.direction==="rtl"&&(re*=-1),this.quill.format("indent",J+re,f.default.sources.USER)}},link:function(N){N===!0&&(N=prompt("Enter link URL:")),this.quill.format("link",N,f.default.sources.USER)},list:function(N){var L=this.quill.getSelection(),U=this.quill.getFormat(L);N==="check"?U.list==="checked"||U.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",N,f.default.sources.USER)}}},n.default=R,n.addControls=T},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function b(x,C){for(var w=0;w<C.length;w++){var E=C[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,C,w){return C&&b(x.prototype,C),w&&b(x,w),x}}(),l=function b(x,C,w){x===null&&(x=Function.prototype);var E=Object.getOwnPropertyDescriptor(x,C);if(E===void 0){var P=Object.getPrototypeOf(x);return P===null?void 0:b(P,C,w)}else{if("value"in E)return E.value;var S=E.get;return S===void 0?void 0:S.call(w)}},u=i(28),h=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function g(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function m(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function f(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var y=function(b){f(x,b);function x(C,w){g(this,x);var E=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,C));return E.label.innerHTML=w,E.container.classList.add("ql-color-picker"),[].slice.call(E.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(P){P.classList.add("ql-primary")}),E}return o(x,[{key:"buildItem",value:function(w){var E=l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"buildItem",this).call(this,w);return E.style.backgroundColor=w.getAttribute("value")||"",E}},{key:"selectItem",value:function(w,E){l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"selectItem",this).call(this,w,E);var P=this.label.querySelector(".ql-color-label"),S=w&&w.getAttribute("data-value")||"";P&&(P.tagName==="line"?P.style.stroke=S:P.style.fill=S)}}]),x}(h.default);n.default=y},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function b(x,C){for(var w=0;w<C.length;w++){var E=C[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,C,w){return C&&b(x.prototype,C),w&&b(x,w),x}}(),l=function b(x,C,w){x===null&&(x=Function.prototype);var E=Object.getOwnPropertyDescriptor(x,C);if(E===void 0){var P=Object.getPrototypeOf(x);return P===null?void 0:b(P,C,w)}else{if("value"in E)return E.value;var S=E.get;return S===void 0?void 0:S.call(w)}},u=i(28),h=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function g(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function m(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function f(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var y=function(b){f(x,b);function x(C,w){g(this,x);var E=m(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,C));return E.container.classList.add("ql-icon-picker"),[].forEach.call(E.container.querySelectorAll(".ql-picker-item"),function(P){P.innerHTML=w[P.getAttribute("data-value")||""]}),E.defaultItem=E.container.querySelector(".ql-selected"),E.selectItem(E.defaultItem),E}return o(x,[{key:"selectItem",value:function(w,E){l(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"selectItem",this).call(this,w,E),w=w||this.defaultItem,this.label.innerHTML=w.innerHTML}}]),x}(h.default);n.default=y},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function h(d,g){for(var m=0;m<g.length;m++){var f=g[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(d,f.key,f)}}return function(d,g,m){return g&&h(d.prototype,g),m&&h(d,m),d}}();function l(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var u=function(){function h(d,g){var m=this;l(this,h),this.quill=d,this.boundsContainer=g||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return o(h,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(g){var m=g.left+g.width/2-this.root.offsetWidth/2,f=g.bottom+this.quill.root.scrollTop;this.root.style.left=m+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var y=this.boundsContainer.getBoundingClientRect(),b=this.root.getBoundingClientRect(),x=0;if(b.right>y.right&&(x=y.right-b.right,this.root.style.left=m+x+"px"),b.left<y.left&&(x=y.left-b.left,this.root.style.left=m+x+"px"),b.bottom>y.bottom){var C=b.bottom-b.top,w=g.bottom-g.top+C;this.root.style.top=f-w+"px",this.root.classList.add("ql-flip")}return x}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),h}();n.default=u},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function I(D,N){var L=[],U=!0,J=!1,re=void 0;try{for(var Z=D[Symbol.iterator](),ie;!(U=(ie=Z.next()).done)&&(L.push(ie.value),!(N&&L.length===N));U=!0);}catch(G){J=!0,re=G}finally{try{!U&&Z.return&&Z.return()}finally{if(J)throw re}}return L}return function(D,N){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return I(D,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function I(D,N,L){D===null&&(D=Function.prototype);var U=Object.getOwnPropertyDescriptor(D,N);if(U===void 0){var J=Object.getPrototypeOf(D);return J===null?void 0:I(J,N,L)}else{if("value"in U)return U.value;var re=U.get;return re===void 0?void 0:re.call(L)}},u=function(){function I(D,N){for(var L=0;L<N.length;L++){var U=N[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(D,U.key,U)}}return function(D,N,L){return N&&I(D.prototype,N),L&&I(D,L),D}}(),h=i(3),d=P(h),g=i(8),m=P(g),f=i(43),y=P(f),b=i(27),x=P(b),C=i(15),w=i(41),E=P(w);function P(I){return I&&I.__esModule?I:{default:I}}function S(I,D){if(!(I instanceof D))throw new TypeError("Cannot call a class as a function")}function O(I,D){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:I}function M(I,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);I.prototype=Object.create(D&&D.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(I,D):I.__proto__=D)}var R=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],A=function(I){M(D,I);function D(N,L){S(this,D),L.modules.toolbar!=null&&L.modules.toolbar.container==null&&(L.modules.toolbar.container=R);var U=O(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N,L));return U.quill.container.classList.add("ql-snow"),U}return u(D,[{key:"extendToolbar",value:function(L){L.container.classList.add("ql-snow"),this.buildButtons([].slice.call(L.container.querySelectorAll("button")),E.default),this.buildPickers([].slice.call(L.container.querySelectorAll("select")),E.default),this.tooltip=new T(this.quill,this.options.bounds),L.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(U,J){L.handlers.link.call(L,!J.format.link)})}}]),D}(y.default);A.DEFAULTS=(0,d.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(D){if(D){var N=this.quill.getSelection();if(N==null||N.length==0)return;var L=this.quill.getText(N);/^\S+@\S+\.\S+$/.test(L)&&L.indexOf("mailto:")!==0&&(L="mailto:"+L);var U=this.quill.theme.tooltip;U.edit("link",L)}else this.quill.format("link",!1)}}}}});var T=function(I){M(D,I);function D(N,L){S(this,D);var U=O(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,N,L));return U.preview=U.root.querySelector("a.ql-preview"),U}return u(D,[{key:"listen",value:function(){var L=this;l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(U){L.root.classList.contains("ql-editing")?L.save():L.edit("link",L.preview.textContent),U.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(U){if(L.linkRange!=null){var J=L.linkRange;L.restoreFocus(),L.quill.formatText(J,"link",!1,m.default.sources.USER),delete L.linkRange}U.preventDefault(),L.hide()}),this.quill.on(m.default.events.SELECTION_CHANGE,function(U,J,re){if(U!=null){if(U.length===0&&re===m.default.sources.USER){var Z=L.quill.scroll.descendant(x.default,U.index),ie=o(Z,2),G=ie[0],W=ie[1];if(G!=null){L.linkRange=new C.Range(U.index-W,G.length());var B=x.default.formats(G.domNode);L.preview.textContent=B,L.preview.setAttribute("href",B),L.show(),L.position(L.quill.getBounds(L.linkRange));return}}else delete L.linkRange;L.hide()}})}},{key:"show",value:function(){l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),D}(f.BaseTooltip);T.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=A},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(29),l=ye(o),u=i(36),h=i(38),d=i(64),g=i(65),m=ye(g),f=i(66),y=ye(f),b=i(67),x=ye(b),C=i(37),w=i(26),E=i(39),P=i(40),S=i(56),O=ye(S),M=i(68),R=ye(M),A=i(27),T=ye(A),I=i(69),D=ye(I),N=i(70),L=ye(N),U=i(71),J=ye(U),re=i(72),Z=ye(re),ie=i(73),G=ye(ie),W=i(13),B=ye(W),V=i(74),H=ye(V),ne=i(75),ee=ye(ne),$=i(57),Y=ye($),Q=i(41),te=ye(Q),ae=i(28),ge=ye(ae),Ce=i(59),Re=ye(Ce),Pe=i(60),Ne=ye(Pe),Fe=i(61),Xe=ye(Fe),ue=i(108),fe=ye(ue),Ee=i(62),Te=ye(Ee);function ye($e){return $e&&$e.__esModule?$e:{default:$e}}l.default.register({"attributors/attribute/direction":h.DirectionAttribute,"attributors/class/align":u.AlignClass,"attributors/class/background":C.BackgroundClass,"attributors/class/color":w.ColorClass,"attributors/class/direction":h.DirectionClass,"attributors/class/font":E.FontClass,"attributors/class/size":P.SizeClass,"attributors/style/align":u.AlignStyle,"attributors/style/background":C.BackgroundStyle,"attributors/style/color":w.ColorStyle,"attributors/style/direction":h.DirectionStyle,"attributors/style/font":E.FontStyle,"attributors/style/size":P.SizeStyle},!0),l.default.register({"formats/align":u.AlignClass,"formats/direction":h.DirectionClass,"formats/indent":d.IndentClass,"formats/background":C.BackgroundStyle,"formats/color":w.ColorStyle,"formats/font":E.FontClass,"formats/size":P.SizeClass,"formats/blockquote":m.default,"formats/code-block":B.default,"formats/header":y.default,"formats/list":x.default,"formats/bold":O.default,"formats/code":W.Code,"formats/italic":R.default,"formats/link":T.default,"formats/script":D.default,"formats/strike":L.default,"formats/underline":J.default,"formats/image":Z.default,"formats/video":G.default,"formats/list/item":b.ListItem,"modules/formula":H.default,"modules/syntax":ee.default,"modules/toolbar":Y.default,"themes/bubble":fe.default,"themes/snow":Te.default,"ui/icons":te.default,"ui/picker":ge.default,"ui/icon-picker":Ne.default,"ui/color-picker":Re.default,"ui/tooltip":Xe.default},!0),n.default=l.default},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var o=function(){function x(C,w){for(var E=0;E<w.length;E++){var P=w[E];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}return function(C,w,E){return w&&x(C.prototype,w),E&&x(C,E),C}}(),l=function x(C,w,E){C===null&&(C=Function.prototype);var P=Object.getOwnPropertyDescriptor(C,w);if(P===void 0){var S=Object.getPrototypeOf(C);return S===null?void 0:x(S,w,E)}else{if("value"in P)return P.value;var O=P.get;return O===void 0?void 0:O.call(E)}},u=i(0),h=d(u);function d(x){return x&&x.__esModule?x:{default:x}}function g(x,C){if(!(x instanceof C))throw new TypeError("Cannot call a class as a function")}function m(x,C){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:x}function f(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);x.prototype=Object.create(C&&C.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(x,C):x.__proto__=C)}var y=function(x){f(C,x);function C(){return g(this,C),m(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return o(C,[{key:"add",value:function(E,P){if(P==="+1"||P==="-1"){var S=this.value(E)||0;P=P==="+1"?S+1:S-1}return P===0?(this.remove(E),!0):l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"add",this).call(this,E,P)}},{key:"canAdd",value:function(E,P){return l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"canAdd",this).call(this,E,P)||l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"canAdd",this).call(this,E,parseInt(P))}},{key:"value",value:function(E){return parseInt(l(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"value",this).call(this,E))||void 0}}]),C}(h.default.Attributor.Class),b=new y("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(4),l=u(o);function u(f){return f&&f.__esModule?f:{default:f}}function h(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}function d(f,y){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:f}function g(f,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);f.prototype=Object.create(y&&y.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(f,y):f.__proto__=y)}var m=function(f){g(y,f);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(l.default);m.blotName="blockquote",m.tagName="blockquote",n.default=m},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function y(b,x){for(var C=0;C<x.length;C++){var w=x[C];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,x,C){return x&&y(b.prototype,x),C&&y(b,C),b}}(),l=i(4),u=h(l);function h(y){return y&&y.__esModule?y:{default:y}}function d(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function g(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function m(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var f=function(y){m(b,y);function b(){return d(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,null,[{key:"formats",value:function(C){return this.tagName.indexOf(C.tagName)+1}}]),b}(u.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],n.default=f},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var o=function(){function S(O,M){for(var R=0;R<M.length;R++){var A=M[R];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,M,R){return M&&S(O.prototype,M),R&&S(O,R),O}}(),l=function S(O,M,R){O===null&&(O=Function.prototype);var A=Object.getOwnPropertyDescriptor(O,M);if(A===void 0){var T=Object.getPrototypeOf(O);return T===null?void 0:S(T,M,R)}else{if("value"in A)return A.value;var I=A.get;return I===void 0?void 0:I.call(R)}},u=i(0),h=y(u),d=i(4),g=y(d),m=i(25),f=y(m);function y(S){return S&&S.__esModule?S:{default:S}}function b(S,O,M){return O in S?Object.defineProperty(S,O,{value:M,enumerable:!0,configurable:!0,writable:!0}):S[O]=M,S}function x(S,O){if(!(S instanceof O))throw new TypeError("Cannot call a class as a function")}function C(S,O){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:S}function w(S,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);S.prototype=Object.create(O&&O.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(S,O):S.__proto__=O)}var E=function(S){w(O,S);function O(){return x(this,O),C(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return o(O,[{key:"format",value:function(R,A){R===P.blotName&&!A?this.replaceWith(h.default.create(this.statics.scope)):l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,R,A)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(R,A){return this.parent.isolate(this.offset(this.parent),this.length()),R===this.parent.statics.blotName?(this.parent.replaceWith(R,A),this):(this.parent.unwrap(),l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,R,A))}}],[{key:"formats",value:function(R){return R.tagName===this.tagName?void 0:l(O.__proto__||Object.getPrototypeOf(O),"formats",this).call(this,R)}}]),O}(g.default);E.blotName="list-item",E.tagName="LI";var P=function(S){w(O,S),o(O,null,[{key:"create",value:function(R){var A=R==="ordered"?"OL":"UL",T=l(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,A);return(R==="checked"||R==="unchecked")&&T.setAttribute("data-checked",R==="checked"),T}},{key:"formats",value:function(R){if(R.tagName==="OL")return"ordered";if(R.tagName==="UL")return R.hasAttribute("data-checked")?R.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function O(M){x(this,O);var R=C(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,M)),A=function(I){if(I.target.parentNode===M){var D=R.statics.formats(M),N=h.default.find(I.target);D==="checked"?N.format("list","unchecked"):D==="unchecked"&&N.format("list","checked")}};return M.addEventListener("touchstart",A),M.addEventListener("mousedown",A),R}return o(O,[{key:"format",value:function(R,A){this.children.length>0&&this.children.tail.format(R,A)}},{key:"formats",value:function(){return b({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(R,A){if(R instanceof E)l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,R,A);else{var T=A==null?this.length():A.offset(this),I=this.split(T);I.parent.insertBefore(R,I)}}},{key:"optimize",value:function(R){l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,R);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&A.domNode.tagName===this.domNode.tagName&&A.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(A.moveChildren(this),A.remove())}},{key:"replace",value:function(R){if(R.statics.blotName!==this.statics.blotName){var A=h.default.create(this.statics.defaultChild);R.moveChildren(A),this.appendChild(A)}l(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,R)}}]),O}(f.default);P.blotName="list",P.scope=h.default.Scope.BLOCK_BLOT,P.tagName=["OL","UL"],P.defaultChild="list-item",P.allowedChildren=[E],n.ListItem=E,n.default=P},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(56),l=u(o);function u(f){return f&&f.__esModule?f:{default:f}}function h(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}function d(f,y){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:f}function g(f,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);f.prototype=Object.create(y&&y.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(f,y):f.__proto__=y)}var m=function(f){g(y,f);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(l.default);m.blotName="italic",m.tagName=["EM","I"],n.default=m},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function b(x,C){for(var w=0;w<C.length;w++){var E=C[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,C,w){return C&&b(x.prototype,C),w&&b(x,w),x}}(),l=function b(x,C,w){x===null&&(x=Function.prototype);var E=Object.getOwnPropertyDescriptor(x,C);if(E===void 0){var P=Object.getPrototypeOf(x);return P===null?void 0:b(P,C,w)}else{if("value"in E)return E.value;var S=E.get;return S===void 0?void 0:S.call(w)}},u=i(6),h=d(u);function d(b){return b&&b.__esModule?b:{default:b}}function g(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}function m(b,x){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:b}function f(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)}var y=function(b){f(x,b);function x(){return g(this,x),m(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,null,[{key:"create",value:function(w){return w==="super"?document.createElement("sup"):w==="sub"?document.createElement("sub"):l(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,w)}},{key:"formats",value:function(w){if(w.tagName==="SUB")return"sub";if(w.tagName==="SUP")return"super"}}]),x}(h.default);y.blotName="script",y.tagName=["SUB","SUP"],n.default=y},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(6),l=u(o);function u(f){return f&&f.__esModule?f:{default:f}}function h(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}function d(f,y){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:f}function g(f,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);f.prototype=Object.create(y&&y.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(f,y):f.__proto__=y)}var m=function(f){g(y,f);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(l.default);m.blotName="strike",m.tagName="S",n.default=m},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(6),l=u(o);function u(f){return f&&f.__esModule?f:{default:f}}function h(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")}function d(f,y){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:f}function g(f,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);f.prototype=Object.create(y&&y.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(f,y):f.__proto__=y)}var m=function(f){g(y,f);function y(){return h(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(l.default);m.blotName="underline",m.tagName="U",n.default=m},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function C(w,E){for(var P=0;P<E.length;P++){var S=E[P];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,E,P){return E&&C(w.prototype,E),P&&C(w,P),w}}(),l=function C(w,E,P){w===null&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,E);if(S===void 0){var O=Object.getPrototypeOf(w);return O===null?void 0:C(O,E,P)}else{if("value"in S)return S.value;var M=S.get;return M===void 0?void 0:M.call(P)}},u=i(0),h=g(u),d=i(27);function g(C){return C&&C.__esModule?C:{default:C}}function m(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}function f(C,w){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:C}function y(C,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);C.prototype=Object.create(w&&w.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(C,w):C.__proto__=w)}var b=["alt","height","width"],x=function(C){y(w,C);function w(){return m(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(P,S){b.indexOf(P)>-1?S?this.domNode.setAttribute(P,S):this.domNode.removeAttribute(P):l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,P,S)}}],[{key:"create",value:function(P){var S=l(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,P);return typeof P=="string"&&S.setAttribute("src",this.sanitize(P)),S}},{key:"formats",value:function(P){return b.reduce(function(S,O){return P.hasAttribute(O)&&(S[O]=P.getAttribute(O)),S},{})}},{key:"match",value:function(P){return/\.(jpe?g|gif|png)$/.test(P)||/^data:image\/.+;base64/.test(P)}},{key:"sanitize",value:function(P){return(0,d.sanitize)(P,["http","https","data"])?P:"//:0"}},{key:"value",value:function(P){return P.getAttribute("src")}}]),w}(h.default.Embed);x.blotName="image",x.tagName="IMG",n.default=x},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function C(w,E){for(var P=0;P<E.length;P++){var S=E[P];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,E,P){return E&&C(w.prototype,E),P&&C(w,P),w}}(),l=function C(w,E,P){w===null&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,E);if(S===void 0){var O=Object.getPrototypeOf(w);return O===null?void 0:C(O,E,P)}else{if("value"in S)return S.value;var M=S.get;return M===void 0?void 0:M.call(P)}},u=i(4),h=i(27),d=g(h);function g(C){return C&&C.__esModule?C:{default:C}}function m(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}function f(C,w){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:C}function y(C,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);C.prototype=Object.create(w&&w.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(C,w):C.__proto__=w)}var b=["height","width"],x=function(C){y(w,C);function w(){return m(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(P,S){b.indexOf(P)>-1?S?this.domNode.setAttribute(P,S):this.domNode.removeAttribute(P):l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,P,S)}}],[{key:"create",value:function(P){var S=l(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,P);return S.setAttribute("frameborder","0"),S.setAttribute("allowfullscreen",!0),S.setAttribute("src",this.sanitize(P)),S}},{key:"formats",value:function(P){return b.reduce(function(S,O){return P.hasAttribute(O)&&(S[O]=P.getAttribute(O)),S},{})}},{key:"sanitize",value:function(P){return d.default.sanitize(P)}},{key:"value",value:function(P){return P.getAttribute("src")}}]),w}(u.BlockEmbed);x.blotName="video",x.className="ql-video",x.tagName="IFRAME",n.default=x},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var o=function(){function P(S,O){for(var M=0;M<O.length;M++){var R=O[M];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}}return function(S,O,M){return O&&P(S.prototype,O),M&&P(S,M),S}}(),l=function P(S,O,M){S===null&&(S=Function.prototype);var R=Object.getOwnPropertyDescriptor(S,O);if(R===void 0){var A=Object.getPrototypeOf(S);return A===null?void 0:P(A,O,M)}else{if("value"in R)return R.value;var T=R.get;return T===void 0?void 0:T.call(M)}},u=i(35),h=y(u),d=i(5),g=y(d),m=i(9),f=y(m);function y(P){return P&&P.__esModule?P:{default:P}}function b(P,S){if(!(P instanceof S))throw new TypeError("Cannot call a class as a function")}function x(P,S){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:P}function C(P,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);P.prototype=Object.create(S&&S.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(P,S):P.__proto__=S)}var w=function(P){C(S,P);function S(){return b(this,S),x(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,null,[{key:"create",value:function(M){var R=l(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,M);return typeof M=="string"&&(window.katex.render(M,R,{throwOnError:!1,errorColor:"#f00"}),R.setAttribute("data-value",M)),R}},{key:"value",value:function(M){return M.getAttribute("data-value")}}]),S}(h.default);w.blotName="formula",w.className="ql-formula",w.tagName="SPAN";var E=function(P){C(S,P),o(S,null,[{key:"register",value:function(){g.default.register(w,!0)}}]);function S(){b(this,S);var O=x(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return O}return S}(f.default);n.FormulaBlot=w,n.default=E},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var o=function(){function M(R,A){for(var T=0;T<A.length;T++){var I=A[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,I.key,I)}}return function(R,A,T){return A&&M(R.prototype,A),T&&M(R,T),R}}(),l=function M(R,A,T){R===null&&(R=Function.prototype);var I=Object.getOwnPropertyDescriptor(R,A);if(I===void 0){var D=Object.getPrototypeOf(R);return D===null?void 0:M(D,A,T)}else{if("value"in I)return I.value;var N=I.get;return N===void 0?void 0:N.call(T)}},u=i(0),h=x(u),d=i(5),g=x(d),m=i(9),f=x(m),y=i(13),b=x(y);function x(M){return M&&M.__esModule?M:{default:M}}function C(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}function w(M,R){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:M}function E(M,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(M,R):M.__proto__=R)}var P=function(M){E(R,M);function R(){return C(this,R),w(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"replaceWith",value:function(T){this.domNode.textContent=this.domNode.textContent,this.attach(),l(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replaceWith",this).call(this,T)}},{key:"highlight",value:function(T){var I=this.domNode.textContent;this.cachedText!==I&&((I.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=T(I),this.domNode.normalize(),this.attach()),this.cachedText=I)}}]),R}(b.default);P.className="ql-syntax";var S=new h.default.Attributor.Class("token","hljs",{scope:h.default.Scope.INLINE}),O=function(M){E(R,M),o(R,null,[{key:"register",value:function(){g.default.register(S,!0),g.default.register(P,!0)}}]);function R(A,T){C(this,R);var I=w(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,A,T));if(typeof I.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var D=null;return I.quill.on(g.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(D),D=setTimeout(function(){I.highlight(),D=null},I.options.interval)}),I.highlight(),I}return o(R,[{key:"highlight",value:function(){var T=this;if(!this.quill.selection.composing){this.quill.update(g.default.sources.USER);var I=this.quill.getSelection();this.quill.scroll.descendants(P).forEach(function(D){D.highlight(T.options.highlight)}),this.quill.update(g.default.sources.SILENT),I!=null&&this.quill.setSelection(I,g.default.sources.SILENT)}}}]),R}(f.default);O.DEFAULTS={highlight:function(){return window.hljs==null?null:function(M){var R=window.hljs.highlightAuto(M);return R.value}}(),interval:1e3},n.CodeBlock=P,n.CodeToken=S,n.default=O},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var o=function R(A,T,I){A===null&&(A=Function.prototype);var D=Object.getOwnPropertyDescriptor(A,T);if(D===void 0){var N=Object.getPrototypeOf(A);return N===null?void 0:R(N,T,I)}else{if("value"in D)return D.value;var L=D.get;return L===void 0?void 0:L.call(I)}},l=function(){function R(A,T){for(var I=0;I<T.length;I++){var D=T[I];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(A,D.key,D)}}return function(A,T,I){return T&&R(A.prototype,T),I&&R(A,I),A}}(),u=i(3),h=C(u),d=i(8),g=C(d),m=i(43),f=C(m),y=i(15),b=i(41),x=C(b);function C(R){return R&&R.__esModule?R:{default:R}}function w(R,A){if(!(R instanceof A))throw new TypeError("Cannot call a class as a function")}function E(R,A){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:R}function P(R,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);R.prototype=Object.create(A&&A.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(R,A):R.__proto__=A)}var S=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],O=function(R){P(A,R);function A(T,I){w(this,A),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=S);var D=E(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T,I));return D.quill.container.classList.add("ql-bubble"),D}return l(A,[{key:"extendToolbar",value:function(I){this.tooltip=new M(this.quill,this.options.bounds),this.tooltip.root.appendChild(I.container),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),x.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),x.default)}}]),A}(f.default);O.DEFAULTS=(0,h.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){A?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var M=function(R){P(A,R);function A(T,I){w(this,A);var D=E(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,T,I));return D.quill.on(g.default.events.EDITOR_CHANGE,function(N,L,U,J){if(N===g.default.events.SELECTION_CHANGE)if(L!=null&&L.length>0&&J===g.default.sources.USER){D.show(),D.root.style.left="0px",D.root.style.width="",D.root.style.width=D.root.offsetWidth+"px";var re=D.quill.getLines(L.index,L.length);if(re.length===1)D.position(D.quill.getBounds(L));else{var Z=re[re.length-1],ie=D.quill.getIndex(Z),G=Math.min(Z.length()-1,L.index+L.length-ie),W=D.quill.getBounds(new y.Range(ie,G));D.position(W)}}else document.activeElement!==D.textbox&&D.quill.hasFocus()&&D.hide()}),D}return l(A,[{key:"listen",value:function(){var I=this;o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){I.root.classList.remove("ql-editing")}),this.quill.on(g.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!I.root.classList.contains("ql-hidden")){var D=I.quill.getSelection();D!=null&&I.position(I.quill.getBounds(D))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(I){var D=o(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"position",this).call(this,I),N=this.root.querySelector(".ql-tooltip-arrow");if(N.style.marginLeft="",D===0)return D;N.style.marginLeft=-1*D-N.offsetWidth/2+"px"}}]),A}(m.BaseTooltip);M.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=M,n.default=O},function(t,n,i){t.exports=i(63)}]).default})}($h)),$h.exports}var $r,eC;function d9(){if(eC)return $r;eC=1;var r=$r&&$r.__extends||function(){var g=function(m,f){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var x in b)b.hasOwnProperty(x)&&(y[x]=b[x])},g(m,f)};return function(m,f){g(m,f);function y(){this.constructor=m}m.prototype=f===null?Object.create(f):(y.prototype=f.prototype,new y)}}(),e=$r&&$r.__assign||function(){return e=Object.assign||function(g){for(var m,f=1,y=arguments.length;f<y;f++){m=arguments[f];for(var b in m)Object.prototype.hasOwnProperty.call(m,b)&&(g[b]=m[b])}return g},e.apply(this,arguments)},t=$r&&$r.__spreadArrays||function(){for(var g=0,m=0,f=arguments.length;m<f;m++)g+=arguments[m].length;for(var y=Array(g),b=0,m=0;m<f;m++)for(var x=arguments[m],C=0,w=x.length;C<w;C++,b++)y[b]=x[C];return y},n=$r&&$r.__importDefault||function(g){return g&&g.__esModule?g:{default:g}},i=n(Ad()),o=n(Iy()),l=n(u9()),u=n(h9()),h=function(g){r(m,g);function m(f){var y=g.call(this,f)||this;y.dirtyProps=["modules","formats","bounds","theme","children"],y.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],y.state={generation:0},y.selection=null,y.onEditorChange=function(x,C,w,E){var P,S,O,M;x==="text-change"?(S=(P=y).onEditorChangeText)===null||S===void 0||S.call(P,y.editor.root.innerHTML,C,E,y.unprivilegedEditor):x==="selection-change"&&((M=(O=y).onEditorChangeSelection)===null||M===void 0||M.call(O,C,E,y.unprivilegedEditor))};var b=y.isControlled()?f.value:f.defaultValue;return y.value=b??"",y}return m.prototype.validateProps=function(f){var y;if(i.default.Children.count(f.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(f.children)){var b=i.default.Children.only(f.children);if(((y=b)===null||y===void 0?void 0:y.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&f.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},m.prototype.shouldComponentUpdate=function(f,y){var b=this,x;if(this.validateProps(f),!this.editor||this.state.generation!==y.generation)return!0;if("value"in f){var C=this.getEditorContents(),w=(x=f.value,x??"");this.isEqualValue(w,C)||this.setEditorContents(this.editor,w)}return f.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,f.readOnly),t(this.cleanProps,this.dirtyProps).some(function(E){return!l.default(f[E],b.props[E])})},m.prototype.shouldComponentRegenerate=function(f){var y=this;return this.dirtyProps.some(function(b){return!l.default(f[b],y.props[b])})},m.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},m.prototype.componentWillUnmount=function(){this.destroyEditor()},m.prototype.componentDidUpdate=function(f,y){var b=this;if(this.editor&&this.shouldComponentRegenerate(f)){var x=this.editor.getContents(),C=this.editor.getSelection();this.regenerationSnapshot={delta:x,selection:C},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==y.generation){var w=this.regenerationSnapshot,x=w.delta,E=w.selection;delete this.regenerationSnapshot,this.instantiateEditor();var P=this.editor;P.setContents(x),d(function(){return b.setEditorSelection(P,E)})}},m.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},m.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},m.prototype.isControlled=function(){return"value"in this.props},m.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},m.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},m.prototype.createEditor=function(f,y){var b=new u.default(f,y);return y.tabIndex!=null&&this.setEditorTabIndex(b,y.tabIndex),this.hookEditor(b),b},m.prototype.hookEditor=function(f){this.unprivilegedEditor=this.makeUnprivilegedEditor(f),f.on("editor-change",this.onEditorChange)},m.prototype.unhookEditor=function(f){f.off("editor-change",this.onEditorChange)},m.prototype.getEditorContents=function(){return this.value},m.prototype.getEditorSelection=function(){return this.selection},m.prototype.isDelta=function(f){return f&&f.ops},m.prototype.isEqualValue=function(f,y){return this.isDelta(f)&&this.isDelta(y)?l.default(f.ops,y.ops):l.default(f,y)},m.prototype.setEditorContents=function(f,y){var b=this;this.value=y;var x=this.getEditorSelection();typeof y=="string"?f.setContents(f.clipboard.convert(y)):f.setContents(y),d(function(){return b.setEditorSelection(f,x)})},m.prototype.setEditorSelection=function(f,y){if(this.selection=y,y){var b=f.getLength();y.index=Math.max(0,Math.min(y.index,b-1)),y.length=Math.max(0,Math.min(y.length,b-1-y.index)),f.setSelection(y)}},m.prototype.setEditorTabIndex=function(f,y){var b,x;!((x=(b=f)===null||b===void 0?void 0:b.scroll)===null||x===void 0)&&x.domNode&&(f.scroll.domNode.tabIndex=y)},m.prototype.setEditorReadOnly=function(f,y){y?f.disable():f.enable()},m.prototype.makeUnprivilegedEditor=function(f){var y=f;return{getHTML:function(){return y.root.innerHTML},getLength:y.getLength.bind(y),getText:y.getText.bind(y),getContents:y.getContents.bind(y),getSelection:y.getSelection.bind(y),getBounds:y.getBounds.bind(y)}},m.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var f=o.default.findDOMNode(this.editingArea);if(!f)throw new Error("Cannot find element for editing area");if(f.nodeType===3)throw new Error("Editing area cannot be a text node");return f},m.prototype.renderEditingArea=function(){var f=this,y=this.props,b=y.children,x=y.preserveWhitespace,C=this.state.generation,w={key:C,ref:function(E){f.editingArea=E}};return i.default.Children.count(b)?i.default.cloneElement(i.default.Children.only(b),w):x?i.default.createElement("pre",e({},w)):i.default.createElement("div",e({},w))},m.prototype.render=function(){var f;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(f=this.props.className,f??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},m.prototype.onEditorChangeText=function(f,y,b,x){var C,w;if(this.editor){var E=this.isDelta(this.value)?x.getContents():x.getHTML();E!==this.getEditorContents()&&(this.lastDeltaChangeSet=y,this.value=E,(w=(C=this.props).onChange)===null||w===void 0||w.call(C,f,y,b,x))}},m.prototype.onEditorChangeSelection=function(f,y,b){var x,C,w,E,P,S;if(this.editor){var O=this.getEditorSelection(),M=!O&&f,R=O&&!f;l.default(f,O)||(this.selection=f,(C=(x=this.props).onChangeSelection)===null||C===void 0||C.call(x,f,y,b),M?(E=(w=this.props).onFocus)===null||E===void 0||E.call(w,f,y,b):R&&((S=(P=this.props).onBlur)===null||S===void 0||S.call(P,O,y,b)))}},m.prototype.focus=function(){this.editor&&this.editor.focus()},m.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},m.displayName="React Quill",m.Quill=u.default,m.defaultProps={theme:"snow",modules:{},readOnly:!1},m}(i.default.Component);function d(g){Promise.resolve().then(g)}return $r=h,$r}var f9=d9();const p9=qu(f9);class m9 extends za{constructor(e){super(e),this.quillRef=qe.createRef()}getFormHtml(){return _.jsx("div",{children:_.jsx(p9,{ref:this.quillRef,modules:{toolbar:[["bold","italic","underline","blockquote"],[{color:["#F4F5F8","#E6FFFD","#99AFD1","#ecd23a","#fd5259","#D7ABF7","#9EFFA0","#F4F5F888","#E6FFFD77","#99AFD188","#ecd23a88","#fd525988","#D7ABF788","#9EFFA088","#000000","#E6FFFD44","#99AFD155","#ecd23a55","#fd525955","#D7ABF755","#9EFFA055"]},{background:[!1,"black","#00274D","#C1A71B","#5F0C0C","#4B0082","#002E07"]}],[,"code-block"],[{list:"ordered"},{list:"bullet"},{align:[]}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[],["clean"]]},style:this.props.wrapperStyle?{...this.props.wrapperStyle}:{minHeight:"100%",padding:"8px",minWidth:"99%",width:"100%"},theme:"snow",value:this.obj[0].getJson()[this.props.name],onChange:this.objDispatch})})}}class tS extends eo{constructor(e){super(e)}createFileInfo(e){const t=new Date,n=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0");let l="images/"+`${Math.floor(Math.random()*9999)}-${n+i}`+e.target.files[0].name;return this.fileInfo={selectedFile:e.target.files[0],path:l,pic:URL.createObjectURL(e.target.files[0])},this.setState({...this.fileInfo}),this.fileInfo}async prepareOnChange(){let e=await this.operationsFactory.prepare({prepare:{...this.props.prepareOnChange},clean:!0});e=e[0],this.obj=e}async changeHandler(e){var n;await this.createFileInfo(e),this.props.prepareOnChange&&await this.prepareOnChange(),this.props.callBackFunc&&await this.props.callBackFunc(this.obj,this.fileInfo);let t;if(await this.APIService.uploadPics(this.fileInfo.selectedFile,this.fileInfo.path),!this.obj.getPicSrc){if(t=await this.APIService.downloadPics(this.fileInfo.path),!this.props.skipUpdate&&!this.state.skipUpdate)if((n=this.obj)!=null&&n.length)for(let i of this.obj)await i.setCompState({[this.props.uploadAttribute||"picURL"]:t});else await this.obj.setCompState({[this.props.uploadAttribute||"picURL"]:t});this.props.downloadPicsCallBackFunc&&this.props.downloadPicsCallBackFunc(this.obj,this.fileInfo)}return this.props.runOnChange&&this.onSubmit(),t}async onSubmit(){this.props.prepareOnChange&&await this.operationsFactory.addToComponentList(),await this.obj.update(),this.props.finishCallBackFunc&&this.props.finishCallBackFunc(this.obj),this.dispatch({imgUploaded:this.obj})}additionalSetup(){this.wrapper.setStyle({maxWidth:"300px",maxHeight:"30px",width:"fit-content"}),this.label.setStyle({display:"inline-block",height:"35px",maxWidth:"fit-content",cursor:"pointer",position:"relative"}),this.form.updateProps({accept:"image/png, image/gif, image/jpeg, image/jpg, image/webp, image/svg+xml, application/pdf",style:{position:"absolute",top:0,left:0,cursor:"pointer",width:"100%",height:"100%",opacity:0},size:"6",type:"file",name:"file",onChange:this.changeHandler})}getInnerContent(){let e=this.getFormHtml();return this.innerContent=[this.label.getHtml({content:e,type:"label"}),this.props.errorText&&this.error.getHtml()],this.innerContent}getFormHtml(){return this.content=this.props.content||_.jsx(_.Fragment,{children:"Upload"}),_.jsxs("div",{className:this.props.containerStyle||"defaultButton",children:[this.content,this.form.getHtml({type:"input"})]})}}class g9 extends tS{constructor(e){super(e)}getFormHtml(){var t,n;this.content=this.props.content||_.jsx(_.Fragment,{children:"Upload"});let e=(n=(t=this.obj)==null?void 0:t[0])==null?void 0:n.getJson()[this.props.uploadImgAttribute||"picURL"];return _.jsxs(_.Fragment,{children:[_.jsxs("div",{style:this.props.containerStyle,className:this.props.containerClass||"defaultButton",children:[this.content,this.form.getHtml({type:"input"})]}),(this.state.pic||e)&&_.jsx("img",{style:this.props.uploadedImgStyle,className:this.props.uploadedImgClass||"uploadedImg",src:this.state.pic||e})]})}}let y9=class extends eo{constructor(e){super(e),this.state.formClass="FCDefaultDelButton",this.content="Delete"}buttonClickFunc(){this.props.obj.del()}};class v9 extends Hx{constructor(){super(...arguments);le(this,"factory",{input:za,textarea:za,select:za,math:$4,addButton:z4,baseButton:eo,popupButton:G4,updateButton:K4,runButton:J4,quill:m9,upload:tS,showUpload:g9,del:y9})}}class zv extends nt{constructor(){super();le(this,"addToProps",{});le(this,"addToInitialSetup",[]);le(this,"getterFunc");this.state={}}getProps(){return{interface:this.interface,app:this.app,theme:this.props.theme,type:this.props.type,...this.props,...this.addToProps}}setComponentList(){var t;this.componentList=(t=this.interface)==null?void 0:t.getComponentList()}setProps(){}getHtml(){this.setProps();let t=this.getProps();return this.setGetterFunc(this.props.getterFunc),this.getterFunc&&(this.html=this.getterFunc({...t},t.type||this.state.type)),_.jsx(_.Fragment,{children:this.html})}setGetterFunc(t){this.getterFunc=t||this.interface.getMainFunc()||this.getterFunc}addToFactory(){if(this.props.addToFactory){let t=this.interface.getFactory();for(let n of this.props.addToFactory)t.registerComponent(n.type,n.comp)}}preSetup(){this.componentPreSetup(),this.initialSetupFunctions=[...this.initialSetupFunctions,this.setComponentList,this.addToFactory,...this.addToInitialSetup]}componentPreSetup(){}}class nS extends ul{constructor(){super(...arguments);le(this,"mainFunc",this.getFormComponent)}getFactory(){return this.factory===void 0&&(this.factory=new v9),this.factory}getThemeFactory(){return this.themeFactory===void 0&&(this.themeFactory=new U4),this.themeFactory}getFormComponent(t,n){return n=n||"input",this.factory.getComponent(n,t)}}const rS=new nS;class Ze extends zv{constructor(e){super(e),this.state={type:"input"},this.interface=rS}}class sf extends Ze{constructor(e){super(e),this.state={type:"popupButton"}}}class Hv extends Ze{constructor(e){super(e),this.state={type:"updateButton"}}}class ns extends Ze{constructor(e){super(e),this.state={type:"runButton"}}}class _9 extends Ze{constructor(e){super(e),this.state={type:e.uploadType||"upload"}}}class of extends Ze{constructor(e){super(e),this.state={type:e.uploadType||"del"}}}class Wn extends nt{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setCell,this.getUseId],this.state={...this.state,defaultTheme:"defaultColumn",interface:"map",wrapperClass:"MCCell",linkClass:"MCLink"},this.setItemPropsRan=!1}setCell(){this.cell=this.props.cell}preSetup(){this.setComponents(["link","wrapper","item","option"])}setitemprops(){let e={...this.createPropObj("item","cell"),className:this.cell.class||this.theme[this.state.classKey],style:this.cell.style};this.cell.itemClick&&(e.checkItemClick=!0),this.setItemPropsRan?this.item.setProps(e):(this.builderObserver.subscribe(e),this.setItemPropsRan=!0)}setwrapperprops(){let e={...this.createPropObj("wrapper","cell")};this.setWrapperPropsRan?this.wrapper.setProps(e):(this.builderObserver.subscribe(e),this.setWrapperPropsRan=!0)}getOption(){return _.jsx(_.Fragment,{})}getUseId(){return this.cell&&this.obj.getJson&&(this.useId=this.cell.useId===!1?"":this.cell.useId===void 0?this.obj.getJson()._id:this.obj.getJson()[this.cell.useId]),this.useId}getInnerContent(){return this.innerContent=[this.item.getHtml({type:this.state.itemType||"span",content:this.getOption()})],this.innerContent}getLinkUrl(){var t,n,i;return(t=this.cell)!=null&&t.to?this.cell.to:`/${(i=(n=this.obj)==null?void 0:n.getJson())==null?void 0:i.type}/${this.useId}`}getLinkFunc(){if(this.cell.forceUpdate){let e=()=>{this.dispatch({forceUpdate:this.cell.forceUpdate})};this.link.setOnClick(e)}if(this.cell.linkClick){let e=()=>{this.cell.linkClick(this.obj),this.cell.forceUpdate&&this.dispatch({forceUpdate:this.cell.forceUpdate})};this.link.setOnClick(e)}}getHtml(){var t;this.mapInnerContent(),this.getLinkFunc(),this.cell.type;let e=(t=this.cell)!=null&&t.hasLink?this.link.getHtml({type:this.state.linkType||"link",content:this.innerContent,props:{to:this.getLinkUrl()}}):this.wrapper.getHtml({type:this.state.wrapperType||"span",content:this.innerContent});return this.html=_.jsx(_.Fragment,{children:e}),this.html}}class Wv extends Wn{constructor(e){super(e),this.state.classKey="MCDelItem",this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setDel]}setDel(){this.cell.itemClick=this.del}del(){let e=this.props.app;this.cell.popop?e.dispatch({popupSwitch:"del",delComponent:this.obj}):this.obj.del()}getOption(){return _.jsx("div",{children:"X"})}}class $v extends Wn{constructor(e){super(e),this.state.classKey="MCEditItem",this.state.itemClick=this.edit}edit(){this.props.app.dispatch({popupSwitch:"edit",currentPopupComponent:this.obj})}getOption(){return"edit"}}class af extends Wn{constructor(e){super(e),this.state.classKey="MCAttributeItem"}getName(){let e=this.cell;this.name=e.name,this.name||(this.name=e)}getOption(){return this.getName(),this.obj.getJson()[this.name]}}class w9 extends af{constructor(e){super(e),this.state.classKey="MCTextItem"}getOption(){return _.jsx(_.Fragment,{children:this.cell.name})}}class E9 extends Wn{constructor(e){super(e),this.state.classKey="MCCustom"}getOption(){let e=this.cell.custom;return _.jsx(e,{...this.props,masterCell:this})}}class iS extends Wn{constructor(e){super(e),this.state.defaultClassName="MCImgItem",this.state.itemType="img"}getPicSrc(){var e,t;return this.obj.getJson&&(this.src=(t=this.obj)==null?void 0:t.getJson()[((e=this.state.cell)==null?void 0:e.src)||"picURL"]),this.cell.imgSrc&&(this.src=this.cell.imgSrc),this.src}additionalPostSetup(){this.getPicSrc(),this.src&&this.item.addProps({src:this.src,alt:"picture goes here"})}}class C9 extends Wn{constructor(e){super(e)}getOption(){({...this.cell,...this.props})}}class Gv extends Wn{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setList,this.setFactory],this.state={...this.state,mapContainerClass:"MCMapContainer",interface:"map",mapSectionClass:"MCMapSection"},this.defaultTypes=["del","edit","img"]}setFactory(){this.factory=this.interface.getFactory()}getDefaultTypes(){return this.defaultTypes}checkCellForDefaults(e){let t=this.getDefaultTypes();return t[t.indexOf(e)]}textOrAttribute(e,t){return e.getJson&&(e!=null&&e.getJson()[t])?"attribute":"text"}getType(e,t){let n=e.type;return n||(n=this.checkCellForDefaults(e),n||(n=this.textOrAttribute(t,e))),n}getProps(e,t){return{obj:t,...this.props,interface:this.interface,cell:e,theme:this.props.theme}}getCellList(e){let t=this.props.cells;return _.jsx(_.Fragment,{children:t.map((n,i)=>{let o=this.getType(n,e),l=this.getProps(n,e);return this.factory.getComponent(o,l)})})}getListHtml(){return _.jsx(_.Fragment,{children:this.list.map((e,t)=>this.mapSection.getHtml({type:"div",content:this.getCellList(e)}))})}setList(){this.list=this.props.list}preSetup(){this.setComponents(["mapContainer","mapSection","link"])}getHtml(){let e=this.mapContainer.getHtml({type:"div",content:this.getListHtml()});return this.html=_.jsx(_.Fragment,{children:e}),this.html}}class tC extends Wv{constructor(e){super(e),this.state.classKey="MCCustomDelItem"}getOption(){return _.jsx(this.cell.custom,{...this.props,masterCell:this})}}class A9 extends Wv{constructor(e){super(e),this.state.classKey="MCDelItem"}getOption(){return this.props.delText||"delete"}}const b9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAFRGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iNDgiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSI0OCIKICAgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIKICAgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIgogICB0aWZmOkltYWdlTGVuZ3RoPSI0OCIKICAgdGlmZjpJbWFnZVdpZHRoPSI0OCIKICAgdGlmZjpSZXNvbHV0aW9uVW5pdD0iMiIKICAgdGlmZjpYUmVzb2x1dGlvbj0iNzIvMSIKICAgdGlmZjpZUmVzb2x1dGlvbj0iNzIvMSIKICAgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMy0wOS0wOFQxNDo0NDozNi0wNjowMCIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjMtMDktMDhUMTQ6NDQ6MzYtMDY6MDAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgeG1wTU06YWN0aW9uPSJwcm9kdWNlZCIKICAgICAgeG1wTU06c29mdHdhcmVBZ2VudD0iQWZmaW5pdHkgRGVzaWduZXIgMiAyLjEuMSIKICAgICAgeG1wTU06d2hlbj0iMjAyMy0wOC0wNFQxMDoyNTozOC0wNjowMCIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJwcm9kdWNlZCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWZmaW5pdHkgRGVzaWduZXIgMiAyLjEuMSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMy0wOS0wOFQxNDo0NDozNi0wNjowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+zw4Y8wAAAYFpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAACiRdZHPK0RRFMc/ZshgRJmFhcUkZGE0KLGxmMmvwmJmlF+bmee9GTUzXu89SbbKVlFi49eCv4CtslaKSMmWNbFhes7z1Ejm3M49n/u995zuPRc8iaySM8vDkMtbRmw4EpyanglWPlGFjwDthJOKqY/HhxKUtPdbypx4HXJqlT73r9XMq6YCZT7hAUU3LOER4bFlS3d4SzigZJLzwifCHYZcUPjG0VMuPzucdvnTYSMRi4KnXjiY/sWpX6xkjJywvJyWXHZJ+bmP8xK/mp+MS2wWb8IkxjARgowySJReuuiXuZcQ3XTKihL54e/8CRYlV5FZZwWDBdJksOgQdUmqqxI10VUZWVac/v/tq6n1dLvV/RGoeLTt11ao3ITChm1/HNh24RC8D3CeL+Yv7kPfm+gbRa1lD+rW4PSiqKW24WwdGu/1pJH8lrziHk2Dl2OonYaGK6iedXv2s8/RHSRW5asuYWcX2uR83dwXqRtoBLx59Y4AAAAJcEhZcwAACxMAAAsTAQCanBgAAAU5SURBVGiB1ZpfbFNVHMc/bW/H7d3WGujaMeqy8ECMEcgiICDDOI0hEpco8iDECMHEByBRSAwvxCgJ0ZhIzEBjAma8QEyEBwUejEyibg/GYcKYYRCIQEHaVZa2621v/10f7m1pu/5d/9B9k5vc3nvOuZ9v77nn3+8YqIFsdpcIPA88CzhyDgBvzjEGjPh97ki1zzbMNaPN7rIBLwH9aPBihUVEgBHgIjDs97n9c+Go2IDN7rIAO4B3AWkuD82jEHACGPL73OFKMpZtwGZ3mYA3gT2AvSK88jUFHAXO+H3uRDkZyjJgs7s6gUHgmbmzVaSrwB6/z+0pldBUKoHN7loBDAE9VWMVkNEI/WstrZtfbG1f+qTZ/J8/sWgmpL4qStYxRQ4UNVH0DdjsrgHgENBSS+BMdTkF4ehH9q6VT7Wkvyc5oiYPfzX94PS5GR9w0O9z/1Aof8E3oMN/VixNtVriFITTRxzdy3rMWS2YWTAY+tdZ2uWwql6eUPpEyXpXkQOT+crIC6dXm8FC92uhJU5BOHXE0e3qFAq+3b5VYpscVuOXJ5TnRMk6mq86zQLUP9ghoL2mxDn6/MCizt6nF2Q1w6oKhpxK3bdKbPM9TCTHr0fXipL1giIHQpn3swzoTeW31PGDTem3PyOhvtWi1LHQZE5dMxg0E6nzlNb1iq0/DsuJwEyyV5SsZxU5oKbuGXPK3UKDmkp/MJncvs97d+JGNKvjyn0DABbRYHx5vaUVWA68kXkvbUDvYffWhRbocQnmbQNttsxrgRnNxPj10iYcdpOgn+7VWYHsN7CDOvWwPS7BfOoLZ/eh9xcu3rW1/YnMe8FQMvn2fu/dK9eicrEyJm/GFP20A3gndd0E6YHZl4B5dtbqlIJ32rW63rfa0haSk/G//o6mR6LRmKqevyQH1/UusHR2CLMYJm5Ew58cm/aq6ZrPclGyfqfIAcUEIErWzcCmesOnVNhEOLh25QLLYscjE+4H8ejOA1PuQDCZzCiiBbilyIFrKQO7gaWNgC9mIhZT1XOX5OCaFaLY5RRa3A/i0bc+8N6574nH85WhyIELJn0y8jEg5EtUD/iiJuKo5y/JwS6HIOz/9OG/heCBLlGynjSJkvUFYKDe8L/+EQke/nra+8oGqV0wPWpn8pmIx+Gn38MzwVBWtcmVAIybRMm6FeitN/x7B6fu37gdi169Hgtv2ljaRJnymETJ+jqwrN7w0ZjWhty+F49N3opFXutvzeoT+lZb2nzTidj4ZFShfN0z8mjiXXd4gBazwbB9ILsvAPD4ErHRy5GifUEeOao2UCn8N4c6ujauEbMGih5fIrZtn+fOP+54rMLHV2fgMcODbmBOagJ4QBsLeecrPOCt2EATwUOlBpoMHiox0ITwoBsYm6fwAGNGtAXWgl14E8NHgFGjvsQ9Ms/gQV+eT/UDw/MMHrRl+fSc+CLaEndaTQ4fQv/TjQB6cOFEZoomhgc4ngqIZA4lhtDW5/OqieCngJOpH2kDemTkaKFcTQIPMJgZxckdzJ1BCy4U1GOGHwfOZl6YtQZms7ucwPc3h7s3lFtqg+CngK25UZtZw2k9we5yS20QfJQCIae88wG/z32lnFIbBA9alCYv05wnNA385z8sFmIqGaXUozXHqF9otZCm0KpN0dpQMoSkyAGPKFkvAKuowQpGmRoHdvp97lulElYa6N6CFkOoZ6B7EDhb00B3pjK2GuwCWivNX0Ah4Dhwsm5bDXKlxxT60TZ8VLPZ42fgl4Zt9sgnfYV7PZVttxmtxXab/wFJap9Ow0di3gAAAABJRU5ErkJggg==";class x9 extends $v{constructor(e){super(e),this.state.classKey="MCEditImgItem",this.state.itemType="img"}additionalPostSetup(){this.getImg(),this.item.setProps({src:this.src})}getImg(){return this.src=this.cell.imgSrc||b9,this.src}}class S9 extends $v{constructor(e){super(e),this.state.classKey="MCCustomEditItem"}getOption(){return _.jsx(this.cell.custom,{...this.props,masterCell:this})}}let T9=class extends Gv{constructor(e){super(e),this.mapContainer=qe.createRef(),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.getPicObj,this.getAddComponentButton],this.state={...this.state,index:0,isDragging:void 0,defaultTheme:"interactiveMap"}}_addEventListeners(){var t;this.props;let e=[];for(let n of this.list){let i=document.getElementById(n.getJson()._id);i.addEventListener("mousedown",o=>{this.setState({isDragging:i})}),i.addEventListener("mouseup",o=>{this.setState({isDragging:void 0})}),e.push(i),this.setState({saveList:e})}(t=this.mapContainer)!=null&&t.current&&(this.mapContainer.current.addEventListener("mouseup",n=>{this.currentComp!==void 0&&this.currentComp.update(),this.setState({isDragging:void 0})}),this.mapContainer.current.addEventListener("mousemove",n=>{if(this.state.isDragging!==void 0){let i=this.state.isDragging,o=i.id,l=this.list.find(u=>u.getJson()._id===o);if((l==null?void 0:l.getJson().draggable)!==!1){const u=this.mapContainer.current.getBoundingClientRect(),h=n.pageX-u.left-25,d=n.pageY-u.top-25;l.setCompState({x:h,y:d}),this.currentComp=l,i.style.left=`${h}px`,i.style.top=`${d}px`}}}))}componentDidMount(){this._addEventListeners()}zoom(e){let t=this.mapContainer.current.getBoundingClientRect(),n=t.width*e,i=t.height*e;this.mapContainer.current.style.width=n+"px",this.mapContainer.current.style.height=i+"px";let o=this.state.saveList;for(let l of o){const u=l.style.left||"0",h=l.style.top||"0",d=u.match(/(-?\d*\.?\d+)/),g=h.match(/(-?\d*\.?\d+)/),m=d?parseFloat(d[0]):0,f=g?parseFloat(g[0]):0,y=m*e,b=f*e;l.style.left=y+"px",l.style.top=b+"px"}}componentDidUpdate(e,t){this.props.list.length!==e.list.length&&this._addEventListeners()}getAddComponentButton(){var e,t;if(this.addComponentButton=this.props.addComponentButton,this.addComponentButton!==void 0){let n=typeof this.addComponentButton=="string"?this.addComponentButton:this.addComponentButton.type||"addComponentButton",i=this.props.pinKey||((e=this.mapObj)==null?void 0:e.getJson().pinType)||"pin";this.addComponentButton=this.factory.getComponent(n,{...this.props,theme:this.props.theme||this.state.defaultTheme,mapId:this.mapObj?(t=this.mapObj)==null?void 0:t.getJson()._id:void 0,addType:i,addPinProps:this.props.addPinProps,pinAdded:this._addEventListeners})}}getPicObj(){var t;let e=this.props.imgAttribute||"picURL";this.mapObj&&(this.picSrc=(t=this.mapObj)==null?void 0:t.getJson()[e])}preSetup(){this.setComponents([])}async changePic(e){let t=this.props.list;e=e<0?e=t.length-1:e,e=e>=t.length?0:e,this.mapObj=t[e],await this.setState({index:e}),this._addEventListeners()}setList(){if(!this.listSet){let t=this.props.list[this.state.index];this.mapObj=t;let n=this.props.pinKey||(t==null?void 0:t.getJson().pinType)||"pin",i=this.props.pinAttribute||(t==null?void 0:t.getJson().type)+"Id"||"mapId",o=this.props.mapId||(t==null?void 0:t.getJson()._id);this.list=this.componentList.getList(n,o,i)}}preSetup(){this.setComponents(["mapContainer","right","left","image","zoomIn","zoomOut"])}getIndexAndChangeMap(e){let t=this.props.list.indexOf(this.mapObj)+e;this.changePic(t)}getListHtml(){let e=this.props,t=this.theme,n=this.factory;return _.jsx(_.Fragment,{children:this.list.map((i,o)=>{let l={obj:i,props:e,interface:this.interface,cell:e.pinCell,theme:this.props.them||this.state.defaultTheme,pinProps:this.props.pinProps};return _.jsx("div",{id:i.getJson()._id,className:e.mapSectionClass?e.mapSectionClass:t.MCMapSection,style:{...e.mapSectionStyle,left:i.getJson().x+"px",top:i.getJson().y+"px"},children:_.jsx(_.Fragment,{children:n.getComponent(e.pinType?e.pinType:"attribute",l)})},o)})})}getHtml(){if(this.props.list.length>0){let e=this.props,t=this.theme;return _.jsxs("div",{ref:this.mapContainer,className:e.mapContainerClass?e.mapContainerClass:t.MCMapContainer,style:{...e.mapContainerStyle},children:[_.jsx("img",{src:this.picSrc,className:e.mapClass?e.mapClass:t.MCMap,style:{...e.mapStyle}}),this.getListHtml(),e.addComponentButton&&_.jsx(_.Fragment,{children:this.addComponentButton}),_.jsx("div",{style:{position:"absolute",top:"0px",right:"0px"},onClick:()=>{this.zoom(.5)},children:"zoom out"}),_.jsx("div",{style:{position:"absolute",top:"20px",right:"0px"},onClick:()=>{this.zoom(2)},children:"zoom in"}),_.jsx("div",{style:{position:"absolute",top:"0px",left:"-20px"},onClick:()=>{this.getIndexAndChangeMap(-1)},children:"prev"}),_.jsx("div",{style:{position:"absolute",top:"20px",right:"-20px"},onClick:()=>{this.getIndexAndChangeMap(1)},children:"next"})]})}else this.list=[]}};class I9 extends Wn{constructor(e){super(e)}preSetup(){this.setComponents([])}async createObjType(){let e=this.operationsFactory,t=this.props.addType;await e.prepare({prepare:{type:t,mapId:this.props.mapId,...this.props.addPinProps},clean:!0,run:!0}),this.props.pinAdded()}getHtml(){let e=this.props.text||"+ Add Item";return _.jsxs("div",{onClick:this.createObjType,style:this.props.style,className:this.props.class||this.theme.MCAddButton,children:[e," "]})}}class D9 extends Wn{constructor(e){super(e),this.state.classKey="MCAttributeItem"}getOption(){return this.state.obj}}class k9 extends af{constructor(e){super(e),this.state.classKey="MCAttributeItem"}getItemClass(){var i;let e=this.cell,t=e.activeAttribute?e.activeAttribute:"_id";if(this.state.obj.getJson()[t]===((i=e.activeItem)==null?void 0:i.getJson()[t])){let o=e.activeClass?e.activeClass:this.theme.MCActiveItem;this.item.setClass(this.item.getClass()+" "+o)}}additionalPostSetup(){this.getItemClass()}}class R9 extends iS{constructor(e){super(e),this.state.classKey="MCLogoItem"}}class P9 extends Wn{constructor(e){super(e),this.state.itemType="div"}getList(){return this.list=this.props.cell.links.filter(e=>(e==null?void 0:e.name)!==void 0),this.list}getHome(){var e;if(!this.state.active){this.home=this.list.find(t=>t.path==="/");for(let t of this.list)t.active=(e=this.home)==null?void 0:e.name}}getOption(){let e=this.props.cell.links.filter(t=>(t==null?void 0:t.name)!==void 0&&t.display!==!1);return _.jsx(an,{list:e,theme:this.cell.linksTheme||"links",mapSectionClass:this.props.cell.linkSectionClass||void 0,mapSectionStyle:this.props.cell.linkSectionStyle||void 0,cells:[{type:"linkItem",class:this.props.cell.linkItemClass||void 0,activeClass:this.props.cell.activeClass||void 0,style:this.props.cell.linkItemStyle||void 0,linkClick:t=>{for(let n of this.props.cell.links)n.active=t==null?void 0:t.name;this.setState({active:t==null?void 0:t.name})}}]})}additionalSetup(){this.getList(),this.getHome()}}class N9 extends Wn{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setUpLinks],this.state.classKey="MCLinkItem",this.state.itemType="div"}setUpLinks(){this.cell.to=this.obj.path,this.useId="",this.cell.hasLink=!0}getActiveClass(){return this.activeClass=this.cell.activeClass||this.theme.MCActiveLink,this.activeClass}setActiveClass(){var n,i,o,l,u;const e=((n=this.obj)==null?void 0:n.path)==="/"||((i=this.obj)==null?void 0:i.path)==="/home",t=window.location.pathname;if(e){const h=t.split("/").filter(Boolean);if(h.length>0&&h[0]!=="home")return}if(((o=this.obj)==null?void 0:o.active)===((l=this.obj)==null?void 0:l.name)||t.includes((u=this.obj)==null?void 0:u.path)){let h=this.obj.name===""?"none":this.getActiveClass();h=h||"",this.item.setClass(this.item.getClass()+" "+h)}}additionalSetup(){this.setActiveClass()}getOption(){var e;return(e=this.props.obj)==null?void 0:e.name}}class O9 extends Wn{constructor(e){super(e),this.state.classKey="MCTextItem"}additionalPostSetup(){this.item.setOnClick(this.cell.logoutFunc||this.APIService.logout)}getOption(){return"logout"}}class L9 extends Wn{constructor(e){super(e),this.state.classKey="MCOrderedArrows",this.state.increment=1,this.state.decrement=-1}increasePosition(){this.obj.updateOrder(this.state.increment)}decreasePosition(){this.obj.updateOrder(this.state.decrement)}increaseArrowUI(){return this.increaseArrow=_.jsx("div",{className:"upward-arrow",onClick:this.decreasePosition}),this.increaseArrow}decreaseArrowUI(){return this.decreaseArrow=_.jsx("div",{style:{marginTop:"5px"},className:"downward-arrow",onClick:this.increasePosition}),this.decreaseArrow}getOption(){return this.increaseArrowUI(),this.decreaseArrowUI(),_.jsxs("div",{style:{marginTop:"-4px"},className:"fitCC",children:[this.increaseArrow,this.decreaseArrow]})}}class F9 extends Wn{constructor(e){super(e),this.state.displayState=!1,this.state.itemType="div"}displayOption(){return _.jsx("div",{style:{position:"absolute",left:"0px",top:"0px"},className:this.state.displayState?"downward-arrow":"right-arrow",onClick:()=>{this.wrapper.setStyle({...this.wrapper.getStyle(),height:"200px"}),this.setState({displayState:!this.state.displayState})}})}mapOption(){return _.jsx(an,{name:this.props.name,filter:{attribute:this.props.filter.attribute,search:this.obj.getJson()._id},cells:[...this.props.cells]})}additionalPostSetup(){this.item.setStyle({...this.item.getStyle(),position:"relative"})}getOption(){return _.jsxs("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[this.displayOption(),"  ",this.state.displayState&&this.mapOption(),"  "]})}}class j9 extends af{constructor(){super(),this.state.classKey="MCBackgroundItem",this.state.wrapperClass="MCCellBackground",this.state.linkClass="MCBackgroundLink"}additionalPostSetup(){let t={width:"100%",height:"250px",display:"flex",justifyContent:"center",alignItems:"center",color:"white",textAlign:"center",fontSize:"50px",background:`linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${this.cell.pirSRC||this.obj.getJson()[this.cell.picAttribute||"picURL"]}) no-repeat center center`,backgroundSize:"cover",textDecoration:"none"};this.wrapper.setStyle({...this.wrapper.getStyle(),...t}),this.link.setStyle({...this.wrapper.getStyle(),...t})}}class B9 extends Wn{constructor(e){super(e),this.state.classKey="MCCustom"}getOption(){return this.cell.custom}}const lf=0,to=1,hl=2,sS=4;function nC(r){return()=>r}function M9(r){r()}function oS(r,e){return t=>r(e(t))}function rC(r,e){return()=>r(e)}function q9(r,e){return t=>r(e,t)}function Kv(r){return r!==void 0}function V9(...r){return()=>{r.map(M9)}}function dl(){}function uf(r,e){return e(r),r}function U9(r,e){return e(r)}function Bt(...r){return r}function Tt(r,e){return r(to,e)}function ht(r,e){r(lf,e)}function Jv(r){r(hl)}function _n(r){return r(sS)}function Ge(r,e){return Tt(r,q9(e,lf))}function Ci(r,e){const t=r(to,n=>{t(),e(n)});return t}function iC(r){let e,t;return n=>i=>{e=i,t&&clearTimeout(t),t=setTimeout(()=>{n(e)},r)}}function aS(r,e){return r===e}function jt(r=aS){let e;return t=>n=>{r(e,n)||(e=n,t(n))}}function ot(r){return e=>t=>{r(t)&&e(t)}}function Ve(r){return e=>oS(e,r)}function hi(r){return e=>()=>{e(r)}}function Se(r,...e){const t=z9(...e);return(n,i)=>{switch(n){case hl:Jv(r);return;case to:return Tt(r,t(i))}}}function fi(r,e){return t=>n=>{t(e=r(e,n))}}function Za(r){return e=>t=>{r>0?r--:e(t)}}function Fs(r){let e=null,t;return n=>i=>{e=i,!t&&(t=setTimeout(()=>{t=void 0,n(e)},r))}}function pt(...r){const e=new Array(r.length);let t=0,n=null;const i=Math.pow(2,r.length)-1;return r.forEach((o,l)=>{const u=Math.pow(2,l);Tt(o,h=>{const d=t;t=t|u,e[l]=h,d!==i&&t===i&&n&&(n(),n=null)})}),o=>l=>{const u=()=>{o([l].concat(e))};t===i?u():n=u}}function z9(...r){return e=>r.reduceRight(U9,e)}function H9(r){let e,t;const n=()=>e==null?void 0:e();return function(i,o){switch(i){case to:return o?t===o?void 0:(n(),t=o,e=Tt(r,o),e):(n(),dl);case hl:n(),t=null;return}}}function De(r){let e=r;const t=Et();return(n,i)=>{switch(n){case lf:e=i;break;case to:{i(e);break}case sS:return e}return t(n,i)}}function Fn(r,e){return uf(De(e),t=>Ge(r,t))}function Et(){const r=[];return(e,t)=>{switch(e){case lf:r.slice().forEach(n=>{n(t)});return;case hl:r.splice(0,r.length);return;case to:return r.push(t),()=>{const n=r.indexOf(t);n>-1&&r.splice(n,1)}}}}function gr(r){return uf(Et(),e=>Ge(r,e))}function xt(r,e=[],{singleton:t}={singleton:!0}){return{constructor:r,dependencies:e,id:W9(),singleton:t}}const W9=()=>Symbol();function $9(r){const e=new Map,t=({constructor:n,dependencies:i,id:o,singleton:l})=>{if(l&&e.has(o))return e.get(o);const u=n(i.map(h=>t(h)));return l&&e.set(o,u),u};return t(r)}function dn(...r){const e=Et(),t=new Array(r.length);let n=0;const i=Math.pow(2,r.length)-1;return r.forEach((o,l)=>{const u=Math.pow(2,l);Tt(o,h=>{t[l]=h,n=n|u,n===i&&ht(e,t)})}),function(o,l){switch(o){case hl:{Jv(e);return}case to:return n===i&&l(t),Tt(e,l)}}}function lt(r,e=aS){return Se(r,jt(e))}function sC(...r){return function(e,t){switch(e){case hl:return;case to:return V9(...r.map(n=>Tt(n,t)))}}}var ir=(r=>(r[r.DEBUG=0]="DEBUG",r[r.INFO=1]="INFO",r[r.WARN=2]="WARN",r[r.ERROR=3]="ERROR",r))(ir||{});const G9={0:"debug",3:"error",1:"log",2:"warn"},K9=()=>typeof globalThis>"u"?window:globalThis,no=xt(()=>{const r=De(3);return{log:De((e,t,n=1)=>{var i;const o=(i=K9().VIRTUOSO_LOG_LEVEL)!=null?i:_n(r);n>=o&&console[G9[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",e,t)}),logLevel:r}},[],{singleton:!0});function Wo(r,e,t){return Qv(r,e,t).callbackRef}function Qv(r,e,t){const n=qe.useRef(null);let i=l=>{};const o=qe.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(l=>{const u=()=>{const h=l[0].target;h.offsetParent!==null&&r(h)};t?u():requestAnimationFrame(u)}):null,[r,t]);return i=l=>{l&&e?(o==null||o.observe(l),n.current=l):(n.current&&(o==null||o.unobserve(n.current)),n.current=null)},{callbackRef:i,ref:n}}function J9(r,e,t,n,i,o,l,u,h){const d=qe.useCallback(g=>{const m=Q9(g.children,e,u?"offsetWidth":"offsetHeight",i);let f=g.parentElement;for(;!f.dataset.virtuosoScroller;)f=f.parentElement;const y=f.lastElementChild.dataset.viewportType==="window";let b;y&&(b=f.ownerDocument.defaultView);const x=l?u?l.scrollLeft:l.scrollTop:y?u?b.scrollX||b.document.documentElement.scrollLeft:b.scrollY||b.document.documentElement.scrollTop:u?f.scrollLeft:f.scrollTop,C=l?u?l.scrollWidth:l.scrollHeight:y?u?b.document.documentElement.scrollWidth:b.document.documentElement.scrollHeight:u?f.scrollWidth:f.scrollHeight,w=l?u?l.offsetWidth:l.offsetHeight:y?u?b.innerWidth:b.innerHeight:u?f.offsetWidth:f.offsetHeight;n({scrollHeight:C,scrollTop:Math.max(x,0),viewportHeight:w}),o==null||o(u?oC("column-gap",getComputedStyle(g).columnGap,i):oC("row-gap",getComputedStyle(g).rowGap,i)),m!==null&&r(m)},[r,e,i,o,l,n,u]);return Qv(d,t,h)}function Q9(r,e,t,n){const i=r.length;if(i===0)return null;const o=[];for(let l=0;l<i;l++){const u=r.item(l);if(u.dataset.index===void 0)continue;const h=parseInt(u.dataset.index),d=parseFloat(u.dataset.knownSize),g=e(u,t);if(g===0&&n("Zero-sized element, this should not happen",{child:u},ir.ERROR),g===d)continue;const m=o[o.length-1];o.length===0||m.size!==g||m.endIndex!==h-1?o.push({endIndex:h,size:g,startIndex:h}):o[o.length-1].endIndex++}return o}function oC(r,e,t){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&t(`${r} was not resolved to pixel value correctly`,e,ir.WARN),e==="normal"?0:parseInt(e??"0",10)}function lS(r,e,t){const n=qe.useRef(null),i=qe.useCallback(h=>{if(!(h!=null&&h.offsetParent))return;const d=h.getBoundingClientRect(),g=d.width;let m,f;if(e){const y=e.getBoundingClientRect(),b=d.top-y.top;f=y.height-Math.max(0,b),m=b+e.scrollTop}else{const y=l.current.ownerDocument.defaultView;f=y.innerHeight-Math.max(0,d.top),m=d.top+y.scrollY}n.current={offsetTop:m,visibleHeight:f,visibleWidth:g},r(n.current)},[r,e]),{callbackRef:o,ref:l}=Qv(i,!0,t),u=qe.useCallback(()=>{i(l.current)},[i,l]);return qe.useEffect(()=>{var h;if(e){e.addEventListener("scroll",u);const d=new ResizeObserver(()=>{requestAnimationFrame(u)});return d.observe(e),()=>{e.removeEventListener("scroll",u),d.unobserve(e)}}else{const d=(h=l.current)==null?void 0:h.ownerDocument.defaultView;return d==null||d.addEventListener("scroll",u),d==null||d.addEventListener("resize",u),()=>{d==null||d.removeEventListener("scroll",u),d==null||d.removeEventListener("resize",u)}}},[u,e,l]),o}const $n=xt(()=>{const r=Et(),e=Et(),t=De(0),n=Et(),i=De(0),o=Et(),l=Et(),u=De(0),h=De(0),d=De(0),g=De(0),m=Et(),f=Et(),y=De(!1),b=De(!1),x=De(!1);return Ge(Se(r,Ve(({scrollTop:C})=>C)),e),Ge(Se(r,Ve(({scrollHeight:C})=>C)),l),Ge(e,i),{deviation:t,fixedFooterHeight:d,fixedHeaderHeight:h,footerHeight:g,headerHeight:u,horizontalDirection:b,scrollBy:f,scrollContainerState:r,scrollHeight:l,scrollingInProgress:y,scrollTo:m,scrollTop:e,skipAnimationFrameInResizeObserver:x,smoothScrollTargetReached:n,statefulScrollTop:i,viewportHeight:o}},[],{singleton:!0}),Ou={lvl:0};function uS(r,e){const t=r.length;if(t===0)return[];let{index:n,value:i}=e(r[0]);const o=[];for(let l=1;l<t;l++){const{index:u,value:h}=e(r[l]);o.push({end:u-1,start:n,value:i}),n=u,i=h}return o.push({end:1/0,start:n,value:i}),o}function Dt(r){return r===Ou}function Lu(r,e){if(!Dt(r))return e===r.k?r.v:e<r.k?Lu(r.l,e):Lu(r.r,e)}function Yr(r,e,t="k"){if(Dt(r))return[-1/0,void 0];if(Number(r[t])===e)return[r.k,r.v];if(Number(r[t])<e){const n=Yr(r.r,e,t);return n[0]===-1/0?[r.k,r.v]:n}return Yr(r.l,e,t)}function fr(r,e,t){return Dt(r)?dS(e,t,1):e===r.k?hn(r,{k:e,v:t}):e<r.k?aC(hn(r,{l:fr(r.l,e,t)})):aC(hn(r,{r:fr(r.r,e,t)}))}function Ha(){return Ou}function cf(r,e,t){if(Dt(r))return[];const n=Yr(r,e)[0];return Y9(by(r,n,t))}function Ay(r,e){if(Dt(r))return Ou;const{k:t,l:n,r:i}=r;if(e===t){if(Dt(n))return i;if(Dt(i))return n;{const[o,l]=hS(n);return Gh(hn(r,{k:o,l:cS(n),v:l}))}}else return e<t?Gh(hn(r,{l:Ay(n,e)})):Gh(hn(r,{r:Ay(i,e)}))}function Po(r){return Dt(r)?[]:[...Po(r.l),{k:r.k,v:r.v},...Po(r.r)]}function by(r,e,t){if(Dt(r))return[];const{k:n,l:i,r:o,v:l}=r;let u=[];return n>e&&(u=u.concat(by(i,e,t))),n>=e&&n<=t&&u.push({k:n,v:l}),n<=t&&(u=u.concat(by(o,e,t))),u}function Gh(r){const{l:e,lvl:t,r:n}=r;if(n.lvl>=t-1&&e.lvl>=t-1)return r;if(t>n.lvl+1){if(zg(e))return fS(hn(r,{lvl:t-1}));if(!Dt(e)&&!Dt(e.r))return hn(e.r,{l:hn(e,{r:e.r.l}),lvl:t,r:hn(r,{l:e.r.r,lvl:t-1})});throw new Error("Unexpected empty nodes")}else{if(zg(r))return xy(hn(r,{lvl:t-1}));if(!Dt(n)&&!Dt(n.l)){const i=n.l,o=zg(i)?n.lvl-1:n.lvl;return hn(i,{l:hn(r,{lvl:t-1,r:i.l}),lvl:i.lvl+1,r:xy(hn(n,{l:i.r,lvl:o}))})}else throw new Error("Unexpected empty nodes")}}function hn(r,e){return dS(e.k!==void 0?e.k:r.k,e.v!==void 0?e.v:r.v,e.lvl!==void 0?e.lvl:r.lvl,e.l!==void 0?e.l:r.l,e.r!==void 0?e.r:r.r)}function cS(r){return Dt(r.r)?r.l:Gh(hn(r,{r:cS(r.r)}))}function zg(r){return Dt(r)||r.lvl>r.r.lvl}function hS(r){return Dt(r.r)?[r.k,r.v]:hS(r.r)}function dS(r,e,t,n=Ou,i=Ou){return{k:r,l:n,lvl:t,r:i,v:e}}function aC(r){return xy(fS(r))}function fS(r){const{l:e}=r;return!Dt(e)&&e.lvl===r.lvl?hn(e,{r:hn(r,{l:e.r})}):r}function xy(r){const{lvl:e,r:t}=r;return!Dt(t)&&!Dt(t.r)&&t.lvl===e&&t.r.lvl===e?hn(t,{l:hn(r,{r:t.l}),lvl:e+1}):r}function Y9(r){return uS(r,({k:e,v:t})=>({index:e,value:t}))}function pS(r,e){return!!(r&&r.startIndex===e.startIndex&&r.endIndex===e.endIndex)}function Fu(r,e){return!!(r&&r[0]===e[0]&&r[1]===e[1])}const Yv=xt(()=>({recalcInProgress:De(!1)}),[],{singleton:!0});function mS(r,e,t){return r[yd(r,e,t)]}function yd(r,e,t,n=0){let i=r.length-1;for(;n<=i;){const o=Math.floor((n+i)/2),l=r[o],u=t(l,e);if(u===0)return o;if(u===-1){if(i-n<2)return o-1;i=o-1}else{if(i===n)return o;n=o+1}}throw new Error(`Failed binary finding record in array - ${r.join(",")}, searched for ${e}`)}function X9(r,e,t,n){const i=yd(r,e,n),o=yd(r,t,n,i);return r.slice(i,o+1)}function Js(r,e){return Math.round(r.getBoundingClientRect()[e])}function hf(r){return!Dt(r.groupOffsetTree)}function Xv({index:r},e){return e===r?0:e<r?-1:1}function Z9(){return{groupIndices:[],groupOffsetTree:Ha(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Ha()}}function ej(r,e){let t=Dt(r)?0:1/0;for(const n of e){const{endIndex:i,size:o,startIndex:l}=n;if(t=Math.min(t,l),Dt(r)){r=fr(r,0,o);continue}const u=cf(r,l-1,i+1);if(u.some(aj(n)))continue;let h=!1,d=!1;for(const{end:g,start:m,value:f}of u)h?(i>=m||o===f)&&(r=Ay(r,m)):(d=f!==o,h=!0),g>i&&i>=m&&f!==o&&(r=fr(r,i+1,f));d&&(r=fr(r,l,o))}return[r,t]}function tj(r){return typeof r.groupIndex<"u"}function nj({offset:r},e){return e===r?0:e<r?-1:1}function ju(r,e,t){if(e.length===0)return 0;const{index:n,offset:i,size:o}=mS(e,r,Xv),l=r-n,u=o*l+(l-1)*t+i;return u>0?u+t:u}function gS(r,e){if(!hf(e))return r;let t=0;for(;e.groupIndices[t]<=r+t;)t++;return r+t}function yS(r,e,t){if(tj(r))return e.groupIndices[r.groupIndex]+1;{const n=r.index==="LAST"?t:r.index;let i=gS(n,e);return i=Math.max(0,i,Math.min(t,i)),i}}function rj(r,e,t,n=0){return n>0&&(e=Math.max(e,mS(r,n,Xv).offset)),uS(X9(r,e,t,nj),oj)}function ij(r,[e,t,n,i]){e.length>0&&n("received item sizes",e,ir.DEBUG);const o=r.sizeTree;let l=o,u=0;if(t.length>0&&Dt(o)&&e.length===2){const f=e[0].size,y=e[1].size;l=t.reduce((b,x)=>fr(fr(b,x,f),x+1,y),l)}else[l,u]=ej(l,e);if(l===o)return r;const{lastIndex:h,lastOffset:d,lastSize:g,offsetTree:m}=Sy(r.offsetTree,u,l,i);return{groupIndices:t,groupOffsetTree:t.reduce((f,y)=>fr(f,y,ju(y,m,i)),Ha()),lastIndex:h,lastOffset:d,lastSize:g,offsetTree:m,sizeTree:l}}function sj(r){return Po(r).map(({k:e,v:t},n,i)=>{const o=i[n+1];return{endIndex:o?o.k-1:1/0,size:t,startIndex:e}})}function lC(r,e){let t=0,n=0;for(;t<r;)t+=e[n+1]-e[n]-1,n++;return n-(t===r?0:1)}function Sy(r,e,t,n){let i=r,o=0,l=0,u=0,h=0;if(e!==0){h=yd(i,e-1,Xv),u=i[h].offset;const d=Yr(t,e-1);o=d[0],l=d[1],i.length&&i[h].size===Yr(t,e)[1]&&(h-=1),i=i.slice(0,h+1)}else i=[];for(const{start:d,value:g}of cf(t,e,1/0)){const m=d-o,f=m*l+u+m*n;i.push({index:d,offset:f,size:g}),o=d,u=f,l=g}return{lastIndex:o,lastOffset:u,lastSize:l,offsetTree:i}}function oj(r){return{index:r.index,value:r}}function aj(r){const{endIndex:e,size:t,startIndex:n}=r;return i=>i.start===n&&(i.end===e||i.end===1/0)&&i.value===t}const lj={offsetHeight:"height",offsetWidth:"width"},Si=xt(([{log:r},{recalcInProgress:e}])=>{const t=Et(),n=Et(),i=Fn(n,0),o=Et(),l=Et(),u=De(0),h=De([]),d=De(void 0),g=De(void 0),m=De((O,M)=>Js(O,lj[M])),f=De(void 0),y=De(0),b=Z9(),x=Fn(Se(t,pt(h,r,y),fi(ij,b),jt()),b),C=Fn(Se(h,jt(),fi((O,M)=>({current:M,prev:O.current}),{current:[],prev:[]}),Ve(({prev:O})=>O)),[]);Ge(Se(h,ot(O=>O.length>0),pt(x,y),Ve(([O,M,R])=>{const A=O.reduce((T,I,D)=>fr(T,I,ju(I,M.offsetTree,R)||D),Ha());return{...M,groupIndices:O,groupOffsetTree:A}})),x),Ge(Se(n,pt(x),ot(([O,{lastIndex:M}])=>O<M),Ve(([O,{lastIndex:M,lastSize:R}])=>[{endIndex:M,size:R,startIndex:O}])),t),Ge(d,g);const w=Fn(Se(d,Ve(O=>O===void 0)),!0);Ge(Se(g,ot(O=>O!==void 0&&Dt(_n(x).sizeTree)),Ve(O=>[{endIndex:0,size:O,startIndex:0}])),t);const E=gr(Se(t,pt(x),fi(({sizes:O},[M,R])=>({changed:R!==O,sizes:R}),{changed:!1,sizes:b}),Ve(O=>O.changed)));Tt(Se(u,fi((O,M)=>({diff:O.prev-M,prev:M}),{diff:0,prev:0}),Ve(O=>O.diff)),O=>{const{groupIndices:M}=_n(x);if(O>0)ht(e,!0),ht(o,O+lC(O,M));else if(O<0){const R=_n(C);R.length>0&&(O-=lC(-O,R)),ht(l,O)}}),Tt(Se(u,pt(r)),([O,M])=>{O<0&&M("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:u},ir.ERROR)});const P=gr(o);Ge(Se(o,pt(x),Ve(([O,M])=>{const R=M.groupIndices.length>0,A=[],T=M.lastSize;if(R){const I=Lu(M.sizeTree,0);let D=0,N=0;for(;D<O;){const U=M.groupIndices[N],J=M.groupIndices.length===N+1?1/0:M.groupIndices[N+1]-U-1;A.push({endIndex:U,size:I,startIndex:U}),A.push({endIndex:U+1+J-1,size:T,startIndex:U+1}),N++,D+=J+1}const L=Po(M.sizeTree);return D!==O&&L.shift(),L.reduce((U,{k:J,v:re})=>{let Z=U.ranges;return U.prevSize!==0&&(Z=[...U.ranges,{endIndex:J+O-1,size:U.prevSize,startIndex:U.prevIndex}]),{prevIndex:J+O,prevSize:re,ranges:Z}},{prevIndex:O,prevSize:0,ranges:A}).ranges}return Po(M.sizeTree).reduce((I,{k:D,v:N})=>({prevIndex:D+O,prevSize:N,ranges:[...I.ranges,{endIndex:D+O-1,size:I.prevSize,startIndex:I.prevIndex}]}),{prevIndex:0,prevSize:T,ranges:[]}).ranges})),t);const S=gr(Se(l,pt(x,y),Ve(([O,{offsetTree:M},R])=>{const A=-O;return ju(A,M,R)})));return Ge(Se(l,pt(x,y),Ve(([O,M,R])=>{if(M.groupIndices.length>0){if(Dt(M.sizeTree))return M;let A=Ha();const T=_n(C);let I=0,D=0,N=0;for(;I<-O;){N=T[D];const L=T[D+1]-N-1;D++,I+=L+1}if(A=Po(M.sizeTree).reduce((L,{k:U,v:J})=>fr(L,Math.max(0,U+O),J),A),I!==-O){const L=Lu(M.sizeTree,N);A=fr(A,0,L);const U=Yr(M.sizeTree,-O+1)[1];A=fr(A,1,U)}return{...M,sizeTree:A,...Sy(M.offsetTree,0,A,R)}}else{const A=Po(M.sizeTree).reduce((T,{k:I,v:D})=>fr(T,Math.max(0,I+O),D),Ha());return{...M,sizeTree:A,...Sy(M.offsetTree,0,A,R)}}})),x),{beforeUnshiftWith:P,data:f,defaultItemSize:g,firstItemIndex:u,fixedItemSize:d,gap:y,groupIndices:h,itemSize:m,listRefresh:E,shiftWith:l,shiftWithOffset:S,sizeRanges:t,sizes:x,statefulTotalCount:i,totalCount:n,trackItemSizes:w,unshiftWith:o}},Bt(no,Yv),{singleton:!0});function uj(r){return r.reduce((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e),{groupIndices:[],totalCount:0})}const vS=xt(([{groupIndices:r,sizes:e,totalCount:t},{headerHeight:n,scrollTop:i}])=>{const o=Et(),l=Et(),u=gr(Se(o,Ve(uj)));return Ge(Se(u,Ve(h=>h.totalCount)),t),Ge(Se(u,Ve(h=>h.groupIndices)),r),Ge(Se(dn(i,e,n),ot(([h,d])=>hf(d)),Ve(([h,d,g])=>Yr(d.groupOffsetTree,Math.max(h-g,0),"v")[0]),jt(),Ve(h=>[h])),l),{groupCounts:o,topItemsIndexes:l}},Bt(Si,$n)),ro=xt(([{log:r}])=>{const e=De(!1),t=gr(Se(e,ot(n=>n),jt()));return Tt(e,n=>{n&&_n(r)("props updated",{},ir.DEBUG)}),{didMount:t,propsReady:e}},Bt(no),{singleton:!0}),cj=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function _S(r){const e=typeof r=="number"?{index:r}:r;return e.align||(e.align="start"),(!e.behavior||!cj)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const tc=xt(([{gap:r,listRefresh:e,sizes:t,totalCount:n},{fixedFooterHeight:i,fixedHeaderHeight:o,footerHeight:l,headerHeight:u,scrollingInProgress:h,scrollTo:d,smoothScrollTargetReached:g,viewportHeight:m},{log:f}])=>{const y=Et(),b=Et(),x=De(0);let C=null,w=null,E=null;function P(){C&&(C(),C=null),E&&(E(),E=null),w&&(clearTimeout(w),w=null),ht(h,!1)}return Ge(Se(y,pt(t,m,n,x,u,l,f),pt(r,o,i),Ve(([[S,O,M,R,A,T,I,D],N,L,U])=>{const J=_S(S),{align:re,behavior:Z,offset:ie}=J,G=R-1,W=yS(J,O,G);let B=ju(W,O.offsetTree,N)+T;re==="end"?(B+=L+Yr(O.sizeTree,W)[1]-M+U,W===G&&(B+=I)):re==="center"?B+=(L+Yr(O.sizeTree,W)[1]-M+U)/2:B-=A,ie&&(B+=ie);const V=H=>{P(),H?(D("retrying to scroll to",{location:S},ir.DEBUG),ht(y,S)):(ht(b,!0),D("list did not change, scroll successful",{},ir.DEBUG))};if(P(),Z==="smooth"){let H=!1;E=Tt(e,ne=>{H=H||ne}),C=Ci(g,()=>{V(H)})}else C=Ci(Se(e,hj(150)),V);return w=setTimeout(()=>{P()},1200),ht(h,!0),D("scrolling from index to",{behavior:Z,index:W,top:B},ir.DEBUG),{behavior:Z,top:B}})),d),{scrollTargetReached:b,scrollToIndex:y,topListHeight:x}},Bt(Si,$n,no),{singleton:!0});function hj(r){return e=>{const t=setTimeout(()=>{e(!1)},r);return n=>{n&&(e(!0),clearTimeout(t))}}}function Zv(r,e){r==0?e():requestAnimationFrame(()=>{Zv(r-1,e)})}function e0(r,e){const t=e-1;return typeof r=="number"?r:r.index==="LAST"?t:r.index}const nc=xt(([{defaultItemSize:r,listRefresh:e,sizes:t},{scrollTop:n},{scrollTargetReached:i,scrollToIndex:o},{didMount:l}])=>{const u=De(!0),h=De(0),d=De(!0);return Ge(Se(l,pt(h),ot(([g,m])=>!!m),hi(!1)),u),Ge(Se(l,pt(h),ot(([g,m])=>!!m),hi(!1)),d),Tt(Se(dn(e,l),pt(u,t,r,d),ot(([[,g],m,{sizeTree:f},y,b])=>g&&(!Dt(f)||Kv(y))&&!m&&!b),pt(h)),([,g])=>{Ci(i,()=>{ht(d,!0)}),Zv(4,()=>{Ci(n,()=>{ht(u,!0)}),ht(o,g)})}),{initialItemFinalLocationReached:d,initialTopMostItemIndex:h,scrolledToInitialItem:u}},Bt(Si,$n,tc,ro),{singleton:!0});function wS(r,e){return Math.abs(r-e)<1.01}const Bu="up",Eu="down",dj="none",fj={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},pj=0,rc=xt(([{footerHeight:r,headerHeight:e,scrollBy:t,scrollContainerState:n,scrollTop:i,viewportHeight:o}])=>{const l=De(!1),u=De(!0),h=Et(),d=Et(),g=De(4),m=De(pj),f=Fn(Se(sC(Se(lt(i),Za(1),hi(!0)),Se(lt(i),Za(1),hi(!1),iC(100))),jt()),!1),y=Fn(Se(sC(Se(t,hi(!0)),Se(t,hi(!1),iC(200))),jt()),!1);Ge(Se(dn(lt(i),lt(m)),Ve(([E,P])=>E<=P),jt()),u),Ge(Se(u,Fs(50)),d);const b=gr(Se(dn(n,lt(o),lt(e),lt(r),lt(g)),fi((E,[{scrollHeight:P,scrollTop:S},O,M,R,A])=>{const T=S+O-P>-A,I={scrollHeight:P,scrollTop:S,viewportHeight:O};if(T){let N,L;return S>E.state.scrollTop?(N="SCROLLED_DOWN",L=E.state.scrollTop-S):(N="SIZE_DECREASED",L=E.state.scrollTop-S||E.scrollTopDelta),{atBottom:!0,atBottomBecause:N,scrollTopDelta:L,state:I}}let D;return I.scrollHeight>E.state.scrollHeight?D="SIZE_INCREASED":O<E.state.viewportHeight?D="VIEWPORT_HEIGHT_DECREASING":S<E.state.scrollTop?D="SCROLLING_UPWARDS":D="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:D,state:I}},fj),jt((E,P)=>E&&E.atBottom===P.atBottom))),x=Fn(Se(n,fi((E,{scrollHeight:P,scrollTop:S,viewportHeight:O})=>{if(wS(E.scrollHeight,P))return{changed:!1,jump:0,scrollHeight:P,scrollTop:S};{const M=P-(S+O)<1;return E.scrollTop!==S&&M?{changed:!0,jump:E.scrollTop-S,scrollHeight:P,scrollTop:S}:{changed:!0,jump:0,scrollHeight:P,scrollTop:S}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),ot(E=>E.changed),Ve(E=>E.jump)),0);Ge(Se(b,Ve(E=>E.atBottom)),l),Ge(Se(l,Fs(50)),h);const C=De(Eu);Ge(Se(n,Ve(({scrollTop:E})=>E),jt(),fi((E,P)=>_n(y)?{direction:E.direction,prevScrollTop:P}:{direction:P<E.prevScrollTop?Bu:Eu,prevScrollTop:P},{direction:Eu,prevScrollTop:0}),Ve(E=>E.direction)),C),Ge(Se(n,Fs(50),hi(dj)),C);const w=De(0);return Ge(Se(f,ot(E=>!E),hi(0)),w),Ge(Se(i,Fs(100),pt(f),ot(([E,P])=>!!P),fi(([E,P],[S])=>[P,S],[0,0]),Ve(([E,P])=>P-E)),w),{atBottomState:b,atBottomStateChange:h,atBottomThreshold:g,atTopStateChange:d,atTopThreshold:m,isAtBottom:l,isAtTop:u,isScrolling:f,lastJumpDueToItemResize:x,scrollDirection:C,scrollVelocity:w}},Bt($n)),vd="top",_d="bottom",uC="none";function cC(r,e,t){return typeof r=="number"?t===Bu&&e===vd||t===Eu&&e===_d?r:0:t===Bu?e===vd?r.main:r.reverse:e===_d?r.main:r.reverse}function hC(r,e){var t;return typeof r=="number"?r:(t=r[e])!=null?t:0}const t0=xt(([{deviation:r,fixedHeaderHeight:e,headerHeight:t,scrollTop:n,viewportHeight:i}])=>{const o=Et(),l=De(0),u=De(0),h=De(0),d=Fn(Se(dn(lt(n),lt(i),lt(t),lt(o,Fu),lt(h),lt(l),lt(e),lt(r),lt(u)),Ve(([g,m,f,[y,b],x,C,w,E,P])=>{const S=g-E,O=C+w,M=Math.max(f-S,0);let R=uC;const A=hC(P,vd),T=hC(P,_d);return y-=E,y+=f+w,b+=f+w,b-=E,y>g+O-A&&(R=Bu),b<g-M+m+T&&(R=Eu),R!==uC?[Math.max(S-f-cC(x,vd,R)-A,0),S-M-w+m+cC(x,_d,R)+T]:null}),ot(g=>g!=null),jt(Fu)),[0,0]);return{increaseViewportBy:u,listBoundary:o,overscan:h,topListHeight:l,visibleRange:d}},Bt($n),{singleton:!0});function mj(r,e,t){if(hf(e)){const n=gS(r,e);return[{index:Yr(e.groupOffsetTree,n)[0],offset:0,size:0},{data:t==null?void 0:t[0],index:n,offset:0,size:0}]}return[{data:t==null?void 0:t[0],index:r,offset:0,size:0}]}const Hg={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function Kh(r,e,t,n,i,o){const{lastIndex:l,lastOffset:u,lastSize:h}=i;let d=0,g=0;if(r.length>0){d=r[0].offset;const x=r[r.length-1];g=x.offset+x.size}const m=t-l,f=u+m*h+(m-1)*n,y=d,b=f-g;return{bottom:g,firstItemIndex:o,items:dC(r,i,o),offsetBottom:b,offsetTop:d,top:y,topItems:dC(e,i,o),topListHeight:e.reduce((x,C)=>C.size+x,0),totalCount:t}}function ES(r,e,t,n,i,o){let l=0;if(t.groupIndices.length>0)for(const g of t.groupIndices){if(g-l>=r)break;l++}const u=r+l,h=e0(e,u),d=Array.from({length:u}).map((g,m)=>({data:o[m+h],index:m+h,offset:0,size:0}));return Kh(d,[],u,i,t,n)}function dC(r,e,t){if(r.length===0)return[];if(!hf(e))return r.map(d=>({...d,index:d.index+t,originalIndex:d.index}));const n=r[0].index,i=r[r.length-1].index,o=[],l=cf(e.groupOffsetTree,n,i);let u,h=0;for(const d of r){(!u||u.end<d.index)&&(u=l.shift(),h=e.groupIndices.indexOf(u.start));let g;d.index===u.start?g={index:h,type:"group"}:g={groupIndex:h,index:d.index-(h+1)+t},o.push({...g,data:d.data,offset:d.offset,originalIndex:d.index,size:d.size})}return o}const $o=xt(([{data:r,firstItemIndex:e,gap:t,sizes:n,totalCount:i},o,{listBoundary:l,topListHeight:u,visibleRange:h},{initialTopMostItemIndex:d,scrolledToInitialItem:g},{topListHeight:m},f,{didMount:y},{recalcInProgress:b}])=>{const x=De([]),C=De(0),w=Et();Ge(o.topItemsIndexes,x);const E=Fn(Se(dn(y,b,lt(h,Fu),lt(i),lt(n),lt(d),g,lt(x),lt(e),lt(t),r),ot(([M,R,,A,,,,,,,T])=>{const I=T&&T.length!==A;return M&&!R&&!I}),Ve(([,,[M,R],A,T,I,D,N,L,U,J])=>{const re=T,{offsetTree:Z,sizeTree:ie}=re,G=_n(C);if(A===0)return{...Hg,totalCount:A};if(M===0&&R===0)return G===0?{...Hg,totalCount:A}:ES(G,I,T,L,U,J||[]);if(Dt(ie))return G>0?null:Kh(mj(e0(I,A),re,J),[],A,U,re,L);const W=[];if(N.length>0){const ee=N[0],$=N[N.length-1];let Y=0;for(const Q of cf(ie,ee,$)){const te=Q.value,ae=Math.max(Q.start,ee),ge=Math.min(Q.end,$);for(let Ce=ae;Ce<=ge;Ce++)W.push({data:J==null?void 0:J[Ce],index:Ce,offset:Y,size:te}),Y+=te}}if(!D)return Kh([],W,A,U,re,L);const B=N.length>0?N[N.length-1]+1:0,V=rj(Z,M,R,B);if(V.length===0)return null;const H=A-1,ne=uf([],ee=>{for(const $ of V){const Y=$.value;let Q=Y.offset,te=$.start;const ae=Y.size;if(Y.offset<M){te+=Math.floor((M-Y.offset+U)/(ae+U));const Ce=te-$.start;Q+=Ce*ae+Ce*U}te<B&&(Q+=(B-te)*ae,te=B);const ge=Math.min($.end,H);for(let Ce=te;Ce<=ge&&!(Q>=R);Ce++)ee.push({data:J==null?void 0:J[Ce],index:Ce,offset:Q,size:ae}),Q+=ae+U}});return Kh(ne,W,A,U,re,L)}),ot(M=>M!==null),jt()),Hg);Ge(Se(r,ot(Kv),Ve(M=>M==null?void 0:M.length)),i),Ge(Se(E,Ve(M=>M.topListHeight)),m),Ge(m,u),Ge(Se(E,Ve(M=>[M.top,M.bottom])),l),Ge(Se(E,Ve(M=>M.items)),w);const P=gr(Se(E,ot(({items:M})=>M.length>0),pt(i,r),ot(([{items:M},R])=>M[M.length-1].originalIndex===R-1),Ve(([,M,R])=>[M-1,R]),jt(Fu),Ve(([M])=>M))),S=gr(Se(E,Fs(200),ot(({items:M,topItems:R})=>M.length>0&&M[0].originalIndex===R.length),Ve(({items:M})=>M[0].index),jt())),O=gr(Se(E,ot(({items:M})=>M.length>0),Ve(({items:M})=>{let R=0,A=M.length-1;for(;M[R].type==="group"&&R<A;)R++;for(;M[A].type==="group"&&A>R;)A--;return{endIndex:M[A].index,startIndex:M[R].index}}),jt(pS)));return{endReached:P,initialItemCount:C,itemsRendered:w,listState:E,rangeChanged:O,startReached:S,topItemsIndexes:x,...f}},Bt(Si,vS,t0,nc,tc,rc,ro,Yv),{singleton:!0}),CS=xt(([{fixedFooterHeight:r,fixedHeaderHeight:e,footerHeight:t,headerHeight:n},{listState:i}])=>{const o=Et(),l=Fn(Se(dn(t,r,n,e,i),Ve(([u,h,d,g,m])=>u+h+d+g+m.offsetBottom+m.bottom)),0);return Ge(lt(l),o),{totalListHeight:l,totalListHeightChanged:o}},Bt($n,$o),{singleton:!0}),gj=xt(([{viewportHeight:r},{totalListHeight:e}])=>{const t=De(!1),n=Fn(Se(dn(t,r,e),ot(([i])=>i),Ve(([,i,o])=>Math.max(0,i-o)),Fs(0),jt()),0);return{alignToBottom:t,paddingTopAddition:n}},Bt($n,CS),{singleton:!0});function fC(r){return r?r==="smooth"?"smooth":"auto":!1}const yj=(r,e)=>typeof r=="function"?fC(r(e)):e&&fC(r),vj=xt(([{listRefresh:r,totalCount:e,fixedItemSize:t},{atBottomState:n,isAtBottom:i},{scrollToIndex:o},{scrolledToInitialItem:l},{didMount:u,propsReady:h},{log:d},{scrollingInProgress:g}])=>{const m=De(!1),f=Et();let y=null;function b(C){ht(o,{align:"end",behavior:C,index:"LAST"})}Tt(Se(dn(Se(lt(e),Za(1)),u),pt(lt(m),i,l,g),Ve(([[C,w],E,P,S,O])=>{let M=w&&S,R="auto";return M&&(R=yj(E,P||O),M=M&&!!R),{followOutputBehavior:R,shouldFollow:M,totalCount:C}}),ot(({shouldFollow:C})=>C)),({followOutputBehavior:C,totalCount:w})=>{y&&(y(),y=null),_n(t)?requestAnimationFrame(()=>{_n(d)("following output to ",{totalCount:w},ir.DEBUG),b(C)}):y=Ci(r,()=>{_n(d)("following output to ",{totalCount:w},ir.DEBUG),b(C),y=null})});function x(C){const w=Ci(n,E=>{C&&!E.atBottom&&E.notAtBottomBecause==="SIZE_INCREASED"&&!y&&(_n(d)("scrolling to bottom due to increased size",{},ir.DEBUG),b("auto"))});setTimeout(w,100)}return Tt(Se(dn(lt(m),e,h),ot(([C,,w])=>C&&w),fi(({value:C},[,w])=>({refreshed:C===w,value:w}),{refreshed:!1,value:0}),ot(({refreshed:C})=>C),pt(m,e)),([,C])=>{_n(l)&&x(C!==!1)}),Tt(f,()=>{x(_n(m)!==!1)}),Tt(dn(lt(m),n),([C,w])=>{C&&!w.atBottom&&w.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&b("auto")}),{autoscrollToBottom:f,followOutput:m}},Bt(Si,rc,tc,nc,ro,no,$n)),_j=xt(([{data:r,firstItemIndex:e,gap:t,sizes:n},{initialTopMostItemIndex:i},{initialItemCount:o,listState:l},{didMount:u}])=>(Ge(Se(u,pt(o),ot(([,h])=>h!==0),pt(i,n,e,t,r),Ve(([[,h],d,g,m,f,y=[]])=>ES(h,d,g,m,f,y))),l),{}),Bt(Si,nc,$o,ro),{singleton:!0}),wj=xt(([{didMount:r},{scrollTo:e},{listState:t}])=>{const n=De(0);return Tt(Se(r,pt(n),ot(([,i])=>i!==0),Ve(([,i])=>({top:i}))),i=>{Ci(Se(t,Za(1),ot(o=>o.items.length>1)),()=>{requestAnimationFrame(()=>{ht(e,i)})})}),{initialScrollTop:n}},Bt(ro,$n,$o),{singleton:!0}),Ej=({itemBottom:r,itemTop:e,locationParams:{align:t,behavior:n,...i},viewportBottom:o,viewportTop:l})=>e<l?{...i,align:t??"start",behavior:n}:r>o?{...i,align:t??"end",behavior:n}:null,Cj=xt(([{gap:r,sizes:e,totalCount:t},{fixedFooterHeight:n,fixedHeaderHeight:i,headerHeight:o,scrollingInProgress:l,scrollTop:u,viewportHeight:h},{scrollToIndex:d}])=>{const g=Et();return Ge(Se(g,pt(e,h,t,o,i,n,u),pt(r),Ve(([[m,f,y,b,x,C,w,E],P])=>{const{align:S,behavior:O,calculateViewLocation:M=Ej,done:R,...A}=m,T=yS(m,f,b-1),I=ju(T,f.offsetTree,P)+x+C,D=I+Yr(f.sizeTree,T)[1],N=E+C,L=E+y-w,U=M({itemBottom:D,itemTop:I,locationParams:{align:S,behavior:O,...A},viewportBottom:L,viewportTop:N});return U?R&&Ci(Se(l,ot(J=>!J),Za(_n(l)?1:2)),R):R&&R(),U}),ot(m=>m!==null)),d),{scrollIntoView:g}},Bt(Si,$n,tc,$o,no),{singleton:!0}),AS=xt(([{scrollVelocity:r}])=>{const e=De(!1),t=Et(),n=De(!1);return Ge(Se(r,pt(n,e,t),ot(([i,o])=>!!o),Ve(([i,o,l,u])=>{const{enter:h,exit:d}=o;if(l){if(d(i,u))return!1}else if(h(i,u))return!0;return l}),jt()),e),Tt(Se(dn(e,r,t),pt(n)),([[i,o,l],u])=>{i&&u&&u.change&&u.change(o,l)}),{isSeeking:e,scrollSeekConfiguration:n,scrollSeekRangeChanged:t,scrollVelocity:r}},Bt(rc),{singleton:!0}),n0=xt(([{scrollContainerState:r,scrollTo:e}])=>{const t=Et(),n=Et(),i=Et(),o=De(!1),l=De(void 0);return Ge(Se(dn(t,n),Ve(([{scrollHeight:u,scrollTop:h,viewportHeight:d},{offsetTop:g}])=>({scrollHeight:u,scrollTop:Math.max(0,h-g),viewportHeight:d}))),r),Ge(Se(e,pt(n),Ve(([u,{offsetTop:h}])=>({...u,top:u.top+h}))),i),{customScrollParent:l,useWindowScroll:o,windowScrollContainerState:t,windowScrollTo:i,windowViewportRect:n}},Bt($n)),Aj=xt(([{sizeRanges:r,sizes:e},{headerHeight:t,scrollTop:n},{initialTopMostItemIndex:i},{didMount:o},{useWindowScroll:l,windowScrollContainerState:u,windowViewportRect:h}])=>{const d=Et(),g=De(void 0),m=De(null),f=De(null);return Ge(u,m),Ge(h,f),Tt(Se(d,pt(e,n,l,m,f,t)),([y,b,x,C,w,E,P])=>{const S=sj(b.sizeTree);C&&w!==null&&E!==null&&(x=w.scrollTop-E.offsetTop),x-=P,y({ranges:S,scrollTop:x})}),Ge(Se(g,ot(Kv),Ve(bj)),i),Ge(Se(o,pt(g),ot(([,y])=>y!==void 0),jt(),Ve(([,y])=>y.ranges)),r),{getState:d,restoreStateFrom:g}},Bt(Si,$n,nc,ro,n0));function bj(r){return{align:"start",index:0,offset:r.scrollTop}}const xj=xt(([{topItemsIndexes:r}])=>{const e=De(0);return Ge(Se(e,ot(t=>t>=0),Ve(t=>Array.from({length:t}).map((n,i)=>i))),r),{topItemCount:e}},Bt($o));function bS(r){let e=!1,t;return()=>(e||(e=!0,t=r()),t)}const Sj=bS(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Tj=xt(([{deviation:r,scrollBy:e,scrollingInProgress:t,scrollTop:n},{isAtBottom:i,isScrolling:o,lastJumpDueToItemResize:l,scrollDirection:u},{listState:h},{beforeUnshiftWith:d,gap:g,shiftWithOffset:m,sizes:f},{log:y},{recalcInProgress:b}])=>{const x=gr(Se(h,pt(l),fi(([,w,E,P],[{bottom:S,items:O,offsetBottom:M,totalCount:R},A])=>{const T=S+M;let I=0;return E===R&&w.length>0&&O.length>0&&(O[0].originalIndex===0&&w[0].originalIndex===0||(I=T-P,I!==0&&(I+=A))),[I,O,R,T]},[0,[],0,0]),ot(([w])=>w!==0),pt(n,u,t,i,y,b),ot(([,w,E,P,,,S])=>!S&&!P&&w!==0&&E===Bu),Ve(([[w],,,,,E])=>(E("Upward scrolling compensation",{amount:w},ir.DEBUG),w))));function C(w){w>0?(ht(e,{behavior:"auto",top:-w}),ht(r,0)):(ht(r,0),ht(e,{behavior:"auto",top:-w}))}return Tt(Se(x,pt(r,o)),([w,E,P])=>{P&&Sj()?ht(r,E-w):C(-w)}),Tt(Se(dn(Fn(o,!1),r,b),ot(([w,E,P])=>!w&&!P&&E!==0),Ve(([w,E])=>E),Fs(1)),C),Ge(Se(m,Ve(w=>({top:-w}))),e),Tt(Se(d,pt(f,g),Ve(([w,{groupIndices:E,lastSize:P,sizeTree:S},O])=>{function M(R){return R*(P+O)}if(E.length===0)return M(w);{let R=0;const A=Lu(S,0);let T=0,I=0;for(;T<w;){T++,R+=A;let D=E.length===I+1?1/0:E[I+1]-E[I]-1;T+D>w&&(R-=A,D=w-T+1),T+=D,R+=M(D),I++}return R}})),w=>{ht(r,w),requestAnimationFrame(()=>{ht(e,{top:w}),requestAnimationFrame(()=>{ht(r,0),ht(b,!1)})})}),{deviation:r}},Bt($n,rc,$o,Si,no,Yv)),Ij=xt(([r,e,t,n,i,o,l,u,h,d])=>({...r,...e,...t,...n,...i,...o,...l,...u,...h,...d}),Bt(t0,_j,ro,AS,CS,wj,gj,n0,Cj,no)),xS=xt(([{data:r,defaultItemSize:e,firstItemIndex:t,fixedItemSize:n,gap:i,groupIndices:o,itemSize:l,sizeRanges:u,sizes:h,statefulTotalCount:d,totalCount:g,trackItemSizes:m},{initialItemFinalLocationReached:f,initialTopMostItemIndex:y,scrolledToInitialItem:b},x,C,w,{listState:E,topItemsIndexes:P,...S},{scrollToIndex:O},M,{topItemCount:R},{groupCounts:A},T])=>(Ge(S.rangeChanged,T.scrollSeekRangeChanged),Ge(Se(T.windowViewportRect,Ve(I=>I.visibleHeight)),x.viewportHeight),{data:r,defaultItemHeight:e,firstItemIndex:t,fixedItemHeight:n,gap:i,groupCounts:A,initialItemFinalLocationReached:f,initialTopMostItemIndex:y,scrolledToInitialItem:b,sizeRanges:u,topItemCount:R,topItemsIndexes:P,totalCount:g,...w,groupIndices:o,itemSize:l,listState:E,scrollToIndex:O,statefulTotalCount:d,trackItemSizes:m,...S,...T,...x,sizes:h,...C}),Bt(Si,nc,$n,Aj,vj,$o,tc,Tj,xj,vS,Ij));function Dj(r,e){const t={},n={};let i=0;const o=r.length;for(;i<o;)n[r[i]]=1,i+=1;for(const l in e)Object.hasOwn(n,l)||(t[l]=e[l]);return t}const Dh=typeof document<"u"?qe.useLayoutEffect:qe.useEffect;function SS(r,e,t){const n=Object.keys(e.required||{}),i=Object.keys(e.optional||{}),o=Object.keys(e.methods||{}),l=Object.keys(e.events||{}),u=qe.createContext({});function h(C,w){C.propsReady&&ht(C.propsReady,!1);for(const E of n){const P=C[e.required[E]];ht(P,w[E])}for(const E of i)if(E in w){const P=C[e.optional[E]];ht(P,w[E])}C.propsReady&&ht(C.propsReady,!0)}function d(C){return o.reduce((w,E)=>(w[E]=P=>{const S=C[e.methods[E]];ht(S,P)},w),{})}function g(C){return l.reduce((w,E)=>(w[E]=H9(C[e.events[E]]),w),{})}const m=qe.forwardRef((C,w)=>{const{children:E,...P}=C,[S]=qe.useState(()=>uf($9(r),R=>{h(R,P)})),[O]=qe.useState(rC(g,S));Dh(()=>{for(const R of l)R in P&&Tt(O[R],P[R]);return()=>{Object.values(O).map(Jv)}},[P,O,S]),Dh(()=>{h(S,P)}),qe.useImperativeHandle(w,nC(d(S)));const M=t;return _.jsx(u.Provider,{value:S,children:t?_.jsx(M,{...Dj([...n,...i,...l],P),children:E}):E})}),f=C=>{const w=qe.useContext(u);return qe.useCallback(E=>{ht(w[C],E)},[w,C])},y=C=>{const w=qe.useContext(u)[C],E=qe.useCallback(P=>Tt(w,P),[w]);return qe.useSyncExternalStore(E,()=>_n(w),()=>_n(w))},b=C=>{const w=qe.useContext(u)[C],[E,P]=qe.useState(rC(_n,w));return Dh(()=>Tt(w,S=>{S!==E&&P(nC(S))}),[w,E]),E},x=qe.version.startsWith("18")?y:b;return{Component:m,useEmitter:(C,w)=>{const E=qe.useContext(u)[C];Dh(()=>Tt(E,w),[w,E])},useEmitterValue:x,usePublisher:f}}const TS=qe.createContext(void 0),IS=qe.createContext(void 0),DS=typeof document<"u"?qe.useLayoutEffect:qe.useEffect;function Wg(r){return"self"in r}function kj(r){return"body"in r}function kS(r,e,t,n=dl,i,o){const l=qe.useRef(null),u=qe.useRef(null),h=qe.useRef(null),d=qe.useCallback(f=>{let y,b,x;const C=f.target;if(kj(C)||Wg(C)){const E=Wg(C)?C:C.defaultView;x=o?E.scrollX:E.scrollY,y=o?E.document.documentElement.scrollWidth:E.document.documentElement.scrollHeight,b=o?E.innerWidth:E.innerHeight}else x=o?C.scrollLeft:C.scrollTop,y=o?C.scrollWidth:C.scrollHeight,b=o?C.offsetWidth:C.offsetHeight;const w=()=>{r({scrollHeight:y,scrollTop:Math.max(x,0),viewportHeight:b})};f.suppressFlushSync?w():D4.flushSync(w),u.current!==null&&(x===u.current||x<=0||x===y-b)&&(u.current=null,e(!0),h.current&&(clearTimeout(h.current),h.current=null))},[r,e,o]);qe.useEffect(()=>{const f=i||l.current;return n(i||l.current),d({suppressFlushSync:!0,target:f}),f.addEventListener("scroll",d,{passive:!0}),()=>{n(null),f.removeEventListener("scroll",d)}},[l,d,t,n,i]);function g(f){const y=l.current;if(!y||(o?"offsetWidth"in y&&y.offsetWidth===0:"offsetHeight"in y&&y.offsetHeight===0))return;const b=f.behavior==="smooth";let x,C,w;Wg(y)?(C=Math.max(Js(y.document.documentElement,o?"width":"height"),o?y.document.documentElement.scrollWidth:y.document.documentElement.scrollHeight),x=o?y.innerWidth:y.innerHeight,w=o?window.scrollX:window.scrollY):(C=y[o?"scrollWidth":"scrollHeight"],x=Js(y,o?"width":"height"),w=y[o?"scrollLeft":"scrollTop"]);const E=C-x;if(f.top=Math.ceil(Math.max(Math.min(E,f.top),0)),wS(x,C)||f.top===w){r({scrollHeight:C,scrollTop:w,viewportHeight:x}),b&&e(!0);return}b?(u.current=f.top,h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{h.current=null,u.current=null,e(!0)},1e3)):u.current=null,o&&(f={behavior:f.behavior,left:f.top}),y.scrollTo(f)}function m(f){o&&(f={behavior:f.behavior,left:f.top}),l.current.scrollBy(f)}return{scrollByCallback:m,scrollerRef:l,scrollToCallback:g}}const $g="-webkit-sticky",pC="sticky",r0=bS(()=>{if(typeof document>"u")return pC;const r=document.createElement("div");return r.style.position=$g,r.style.position===$g?$g:pC});function i0(r){return r}const Rj=xt(()=>{const r=De(h=>`Item ${h}`),e=De(null),t=De(h=>`Group ${h}`),n=De({}),i=De(i0),o=De("div"),l=De(dl),u=(h,d=null)=>Fn(Se(n,Ve(g=>g[h]),jt()),d);return{components:n,computeItemKey:i,context:e,EmptyPlaceholder:u("EmptyPlaceholder"),FooterComponent:u("Footer"),GroupComponent:u("Group","div"),groupContent:t,HeaderComponent:u("Header"),HeaderFooterTag:o,ItemComponent:u("Item","div"),itemContent:r,ListComponent:u("List","div"),ScrollerComponent:u("Scroller","div"),scrollerRef:l,ScrollSeekPlaceholder:u("ScrollSeekPlaceholder"),TopItemListComponent:u("TopItemList")}}),Pj=xt(([r,e])=>({...r,...e}),Bt(xS,Rj)),Nj=({height:r})=>_.jsx("div",{style:{height:r}}),Oj={overflowAnchor:"none",position:r0(),zIndex:1},RS={overflowAnchor:"none"},Lj={...RS,display:"inline-block",height:"100%"},mC=qe.memo(function({showTopList:r=!1}){const e=ct("listState"),t=Tr("sizeRanges"),n=ct("useWindowScroll"),i=ct("customScrollParent"),o=Tr("windowScrollContainerState"),l=Tr("scrollContainerState"),u=i||n?o:l,h=ct("itemContent"),d=ct("context"),g=ct("groupContent"),m=ct("trackItemSizes"),f=ct("itemSize"),y=ct("log"),b=Tr("gap"),x=ct("horizontalDirection"),{callbackRef:C}=J9(t,f,m,r?dl:u,y,b,i,x,ct("skipAnimationFrameInResizeObserver")),[w,E]=qe.useState(0);s0("deviation",U=>{w!==U&&E(U)});const P=ct("EmptyPlaceholder"),S=ct("ScrollSeekPlaceholder")||Nj,O=ct("ListComponent"),M=ct("ItemComponent"),R=ct("GroupComponent"),A=ct("computeItemKey"),T=ct("isSeeking"),I=ct("groupIndices").length>0,D=ct("alignToBottom"),N=ct("initialItemFinalLocationReached"),L=r?{}:{boxSizing:"border-box",...x?{display:"inline-block",height:"100%",marginLeft:w!==0?w:D?"auto":0,paddingLeft:e.offsetTop,paddingRight:e.offsetBottom,whiteSpace:"nowrap"}:{marginTop:w!==0?w:D?"auto":0,paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},...N?{}:{visibility:"hidden"}};return!r&&e.totalCount===0&&P?_.jsx(P,{...Sn(P,d)}):_.jsx(O,{...Sn(O,d),"data-testid":r?"virtuoso-top-item-list":"virtuoso-item-list",ref:C,style:L,children:(r?e.topItems:e.items).map(U=>{const J=U.originalIndex,re=A(J+e.firstItemIndex,U.data,d);return T?ve.createElement(S,{...Sn(S,d),height:U.size,index:U.index,key:re,type:U.type||"item",...U.type==="group"?{}:{groupIndex:U.groupIndex}}):U.type==="group"?ve.createElement(R,{...Sn(R,d),"data-index":J,"data-item-index":U.index,"data-known-size":U.size,key:re,style:Oj},g(U.index,d)):ve.createElement(M,{...Sn(M,d),...Mj(M,U.data),"data-index":J,"data-item-group-index":U.groupIndex,"data-item-index":U.index,"data-known-size":U.size,key:re,style:x?Lj:RS},I?h(U.index,U.groupIndex,U.data,d):h(U.index,U.data,d))})})}),Fj={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},jj={outline:"none",overflowX:"auto",position:"relative"},df=r=>({height:"100%",position:"absolute",top:0,width:"100%",...r?{display:"flex",flexDirection:"column"}:{}}),Bj={position:r0(),top:0,width:"100%",zIndex:1};function Sn(r,e){if(typeof r!="string")return{context:e}}function Mj(r,e){return{item:typeof r=="string"?void 0:e}}const qj=qe.memo(function(){const r=ct("HeaderComponent"),e=Tr("headerHeight"),t=ct("HeaderFooterTag"),n=Wo(qe.useMemo(()=>o=>{e(Js(o,"height"))},[e]),!0,ct("skipAnimationFrameInResizeObserver")),i=ct("context");return r?_.jsx(t,{ref:n,children:_.jsx(r,{...Sn(r,i)})}):null}),Vj=qe.memo(function(){const r=ct("FooterComponent"),e=Tr("footerHeight"),t=ct("HeaderFooterTag"),n=Wo(qe.useMemo(()=>o=>{e(Js(o,"height"))},[e]),!0,ct("skipAnimationFrameInResizeObserver")),i=ct("context");return r?_.jsx(t,{ref:n,children:_.jsx(r,{...Sn(r,i)})}):null});function PS({useEmitter:r,useEmitterValue:e,usePublisher:t}){return qe.memo(function({children:n,style:i,...o}){const l=t("scrollContainerState"),u=e("ScrollerComponent"),h=t("smoothScrollTargetReached"),d=e("scrollerRef"),g=e("context"),m=e("horizontalDirection")||!1,{scrollByCallback:f,scrollerRef:y,scrollToCallback:b}=kS(l,h,u,d,void 0,m);return r("scrollTo",b),r("scrollBy",f),_.jsx(u,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:y,style:{...m?jj:Fj,...i},tabIndex:0,...o,...Sn(u,g),children:n})})}function NS({useEmitter:r,useEmitterValue:e,usePublisher:t}){return qe.memo(function({children:n,style:i,...o}){const l=t("windowScrollContainerState"),u=e("ScrollerComponent"),h=t("smoothScrollTargetReached"),d=e("totalListHeight"),g=e("deviation"),m=e("customScrollParent"),f=e("context"),y=qe.useRef(null),b=e("scrollerRef"),{scrollByCallback:x,scrollerRef:C,scrollToCallback:w}=kS(l,h,u,b,m);return DS(()=>{var E;return C.current=m||((E=y.current)==null?void 0:E.ownerDocument.defaultView),()=>{C.current=null}},[C,m]),r("windowScrollTo",w),r("scrollBy",x),_.jsx(u,{ref:y,"data-virtuoso-scroller":!0,style:{position:"relative",...i,...d!==0?{height:d+g}:{}},...o,...Sn(u,f),children:n})})}const Uj=({children:r})=>{const e=qe.useContext(TS),t=Tr("viewportHeight"),n=Tr("fixedItemHeight"),i=ct("alignToBottom"),o=ct("horizontalDirection"),l=qe.useMemo(()=>oS(t,h=>Js(h,o?"width":"height")),[t,o]),u=Wo(l,!0,ct("skipAnimationFrameInResizeObserver"));return qe.useEffect(()=>{e&&(t(e.viewportHeight),n(e.itemHeight))},[e,t,n]),_.jsx("div",{"data-viewport-type":"element",ref:u,style:df(i),children:r})},zj=({children:r})=>{const e=qe.useContext(TS),t=Tr("windowViewportRect"),n=Tr("fixedItemHeight"),i=ct("customScrollParent"),o=lS(t,i,ct("skipAnimationFrameInResizeObserver")),l=ct("alignToBottom");return qe.useEffect(()=>{e&&(n(e.itemHeight),t({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,t,n]),_.jsx("div",{"data-viewport-type":"window",ref:o,style:df(l),children:r})},Hj=({children:r})=>{const e=ct("TopItemListComponent")||"div",t=ct("headerHeight"),n={...Bj,marginTop:`${t}px`},i=ct("context");return _.jsx(e,{style:n,...Sn(e,i),children:r})},Wj=qe.memo(function(r){const e=ct("useWindowScroll"),t=ct("topItemsIndexes").length>0,n=ct("customScrollParent"),i=ct("context"),o=n||e?Kj:Gj,l=n||e?zj:Uj;return _.jsxs(o,{...r,...Sn(o,i),children:[t&&_.jsx(Hj,{children:_.jsx(mC,{showTopList:!0})}),_.jsxs(l,{children:[_.jsx(qj,{}),_.jsx(mC,{}),_.jsx(Vj,{})]})]})}),{Component:$j,useEmitter:s0,useEmitterValue:ct,usePublisher:Tr}=SS(Pj,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Wj),Gj=PS({useEmitter:s0,useEmitterValue:ct,usePublisher:Tr}),Kj=NS({useEmitter:s0,useEmitterValue:ct,usePublisher:Tr}),Jj=$j,Qj=xt(()=>{const r=De(d=>_.jsxs("td",{children:["Item $",d]})),e=De(null),t=De(d=>_.jsxs("td",{colSpan:1e3,children:["Group ",d]})),n=De(null),i=De(null),o=De({}),l=De(i0),u=De(dl),h=(d,g=null)=>Fn(Se(o,Ve(m=>m[d]),jt()),g);return{components:o,computeItemKey:l,context:e,EmptyPlaceholder:h("EmptyPlaceholder"),FillerRow:h("FillerRow"),fixedFooterContent:i,fixedHeaderContent:n,itemContent:r,groupContent:t,ScrollerComponent:h("Scroller","div"),scrollerRef:u,ScrollSeekPlaceholder:h("ScrollSeekPlaceholder"),TableBodyComponent:h("TableBody","tbody"),TableComponent:h("Table","table"),TableFooterComponent:h("TableFoot","tfoot"),TableHeadComponent:h("TableHead","thead"),TableRowComponent:h("TableRow","tr"),GroupComponent:h("Group","tr")}});Bt(xS,Qj);r0();const gC={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},Yj={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:yC,floor:wd,max:Cu,min:Gg,round:vC}=Math;function _C(r,e,t){return Array.from({length:e-r+1}).map((n,i)=>({data:t===null?null:t[i+r],index:i+r}))}function Xj(r){return{...Yj,items:r}}function kh(r,e){return r&&r.width===e.width&&r.height===e.height}function Zj(r,e){return r&&r.column===e.column&&r.row===e.row}const eB=xt(([{increaseViewportBy:r,listBoundary:e,overscan:t,visibleRange:n},{footerHeight:i,headerHeight:o,scrollBy:l,scrollContainerState:u,scrollTo:h,scrollTop:d,smoothScrollTargetReached:g,viewportHeight:m},f,y,{didMount:b,propsReady:x},{customScrollParent:C,useWindowScroll:w,windowScrollContainerState:E,windowScrollTo:P,windowViewportRect:S},O])=>{const M=De(0),R=De(0),A=De(gC),T=De({height:0,width:0}),I=De({height:0,width:0}),D=Et(),N=Et(),L=De(0),U=De(null),J=De({column:0,row:0}),re=Et(),Z=Et(),ie=De(!1),G=De(0),W=De(!0),B=De(!1),V=De(!1);Tt(Se(b,pt(G),ot(([Q,te])=>!!te)),()=>{ht(W,!1)}),Tt(Se(dn(b,W,I,T,G,B),ot(([Q,te,ae,ge,,Ce])=>Q&&!te&&ae.height!==0&&ge.height!==0&&!Ce)),([,,,,Q])=>{ht(B,!0),Zv(1,()=>{ht(D,Q)}),Ci(Se(d),()=>{ht(e,[0,0]),ht(W,!0)})}),Ge(Se(Z,ot(Q=>Q!=null&&Q.scrollTop>0),hi(0)),R),Tt(Se(b,pt(Z),ot(([,Q])=>Q!=null)),([,Q])=>{Q&&(ht(T,Q.viewport),ht(I,Q.item),ht(J,Q.gap),Q.scrollTop>0&&(ht(ie,!0),Ci(Se(d,Za(1)),te=>{ht(ie,!1)}),ht(h,{top:Q.scrollTop})))}),Ge(Se(T,Ve(({height:Q})=>Q)),m),Ge(Se(dn(lt(T,kh),lt(I,kh),lt(J,(Q,te)=>Q&&Q.column===te.column&&Q.row===te.row),lt(d)),Ve(([Q,te,ae,ge])=>({gap:ae,item:te,scrollTop:ge,viewport:Q}))),re),Ge(Se(dn(lt(M),n,lt(J,Zj),lt(I,kh),lt(T,kh),lt(U),lt(R),lt(ie),lt(W),lt(G)),ot(([,,,,,,,Q])=>!Q),Ve(([Q,[te,ae],ge,Ce,Re,Pe,Ne,,Fe,Xe])=>{const{column:ue,row:fe}=ge,{height:Ee,width:Te}=Ce,{width:ye}=Re;if(Ne===0&&(Q===0||ye===0))return gC;if(Te===0){const kt=e0(Xe,Q),tn=kt+Math.max(Ne-1,0);return Xj(_C(kt,tn,Pe))}const $e=OS(ye,Te,ue);let Le,ze;Fe?te===0&&ae===0&&Ne>0?(Le=0,ze=Ne-1):(Le=$e*wd((te+fe)/(Ee+fe)),ze=$e*yC((ae+fe)/(Ee+fe))-1,ze=Gg(Q-1,Cu(ze,$e-1)),Le=Gg(ze,Cu(0,Le))):(Le=0,ze=-1);const Ke=_C(Le,ze,Pe),{bottom:rt,top:st}=wC(Re,ge,Ce,Ke),Gn=yC(Q/$e),vt=Gn*Ee+(Gn-1)*fe-rt;return{bottom:rt,itemHeight:Ee,items:Ke,itemWidth:Te,offsetBottom:vt,offsetTop:st,top:st}})),A),Ge(Se(U,ot(Q=>Q!==null),Ve(Q=>Q.length)),M),Ge(Se(dn(T,I,A,J),ot(([Q,te,{items:ae}])=>ae.length>0&&te.height!==0&&Q.height!==0),Ve(([Q,te,{items:ae},ge])=>{const{bottom:Ce,top:Re}=wC(Q,ge,te,ae);return[Re,Ce]}),jt(Fu)),e);const H=De(!1);Ge(Se(d,pt(H),Ve(([Q,te])=>te||Q!==0)),H);const ne=gr(Se(dn(A,M),ot(([{items:Q}])=>Q.length>0),pt(H),ot(([[Q,te],ae])=>{const ge=Q.items[Q.items.length-1].index===te-1;return(ae||Q.bottom>0&&Q.itemHeight>0&&Q.offsetBottom===0&&Q.items.length===te)&&ge}),Ve(([[,Q]])=>Q-1),jt())),ee=gr(Se(lt(A),ot(({items:Q})=>Q.length>0&&Q[0].index===0),hi(0),jt())),$=gr(Se(lt(A),pt(ie),ot(([{items:Q},te])=>Q.length>0&&!te),Ve(([{items:Q}])=>({endIndex:Q[Q.length-1].index,startIndex:Q[0].index})),jt(pS),Fs(0)));Ge($,y.scrollSeekRangeChanged),Ge(Se(D,pt(T,I,M,J),Ve(([Q,te,ae,ge,Ce])=>{const Re=_S(Q),{align:Pe,behavior:Ne,offset:Fe}=Re;let Xe=Re.index;Xe==="LAST"&&(Xe=ge-1),Xe=Cu(0,Xe,Gg(ge-1,Xe));let ue=Ty(te,Ce,ae,Xe);return Pe==="end"?ue=vC(ue-te.height+ae.height):Pe==="center"&&(ue=vC(ue-te.height/2+ae.height/2)),Fe&&(ue+=Fe),{behavior:Ne,top:ue}})),h);const Y=Fn(Se(A,Ve(Q=>Q.offsetBottom+Q.bottom)),0);return Ge(Se(S,Ve(Q=>({height:Q.visibleHeight,width:Q.visibleWidth}))),T),{customScrollParent:C,data:U,deviation:L,footerHeight:i,gap:J,headerHeight:o,increaseViewportBy:r,initialItemCount:R,itemDimensions:I,overscan:t,restoreStateFrom:Z,scrollBy:l,scrollContainerState:u,scrollHeight:N,scrollTo:h,scrollToIndex:D,scrollTop:d,smoothScrollTargetReached:g,totalCount:M,useWindowScroll:w,viewportDimensions:T,windowScrollContainerState:E,windowScrollTo:P,windowViewportRect:S,...y,gridState:A,horizontalDirection:V,initialTopMostItemIndex:G,totalListHeight:Y,...f,endReached:ne,propsReady:x,rangeChanged:$,startReached:ee,stateChanged:re,stateRestoreInProgress:ie,...O}},Bt(t0,$n,rc,AS,ro,n0,no));function OS(r,e,t){return Cu(1,wd((r+t)/(wd(e)+t)))}function wC(r,e,t,n){const{height:i}=t;if(i===void 0||n.length===0)return{bottom:0,top:0};const o=Ty(r,e,t,n[0].index);return{bottom:Ty(r,e,t,n[n.length-1].index)+i,top:o}}function Ty(r,e,t,n){const i=OS(r.width,t.width,e.column),o=wd(n/i),l=o*t.height+Cu(0,o-1)*e.row;return l>0?l+e.row:l}const tB=xt(()=>{const r=De(m=>`Item ${m}`),e=De({}),t=De(null),n=De("virtuoso-grid-item"),i=De("virtuoso-grid-list"),o=De(i0),l=De("div"),u=De(dl),h=(m,f=null)=>Fn(Se(e,Ve(y=>y[m]),jt()),f),d=De(!1),g=De(!1);return Ge(lt(g),d),{components:e,computeItemKey:o,context:t,FooterComponent:h("Footer"),HeaderComponent:h("Header"),headerFooterTag:l,itemClassName:n,ItemComponent:h("Item","div"),itemContent:r,listClassName:i,ListComponent:h("List","div"),readyStateChanged:d,reportReadyState:g,ScrollerComponent:h("Scroller","div"),scrollerRef:u,ScrollSeekPlaceholder:h("ScrollSeekPlaceholder","div")}}),nB=xt(([r,e])=>({...r,...e}),Bt(eB,tB)),rB=qe.memo(function(){const r=Vt("gridState"),e=Vt("listClassName"),t=Vt("itemClassName"),n=Vt("itemContent"),i=Vt("computeItemKey"),o=Vt("isSeeking"),l=Ir("scrollHeight"),u=Vt("ItemComponent"),h=Vt("ListComponent"),d=Vt("ScrollSeekPlaceholder"),g=Vt("context"),m=Ir("itemDimensions"),f=Ir("gap"),y=Vt("log"),b=Vt("stateRestoreInProgress"),x=Ir("reportReadyState"),C=Wo(qe.useMemo(()=>w=>{const E=w.parentElement.parentElement.scrollHeight;l(E);const P=w.firstChild;if(P){const{height:S,width:O}=P.getBoundingClientRect();m({height:S,width:O})}f({column:EC("column-gap",getComputedStyle(w).columnGap,y),row:EC("row-gap",getComputedStyle(w).rowGap,y)})},[l,m,f,y]),!0,!1);return DS(()=>{r.itemHeight>0&&r.itemWidth>0&&x(!0)},[r]),b?null:_.jsx(h,{className:e,ref:C,...Sn(h,g),"data-testid":"virtuoso-item-list",style:{paddingBottom:r.offsetBottom,paddingTop:r.offsetTop},children:r.items.map(w=>{const E=i(w.index,w.data,g);return o?_.jsx(d,{...Sn(d,g),height:r.itemHeight,index:w.index,width:r.itemWidth},E):ve.createElement(u,{...Sn(u,g),className:t,"data-index":w.index,key:E},n(w.index,w.data,g))})})}),iB=qe.memo(function(){const r=Vt("HeaderComponent"),e=Ir("headerHeight"),t=Vt("headerFooterTag"),n=Wo(qe.useMemo(()=>o=>{e(Js(o,"height"))},[e]),!0,!1),i=Vt("context");return r?_.jsx(t,{ref:n,children:_.jsx(r,{...Sn(r,i)})}):null}),sB=qe.memo(function(){const r=Vt("FooterComponent"),e=Ir("footerHeight"),t=Vt("headerFooterTag"),n=Wo(qe.useMemo(()=>o=>{e(Js(o,"height"))},[e]),!0,!1),i=Vt("context");return r?_.jsx(t,{ref:n,children:_.jsx(r,{...Sn(r,i)})}):null}),oB=({children:r})=>{const e=qe.useContext(IS),t=Ir("itemDimensions"),n=Ir("viewportDimensions"),i=Wo(qe.useMemo(()=>o=>{n(o.getBoundingClientRect())},[n]),!0,!1);return qe.useEffect(()=>{e&&(n({height:e.viewportHeight,width:e.viewportWidth}),t({height:e.itemHeight,width:e.itemWidth}))},[e,n,t]),_.jsx("div",{ref:i,style:df(!1),children:r})},aB=({children:r})=>{const e=qe.useContext(IS),t=Ir("windowViewportRect"),n=Ir("itemDimensions"),i=Vt("customScrollParent"),o=lS(t,i,!1);return qe.useEffect(()=>{e&&(n({height:e.itemHeight,width:e.itemWidth}),t({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,t,n]),_.jsx("div",{ref:o,style:df(!1),children:r})},lB=qe.memo(function({...r}){const e=Vt("useWindowScroll"),t=Vt("customScrollParent"),n=t||e?cB:uB,i=t||e?aB:oB,o=Vt("context");return _.jsx(n,{...r,...Sn(n,o),children:_.jsxs(i,{children:[_.jsx(iB,{}),_.jsx(rB,{}),_.jsx(sB,{})]})})}),{useEmitter:LS,useEmitterValue:Vt,usePublisher:Ir}=SS(nB,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},lB),uB=PS({useEmitter:LS,useEmitterValue:Vt,usePublisher:Ir}),cB=NS({useEmitter:LS,useEmitterValue:Vt,usePublisher:Ir});function EC(r,e,t){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&t(`${r} was not resolved to pixel value correctly`,e,ir.WARN),e==="normal"?0:parseInt(e??"0",10)}class hB extends Gv{getListHtml(){return _.jsx(_.Fragment,{children:_.jsx(Jj,{className:this.props.ViewPortMCClassName||"flinnTechVirtuoso",style:{height:this.props.vHeight||"100%"},totalCount:this.list.length,itemContent:e=>{const t=this.list[e];return this.mapSection.getHtml({type:"div",content:this.getCellList(t)})}})})}}class dB extends Hx{constructor(){super(...arguments);le(this,"factory",{text:w9,attribute:af,custom:E9,customBuilt:B9,img:iS,form:C9,del:Wv,delIcon:tC,delCustom:tC,delText:A9,edit:$v,editIcon:x9,editCustom:S9,interactiveMap:T9,addComponentButton:I9,plain:D9,select:k9,logo:R9,links:P9,linkItem:N9,logout:O9,default:an,map:Gv,order:L9,innerMap:F9,backgroundImage:j9,viewPortMap:hB})}}class o0{constructor(){le(this,"MCMapContainer","Map-Container");le(this,"MCMapSection","Map-Section");le(this,"MCLink","Map-Link");le(this,"MCCell","Map-Cell");le(this,"MCCustomDelItem","Map-Custom-Del-Item");le(this,"MCDelItem","Map-Del-Item");le(this,"MCDelImgItem","Map-Del-imgItem");le(this,"MCCustomEditItem","Map-Custom-Edit-Item");le(this,"MCEditImgItem","Map-Edit-imgItem");le(this,"MCEditItem","Map-Edit-Item");le(this,"MCAttributeItem","Map-Attribute-Item");le(this,"MCImgItem","Map-imgItem");le(this,"MCTextItem","Map-Text-Item");le(this,"MCActiveItem","Map-Active-Item");le(this,"MCCustom","");le(this,"MCBackgroundItem","background-item");le(this,"MCCellBackground","cell-background");le(this,"MCBackgroundLink","cell-background");le(this,"MCLogoItem","navLogo")}}class ff extends o0{constructor(){super(...arguments);le(this,"MCSectionHover","DC-Map-Section:hover");le(this,"MCCustomDelItem","DC-Custom-Del-Item");le(this,"MCDelItem","DC-Del-Item");le(this,"MCDelImgItem","DC-Del-imgItem");le(this,"MCCustomEditItem","Map-Custom-Edit-Item");le(this,"MCEditImgItem","DC-Edit-imgItem");le(this,"MCEditItem","DC-Edit-Item")}}class pf extends ff{constructor(){super(...arguments);le(this,"MCMapContainer","DR-Map-Container");le(this,"MCMapSection","DR-Map-Section")}}class fB extends pf{constructor(){super(...arguments);le(this,"MCMapContainer","DRW-Map-Container")}}class pB extends pf{constructor(){super(...arguments);le(this,"MCMapContainer","IM-Map-Container");le(this,"MCMapSection","IM-Map-Section");le(this,"MCMap","IM-Map");le(this,"MCAddButton","IM-addButton");le(this,"MCActiveItem","IM-Active-Item");le(this,"MCCell","IM-Cell")}}class mB extends pf{constructor(){super(...arguments);le(this,"MCActiveLink",this.MCActiveItem);le(this,"MCLinkItem",this.MCLink);le(this,"MCMapSection","SB-Map-Section")}}class gB extends ff{constructor(){super(...arguments);le(this,"MCActiveLink",this.MCActiveItem);le(this,"MCLinkItem",this.MCLink);le(this,"MCMapSection","SB-link");le(this,"MCCell","SB-Cell-Link");le(this,"MCLink","SB-Map-Link");le(this,"MCLinkItem","SB-Map-Link")}}class yB extends ff{constructor(){super(...arguments);le(this,"MCActiveLink",this.MCActiveItem);le(this,"MCLinkItem",this.MCLink)}}const vB=Object.freeze(Object.defineProperty({__proto__:null,DefaultColumn:ff,DefaultRegistry:o0,DefaultRow:pf,DefaultWrapRow:fB,InteractiveMap:pB,Links:gB,SideBar:mB,TopBar:yB},Symbol.toStringTag,{value:"Module"}));class _B extends Mv{constructor(){super(vB),this.factory.default=o0}}class wB{constructor(){le(this,"factory",{text:Mu,tag:FS,plain:bB,textAndTag:AB,textAndTag2:CB,bool:SB,textAttributeList:xB})}getFilter(e){if(e)return this.factory[e]}registerFilter(e,t){this.factory[e]=t}}function FS(r){let{list:e,attribute:t,tagList:n}=r;return e.length>0&&(e=e.filter(i=>!!n.find(l=>(t?l.getJson()[t]:l.getJson().connectedId)===i.getJson()._id))),e}function EB(r){let e=[];if(r.search&&r.list){const t=r.search.toLowerCase().split(" ").map(n=>n.trim());e=r.list.filter(n=>{const i=n.getJson()[r.attribute||"tags"];if(i){let o=i.split(r.splitStr||",");o=o.map(l=>l.toLowerCase());for(let l of t)if(o.includes(l))return!0}else return!1})}return e}function CB(r){let{list:e,attributes:t,search:n}=r,i=[],o=[],l=t.split(",");for(let h of l)o.push(Mu({...r,attribute:h}));let u=EB({...r});return i=[...o[0],...u,...o[1],...o[2]],i=a0(i),i}function AB(r){let{list:e,attribute:t,tagList:n,attribute2:i,attributeTag:o,search:l}=r,u=Mu({...r,attribute:t}),h=FS({...r,attribute:o}),d=Mu({...r,attribute:i});return e=[...u,...h,...d],a0(e)}function a0(r){const e=new Map;return r.forEach(t=>{const i=t.getJson()._id;e.has(i)||e.set(i,t)}),Array.from(e.values())}function Mu(r){let{list:e,attribute:t,search:n}=r;return n&&n.length>0&&(e=e.filter(i=>{var o;return(o=i.getJson()[t])==null?void 0:o.toLowerCase().includes(n==null?void 0:n.toLowerCase())})),e}function bB(r){let{list:e,attribute:t,search:n}=r;return n&&n.length>0&&(e=e.filter(i=>{var o;return(o=i[t])==null?void 0:o.toLowerCase().includes(n==null?void 0:n.toLowerCase())})),e}function xB(r){let{attributeList:e}=r,t=[];for(let n of e)t=[...t,...Mu({...r,attribute:n})];return t=a0(t),t}function SB(r){let{list:e,attribute:t,search:n}=r;return e=e.filter(i=>i.getJson()[t]===n),e}class jS extends ul{constructor(){super();le(this,"FilterFactory");this.getFilterFactory(),this.mainFunc=this.getMapComponent}getFactory(){return this.factory===void 0&&(this.factory=new dB),this.factory}getThemeFactory(){return this.themeFactory===void 0&&(this.themeFactory=new _B),this.themeFactory}getFilterFactory(){return this.filterFactory===void 0&&(this.filterFactory=new wB),this.filterFactory}getMapComponent(t,n){return n=n||"default",this.factory.getComponent(n,t)}}class an extends zv{constructor(e){super(e),this.state={type:"map"},this.interface=BS}setFilterInfo(){this.filterFacotry=this.interface.getFilterFactory(),this.filters=this.props.filters,this.filterFunc=this.props.filterFunc,this.filter=this.props.filter}getFilterFunc(){var e;if(!this.filterFunc&&this.filters!==void 0){let t=(e=this.filters)==null?void 0:e.find(n=>n.type==="filterFunc");t&&(this.filterFunc=t.func)}}getFilter(){var e;if(!this.filter&&this.filters!==void 0){let t=(e=this.filters)==null?void 0:e.find(n=>n.type==="filter");t&&(this.filter={...t})}}getList(){var t,n,i,o;let e=this.props.name;this.list=this.props.list?this.props.list:this.filter?(i=this.componentList)==null?void 0:i.getList(e,(t=this.filter)==null?void 0:t.search,(n=this.filter)==null?void 0:n.attribute):(o=this.componentList)==null?void 0:o.getList(e)}filterListByFilterFunc(){this.list&&(this.list=this.list.filter(e=>this.filterFunc?this.filterFunc(e):!0))}filterListByFilterFactory(){if(this.filters)for(let e of this.filters){let t=this.filterFacotry.getFilter(e.type);t&&(this.list=t({list:this.list,...e}))}}setProps(){let e=this.props.cells;this.addToProps={cells:e,list:this.list}}componentPreSetup(){this.addToInitialSetup=[this.setFilterInfo,this.getFilterFunc,this.getFilter,this.getList,this.filterListByFilterFunc,this.filterListByFilterFactory]}}const BS=new jS;class MS extends nt{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.getNavLists],this.state={}}getLinks(){var e,t;return this.props.links?this.props.links:(t=(e=this.props.app)==null?void 0:e.state)==null?void 0:t.routes}getDefaultNavItem(e){return{logo:{imgSrc:this.props.logoURL,label:this.props.logoLabel,...this.props},links:{links:this.getLinks(),...this.props,class:"fit"},logout:{logoutFunc:this.props.logoutFunc,auth:this.props.auth,wrapperClass:"SB-logout",...this.props}}[e]}getList(){let e=this.props.navList,t=e.getList();for(let n=0;n<t.length;n++)if(t[n].default){let i=this.getDefaultNavItem(t[n].type);i.type=t[n].type,e.update(n,i)}return this.props.type==="topBar"&&(t=t.filter(n=>n.type!=="links")),t}getHtml(){return _.jsx(an,{theme:this.props.mapTheme,list:this.mapList,cells:this.list,...this.props.navMapProps})}getNavLists(){this.list=this.props.list?this.props.list:this.getList(),this.mapList=this.props.mapList?this.props.mapList:[{}]}}class TB{constructor(){le(this,"factory",{default:MS})}getComponent(e,t){let n;return this.factory[e]&&(n=this.factory[e]),_.jsx(n,{...t})}registerComponent(e,t){this.factory[e]=t}}class IB extends nt{constructor(e){super(e),this.state={defaultStyle:"navMenu",renderComp:void 0}}async open(){let e=await this.props.open();this.props.type==="topBar"&&(this.state.renderComp?this.setState({renderComp:void 0}):this.setState({renderComp:e}))}render(){return this.props.app,_.jsxs("div",{children:[_.jsxs("div",{onClick:this.open,className:this.props.menuClass?this.props.menuClass:this.state.defaultStyle,children:[this.props.menuContent&&_.jsx(_.Fragment,{children:this.props.menuContent})," "]}),this.state.renderComp&&_.jsx(_.Fragment,{children:this.state.renderComp})]})}}class DB extends en{constructor(e){super(e),this.state={...this.state,defaultType:this.props.type?this.props.type:"sideBar",typeKey:"layout",defaultNavType:"default",phoneSize:850,left:-400}}getProps(){var e,t;return{mapTheme:this.props.mapTheme||this.state.defaultType,links:this.props.links||((t=(e=this.props.app)==null?void 0:e.state)==null?void 0:t.routes),...this.props}}getFactoryComponent(e){let t=this.props.mapType?this.props.mapType:this.state.defaultNavType;return this.props.factory.getComponent(t,e)}componentDidMount(){this.resize!==void 0&&(window.addEventListener("resize",this.resize),this.resize())}componentWillUnmount(){this.resize!==void 0&&window.removeEventListener("resize",this.resize)}resize(){if(window.innerWidth<850){this.setState({phone:!0,tablet:!1,defaultType:this.props.phoneLayout?this.props.phoneLayout:this.state.ogType?this.state.ogType:this.state.defaultType,ogType:this.state.ogType?this.state.ogType:this.state.defaultType});return}if(window.innerWidth<1224){this.setState({phone:!1,tablet:!0,defaultType:this.props.tabletLayout?this.props.tabletLayout:this.state.ogType?this.state.ogType:this.state.defaultType,ogType:this.state.ogType?this.state.ogType:this.state.defaultType});return}window.innerWidth>1224&&(this.state.phone&&this.setState({phone:!1,defaultType:this.state.ogType}),this.state.tablet&&this.setState({tablet:!1,defaultType:this.state.ogType}))}async setStyleOnMenuClick(e){const t=n=>new Promise(i=>setTimeout(i,n));this.card.setStyle({...this.card.getStyle(),left:e.toString()+"px"}),await this.setState({left:e}),await t(10)}async setNavOpenClose(){if(this.state.left===-400)for(let e=-400;e<600;e=e+15){if(e>0){this.setState({left:0});break}await this.setStyleOnMenuClick(e)}else for(let e=0;e>-450;e=e-15){if(e<-400){this.setState({left:-400});break}await this.setStyleOnMenuClick(e)}}async openCloseLinks(){var n,i;let e=_.jsx(an,{list:this.props.links||((i=(n=this.props.app)==null?void 0:n.state)==null?void 0:i.routes),cells:[{type:"link"}]});return _.jsx(en,{content:e})}async openCloseNavFun(){return await{topBar:this.openCloseLinks,sideBar:this.setNavOpenClose}[this.state.defaultType]()}getMenu(){return this.props.menuComponent?_.jsx(this.props.menuComponent,{...this.props.menuComponentProps,open:this.openCloseNavFun,type:this.state.defaultType}):_.jsx(IB,{open:this.openCloseNavFun,type:this.state.defaultType,...this.props.menuComponentProps})}getContent(){let e=this.getProps(),t=this.getFactoryComponent(e);return this.content=_.jsxs(_.Fragment,{children:[t,this.props.type!=="type"&&(this.state.phone||window.innerWidth<this.state.phoneSize)&&_.jsx(_.Fragment,{children:this.getMenu()})]}),this.content}}class kB{constructor(){Hn.bind(this),this.list=[{type:"logo",picURL:void 0,label:void 0,default:!0},{type:"links",linkJson:void 0,default:!0},{type:"logout",logoutFunc:void 0,auth:void 0,default:!0}]}setList(e){this.list=e}getList(){return this.list}insert(e,t){if(e<0||e>=this.list.length){console.error("Index out of bounds");return}this.list.splice(e,0,t)}add(e,t){t?this.list.unshift(e):this.list.push(e)}addCustomJSX(e,t,n){let i={type:"custom",custom:e};t?this.insert(t,i):this.add(i,n)}update(e,t){if(e<0||e>=this.list.length){console.error("Index out of bounds");return}this.list[e]={...this.list[e],...t}}remove(e){if(e<0||e>=this.list.length){console.error("Index out of bounds");return}this.list.splice(e,1)}}class qS extends ul{constructor(){super();le(this,"factory");le(this,"navList");Hn.bind(this),this.getFactory(),this.getNavList(),this.mainFunc=this.getNav}getFactory(){return this.factory||(this.factory=new TB),this.factory}getNav(t){return _.jsx(DB,{factory:this.factory,navInterface:this,navList:this.navList,...t})}getNewNavList(){return new kB}setNavListForce(t){this.navList=t}getNavList(){return this.navList||(this.navList=this.getNewNavList()),this.navList}}const Ed=new qS;class RB extends zv{constructor(e){super(e),this.interface=Ed}}class PB{constructor(){le(this,"factory",{})}getComponent(e){return this.factory[e]}registerComponent(e,t){this.factory[e]=t}}class NB extends PB{constructor(){super(...arguments);le(this,"factory",{})}}class OB extends nt{constructor(e){super(e),this.state={}}checkPopupSwitch(e){var t,n;return this.popupSwitch=this.props.popupSwitch||((n=(t=this.props.app)==null?void 0:t.state)==null?void 0:n.popupSwitch),this.popupSwitch!==""&&this.popupSwitch!==void 0&&(e=!0),e}checkType(e){var i,o,l,u,h;let t=this.props.currentPopupComponent||((o=(i=this.props.app)==null?void 0:i.state)==null?void 0:o.currentPopupComponent),n=(l=this.popupFactory.getComponent(this.popupSwitch))==null?void 0:l.componentType;return n&&(t=this.isArray(t),e=((h=(u=t[0])==null?void 0:u.getJson())==null?void 0:h.type)===n&&t.length>0),e}render(){var n;let e=this.checkPopupSwitch(!1);e&&(e=this.checkType(e)),this.popupFactory=this.props.factory||this.props.app.state.popupFactory;let t=(n=this.popupFactory)==null?void 0:n.getComponent(this.popupSwitch);return _.jsx(_.Fragment,{children:e&&(t==null?void 0:t.content)&&_.jsx(en,{content:_.jsx(t.content,{}),popup:!0,type:t.popupType||"biggerCard",theme:t.popupTheme||"Default",handleClose:()=>{if(t.handleClose)t.handleClose();else{let i=this.props.app.state.currentPopupComponent;i&&this.props.app.state.operationsFactory.removeFromList(i),this.props.app.dispatch({currentPopupComponent:void 0,popupSwitch:void 0})}}})})}}class LB extends ul{constructor(){super();le(this,"factory");Hn.bind(this),this.getFactory()}getFactory(){return this.factory||(this.factory=new NB),this.factory}createPopupMachine(t){return _.jsx(OB,{app:(t==null?void 0:t.app)||this.getAppComponent(),factory:this.factory})}}let CC=new LB;class FB{constructor(){le(this,"convertStringToLink",e=>e&&(!e.startsWith("http://")&&!e.startsWith("https://")?"https://"+e:e))}isLikelyUrl(e){return/\.(com|net|org|io|gov|edu|co)\b/.test(e)||/^(?:f|ht)tps?\:\/\//.test(e)||/^mailto\:/i.test(e)}checkURLforString(e){return window.location.href.includes(e)}getIdFromURL(e,t){let i=window.location.href.split("/"),o=i[i.length-1],l=e?o.split("-"):[o];return t?l[t]:l[0]}getTypeFromURL(){let t=window.location.href.split("/");return t[t.length-2]}}let _i=new FB;class VS extends nt{constructor(t,n){super(t);le(this,"dispatchItems",{});this.state={...this.state,type:n==null?void 0:n.type,ids:n==null?void 0:n.ids,filterKeys:n==null?void 0:n.filterKeys,path:n==null?void 0:n.path,snapShot:n==null?void 0:n.snapShot,owner:!0},(n==null?void 0:n.owner)===!1&&(this.state.owner=!1)}async getComponentsFromBackend(){let{type:t,ids:n,filterKeys:i,path:o,snapShot:l,owner:u}=this.state;this.compList=await this.componentList.getList(t,n,i),this.compList.length>0&&await this.setState({gotComponents:!0}),this.compList=await this.componentList.getComponentsFromBackend({type:t,ids:n,filterKeys:i,path:o,snapShot:l,owner:u}),this.setState({gotComponents:!0,getComponentsFromBackend:!0,components:this.compList,urlId:n})}async componentDidMount(){this.getComponentsFromBackend();let t=this;window.addEventListener("popstate",function(n){t.onBackClick(n)})}onBackClick(t){this.getComponentsFromBackend()}componentDidUpdate(){this.getComponentsAgain()}async getComponentsAgain(t,n){this.getFromURL(),(this.app.state.urlChange||this.state.reRender&&this.urlId!==this.state.urlId)&&(await this.setState({urlId:this.urlId}),await this.dispatch({urlChange:void 0}),this.forceRerender=!1,this.getComponentsFromBackend())}async getFromURL(){this.urlType=_i.getTypeFromURL(),this.urlId=_i.getIdFromURL()}}class fl extends VS{constructor(t,n){super(t,n);le(this,"dispatchItems",{});this.state={...this.state,type:n==null?void 0:n.type,ids:n==null?void 0:n.ids,filterKeys:n==null?void 0:n.filterKeys,path:n==null?void 0:n.path,snapShot:n==null?void 0:n.snapShot,owner:n==null?void 0:n.owner},(n==null?void 0:n.owner)===!1&&(this.state.owner=!1)}async getComponentsFromBackend(){let{type:t,ids:n,filterKeys:i,path:o,snapShot:l,owner:u}=this.state;this.compList=await this.componentList.getComponents(),this.compList.length>0&&await this.setState({gotComponents:!0}),this.compList=await this.componentList.getComponentsFromBackend({type:this.state.owner,ids:n,filterKeys:i,path:o,snapShot:l,typeAttribute:"owner"}),this.setState({gotComponents:!0,getComponentsFromBackend:!0,components:this.compList,urlId:n})}}class ic extends VS{async getComponentsFromBackend(){await this.getFromURL(),await this.getFirstComponent(),this.comp&&await this.getAssociatedItems(),this.setGotComponents()}async getFirstComponent(e,t){let n=e||this.urlType,i=t||this.urlId;this.comp=this.componentList.getComponent(n,i),this.comp||(this.comp=await this.componentList.getComponentsFromBackend({type:n,ids:i,filterKeys:"_id",owner:this.state.owner}),this.comp=this.comp.length>0?this.comp[0]:void 0)}async getAssociatedItems(){this.compList=await this.comp.getAssociatedItems(this.state.itemTypes),this.compList.length>0&&this.setState({gotComponents:!0}),this.compList=await this.comp.getAssociatedItemsFromBackend(this.state.itemTypes),await this.setCurrentItems()}setCurrentItems(){this.dispatch({currentComponent:this.comp,["current"+this.getCapitalFirstLetter(this.comp.getJson().type)]:this.comp,...this.dispatchItems})}setGotComponents(){this.setState({gotComponents:!0,gotComponentsFromBackend:!0,components:this.compList,urlId:this.urlId})}}class US extends nt{constructor(e){super(e),this.state={...this.state,email:"",password:""}}validate(){return!0}onChange(e){let{name:t,value:n}=e.target;this.setState({[t]:n})}onSub(){this.validate()&&this.APIService.login(this.state.email,this.state.password)}getSwitchLink(){return _.jsxs("div",{id:"signUpFT",children:["Don't have an Account? ",_.jsx(Ht,{to:"/register",children:"Sign Up"})]})}preSetup(){this.setComponents(["container","header","form","submitButton"])}getHeaderHtml(){return this.header.getHtml({type:"h1",content:"Login"})}getFormHtml(){let e=_.jsxs(_.Fragment,{children:[_.jsx("div",{children:"Email"}),_.jsx("input",{className:"defaultInputFormAuth",name:"email",onChange:this.onChange,value:this.state.email}),_.jsx("div",{style:{marginTop:"10px"},children:"Password"}),_.jsx("input",{className:"defaultInputFormAuth",name:"password",type:"password",onChange:this.onChange,value:this.state.password})]});return this.form.setClass("defaultLoginForm"),this.form.getHtml({type:"div",content:e})}getSubmitHtml(){return this.submitButton.setClass("defaultLoginButton"),this.submitButton.setOnClick(this.onSub),this.submitButton.getHtml({type:"div",content:"Submit"})}getContainerHtml(){this.container.setClass(this.props.loginContainer||"fitCC");let e=_.jsxs(_.Fragment,{children:[this.getHeaderHtml(),this.getFormHtml(),this.getSubmitHtml(),this.getSwitchLink()]});return this.container.getHtml({type:"div",content:e})}getHtml(){let e=this.getContainerHtml();return _.jsx("div",{className:"fullCCLayoutRow",children:_.jsx(en,{type:this.props.loginCardType||"biggerCard",content:e})})}}class jB extends US{async onSub(){if(this.validate()){let e=await this.APIService.register(this.state.email,this.state.password);if(!e.error){let t={type:"user",email:this.state.email,_id:this.state.email};e=await this.componentList.addComponents(t),window.history.pushState({},"","/"),this.dispatch({currentUser:e})}}}getHeaderHtml(){return this.header.getHtml({type:"h1",content:"Register"})}getSwitchLink(){return _.jsxs("div",{children:["Have an Account? ",_.jsx(Ht,{to:"/login",children:"Login"})]})}}class BB extends nt{constructor(e){super(e),this.state={...this.state,routes:[],loginComp:US,registerComp:jB}}addToRouter(e){let t=[...this.state.routes,e];this.setState({routes:t})}getRouteMap(e,t){let n=_.jsx(_.Fragment,{});return e&&(e=[...e],n=e==null?void 0:e.map((i,o)=>(i.path||(i.path=this.classNameToString(i.comp),o===0&&(i.path="/")),_.jsxs(_.Fragment,{children:[_.jsx(Is,{path:i.path,element:_.jsx(i.comp,{props:{...t,...i.props}})}),_.jsx(Is,{path:i.path+"/:id",element:_.jsx(i.idComp,{props:{...t,...i.props}})})]})))),n}getRoutes(e,t){var i;let n=_.jsxs(mw,{children:[this.getRouteMap(e,t),this.state.routes.map((o,l)=>_.jsx(_.Fragment,{children:o}))]});return(i=this.app)!=null&&i.state.currentUser||(n=this.getUserAuthRoutes(t)),n}getUserAuthRoutes(e){let t=e.extraAuthRoutes,n=e.loginComp||this.state.loginComp,i=e.registerComp||this.state.registerComp;return _.jsxs(mw,{children:[_.jsx(Is,{path:"/",element:_.jsx(n,{props:{...e}})}),_.jsx(Is,{path:"/login",element:_.jsx(n,{props:{...e}})}),_.jsx(Is,{path:"/register",element:_.jsx(i,{props:{...e}})}),t==null?void 0:t.map((l,u)=>_.jsxs(_.Fragment,{children:[_.jsx(Is,{path:l.path,element:_.jsx(l.comp,{props:{...e,...l.props}})}),_.jsx(Is,{path:l.path+"/:id",element:_.jsx(l.idComp,{props:{...e,...l.props}})})]}))]})}getHtml(){var o;let e={...this.props};e.app=this.app;let t=(o=this.app)==null?void 0:o.state,n=this.props.routes||(t==null?void 0:t.routes),i=this.getRoutes(n,e);return _.jsx(_.Fragment,{children:i})}}class MB{constructor(){le(this,"registry",{})}getRegistry(){return this.registry}addToRegistry(e,t){this.registry[e]=t}getItemFromRegistry(e){return this.registry[e]}}class qB extends nt{constructor(t,n,i){super(t);le(this,"endpoint");le(this,"db");le(this,"storage");le(this,"auth");le(this,"popupComponents");le(this,"popupComponentsProps");n=this.props.config||n,this.popupComponents=this.props.popupComponents,this.componentListInterface=new q4(this.dispatch,n.endpoint,n.db,n.storage,n.auth),this.componentList=this.componentListInterface.createComponentList(),this.factory=this.componentListInterface.getFactory(),this.operationsFactory=this.componentList.getOperationsFactory(),this.interfaceRegistry=new MB,this.initialPropsSetupFunctions=[this.propogateApp,...this.initialPropsSetupFunctions],this.state={componentList:this.componentList,componentListInterface:this.componentListInterface,operationsFactory:this.operationsFactory,factory:this.factory,theme:this.props.theme||"default",pageClass:this.props.pageClass||"fullScreen",pageStyle:this.props.pageStyle,extraRouteKey:this.props.extraRouteKey||"extraRoutes",navBarProps:this.props.NavBarProps||{},popupFactory:CC.getFactory(),popups:this.props.popups||[],global:this.props.global||{},routes:this.props.routes||[]},i&&this.registerListWithFactory(i)}async checkForUser(){let t=await this.APIService.getCurrentUser();t&&await this.APIService.checkIfLoggedIn()&&this.APIService.getuser(t.email)}componentDidMount(){this.checkForUser()}registerListWithFactory(t){for(let n of t){let o=new n().getJson().type;this.factory.registerComponents({name:o,component:n}),this.createPopupDefaultsByType(o)}}createPopupDefaultsByType(t){var n;if((n=this.popupComponents)!=null&&n[t]){let i=this.getCapitalFirstLetter(t),o={content:this.popupComponents[t],popupSwitch:"add"+i,componentType:t},l={...o,popupSwitch:"update"+i};this.state.popups=[...this.state.popups,o,l]}}dispatch(t){t=t||{},this.setState({...t})}setPopups(){for(let t of this.state.popups){let n=t.componentType;n&&(t={...t,...this.popupComponentsProps[n]}),t.popupSwitch||(t.popupSwitch=this.classNameToString(t.content)),this.state.popupFactory.registerComponent(t.popupSwitch,t)}}propogateApp(){this.app={state:this.state,dispatch:this.dispatch.bind(this),...this.state.global},BS.setAppComponent(this.app),rS.setAppComponent(this.app),Ux.setAppComponent(this.app),Ed.setAppComponent(this.app),Vx.setAppComponent(this.app)}getHtml(t){this.setPopups();let n=[...this.state.routes];return this.state[this.state.extraRouteKey]&&(n=[...n,...this.state[this.state.extraRouteKey]]),_.jsx("div",{className:this.state.pageClass,style:this.state.pageStyle,children:_.jsxs(v4,{children:[CC.createPopupMachine({app:this.app}),this.state.currentUser&&_.jsx(RB,{...this.state.navBarProps}),t?_.jsx(t.content,{props:{...t.props}}):_.jsx(_.Fragment,{}),_.jsx(BB,{routes:n,extraAuthRoutes:this.state.extraAuthRoutes})]})})}}class zS extends Mv{constructor(){super(...arguments);le(this,"factory",{form:nS,map:jS,nav:qS})}}new zS;new zS;class In extends O4{constructor(t){super(t);le(this,"json",{...this.json,type:"",name:"",owner:"",picURL:""})}}class VB extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"user"})}}class UB extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"contact",phone:"",autoAI:!0,email:"",title:"",company:"",mobile:"",firstName:"",lastName:"",address:"",city:"",state:"",zip:"",source:"",finishedSequenceTags:"",tags:"",conversationIds:[]})}}let zB=class extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"conversation",contactIds:[]})}};class HB extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"template",content:""})}}class WB extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"sequence",steps:[],finished:0,replyRate:0,limit:"20"})}}class $B extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"step",delay:0,messageId:""})}}class HS extends In{constructor(){super(...arguments);le(this,"json",{...this.json,conversationIds:[],ownerMessage:!1})}}class GB extends HS{constructor(){super(...arguments);le(this,"json",{...this.json,type:"textMessage",content:"",timestamp:""})}}class KB extends HS{constructor(){super(...arguments);le(this,"json",{...this.json,type:"email",subject:"",body:"",timeStamp:""})}}class JB extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"potentialProspect",phone:"",email:"",researchId:"",conversationIds:[]})}}class QB extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"research",searchFrequency:"",AIPrompt:""})}}class YB extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"client",name:"",email:"",researchId:"",conversationIds:[]})}}class XB extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"AIPrompt"})}}class ZB extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"aiSettings",autoAI:""})}}class e6 extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"todo",attribute1:"Create Authenticated User",attribute2:"Create User Data",attribute3:"Create Limiter",attribute4:"Set Up Google Auth",attribute5:"Setting Obj",attribute6:"Firebase AI Training",complete1:!1,complete2:!1,complete3:!1,complete4:!1,complete5:!1,complete6:!1,clientId:""})}}class t6 extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"limit",limit:500})}}let n6=class extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"csv"})}};class r6 extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"open"})}}class i6 extends In{constructor(){super(...arguments);le(this,"json",{...this.json,type:"outreachUser",mailboxId:"",mailboxEmail:""})}}const s6=Object.freeze(Object.defineProperty({__proto__:null,AIPrompt:XB,AISettings:ZB,Client:YB,Contact:UB,Conversations:zB,CsvUpload:n6,Email:KB,Limit:t6,Open:r6,OutreachUser:i6,PotentialProspect:JB,Research:QB,Sequence:WB,Step:$B,Template:HB,TextMessage:GB,Todo:e6,User:VB},Symbol.toStringTag,{value:"Module"})),o6="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23505050'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M20%204H4c-1.1%200-1.99.9-1.99%202L2%2018c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V6c0-1.1-.9-2-2-2zm0%204l-8%205-8-5V6l8%205%208-5v2z'/%3e%3c/svg%3e",a6="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23505050'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M20.01%2015.38c-1.23%200-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57%201.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53%200-.54-.45-.99-.99-.99H4.19C3.65%203%203%203.24%203%203.99%203%2013.28%2010.73%2021%2020.01%2021c.71%200%20.99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z'/%3e%3c/svg%3e";class Cd extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}formatDate(e){console.log(this);const t=new Date((e==null?void 0:e.seconds)*1e3+(e==null?void 0:e.nanoseconds)/1e6),i=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],o=t.getDate(),l=t.getFullYear();return`${i} ${o}, ${l}`}render(){var h,d,g,m,f,y,b,x,C;let e=window.innerWidth>600;(h=this.propsState.popupSwitch)!=null&&h.includes("addContact")&&(e=!1);let t=e?this.propsState.currentContact:this.props.obj,n=t&&(t!=null&&t.getJson().date)?this.formatDate(t==null?void 0:t.getJson().date):"";const i=e?this.propsState.currentContact:this.propsState.currentPopupComponent,o=!e;let l=t?"Edit":"Add",u=_.jsx(ns,{formClass:"dark-button-1",content:"Save",isPopup:o});return((d=this.propsState.popupSwitch)!=null&&d.includes("updateContact")||window.innerWidth>600&&!((g=this.propsState.popupSwitch)!=null&&g.includes("addContact")))&&(u=_.jsx(Hv,{formClass:"dark-button-1",obj:i,content:"Save",isPopup:o,callbackFunc:this.props.callbackFunc})),_.jsxs(_.Fragment,{children:[_.jsxs("h2",{style:{position:"sticky",top:0,padding:"2%",width:"80%"},children:[l," Contact"]}),e&&_.jsx("div",{className:"close-contact-button",onClick:()=>{this.dispatch({currentContact:null})},children:"X"}),t&&_.jsxs("h3",{style:{padding:"10px",font:"normal normal 900 15px/16px Satoshi"},children:[t.getJson().firstName," ",t.getJson().lastName]}),_.jsxs("div",{style:{padding:"2%",paddingBottom:"80px",height:"100%",paddingTop:"12px"},className:this.props.pageClass||this.state.defaultClass,children:[_.jsxs("div",{className:"contact-Add-container",children:[_.jsxs("div",{className:"contact-contact-data",children:[_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().firstName?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:"First Name:"}),_.jsx("div",{className:"row-field",children:_.jsx(Ze,{obj:t,formClass:"underline-form",name:"firstName",placeholder:"FirstName",inPopup:o})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().lastName?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:"Last Name:"}),_.jsx("div",{className:"row-field",children:_.jsx(Ze,{obj:t,placeholder:"LastName",formClass:"underline-form",name:"lastName",inPopup:o})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().email?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:_.jsx("span",{children:_.jsx("img",{src:o6,className:"contact-img-ico"})})}),_.jsx("div",{className:"row-field",children:_.jsx(Ze,{formClass:"underline-form",obj:t,name:"email",inPopup:o,placeholder:"1234@mail.com"})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().mobile?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:_.jsx("span",{children:_.jsx("img",{src:a6,className:"contact-img-ico"})})}),_.jsx("div",{className:"row-field",children:_.jsx(Ze,{formClass:"underline-form",obj:t,name:"mobile",inPopup:o,placeholder:"XXX-XXX-XXXX"})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().company?"":"unfilled-container"}`,style:{marginTop:"24px"},children:[_.jsx("div",{className:"row-name",children:"Company:"}),_.jsx("div",{className:"row-field",children:_.jsx(Ze,{formClass:"underline-form",obj:t,name:"company",inPopup:o,placeholder:"SalesCapture AI"})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().title?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:"Title:"}),_.jsx("div",{className:"row-field",children:_.jsx(Ze,{formClass:"underline-form",obj:t,placeholder:"ie. Vice President of People",name:"title",inPopup:o})})]}),t&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().address?"":"unfilled-container"}`,style:{marginTop:"24px"},children:[_.jsx("div",{className:"row-name",children:"Address:"}),_.jsx("div",{className:"row-field",children:_.jsx(Ze,{formClass:"underline-form",obj:t,name:"address",inPopup:o,placeholder:"123 Street Way"})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().city?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:"City:"}),_.jsx("div",{className:"row-field",children:_.jsx(Ze,{formClass:"underline-form",obj:t,name:"city",inPopup:o,placeholder:"Sales Lake City"})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().state?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:"State:"}),_.jsx("div",{className:"row-field",children:_.jsx(Ze,{formClass:"underline-form",obj:t,name:"state",inPopup:o,placeholder:"State/Territory"})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().zip?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:"ZIPcode:"}),_.jsx("div",{className:"row-field",children:_.jsx(Ze,{formClass:"underline-form",obj:t,name:"zip",inPopup:o,placeholder:"ZIP"})})]})]})]}),_.jsxs("div",{className:"contact-contact-data",children:[_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().source?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:"Lead Source:"}),_.jsx("div",{className:"row-field",children:_.jsx(Ze,{formClass:"underline-form",obj:t,name:"source",inPopup:o,placeholder:"unknown"})})]}),_.jsxs("div",{className:"row-container",title:"Comma separated",children:[_.jsx("div",{className:"row-name",style:{width:"fit-content"},children:"Tags:"}),_.jsx("div",{className:"row-field",title:"comma seperated",children:_.jsx(Ze,{formClass:"underline-form",obj:t,placeholder:"ie. contacted, tag1, tag3",name:"tags",inPopup:o})})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column",marginTop:"12px"},children:[_.jsx("div",{className:"row-name",style:{borderRight:"none"},children:"Notes"}),_.jsx("div",{children:_.jsx(Ze,{obj:t,type:"quill",name:"notes",inPopup:o})})]}),t&&(t==null?void 0:t.getJson().date)&&_.jsx(_.Fragment,{children:_.jsxs("div",{className:"row-container",style:{flexDirection:"column",marginTop:"12px"},children:[_.jsx("div",{className:"row-name",style:{borderRight:"none"},children:"Contact Create Date"}),_.jsx("div",{style:{fontSize:"14px"},children:n})]})})]}),_.jsxs("div",{style:{paddingBottom:"20px",width:"100%",display:"flex",justifyContent:"flex-end",alignContent:"flex-end",gap:"8px"},children:[_.jsx("div",{style:{marginRight:"0px"}}),!((f=(m=this.propsState)==null?void 0:m.currentContact)!=null&&f.getJson().finished)&&!((b=(y=this.propsState)==null?void 0:y.popupSwitch)!=null&&b.includes("add"))?_.jsx("div",{onClick:()=>{var w;if((w=this.propsState.currentContact)==null||w.setCompState({autoAI:!1},{run:!0},!0),sequence){let E=parseInt(sequence.getJson().finished)+1;sequence.setCompState({finished:E}),sequence.update()}},className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Turn off AI"}):_.jsx("div",{onClick:()=>{var w;(w=this.propsState.currentContact)==null||w.setCompState({autoAI:!0},{run:!0},!0)},className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Turn on AI"}),!((x=this.propsState.currentContact)!=null&&x.getJson().finished)&&_.jsxs(_.Fragment,{children:[" ",!((C=this.propsState.currentContact)!=null&&C.getJson().finished)&&_.jsx("div",{onClick:()=>{var P,S,O;(P=this.propsState.currentContact)==null||P.setCompState({finished:!0}),(S=this.propsState.currentContact)==null||S.update();let w=this.componentList.getComponent("sequence",(O=this.propsState.currentContact)==null?void 0:O.getJson().sequenceId),E=parseInt(w==null?void 0:w.getJson().finished)+1;w.setCompState({finished:E}),w.update()},className:"dark-button-1",style:{position:"relative",width:"fit-content",height:"fit-content"},children:"Remove From Sequence"})]}),u]})]})," "]})]})}}class mf extends nt{constructor(e){super(e),this.state={...this.state,checked:!1,activeBool:!1}}componentDidMount(){this.checkIfActive()}async componentDidUpdate(e,t){var i,o;let n=this.props.obj;n&&((i=this.propsState[this.props.checkKey])!=null&&i.includes(n)&&this.state.activeBool===!1?this.setState({checked:!0,activeBool:!0}):!((o=this.propsState[this.props.checkKey])!=null&&o.includes(n))&&this.state.activeBool===!0&&this.setState({checked:!1,activeBool:!1}))}checkIfActive(){var t;let e=this.props.obj;e&&(t=this.propsState[this.props.checkKey])!=null&&t.includes(e)&&this.setState({checked:!0})}async handleToggle(){await this.setState(e=>({checked:!e.checked})),this.state.checked?this.check(this.props.obj):this.uncheck(this.props.obj)}check(e){this.setState({checked:!0}),this.props.check?this.props.check(e):this.props.cell.check(this.props.obj)}uncheck(e){this.setState({checked:!1}),this.props.uncheck?this.props.uncheck(e):this.props.cell.uncheck(this.props.obj)}render(){const{checked:e}=this.state;return _.jsxs("label",{className:this.props.class||"checkbox-container",children:[this.props.label||"",_.jsx("input",{type:"checkbox",checked:e,onChange:this.handleToggle}),_.jsx("span",{className:"checkmark"})]})}}class l0 extends eo{async buttonClickFunc(){let e=this.obj,t=e.type;this.props.popupSwitch.includes("add")&&(e=e[0]?e[0]:{type:this.getFactoryTypeString(this.props.popupSwitch.slice(3))},e={prepare:{...e},amount:this.props.amount,clean:this.props.clean},e=await this.operationsFactory.prepare(e),e.length===1&&(e=e[0],t=e.getJson().type)),Array.isArray(e)&&e.length===1&&(e=e[0]);let n=this.props.setCurrnetItem&&{["current"+this.getCapitalFirstLetter(t)]:e},i={popupSwitch:this.props.popupSwitch,currentPopupComponent:e,...n};await this.dispatch({...i})}}class WS extends nt{constructor(t){super(t);le(this,"handleCheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n.includes(t)||n.push(t),this.dispatch({selectedContacts:n})});le(this,"handleUncheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n=n.filter(i=>i!==t),this.dispatch({selectedContacts:n})})}getTagUI(t){var n,i,o,l,u,h;return _.jsxs("div",{className:"contact-tag-container active",children:[(n=t.tags)==null?void 0:n.split(",").filter(d=>d!=="").map((d,g)=>_.jsx("button",{className:"contact-tag-btn",children:d},g)),((i=t.finishedSequenceTags)==null?void 0:i.length)>0&&_.jsx(_.Fragment,{children:(o=t.finishedSequenceTags)==null?void 0:o.split(",").map((d,g)=>_.jsx(_.Fragment,{children:d.length>0&&_.jsx("button",{className:"contact-tag-btn finished-sequence-tags",children:d},g)}))}),t.sequenceId&&_.jsxs(_.Fragment,{children:[t.finishedSequenceTags.includes((l=this.componentList.getComponent("sequence",t.sequenceId))==null?void 0:l.getJson().name)&&t.finished?_.jsx(_.Fragment,{}):_.jsx(_.Fragment,{children:((u=this.componentList.getComponent("sequence",t.sequenceId))==null?void 0:u.getJson().name.length)>0&&_.jsx("button",{className:`contact-tag-btn ${t.finished?"finished-sequence-tags":"unfinished-sequence-tags"}`,children:(h=this.componentList.getComponent("sequence",t.sequenceId))==null?void 0:h.getJson().name})}),t.replied&&_.jsx("button",{className:"contact-tag-btn unfinished-sequence-tags",children:"Replied"})]})]})}render(){const{obj:t}=this.props;let n=t.getJson(),o=(this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[]).includes(t);return _.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[_.jsxs("div",{className:"contact-item hover-darken",style:{background:o?"#2374ab10":"white",position:"relative",paddingLeft:"5px"},children:[_.jsx(mf,{checkKey:"selectedContacts",obj:t,check:this.handleCheckContact,uncheck:this.handleUncheckContact}),_.jsxs("div",{className:"contact-info-expanded",style:{cursor:"pointer",display:"flex",width:"100%"},onClick:()=>{window.innerWidth>600?this.dispatch({currentContact:t}):this.dispatch({currentPopupComponent:t,popupSwitch:"updateContact"})},children:[_.jsx("div",{className:"contact-avatar",children:_.jsx("i",{className:"fa-solid fa-user"})}),_.jsxs("div",{className:"contact-info",children:[_.jsx("div",{className:"contact-name",children:`${n.firstName} ${n.lastName}`}),_.jsx("div",{className:"contact-desc",children:(n==null?void 0:n.company)||(n==null?void 0:n.title)||(n==null?void 0:n.email)||(n==null?void 0:n.mobile)||""})]})]}),_.jsx(l0,{formClass:"hover-basic",wrapperClass:"icon-row",newProp:"asdf",content:_.jsx("div",{style:{width:"fit-content"},onClick:async()=>{await this.operationsFactory.clear();let l=t,u=this.componentList.getComponent("conversation",l.getJson().email,"contact");u||(await this.componentList.addComponents({type:"conversation",contact:l.getJson().email,contactName:`${l.getJson().firstName} ${l.getJson().lastName}`,conversationOwner:this.propsState.currentUser.getJson()._id,ownerName:`${this.propsState.currentUser.getJson().firstName} ${this.propsState.currentUser.getJson().lastName}`}),u=this.componentList.getComponent("conversation",l.getJson().email,"contact"));let h={type:"email"};h={prepare:{...h},clean:!0},h=await this.operationsFactory.prepare(h),Array.isArray(h)&&h.length===1&&(h=h[0]);let d={popupSwitch:"addEmail",currentPopupComponent:h};await this.dispatch({...d,currentConversation:u,currentContact:l})},className:"contact-icon",children:_.jsx("i",{className:"fa-solid fa-message"})})})]}),this.getTagUI(n)]})}}var Jh={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var l6=Jh.exports,AC;function u6(){return AC||(AC=1,function(r,e){((t,n)=>{r.exports=n()})(l6,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,o=!n.document&&!!n.postMessage,l=n.IS_PAPA_WORKER||!1,u={},h=0,d={};function g(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var I=O(T);I.chunkSize=parseInt(I.chunkSize),T.step||T.chunk||(I.chunkSize=null),this._handle=new x(I),(this._handle.streamer=this)._config=I}).call(this,A),this.parseChunk=function(T,I){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let L=this._config.newline;L||(N=this._config.quoteChar||'"',L=this._handle.guessLineEndings(T,N)),T=[...T.split(L).slice(D)].join(L)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(T))!==void 0&&(T=N),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+T,N=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(T=N.meta.cursor,D=(this._finished||(this._partialLine=D.substring(T-this._baseIndex),this._baseIndex=T),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)n.postMessage({results:N,workerId:d.WORKER_ID,finished:D});else if(R(this._config.chunk)&&!I){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!D||!R(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(T){R(this._config.error)?this._config.error(T):l&&this._config.error&&n.postMessage({workerId:d.WORKER_ID,error:T,finished:!1})}}function m(A){var T;(A=A||{}).chunkSize||(A.chunkSize=d.RemoteChunkSize),g.call(this,A),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),o||(T.onload=M(this._chunkLoaded,this),T.onerror=M(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var I,D=this._config.downloadRequestHeaders;for(I in D)T.setRequestHeader(I,D[I])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,T.setRequestHeader("Range","bytes="+this._start+"-"+N));try{T.send(this._config.downloadRequestBody)}catch(L){this._chunkError(L.message)}o&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize||T.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(T),this.parseChunk(T.responseText)))},this._chunkError=function(I){I=T.statusText||I,this._sendError(new Error(I))}}function f(A){(A=A||{}).chunkSize||(A.chunkSize=d.LocalChunkSize),g.call(this,A);var T,I,D=typeof FileReader<"u";this.stream=function(N){this._input=N,I=N.slice||N.webkitSlice||N.mozSlice,D?((T=new FileReader).onload=M(this._chunkLoaded,this),T.onerror=M(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,L=(this._config.chunkSize&&(L=Math.min(this._start+this._config.chunkSize,this._input.size),N=I.call(N,this._start,L)),T.readAsText(N,this._config.encoding));D||this._chunkLoaded({target:{result:L}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(T.error)}}function y(A){var T;g.call(this,A=A||{}),this.stream=function(I){return T=I,this._nextChunk()},this._nextChunk=function(){var I,D;if(!this._finished)return I=this._config.chunkSize,T=I?(D=T.substring(0,I),T.substring(I)):(D=T,""),this._finished=!T,this.parseChunk(D)}}function b(A){g.call(this,A=A||{});var T=[],I=!0,D=!1;this.pause=function(){g.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){g.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):I=!0},this._streamData=M(function(N){try{T.push(typeof N=="string"?N:N.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(L){this._streamError(L)}},this),this._streamError=M(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=M(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=M(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(A){var T,I,D,N,L=Math.pow(2,53),U=-L,J=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,re=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Z=this,ie=0,G=0,W=!1,B=!1,V=[],H={data:[],errors:[],meta:{}};function ne(Q){return A.skipEmptyLines==="greedy"?Q.join("").trim()==="":Q.length===1&&Q[0].length===0}function ee(){if(H&&D&&(Y("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),D=!1),A.skipEmptyLines&&(H.data=H.data.filter(function(Ce){return!ne(Ce)})),$()){let Ce=function(Re,Pe){R(A.transformHeader)&&(Re=A.transformHeader(Re,Pe)),V.push(Re)};var ge=Ce;if(H)if(Array.isArray(H.data[0])){for(var Q=0;$()&&Q<H.data.length;Q++)H.data[Q].forEach(Ce);H.data.splice(0,1)}else H.data.forEach(Ce)}function te(Ce,Re){for(var Pe=A.header?{}:[],Ne=0;Ne<Ce.length;Ne++){var Fe=Ne,Xe=Ce[Ne],Xe=((ue,fe)=>(Ee=>(A.dynamicTypingFunction&&A.dynamicTyping[Ee]===void 0&&(A.dynamicTyping[Ee]=A.dynamicTypingFunction(Ee)),(A.dynamicTyping[Ee]||A.dynamicTyping)===!0))(ue)?fe==="true"||fe==="TRUE"||fe!=="false"&&fe!=="FALSE"&&((Ee=>{if(J.test(Ee)&&(Ee=parseFloat(Ee),U<Ee&&Ee<L))return 1})(fe)?parseFloat(fe):re.test(fe)?new Date(fe):fe===""?null:fe):fe)(Fe=A.header?Ne>=V.length?"__parsed_extra":V[Ne]:Fe,Xe=A.transform?A.transform(Xe,Fe):Xe);Fe==="__parsed_extra"?(Pe[Fe]=Pe[Fe]||[],Pe[Fe].push(Xe)):Pe[Fe]=Xe}return A.header&&(Ne>V.length?Y("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+Ne,G+Re):Ne<V.length&&Y("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+Ne,G+Re)),Pe}var ae;H&&(A.header||A.dynamicTyping||A.transform)&&(ae=1,!H.data.length||Array.isArray(H.data[0])?(H.data=H.data.map(te),ae=H.data.length):H.data=te(H.data,0),A.header&&H.meta&&(H.meta.fields=V),G+=ae)}function $(){return A.header&&V.length===0}function Y(Q,te,ae,ge){Q={type:Q,code:te,message:ae},ge!==void 0&&(Q.row=ge),H.errors.push(Q)}R(A.step)&&(N=A.step,A.step=function(Q){H=Q,$()?ee():(ee(),H.data.length!==0&&(ie+=Q.data.length,A.preview&&ie>A.preview?I.abort():(H.data=H.data[0],N(H,Z))))}),this.parse=function(Q,te,ae){var ge=A.quoteChar||'"',ge=(A.newline||(A.newline=this.guessLineEndings(Q,ge)),D=!1,A.delimiter?R(A.delimiter)&&(A.delimiter=A.delimiter(Q),H.meta.delimiter=A.delimiter):((ge=((Ce,Re,Pe,Ne,Fe)=>{var Xe,ue,fe,Ee;Fe=Fe||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Te=0;Te<Fe.length;Te++){for(var ye,$e=Fe[Te],Le=0,ze=0,Ke=0,rt=(fe=void 0,new w({comments:Ne,delimiter:$e,newline:Re,preview:10}).parse(Ce)),st=0;st<rt.data.length;st++)Pe&&ne(rt.data[st])?Ke++:(ye=rt.data[st].length,ze+=ye,fe===void 0?fe=ye:0<ye&&(Le+=Math.abs(ye-fe),fe=ye));0<rt.data.length&&(ze/=rt.data.length-Ke),(ue===void 0||Le<=ue)&&(Ee===void 0||Ee<ze)&&1.99<ze&&(ue=Le,Xe=$e,Ee=ze)}return{successful:!!(A.delimiter=Xe),bestDelimiter:Xe}})(Q,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=ge.bestDelimiter:(D=!0,A.delimiter=d.DefaultDelimiter),H.meta.delimiter=A.delimiter),O(A));return A.preview&&A.header&&ge.preview++,T=Q,I=new w(ge),H=I.parse(T,te,ae),ee(),W?{meta:{paused:!0}}:H||{meta:{paused:!1}}},this.paused=function(){return W},this.pause=function(){W=!0,I.abort(),T=R(A.chunk)?"":T.substring(I.getCharIndex())},this.resume=function(){Z.streamer._halted?(W=!1,Z.streamer.parseChunk(T,!0)):setTimeout(Z.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,I.abort(),H.meta.aborted=!0,R(A.complete)&&A.complete(H),T=""},this.guessLineEndings=function(Ce,ge){Ce=Ce.substring(0,1048576);var ge=new RegExp(C(ge)+"([^]*?)"+C(ge),"gm"),ae=(Ce=Ce.replace(ge,"")).split("\r"),ge=Ce.split(`
`),Ce=1<ge.length&&ge[0].length<ae[0].length;if(ae.length===1||Ce)return`
`;for(var Re=0,Pe=0;Pe<ae.length;Pe++)ae[Pe][0]===`
`&&Re++;return Re>=ae.length/2?`\r
`:"\r"}}function C(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(A){var T=(A=A||{}).delimiter,I=A.newline,D=A.comments,N=A.step,L=A.preview,U=A.fastMode,J=null,re=!1,Z=A.quoteChar==null?'"':A.quoteChar,ie=Z;if(A.escapeChar!==void 0&&(ie=A.escapeChar),(typeof T!="string"||-1<d.BAD_DELIMITERS.indexOf(T))&&(T=","),D===T)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<d.BAD_DELIMITERS.indexOf(D))&&(D=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var G=0,W=!1;this.parse=function(B,V,H){if(typeof B!="string")throw new Error("Input must be a string");var ne=B.length,ee=T.length,$=I.length,Y=D.length,Q=R(N),te=[],ae=[],ge=[],Ce=G=0;if(!B)return Le();if(U||U!==!1&&B.indexOf(Z)===-1){for(var Re=B.split(I),Pe=0;Pe<Re.length;Pe++){if(ge=Re[Pe],G+=ge.length,Pe!==Re.length-1)G+=I.length;else if(H)return Le();if(!D||ge.substring(0,Y)!==D){if(Q){if(te=[],Ee(ge.split(T)),ze(),W)return Le()}else Ee(ge.split(T));if(L&&L<=Pe)return te=te.slice(0,L),Le(!0)}}return Le()}for(var Ne=B.indexOf(T,G),Fe=B.indexOf(I,G),Xe=new RegExp(C(ie)+C(Z),"g"),ue=B.indexOf(Z,G);;)if(B[G]===Z)for(ue=G,G++;;){if((ue=B.indexOf(Z,ue+1))===-1)return H||ae.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:te.length,index:G}),ye();if(ue===ne-1)return ye(B.substring(G,ue).replace(Xe,Z));if(Z===ie&&B[ue+1]===ie)ue++;else if(Z===ie||ue===0||B[ue-1]!==ie){Ne!==-1&&Ne<ue+1&&(Ne=B.indexOf(T,ue+1));var fe=Te((Fe=Fe!==-1&&Fe<ue+1?B.indexOf(I,ue+1):Fe)===-1?Ne:Math.min(Ne,Fe));if(B.substr(ue+1+fe,ee)===T){ge.push(B.substring(G,ue).replace(Xe,Z)),B[G=ue+1+fe+ee]!==Z&&(ue=B.indexOf(Z,G)),Ne=B.indexOf(T,G),Fe=B.indexOf(I,G);break}if(fe=Te(Fe),B.substring(ue+1+fe,ue+1+fe+$)===I){if(ge.push(B.substring(G,ue).replace(Xe,Z)),$e(ue+1+fe+$),Ne=B.indexOf(T,G),ue=B.indexOf(Z,G),Q&&(ze(),W))return Le();if(L&&te.length>=L)return Le(!0);break}ae.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:te.length,index:G}),ue++}}else if(D&&ge.length===0&&B.substring(G,G+Y)===D){if(Fe===-1)return Le();G=Fe+$,Fe=B.indexOf(I,G),Ne=B.indexOf(T,G)}else if(Ne!==-1&&(Ne<Fe||Fe===-1))ge.push(B.substring(G,Ne)),G=Ne+ee,Ne=B.indexOf(T,G);else{if(Fe===-1)break;if(ge.push(B.substring(G,Fe)),$e(Fe+$),Q&&(ze(),W))return Le();if(L&&te.length>=L)return Le(!0)}return ye();function Ee(Ke){te.push(Ke),Ce=G}function Te(Ke){var rt=0;return rt=Ke!==-1&&(Ke=B.substring(ue+1,Ke))&&Ke.trim()===""?Ke.length:rt}function ye(Ke){return H||(Ke===void 0&&(Ke=B.substring(G)),ge.push(Ke),G=ne,Ee(ge),Q&&ze()),Le()}function $e(Ke){G=Ke,Ee(ge),ge=[],Fe=B.indexOf(I,G)}function Le(Ke){if(A.header&&!V&&te.length&&!re){var rt=te[0],st=Object.create(null),Gn=new Set(rt);let vt=!1;for(let kt=0;kt<rt.length;kt++){let tn=rt[kt];if(st[tn=R(A.transformHeader)?A.transformHeader(tn,kt):tn]){let kr,rs=st[tn];for(;kr=tn+"_"+rs,rs++,Gn.has(kr););Gn.add(kr),rt[kt]=kr,st[tn]++,vt=!0,(J=J===null?{}:J)[kr]=tn}else st[tn]=1,rt[kt]=tn;Gn.add(tn)}vt&&console.warn("Duplicate headers found and renamed."),re=!0}return{data:te,errors:ae,meta:{delimiter:T,linebreak:I,aborted:W,truncated:!!Ke,cursor:Ce+(V||0),renamedHeaders:J}}}function ze(){N(Le()),te=[],ae=[]}},this.abort=function(){W=!0},this.getCharIndex=function(){return G}}function E(A){var T=A.data,I=u[T.workerId],D=!1;if(T.error)I.userError(T.error,T.file);else if(T.results&&T.results.data){var N={abort:function(){D=!0,P(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(R(I.userStep)){for(var L=0;L<T.results.data.length&&(I.userStep({data:T.results.data[L],errors:T.results.errors,meta:T.results.meta},N),!D);L++);delete T.results}else R(I.userChunk)&&(I.userChunk(T.results,N,T.file),delete T.results)}T.finished&&!D&&P(T.workerId,T.results)}function P(A,T){var I=u[A];R(I.userComplete)&&I.userComplete(T),I.terminate(),delete u[A]}function S(){throw new Error("Not implemented.")}function O(A){if(typeof A!="object"||A===null)return A;var T,I=Array.isArray(A)?[]:{};for(T in A)I[T]=O(A[T]);return I}function M(A,T){return function(){A.apply(T,arguments)}}function R(A){return typeof A=="function"}return d.parse=function(A,T){var I=(T=T||{}).dynamicTyping||!1;if(R(I)&&(T.dynamicTypingFunction=I,I={}),T.dynamicTyping=I,T.transform=!!R(T.transform)&&T.transform,!T.worker||!d.WORKERS_SUPPORTED)return I=null,d.NODE_STREAM_INPUT,typeof A=="string"?(A=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(A),I=new(T.download?m:y)(T)):A.readable===!0&&R(A.read)&&R(A.on)?I=new b(T):(n.File&&A instanceof File||A instanceof Object)&&(I=new f(T)),I.stream(A);(I=(()=>{var D;return!!d.WORKERS_SUPPORTED&&(D=(()=>{var N=n.URL||n.webkitURL||null,L=t.toString();return d.BLOB_URL||(d.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",L,")();"],{type:"text/javascript"})))})(),(D=new n.Worker(D)).onmessage=E,D.id=h++,u[D.id]=D)})()).userStep=T.step,I.userChunk=T.chunk,I.userComplete=T.complete,I.userError=T.error,T.step=R(T.step),T.chunk=R(T.chunk),T.complete=R(T.complete),T.error=R(T.error),delete T.worker,I.postMessage({input:A,config:T,workerId:I.id})},d.unparse=function(A,T){var I=!1,D=!0,N=",",L=`\r
`,U='"',J=U+U,re=!1,Z=null,ie=!1,G=((()=>{if(typeof T=="object"){if(typeof T.delimiter!="string"||d.BAD_DELIMITERS.filter(function(V){return T.delimiter.indexOf(V)!==-1}).length||(N=T.delimiter),typeof T.quotes!="boolean"&&typeof T.quotes!="function"&&!Array.isArray(T.quotes)||(I=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(re=T.skipEmptyLines),typeof T.newline=="string"&&(L=T.newline),typeof T.quoteChar=="string"&&(U=T.quoteChar),typeof T.header=="boolean"&&(D=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");Z=T.columns}T.escapeChar!==void 0&&(J=T.escapeChar+U),T.escapeFormulae instanceof RegExp?ie=T.escapeFormulae:typeof T.escapeFormulae=="boolean"&&T.escapeFormulae&&(ie=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(U),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return W(null,A,re);if(typeof A[0]=="object")return W(Z||Object.keys(A[0]),A,re)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||Z),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),W(A.fields||[],A.data||[],re);throw new Error("Unable to serialize unrecognized input");function W(V,H,ne){var ee="",$=(typeof V=="string"&&(V=JSON.parse(V)),typeof H=="string"&&(H=JSON.parse(H)),Array.isArray(V)&&0<V.length),Y=!Array.isArray(H[0]);if($&&D){for(var Q=0;Q<V.length;Q++)0<Q&&(ee+=N),ee+=B(V[Q],Q);0<H.length&&(ee+=L)}for(var te=0;te<H.length;te++){var ae=($?V:H[te]).length,ge=!1,Ce=$?Object.keys(H[te]).length===0:H[te].length===0;if(ne&&!$&&(ge=ne==="greedy"?H[te].join("").trim()==="":H[te].length===1&&H[te][0].length===0),ne==="greedy"&&$){for(var Re=[],Pe=0;Pe<ae;Pe++){var Ne=Y?V[Pe]:Pe;Re.push(H[te][Ne])}ge=Re.join("").trim()===""}if(!ge){for(var Fe=0;Fe<ae;Fe++){0<Fe&&!Ce&&(ee+=N);var Xe=$&&Y?V[Fe]:Fe;ee+=B(H[te][Xe],Fe)}te<H.length-1&&(!ne||0<ae&&!Ce)&&(ee+=L)}}return ee}function B(V,H){var ne,ee;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(ee=!1,ie&&typeof V=="string"&&ie.test(V)&&(V="'"+V,ee=!0),ne=V.toString().replace(G,J),(ee=ee||I===!0||typeof I=="function"&&I(V,H)||Array.isArray(I)&&I[H]||(($,Y)=>{for(var Q=0;Q<Y.length;Q++)if(-1<$.indexOf(Y[Q]))return!0;return!1})(ne,d.BAD_DELIMITERS)||-1<ne.indexOf(N)||ne.charAt(0)===" "||ne.charAt(ne.length-1)===" ")?U+ne+U:ne)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!o&&!!n.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=w,d.ParserHandle=x,d.NetworkStreamer=m,d.FileStreamer=f,d.StringStreamer=y,d.ReadableStreamStreamer=b,n.jQuery&&((i=n.jQuery).fn.parse=function(A){var T=A.config||{},I=[];return this.each(function(L){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)I.push({file:this.files[U],inputElem:this,instanceConfig:i.extend({},T)})}),D(),this;function D(){if(I.length===0)R(A.complete)&&A.complete();else{var L,U,J,re,Z=I[0];if(R(A.before)){var ie=A.before(Z.file,Z.inputElem);if(typeof ie=="object"){if(ie.action==="abort")return L="AbortError",U=Z.file,J=Z.inputElem,re=ie.reason,void(R(A.error)&&A.error({name:L},U,J,re));if(ie.action==="skip")return void N();typeof ie.config=="object"&&(Z.instanceConfig=i.extend(Z.instanceConfig,ie.config))}else if(ie==="skip")return void N()}var G=Z.instanceConfig.complete;Z.instanceConfig.complete=function(W){R(G)&&G(W,Z.file,Z.inputElem),N()},d.parse(Z.file,Z.instanceConfig)}}function N(){I.splice(0,1),D()}}),l&&(n.onmessage=function(A){A=A.data,d.WORKER_ID===void 0&&A&&(d.WORKER_ID=A.workerId),typeof A.input=="string"?n.postMessage({workerId:d.WORKER_ID,results:d.parse(A.input,A.config),finished:!0}):(n.File&&A.input instanceof File||A.input instanceof Object)&&(A=d.parse(A.input,A.config))&&n.postMessage({workerId:d.WORKER_ID,results:A,finished:!0})}),(m.prototype=Object.create(g.prototype)).constructor=m,(f.prototype=Object.create(g.prototype)).constructor=f,(y.prototype=Object.create(y.prototype)).constructor=y,(b.prototype=Object.create(g.prototype)).constructor=b,d})}(Jh)),Jh.exports}var c6=u6();const $S=qu(c6);class h6 extends ve.Component{constructor(e){super(e),this.state={data:[]},this.handleFileUpload=this.handleFileUpload.bind(this)}handleFileUpload(e){const t=e.target.files[0];t&&$S.parse(t,{header:!0,skipEmptyLines:!0,complete:n=>{console.log("Parsed CSV data:",n.data),this.props.callBack({data:n.data})},error:n=>{console.error("Error while parsing:",n)}})}render(){const{data:e}=this.state;return _.jsxs("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:[_.jsx("label",{htmlFor:"file-upload",className:"",children:"Upload"}),_.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:this.handleFileUpload})]})}}class d6 extends nt{constructor(t){super(t);le(this,"handleClickOutside",t=>{this.dropdownRef.current&&!this.dropdownRef.current.contains(t.target)&&!this.buttonRef.current.contains(t.target)&&this.state.showFilter&&this.setState({showFilter:!1})});le(this,"toggleFilter",()=>{this.setState({showFilter:!this.state.showFilter})});le(this,"onAllChange",t=>{const n=t.target.checked;this.setState({filterAll:n,filterTags:n,filterCompany:n,filterName:n})});le(this,"onFilterChange",t=>n=>{this.setState({[t]:n.target.checked,filterAll:!1})});this.state={...this.state,defaultClass:"fit",title:"Contacts",showFilter:!1,filterAll:!0,filterTags:!0,filterCompany:!0,filterName:!0},this.dropdownRef=qe.createRef(),this.buttonRef=qe.createRef()}async componentDidMount(){this.dispatch({selectedContacts:[]}),this.APIService.subscribeToReadObserver(async()=>{await this.componentList.sortSelectedListbyFirebaseDate("contact",!0),this.setState({start:!0})}),this.APIService.subscribeToDispatchObserver(async t=>{debugger;const n=this.componentList.getList("contact");for(let i of t)if(i.added){for(let o of i.added)if(o.type==="contact"){const l=n.findIndex(h=>h.getJson()._id===o._id);let u=n[l];l>-1&&n.splice(l,1),n.unshift(u)}}await this.componentList.setSelectedList("contact",n),await this.componentList.sortSelectedListbyFirebaseDate("contact",!0),this.dispatch({})}),document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleClickOutside)}filterFunc(){const{tags:t}=this.propsState,n=this.componentList.getList("contact");if(!t){this.dispatch({selectedContacts:[...n]});return}if(!this.state.filterName&&!this.state.filterCompany&&!this.state.filterTags){this.dispatch({selectedContacts:[]});return}const o=t.toLowerCase().split(",").map(u=>u.trim()).filter(u=>u),l=n.filter(u=>{const h=u.getJson();return o.some(d=>{if(this.state.filterName){const g=(h.firstName||"").toLowerCase(),m=(h.lastName||"").toLowerCase();if(`${g} ${m}`.includes(d))return!0}return!!(this.state.filterCompany&&h.company&&h.company.toLowerCase().includes(d)||this.state.filterTags&&(typeof h.tags=="string"&&h.tags.toLowerCase().split(",").map(m=>m.trim()).some(m=>m.includes(d))||typeof h.finishedSequenceTags=="string"&&h.finishedSequenceTags.toLowerCase().split(",").map(m=>m.trim()).some(m=>m.includes(d))||d==="replied"&&h.replied))})});this.dispatch({selectedContacts:l})}getInnerContent(){var u,h;let t=this.propsState.selectedContacts,n=this.propsState.componentList.getList("contact"),i=(t==null?void 0:t.length)>0,o=n!=null&&n.length?"/"+(n==null?void 0:n.length):"",l=(t==null?void 0:t.length)===(n==null?void 0:n.length);return _.jsx(_.Fragment,{children:this.state.start&&_.jsxs("div",{className:"map-container",children:[_.jsxs("div",{className:"top-nav-float",children:[_.jsxs("nav",{className:"top-nav",children:[_.jsxs("div",{className:"nav-left",children:[_.jsx("div",{className:"nav-icon",children:_.jsx("i",{className:"fas fa-circle"})}),_.jsx("div",{className:"nav-title",children:"Contacts"})]}),_.jsx("div",{className:"nav-right",children:_.jsxs("div",{className:"nav-icon",children:[_.jsx("button",{ref:this.buttonRef,onClick:()=>{this.setState({showFilter:!this.state.showFilter})},className:"btn",children:_.jsx("i",{className:"fa-solid fa-filter"})}),_.jsx("div",{children:this.state.showFilter&&_.jsxs("div",{className:"filter-dropdown",ref:this.dropdownRef,children:[_.jsx("div",{style:{fontWeight:"bold",marginBottom:8},children:"Search:"}),_.jsxs("label",{className:"filter-row",children:[_.jsx("input",{style:{marginRight:"8px"},type:"checkbox",checked:this.state.filterAll,onChange:this.onAllChange})," All:"]}),_.jsxs("label",{className:"filter-row",children:[_.jsx("input",{className:"filter-check",type:"checkbox",checked:this.state.filterTags,onChange:this.onFilterChange("filterTags")})," Tags"]}),_.jsxs("label",{className:"filter-row",children:[_.jsx("input",{className:"filter-check",type:"checkbox",checked:this.state.filterCompany,onChange:this.onFilterChange("filterCompany")})," Company"]}),_.jsxs("label",{className:"filter-row",children:[_.jsx("input",{className:"filter-check",type:"checkbox",checked:this.state.filterName,onChange:this.onFilterChange("filterName")})," Name"]})]})})]})})]}),_.jsx("div",{className:"search-container",children:_.jsxs("div",{className:"search-bar",children:[_.jsx("i",{className:"fas fa-search search-icon"}),_.jsx("input",{onChange:d=>{this.dispatch({tags:d.target.value})},className:"search-input",placeholder:"Search"})]})}),_.jsxs("div",{className:"filter-nav",children:[_.jsxs("div",{className:"filter-nav-left",children:[_.jsx(_.Fragment,{children:_.jsx("div",{id:"selectBtn",style:{height:"fit-content",marginLeft:"5px",alignContent:"center"},children:_.jsx(mf,{label:l?"Deselect All":"Select All",check:this.filterFunc,uncheck:()=>{this.dispatch({selectedContacts:[]})}})})}),_.jsx("span",{className:"count-desc",children:(u=this.propsState.selectedContacts)!=null&&u.length?this.propsState.selectedContacts.length+`${o} Selected`:""})]}),!i&&_.jsxs("div",{className:"filter-nav-right",children:[_.jsx(h6,{callBack:async d=>{d=d.data.map((g,m)=>(g.owner=this.propsState.currentUser.getJson()._id,g.type="contact",g)),this.dispatch({uploadData:d,popupSwitch:"uploadData"}),await this.operationsFactory.prepare({prepare:d}),this.operationsFactory.run()}}),_.jsx(l0,{wrapperclassName:"none",content:_.jsx("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Add Contact"}),popupSwitch:"addContact"})]})]})]}),_.jsxs("div",{style:{paddingBottom:"60px"},children:[" ",_.jsx(an,{filterFunc:d=>{if(!this.propsState.tags)return!0;if(!this.state.filterName&&!this.state.filterCompany&&!this.state.filterTags)return!1;const m=this.propsState.tags.toLowerCase().split(",").map(y=>y.trim()).filter(y=>y),f=d.getJson();for(const y of m){if(this.state.filterName){const b=(f.firstName||"").toLowerCase(),x=(f.lastName||"").toLowerCase();if(`${b} ${x}`.includes(y))return!0}if(this.state.filterCompany&&f.company&&f.company.toLowerCase().includes(y))return!0;if(this.state.filterTags){if(f.tags&&typeof f.tags=="string"){const b=f.tags.split(",").map(x=>x.trim().toLowerCase());for(let x of b)if(x.includes(y))return!0}if(f.finishedSequenceTags&&typeof f.finishedSequenceTags=="string"){const b=f.finishedSequenceTags.split(",").map(x=>x.trim().toLowerCase());for(let x of b)if(x.includes(y))return!0}if(y==="replied"&&f.replied)return!0}}return!1},name:"contact",type:"viewPortMap",mapContainerClass:"contact-list",mapSectionClass:"contact",wrapperClass:"none",cells:[{type:"custom",custom:WS,wrapperClass:"none"}],hasLink:!0})," "]}),((h=this.propsState.selectedContacts)==null?void 0:h.length)>0&&_.jsxs("div",{id:"floating-select-set",className:"floating-select-set",children:[_.jsx("button",{onClick:()=>{this.dispatch({popupSwitch:"addTags"})},className:"floating-select-btn",children:_.jsx("span",{className:"floating-select-btn-text",children:"Tags"})}),_.jsx("button",{onClick:()=>{for(let d of this.propsState.selectedContacts)d.del();this.dispatch({selectedContacts:[]})},className:"floating-select-btn",children:_.jsx("span",{className:"floating-select-btn-text",children:"Delete"})}),_.jsx("button",{className:"floating-select-btn floating-select-primary-btn",children:_.jsx(sf,{content:_.jsx("span",{className:"floating-select-btn-text",style:{color:"white"},children:"Add to Sequence"}),popupSwitch:"addToSequence"})})]})]})})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class bC extends fl{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id,visible:!0}}async componentDidMount(){await this.getComponentsFromBackend()}componentWillUnmount(){this.dispatch({selectedContacts:[]})}render(){return _.jsxs("div",{className:this.props.pageClass||this.state.defaultClass,style:{display:"flex"},children:[_.jsx("div",{style:{width:window.innerWidth>600?"50%":"100%"},children:_.jsx(en,{theme:"NoBorder",type:"fit",content:_.jsx(d6,{})})}),_.jsx("div",{style:{width:window.innerWidth>600?"50%":"0%",position:"relative"},children:this.propsState.currentContact&&window.innerWidth>600&&this.state.visible&&_.jsx(en,{theme:"NoBorder",type:"fit",content:_.jsx(Cd,{})})})]})}}class f6 extends nt{getTimeStampStr(){var t,n;let e;try{e=(n=(t=this.props.obj)==null?void 0:t.getJson())==null?void 0:n.timeStamp}catch(i){return console.error("Error accessing timestamp property:",i),"Invalid Date"}if(e&&e instanceof Zt)try{return e.toDate().toLocaleDateString()}catch(i){return console.error("Error converting Firebase Timestamp to Date:",i),"Invalid Date"}else return e?(console.warn("Received timeValue is not a Firebase Timestamp:",e),String(e)):""}render(){return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"message-header",children:[_.jsx("span",{className:"sender",children:this.props.obj.getJson().contactName}),_.jsx("span",{className:"date",children:this.getTimeStampStr()})]}),_.jsx("div",{className:"snippet",children:this.props.obj.getJson().recentMessage})]})}}class p6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit messages-container"}}searchFilter(){}getInnerContent(){return _.jsx(an,{name:"conversation",mapContainerClass:"message-list-scai",mapSectionClass:"message-item-scai",cells:[{type:"customBuilt",custom:_.jsx("div",{className:"chat-avatar",children:_.jsx("i",{className:"fa-solid fa-user"})}),wrapperStyle:{width:"50px"},itemStyle:{width:"50px"}},{type:"custom",custom:f6,itemClick:e=>{this.dispatch({currentConversation:e,showConversation:window.innerWidth<600?!0:void 0}),e.setCompState({seen:!0})}}],filterFunc:e=>{var o,l;let t=!1;this.propsState.searchText||(t=!0);let n=this.propsState.searchText;(o=e.getJson().senderName)!=null&&o.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0);let i=this.componentList.getList("email",e.getJson()._id,"conversationId");for(let u of i)(l=u.getJson().body)!=null&&l.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0);return t}})}render(){return _.jsxs("div",{className:this.props.pageClass||this.state.defaultClass,style:{marginLeft:"-10px",minWidth:"fit-content"},children:[_.jsx("div",{className:"header",children:"Messages Beta"}),_.jsx("div",{className:"search-container",children:_.jsxs("div",{className:"search-bar",children:[_.jsx("i",{className:"fas fa-search search-icon"}),_.jsx("input",{type:"text",placeholder:"Search messages...",onChange:e=>{this.dispatch({searchText:e.target.value})},className:"search-input"})]})}),this.getInnerContent()]})}}var fu={exports:{}};/*! https://mths.be/he v1.2.0 by @mathias | MIT license */var m6=fu.exports,xC;function g6(){return xC||(xC=1,function(r,e){(function(t){var n=e,i=r&&r.exports==n&&r,o=typeof ja=="object"&&ja;(o.global===o||o.window===o)&&(t=o);var l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[\x01-\x7F]/g,h=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,d=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,g={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","	":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr",ª:"ordf",á:"aacute",Á:"Aacute",à:"agrave",À:"Agrave",ă:"abreve",Ă:"Abreve",â:"acirc",Â:"Acirc",å:"aring",Å:"angst",ä:"auml",Ä:"Auml",ã:"atilde",Ã:"Atilde",ą:"aogon",Ą:"Aogon",ā:"amacr",Ā:"Amacr",æ:"aelig",Æ:"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf",ℬ:"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf",ℭ:"Cfr","𝒞":"Cscr",ℂ:"Copf",ć:"cacute",Ć:"Cacute",ĉ:"ccirc",Ĉ:"Ccirc",č:"ccaron",Č:"Ccaron",ċ:"cdot",Ċ:"Cdot",ç:"ccedil",Ç:"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf",ď:"dcaron",Ď:"Dcaron",đ:"dstrok",Đ:"Dstrok",ð:"eth",Ð:"ETH","ⅇ":"ee",ℯ:"escr","𝔢":"efr","𝕖":"eopf",ℰ:"Escr","𝔈":"Efr","𝔼":"Eopf",é:"eacute",É:"Eacute",è:"egrave",È:"Egrave",ê:"ecirc",Ê:"Ecirc",ě:"ecaron",Ě:"Ecaron",ë:"euml",Ë:"Euml",ė:"edot",Ė:"Edot",ę:"eogon",Ę:"Eogon",ē:"emacr",Ē:"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf",ℱ:"Fscr",ﬀ:"fflig",ﬃ:"ffilig",ﬄ:"ffllig",ﬁ:"filig",fj:"fjlig",ﬂ:"fllig",ƒ:"fnof",ℊ:"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr",ǵ:"gacute",ğ:"gbreve",Ğ:"Gbreve",ĝ:"gcirc",Ĝ:"Gcirc",ġ:"gdot",Ġ:"Gdot",Ģ:"Gcedil","𝔥":"hfr",ℎ:"planckh","𝒽":"hscr","𝕙":"hopf",ℋ:"Hscr",ℌ:"Hfr",ℍ:"Hopf",ĥ:"hcirc",Ĥ:"Hcirc",ℏ:"hbar",ħ:"hstrok",Ħ:"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf",ℐ:"Iscr",ℑ:"Im",í:"iacute",Í:"Iacute",ì:"igrave",Ì:"Igrave",î:"icirc",Î:"Icirc",ï:"iuml",Ï:"Iuml",ĩ:"itilde",Ĩ:"Itilde",İ:"Idot",į:"iogon",Į:"Iogon",ī:"imacr",Ī:"Imacr",ĳ:"ijlig",Ĳ:"IJlig",ı:"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf",ĵ:"jcirc",Ĵ:"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr",ķ:"kcedil",Ķ:"Kcedil","𝔩":"lfr","𝓁":"lscr",ℓ:"ell","𝕝":"lopf",ℒ:"Lscr","𝔏":"Lfr","𝕃":"Lopf",ĺ:"lacute",Ĺ:"Lacute",ľ:"lcaron",Ľ:"Lcaron",ļ:"lcedil",Ļ:"Lcedil",ł:"lstrok",Ł:"Lstrok",ŀ:"lmidot",Ŀ:"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf",ℳ:"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr",ℕ:"Nopf","𝒩":"Nscr","𝔑":"Nfr",ń:"nacute",Ń:"Nacute",ň:"ncaron",Ň:"Ncaron",ñ:"ntilde",Ñ:"Ntilde",ņ:"ncedil",Ņ:"Ncedil","№":"numero",ŋ:"eng",Ŋ:"ENG","𝕠":"oopf","𝔬":"ofr",ℴ:"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf",º:"ordm",ó:"oacute",Ó:"Oacute",ò:"ograve",Ò:"Ograve",ô:"ocirc",Ô:"Ocirc",ö:"ouml",Ö:"Ouml",ő:"odblac",Ő:"Odblac",õ:"otilde",Õ:"Otilde",ø:"oslash",Ø:"Oslash",ō:"omacr",Ō:"Omacr",œ:"oelig",Œ:"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf",ℙ:"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr",ℚ:"Qopf",ĸ:"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr",ℛ:"Rscr",ℜ:"Re",ℝ:"Ropf",ŕ:"racute",Ŕ:"Racute",ř:"rcaron",Ř:"Rcaron",ŗ:"rcedil",Ŗ:"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS",ś:"sacute",Ś:"Sacute",ŝ:"scirc",Ŝ:"Scirc",š:"scaron",Š:"Scaron",ş:"scedil",Ş:"Scedil",ß:"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf",ť:"tcaron",Ť:"Tcaron",ţ:"tcedil",Ţ:"Tcedil","™":"trade",ŧ:"tstrok",Ŧ:"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr",ú:"uacute",Ú:"Uacute",ù:"ugrave",Ù:"Ugrave",ŭ:"ubreve",Ŭ:"Ubreve",û:"ucirc",Û:"Ucirc",ů:"uring",Ů:"Uring",ü:"uuml",Ü:"Uuml",ű:"udblac",Ű:"Udblac",ũ:"utilde",Ũ:"Utilde",ų:"uogon",Ų:"Uogon",ū:"umacr",Ū:"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr",ŵ:"wcirc",Ŵ:"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf",ý:"yacute",Ý:"Yacute",ŷ:"ycirc",Ŷ:"Ycirc",ÿ:"yuml",Ÿ:"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf",ℨ:"Zfr",ℤ:"Zopf","𝒵":"Zscr",ź:"zacute",Ź:"Zacute",ž:"zcaron",Ž:"Zcaron",ż:"zdot",Ż:"Zdot",Ƶ:"imped",þ:"thorn",Þ:"THORN",ŉ:"napos",α:"alpha",Α:"Alpha",β:"beta",Β:"Beta",γ:"gamma",Γ:"Gamma",δ:"delta",Δ:"Delta",ε:"epsi","ϵ":"epsiv",Ε:"Epsilon",ϝ:"gammad",Ϝ:"Gammad",ζ:"zeta",Ζ:"Zeta",η:"eta",Η:"Eta",θ:"theta",ϑ:"thetav",Θ:"Theta",ι:"iota",Ι:"Iota",κ:"kappa",ϰ:"kappav",Κ:"Kappa",λ:"lambda",Λ:"Lambda",μ:"mu",µ:"micro",Μ:"Mu",ν:"nu",Ν:"Nu",ξ:"xi",Ξ:"Xi",ο:"omicron",Ο:"Omicron",π:"pi",ϖ:"piv",Π:"Pi",ρ:"rho",ϱ:"rhov",Ρ:"Rho",σ:"sigma",Σ:"Sigma",ς:"sigmaf",τ:"tau",Τ:"Tau",υ:"upsi",Υ:"Upsilon",ϒ:"Upsi",φ:"phi",ϕ:"phiv",Φ:"Phi",χ:"chi",Χ:"Chi",ψ:"psi",Ψ:"Psi",ω:"omega",Ω:"ohm",а:"acy",А:"Acy",б:"bcy",Б:"Bcy",в:"vcy",В:"Vcy",г:"gcy",Г:"Gcy",ѓ:"gjcy",Ѓ:"GJcy",д:"dcy",Д:"Dcy",ђ:"djcy",Ђ:"DJcy",е:"iecy",Е:"IEcy",ё:"iocy",Ё:"IOcy",є:"jukcy",Є:"Jukcy",ж:"zhcy",Ж:"ZHcy",з:"zcy",З:"Zcy",ѕ:"dscy",Ѕ:"DScy",и:"icy",И:"Icy",і:"iukcy",І:"Iukcy",ї:"yicy",Ї:"YIcy",й:"jcy",Й:"Jcy",ј:"jsercy",Ј:"Jsercy",к:"kcy",К:"Kcy",ќ:"kjcy",Ќ:"KJcy",л:"lcy",Л:"Lcy",љ:"ljcy",Љ:"LJcy",м:"mcy",М:"Mcy",н:"ncy",Н:"Ncy",њ:"njcy",Њ:"NJcy",о:"ocy",О:"Ocy",п:"pcy",П:"Pcy",р:"rcy",Р:"Rcy",с:"scy",С:"Scy",т:"tcy",Т:"Tcy",ћ:"tshcy",Ћ:"TSHcy",у:"ucy",У:"Ucy",ў:"ubrcy",Ў:"Ubrcy",ф:"fcy",Ф:"Fcy",х:"khcy",Х:"KHcy",ц:"tscy",Ц:"TScy",ч:"chcy",Ч:"CHcy",џ:"dzcy",Џ:"DZcy",ш:"shcy",Ш:"SHcy",щ:"shchcy",Щ:"SHCHcy",ъ:"hardcy",Ъ:"HARDcy",ы:"ycy",Ы:"Ycy",ь:"softcy",Ь:"SOFTcy",э:"ecy",Э:"Ecy",ю:"yucy",Ю:"YUcy",я:"yacy",Я:"YAcy",ℵ:"aleph",ℶ:"beth",ℷ:"gimel",ℸ:"daleth"},m=/["&'<>`]/g,f={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},y=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,b=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,x=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,C={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},w={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},E={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},P=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],S=String.fromCharCode,O={},M=O.hasOwnProperty,R=function(G,W){return M.call(G,W)},A=function(G,W){for(var B=-1,V=G.length;++B<V;)if(G[B]==W)return!0;return!1},T=function(G,W){if(!G)return W;var B={},V;for(V in W)B[V]=R(G,V)?G[V]:W[V];return B},I=function(G,W){var B="";return G>=55296&&G<=57343||G>1114111?(W&&L("character reference outside the permissible Unicode range"),"�"):R(E,G)?(W&&L("disallowed character reference"),E[G]):(W&&A(P,G)&&L("disallowed character reference"),G>65535&&(G-=65536,B+=S(G>>>10&1023|55296),G=56320|G&1023),B+=S(G),B)},D=function(G){return"&#x"+G.toString(16).toUpperCase()+";"},N=function(G){return"&#"+G+";"},L=function(G){throw Error("Parse error: "+G)},U=function(G,W){W=T(W,U.options);var B=W.strict;B&&b.test(G)&&L("forbidden code point");var V=W.encodeEverything,H=W.useNamedReferences,ne=W.allowUnsafeSymbols,ee=W.decimal?N:D,$=function(Y){return ee(Y.charCodeAt(0))};return V?(G=G.replace(u,function(Y){return H&&R(g,Y)?"&"+g[Y]+";":$(Y)}),H&&(G=G.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),H&&(G=G.replace(d,function(Y){return"&"+g[Y]+";"}))):H?(ne||(G=G.replace(m,function(Y){return"&"+g[Y]+";"})),G=G.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),G=G.replace(d,function(Y){return"&"+g[Y]+";"})):ne||(G=G.replace(m,$)),G.replace(l,function(Y){var Q=Y.charCodeAt(0),te=Y.charCodeAt(1),ae=(Q-55296)*1024+te-56320+65536;return ee(ae)}).replace(h,$)};U.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var J=function(G,W){W=T(W,J.options);var B=W.strict;return B&&y.test(G)&&L("malformed character reference"),G.replace(x,function(V,H,ne,ee,$,Y,Q,te,ae){var ge,Ce,Re,Pe,Ne,Fe;return H?(Ne=H,C[Ne]):ne?(Ne=ne,Fe=ee,Fe&&W.isAttributeValue?(B&&Fe=="="&&L("`&` did not start a character reference"),V):(B&&L("named character reference was not terminated by a semicolon"),w[Ne]+(Fe||""))):$?(Re=$,Ce=Y,B&&!Ce&&L("character reference was not terminated by a semicolon"),ge=parseInt(Re,10),I(ge,B)):Q?(Pe=Q,Ce=te,B&&!Ce&&L("character reference was not terminated by a semicolon"),ge=parseInt(Pe,16),I(ge,B)):(B&&L("named character reference was not terminated by a semicolon"),V)})};J.options={isAttributeValue:!1,strict:!1};var re=function(G){return G.replace(m,function(W){return f[W]})},Z={version:"1.2.0",encode:U,decode:J,escape:re,unescape:J};if(n&&!n.nodeType)if(i)i.exports=Z;else for(var ie in Z)R(Z,ie)&&(n[ie]=Z[ie]);else t.he=Z})(m6)}(fu,fu.exports)),fu.exports}var y6=g6();const v6=qu(y6);function Xr(r){if(typeof r=="string"){const e=r.replace(/<[^>]+>/g,"");return v6.decode(e).replace(/\s+/g," ").trim()}}class _6 extends nt{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().body,t=Xr(e);this.setState({plainText:t})}componentDidUpdate(e){const t=this.props.obj.getJson().body,n=e.obj.getJson().body;if(t!==n){const i=Xr(t);this.setState({plainText:i})}}render(){let e=this.props.obj.getJson().ownerMessage?"outgoing":"incoming";return _.jsx("div",{children:this.props.obj.getJson().suggestion?_.jsxs("div",{className:"message-item outgoing",children:[_.jsxs("div",{className:"close-or-accept",children:[_.jsx("div",{className:"accept-suggested-message hover-darken",onClick:async()=>{let t=this.props.obj;t.setCompState({suggestion:!1,ownerMessage:!0},{run:!0});let n={originalMessageId:t.getJson().originalMessageId||"",from:this.propsState.currentUser.getJson()._id,to:this.propsState.currentConversation.getJson().contact,subject:t.getJson().subject,text:t.getJson().body},i=this.propsState.currentUser.getJson().gmailAuthenticated?"https://gmailapiemailhandler-7c5i3vsqma-uc.a.run.app":"https://sendgridemailhandler-7c5i3vsqma-uc.a.run.app";await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(o=>{if(!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);return o.json()}).then(o=>{console.log("Reply sent successfully in thread.",o)}).catch(o=>{console.error("Error sending reply:",o)})},children:_.jsx("i",{className:"fas fa-check"})}),_.jsx(of,{obj:this.props.obj,formClass:"none",content:_.jsx("div",{className:"decline-suggested-message hover-darken",children:_.jsx("i",{className:"fas fa-times"})})})]}),_.jsx("div",{className:"message message-item-suggested",children:this.state.plainText})]}):_.jsxs(_.Fragment,{children:[this.props.obj.getJson().timeStamp&&_.jsx("div",{className:"date-divider",children:_.jsx("span",{className:"timestamp",children:this.props.obj.getJson().timeStamp})}),_.jsx("div",{className:"message-item "+e,children:_.jsx("div",{className:"message "+e,children:this.state.plainText})})]})})}}const w6="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23696969'%3e%3cpath%20d='M400-80%200-480l400-400%2071%2071-329%20329%20329%20329-71%2071Z'/%3e%3c/svg%3e";class E6 extends nt{constructor(t){super(t);le(this,"handleCheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n.includes(t)||n.push(t),this.dispatch({selectedContacts:n})});le(this,"handleUncheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n=n.filter(i=>i!==t),this.dispatch({selectedContacts:n})})}render(){var l;const{obj:t}=this.props;let n=t.getJson(),o=(this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[]).includes(t);return _.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[_.jsxs("div",{className:"contact-item hover-darken",style:{background:o?"#2374ab10":"white",position:"relative",paddingLeft:"5px"},children:[_.jsx(mf,{checkKey:"selectedContacts",obj:t,check:this.handleCheckContact,uncheck:this.handleUncheckContact}),_.jsx("div",{className:"contact-avatar",children:_.jsx("i",{className:"fa-solid fa-user"})}),_.jsxs("div",{className:"contact-info",children:[_.jsx("div",{onClick:()=>{window.innerWidth>600?this.dispatch({currentContact:t}):this.dispatch({currentContact:t,currentPopupComponent:t,popupSwitch:"viewPotentialProspect"})},className:"contact-name",children:`${n.firstName} ${n.lastName}`}),_.jsx("div",{className:"contact-desc",children:n.company})]}),_.jsx("div",{style:{cursor:"pointer",width:"fit-content"},children:_.jsx("div",{className:"contact-icon",children:_.jsx("i",{className:"fa-solid fa-message"})})})]}),_.jsx("div",{className:"contact-tag-container active",children:(l=n.tags)==null?void 0:l.split(",").map((u,h)=>_.jsx("button",{className:"contact-tag-btn",children:u},h))})]})}}class C6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}componentDidMount(){this.dispatch({selectedContacts:[]})}filterFunc(){var o;let e=_i.getIdFromURL(),t=((o=this.propsState.tags)==null?void 0:o.split(","))||"",n=this.componentList.getList("potentialProspect",e,"researchId"),i=[];if(t)for(let l of t){let u=n.filter(h=>h.getJson().tags.includes(l));i=[...i,...u]}else i=[...n];this.dispatch({selectedContacts:i})}getInnerContent(){var l,u;let e=_i.getIdFromURL();this.componentList.getComponent("research",e);let t=this.propsState.selectedContacts,n=this.propsState.componentList.getList("potentialProspect",e,"researchId");(t==null?void 0:t.length)>0;let i=n!=null&&n.length?"/"+(n==null?void 0:n.length):"",o=(t==null?void 0:t.length)===(n==null?void 0:n.length);return _.jsxs("div",{className:"mobile-container",children:[_.jsxs("div",{className:"top-nav-float",children:[_.jsx("nav",{className:"top-nav",children:_.jsxs("div",{className:"nav-left",children:[_.jsx("div",{className:"nav-icon",children:_.jsx("i",{className:"fas fa-circle"})}),_.jsx("div",{className:"nav-title",children:"Researched Potential Prospects"})]})}),_.jsx("div",{className:"search-container",children:_.jsxs("div",{className:"search-bar",children:[_.jsx("i",{className:"fas fa-search search-icon"}),_.jsx("input",{onChange:h=>{this.dispatch({tags:h.target.value})},className:"search-input",placeholder:"Search"})]})}),_.jsx("div",{className:"filter-nav",children:_.jsxs("div",{className:"filter-nav-left",children:[_.jsx(_.Fragment,{children:_.jsx("div",{id:"selectBtn",style:{height:"fit-content",marginLeft:"5px",alignContent:"center"},children:_.jsx(mf,{label:o?"Deselect All":"Select All",check:this.filterFunc,uncheck:()=>{this.dispatch({selectedContacts:[]})}})})}),_.jsx("span",{className:"count-desc",children:(l=this.propsState.selectedContacts)!=null&&l.length?this.propsState.selectedContacts.length+`${i} Selected`:""})]})})]}),_.jsx(an,{filterFunc:h=>{if(!this.propsState.tags)return!0;let d=this.propsState.tags.split(",");for(let g of d)if(g!==""&&h.getJson().tags.includes(g))return!0;return!1},filter:{search:e,attribute:"researchId"},name:"potentialProspect",mapContainerclassName:"contact-list",mapSectionclassName:"contact",cells:[{type:"custom",custom:E6}],hasLink:!0}),((u=this.propsState.selectedContacts)==null?void 0:u.length)>0&&_.jsxs("div",{id:"floating-select-set",className:"floating-select-set",children:[_.jsx("button",{onClick:()=>{for(let h of this.propsState.selectedContacts)h.del();this.dispatch({selectedContacts:[]})},className:"floating-select-btn hover-basic",children:_.jsx("span",{className:"floating-select-btn-text",children:"Remove"})}),_.jsx("button",{onClick:()=>{for(let h of this.propsState.selectedContacts)h.copy({type:"contact",ogPPId:h.getJson()._id})},className:"floating-select-btn floating-select-primary-btn hover-basic",children:_.jsx("span",{className:"floating-select-btn-text",children:"Add Prospect"})}),_.jsx("button",{style:{width:"110px"},className:"floating-select-btn floating-select-primary-btn hover-basic",children:_.jsx(sf,{formclassName:"FCImgButton",content:_.jsx("span",{onClick:()=>{let h=this.propsState.selectedContacts;for(let d of h)d.copy({type:"contact",ogPPId:d.getJson()._id});this.dispatch({sequenceDataType:"research"})},className:"floating-select-btn-text",style:{color:"white"},children:"Add to Sequence"}),popupSwitch:"addToSequence"})})]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class A6 extends WS{constructor(e){super(e),this.state={...this.state,count:0}}componentDidMount(){if(this.state.count<=0){const{app:e,obj:t}=this.props;let o=e.state.componentList.getList("potentialProspect",t==null?void 0:t.getJson()._id,"researchId").length;this.setState({count:o})}}render(){const{obj:e,app:t}=this.props;let n=e.getJson(),i=n.isActive;return _.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[_.jsx("div",{style:{alignSelf:"flex-end"},children:_.jsx(sf,{obj:e,formClass:"none",wrapperClass:"none",content:_.jsx("span",{className:"floating-select-btn-text",style:{color:"black",marginRight:"10px"},children:"edit"}),popupSwitch:"updateResearch"})}),_.jsxs(Ht,{to:`./${n==null?void 0:n._id}`,style:{padding:"20px"},className:`contact-item ${i?"contact-item-active":""}`,children:[_.jsxs("div",{className:"contact-info",children:[_.jsx("div",{onClick:()=>{this.dispatch({currentPopupComponent:e,popupSwitch:"updateContact"})},className:"contact-name",children:`${n.name} `}),_.jsx("div",{className:"contact-desc",children:`${this.state.count} Contact${this.state.count!==1?"s":""} Found`})]}),_.jsxs("div",{className:`profile-status ${i?"profile-status-active":""}`,children:[_.jsx("i",{className:"fa-solid fa-circle"}),_.jsx("span",{children:i?"Active":"Paused"})]})]}),_.jsx("div",{className:"contact-tag-container active",children:this.getTagUI(n)})]})}}class b6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}filterFunc(){var i;let e=((i=this.propsState.tags)==null?void 0:i.split(","))||"",t=this.componentList.getList("contact"),n=[];if(e)for(let o of e){let l=t.filter(u=>u.getJson().tags.includes(o));n=[...n,...l]}else n=[...t];this.dispatch({selectedContacts:n})}getInnerContent(){return _.jsxs("div",{className:"map-container",children:[_.jsxs("div",{className:"top-nav-float",children:[_.jsx("nav",{className:"top-nav",children:_.jsxs("div",{className:"nav-left",children:[_.jsx("div",{className:"nav-icon",children:_.jsx("i",{className:"fas fa-circle"})}),_.jsx("div",{className:"nav-title",children:"Research"})]})}),_.jsx("div",{className:"search-container",children:_.jsxs("div",{className:"search-bar",children:[_.jsx("i",{className:"fas fa-search search-icon"}),_.jsx("input",{onChange:e=>{this.dispatch({searchText:e.target.value})},className:"search-input",placeholder:"Search"})]})}),_.jsx("div",{className:"filter-nav"}),_.jsx(l0,{wrapperClass:"icon-row",newProp:"asdf",content:_.jsx("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"New Research Profile"}),popupSwitch:"addResearch"})]}),_.jsx("div",{className:"card-header",children:"Customer Profiles"}),_.jsxs("div",{children:[" ",_.jsx(an,{filterFunc:e=>{var i;let t=!1;this.propsState.searchText||(t=!0);let n=this.propsState.searchText;return(i=e.getJson().name)!=null&&i.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0),t},name:"research",mapContainerclassName:"contact-list",mapSectionclassName:"contact",cells:[{type:"custom",custom:A6}]})]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class SC extends fl{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.getComponentsFromBackend()}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:_.jsx(en,{theme:"NoBorder",type:"fit",content:_.jsx(b6,{})})})}}class x6 extends nt{constructor(e){super(e),this.state={...this.state,opens:"0"}}async componentDidMount(){const{obj:e}=this.props;let t=await this.componentList.getComponentsFromBackend({type:"open",ids:e.getJson()._id,filterKeys:"sequenceId"});this.setState({opens:t.length})}render(){var n,i;const{obj:e}=this.props;let t=e.getJson();return _.jsxs("div",{className:"sequence",children:[_.jsxs("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:[_.jsx(Ht,{to:"/sequence/"+t._id,style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-left",children:_.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})}),_.jsx(Ht,{to:"/sequence/"+t._id,style:{marginRight:"10px"},onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-right",children:"View Details"})]}),_.jsxs("div",{className:"row row-space-around",style:{fontSize:"14px"},children:[_.jsxs("div",{className:"col",children:[_.jsx("div",{children:"Active"}),_.jsx("div",{children:((i=(n=this.componentList.getList("contact",t._id,"sequenceId"))==null?void 0:n.filter(o=>o.getJson().finished===!1))==null?void 0:i.length)||"0"})]}),_.jsxs("div",{className:"col",children:[_.jsx("div",{children:"Completed"}),_.jsx("div",{children:(t==null?void 0:t.finished)||"0"})]}),_.jsxs("div",{className:"col",children:[_.jsx("div",{children:"Opened"}),_.jsx("div",{children:this.state.opens||"N/A"})]}),_.jsxs("div",{className:"col",children:[_.jsx("div",{children:"Reply"}),_.jsx("div",{children:(t==null?void 0:t.replyRate)!=null?`${t.replyRate}`:"N/A"}),"                "]}),_.jsxs("div",{className:"col",children:[_.jsx("div",{children:"Bounce"}),_.jsx("div",{children:t!=null&&t.bounceRate?`${t==null?void 0:t.bounceRate}%`:"N/A"})]})]}),_.jsx("div",{style:{position:"absolute",right:"4px",cursor:"pointer"},className:"del-icon",children:_.jsx("div",{onClick:()=>{this.dispatch({popupSwitch:"delSequence",delSequence:this.props.obj})},children:_.jsx("i",{className:"fa-solid fa-xmark"})})})]})}}class S6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return _.jsxs("div",{className:"fit",children:[_.jsx("h4",{style:{marginBottom:"10px",font:"normal normal 900 16px/22px Satoshi"},children:"Sequences"}),_.jsx(an,{name:"sequence",filterFunc:e=>{var i;if(e.getJson().name===void 0||e.getJson().name==="")return!1;let t=!1;this.propsState.searchText||(t=!0);let n=this.propsState.searchText;return(i=e.getJson().name)!=null&&i.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0),t},cells:[{type:"custom",custom:x6}]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class T6 extends nt{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().content,t=Xr(e);this.setState({plainText:t})}componentDidUpdate(e){var i,o;const t=(i=this.props.obj)==null?void 0:i.getJson().content,n=(o=this.props.obj)==null?void 0:o.getJson().content;if(t!==n){const l=Xr(t);this.setState({plainText:l})}}render(){const{obj:e}=this.props;let t=e.getJson();return _.jsx("div",{className:"sequence",children:_.jsxs("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:[_.jsx(Ht,{style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},to:"/template/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-left",children:_.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:this.state.plainText})}),_.jsx(Ht,{style:{marginRight:"0px"},to:"/template/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-right",children:"View Details"})]})})}}class I6 extends nt{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().content,t=Xr(e);this.setState({plainText:t})}componentDidUpdate(e){var i,o;const t=(i=this.props.obj)==null?void 0:i.getJson().content,n=(o=this.props.obj)==null?void 0:o.getJson().content;if(t!==n){const l=Xr(t);this.setState({plainText:l})}}render(){const{obj:e}=this.props;let t=e.getJson();return _.jsx("div",{className:"sequence",children:_.jsx("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:_.jsx("div",{style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},onClick:()=>{let n=this.props.changeItem||"currentPopupComponent",i=this.props.changeAttribute||"content";this.propsState[n].setCompState({[i]:t.content}),this.dispatch({update:this.propsState[n]})},className:"title-left",children:_.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:this.state.plainText})})})})}}class D6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return _.jsxs(_.Fragment,{children:[_.jsx("h4",{style:{marginBottom:"10px",font:"normal normal 900 16px/22px Satoshi"},children:"Templates"}),_.jsx(an,{name:"template",filterFunc:e=>{var i;if(e.getJson().content===void 0||e.getJson().content==="")return!1;let t=!1;this.propsState.searchText||(t=!0);let n=this.propsState.searchText;return(i=e.getJson().content)!=null&&i.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0),t},cells:[{type:"custom",custom:T6}]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class k6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return _.jsxs("div",{className:"map-container",style:{paddingBottom:"62px"},children:[_.jsxs("div",{className:"top-nav-float",children:[_.jsx("nav",{className:"top-nav",children:_.jsxs("div",{className:"nav-left",children:[_.jsx("div",{className:"nav-icon",children:_.jsx("i",{className:"fas fa-circle"})}),_.jsx("div",{className:"title-name",children:"Content"})]})}),_.jsx("div",{className:"search-container",children:_.jsxs("div",{className:"search-bar",children:[_.jsx("i",{className:"fas fa-search search-icon"}),_.jsx("input",{onChange:e=>{this.dispatch({searchText:e.target.value})},className:"search-input",placeholder:"Search"})]})}),_.jsx("div",{className:"filter",children:_.jsxs("div",{className:"row row-space-between",children:[_.jsx(Ht,{to:"/sequence",className:"btn-gray",children:"New Sequence"}),_.jsx(Ht,{to:"/template",className:"btn-gray",children:"New Template"})]})})]}),_.jsx("div",{children:_.jsx(en,{theme:"defaultCard",content:_.jsx(S6,{})})}),_.jsx("div",{children:_.jsx(en,{theme:"defaultCard",content:_.jsx(D6,{})})})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class TC extends fl{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.propsState.currentUser.getJson()._id}}async componentDidMount(){this.getComponentsFromBackend()}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.state.gotComponents&&_.jsx(en,{theme:"NoBorder",type:"fit",content:_.jsx(k6,{})})})}}class R6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){var t;let e=this.componentList.getComponent("aiSettings");return _.jsxs("div",{id:"aiSettings",className:"map-container",style:{width:"fit-content",minWidth:"400px",height:"fit-content",padding:"12px",borderRadius:"8px",border:"1px solid #d1d1d1"},children:[_.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[_.jsx("div",{className:"contact-avatar",style:{maxWidth:"45px",maxHeight:"45px",background:"#323232"},children:_.jsx("i",{className:"fa-solid fa-gears"})}),_.jsx("h1",{children:"AI Settings"})]}),_.jsx("p",{style:{color:"#333333",margin:"12px 0px 12px 0px"},children:"Enable AI functionality within the platform"}),(t=e==null?void 0:e.getJson())!=null&&t.autoAI?_.jsx("div",{onClick:()=>{e.setCompState({autoAI:!1},{run:!0},!0)},className:"blue-button-1",style:{position:"relative",width:"fit-content"},children:"Turn off AI"}):_.jsx("div",{onClick:()=>{e.setCompState({autoAI:!0},{run:!0},!0)},className:"blue-button-1",style:{position:"relative",width:"fit-content"},children:"Turn on AI"})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class P6 extends nt{constructor(t){super(t);le(this,"expectedState","xyz123");this.state={...this.state,defaultClass:"fit",loading:!1,error:null}}componentDidMount(){const n=new URLSearchParams(window.location.search).get("code");n&&!this.state.hasExchanged&&(this.setState({hasExchanged:!0}),setTimeout(()=>{this.exchangeCodeForTokens(n)},100))}async exchangeCodeForTokens(t){this.setState({loading:!0,error:null});let n={code:t,user:this.propsState.currentUser.getJson()};console.log(n);let i=await JSON.stringify(n);try{const o=await fetch("https://exchangecode-7c5i3vsqma-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:i});if(!o.ok)throw new Error(`HTTP ${o.status}`);const{access_token:l,refresh_token:u,expires_in:h}=await o.json();console.log(l),await this.propsState.currentUser.setCompState({outreachAccessToken:l,outreachRefreshToken:u,outreachTokenExpiresAt:Date.now()+h*1e3},{run:!0},!0),window.history.replaceState({},"",window.location.pathname)}catch(o){console.error(o),this.setState({error:o.message})}finally{this.setState({loading:!1})}}getInnerContent(){const{loading:t,error:n}=this.state;return _.jsxs("div",{id:"outreachSettings",style:{width:"fit-content",height:"fit-content",minWidth:"400px",padding:"12px",borderRadius:"8px",border:"1px solid #d1d1d1"},children:[_.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[_.jsx("div",{className:"contact-avatar",style:{maxWidth:"25px",maxHeight:"25px",background:"#323232"},children:_.jsx("i",{class:"fa-solid fa-envelope"})}),_.jsx("h1",{children:"Outreach Settings"})]}),_.jsx("p",{style:{color:"#333333",margin:"12px 0px 12px 0px"},children:"Integrate with Outreach for sales engagement"}),t&&_.jsx("p",{children:"Linking your Outreach account…"}),n&&_.jsxs("p",{style:{color:"red"},children:["Error: ",n]}),!t&&!n&&_.jsx("div",{className:"blue-button-1",onClick:()=>{window.location.href=`https://accounts.outreach.io/oauth/authorize?client_id=FVmbvVzJuXA7v1QqONeErtezeL-Rth2L6.UWzJW8IeZL&redirect_uri=${encodeURIComponent("https://app.salescapture.ai/settings")}&response_type=code&scope=sequences.read%20sequenceStates.write%20users.all%20mailboxes.all%20prospects.all&state=xyz123`},children:"Connect Outreach"})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}const GS="/assets/logo_google_g-DjEGDao7.png";class N6 extends nt{constructor(t){super(t);le(this,"handleAuthClick",()=>{this.setState({statusMessage:"Redirecting to Google..."});const t="786362911238-7q3lb2icdev4ives0ho4loi21n1r1t1g.apps.googleusercontent.com",n="https://www.googleapis.com/auth/gmail.send https://www.googleapis.com/auth/gmail.modify https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile openid",i="https://scaiuserauthentication-7c5i3vsqma-uc.a.run.app/oauth2callback",o=new URL("https://accounts.google.com/o/oauth2/v2/auth");o.searchParams.set("client_id",t),o.searchParams.set("redirect_uri",i),o.searchParams.set("response_type","code"),o.searchParams.set("scope",n),o.searchParams.set("access_type","offline"),o.searchParams.set("prompt","consent");const l=this.propsState.currentUser.getJson()._id,u=window.location.href,d=JSON.stringify({userId:l,postAuthRedirect:u});o.searchParams.set("state",d),window.location.href=o.toString()});this.state={statusMessage:""}}render(){const{statusMessage:t}=this.state;return _.jsxs("div",{className:"gmail-auth-container",children:[_.jsx("h1",{style:{fontSize:"22px"},children:"Gmail API Authorization"}),_.jsx("p",{style:{fontSize:"16px"},children:"Click the button below to authorize your Google account for use with the Firebase Function."}),_.jsx("p",{style:{fontSize:"14px"},children:"- This process will redirect you to Google for authorization and then back to your function, which will save your token to Firestore, linked by your email address."}),_.jsxs("button",{className:"auth-button dark-button-1",style:{fontSize:"14px",background:"#333333"},onClick:this.handleAuthClick,children:[_.jsx("img",{src:GS,style:{width:"30px"}}),_.jsx("div",{children:"Authorize with Google"})]}),t&&_.jsx("div",{className:"status-message",children:t})]})}}class O6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}getInnerContent(){return _.jsx("div",{id:"googleSettings",style:{border:"1px solid #d1d1d1",width:"fit-content",height:"fit-content",minWidth:"400px",padding:"12px",borderRadius:"8px"},children:this.propsState.currentUser.getJson().gmailAuthenticated?_.jsxs("div",{style:{font:"normal normal 900 12px/18px Satoshi"},children:["Gmail Authenticated:",_.jsxs("div",{style:{font:"normal normal 400 12px/16px Satoshi",color:"#696969",alignItems:"center",display:"flex",marginTop:"20px"},children:[_.jsx("img",{src:GS,style:{width:"30px"}}),this.propsState.currentUser.getJson()._id]})]}):_.jsx(N6,{})})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class IC extends fl{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.getComponentsFromBackend()}render(){return _.jsxs("div",{className:this.props.pageClass||this.state.defaultClass,style:{display:"flex",flexDirection:"column"},children:[_.jsx(en,{theme:"NoBorder",type:"fit",content:_.jsx(R6,{})}),_.jsx(en,{theme:"NoBorder",type:"fit",content:_.jsx(P6,{})}),_.jsx(en,{theme:"NoBorder",type:"fit",content:_.jsx(O6,{})})]})}}class L6 extends nt{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().content,t=Xr(e);this.setState({plainText:t})}componentDidUpdate(e){var i,o;const t=(i=this.props.obj)==null?void 0:i.getJson().content,n=(o=this.props.obj)==null?void 0:o.getJson().content;if(t!==n){const l=Xr(t);this.setState({plainText:l})}}render(){return _.jsx("div",{onClick:()=>{this.dispatch({popupSwitch:"updateStep",currentPopupComponent:this.props.obj})},children:_.jsxs("div",{className:"icon-row",children:[_.jsx("div",{className:"icon-container",children:_.jsxs("div",{className:"col",children:[_.jsx("div",{className:"icon",style:{cursor:"pointer"},children:_.jsx("i",{className:"fa-solid fa-envelope"})}),_.jsx("div",{className:"svg",children:_.jsx("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("line",{x1:"50%",y1:"0",x2:"50%",y2:"50",stroke:"var(--app-green)",strokeWidth:"3"})})})]})}),_.jsxs("div",{className:"message-container",children:[_.jsx("b",{children:this.props.obj.getJson().subject}),_.jsx("br",{}),_.jsx("span",{children:this.state.plainText})]})]})})}}class F6 extends nt{constructor(e){super(e),this.state={...this.state,style:{width:"fit-content",font:"normal normal 900 10px / 14px Satoshi",padding:"6px 17px",letterSpacing:".5px",color:"white",borderRadius:"53px",marginTop:"0px"},plainText:""}}getText(e){let t="Active",n="#9a9a9a";return e.getJson().finished&&(t="Finished",e.getJson().bounced&&(t="Bounced",n="#BE5858"),e.getJson().replied&&(t="Replied",n="#2374AB")),_.jsx("div",{className:"contact-tag-btn",style:{...this.state.style,background:n+" 0% 0% no-repeat"},children:t})}render(){var i,o;let e=(i=this.props.obj)==null?void 0:i.getJson(),t=e!=null&&e.mobile?e==null?void 0:e.mobile:e==null?void 0:e.email;(e.firstName||e.lastName)&&`${e.firstName}${e.lastName}`;let n=this.getText((o=this.props)==null?void 0:o.obj);return _.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[_.jsxs("div",{className:"contact-info",style:{flex:2},children:[_.jsx("div",{className:"contact-name",children:`${e.firstName} ${e.lastName}`}),_.jsxs("div",{className:"contact-desc",children:[(e==null?void 0:e.company)||(e==null?void 0:e.title)||(e==null?void 0:e.email)||(e==null?void 0:e.mobile)||"",_.jsxs("div",{children:["step: ",parseInt(e.emailNumber)+1]})]})]}),_.jsxs("div",{style:{display:"flex",flex:1,gap:"3px",justifyContent:"flex-end"},children:[_.jsx("div",{children:n}),!this.props.obj.getJson().finished&&_.jsx("div",{title:"Remove from Sequence",onClick:()=>{this.props.obj.setCompState({finished:!0}),this.props.obj.update();let l=this.propsState.currentSequence,u=parseInt(l.getJson().finished)+1;l.setCompState({finished:u}),l.update()},className:"dark-button-1",children:"Remove"})]})]})}}class Rh extends ic{constructor(e){super(e),this.state={...this.state,list:null,spState:"sequenceSteps"}}async componentDidMount(){var n;let e;await this.getComponentsFromBackend(),await this.componentList.getComponentsFromBackend("template"),await this.componentList.getComponentsFromBackend("step"),await this.componentList.getComponentsFromBackend("contact"),e=this.comp,e||(e=await this.operationsFactory.prepare({prepare:{type:"sequence"},clean:!0}),e=e[0]);let t=await this.componentList.getList("step",(n=this.propsState.currentSequence)==null?void 0:n.getJson()._id,"sequenceId");this.state.list||this.setState({list:t}),await this.dispatch({currentSequence:e}),this.componentList.sortSelectedList("step","order")}componentWillUnmount(){this.operationsFactory.clear()}async createStep(e){let t=this.componentList.getList("step",e?e.getJson()._id:this.propsState.currentSequence.getJson()._id,"sequenceId");this.state.list||this.setState({list:t});const n=await this.operationsFactory.prepare({prepare:{type:"step",sequenceId:e?e.getJson()._id:this.propsState.currentSequence.getJson()._id,step:t.length}});this.dispatch({currentStep:n.length===2?n[1]:n[0]})}getStepJson(){var n,i;let e=this.componentList.getList("step",(n=this.propsState.currentSequence)==null?void 0:n.getJson()._id,"sequenceId");return{type:"step",sequenceId:(i=this.propsState.currentSequence)==null?void 0:i.getJson()._id,step:e.length}}getInnerContent(){var n,i,o,l,u,h;let t=((n=this.state.list)==null?void 0:n.length)>0?(i=this.state)==null?void 0:i.list[0].getJson().content:void 0;return _.jsx("div",{className:"fit",children:_.jsxs("div",{className:"mobile-container",children:[_.jsxs("div",{className:"title-bar",children:[_.jsxs("div",{className:"title-left",children:[_.jsx("div",{className:"title-icon",children:_.jsx("i",{className:"fas fa-angle-left",onClick:()=>{history.back()}})}),((o=this.propsState.currentSequence)==null?void 0:o.getJson().name)===""||this.state.edit?_.jsxs("div",{className:"name-a-sequence",children:[_.jsx(Ze,{obj:this.propsState.currentSequence,name:"name"}),_.jsx(ns,{callbackFunc:()=>{this.setState({edit:!1}),this.propsState.currentSequence.update()},content:"save",className:"dark-button-1"})]}):_.jsx(_.Fragment,{children:_.jsxs("div",{className:"title-name",children:[(l=this.propsState.currentSequence)==null?void 0:l.getJson().name,_.jsx("span",{onClick:()=>{this.setState({edit:!0})},children:_.jsx("span",{className:"name-a-sequence-edit-btn",children:"Edit"})})]})})]}),"limit contacts per day:",_.jsx(Ze,{name:"limit",obj:this.propsState.currentSequence,update:!0}),_.jsxs("div",{className:"title-right active-seq-container",children:[_.jsx("div",{className:"title-icon",children:_.jsx("i",{className:"fas fa-circle"})}),_.jsx("div",{className:"title-name",children:"Active"})]})]}),_.jsx("div",{className:"switch-tab",children:_.jsxs("div",{className:"row row-space-around",children:[_.jsxs("div",{onClick:()=>{this.setState({spState:"assignedProspects"})},className:this.state.spState==="sequenceSteps"?"switch-tab-btn":"switch-tab-btn active",children:["Assigned",_.jsx("br",{}),"Prospects"]}),_.jsxs("div",{onClick:()=>{this.setState({spState:"sequenceSteps"})},className:this.state.spState==="assignedProspects"?"switch-tab-btn":"switch-tab-btn active",children:["Sequence",_.jsx("br",{}),"Steps"]})]})}),this.state.spState==="sequenceSteps"?_.jsxs("div",{className:"icon-list",children:[_.jsx(an,{name:"step",mapSectionClass:"none",mapContainerClass:"none",filter:{search:(u=this.propsState.currentSequence)==null?void 0:u.getJson()._id,attribute:"sequenceId"},filterFunc:d=>!(d.getJson().content===void 0||d.getJson().content===""),cells:[{type:"custom",custom:L6,wrapperClass:"none"}]}),_.jsx(sf,{formClass:"svg-last",newProp:"asdf",obj:this.getStepJson(),content:_.jsxs(_.Fragment,{children:[_.jsx("svg",{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg",children:t&&this.state.list&&_.jsx(_.Fragment,{children:_.jsx("path",{d:"M25,0 Q25,25 50,25 H50",fill:"none",stroke:"var(--app-green)",strokeWidth:"3",strokeLinecap:"round"})})}),_.jsx("div",{className:"icon-last",children:_.jsx("i",{className:"fa-solid fa-plus"})})]}),popupSwitch:"addStep"}),_.jsx("div",{className:"icon-row",children:_.jsx("div",{className:"svg-last"})})]}):_.jsx("div",{className:"layoutColumn conversation-container",style:{padding:"20px"},children:_.jsx(an,{name:"contact",mapSectionClass:"none",mapContainerClass:"none",filter:{search:(h=this.propsState.currentSequence)==null?void 0:h.getJson()._id,attribute:"sequenceId"},cells:[{type:"custom",custom:F6,wrapperClass:"none"}]})})]})})}render(){return _.jsx("div",{className:[this.props.pageClass||this.state.defaultClass,"sequence-margin"].join(" "),children:this.getInnerContent()})}}class j6{async _makeApiCall(e){try{const t=await fetch("https://getemailfromai-7c5i3vsqma-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const i=await t.json();throw new Error(i.error||`Request failed with status ${t.status}`)}const n=await t.json();if(n.success)return n.data;throw new Error(n.error||"The API call was not successful.")}catch(t){throw console.error("Failed to fetch from AI service:",t),t}}async generateMessage(e,t,n={}){const i={companyID:e.getJson().companyId,emailType:t,currentAIOptions:{model:"gpt-4o-mini",temperature:.9},context:{persona:n.persona||"",details:n.details||"",conversationHistory:n.conversationHistory||{}}};return await this._makeApiCall(i)}extractSubjectAndBody(e){const t=e.match(/^{{\s*([^}]+?)\s*}}/);let n="",i="";t?(n=t[1].trim(),i=e.slice(t[0].length).trim()):i=e.trim();const o=i.split(`

`).map(l=>`<p>${l.replace(/\n/g,"<br>")}</p>`).join(`
`);return{subject:n,body:o}}}const el=new j6;class Ph extends ic{async componentDidMount(){await this.getComponentsFromBackend();const e=this.urlId;if(!e||e==="template"){const t=await this.operationsFactory.prepare({prepare:{type:"template"},clean:!0});this.dispatch({currentComponent:t[0]})}}async bridgeAiService(){let{persona:e,details:t,messageType:n}=this.state;n||(n="template");const i=this.propsState.currentComponent,o=this.propsState.currentUser;if(!n){alert("Please select a message type.");return}const l={persona:e,details:t,conversationHistory:{}};switch(n){case"reply":l.conversationHistory={fullHistory:t,lastProspectReply:t};break;case"sequence":l.conversationHistory={lastSentEmail:t};break;default:l.details=t;break}try{const u=await el.generateMessage(o,n,l),{subject:h,body:d}=el.extractSubjectAndBody(u);i.setCompState({content:d,subject:h}),console.log(d),this.dispatch({})}catch(u){console.error("Failed to generate AI message:",u),alert("There was an error generating the message. Please check the console.")}}getInnerContent(){const e=["Template","Follow Up","Reply","Event","Proposal","Attached Document","Referral","Network","Re-Engage"],t=["template","sequence","reply","event","proposal","document","referral","network","reEngage"];let n="Optional: Add Additional Details or Instructions",i="e.g., Mention our upcoming promotion...";return this.state.messageType==="reply"?(n="Paste Email Thread to Reply To:",i="e.g., On Fri, Jul 25, 2025, Jane Smith wrote: I'm interested..."):this.state.messageType==="sequence"&&(n="Paste Last Email Sent in Sequence:",i="e.g., Subject: Checking In..."),_.jsxs("div",{className:"fit",children:[_.jsx("h1",{children:"Template Details"}),_.jsx("div",{onClick:()=>this.setState({showAIDraft:!this.state.showAIDraft}),className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:this.state.showAIDraft?"Cancel":"Draft With AI"}),this.state.showAIDraft&&_.jsxs("div",{children:["Select Message Type:",_.jsx(Ze,{type:"select",selectOptions:e,handleChange:o=>{let l=e.indexOf(o.target.value),u=t[l];this.setState({messageType:u})}}),'Optional: Specify a Persona (e.g., "friendly and casual" or "formal and direct")',_.jsx("input",{name:"persona",onChange:o=>this.setState({persona:o.target.value})}),"Optional: Add Additional Details or Instructions",_.jsx("div",{children:n}),_.jsx("input",{name:"details",placeholder:i,value:this.state.details||"",onChange:o=>this.setState({details:o.target.value})}),_.jsx("div",{className:"dark-button-1",onClick:()=>this.bridgeAiService(),children:"Generate"})]}),_.jsx("div",{className:"input-container",children:_.jsx("div",{className:"input-bar",children:this.propsState.currentComponent&&_.jsx(Ze,{name:"subject",obj:this.propsState.currentComponent})})}),_.jsx("div",{className:"input-container",children:_.jsx("div",{className:"input-bar",children:this.propsState.currentComponent&&_.jsx(Ze,{type:"quill",name:"content",obj:this.propsState.currentComponent})})}),_.jsx(ns,{content:"Save Template"})]})}render(){return _.jsx("div",{className:this.props.pageClass||"fit",children:this.state.gotComponents&&this.getInnerContent()})}}class B6 extends nt{constructor(e){super(e),this.state={...this.state}}render(){const{obj:e}=this.props;let t=e.getJson();return _.jsx("div",{className:"sequence",children:_.jsxs("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:[_.jsx(Ht,{style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},to:"/client/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-left",children:_.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})}),_.jsx(Ht,{style:{marginRight:"0px"},to:"/client/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-right",children:"View Details"})]})})}}class M6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return _.jsxs(_.Fragment,{children:[_.jsx("h4",{style:{marginBottom:"10px",font:"normal normal 900 16px/22px Satoshi"},children:"Admin"}),_.jsx(an,{name:"client",cells:[{type:"custom",custom:B6}]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class q6 extends nt{constructor(t){super(t);le(this,"handleCsvUpload",async t=>{debugger;const i=(await this.operationsFactory.prepare({prepare:{type:"csv",researchId:this.researchId}}))[0],o=_i.getIdFromURL(),l=t.map(d=>({...d,owner:o,type:"potentialProspect",researchId:this.researchId,csvId:i.getJson()._id}));let u=await this.operationsFactory.prepare({prepare:l});this.operationsFactory.run();let h=this.componentList.getComponent("research",this.researchId,"_id");if(h!=null&&h.getJson().autoSequence){debugger;let d=this.componentList.getComponent("user",_i.getIdFromURL(!1),"_id");d||(await this.componentList.getComponentFromBackend({type:"user"}),d=this.componentList.getComponent("user",_i.getIdFromURL(!1),"_id"));for(let m of u)m.copy({type:"contact",ogPPId:m.getJson()._id,outreach:!0});const g={contacts:l,user:d.getJson(),research:h.getJson()};try{const m=await fetch("https://autosequence-7c5i3vsqma-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}),f=await m.json();if(!m.ok)throw f;console.log("✅ Contacts created & enrolled:",f)}catch(m){console.error("❌ Error adding to sequence:",m)}}});this.state={...this.state},this.handleFileUpload=this.handleFileUpload.bind(this)}componentDidUpdate(t){const n=this.props.obj.getJson()._id;n!==this.researchId&&(this.researchId=n)}handleFileUpload(t){debugger;const n=t.target.files[0];n&&$S.parse(n,{header:!0,skipEmptyLines:!0,complete:i=>{console.log("Parsed CSV data:",i.data),this.handleCsvUpload(i.data)},error:i=>{console.error("Error while parsing:",i)}})}async componentDidMount(){var o;const t=(o=this.props.obj)==null?void 0:o.getJson().content,n=Xr(t);this.setState({plainText:n});let{obj:i}=this.props;await this.componentList.getComponentsFromBackend({type:"csv",ids:i.getJson()._id,filterKeys:"researchId"}),this.setState({})}render(){const{obj:t}=this.props;let n=t.getJson();return _.jsxs("div",{children:[_.jsx("div",{className:"sequence",children:_.jsxs("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:[_.jsx("div",{style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},className:"title-left",children:_.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.name})}),_.jsxs("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:[_.jsx("label",{htmlFor:`file-upload${this.props.obj.getJson()._id}`,className:"",children:"Upload"}),_.jsx("input",{id:`file-upload${this.props.obj.getJson()._id}`,type:"file",accept:".csv",onChange:this.handleFileUpload})]})]})}),_.jsxs("div",{children:[n.AIPrompt," "]}),_.jsx(an,{name:"csv",filter:{search:n._id,attribute:"researchId"},cells:[{type:"attribute",name:"_id"}]})]})}}class V6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}async componentDidMount(){await this.componentList.getComponentFromBackend({type:"user"})}getInnerContent(){let e=_i.getIdFromURL();return _.jsxs(_.Fragment,{children:[_.jsx("h4",{style:{marginBottom:"10px",font:"normal normal 900 16px/22px Satoshi"},children:"Admin"}),_.jsx(an,{name:"research",filter:{search:e,attribute:"owner"},cells:[{type:"custom",custom:q6}]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class U6 extends nt{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().content,t=Xr(e);this.setState({plainText:t})}componentDidUpdate(e){var i,o;const t=(i=this.props.obj)==null?void 0:i.getJson().content,n=(o=this.props.obj)==null?void 0:o.getJson().content;if(t!==n){const l=Xr(t);this.setState({plainText:l})}}render(){const{obj:e}=this.props;let t=e.getJson();return _.jsx("div",{className:"sequence",children:_.jsxs("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:[_.jsx(Ht,{style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},to:"/user/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-left",children:_.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t._id})}),_.jsx(Ht,{style:{marginRight:"0px"},to:"/template/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-right",children:"View Details"})]})})}}class z6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return _.jsxs(_.Fragment,{children:[_.jsx("h4",{style:{marginBottom:"10px",font:"normal normal 900 16px/22px Satoshi"},children:"Admin"}),_.jsx(an,{name:"user",filter:{search:this.propsState.currentClient.getJson()._id,attribute:"clientId"},cells:[{type:"custom",custom:U6}]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class DC extends ic{async componentDidMount(){let e=_i.getIdFromURL();await this.getComponentsFromBackend(),await this.componentList.getComponentsFromBackend({type:"user",ids:e,filterKeys:"clientId"});let n=(await this.componentList.getComponentsFromBackend({type:"todo",ids:this.propsState.currentUser.getJson()._id,filterKeys:"owner"})).find(i=>i.getJson().clientId===e);n||(n=(await this.operationsFactory.prepare({prepare:{type:"todo",clientId:e},clean:!0}))[0]),this.dispatch({currentTodo:n})}getInnerContent(){return _.jsxs("div",{className:"fit",children:[[1,2,3,4,5,6].map(e=>{var o;const t=`attribute${e}`,n=`complete${e}`,i=(o=this.propsState.currentTodo)==null?void 0:o.getJson();return _.jsxs("div",{children:[i==null?void 0:i[t],_.jsx("div",{onClick:()=>{var u;const l=!i[n];(u=this.propsState.currentTodo)==null||u.setCompState({[n]:l},{run:!0})},children:i!=null&&i[n]?"Done":"Mark Done"})]},e)}),_.jsx(ns,{obj:this.propsState.currentTodo,content:"save"}),_.jsx("div",{onClick:async()=>{let e=await this.operationsFactory.prepare({prepare:{type:"user"}});e=e[0],this.dispatch({popupSwitch:"addUser",currentPopupComponent:e})},children:"add user"}),_.jsx("div",{children:_.jsx(en,{theme:"NoBorder",type:"fit",content:_.jsx(z6,{})})}),_.jsx("div",{})]})}render(){return _.jsx("div",{className:this.props.pageClass||"fit",children:this.state.gotComponents&&this.getInnerContent()})}}class H6 extends ic{async componentDidMount(){await this.getComponentsFromBackend();let e=await this.componentList.getComponentsFromBackend({type:"client",ids:"alan@salescapture.com",filterKeys:"owner"});console.log(e)}getInnerContent(){return _.jsx("div",{className:"fit",children:_.jsx(en,{theme:"NoBorder",type:"fit",content:_.jsx(M6,{})})})}render(){return _.jsx("div",{className:this.props.pageClass||"fit",children:this.state.gotComponents&&this.getInnerContent()})}}class kC extends ic{async componentDidMount(){await this.getComponentsFromBackend();let e=_i.getIdFromURL(),t=await this.componentList.getComponentsFromBackend({type:"research",ids:e,filterKeys:"owner"});this.dispatch({}),console.log(t)}getInnerContent(){return _.jsx("div",{className:"fit",children:_.jsx(en,{theme:"NoBorder",type:"fit",content:_.jsx(V6,{})})})}render(){return _.jsx("div",{className:this.props.pageClass||"fit",children:this.state.gotComponents&&this.getInnerContent()})}}class RC extends fl{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id,visible:!0}}async componentDidMount(){await this.getComponentsFromBackend()}render(){return _.jsxs("div",{className:this.props.pageClass||this.state.defaultClass,style:{display:"flex"},children:[_.jsx("div",{style:{width:window.innerWidth>600?"50%":"100%"},children:_.jsx(en,{theme:"NoBorder",type:"fit",content:_.jsx(C6,{})})}),_.jsx("div",{style:{width:window.innerWidth>600?"50%":"0%",position:"relative"},children:this.propsState.currentContact&&window.innerWidth>600&&this.state.visible&&_.jsx(en,{theme:"NoBorder",type:"fit",content:_.jsx(Cd,{})})})]})}}class KS extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",currentConversation:null}}async componentDidMount(){await this.prepareMessages()}async prepareMessages(){let e=this.propsState.currentConversation;e||(e=this.componentList.getComponent("conversation"),await this.dispatch({currentConversation:e})),e?(await this.prepNewMessage(),this.setState({start:!0})):this.setState({message:"no current conversations"})}async prepNewMessage(){let e=this.propsState.currentConversation;const t=e.getJson().messageType||"email";let n=this.componentList.getList("email",this.propsState.currentConversation.getJson()._id,"conversationId");n=n[n.length-1];let i=n.getJson().originalMessageId,o=n.getJson().subject;const l=await this.operationsFactory.prepare({prepare:{type:t,conversationId:e.getJson()._id,originalMessageId:i||"",subject:o,ownerMessage:!0},clean:!0});this.dispatch({currentComponent:l[0]}),this.setState({currentConversation:e})}componentDidUpdate(e,t){this.propsState.currentConversation!==this.state.currentConversation&&this.prepNewMessage()}getInnerContent(){var n,i;const{currentConversation:e}=this.propsState;let t=this.componentList.getComponent("contact",e==null?void 0:e.getJson().contact,"email");return _.jsxs("div",{children:[window.innerWidth>1&&_.jsxs("div",{style:{position:"sticky",top:0,zIndex:200,display:"flex",flexDirection:"row",alignItems:"center",justifyItems:"space-between",background:"white",padding:"20px",paddingBottom:"8px",transform:"translateZ(0)"},children:[window.innerWidth<600&&_.jsx("div",{onClick:()=>{this.dispatch({showConversation:void 0})},children:_.jsx("img",{src:w6,style:{color:"black"}})}),_.jsx("div",{className:"contact-avatar",style:{maxWidth:"45px",maxHeight:"45px"},children:_.jsx("i",{className:"fa-solid fa-user"})}),_.jsxs("div",{className:"message-header-title",children:[_.jsx("span",{className:"sender-title",children:(n=this.propsState.currentConversation)==null?void 0:n.getJson().contactName}),_.jsx("span",{className:"sender-details-button",children:"See Details"})]}),_.jsx("div",{style:{fontSize:".8rem",cursor:"pointer",minWidth:"55px"},className:"hover-basic",children:(i=t==null?void 0:t.getJson())!=null&&i.autoAI?_.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},onClick:()=>{t.setCompState({autoAI:!1},{run:!0},!0)},children:_.jsx("i",{class:"fa-solid fa-comment-nodes",style:{fontSize:"35px",color:"#36b593"}})}):_.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},onClick:()=>{t.setCompState({autoAI:!0},{run:!0},!0)},children:_.jsx("i",{class:"fa-solid fa-comment-nodes",style:{fontSize:"35px",color:"#363636"}})})})]}),_.jsx("div",{className:"layoutColumn conversation-container",style:{padding:"20px",marginBottom:"12px"},children:this.state.message?_.jsx(_.Fragment,{children:this.state.message}):_.jsx(_.Fragment,{children:this.state.start&&_.jsxs("div",{style:{width:"100%",marginTop:"-20px"},children:[_.jsx(an,{mapContainerClass:"message-list",name:(e==null?void 0:e.getJson().messageType)||"email",cells:[{type:"custom",custom:_6}],filter:{search:this.propsState.currentConversation.getJson()._id,attribute:"conversationId"},filterFunc:o=>!(o.getJson().body===void 0||o.getJson().body==="")}),_.jsxs("div",{style:{display:"flex",flexDirection:"row",position:"sticky",bottom:0,zIndex:1,width:"100%",minHeight:"70px",paddingBottom:"85px",paddingLeft:"12px",background:"linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 1%)"},children:[_.jsx("div",{style:{position:"relative",width:"40px",zIndex:2},children:_.jsx(ns,{content:_.jsx("button",{className:"footer-btn",style:{marginBottom:"-15px",position:"absolute",left:0},children:_.jsx("i",{className:"fa-solid fa-circle-plus"})}),callbackFunc:()=>{let o=this.propsState.currentComponent;if(o.getJson().body==="")return;this.prepNewMessage();let l={originalMessageId:o.getJson().originalMessageId,from:this.propsState.currentUser.getJson()._id,to:this.propsState.currentConversation.getJson().contact,subject:o.getJson().subject,text:o.getJson().body},u=this.propsState.currentUser.getJson().gmailAuthenticated?"https://gmailapiemailhandler-7c5i3vsqma-uc.a.run.app":"https://sendgridemailhandler-7c5i3vsqma-uc.a.run.app";fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(h=>{if(!h.ok)throw new Error(`HTTP error! Status: ${h.status}`);return h.json()}).then(h=>{console.log("Reply sent successfully in thread.",h)}).catch(h=>{console.error("Error sending reply:",h)})}})}),_.jsx("div",{style:{zIndex:3,width:"100%"},children:_.jsx(Ze,{wrapperClass:"footer-input",formClass:"search-input",name:"body",obj:this.propsState.currentComponent})})]})]})})})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class W6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}async componentDidMount(){this.propsState.convoSnapped?this.dispatch({convoSnapped:!0}):(await this.componentList.getComponentsFromBackend({type:"conversation",ids:this.propsState.currentUser.getJson()._id,filterKeys:"owner",snapshot:!0}),await this.componentList.getComponentsFromBackend({type:"email",ids:this.propsState.currentUser.getJson()._id,filterKeys:"owner",snapshot:!0})),await this.componentList.sortSelectedListbyFirebaseDate("conversation"),await this.componentList.sortSelectedListbyFirebaseDate("email"),this.componentList.getAPIService().subscribeToReadObserver(async(e,t)=>{if(this.setState({start:!1}),!Array.isArray(t)){console.error("l2 is not an array:",t),this.setState({start:!0});return}let n={};for(let o of t)n[o._id]=o;let i=this.componentList.getList("conversation");i=i.map(o=>{let l=n[o.getJson()._id];return l&&o.setCompState({...l}),o}),await this.componentList.clearSelectedList("conversation",i),await this.componentList.sortSelectedListbyFirebaseDate("conversation",!0),await this.componentList.sortSelectedListbyFirebaseDate("email"),this.dispatch({ranConversationRead:!0}),this.setState({start:!0})}),this.setState({start:!0})}getInnerContent(){return _.jsxs("div",{className:"layoutRow",style:{width:"100%",height:"100%"},children:[_.jsx("div",{style:{minWidth:window.innerWidth>600?"50%":""},children:!this.propsState.showConversation&&_.jsx(_.Fragment,{children:this.state.start&&_.jsx(en,{theme:"defaultCard",content:_.jsx(p6,{})})})}),_.jsx("div",{style:{minWidth:window.innerWidth>600?"50%":""},children:(window.innerWidth>600||this.propsState.showConversation!==void 0)&&_.jsx(_.Fragment,{children:this.state.start&&_.jsx(en,{theme:"defaultCard",content:_.jsx(KS,{})})})})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class PC extends fl{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.dispatch({currentTopic:void 0,currentSubTopic:void 0,currentComponent:void 0}),await this.getComponentsFromBackend()}componentWillUnmount(){this.operationsFactory.clear(),this.dispatch({currentComponent:void 0})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:_.jsx("div",{className:"fit",children:this.state.getComponentsFromBackend&&_.jsx(en,{theme:"defaultCard",content:_.jsx(W6,{})})})})}}class $6 extends nt{constructor(e){super(e)}render(){const{obj:e}=this.props;let t=e.getJson();return _.jsx("div",{className:"sequence sequence-custom",children:_.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},onClick:()=>{let n=this.props.obj,i=this.propsState.selectedContacts;if(this.propsState.sequenceDataType==="research"){let l=[];for(let u of i)l.push(this.componentList.getComponent("contact",u.getJson()._id,"ogPPId"))}let o=this.componentList.getList("step",[n.getJson()._id],["sequenceId"]);if(o=o.filter(l=>l.getJson().content!==""&&l.getJson().content)[0],(i==null?void 0:i.length)>0){let l=parseFloat(o.getJson().nextSend),u=new Date(Date.now()+l*60*60*1e3);u=Zt.fromDate(u);for(let h of i){let d=this.componentList.getComponent("sequence",h.getJson().sequenceId),g=h.getJson().finishedSequenceTags||"";d&&(h.getJson().finishedSequenceTags.includes(d.getJson().name)||(g=g.length===0?d.getJson().name:","+d.getJson().name)),h.setCompState({sequenceId:n.getJson()._id,finishedSequenceTags:g,finished:!1,emailNumber:0,nextSend:u},{run:!0})}this.dispatch({popupSwitch:"",selectedContacts:[]})}},children:[_.jsx("div",{className:"title-left",children:t.name}),_.jsx("div",{children:_.jsx("div",{id:"arrow-icon-appear",className:"send-seq-icon",children:_.jsx("i",{class:"fa-solid fa-right-long"})})})]})})}}class G6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}async componentDidMount(){var e;if(this.propsState.currentUser.getJson().outreachio&&((e=this.componentList.getList("outreachUser"))==null?void 0:e.length)===0){let t=this.propsState.currentUser.getJson().outreachAccessToken;await fetch("https://getusersandmailboxes-7c5i3vsqma-uc.a.run.app",{headers:{Authorization:`Bearer ${t}`}}).then(n=>n.json()).then(async n=>{debugger;console.log(n);let i=n.users,o=n.mailboxes,l=i.map(h=>{let d=o.find(m=>m.attributes.email===h.attributes.email);return{_id:h.id.toString(),type:"outreachUser",mailboxId:d.id,type:"outreachUser",mailboxEmail:d.attributes.email}}),u=await this.componentList.addComponents(l,!0);this.dispatch({outreachUsers:u})}),await fetch("https://getsequences-7c5i3vsqma-uc.a.run.app",{headers:{Authorization:`Bearer ${t}`}}).then(n=>n.json()).then(async n=>{console.log(n);let i=n.data.map(l=>({type:"sequence",_id:l.id.toString(),outreach:!0,name:l.attributes.name,outreachSequenceId:l.attributes.id})),o=await this.componentList.addComponents(i,!0);this.dispatch({outreachSequences:o})})}}render(){var e;return _.jsxs("div",{style:{padding:"20px",paddingBottom:"100px",position:"relative",paddingTop:"0px"},className:this.props.pageClass||this.state.defaultClass,children:[_.jsxs("div",{style:{paddingTop:"20px",display:"flex",flexDirection:"column",position:"sticky",top:0,zIndex:20,background:"white"},children:[_.jsx("h2",{children:"Add to Sequence"})," ",_.jsxs("div",{className:"count-desc",style:{position:"relative",margin:"10px"},children:["Contacts: ",((e=this.propsState.selectedContacts)==null?void 0:e.length)||"0"," "]})]}),this.propsState.currentUser.getJson().outreachio?_.jsxs(_.Fragment,{children:["Select Sequence",_.jsx(Ze,{handleChange:t=>{let n=t.target.value;debugger;let i=this.componentList.getComponent("sequence",n);this.dispatch({selectedSequence:i})},type:"select",textOptions:this.componentList.getList("sequence").map(t=>t.getJson().name),selectOptions:this.componentList.getList("sequence")}),"Select User",_.jsx(Ze,{handleChange:t=>{debugger;let n=t.target.value,i=this.componentList.getComponent("outreachUser",n);this.dispatch({selectedUser:i})},type:"select",textOptions:this.componentList.getList("outreachUser").map(t=>t.getJson().mailboxEmail),selectOptions:this.componentList.getList("outreachUser")}),_.jsx("div",{onClick:async()=>{debugger;const{selectedContacts:t=[],selectedUser:n,selectedSequence:i,currentUser:o}=this.propsState,l=n.getJson(),u=i.getJson();if(!Array.isArray(t)||t.length===0){console.error("No contacts selected to add.");return}if(!l||!u){console.error("User or sequence not selected.");return}const d={contacts:t.map(g=>({firstName:g.getJson().firstName,lastName:g.getJson().lastName,emails:[g.getJson().email],userId:l._id,company:g.getJson().company,mailboxId:l.mailboxId})),sequenceId:u._id};try{let g=this.propsState.currentUser.getJson().outreachAccessToken;const m=await fetch("https://createcontactsandenroll-7c5i3vsqma-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify(d)}),f=await m.json();if(!m.ok)throw f;console.log("✅ Contacts created & enrolled:",f),this.dispatch({popupSwitch:""})}catch(g){console.error("❌ Error adding to sequence:",g)}},className:"floating-select-btn-text",style:{color:"black"},children:"Add to Sequence"})]}):_.jsx(an,{name:"sequence",cells:[{type:"custom",custom:$6}]})]})}}class K6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}extractSubjectAndBody(e){const t=e.match(/^{{\s*([^}]+?)\s*}}/);let n="",i="";t?(n=t[1].trim(),i=e.slice(t[0].length).trim()):i=e.trim();const o=i.split(`

`).map(l=>`<p>${l.replace(/\n/g,"<br>")}</p>`).join(`
`);return{subject:n,body:o}}render(){this.props.obj;let e=_.jsx(ns,{formClass:"dark-button-1",content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc});return this.propsState.popupSwitch.includes("update")&&(e=_.jsx(Hv,{formClass:"dark-button-1",obj:this.propsState.currentPopupComponent,content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc})),_.jsxs("div",{style:{padding:"10px",paddingBottom:"100px"},className:this.props.pageClass||this.state.defaultClass,children:[_.jsxs("div",{style:{display:"flex",gap:"8px"},children:[_.jsx("div",{onClick:async()=>{try{const t=this.propsState.currentUser,n=this.propsState.currentSequence.getJson()._id,i=this.componentList.getList("step",n,"sequenceId");let o="template";const l={};if(i.length>0){const g=i[i.length-1];o="sequence",l.conversationHistory={lastSentEmail:g.getJson().content}}const u=await el.generateMessage(t,o,l),{subject:h,body:d}=el.extractSubjectAndBody(u);console.log("Generated Subject:",h),console.log("Generated Body:",d),this.propsState.currentPopupComponent.setCompState({content:d,subject:h}),this.dispatch({})}catch(t){console.error("Failed to draft with AI:",t),alert("An error occurred while generating the draft. Please check the console.")}},className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Draft With AI"}),_.jsx("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},onClick:()=>{this.setState({selectTemplate:!0})},children:"Select Template"})]}),this.state.selectTemplate&&_.jsx(an,{name:"template",filterFunc:t=>{var o;if(t.getJson().content===void 0||t.getJson().content==="")return!1;let n=!1;this.propsState.searchText||(n=!0);let i=this.propsState.searchText;return(o=t.getJson().content)!=null&&o.toLowerCase().includes(i==null?void 0:i.toLowerCase())&&(n=!0),n},cells:[{type:"custom",custom:I6}]}),_.jsx("br",{}),_.jsxs("div",{className:"content-home-add",children:[_.jsx("div",{className:"contact-contact-data",children:_.jsxs("div",{className:"row row-container",children:[_.jsx("div",{className:"row-name",style:{maxWidth:"fit-content"},children:"Subject:"}),_.jsx("div",{className:"row-field",children:_.jsx(Ze,{obj:this.propsState.currentPopupComponent,name:"subject",formClass:"underline-form"})})]})}),_.jsx("div",{className:"row",children:_.jsx(Ze,{type:"quill",obj:this.propsState.currentPopupComponent,name:"content",wrapperClass:"contentWrapper"})}),_.jsxs("div",{className:"row",children:[_.jsx("div",{children:"Trigger this step in:"}),_.jsx(Ze,{obj:this.propsState.currentPopupComponent,name:"nextSend",formClass:"underline-form",wrapperStyle:{width:"10%",marginRight:"8px",borderBottom:"1px solid rgb(212, 212, 212)"}})," days"]}),_.jsxs("div",{className:"row",children:[this.propsState.popupSwitch.includes("update")&&_.jsx(of,{obj:this.propsState.currentPopupComponent,formClass:"del-button-1",callbackFunc:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})}}),_.jsx("div",{className:"col hover-basic",style:{cursor:"pointer",width:"37px",height:"37px"},children:_.jsx(_9,{obj:this.propsState.currentPopupComponent,content:_.jsx("div",{style:{display:"flex",alignItems:"center",borderRadius:"50%",justifyContent:"center",fontSize:"19px",width:"37px",height:"37px",background:"#378c75",color:"#ade0d3"},children:_.jsx("div",{className:"icon-last",children:_.jsx("i",{className:"fa-solid fa-plus"})})})})}),_.jsx("div",{className:"col",children:e})]}),_.jsx("div",{})]})]})}}const NC="/assets/scailogofake-B3YGBRpn.png";class J6 extends MS{getHtml(){return _.jsxs("div",{className:"bottom-nav",children:[_.jsxs(Ht,{to:"/conversation",className:"bottom-nav-item",children:[_.jsx("i",{className:"fa-solid fa-message"}),_.jsx("span",{children:"Messages Beta"})]}),_.jsxs(Ht,{to:"/contacts",className:"bottom-nav-item",children:[_.jsx("i",{className:"fa-solid fa-address-book"}),_.jsx("span",{children:"Contacts"})]}),_.jsx("a",{href:"#",className:"bottom-nav-item",children:_.jsx("div",{id:"float-btn-plus",className:"float-btn",children:_.jsx("i",{className:"fas fa-plus"})})}),_.jsxs(Ht,{to:"/research",className:"bottom-nav-item",children:[_.jsx("i",{className:"fa-solid fa-graduation-cap"}),_.jsx("span",{children:"Research"})]}),_.jsxs(Ht,{to:"/content",className:"bottom-nav-item",children:[_.jsx("i",{className:"fa-solid fa-briefcase"}),_.jsx("span",{children:"Content"})]})]})}}class Q6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}async componentDidMount(){var e;if(this.propsState.currentUser.getJson().outreachio&&((e=this.componentList.getList("outreachUser"))==null?void 0:e.length)===0){let t=this.propsState.currentUser.getJson().outreachAccessToken;await fetch("https://getusersandmailboxes-7c5i3vsqma-uc.a.run.app",{headers:{Authorization:`Bearer ${t}`}}).then(n=>n.json()).then(async n=>{console.log(n);let i=n.users,o=n.mailboxes,l=i.map(m=>{let f=o.find(b=>b.attributes.email===m.attributes.email);return{_id:m.id.toString(),type:"outreachUser",mailboxId:f.id,type:"outreachUser",mailboxEmail:f.attributes.email}}),u=this.propsState.componentListInterface.getFactory(),d=[...this.componentList.getList("outreachUser")];for(let m of l){let f=await u.getComponent(m);d=[...d,f]}let g=d;this.componentList.setSelectedList("outreachUser",g),this.dispatch({outreachUsers:g})}),await fetch("https://getsequences-7c5i3vsqma-uc.a.run.app",{headers:{Authorization:`Bearer ${t}`}}).then(n=>n.json()).then(async n=>{console.log(n);let i=n.data.map(d=>({type:"sequence",_id:d.id.toString(),outreach:!0,outreach:"true",name:d.attributes.name,outreachSequenceId:d.attributes.id}));debugger;let o=this.propsState.componentListInterface.getFactory(),u=[...this.componentList.getList("sequence").filter(d=>d.getJson().outreach===void 0)];for(let d of i){let g=await o.getComponent(d);u=[...u,g]}let h=u;this.componentList.setSelectedList("sequence",h),this.dispatch({outreachSequences:h})})}}render(){const e=this.propsState.currentPopupComponent;let t=this.propsState.currentPopupComponent.getJson().date?"Edit":"Add",n=this.propsState.currentPopupComponent.getJson().date?_.jsx(Hv,{formClass:"dark-button-1",obj:this.propsState.currentPopupComponent,content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc}):_.jsx(ns,{formClass:"dark-button-1",content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc});return _.jsxs("div",{style:{padding:"10px",paddingBottom:"100px",height:"100%"},className:this.props.pageClass||this.state.defaultClass,children:[_.jsxs("h2",{children:[t," Research Prompt"]})," ",_.jsxs("div",{className:"contact-contact-data",style:{padding:"10px",background:"rgb(245, 244, 244)",borderRadius:"12px"},children:[_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Profile Name:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(Ze,{obj:e,placeholder:"ie: Daily Research",name:"name",inPopup:!0})," "]})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Search Frequency:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(Ze,{obj:e,placeholder:"How often do you want new research results?",name:"searchFrequency",type:"select",inPopup:!0,selectOptions:["Daily","Weekly","Monthly"]})," "]})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Description:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(Ze,{obj:e,placeholder:"Describe your target prospect. “I.e. Research VP of Sales at Tech Companies with less than 100M in sales”",name:"AIPrompt",inPopup:!0})," "]})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Source:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(Ze,{obj:e,placeholder:"What Sources?",name:"displayDataSrc",type:"select",inPopup:!0,selectOptions:["existing","newData","both"],handleChange:i=>{let o=i.target.value;o==="both"?o=["existing","newData"]:o=[o],this.propsState.currentPopupComponent.setCompState({getDataFrom:o,displayDataSrc:i.target.value})}})]})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Keywords:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(Ze,{obj:e,placeholder:"Which keywords are in the title of the prospects you are seeking?",name:"keywords",inPopup:!0})," "]})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Company Size by Revenue:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(Ze,{obj:e,name:"companySizebyRevenue",inPopup:!0})," "]})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Company Size by # of Employees:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(Ze,{obj:e,name:"companySizebyEmployees",inPopup:!0})," "]})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Geographic Location:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(Ze,{obj:e,name:"location",inPopup:!0})," "]})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Decision Making Level:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(Ze,{obj:e,placeholder:"Any, Non-Manager, Manager, Director, VP, C-Level",name:"contactLevel",inPopup:!0,type:"select",selectOptions:["Any","Non-Manager","Director","VP","C-Level"]})," "]})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Department:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(Ze,{obj:e,placeholder:"i.e. IT, HR, Sales, Marketing etc.",name:"department",inPopup:!0})," "]})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Industry:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(Ze,{obj:e,placeholder:"i.e. Technology, software, SAAS",name:"industry",inPopup:!0})," "]})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Disqualifiers:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(Ze,{obj:e,placeholder:"Describe any characteristics, titles, or companies, that you specifically do not want included in the data results. ",name:"disqualifiers",inPopup:!0})," "]})]}),this.propsState.currentUser.getJson().outreachio&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Select Sequence:"}),_.jsx("div",{className:"row-field",style:{width:"100%"},children:_.jsx(Ze,{name:"sequenceDisplay",handleChange:i=>{debugger;let o=i.target.value,l=this.componentList.getComponent("sequence",o,"name");e.setCompState({outreachSequenceId:l.getJson()._id,sequenceDisplay:i.target.value}),this.dispatch({})},obj:e,type:"select",selectOptions:this.componentList.getList("sequence").map(i=>i.getJson().name)})})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Select User:"}),_.jsx("div",{className:"row-field",style:{width:"100%"},children:_.jsx(Ze,{obj:e,type:"select",name:"outreachUserDisplay",handleChange:i=>{debugger;let o=i.target.value,l=this.componentList.getComponent("outreachUser",o,"mailboxEmail");e.setCompState({outreachUserId:l.getJson()._id,outreachUserDisplay:i.target.value}),this.dispatch({})},selectOptions:this.componentList.getList("outreachUser").map(i=>i.getJson().mailboxEmail)})})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Automatic:"}),_.jsx("div",{className:"row-field",style:{width:"100%"},children:_.jsx(Ze,{obj:e,type:"select",handleChange:i=>{let l=i.target.value==="Yes";e.setCompState({autoSequence:l,autoSequenceDisplay:i.target.value})},name:"autoSequenceDisplay",selectOptions:["Yes","No"]})})]})]}),_.jsxs("div",{style:{height:"fit-content",display:"flex",justifyContent:"flex-end",alignSelf:"flex-end",position:"absolute",bottom:20,right:20,borderRadius:"12px"},children:[this.propsState.currentPopupComponent.getJson().date&&_.jsx(of,{obj:this.propsState.currentPopupComponent,isPopup:!0,inPopup:!0,callbackFunc:()=>{this.dispatch({currentPopupComponent:void 0,popupSwitch:""})},formClass:"dark-button-1",content:"Delete"})," ",_.jsxs("div",{children:[" ",n]})]})]})]})}}class Y6 extends KS{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}componentDidMount(){var e,t;(t=this.propsState.currentPopupComponent)==null||t.setCompState({conversationId:(e=this.propsState.currentConversation)==null?void 0:e.getJson()._id,originalMessageId:!1,ownerMessage:!0}),this.setState({email:this.propsState.currentPopupComponent})}componentDidUpdate(){}extractSubjectAndBody(e){const t=e.match(/^{{\s*([^}]+?)\s*}}/);let n="",i="";t?(n=t[1].trim(),i=e.slice(t[0].length).trim()):i=e.trim();const o=i.split(`

`).map(l=>`<p>${l.replace(/\n/g,"<br>")}</p>`).join(`
`);return{subject:n,body:o}}render(){var n;const e=this.props.obj;let t=_.jsx(ns,{formClass:"dark-button-1",content:_.jsx("div",{children:"Send"}),callbackFunc:()=>{let i=this.state.email,o={from:this.propsState.currentUser.getJson()._id,to:this.propsState.currentConversation.getJson().contact,subject:i.getJson().subject,text:i.getJson().body},l=this.propsState.currentUser.getJson().gmailAuthenticated?"https://gmailapiemailhandler-7c5i3vsqma-uc.a.run.app":"https://sendgridemailhandler-7c5i3vsqma-uc.a.run.app";fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(u=>{if(!u.ok)throw new Error(`HTTP error! Status: ${u.status}`);return u.json()}).then(u=>{console.log("Reply sent successfully in thread.",u)}).catch(u=>{console.error("Error sending reply:",u)}),this.dispatch({currentPopupComponent:void 0,popupSwitch:""})}});return _.jsxs("div",{style:{padding:"10px",paddingBottom:"100px",height:"100%"},className:this.props.pageClass||this.state.defaultClass,children:[_.jsx("div",{onClick:async()=>{try{const i=this.propsState.currentUser,o="template",l={},u=await el.generateMessage(i,o,l),{subject:h,body:d}=el.extractSubjectAndBody(u);this.propsState.currentPopupComponent.setCompState({body:d,subject:h}),this.dispatch({})}catch(i){console.error("Failed to draft with AI:",i),alert("An error occurred while generating the draft. Please check the console.")}},className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Draft With AI"}),_.jsx("h2",{children:"Email"})," ",_.jsxs("div",{className:"contact-Add-container",children:[_.jsxs("div",{className:"row",children:[_.jsx("div",{children:"To:"}),_.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ",(n=this.propsState.currentConversation)==null?void 0:n.getJson().contactName]})]}),_.jsxs("div",{className:"row",children:[_.jsx("div",{children:"From:"}),_.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ","Me"]})]}),_.jsxs("div",{className:"row",children:[_.jsx("div",{children:"Subject:"}),_.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ",_.jsx(Ze,{formClass:"underline-form",obj:e,name:"subject",inPopup:!0})," "]})]}),_.jsx("div",{children:_.jsxs("div",{style:{width:"100%"},children:[" ",_.jsx(Ze,{obj:e,type:"quill",name:"body",inPopup:!0})," "]})}),_.jsxs("div",{style:{width:"100%",background:"white",display:"flex",justifyContent:"flex-end",alignContent:"flex-end"},children:[" ",_.jsxs("div",{style:{marginRight:"-10px"},children:[" ",t]})]})]})]})}}class X6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}render(){return _.jsxs("div",{style:{padding:"18px",paddingBottom:"100px",height:"100%"},className:this.props.pageClass||this.state.defaultClass,children:[_.jsx("h2",{style:{font:"normal normal 900 18px/25px Satoshi"},children:"Add Tags to Selected"}),_.jsx("div",{className:"contact-contact-data",style:{marginTop:"8%",padding:"24px",border:"none",background:"#f0f0f0"},children:_.jsxs("div",{className:"row-container",children:[_.jsx("div",{className:"row-name",style:{maxWidth:"fit-content"},children:"Tags:"}),_.jsx("div",{className:"row-field",children:_.jsx("input",{class:"underline-form",onChange:e=>{let{value:t}=e.target;this.setState({tags:t})}})})]})}),_.jsx("div",{class:"dark-button-1",style:{justifySelf:"flex-end",marginTop:"20px"},onClick:async()=>{for(let e of this.propsState.selectedContacts){let t=e.getJson().tags||"";t=t.length===0?this.state.tags:","+this.state.tags,await e.setCompState({tags:t}),e.update()}this.dispatch({popupSwitch:""})},children:"Save"})]})}}class Z6 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return _.jsxs(_.Fragment,{children:[_.jsx(Ze,{obj:this.propsState.currentPopupComponent,name:"_id",inPopup:!0}),_.jsx(Ze,{obj:this.propsState.currentPopupComponent,name:"email",inPopup:!0}),_.jsx(Ze,{obj:this.propsState.currentPopupComponent,name:"collection",inPopup:!0}),_.jsx(Ze,{obj:this.propsState.currentPopupComponent,name:"owner",inPopup:!0}),_.jsx(ns,{content:"save",callbackFunc:async()=>{let e=this.propsState.currentPopupComponent;await e.setCompState({clientId:this.propsState.currentClient.getJson()._id},{run:!0}),await this.operationsFactory.prepare({prepare:[{type:"aiSettings",owner:e.getJson()._id},{type:"limit",owner:e.getJson()._id}]}),this.operationsFactory.run(),this.dispatch({currentPopupComponent:void 0,popupSwitch:""})}})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class eM extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}render(){var t;const{sequence:e}=this.propsState;return _.jsxs("div",{style:{padding:"18px",paddingBottom:"100px",height:"100%"},className:this.props.pageClass||this.state.defaultClass,children:[_.jsx("h2",{style:{font:"normal normal 900 18px/25px Satoshi"},children:"Delete Sequence"}),_.jsx("div",{style:{marginTop:"8%",padding:"24px",border:"none",background:"#f0f0f0"},children:_.jsxs("p",{children:["Are you sure you want to delete the sequence ",_.jsx("strong",{children:((t=this.propsState.delSequence)==null?void 0:t.getJson().name)||"this"}),"? This action cannot be undone."]})}),_.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"20px"},children:[_.jsx("div",{className:"dark-button-1",onClick:()=>{this.dispatch({popupSwitch:"",delSequence:void 0})},children:"Cancel"}),_.jsx(of,{obj:this.propsState.delSequence,content:"Delete",inPopup:!0,isPopup:!0,callbackFunc:()=>{this.dispatch({popupSwitch:"",delSequence:void 0})},className:"dark-button-1 del-button-red"})]})]})}}const tM="/assets/LogoGreen-BKvA74vO.svg";class OC extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}componentWillUnmount(){this.operationsFactory.clear(),this.dispatch({currentComponent:void 0})}getInnerContent(){let e=window.innerWidth>600;return _.jsx("div",{className:"layoutRow",style:{width:"100%",height:"100%",padding:"12px"},children:_.jsxs("div",{className:"layoutColumn-welcome",children:[_.jsx("img",{src:tM,style:{width:"50%",marginBottom:"40px"}}),_.jsxs("div",{children:[_.jsx("span",{style:{fontWeight:"900",fontSize:"2em",color:"#323232"},children:"Welcome to SalesCapture AI"}),_.jsx("div",{style:{marginTop:"20px"},children:"Leverage the power of AI to supercharge your sales process"})]}),_.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:e?"row":"column",gap:"1em",marginTop:"30px"},children:[_.jsxs("div",{className:"opener-page-card",children:[_.jsx("div",{style:{maxWidth:"45px",maxHeight:"45px",fontSize:"3em",color:"var(--app-green-3)"},children:_.jsx("i",{class:"fa-solid fa-magnifying-glass"})}),_.jsx("div",{className:"main-title",children:"Research Agent"}),_.jsx("div",{className:"main-message",children:"Identify the next best salees targets"}),_.jsx(Ht,{to:"/research",className:"inLine-Link",children:_.jsx("div",{children:"Go to Research"})})]}),_.jsxs("div",{className:"opener-page-card",children:[_.jsx("div",{style:{maxWidth:"45px",maxHeight:"45px",fontSize:"3em",color:"var(--app-green-3)"},children:_.jsx("i",{class:"fa-solid fa-file-contract"})}),_.jsx("div",{className:"main-title",children:"Content Engine"}),_.jsx("div",{className:"main-message",children:"Quickly generate effective sales content"}),_.jsx(Ht,{to:"/content",className:"inLine-Link",children:"Create Content"})," "]}),_.jsxs("div",{className:"opener-page-card",children:[_.jsx("div",{style:{maxWidth:"45px",maxHeight:"45px",fontSize:"3em",color:"var(--app-green-3)"},children:_.jsx("i",{class:"fa-solid fa-envelope-circle-check"})}),_.jsx("div",{className:"main-title",children:"Automated BDR"}),_.jsx("div",{className:"main-message",children:"Engage prospects with outbound campaigns"}),_.jsx(Ht,{to:"/contacts",className:"inLine-Link",children:"Start Campaign"})," "]})]})]})})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class nM extends qB{constructor(e){super(e,{db:t5,endpoint:"salescaptureAI",auth:n5,storage:e5}),this.popupComponents={contact:Cd,step:K6,research:Q6,email:Y6,user:Z6},this.popupComponentsProps={},Ed.getFactory().registerComponent("bottomNavMap",J6),this.state={...this.state,navBarProps:{mapType:window.innerWidth<1e3?"bottomNavMap":void 0,type:window.innerWidth<1e3?"topBar":void 0,style:{backgroundColor:"#35b593",color:"white",fontFamily:"'Satoshi-Variable', sans-serif"},cardStyle:{backgroundColor:"#35b593",position:window.innerWidth<1e3&&"absolute",bottom:window.innerWidth<1e3&&"0px",fontFamily:"'Satoshi-Variable', sans-serif"},logoURL:window.innerWidth>1e3&&NC,linkItemStyle:{color:"white",fontFamily:"'Satoshi-Variable', sans-serif"}},routes:[{comp:OC,name:"Home",path:"/"},{comp:PC,name:"Messages Beta",path:"conversation"},{comp:bC,name:"Contacts",path:"contacts"},{comp:SC,name:"Research",path:"research",idComp:RC},{comp:TC,name:"Content",path:"content"},{comp:IC,name:"Settings",path:"settings"},{comp:Rh,name:"",path:"sequence",idComp:Rh},{comp:Ph,name:"",path:"template",idComp:Ph},{comp:DC,name:"",path:"client",idComp:DC},{comp:H6,name:"Admin",path:"admin"},{comp:kC,name:"",path:"user",idComp:kC}],refresh:!0,popups:[{content:G6,popupSwitch:"addToSequence"},{content:X6,popupSwitch:"addTags"},{content:eM,popupSwitch:"delSequence"},{content:Cd,popupSwitch:"viewPotentialProspect"}]},this.registerListWithFactory([...Object.values(s6)]);let t=Ed.getNavList();t.update(0,{class:"SCAILogo"}),t.update(1,{activeClass:"SCAILink"}),window.innerWidth<1e3&&(t.remove(2),t.remove(0))}componentDidMount(){super.componentDidMount();let e=document.getElementById("signUpFT");e&&(e.style.display="none");const t="data-login-img-inserted",n=()=>{const l=document.querySelectorAll('h1, h2, h3, [role="heading"]');return Array.from(l).find(u=>/login/i.test(u.textContent.trim()))},i=()=>{const l=n();if(!l)return!1;const u=l.parentElement;if(!u||u.hasAttribute(t))return!1;const h=document.createElement("img");return h.src=NC,h.alt="Login icon",h.style.display="block",h.style.borderRadius="15px",h.style.marginBottom="15px",h.style.width="200px",h.style.padding="10px",u.insertBefore(h,l),u.setAttribute(t,"true"),!0};if(i())return;const o=new MutationObserver(()=>{i()&&o.disconnect()});o.observe(document.body,{childList:!0,subtree:!0})}componentDidUpdate(e,t){this.state.gotUser&&this.state.refresh&&this.state.currentUser.getJson()._id!=="alan@salescapture.com"&&this.dispatch({refresh:!1,routes:[{comp:OC,name:"Home",path:"/"},{comp:PC,name:"Messages",path:"conversation"},{comp:bC,name:"Contacts",path:"contacts"},{comp:SC,name:"Research",path:"research",idComp:RC},{comp:TC,name:"Content",path:"content"},{comp:IC,name:"Settings",path:"settings"},{comp:Rh,name:"",path:"sequence",idComp:Rh},{comp:Ph,name:"",path:"template",idComp:Ph}]})}}aI.createRoot(document.getElementById("root")).render(_.jsx(ve.StrictMode,{children:_.jsx(nM,{})}));
