var rT=Object.defineProperty;var iT=(r,e,t)=>e in r?rT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var he=(r,e,t)=>iT(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ah(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ad={exports:{}},au={},Cd={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function sT(){if(b2)return nt;b2=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function p(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function w(B,V,z){this.props=B,this.context=V,this.refs=C,this.updater=z||v}w.prototype.isReactComponent={},w.prototype.setState=function(B,V){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,V,"setState")},w.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function E(){}E.prototype=w.prototype;function S(B,V,z){this.props=B,this.context=V,this.refs=C,this.updater=z||v}var O=S.prototype=new E;O.constructor=S,A(O,w.prototype),O.isPureReactComponent=!0;var b=Array.isArray,M=Object.prototype.hasOwnProperty,q={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function _(B,V,z){var ee,Z={},G=null,Q=null;if(V!=null)for(ee in V.ref!==void 0&&(Q=V.ref),V.key!==void 0&&(G=""+V.key),V)M.call(V,ee)&&!R.hasOwnProperty(ee)&&(Z[ee]=V[ee]);var te=arguments.length-2;if(te===1)Z.children=z;else if(1<te){for(var ie=Array(te),fe=0;fe<te;fe++)ie[fe]=arguments[fe+2];Z.children=ie}if(B&&B.defaultProps)for(ee in te=B.defaultProps,te)Z[ee]===void 0&&(Z[ee]=te[ee]);return{$$typeof:r,type:B,key:G,ref:Q,props:Z,_owner:q.current}}function D(B,V){return{$$typeof:r,type:B.type,key:V,ref:B.ref,props:B.props,_owner:B._owner}}function x(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function I(B){var V={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(z){return V[z]})}var P=/\/+/g;function N(B,V){return typeof B=="object"&&B!==null&&B.key!=null?I(""+B.key):V.toString(36)}function W(B,V,z,ee,Z){var G=typeof B;(G==="undefined"||G==="boolean")&&(B=null);var Q=!1;if(B===null)Q=!0;else switch(G){case"string":case"number":Q=!0;break;case"object":switch(B.$$typeof){case r:case e:Q=!0}}if(Q)return Q=B,Z=Z(Q),B=ee===""?"."+N(Q,0):ee,b(Z)?(z="",B!=null&&(z=B.replace(P,"$&/")+"/"),W(Z,V,z,"",function(fe){return fe})):Z!=null&&(x(Z)&&(Z=D(Z,z+(!Z.key||Q&&Q.key===Z.key?"":(""+Z.key).replace(P,"$&/")+"/")+B)),V.push(Z)),1;if(Q=0,ee=ee===""?".":ee+":",b(B))for(var te=0;te<B.length;te++){G=B[te];var ie=ee+N(G,te);Q+=W(G,V,z,ie,Z)}else if(ie=p(B),typeof ie=="function")for(B=ie.call(B),te=0;!(G=B.next()).done;)G=G.value,ie=ee+N(G,te++),Q+=W(G,V,z,ie,Z);else if(G==="object")throw V=String(B),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Q}function J(B,V,z){if(B==null)return B;var ee=[],Z=0;return W(B,ee,"","",function(G){return V.call(z,G,Z++)}),ee}function se(B){if(B._status===-1){var V=B._result;V=V(),V.then(function(z){(B._status===0||B._status===-1)&&(B._status=1,B._result=z)},function(z){(B._status===0||B._status===-1)&&(B._status=2,B._result=z)}),B._status===-1&&(B._status=0,B._result=V)}if(B._status===1)return B._result.default;throw B._result}var X={current:null},re={transition:null},$={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:re,ReactCurrentOwner:q};function H(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:J,forEach:function(B,V,z){J(B,function(){V.apply(this,arguments)},z)},count:function(B){var V=0;return J(B,function(){V++}),V},toArray:function(B){return J(B,function(V){return V})||[]},only:function(B){if(!x(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},nt.Component=w,nt.Fragment=t,nt.Profiler=i,nt.PureComponent=S,nt.StrictMode=n,nt.Suspense=h,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,nt.act=H,nt.cloneElement=function(B,V,z){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ee=A({},B.props),Z=B.key,G=B.ref,Q=B._owner;if(V!=null){if(V.ref!==void 0&&(G=V.ref,Q=q.current),V.key!==void 0&&(Z=""+V.key),B.type&&B.type.defaultProps)var te=B.type.defaultProps;for(ie in V)M.call(V,ie)&&!R.hasOwnProperty(ie)&&(ee[ie]=V[ie]===void 0&&te!==void 0?te[ie]:V[ie])}var ie=arguments.length-2;if(ie===1)ee.children=z;else if(1<ie){te=Array(ie);for(var fe=0;fe<ie;fe++)te[fe]=arguments[fe+2];ee.children=te}return{$$typeof:r,type:B.type,key:Z,ref:G,props:ee,_owner:Q}},nt.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},nt.createElement=_,nt.createFactory=function(B){var V=_.bind(null,B);return V.type=B,V},nt.createRef=function(){return{current:null}},nt.forwardRef=function(B){return{$$typeof:c,render:B}},nt.isValidElement=x,nt.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:se}},nt.memo=function(B,V){return{$$typeof:d,type:B,compare:V===void 0?null:V}},nt.startTransition=function(B){var V=re.transition;re.transition={};try{B()}finally{re.transition=V}},nt.unstable_act=H,nt.useCallback=function(B,V){return X.current.useCallback(B,V)},nt.useContext=function(B){return X.current.useContext(B)},nt.useDebugValue=function(){},nt.useDeferredValue=function(B){return X.current.useDeferredValue(B)},nt.useEffect=function(B,V){return X.current.useEffect(B,V)},nt.useId=function(){return X.current.useId()},nt.useImperativeHandle=function(B,V,z){return X.current.useImperativeHandle(B,V,z)},nt.useInsertionEffect=function(B,V){return X.current.useInsertionEffect(B,V)},nt.useLayoutEffect=function(B,V){return X.current.useLayoutEffect(B,V)},nt.useMemo=function(B,V){return X.current.useMemo(B,V)},nt.useReducer=function(B,V,z){return X.current.useReducer(B,V,z)},nt.useRef=function(B){return X.current.useRef(B)},nt.useState=function(B){return X.current.useState(B)},nt.useSyncExternalStore=function(B,V,z){return X.current.useSyncExternalStore(B,V,z)},nt.useTransition=function(){return X.current.useTransition()},nt.version="18.3.1",nt}var T2;function uh(){return T2||(T2=1,Cd.exports=sT()),Cd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S2;function oT(){if(S2)return au;S2=1;var r=uh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(c,h,d){var y,g={},p=null,v=null;d!==void 0&&(p=""+d),h.key!==void 0&&(p=""+h.key),h.ref!==void 0&&(v=h.ref);for(y in h)n.call(h,y)&&!a.hasOwnProperty(y)&&(g[y]=h[y]);if(c&&c.defaultProps)for(y in h=c.defaultProps,h)g[y]===void 0&&(g[y]=h[y]);return{$$typeof:e,type:c,key:p,ref:v,props:g,_owner:i.current}}return au.Fragment=t,au.jsx=u,au.jsxs=u,au}var D2;function aT(){return D2||(D2=1,Ad.exports=oT()),Ad.exports}var k=aT(),ye=uh();const lh=ah(ye);var dc={},bd={exports:{}},In={},Td={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x2;function uT(){return x2||(x2=1,function(r){function e(re,$){var H=re.length;re.push($);e:for(;0<H;){var B=H-1>>>1,V=re[B];if(0<i(V,$))re[B]=$,re[H]=V,H=B;else break e}}function t(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var $=re[0],H=re.pop();if(H!==$){re[0]=H;e:for(var B=0,V=re.length,z=V>>>1;B<z;){var ee=2*(B+1)-1,Z=re[ee],G=ee+1,Q=re[G];if(0>i(Z,H))G<V&&0>i(Q,Z)?(re[B]=Q,re[G]=H,B=G):(re[B]=Z,re[ee]=H,B=ee);else if(G<V&&0>i(Q,H))re[B]=Q,re[G]=H,B=G;else break e}}return $}function i(re,$){var H=re.sortIndex-$.sortIndex;return H!==0?H:re.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();r.unstable_now=function(){return u.now()-c}}var h=[],d=[],y=1,g=null,p=3,v=!1,A=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(re){for(var $=t(d);$!==null;){if($.callback===null)n(d);else if($.startTime<=re)n(d),$.sortIndex=$.expirationTime,e(h,$);else break;$=t(d)}}function b(re){if(C=!1,O(re),!A)if(t(h)!==null)A=!0,se(M);else{var $=t(d);$!==null&&X(b,$.startTime-re)}}function M(re,$){A=!1,C&&(C=!1,E(_),_=-1),v=!0;var H=p;try{for(O($),g=t(h);g!==null&&(!(g.expirationTime>$)||re&&!I());){var B=g.callback;if(typeof B=="function"){g.callback=null,p=g.priorityLevel;var V=B(g.expirationTime<=$);$=r.unstable_now(),typeof V=="function"?g.callback=V:g===t(h)&&n(h),O($)}else n(h);g=t(h)}if(g!==null)var z=!0;else{var ee=t(d);ee!==null&&X(b,ee.startTime-$),z=!1}return z}finally{g=null,p=H,v=!1}}var q=!1,R=null,_=-1,D=5,x=-1;function I(){return!(r.unstable_now()-x<D)}function P(){if(R!==null){var re=r.unstable_now();x=re;var $=!0;try{$=R(!0,re)}finally{$?N():(q=!1,R=null)}}else q=!1}var N;if(typeof S=="function")N=function(){S(P)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=P,N=function(){J.postMessage(null)}}else N=function(){w(P,0)};function se(re){R=re,q||(q=!0,N())}function X(re,$){_=w(function(){re(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){A||v||(A=!0,se(M))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_getFirstCallbackNode=function(){return t(h)},r.unstable_next=function(re){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var H=p;p=$;try{return re()}finally{p=H}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,$){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var H=p;p=re;try{return $()}finally{p=H}},r.unstable_scheduleCallback=function(re,$,H){var B=r.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?B+H:B):H=B,re){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=H+V,re={id:y++,callback:$,priorityLevel:re,startTime:H,expirationTime:V,sortIndex:-1},H>B?(re.sortIndex=H,e(d,re),t(h)===null&&re===t(d)&&(C?(E(_),_=-1):C=!0,X(b,H-B))):(re.sortIndex=V,e(h,re),A||v||(A=!0,se(M))),re},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(re){var $=p;return function(){var H=p;p=$;try{return re.apply(this,arguments)}finally{p=H}}}}(Sd)),Sd}var I2;function lT(){return I2||(I2=1,Td.exports=uT()),Td.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2;function cT(){if(k2)return In;k2=1;var r=uh(),e=lT();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)n.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function p(s){return h.call(g,s)?!0:h.call(y,s)?!1:d.test(s)?g[s]=!0:(y[s]=!0,!1)}function v(s,o,l,m){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,o,l,m){if(o===null||typeof o>"u"||v(s,o,l,m))return!0;if(m)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(s,o,l,m,T,F,U){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=T,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=F,this.removeEmptyString=U}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){w[s]=new C(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];w[o]=new C(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){w[s]=new C(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){w[s]=new C(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){w[s]=new C(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){w[s]=new C(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){w[s]=new C(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){w[s]=new C(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){w[s]=new C(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function S(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(E,S);w[o]=new C(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(E,S);w[o]=new C(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(E,S);w[o]=new C(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){w[s]=new C(s,1,!1,s.toLowerCase(),null,!1,!1)}),w.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){w[s]=new C(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,o,l,m){var T=w.hasOwnProperty(o)?w[o]:null;(T!==null?T.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,l,T,m)&&(l=null),m||T===null?p(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):T.mustUseProperty?s[T.propertyName]=l===null?T.type===3?!1:"":l:(o=T.attributeName,m=T.attributeNamespace,l===null?s.removeAttribute(o):(T=T.type,l=T===3||T===4&&l===!0?"":""+l,m?s.setAttributeNS(m,o,l):s.setAttribute(o,l))))}var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),q=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),I=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),re=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var H=Object.assign,B;function V(s){if(B===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var z=!1;function ee(s,o){if(!s||z)return"";z=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(pe){var m=pe}Reflect.construct(s,[],o)}else{try{o.call()}catch(pe){m=pe}s.call(o.prototype)}else{try{throw Error()}catch(pe){m=pe}s()}}catch(pe){if(pe&&m&&typeof pe.stack=="string"){for(var T=pe.stack.split(`
`),F=m.stack.split(`
`),U=T.length-1,Y=F.length-1;1<=U&&0<=Y&&T[U]!==F[Y];)Y--;for(;1<=U&&0<=Y;U--,Y--)if(T[U]!==F[Y]){if(U!==1||Y!==1)do if(U--,Y--,0>Y||T[U]!==F[Y]){var ne=`
`+T[U].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=U&&0<=Y);break}}}finally{z=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?V(s):""}function Z(s){switch(s.tag){case 5:return V(s.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return s=ee(s.type,!1),s;case 11:return s=ee(s.type.render,!1),s;case 1:return s=ee(s.type,!0),s;default:return""}}function G(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case q:return"Portal";case D:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case I:return(s.displayName||"Context")+".Consumer";case x:return(s._context.displayName||"Context")+".Provider";case P:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case J:return o=s.displayName||null,o!==null?o:G(s.type)||"Memo";case se:o=s._payload,s=s._init;try{return G(s(o))}catch{}}return null}function Q(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(o);case 8:return o===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ie(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function fe(s){var o=ie(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),m=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var T=l.get,F=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return T.call(this)},set:function(U){m=""+U,F.call(this,U)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return m},setValue:function(U){m=""+U},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ge(s){s._valueTracker||(s._valueTracker=fe(s))}function xe(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),m="";return s&&(m=ie(s)?s.checked?"true":"false":s.value),s=m,s!==l?(o.setValue(s),!0):!1}function Ie(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ke(s,o){var l=o.checked;return H({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Re(s,o){var l=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;l=te(o.value!=null?o.value:l),s._wrapperState={initialChecked:m,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Be(s,o){o=o.checked,o!=null&&O(s,"checked",o,!1)}function et(s,o){Be(s,o);var l=te(o.value),m=o.type;if(l!=null)m==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?de(s,o.type,l):o.hasOwnProperty("defaultValue")&&de(s,o.type,te(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function le(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function de(s,o,l){(o!=="number"||Ie(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Ee=Array.isArray;function Se(s,o,l,m){if(s=s.options,o){o={};for(var T=0;T<l.length;T++)o["$"+l[T]]=!0;for(l=0;l<s.length;l++)T=o.hasOwnProperty("$"+s[l].value),s[l].selected!==T&&(s[l].selected=T),T&&m&&(s[l].defaultSelected=!0)}else{for(l=""+te(l),o=null,T=0;T<s.length;T++){if(s[T].value===l){s[T].selected=!0,m&&(s[T].defaultSelected=!0);return}o!==null||s[T].disabled||(o=s[T])}o!==null&&(o.selected=!0)}}function ve(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return H({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ge(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Ee(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:te(l)}}function Me(s,o){var l=te(o.value),m=te(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),m!=null&&(s.defaultValue=""+m)}function Ve(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function $e(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?$e(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Xe,er=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,m,T){MSApp.execUnsafeLocalFunction(function(){return s(o,l,m,T)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Xe=Xe||document.createElement("div"),Xe.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Xe.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ct(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var Ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ht=["Webkit","ms","Moz","O"];Object.keys(Ct).forEach(function(s){Ht.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ct[o]=Ct[s]})});function tr(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Ct.hasOwnProperty(s)&&Ct[s]?(""+o).trim():o+"px"}function Ei(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var m=l.indexOf("--")===0,T=tr(l,o[l],m);l==="float"&&(l="cssFloat"),m?s.setProperty(l,T):s[l]=T}}var wa=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ea(s,o){if(o){if(wa[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Aa(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ms=null;function to(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var no=null,zn=null,Ar=null;function ro(s){if(s=$a(s)){if(typeof no!="function")throw Error(t(280));var o=s.stateNode;o&&(o=xl(o),no(s.stateNode,s.type,o))}}function Cr(s){zn?Ar?Ar.push(s):Ar=[s]:zn=s}function Ca(){if(zn){var s=zn,o=Ar;if(Ar=zn=null,ro(s),o)for(s=0;s<o.length;s++)ro(o[s])}}function gs(s,o){return s(o)}function ba(){}var Gr=!1;function Ta(s,o,l){if(Gr)return s(o,l);Gr=!0;try{return gs(s,o,l)}finally{Gr=!1,(zn!==null||Ar!==null)&&(ba(),Ca())}}function Pt(s,o){var l=s.stateNode;if(l===null)return null;var m=xl(l);if(m===null)return null;l=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var io=!1;if(c)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){io=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{io=!1}function ys(s,o,l,m,T,F,U,Y,ne){var pe=Array.prototype.slice.call(arguments,3);try{o.apply(l,pe)}catch(Ce){this.onError(Ce)}}var vs=!1,so=null,rr=!1,Sa=null,Jh={onError:function(s){vs=!0,so=s}};function oo(s,o,l,m,T,F,U,Y,ne){vs=!1,so=null,ys.apply(Jh,arguments)}function Xu(s,o,l,m,T,F,U,Y,ne){if(oo.apply(this,arguments),vs){if(vs){var pe=so;vs=!1,so=null}else throw Error(t(198));rr||(rr=!0,Sa=pe)}}function ir(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function _s(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function sr(s){if(ir(s)!==s)throw Error(t(188))}function el(s){var o=s.alternate;if(!o){if(o=ir(s),o===null)throw Error(t(188));return o!==s?null:s}for(var l=s,m=o;;){var T=l.return;if(T===null)break;var F=T.alternate;if(F===null){if(m=T.return,m!==null){l=m;continue}break}if(T.child===F.child){for(F=T.child;F;){if(F===l)return sr(T),s;if(F===m)return sr(T),o;F=F.sibling}throw Error(t(188))}if(l.return!==m.return)l=T,m=F;else{for(var U=!1,Y=T.child;Y;){if(Y===l){U=!0,l=T,m=F;break}if(Y===m){U=!0,m=T,l=F;break}Y=Y.sibling}if(!U){for(Y=F.child;Y;){if(Y===l){U=!0,l=F,m=T;break}if(Y===m){U=!0,m=F,l=T;break}Y=Y.sibling}if(!U)throw Error(t(189))}}if(l.alternate!==m)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:o}function Da(s){return s=el(s),s!==null?ao(s):null}function ao(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=ao(s);if(o!==null)return o;s=s.sibling}return null}var uo=e.unstable_scheduleCallback,xa=e.unstable_cancelCallback,tl=e.unstable_shouldYield,Qh=e.unstable_requestPaint,mt=e.unstable_now,nl=e.unstable_getCurrentPriorityLevel,ws=e.unstable_ImmediatePriority,Ai=e.unstable_UserBlockingPriority,Hn=e.unstable_NormalPriority,Ia=e.unstable_LowPriority,rl=e.unstable_IdlePriority,Es=null,On=null;function il(s){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(Es,s,void 0,(s.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:ol,ka=Math.log,sl=Math.LN2;function ol(s){return s>>>=0,s===0?32:31-(ka(s)/sl|0)|0}var lo=64,co=4194304;function Ci(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function As(s,o){var l=s.pendingLanes;if(l===0)return 0;var m=0,T=s.suspendedLanes,F=s.pingedLanes,U=l&268435455;if(U!==0){var Y=U&~T;Y!==0?m=Ci(Y):(F&=U,F!==0&&(m=Ci(F)))}else U=l&~T,U!==0?m=Ci(U):F!==0&&(m=Ci(F));if(m===0)return 0;if(o!==0&&o!==m&&(o&T)===0&&(T=m&-m,F=o&-o,T>=F||T===16&&(F&4194240)!==0))return o;if((m&4)!==0&&(m|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=m;0<o;)l=31-fn(o),T=1<<l,m|=s[l],o&=~T;return m}function Yh(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(s,o){for(var l=s.suspendedLanes,m=s.pingedLanes,T=s.expirationTimes,F=s.pendingLanes;0<F;){var U=31-fn(F),Y=1<<U,ne=T[U];ne===-1?((Y&l)===0||(Y&m)!==0)&&(T[U]=Yh(Y,o)):ne<=o&&(s.expiredLanes|=Y),F&=~Y}}function Nn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Cs(){var s=lo;return lo<<=1,(lo&4194240)===0&&(lo=64),s}function bi(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Ti(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-fn(o),s[o]=l}function pt(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<l;){var T=31-fn(l),F=1<<T;o[T]=0,m[T]=-1,s[T]=-1,l&=~F}}function Si(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var m=31-fn(l),T=1<<m;T&o|s[m]&o&&(s[m]|=o),l&=~T}}var st=0;function Di(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var al,ho,ul,ll,cl,Ra=!1,br=[],Qt=null,or=null,ar=null,xi=new Map,Gn=new Map,Tr=[],Zh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hl(s,o){switch(s){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":xi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(o.pointerId)}}function An(s,o,l,m,T,F){return s===null||s.nativeEvent!==F?(s={blockedOn:o,domEventName:l,eventSystemFlags:m,nativeEvent:F,targetContainers:[T]},o!==null&&(o=$a(o),o!==null&&ho(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,T!==null&&o.indexOf(T)===-1&&o.push(T),s)}function Xh(s,o,l,m,T){switch(o){case"focusin":return Qt=An(Qt,s,o,l,m,T),!0;case"dragenter":return or=An(or,s,o,l,m,T),!0;case"mouseover":return ar=An(ar,s,o,l,m,T),!0;case"pointerover":var F=T.pointerId;return xi.set(F,An(xi.get(F)||null,s,o,l,m,T)),!0;case"gotpointercapture":return F=T.pointerId,Gn.set(F,An(Gn.get(F)||null,s,o,l,m,T)),!0}return!1}function fl(s){var o=xs(s.target);if(o!==null){var l=ir(o);if(l!==null){if(o=l.tag,o===13){if(o=_s(l),o!==null){s.blockedOn=o,cl(s.priority,function(){ul(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Wr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=fo(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var m=new l.constructor(l.type,l);ms=m,l.target.dispatchEvent(m),ms=null}else return o=$a(l),o!==null&&ho(o),s.blockedOn=l,!1;o.shift()}return!0}function bs(s,o,l){Wr(s)&&l.delete(o)}function dl(){Ra=!1,Qt!==null&&Wr(Qt)&&(Qt=null),or!==null&&Wr(or)&&(or=null),ar!==null&&Wr(ar)&&(ar=null),xi.forEach(bs),Gn.forEach(bs)}function ur(s,o){s.blockedOn===o&&(s.blockedOn=null,Ra||(Ra=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dl)))}function lr(s){function o(T){return ur(T,s)}if(0<br.length){ur(br[0],s);for(var l=1;l<br.length;l++){var m=br[l];m.blockedOn===s&&(m.blockedOn=null)}}for(Qt!==null&&ur(Qt,s),or!==null&&ur(or,s),ar!==null&&ur(ar,s),xi.forEach(o),Gn.forEach(o),l=0;l<Tr.length;l++)m=Tr[l],m.blockedOn===s&&(m.blockedOn=null);for(;0<Tr.length&&(l=Tr[0],l.blockedOn===null);)fl(l),l.blockedOn===null&&Tr.shift()}var Kr=b.ReactCurrentBatchConfig,Ii=!0;function Et(s,o,l,m){var T=st,F=Kr.transition;Kr.transition=null;try{st=1,Pa(s,o,l,m)}finally{st=T,Kr.transition=F}}function ef(s,o,l,m){var T=st,F=Kr.transition;Kr.transition=null;try{st=4,Pa(s,o,l,m)}finally{st=T,Kr.transition=F}}function Pa(s,o,l,m){if(Ii){var T=fo(s,o,l,m);if(T===null)ff(s,o,m,Ts,l),hl(s,m);else if(Xh(T,s,o,l,m))m.stopPropagation();else if(hl(s,m),o&4&&-1<Zh.indexOf(s)){for(;T!==null;){var F=$a(T);if(F!==null&&al(F),F=fo(s,o,l,m),F===null&&ff(s,o,m,Ts,l),F===T)break;T=F}T!==null&&m.stopPropagation()}else ff(s,o,m,null,l)}}var Ts=null;function fo(s,o,l,m){if(Ts=null,s=to(m),s=xs(s),s!==null)if(o=ir(s),o===null)s=null;else if(l=o.tag,l===13){if(s=_s(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ts=s,null}function Oa(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nl()){case ws:return 1;case Ai:return 4;case Hn:case Ia:return 16;case rl:return 536870912;default:return 16}default:return 16}}var Ln=null,po=null,Cn=null;function Na(){if(Cn)return Cn;var s,o=po,l=o.length,m,T="value"in Ln?Ln.value:Ln.textContent,F=T.length;for(s=0;s<l&&o[s]===T[s];s++);var U=l-s;for(m=1;m<=U&&o[l-m]===T[F-m];m++);return Cn=T.slice(s,1<m?1-m:void 0)}function mo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Sr(){return!0}function La(){return!1}function Yt(s){function o(l,m,T,F,U){this._reactName=l,this._targetInst=T,this.type=m,this.nativeEvent=F,this.target=U,this.currentTarget=null;for(var Y in s)s.hasOwnProperty(Y)&&(l=s[Y],this[Y]=l?l(F):F[Y]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Sr:La,this.isPropagationStopped=La,this}return H(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),o}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=Yt(cr),Dr=H({},cr,{view:0,detail:0}),tf=Yt(Dr),yo,Jr,ki,Ss=H({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ki&&(ki&&s.type==="mousemove"?(yo=s.screenX-ki.screenX,Jr=s.screenY-ki.screenY):Jr=yo=0,ki=s),yo)},movementY:function(s){return"movementY"in s?s.movementY:Jr}}),vo=Yt(Ss),Fa=H({},Ss,{dataTransfer:0}),pl=Yt(Fa),_o=H({},Dr,{relatedTarget:0}),wo=Yt(_o),ml=H({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qr=Yt(ml),gl=H({},cr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),yl=Yt(gl),vl=H({},cr,{data:0}),Ba=Yt(vl),Eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=_l[s])?!!o[s]:!1}function xr(){return wl}var f=H({},Dr,{key:function(s){if(s.key){var o=Eo[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=mo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?dn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(s){return s.type==="keypress"?mo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?mo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),L=Yt(f),j=H({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K=Yt(j),ae=H({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),me=Yt(ae),De=H({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=Yt(De),qt=H({},Ss,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),at=Yt(qt),Gt=[9,13,27,32],Ft=c&&"CompositionEvent"in window,$n=null;c&&"documentMode"in document&&($n=document.documentMode);var Fn=c&&"TextEvent"in window&&!$n,Ds=c&&(!Ft||$n&&8<$n&&11>=$n),Ao=" ",vy=!1;function _y(s,o){switch(s){case"keyup":return Gt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Co=!1;function eb(s,o){switch(s){case"compositionend":return wy(o);case"keypress":return o.which!==32?null:(vy=!0,Ao);case"textInput":return s=o.data,s===Ao&&vy?null:s;default:return null}}function tb(s,o){if(Co)return s==="compositionend"||!Ft&&_y(s,o)?(s=Na(),Cn=po=Ln=null,Co=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ds&&o.locale!=="ko"?null:o.data;default:return null}}var nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!nb[s.type]:o==="textarea"}function Ay(s,o,l,m){Cr(m),o=Tl(o,"onChange"),0<o.length&&(l=new go("onChange","change",null,l,m),s.push({event:l,listeners:o}))}var Ma=null,ja=null;function rb(s){qy(s,0)}function El(s){var o=xo(s);if(xe(o))return s}function ib(s,o){if(s==="change")return o}var Cy=!1;if(c){var nf;if(c){var rf="oninput"in document;if(!rf){var by=document.createElement("div");by.setAttribute("oninput","return;"),rf=typeof by.oninput=="function"}nf=rf}else nf=!1;Cy=nf&&(!document.documentMode||9<document.documentMode)}function Ty(){Ma&&(Ma.detachEvent("onpropertychange",Sy),ja=Ma=null)}function Sy(s){if(s.propertyName==="value"&&El(ja)){var o=[];Ay(o,ja,s,to(s)),Ta(rb,o)}}function sb(s,o,l){s==="focusin"?(Ty(),Ma=o,ja=l,Ma.attachEvent("onpropertychange",Sy)):s==="focusout"&&Ty()}function ob(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return El(ja)}function ab(s,o){if(s==="click")return El(o)}function ub(s,o){if(s==="input"||s==="change")return El(o)}function lb(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var hr=typeof Object.is=="function"?Object.is:lb;function qa(s,o){if(hr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),m=Object.keys(o);if(l.length!==m.length)return!1;for(m=0;m<l.length;m++){var T=l[m];if(!h.call(o,T)||!hr(s[T],o[T]))return!1}return!0}function Dy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function xy(s,o){var l=Dy(s);s=0;for(var m;l;){if(l.nodeType===3){if(m=s+l.textContent.length,s<=o&&m>=o)return{node:l,offset:o-s};s=m}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Dy(l)}}function Iy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Iy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function ky(){for(var s=window,o=Ie();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Ie(s.document)}return o}function sf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function cb(s){var o=ky(),l=s.focusedElem,m=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&Iy(l.ownerDocument.documentElement,l)){if(m!==null&&sf(l)){if(o=m.start,s=m.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var T=l.textContent.length,F=Math.min(m.start,T);m=m.end===void 0?F:Math.min(m.end,T),!s.extend&&F>m&&(T=m,m=F,F=T),T=xy(l,F);var U=xy(l,m);T&&U&&(s.rangeCount!==1||s.anchorNode!==T.node||s.anchorOffset!==T.offset||s.focusNode!==U.node||s.focusOffset!==U.offset)&&(o=o.createRange(),o.setStart(T.node,T.offset),s.removeAllRanges(),F>m?(s.addRange(o),s.extend(U.node,U.offset)):(o.setEnd(U.node,U.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var hb=c&&"documentMode"in document&&11>=document.documentMode,bo=null,of=null,Va=null,af=!1;function Ry(s,o,l){var m=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;af||bo==null||bo!==Ie(m)||(m=bo,"selectionStart"in m&&sf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Va&&qa(Va,m)||(Va=m,m=Tl(of,"onSelect"),0<m.length&&(o=new go("onSelect","select",null,o,l),s.push({event:o,listeners:m}),o.target=bo)))}function Al(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var To={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionend:Al("Transition","TransitionEnd")},uf={},Py={};c&&(Py=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Cl(s){if(uf[s])return uf[s];if(!To[s])return s;var o=To[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Py)return uf[s]=o[l];return s}var Oy=Cl("animationend"),Ny=Cl("animationiteration"),Ly=Cl("animationstart"),Fy=Cl("transitionend"),By=new Map,My="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(s,o){By.set(s,o),a(o,[s])}for(var lf=0;lf<My.length;lf++){var cf=My[lf],fb=cf.toLowerCase(),db=cf[0].toUpperCase()+cf.slice(1);Ri(fb,"on"+db)}Ri(Oy,"onAnimationEnd"),Ri(Ny,"onAnimationIteration"),Ri(Ly,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Fy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function jy(s,o,l){var m=s.type||"unknown-event";s.currentTarget=l,Xu(m,o,void 0,s),s.currentTarget=null}function qy(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var m=s[l],T=m.event;m=m.listeners;e:{var F=void 0;if(o)for(var U=m.length-1;0<=U;U--){var Y=m[U],ne=Y.instance,pe=Y.currentTarget;if(Y=Y.listener,ne!==F&&T.isPropagationStopped())break e;jy(T,Y,pe),F=ne}else for(U=0;U<m.length;U++){if(Y=m[U],ne=Y.instance,pe=Y.currentTarget,Y=Y.listener,ne!==F&&T.isPropagationStopped())break e;jy(T,Y,pe),F=ne}}}if(rr)throw s=Sa,rr=!1,Sa=null,s}function vt(s,o){var l=o[vf];l===void 0&&(l=o[vf]=new Set);var m=s+"__bubble";l.has(m)||(Vy(o,s,2,!1),l.add(m))}function hf(s,o,l){var m=0;o&&(m|=4),Vy(l,s,m,o)}var bl="_reactListening"+Math.random().toString(36).slice(2);function za(s){if(!s[bl]){s[bl]=!0,n.forEach(function(l){l!=="selectionchange"&&(pb.has(l)||hf(l,!1,s),hf(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[bl]||(o[bl]=!0,hf("selectionchange",!1,o))}}function Vy(s,o,l,m){switch(Oa(o)){case 1:var T=Et;break;case 4:T=ef;break;default:T=Pa}l=T.bind(null,o,l,s),T=void 0,!io||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(T=!0),m?T!==void 0?s.addEventListener(o,l,{capture:!0,passive:T}):s.addEventListener(o,l,!0):T!==void 0?s.addEventListener(o,l,{passive:T}):s.addEventListener(o,l,!1)}function ff(s,o,l,m,T){var F=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var Y=m.stateNode.containerInfo;if(Y===T||Y.nodeType===8&&Y.parentNode===T)break;if(U===4)for(U=m.return;U!==null;){var ne=U.tag;if((ne===3||ne===4)&&(ne=U.stateNode.containerInfo,ne===T||ne.nodeType===8&&ne.parentNode===T))return;U=U.return}for(;Y!==null;){if(U=xs(Y),U===null)return;if(ne=U.tag,ne===5||ne===6){m=F=U;continue e}Y=Y.parentNode}}m=m.return}Ta(function(){var pe=F,Ce=to(l),be=[];e:{var Ae=By.get(s);if(Ae!==void 0){var Pe=go,Fe=s;switch(s){case"keypress":if(mo(l)===0)break e;case"keydown":case"keyup":Pe=L;break;case"focusin":Fe="focus",Pe=wo;break;case"focusout":Fe="blur",Pe=wo;break;case"beforeblur":case"afterblur":Pe=wo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=pl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=me;break;case Oy:case Ny:case Ly:Pe=Qr;break;case Fy:Pe=dt;break;case"scroll":Pe=tf;break;case"wheel":Pe=at;break;case"copy":case"cut":case"paste":Pe=yl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=K}var je=(o&4)!==0,Ot=!je&&s==="scroll",ue=je?Ae!==null?Ae+"Capture":null:Ae;je=[];for(var oe=pe,ce;oe!==null;){ce=oe;var Te=ce.stateNode;if(ce.tag===5&&Te!==null&&(ce=Te,ue!==null&&(Te=Pt(oe,ue),Te!=null&&je.push(Ha(oe,Te,ce)))),Ot)break;oe=oe.return}0<je.length&&(Ae=new Pe(Ae,Fe,null,l,Ce),be.push({event:Ae,listeners:je}))}}if((o&7)===0){e:{if(Ae=s==="mouseover"||s==="pointerover",Pe=s==="mouseout"||s==="pointerout",Ae&&l!==ms&&(Fe=l.relatedTarget||l.fromElement)&&(xs(Fe)||Fe[Yr]))break e;if((Pe||Ae)&&(Ae=Ce.window===Ce?Ce:(Ae=Ce.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Pe?(Fe=l.relatedTarget||l.toElement,Pe=pe,Fe=Fe?xs(Fe):null,Fe!==null&&(Ot=ir(Fe),Fe!==Ot||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(Pe=null,Fe=pe),Pe!==Fe)){if(je=vo,Te="onMouseLeave",ue="onMouseEnter",oe="mouse",(s==="pointerout"||s==="pointerover")&&(je=K,Te="onPointerLeave",ue="onPointerEnter",oe="pointer"),Ot=Pe==null?Ae:xo(Pe),ce=Fe==null?Ae:xo(Fe),Ae=new je(Te,oe+"leave",Pe,l,Ce),Ae.target=Ot,Ae.relatedTarget=ce,Te=null,xs(Ce)===pe&&(je=new je(ue,oe+"enter",Fe,l,Ce),je.target=ce,je.relatedTarget=Ot,Te=je),Ot=Te,Pe&&Fe)t:{for(je=Pe,ue=Fe,oe=0,ce=je;ce;ce=So(ce))oe++;for(ce=0,Te=ue;Te;Te=So(Te))ce++;for(;0<oe-ce;)je=So(je),oe--;for(;0<ce-oe;)ue=So(ue),ce--;for(;oe--;){if(je===ue||ue!==null&&je===ue.alternate)break t;je=So(je),ue=So(ue)}je=null}else je=null;Pe!==null&&Uy(be,Ae,Pe,je,!1),Fe!==null&&Ot!==null&&Uy(be,Ot,Fe,je,!0)}}e:{if(Ae=pe?xo(pe):window,Pe=Ae.nodeName&&Ae.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Ae.type==="file")var qe=ib;else if(Ey(Ae))if(Cy)qe=ub;else{qe=ob;var ze=sb}else(Pe=Ae.nodeName)&&Pe.toLowerCase()==="input"&&(Ae.type==="checkbox"||Ae.type==="radio")&&(qe=ab);if(qe&&(qe=qe(s,pe))){Ay(be,qe,l,Ce);break e}ze&&ze(s,Ae,pe),s==="focusout"&&(ze=Ae._wrapperState)&&ze.controlled&&Ae.type==="number"&&de(Ae,"number",Ae.value)}switch(ze=pe?xo(pe):window,s){case"focusin":(Ey(ze)||ze.contentEditable==="true")&&(bo=ze,of=pe,Va=null);break;case"focusout":Va=of=bo=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Ry(be,l,Ce);break;case"selectionchange":if(hb)break;case"keydown":case"keyup":Ry(be,l,Ce)}var He;if(Ft)e:{switch(s){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Co?_y(s,l)&&(Je="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Je="onCompositionStart");Je&&(Ds&&l.locale!=="ko"&&(Co||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Co&&(He=Na()):(Ln=Ce,po="value"in Ln?Ln.value:Ln.textContent,Co=!0)),ze=Tl(pe,Je),0<ze.length&&(Je=new Ba(Je,s,null,l,Ce),be.push({event:Je,listeners:ze}),He?Je.data=He:(He=wy(l),He!==null&&(Je.data=He)))),(He=Fn?eb(s,l):tb(s,l))&&(pe=Tl(pe,"onBeforeInput"),0<pe.length&&(Ce=new Ba("onBeforeInput","beforeinput",null,l,Ce),be.push({event:Ce,listeners:pe}),Ce.data=He))}qy(be,o)})}function Ha(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Tl(s,o){for(var l=o+"Capture",m=[];s!==null;){var T=s,F=T.stateNode;T.tag===5&&F!==null&&(T=F,F=Pt(s,l),F!=null&&m.unshift(Ha(s,F,T)),F=Pt(s,o),F!=null&&m.push(Ha(s,F,T))),s=s.return}return m}function So(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Uy(s,o,l,m,T){for(var F=o._reactName,U=[];l!==null&&l!==m;){var Y=l,ne=Y.alternate,pe=Y.stateNode;if(ne!==null&&ne===m)break;Y.tag===5&&pe!==null&&(Y=pe,T?(ne=Pt(l,F),ne!=null&&U.unshift(Ha(l,ne,Y))):T||(ne=Pt(l,F),ne!=null&&U.push(Ha(l,ne,Y)))),l=l.return}U.length!==0&&s.push({event:o,listeners:U})}var mb=/\r\n?/g,gb=/\u0000|\uFFFD/g;function zy(s){return(typeof s=="string"?s:""+s).replace(mb,`
`).replace(gb,"")}function Sl(s,o,l){if(o=zy(o),zy(s)!==o&&l)throw Error(t(425))}function Dl(){}var df=null,pf=null;function mf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var gf=typeof setTimeout=="function"?setTimeout:void 0,yb=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(s){return Hy.resolve(null).then(s).catch(_b)}:gf;function _b(s){setTimeout(function(){throw s})}function yf(s,o){var l=o,m=0;do{var T=l.nextSibling;if(s.removeChild(l),T&&T.nodeType===8)if(l=T.data,l==="/$"){if(m===0){s.removeChild(T),lr(o);return}m--}else l!=="$"&&l!=="$?"&&l!=="$!"||m++;l=T}while(l);lr(o)}function Pi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Gy(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var Do=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Do,Ga="__reactProps$"+Do,Yr="__reactContainer$"+Do,vf="__reactEvents$"+Do,wb="__reactListeners$"+Do,Eb="__reactHandles$"+Do;function xs(s){var o=s[Ir];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Yr]||l[Ir]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=Gy(s);s!==null;){if(l=s[Ir])return l;s=Gy(s)}return o}s=l,l=s.parentNode}return null}function $a(s){return s=s[Ir]||s[Yr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function xo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function xl(s){return s[Ga]||null}var _f=[],Io=-1;function Oi(s){return{current:s}}function _t(s){0>Io||(s.current=_f[Io],_f[Io]=null,Io--)}function gt(s,o){Io++,_f[Io]=s.current,s.current=o}var Ni={},rn=Oi(Ni),bn=Oi(!1),Is=Ni;function ko(s,o){var l=s.type.contextTypes;if(!l)return Ni;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var T={},F;for(F in l)T[F]=o[F];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=T),T}function Tn(s){return s=s.childContextTypes,s!=null}function Il(){_t(bn),_t(rn)}function $y(s,o,l){if(rn.current!==Ni)throw Error(t(168));gt(rn,o),gt(bn,l)}function Wy(s,o,l){var m=s.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return l;m=m.getChildContext();for(var T in m)if(!(T in o))throw Error(t(108,Q(s)||"Unknown",T));return H({},l,m)}function kl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ni,Is=rn.current,gt(rn,s),gt(bn,bn.current),!0}function Ky(s,o,l){var m=s.stateNode;if(!m)throw Error(t(169));l?(s=Wy(s,o,Is),m.__reactInternalMemoizedMergedChildContext=s,_t(bn),_t(rn),gt(rn,s)):_t(bn),gt(bn,l)}var Zr=null,Rl=!1,wf=!1;function Jy(s){Zr===null?Zr=[s]:Zr.push(s)}function Ab(s){Rl=!0,Jy(s)}function Li(){if(!wf&&Zr!==null){wf=!0;var s=0,o=st;try{var l=Zr;for(st=1;s<l.length;s++){var m=l[s];do m=m(!0);while(m!==null)}Zr=null,Rl=!1}catch(T){throw Zr!==null&&(Zr=Zr.slice(s+1)),uo(ws,Li),T}finally{st=o,wf=!1}}return null}var Ro=[],Po=0,Pl=null,Ol=0,Wn=[],Kn=0,ks=null,Xr=1,ei="";function Rs(s,o){Ro[Po++]=Ol,Ro[Po++]=Pl,Pl=s,Ol=o}function Qy(s,o,l){Wn[Kn++]=Xr,Wn[Kn++]=ei,Wn[Kn++]=ks,ks=s;var m=Xr;s=ei;var T=32-fn(m)-1;m&=~(1<<T),l+=1;var F=32-fn(o)+T;if(30<F){var U=T-T%5;F=(m&(1<<U)-1).toString(32),m>>=U,T-=U,Xr=1<<32-fn(o)+T|l<<T|m,ei=F+s}else Xr=1<<F|l<<T|m,ei=s}function Ef(s){s.return!==null&&(Rs(s,1),Qy(s,1,0))}function Af(s){for(;s===Pl;)Pl=Ro[--Po],Ro[Po]=null,Ol=Ro[--Po],Ro[Po]=null;for(;s===ks;)ks=Wn[--Kn],Wn[Kn]=null,ei=Wn[--Kn],Wn[Kn]=null,Xr=Wn[--Kn],Wn[Kn]=null}var Bn=null,Mn=null,At=!1,fr=null;function Yy(s,o){var l=Zn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function Zy(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Bn=s,Mn=Pi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Bn=s,Mn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=ks!==null?{id:Xr,overflow:ei}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Zn(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,Bn=s,Mn=null,!0):!1;default:return!1}}function Cf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function bf(s){if(At){var o=Mn;if(o){var l=o;if(!Zy(s,o)){if(Cf(s))throw Error(t(418));o=Pi(l.nextSibling);var m=Bn;o&&Zy(s,o)?Yy(m,l):(s.flags=s.flags&-4097|2,At=!1,Bn=s)}}else{if(Cf(s))throw Error(t(418));s.flags=s.flags&-4097|2,At=!1,Bn=s}}}function Xy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Bn=s}function Nl(s){if(s!==Bn)return!1;if(!At)return Xy(s),At=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!mf(s.type,s.memoizedProps)),o&&(o=Mn)){if(Cf(s))throw ev(),Error(t(418));for(;o;)Yy(s,o),o=Pi(o.nextSibling)}if(Xy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){Mn=Pi(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}Mn=null}}else Mn=Bn?Pi(s.stateNode.nextSibling):null;return!0}function ev(){for(var s=Mn;s;)s=Pi(s.nextSibling)}function Oo(){Mn=Bn=null,At=!1}function Tf(s){fr===null?fr=[s]:fr.push(s)}var Cb=b.ReactCurrentBatchConfig;function Wa(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var m=l.stateNode}if(!m)throw Error(t(147,s));var T=m,F=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===F?o.ref:(o=function(U){var Y=T.refs;U===null?delete Y[F]:Y[F]=U},o._stringRef=F,o)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function Ll(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function tv(s){var o=s._init;return o(s._payload)}function nv(s){function o(ue,oe){if(s){var ce=ue.deletions;ce===null?(ue.deletions=[oe],ue.flags|=16):ce.push(oe)}}function l(ue,oe){if(!s)return null;for(;oe!==null;)o(ue,oe),oe=oe.sibling;return null}function m(ue,oe){for(ue=new Map;oe!==null;)oe.key!==null?ue.set(oe.key,oe):ue.set(oe.index,oe),oe=oe.sibling;return ue}function T(ue,oe){return ue=zi(ue,oe),ue.index=0,ue.sibling=null,ue}function F(ue,oe,ce){return ue.index=ce,s?(ce=ue.alternate,ce!==null?(ce=ce.index,ce<oe?(ue.flags|=2,oe):ce):(ue.flags|=2,oe)):(ue.flags|=1048576,oe)}function U(ue){return s&&ue.alternate===null&&(ue.flags|=2),ue}function Y(ue,oe,ce,Te){return oe===null||oe.tag!==6?(oe=gd(ce,ue.mode,Te),oe.return=ue,oe):(oe=T(oe,ce),oe.return=ue,oe)}function ne(ue,oe,ce,Te){var qe=ce.type;return qe===R?Ce(ue,oe,ce.props.children,Te,ce.key):oe!==null&&(oe.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===se&&tv(qe)===oe.type)?(Te=T(oe,ce.props),Te.ref=Wa(ue,oe,ce),Te.return=ue,Te):(Te=sc(ce.type,ce.key,ce.props,null,ue.mode,Te),Te.ref=Wa(ue,oe,ce),Te.return=ue,Te)}function pe(ue,oe,ce,Te){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ce.containerInfo||oe.stateNode.implementation!==ce.implementation?(oe=yd(ce,ue.mode,Te),oe.return=ue,oe):(oe=T(oe,ce.children||[]),oe.return=ue,oe)}function Ce(ue,oe,ce,Te,qe){return oe===null||oe.tag!==7?(oe=js(ce,ue.mode,Te,qe),oe.return=ue,oe):(oe=T(oe,ce),oe.return=ue,oe)}function be(ue,oe,ce){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=gd(""+oe,ue.mode,ce),oe.return=ue,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case M:return ce=sc(oe.type,oe.key,oe.props,null,ue.mode,ce),ce.ref=Wa(ue,null,oe),ce.return=ue,ce;case q:return oe=yd(oe,ue.mode,ce),oe.return=ue,oe;case se:var Te=oe._init;return be(ue,Te(oe._payload),ce)}if(Ee(oe)||$(oe))return oe=js(oe,ue.mode,ce,null),oe.return=ue,oe;Ll(ue,oe)}return null}function Ae(ue,oe,ce,Te){var qe=oe!==null?oe.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return qe!==null?null:Y(ue,oe,""+ce,Te);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case M:return ce.key===qe?ne(ue,oe,ce,Te):null;case q:return ce.key===qe?pe(ue,oe,ce,Te):null;case se:return qe=ce._init,Ae(ue,oe,qe(ce._payload),Te)}if(Ee(ce)||$(ce))return qe!==null?null:Ce(ue,oe,ce,Te,null);Ll(ue,ce)}return null}function Pe(ue,oe,ce,Te,qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return ue=ue.get(ce)||null,Y(oe,ue,""+Te,qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case M:return ue=ue.get(Te.key===null?ce:Te.key)||null,ne(oe,ue,Te,qe);case q:return ue=ue.get(Te.key===null?ce:Te.key)||null,pe(oe,ue,Te,qe);case se:var ze=Te._init;return Pe(ue,oe,ce,ze(Te._payload),qe)}if(Ee(Te)||$(Te))return ue=ue.get(ce)||null,Ce(oe,ue,Te,qe,null);Ll(oe,Te)}return null}function Fe(ue,oe,ce,Te){for(var qe=null,ze=null,He=oe,Je=oe=0,Kt=null;He!==null&&Je<ce.length;Je++){He.index>Je?(Kt=He,He=null):Kt=He.sibling;var ht=Ae(ue,He,ce[Je],Te);if(ht===null){He===null&&(He=Kt);break}s&&He&&ht.alternate===null&&o(ue,He),oe=F(ht,oe,Je),ze===null?qe=ht:ze.sibling=ht,ze=ht,He=Kt}if(Je===ce.length)return l(ue,He),At&&Rs(ue,Je),qe;if(He===null){for(;Je<ce.length;Je++)He=be(ue,ce[Je],Te),He!==null&&(oe=F(He,oe,Je),ze===null?qe=He:ze.sibling=He,ze=He);return At&&Rs(ue,Je),qe}for(He=m(ue,He);Je<ce.length;Je++)Kt=Pe(He,ue,Je,ce[Je],Te),Kt!==null&&(s&&Kt.alternate!==null&&He.delete(Kt.key===null?Je:Kt.key),oe=F(Kt,oe,Je),ze===null?qe=Kt:ze.sibling=Kt,ze=Kt);return s&&He.forEach(function(Hi){return o(ue,Hi)}),At&&Rs(ue,Je),qe}function je(ue,oe,ce,Te){var qe=$(ce);if(typeof qe!="function")throw Error(t(150));if(ce=qe.call(ce),ce==null)throw Error(t(151));for(var ze=qe=null,He=oe,Je=oe=0,Kt=null,ht=ce.next();He!==null&&!ht.done;Je++,ht=ce.next()){He.index>Je?(Kt=He,He=null):Kt=He.sibling;var Hi=Ae(ue,He,ht.value,Te);if(Hi===null){He===null&&(He=Kt);break}s&&He&&Hi.alternate===null&&o(ue,He),oe=F(Hi,oe,Je),ze===null?qe=Hi:ze.sibling=Hi,ze=Hi,He=Kt}if(ht.done)return l(ue,He),At&&Rs(ue,Je),qe;if(He===null){for(;!ht.done;Je++,ht=ce.next())ht=be(ue,ht.value,Te),ht!==null&&(oe=F(ht,oe,Je),ze===null?qe=ht:ze.sibling=ht,ze=ht);return At&&Rs(ue,Je),qe}for(He=m(ue,He);!ht.done;Je++,ht=ce.next())ht=Pe(He,ue,Je,ht.value,Te),ht!==null&&(s&&ht.alternate!==null&&He.delete(ht.key===null?Je:ht.key),oe=F(ht,oe,Je),ze===null?qe=ht:ze.sibling=ht,ze=ht);return s&&He.forEach(function(nT){return o(ue,nT)}),At&&Rs(ue,Je),qe}function Ot(ue,oe,ce,Te){if(typeof ce=="object"&&ce!==null&&ce.type===R&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case M:e:{for(var qe=ce.key,ze=oe;ze!==null;){if(ze.key===qe){if(qe=ce.type,qe===R){if(ze.tag===7){l(ue,ze.sibling),oe=T(ze,ce.props.children),oe.return=ue,ue=oe;break e}}else if(ze.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===se&&tv(qe)===ze.type){l(ue,ze.sibling),oe=T(ze,ce.props),oe.ref=Wa(ue,ze,ce),oe.return=ue,ue=oe;break e}l(ue,ze);break}else o(ue,ze);ze=ze.sibling}ce.type===R?(oe=js(ce.props.children,ue.mode,Te,ce.key),oe.return=ue,ue=oe):(Te=sc(ce.type,ce.key,ce.props,null,ue.mode,Te),Te.ref=Wa(ue,oe,ce),Te.return=ue,ue=Te)}return U(ue);case q:e:{for(ze=ce.key;oe!==null;){if(oe.key===ze)if(oe.tag===4&&oe.stateNode.containerInfo===ce.containerInfo&&oe.stateNode.implementation===ce.implementation){l(ue,oe.sibling),oe=T(oe,ce.children||[]),oe.return=ue,ue=oe;break e}else{l(ue,oe);break}else o(ue,oe);oe=oe.sibling}oe=yd(ce,ue.mode,Te),oe.return=ue,ue=oe}return U(ue);case se:return ze=ce._init,Ot(ue,oe,ze(ce._payload),Te)}if(Ee(ce))return Fe(ue,oe,ce,Te);if($(ce))return je(ue,oe,ce,Te);Ll(ue,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,oe!==null&&oe.tag===6?(l(ue,oe.sibling),oe=T(oe,ce),oe.return=ue,ue=oe):(l(ue,oe),oe=gd(ce,ue.mode,Te),oe.return=ue,ue=oe),U(ue)):l(ue,oe)}return Ot}var No=nv(!0),rv=nv(!1),Fl=Oi(null),Bl=null,Lo=null,Sf=null;function Df(){Sf=Lo=Bl=null}function xf(s){var o=Fl.current;_t(Fl),s._currentValue=o}function If(s,o,l){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===l)break;s=s.return}}function Fo(s,o){Bl=s,Sf=Lo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Sn=!0),s.firstContext=null)}function Jn(s){var o=s._currentValue;if(Sf!==s)if(s={context:s,memoizedValue:o,next:null},Lo===null){if(Bl===null)throw Error(t(308));Lo=s,Bl.dependencies={lanes:0,firstContext:s}}else Lo=Lo.next=s;return o}var Ps=null;function kf(s){Ps===null?Ps=[s]:Ps.push(s)}function iv(s,o,l,m){var T=o.interleaved;return T===null?(l.next=l,kf(o)):(l.next=T.next,T.next=l),o.interleaved=l,ti(s,m)}function ti(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Fi=!1;function Rf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ni(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Bi(s,o,l){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(lt&2)!==0){var T=m.pending;return T===null?o.next=o:(o.next=T.next,T.next=o),m.pending=o,ti(s,l)}return T=m.interleaved,T===null?(o.next=o,kf(m)):(o.next=T.next,T.next=o),m.interleaved=o,ti(s,l)}function Ml(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var m=o.lanes;m&=s.pendingLanes,l|=m,o.lanes=l,Si(s,l)}}function ov(s,o){var l=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,l===m)){var T=null,F=null;if(l=l.firstBaseUpdate,l!==null){do{var U={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};F===null?T=F=U:F=F.next=U,l=l.next}while(l!==null);F===null?T=F=o:F=F.next=o}else T=F=o;l={baseState:m.baseState,firstBaseUpdate:T,lastBaseUpdate:F,shared:m.shared,effects:m.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function jl(s,o,l,m){var T=s.updateQueue;Fi=!1;var F=T.firstBaseUpdate,U=T.lastBaseUpdate,Y=T.shared.pending;if(Y!==null){T.shared.pending=null;var ne=Y,pe=ne.next;ne.next=null,U===null?F=pe:U.next=pe,U=ne;var Ce=s.alternate;Ce!==null&&(Ce=Ce.updateQueue,Y=Ce.lastBaseUpdate,Y!==U&&(Y===null?Ce.firstBaseUpdate=pe:Y.next=pe,Ce.lastBaseUpdate=ne))}if(F!==null){var be=T.baseState;U=0,Ce=pe=ne=null,Y=F;do{var Ae=Y.lane,Pe=Y.eventTime;if((m&Ae)===Ae){Ce!==null&&(Ce=Ce.next={eventTime:Pe,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Fe=s,je=Y;switch(Ae=o,Pe=l,je.tag){case 1:if(Fe=je.payload,typeof Fe=="function"){be=Fe.call(Pe,be,Ae);break e}be=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=je.payload,Ae=typeof Fe=="function"?Fe.call(Pe,be,Ae):Fe,Ae==null)break e;be=H({},be,Ae);break e;case 2:Fi=!0}}Y.callback!==null&&Y.lane!==0&&(s.flags|=64,Ae=T.effects,Ae===null?T.effects=[Y]:Ae.push(Y))}else Pe={eventTime:Pe,lane:Ae,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ce===null?(pe=Ce=Pe,ne=be):Ce=Ce.next=Pe,U|=Ae;if(Y=Y.next,Y===null){if(Y=T.shared.pending,Y===null)break;Ae=Y,Y=Ae.next,Ae.next=null,T.lastBaseUpdate=Ae,T.shared.pending=null}}while(!0);if(Ce===null&&(ne=be),T.baseState=ne,T.firstBaseUpdate=pe,T.lastBaseUpdate=Ce,o=T.shared.interleaved,o!==null){T=o;do U|=T.lane,T=T.next;while(T!==o)}else F===null&&(T.shared.lanes=0);Ls|=U,s.lanes=U,s.memoizedState=be}}function av(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var m=s[o],T=m.callback;if(T!==null){if(m.callback=null,m=l,typeof T!="function")throw Error(t(191,T));T.call(m)}}}var Ka={},kr=Oi(Ka),Ja=Oi(Ka),Qa=Oi(Ka);function Os(s){if(s===Ka)throw Error(t(174));return s}function Pf(s,o){switch(gt(Qa,o),gt(Ja,s),gt(kr,Ka),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ze(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Ze(o,s)}_t(kr),gt(kr,o)}function Bo(){_t(kr),_t(Ja),_t(Qa)}function uv(s){Os(Qa.current);var o=Os(kr.current),l=Ze(o,s.type);o!==l&&(gt(Ja,s),gt(kr,l))}function Of(s){Ja.current===s&&(_t(kr),_t(Ja))}var bt=Oi(0);function ql(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Nf=[];function Lf(){for(var s=0;s<Nf.length;s++)Nf[s]._workInProgressVersionPrimary=null;Nf.length=0}var Vl=b.ReactCurrentDispatcher,Ff=b.ReactCurrentBatchConfig,Ns=0,Tt=null,Vt=null,$t=null,Ul=!1,Ya=!1,Za=0,bb=0;function sn(){throw Error(t(321))}function Bf(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!hr(s[l],o[l]))return!1;return!0}function Mf(s,o,l,m,T,F){if(Ns=F,Tt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Vl.current=s===null||s.memoizedState===null?xb:Ib,s=l(m,T),Ya){F=0;do{if(Ya=!1,Za=0,25<=F)throw Error(t(301));F+=1,$t=Vt=null,o.updateQueue=null,Vl.current=kb,s=l(m,T)}while(Ya)}if(Vl.current=Gl,o=Vt!==null&&Vt.next!==null,Ns=0,$t=Vt=Tt=null,Ul=!1,o)throw Error(t(300));return s}function jf(){var s=Za!==0;return Za=0,s}function Rr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Tt.memoizedState=$t=s:$t=$t.next=s,$t}function Qn(){if(Vt===null){var s=Tt.alternate;s=s!==null?s.memoizedState:null}else s=Vt.next;var o=$t===null?Tt.memoizedState:$t.next;if(o!==null)$t=o,Vt=s;else{if(s===null)throw Error(t(310));Vt=s,s={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},$t===null?Tt.memoizedState=$t=s:$t=$t.next=s}return $t}function Xa(s,o){return typeof o=="function"?o(s):o}function qf(s){var o=Qn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var m=Vt,T=m.baseQueue,F=l.pending;if(F!==null){if(T!==null){var U=T.next;T.next=F.next,F.next=U}m.baseQueue=T=F,l.pending=null}if(T!==null){F=T.next,m=m.baseState;var Y=U=null,ne=null,pe=F;do{var Ce=pe.lane;if((Ns&Ce)===Ce)ne!==null&&(ne=ne.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),m=pe.hasEagerState?pe.eagerState:s(m,pe.action);else{var be={lane:Ce,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};ne===null?(Y=ne=be,U=m):ne=ne.next=be,Tt.lanes|=Ce,Ls|=Ce}pe=pe.next}while(pe!==null&&pe!==F);ne===null?U=m:ne.next=Y,hr(m,o.memoizedState)||(Sn=!0),o.memoizedState=m,o.baseState=U,o.baseQueue=ne,l.lastRenderedState=m}if(s=l.interleaved,s!==null){T=s;do F=T.lane,Tt.lanes|=F,Ls|=F,T=T.next;while(T!==s)}else T===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Vf(s){var o=Qn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var m=l.dispatch,T=l.pending,F=o.memoizedState;if(T!==null){l.pending=null;var U=T=T.next;do F=s(F,U.action),U=U.next;while(U!==T);hr(F,o.memoizedState)||(Sn=!0),o.memoizedState=F,o.baseQueue===null&&(o.baseState=F),l.lastRenderedState=F}return[F,m]}function lv(){}function cv(s,o){var l=Tt,m=Qn(),T=o(),F=!hr(m.memoizedState,T);if(F&&(m.memoizedState=T,Sn=!0),m=m.queue,Uf(dv.bind(null,l,m,s),[s]),m.getSnapshot!==o||F||$t!==null&&$t.memoizedState.tag&1){if(l.flags|=2048,eu(9,fv.bind(null,l,m,T,o),void 0,null),Wt===null)throw Error(t(349));(Ns&30)!==0||hv(l,o,T)}return T}function hv(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=Tt.updateQueue,o===null?(o={lastEffect:null,stores:null},Tt.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function fv(s,o,l,m){o.value=l,o.getSnapshot=m,pv(o)&&mv(s)}function dv(s,o,l){return l(function(){pv(o)&&mv(s)})}function pv(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!hr(s,l)}catch{return!0}}function mv(s){var o=ti(s,1);o!==null&&gr(o,s,1,-1)}function gv(s){var o=Rr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:s},o.queue=s,s=s.dispatch=Db.bind(null,Tt,s),[o.memoizedState,s]}function eu(s,o,l,m){return s={tag:s,create:o,destroy:l,deps:m,next:null},o=Tt.updateQueue,o===null?(o={lastEffect:null,stores:null},Tt.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(m=l.next,l.next=s,s.next=m,o.lastEffect=s)),s}function yv(){return Qn().memoizedState}function zl(s,o,l,m){var T=Rr();Tt.flags|=s,T.memoizedState=eu(1|o,l,void 0,m===void 0?null:m)}function Hl(s,o,l,m){var T=Qn();m=m===void 0?null:m;var F=void 0;if(Vt!==null){var U=Vt.memoizedState;if(F=U.destroy,m!==null&&Bf(m,U.deps)){T.memoizedState=eu(o,l,F,m);return}}Tt.flags|=s,T.memoizedState=eu(1|o,l,F,m)}function vv(s,o){return zl(8390656,8,s,o)}function Uf(s,o){return Hl(2048,8,s,o)}function _v(s,o){return Hl(4,2,s,o)}function wv(s,o){return Hl(4,4,s,o)}function Ev(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Av(s,o,l){return l=l!=null?l.concat([s]):null,Hl(4,4,Ev.bind(null,o,s),l)}function zf(){}function Cv(s,o){var l=Qn();o=o===void 0?null:o;var m=l.memoizedState;return m!==null&&o!==null&&Bf(o,m[1])?m[0]:(l.memoizedState=[s,o],s)}function bv(s,o){var l=Qn();o=o===void 0?null:o;var m=l.memoizedState;return m!==null&&o!==null&&Bf(o,m[1])?m[0]:(s=s(),l.memoizedState=[s,o],s)}function Tv(s,o,l){return(Ns&21)===0?(s.baseState&&(s.baseState=!1,Sn=!0),s.memoizedState=l):(hr(l,o)||(l=Cs(),Tt.lanes|=l,Ls|=l,s.baseState=!0),o)}function Tb(s,o){var l=st;st=l!==0&&4>l?l:4,s(!0);var m=Ff.transition;Ff.transition={};try{s(!1),o()}finally{st=l,Ff.transition=m}}function Sv(){return Qn().memoizedState}function Sb(s,o,l){var m=Vi(s);if(l={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null},Dv(s))xv(o,l);else if(l=iv(s,o,l,m),l!==null){var T=mn();gr(l,s,m,T),Iv(l,o,m)}}function Db(s,o,l){var m=Vi(s),T={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null};if(Dv(s))xv(o,T);else{var F=s.alternate;if(s.lanes===0&&(F===null||F.lanes===0)&&(F=o.lastRenderedReducer,F!==null))try{var U=o.lastRenderedState,Y=F(U,l);if(T.hasEagerState=!0,T.eagerState=Y,hr(Y,U)){var ne=o.interleaved;ne===null?(T.next=T,kf(o)):(T.next=ne.next,ne.next=T),o.interleaved=T;return}}catch{}finally{}l=iv(s,o,T,m),l!==null&&(T=mn(),gr(l,s,m,T),Iv(l,o,m))}}function Dv(s){var o=s.alternate;return s===Tt||o!==null&&o===Tt}function xv(s,o){Ya=Ul=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Iv(s,o,l){if((l&4194240)!==0){var m=o.lanes;m&=s.pendingLanes,l|=m,o.lanes=l,Si(s,l)}}var Gl={readContext:Jn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},xb={readContext:Jn,useCallback:function(s,o){return Rr().memoizedState=[s,o===void 0?null:o],s},useContext:Jn,useEffect:vv,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,zl(4194308,4,Ev.bind(null,o,s),l)},useLayoutEffect:function(s,o){return zl(4194308,4,s,o)},useInsertionEffect:function(s,o){return zl(4,2,s,o)},useMemo:function(s,o){var l=Rr();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var m=Rr();return o=l!==void 0?l(o):o,m.memoizedState=m.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},m.queue=s,s=s.dispatch=Sb.bind(null,Tt,s),[m.memoizedState,s]},useRef:function(s){var o=Rr();return s={current:s},o.memoizedState=s},useState:gv,useDebugValue:zf,useDeferredValue:function(s){return Rr().memoizedState=s},useTransition:function(){var s=gv(!1),o=s[0];return s=Tb.bind(null,s[1]),Rr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var m=Tt,T=Rr();if(At){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Wt===null)throw Error(t(349));(Ns&30)!==0||hv(m,o,l)}T.memoizedState=l;var F={value:l,getSnapshot:o};return T.queue=F,vv(dv.bind(null,m,F,s),[s]),m.flags|=2048,eu(9,fv.bind(null,m,F,l,o),void 0,null),l},useId:function(){var s=Rr(),o=Wt.identifierPrefix;if(At){var l=ei,m=Xr;l=(m&~(1<<32-fn(m)-1)).toString(32)+l,o=":"+o+"R"+l,l=Za++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=bb++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Ib={readContext:Jn,useCallback:Cv,useContext:Jn,useEffect:Uf,useImperativeHandle:Av,useInsertionEffect:_v,useLayoutEffect:wv,useMemo:bv,useReducer:qf,useRef:yv,useState:function(){return qf(Xa)},useDebugValue:zf,useDeferredValue:function(s){var o=Qn();return Tv(o,Vt.memoizedState,s)},useTransition:function(){var s=qf(Xa)[0],o=Qn().memoizedState;return[s,o]},useMutableSource:lv,useSyncExternalStore:cv,useId:Sv,unstable_isNewReconciler:!1},kb={readContext:Jn,useCallback:Cv,useContext:Jn,useEffect:Uf,useImperativeHandle:Av,useInsertionEffect:_v,useLayoutEffect:wv,useMemo:bv,useReducer:Vf,useRef:yv,useState:function(){return Vf(Xa)},useDebugValue:zf,useDeferredValue:function(s){var o=Qn();return Vt===null?o.memoizedState=s:Tv(o,Vt.memoizedState,s)},useTransition:function(){var s=Vf(Xa)[0],o=Qn().memoizedState;return[s,o]},useMutableSource:lv,useSyncExternalStore:cv,useId:Sv,unstable_isNewReconciler:!1};function dr(s,o){if(s&&s.defaultProps){o=H({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function Hf(s,o,l,m){o=s.memoizedState,l=l(m,o),l=l==null?o:H({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var $l={isMounted:function(s){return(s=s._reactInternals)?ir(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var m=mn(),T=Vi(s),F=ni(m,T);F.payload=o,l!=null&&(F.callback=l),o=Bi(s,F,T),o!==null&&(gr(o,s,T,m),Ml(o,s,T))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var m=mn(),T=Vi(s),F=ni(m,T);F.tag=1,F.payload=o,l!=null&&(F.callback=l),o=Bi(s,F,T),o!==null&&(gr(o,s,T,m),Ml(o,s,T))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=mn(),m=Vi(s),T=ni(l,m);T.tag=2,o!=null&&(T.callback=o),o=Bi(s,T,m),o!==null&&(gr(o,s,m,l),Ml(o,s,m))}};function kv(s,o,l,m,T,F,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,F,U):o.prototype&&o.prototype.isPureReactComponent?!qa(l,m)||!qa(T,F):!0}function Rv(s,o,l){var m=!1,T=Ni,F=o.contextType;return typeof F=="object"&&F!==null?F=Jn(F):(T=Tn(o)?Is:rn.current,m=o.contextTypes,F=(m=m!=null)?ko(s,T):Ni),o=new o(l,F),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=$l,s.stateNode=o,o._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=T,s.__reactInternalMemoizedMaskedChildContext=F),o}function Pv(s,o,l,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,m),o.state!==s&&$l.enqueueReplaceState(o,o.state,null)}function Gf(s,o,l,m){var T=s.stateNode;T.props=l,T.state=s.memoizedState,T.refs={},Rf(s);var F=o.contextType;typeof F=="object"&&F!==null?T.context=Jn(F):(F=Tn(o)?Is:rn.current,T.context=ko(s,F)),T.state=s.memoizedState,F=o.getDerivedStateFromProps,typeof F=="function"&&(Hf(s,o,F,l),T.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(o=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),o!==T.state&&$l.enqueueReplaceState(T,T.state,null),jl(s,l,T,m),T.state=s.memoizedState),typeof T.componentDidMount=="function"&&(s.flags|=4194308)}function Mo(s,o){try{var l="",m=o;do l+=Z(m),m=m.return;while(m);var T=l}catch(F){T=`
Error generating stack: `+F.message+`
`+F.stack}return{value:s,source:o,stack:T,digest:null}}function $f(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function Wf(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var Rb=typeof WeakMap=="function"?WeakMap:Map;function Ov(s,o,l){l=ni(-1,l),l.tag=3,l.payload={element:null};var m=o.value;return l.callback=function(){Xl||(Xl=!0,ud=m),Wf(s,o)},l}function Nv(s,o,l){l=ni(-1,l),l.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var T=o.value;l.payload=function(){return m(T)},l.callback=function(){Wf(s,o)}}var F=s.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(l.callback=function(){Wf(s,o),typeof m!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var U=o.stack;this.componentDidCatch(o.value,{componentStack:U!==null?U:""})}),l}function Lv(s,o,l){var m=s.pingCache;if(m===null){m=s.pingCache=new Rb;var T=new Set;m.set(o,T)}else T=m.get(o),T===void 0&&(T=new Set,m.set(o,T));T.has(l)||(T.add(l),s=Gb.bind(null,s,o,l),o.then(s,s))}function Fv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Bv(s,o,l,m,T){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=ni(-1,1),o.tag=2,Bi(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=T,s)}var Pb=b.ReactCurrentOwner,Sn=!1;function pn(s,o,l,m){o.child=s===null?rv(o,null,l,m):No(o,s.child,l,m)}function Mv(s,o,l,m,T){l=l.render;var F=o.ref;return Fo(o,T),m=Mf(s,o,l,m,F,T),l=jf(),s!==null&&!Sn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~T,ri(s,o,T)):(At&&l&&Ef(o),o.flags|=1,pn(s,o,m,T),o.child)}function jv(s,o,l,m,T){if(s===null){var F=l.type;return typeof F=="function"&&!md(F)&&F.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=F,qv(s,o,F,m,T)):(s=sc(l.type,null,m,o,o.mode,T),s.ref=o.ref,s.return=o,o.child=s)}if(F=s.child,(s.lanes&T)===0){var U=F.memoizedProps;if(l=l.compare,l=l!==null?l:qa,l(U,m)&&s.ref===o.ref)return ri(s,o,T)}return o.flags|=1,s=zi(F,m),s.ref=o.ref,s.return=o,o.child=s}function qv(s,o,l,m,T){if(s!==null){var F=s.memoizedProps;if(qa(F,m)&&s.ref===o.ref)if(Sn=!1,o.pendingProps=m=F,(s.lanes&T)!==0)(s.flags&131072)!==0&&(Sn=!0);else return o.lanes=s.lanes,ri(s,o,T)}return Kf(s,o,l,m,T)}function Vv(s,o,l){var m=o.pendingProps,T=m.children,F=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(qo,jn),jn|=l;else{if((l&1073741824)===0)return s=F!==null?F.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,gt(qo,jn),jn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=F!==null?F.baseLanes:l,gt(qo,jn),jn|=m}else F!==null?(m=F.baseLanes|l,o.memoizedState=null):m=l,gt(qo,jn),jn|=m;return pn(s,o,T,l),o.child}function Uv(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Kf(s,o,l,m,T){var F=Tn(l)?Is:rn.current;return F=ko(o,F),Fo(o,T),l=Mf(s,o,l,m,F,T),m=jf(),s!==null&&!Sn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~T,ri(s,o,T)):(At&&m&&Ef(o),o.flags|=1,pn(s,o,l,T),o.child)}function zv(s,o,l,m,T){if(Tn(l)){var F=!0;kl(o)}else F=!1;if(Fo(o,T),o.stateNode===null)Kl(s,o),Rv(o,l,m),Gf(o,l,m,T),m=!0;else if(s===null){var U=o.stateNode,Y=o.memoizedProps;U.props=Y;var ne=U.context,pe=l.contextType;typeof pe=="object"&&pe!==null?pe=Jn(pe):(pe=Tn(l)?Is:rn.current,pe=ko(o,pe));var Ce=l.getDerivedStateFromProps,be=typeof Ce=="function"||typeof U.getSnapshotBeforeUpdate=="function";be||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Y!==m||ne!==pe)&&Pv(o,U,m,pe),Fi=!1;var Ae=o.memoizedState;U.state=Ae,jl(o,m,U,T),ne=o.memoizedState,Y!==m||Ae!==ne||bn.current||Fi?(typeof Ce=="function"&&(Hf(o,l,Ce,m),ne=o.memoizedState),(Y=Fi||kv(o,l,Y,m,Ae,ne,pe))?(be||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(o.flags|=4194308)):(typeof U.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ne),U.props=m,U.state=ne,U.context=pe,m=Y):(typeof U.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{U=o.stateNode,sv(s,o),Y=o.memoizedProps,pe=o.type===o.elementType?Y:dr(o.type,Y),U.props=pe,be=o.pendingProps,Ae=U.context,ne=l.contextType,typeof ne=="object"&&ne!==null?ne=Jn(ne):(ne=Tn(l)?Is:rn.current,ne=ko(o,ne));var Pe=l.getDerivedStateFromProps;(Ce=typeof Pe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Y!==be||Ae!==ne)&&Pv(o,U,m,ne),Fi=!1,Ae=o.memoizedState,U.state=Ae,jl(o,m,U,T);var Fe=o.memoizedState;Y!==be||Ae!==Fe||bn.current||Fi?(typeof Pe=="function"&&(Hf(o,l,Pe,m),Fe=o.memoizedState),(pe=Fi||kv(o,l,pe,m,Ae,Fe,ne)||!1)?(Ce||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(m,Fe,ne),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(m,Fe,ne)),typeof U.componentDidUpdate=="function"&&(o.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof U.componentDidUpdate!="function"||Y===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Fe),U.props=m,U.state=Fe,U.context=ne,m=pe):(typeof U.componentDidUpdate!="function"||Y===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=1024),m=!1)}return Jf(s,o,l,m,F,T)}function Jf(s,o,l,m,T,F){Uv(s,o);var U=(o.flags&128)!==0;if(!m&&!U)return T&&Ky(o,l,!1),ri(s,o,F);m=o.stateNode,Pb.current=o;var Y=U&&typeof l.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,s!==null&&U?(o.child=No(o,s.child,null,F),o.child=No(o,null,Y,F)):pn(s,o,Y,F),o.memoizedState=m.state,T&&Ky(o,l,!0),o.child}function Hv(s){var o=s.stateNode;o.pendingContext?$y(s,o.pendingContext,o.pendingContext!==o.context):o.context&&$y(s,o.context,!1),Pf(s,o.containerInfo)}function Gv(s,o,l,m,T){return Oo(),Tf(T),o.flags|=256,pn(s,o,l,m),o.child}var Qf={dehydrated:null,treeContext:null,retryLane:0};function Yf(s){return{baseLanes:s,cachePool:null,transitions:null}}function $v(s,o,l){var m=o.pendingProps,T=bt.current,F=!1,U=(o.flags&128)!==0,Y;if((Y=U)||(Y=s!==null&&s.memoizedState===null?!1:(T&2)!==0),Y?(F=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(T|=1),gt(bt,T&1),s===null)return bf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(U=m.children,s=m.fallback,F?(m=o.mode,F=o.child,U={mode:"hidden",children:U},(m&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=U):F=oc(U,m,0,null),s=js(s,m,l,null),F.return=o,s.return=o,F.sibling=s,o.child=F,o.child.memoizedState=Yf(l),o.memoizedState=Qf,s):Zf(o,U));if(T=s.memoizedState,T!==null&&(Y=T.dehydrated,Y!==null))return Ob(s,o,U,m,Y,T,l);if(F){F=m.fallback,U=o.mode,T=s.child,Y=T.sibling;var ne={mode:"hidden",children:m.children};return(U&1)===0&&o.child!==T?(m=o.child,m.childLanes=0,m.pendingProps=ne,o.deletions=null):(m=zi(T,ne),m.subtreeFlags=T.subtreeFlags&14680064),Y!==null?F=zi(Y,F):(F=js(F,U,l,null),F.flags|=2),F.return=o,m.return=o,m.sibling=F,o.child=m,m=F,F=o.child,U=s.child.memoizedState,U=U===null?Yf(l):{baseLanes:U.baseLanes|l,cachePool:null,transitions:U.transitions},F.memoizedState=U,F.childLanes=s.childLanes&~l,o.memoizedState=Qf,m}return F=s.child,s=F.sibling,m=zi(F,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=l),m.return=o,m.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=m,o.memoizedState=null,m}function Zf(s,o){return o=oc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Wl(s,o,l,m){return m!==null&&Tf(m),No(o,s.child,null,l),s=Zf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Ob(s,o,l,m,T,F,U){if(l)return o.flags&256?(o.flags&=-257,m=$f(Error(t(422))),Wl(s,o,U,m)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(F=m.fallback,T=o.mode,m=oc({mode:"visible",children:m.children},T,0,null),F=js(F,T,U,null),F.flags|=2,m.return=o,F.return=o,m.sibling=F,o.child=m,(o.mode&1)!==0&&No(o,s.child,null,U),o.child.memoizedState=Yf(U),o.memoizedState=Qf,F);if((o.mode&1)===0)return Wl(s,o,U,null);if(T.data==="$!"){if(m=T.nextSibling&&T.nextSibling.dataset,m)var Y=m.dgst;return m=Y,F=Error(t(419)),m=$f(F,m,void 0),Wl(s,o,U,m)}if(Y=(U&s.childLanes)!==0,Sn||Y){if(m=Wt,m!==null){switch(U&-U){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(m.suspendedLanes|U))!==0?0:T,T!==0&&T!==F.retryLane&&(F.retryLane=T,ti(s,T),gr(m,s,T,-1))}return pd(),m=$f(Error(t(421))),Wl(s,o,U,m)}return T.data==="$?"?(o.flags|=128,o.child=s.child,o=$b.bind(null,s),T._reactRetry=o,null):(s=F.treeContext,Mn=Pi(T.nextSibling),Bn=o,At=!0,fr=null,s!==null&&(Wn[Kn++]=Xr,Wn[Kn++]=ei,Wn[Kn++]=ks,Xr=s.id,ei=s.overflow,ks=o),o=Zf(o,m.children),o.flags|=4096,o)}function Wv(s,o,l){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),If(s.return,o,l)}function Xf(s,o,l,m,T){var F=s.memoizedState;F===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:l,tailMode:T}:(F.isBackwards=o,F.rendering=null,F.renderingStartTime=0,F.last=m,F.tail=l,F.tailMode=T)}function Kv(s,o,l){var m=o.pendingProps,T=m.revealOrder,F=m.tail;if(pn(s,o,m.children,l),m=bt.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Wv(s,l,o);else if(s.tag===19)Wv(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(gt(bt,m),(o.mode&1)===0)o.memoizedState=null;else switch(T){case"forwards":for(l=o.child,T=null;l!==null;)s=l.alternate,s!==null&&ql(s)===null&&(T=l),l=l.sibling;l=T,l===null?(T=o.child,o.child=null):(T=l.sibling,l.sibling=null),Xf(o,!1,T,l,F);break;case"backwards":for(l=null,T=o.child,o.child=null;T!==null;){if(s=T.alternate,s!==null&&ql(s)===null){o.child=T;break}s=T.sibling,T.sibling=l,l=T,T=s}Xf(o,!0,l,null,F);break;case"together":Xf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Kl(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ri(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),Ls|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,l=zi(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=zi(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function Nb(s,o,l){switch(o.tag){case 3:Hv(o),Oo();break;case 5:uv(o);break;case 1:Tn(o.type)&&kl(o);break;case 4:Pf(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,T=o.memoizedProps.value;gt(Fl,m._currentValue),m._currentValue=T;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(gt(bt,bt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?$v(s,o,l):(gt(bt,bt.current&1),s=ri(s,o,l),s!==null?s.sibling:null);gt(bt,bt.current&1);break;case 19:if(m=(l&o.childLanes)!==0,(s.flags&128)!==0){if(m)return Kv(s,o,l);o.flags|=128}if(T=o.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),gt(bt,bt.current),m)break;return null;case 22:case 23:return o.lanes=0,Vv(s,o,l)}return ri(s,o,l)}var Jv,ed,Qv,Yv;Jv=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ed=function(){},Qv=function(s,o,l,m){var T=s.memoizedProps;if(T!==m){s=o.stateNode,Os(kr.current);var F=null;switch(l){case"input":T=ke(s,T),m=ke(s,m),F=[];break;case"select":T=H({},T,{value:void 0}),m=H({},m,{value:void 0}),F=[];break;case"textarea":T=ve(s,T),m=ve(s,m),F=[];break;default:typeof T.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Dl)}Ea(l,m);var U;l=null;for(pe in T)if(!m.hasOwnProperty(pe)&&T.hasOwnProperty(pe)&&T[pe]!=null)if(pe==="style"){var Y=T[pe];for(U in Y)Y.hasOwnProperty(U)&&(l||(l={}),l[U]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(i.hasOwnProperty(pe)?F||(F=[]):(F=F||[]).push(pe,null));for(pe in m){var ne=m[pe];if(Y=T!=null?T[pe]:void 0,m.hasOwnProperty(pe)&&ne!==Y&&(ne!=null||Y!=null))if(pe==="style")if(Y){for(U in Y)!Y.hasOwnProperty(U)||ne&&ne.hasOwnProperty(U)||(l||(l={}),l[U]="");for(U in ne)ne.hasOwnProperty(U)&&Y[U]!==ne[U]&&(l||(l={}),l[U]=ne[U])}else l||(F||(F=[]),F.push(pe,l)),l=ne;else pe==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,Y=Y?Y.__html:void 0,ne!=null&&Y!==ne&&(F=F||[]).push(pe,ne)):pe==="children"?typeof ne!="string"&&typeof ne!="number"||(F=F||[]).push(pe,""+ne):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(pe)?(ne!=null&&pe==="onScroll"&&vt("scroll",s),F||Y===ne||(F=[])):(F=F||[]).push(pe,ne))}l&&(F=F||[]).push("style",l);var pe=F;(o.updateQueue=pe)&&(o.flags|=4)}},Yv=function(s,o,l,m){l!==m&&(o.flags|=4)};function tu(s,o){if(!At)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function on(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,m=0;if(o)for(var T=s.child;T!==null;)l|=T.lanes|T.childLanes,m|=T.subtreeFlags&14680064,m|=T.flags&14680064,T.return=s,T=T.sibling;else for(T=s.child;T!==null;)l|=T.lanes|T.childLanes,m|=T.subtreeFlags,m|=T.flags,T.return=s,T=T.sibling;return s.subtreeFlags|=m,s.childLanes=l,o}function Lb(s,o,l){var m=o.pendingProps;switch(Af(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(o),null;case 1:return Tn(o.type)&&Il(),on(o),null;case 3:return m=o.stateNode,Bo(),_t(bn),_t(rn),Lf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Nl(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,fr!==null&&(hd(fr),fr=null))),ed(s,o),on(o),null;case 5:Of(o);var T=Os(Qa.current);if(l=o.type,s!==null&&o.stateNode!=null)Qv(s,o,l,m,T),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(t(166));return on(o),null}if(s=Os(kr.current),Nl(o)){m=o.stateNode,l=o.type;var F=o.memoizedProps;switch(m[Ir]=o,m[Ga]=F,s=(o.mode&1)!==0,l){case"dialog":vt("cancel",m),vt("close",m);break;case"iframe":case"object":case"embed":vt("load",m);break;case"video":case"audio":for(T=0;T<Ua.length;T++)vt(Ua[T],m);break;case"source":vt("error",m);break;case"img":case"image":case"link":vt("error",m),vt("load",m);break;case"details":vt("toggle",m);break;case"input":Re(m,F),vt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!F.multiple},vt("invalid",m);break;case"textarea":Ge(m,F),vt("invalid",m)}Ea(l,F),T=null;for(var U in F)if(F.hasOwnProperty(U)){var Y=F[U];U==="children"?typeof Y=="string"?m.textContent!==Y&&(F.suppressHydrationWarning!==!0&&Sl(m.textContent,Y,s),T=["children",Y]):typeof Y=="number"&&m.textContent!==""+Y&&(F.suppressHydrationWarning!==!0&&Sl(m.textContent,Y,s),T=["children",""+Y]):i.hasOwnProperty(U)&&Y!=null&&U==="onScroll"&&vt("scroll",m)}switch(l){case"input":ge(m),le(m,F,!0);break;case"textarea":ge(m),Ve(m);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(m.onclick=Dl)}m=T,o.updateQueue=m,m!==null&&(o.flags|=4)}else{U=T.nodeType===9?T:T.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=$e(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=U.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=U.createElement(l,{is:m.is}):(s=U.createElement(l),l==="select"&&(U=s,m.multiple?U.multiple=!0:m.size&&(U.size=m.size))):s=U.createElementNS(s,l),s[Ir]=o,s[Ga]=m,Jv(s,o,!1,!1),o.stateNode=s;e:{switch(U=Aa(l,m),l){case"dialog":vt("cancel",s),vt("close",s),T=m;break;case"iframe":case"object":case"embed":vt("load",s),T=m;break;case"video":case"audio":for(T=0;T<Ua.length;T++)vt(Ua[T],s);T=m;break;case"source":vt("error",s),T=m;break;case"img":case"image":case"link":vt("error",s),vt("load",s),T=m;break;case"details":vt("toggle",s),T=m;break;case"input":Re(s,m),T=ke(s,m),vt("invalid",s);break;case"option":T=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},T=H({},m,{value:void 0}),vt("invalid",s);break;case"textarea":Ge(s,m),T=ve(s,m),vt("invalid",s);break;default:T=m}Ea(l,T),Y=T;for(F in Y)if(Y.hasOwnProperty(F)){var ne=Y[F];F==="style"?Ei(s,ne):F==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&er(s,ne)):F==="children"?typeof ne=="string"?(l!=="textarea"||ne!=="")&&ct(s,ne):typeof ne=="number"&&ct(s,""+ne):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?ne!=null&&F==="onScroll"&&vt("scroll",s):ne!=null&&O(s,F,ne,U))}switch(l){case"input":ge(s),le(s,m,!1);break;case"textarea":ge(s),Ve(s);break;case"option":m.value!=null&&s.setAttribute("value",""+te(m.value));break;case"select":s.multiple=!!m.multiple,F=m.value,F!=null?Se(s,!!m.multiple,F,!1):m.defaultValue!=null&&Se(s,!!m.multiple,m.defaultValue,!0);break;default:typeof T.onClick=="function"&&(s.onclick=Dl)}switch(l){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return on(o),null;case 6:if(s&&o.stateNode!=null)Yv(s,o,s.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(t(166));if(l=Os(Qa.current),Os(kr.current),Nl(o)){if(m=o.stateNode,l=o.memoizedProps,m[Ir]=o,(F=m.nodeValue!==l)&&(s=Bn,s!==null))switch(s.tag){case 3:Sl(m.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Sl(m.nodeValue,l,(s.mode&1)!==0)}F&&(o.flags|=4)}else m=(l.nodeType===9?l:l.ownerDocument).createTextNode(m),m[Ir]=o,o.stateNode=m}return on(o),null;case 13:if(_t(bt),m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(At&&Mn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)ev(),Oo(),o.flags|=98560,F=!1;else if(F=Nl(o),m!==null&&m.dehydrated!==null){if(s===null){if(!F)throw Error(t(318));if(F=o.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(t(317));F[Ir]=o}else Oo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;on(o),F=!1}else fr!==null&&(hd(fr),fr=null),F=!0;if(!F)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(bt.current&1)!==0?Ut===0&&(Ut=3):pd())),o.updateQueue!==null&&(o.flags|=4),on(o),null);case 4:return Bo(),ed(s,o),s===null&&za(o.stateNode.containerInfo),on(o),null;case 10:return xf(o.type._context),on(o),null;case 17:return Tn(o.type)&&Il(),on(o),null;case 19:if(_t(bt),F=o.memoizedState,F===null)return on(o),null;if(m=(o.flags&128)!==0,U=F.rendering,U===null)if(m)tu(F,!1);else{if(Ut!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(U=ql(s),U!==null){for(o.flags|=128,tu(F,!1),m=U.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=l,l=o.child;l!==null;)F=l,s=m,F.flags&=14680066,U=F.alternate,U===null?(F.childLanes=0,F.lanes=s,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=U.childLanes,F.lanes=U.lanes,F.child=U.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=U.memoizedProps,F.memoizedState=U.memoizedState,F.updateQueue=U.updateQueue,F.type=U.type,s=U.dependencies,F.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return gt(bt,bt.current&1|2),o.child}s=s.sibling}F.tail!==null&&mt()>Vo&&(o.flags|=128,m=!0,tu(F,!1),o.lanes=4194304)}else{if(!m)if(s=ql(U),s!==null){if(o.flags|=128,m=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),tu(F,!0),F.tail===null&&F.tailMode==="hidden"&&!U.alternate&&!At)return on(o),null}else 2*mt()-F.renderingStartTime>Vo&&l!==1073741824&&(o.flags|=128,m=!0,tu(F,!1),o.lanes=4194304);F.isBackwards?(U.sibling=o.child,o.child=U):(l=F.last,l!==null?l.sibling=U:o.child=U,F.last=U)}return F.tail!==null?(o=F.tail,F.rendering=o,F.tail=o.sibling,F.renderingStartTime=mt(),o.sibling=null,l=bt.current,gt(bt,m?l&1|2:l&1),o):(on(o),null);case 22:case 23:return dd(),m=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(jn&1073741824)!==0&&(on(o),o.subtreeFlags&6&&(o.flags|=8192)):on(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Fb(s,o){switch(Af(o),o.tag){case 1:return Tn(o.type)&&Il(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Bo(),_t(bn),_t(rn),Lf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Of(o),null;case 13:if(_t(bt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Oo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return _t(bt),null;case 4:return Bo(),null;case 10:return xf(o.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var Jl=!1,an=!1,Bb=typeof WeakSet=="function"?WeakSet:Set,Le=null;function jo(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(m){xt(s,o,m)}else l.current=null}function td(s,o,l){try{l()}catch(m){xt(s,o,m)}}var Zv=!1;function Mb(s,o){if(df=Ii,s=ky(),sf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var m=l.getSelection&&l.getSelection();if(m&&m.rangeCount!==0){l=m.anchorNode;var T=m.anchorOffset,F=m.focusNode;m=m.focusOffset;try{l.nodeType,F.nodeType}catch{l=null;break e}var U=0,Y=-1,ne=-1,pe=0,Ce=0,be=s,Ae=null;t:for(;;){for(var Pe;be!==l||T!==0&&be.nodeType!==3||(Y=U+T),be!==F||m!==0&&be.nodeType!==3||(ne=U+m),be.nodeType===3&&(U+=be.nodeValue.length),(Pe=be.firstChild)!==null;)Ae=be,be=Pe;for(;;){if(be===s)break t;if(Ae===l&&++pe===T&&(Y=U),Ae===F&&++Ce===m&&(ne=U),(Pe=be.nextSibling)!==null)break;be=Ae,Ae=be.parentNode}be=Pe}l=Y===-1||ne===-1?null:{start:Y,end:ne}}else l=null}l=l||{start:0,end:0}}else l=null;for(pf={focusedElem:s,selectionRange:l},Ii=!1,Le=o;Le!==null;)if(o=Le,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Le=s;else for(;Le!==null;){o=Le;try{var Fe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var je=Fe.memoizedProps,Ot=Fe.memoizedState,ue=o.stateNode,oe=ue.getSnapshotBeforeUpdate(o.elementType===o.type?je:dr(o.type,je),Ot);ue.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var ce=o.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Te){xt(o,o.return,Te)}if(s=o.sibling,s!==null){s.return=o.return,Le=s;break}Le=o.return}return Fe=Zv,Zv=!1,Fe}function nu(s,o,l){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var T=m=m.next;do{if((T.tag&s)===s){var F=T.destroy;T.destroy=void 0,F!==void 0&&td(o,l,F)}T=T.next}while(T!==m)}}function Ql(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var m=l.create;l.destroy=m()}l=l.next}while(l!==o)}}function nd(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function Xv(s){var o=s.alternate;o!==null&&(s.alternate=null,Xv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Ir],delete o[Ga],delete o[vf],delete o[wb],delete o[Eb])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function e2(s){return s.tag===5||s.tag===3||s.tag===4}function t2(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||e2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rd(s,o,l){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Dl));else if(m!==4&&(s=s.child,s!==null))for(rd(s,o,l),s=s.sibling;s!==null;)rd(s,o,l),s=s.sibling}function id(s,o,l){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(id(s,o,l),s=s.sibling;s!==null;)id(s,o,l),s=s.sibling}var Zt=null,pr=!1;function Mi(s,o,l){for(l=l.child;l!==null;)n2(s,o,l),l=l.sibling}function n2(s,o,l){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(Es,l)}catch{}switch(l.tag){case 5:an||jo(l,o);case 6:var m=Zt,T=pr;Zt=null,Mi(s,o,l),Zt=m,pr=T,Zt!==null&&(pr?(s=Zt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Zt.removeChild(l.stateNode));break;case 18:Zt!==null&&(pr?(s=Zt,l=l.stateNode,s.nodeType===8?yf(s.parentNode,l):s.nodeType===1&&yf(s,l),lr(s)):yf(Zt,l.stateNode));break;case 4:m=Zt,T=pr,Zt=l.stateNode.containerInfo,pr=!0,Mi(s,o,l),Zt=m,pr=T;break;case 0:case 11:case 14:case 15:if(!an&&(m=l.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){T=m=m.next;do{var F=T,U=F.destroy;F=F.tag,U!==void 0&&((F&2)!==0||(F&4)!==0)&&td(l,o,U),T=T.next}while(T!==m)}Mi(s,o,l);break;case 1:if(!an&&(jo(l,o),m=l.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=l.memoizedProps,m.state=l.memoizedState,m.componentWillUnmount()}catch(Y){xt(l,o,Y)}Mi(s,o,l);break;case 21:Mi(s,o,l);break;case 22:l.mode&1?(an=(m=an)||l.memoizedState!==null,Mi(s,o,l),an=m):Mi(s,o,l);break;default:Mi(s,o,l)}}function r2(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new Bb),o.forEach(function(m){var T=Wb.bind(null,s,m);l.has(m)||(l.add(m),m.then(T,T))})}}function mr(s,o){var l=o.deletions;if(l!==null)for(var m=0;m<l.length;m++){var T=l[m];try{var F=s,U=o,Y=U;e:for(;Y!==null;){switch(Y.tag){case 5:Zt=Y.stateNode,pr=!1;break e;case 3:Zt=Y.stateNode.containerInfo,pr=!0;break e;case 4:Zt=Y.stateNode.containerInfo,pr=!0;break e}Y=Y.return}if(Zt===null)throw Error(t(160));n2(F,U,T),Zt=null,pr=!1;var ne=T.alternate;ne!==null&&(ne.return=null),T.return=null}catch(pe){xt(T,o,pe)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)i2(o,s),o=o.sibling}function i2(s,o){var l=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(mr(o,s),Pr(s),m&4){try{nu(3,s,s.return),Ql(3,s)}catch(je){xt(s,s.return,je)}try{nu(5,s,s.return)}catch(je){xt(s,s.return,je)}}break;case 1:mr(o,s),Pr(s),m&512&&l!==null&&jo(l,l.return);break;case 5:if(mr(o,s),Pr(s),m&512&&l!==null&&jo(l,l.return),s.flags&32){var T=s.stateNode;try{ct(T,"")}catch(je){xt(s,s.return,je)}}if(m&4&&(T=s.stateNode,T!=null)){var F=s.memoizedProps,U=l!==null?l.memoizedProps:F,Y=s.type,ne=s.updateQueue;if(s.updateQueue=null,ne!==null)try{Y==="input"&&F.type==="radio"&&F.name!=null&&Be(T,F),Aa(Y,U);var pe=Aa(Y,F);for(U=0;U<ne.length;U+=2){var Ce=ne[U],be=ne[U+1];Ce==="style"?Ei(T,be):Ce==="dangerouslySetInnerHTML"?er(T,be):Ce==="children"?ct(T,be):O(T,Ce,be,pe)}switch(Y){case"input":et(T,F);break;case"textarea":Me(T,F);break;case"select":var Ae=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!F.multiple;var Pe=F.value;Pe!=null?Se(T,!!F.multiple,Pe,!1):Ae!==!!F.multiple&&(F.defaultValue!=null?Se(T,!!F.multiple,F.defaultValue,!0):Se(T,!!F.multiple,F.multiple?[]:"",!1))}T[Ga]=F}catch(je){xt(s,s.return,je)}}break;case 6:if(mr(o,s),Pr(s),m&4){if(s.stateNode===null)throw Error(t(162));T=s.stateNode,F=s.memoizedProps;try{T.nodeValue=F}catch(je){xt(s,s.return,je)}}break;case 3:if(mr(o,s),Pr(s),m&4&&l!==null&&l.memoizedState.isDehydrated)try{lr(o.containerInfo)}catch(je){xt(s,s.return,je)}break;case 4:mr(o,s),Pr(s);break;case 13:mr(o,s),Pr(s),T=s.child,T.flags&8192&&(F=T.memoizedState!==null,T.stateNode.isHidden=F,!F||T.alternate!==null&&T.alternate.memoizedState!==null||(ad=mt())),m&4&&r2(s);break;case 22:if(Ce=l!==null&&l.memoizedState!==null,s.mode&1?(an=(pe=an)||Ce,mr(o,s),an=pe):mr(o,s),Pr(s),m&8192){if(pe=s.memoizedState!==null,(s.stateNode.isHidden=pe)&&!Ce&&(s.mode&1)!==0)for(Le=s,Ce=s.child;Ce!==null;){for(be=Le=Ce;Le!==null;){switch(Ae=Le,Pe=Ae.child,Ae.tag){case 0:case 11:case 14:case 15:nu(4,Ae,Ae.return);break;case 1:jo(Ae,Ae.return);var Fe=Ae.stateNode;if(typeof Fe.componentWillUnmount=="function"){m=Ae,l=Ae.return;try{o=m,Fe.props=o.memoizedProps,Fe.state=o.memoizedState,Fe.componentWillUnmount()}catch(je){xt(m,l,je)}}break;case 5:jo(Ae,Ae.return);break;case 22:if(Ae.memoizedState!==null){a2(be);continue}}Pe!==null?(Pe.return=Ae,Le=Pe):a2(be)}Ce=Ce.sibling}e:for(Ce=null,be=s;;){if(be.tag===5){if(Ce===null){Ce=be;try{T=be.stateNode,pe?(F=T.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(Y=be.stateNode,ne=be.memoizedProps.style,U=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,Y.style.display=tr("display",U))}catch(je){xt(s,s.return,je)}}}else if(be.tag===6){if(Ce===null)try{be.stateNode.nodeValue=pe?"":be.memoizedProps}catch(je){xt(s,s.return,je)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===s)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===s)break e;for(;be.sibling===null;){if(be.return===null||be.return===s)break e;Ce===be&&(Ce=null),be=be.return}Ce===be&&(Ce=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:mr(o,s),Pr(s),m&4&&r2(s);break;case 21:break;default:mr(o,s),Pr(s)}}function Pr(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(e2(l)){var m=l;break e}l=l.return}throw Error(t(160))}switch(m.tag){case 5:var T=m.stateNode;m.flags&32&&(ct(T,""),m.flags&=-33);var F=t2(s);id(s,F,T);break;case 3:case 4:var U=m.stateNode.containerInfo,Y=t2(s);rd(s,Y,U);break;default:throw Error(t(161))}}catch(ne){xt(s,s.return,ne)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function jb(s,o,l){Le=s,s2(s)}function s2(s,o,l){for(var m=(s.mode&1)!==0;Le!==null;){var T=Le,F=T.child;if(T.tag===22&&m){var U=T.memoizedState!==null||Jl;if(!U){var Y=T.alternate,ne=Y!==null&&Y.memoizedState!==null||an;Y=Jl;var pe=an;if(Jl=U,(an=ne)&&!pe)for(Le=T;Le!==null;)U=Le,ne=U.child,U.tag===22&&U.memoizedState!==null?u2(T):ne!==null?(ne.return=U,Le=ne):u2(T);for(;F!==null;)Le=F,s2(F),F=F.sibling;Le=T,Jl=Y,an=pe}o2(s)}else(T.subtreeFlags&8772)!==0&&F!==null?(F.return=T,Le=F):o2(s)}}function o2(s){for(;Le!==null;){var o=Le;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:an||Ql(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!an)if(l===null)m.componentDidMount();else{var T=o.elementType===o.type?l.memoizedProps:dr(o.type,l.memoizedProps);m.componentDidUpdate(T,l.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var F=o.updateQueue;F!==null&&av(o,F,m);break;case 3:var U=o.updateQueue;if(U!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}av(o,U,l)}break;case 5:var Y=o.stateNode;if(l===null&&o.flags&4){l=Y;var ne=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&l.focus();break;case"img":ne.src&&(l.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var pe=o.alternate;if(pe!==null){var Ce=pe.memoizedState;if(Ce!==null){var be=Ce.dehydrated;be!==null&&lr(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}an||o.flags&512&&nd(o)}catch(Ae){xt(o,o.return,Ae)}}if(o===s){Le=null;break}if(l=o.sibling,l!==null){l.return=o.return,Le=l;break}Le=o.return}}function a2(s){for(;Le!==null;){var o=Le;if(o===s){Le=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Le=l;break}Le=o.return}}function u2(s){for(;Le!==null;){var o=Le;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Ql(4,o)}catch(ne){xt(o,l,ne)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var T=o.return;try{m.componentDidMount()}catch(ne){xt(o,T,ne)}}var F=o.return;try{nd(o)}catch(ne){xt(o,F,ne)}break;case 5:var U=o.return;try{nd(o)}catch(ne){xt(o,U,ne)}}}catch(ne){xt(o,o.return,ne)}if(o===s){Le=null;break}var Y=o.sibling;if(Y!==null){Y.return=o.return,Le=Y;break}Le=o.return}}var qb=Math.ceil,Yl=b.ReactCurrentDispatcher,sd=b.ReactCurrentOwner,Yn=b.ReactCurrentBatchConfig,lt=0,Wt=null,Bt=null,Xt=0,jn=0,qo=Oi(0),Ut=0,ru=null,Ls=0,Zl=0,od=0,iu=null,Dn=null,ad=0,Vo=1/0,ii=null,Xl=!1,ud=null,ji=null,ec=!1,qi=null,tc=0,su=0,ld=null,nc=-1,rc=0;function mn(){return(lt&6)!==0?mt():nc!==-1?nc:nc=mt()}function Vi(s){return(s.mode&1)===0?1:(lt&2)!==0&&Xt!==0?Xt&-Xt:Cb.transition!==null?(rc===0&&(rc=Cs()),rc):(s=st,s!==0||(s=window.event,s=s===void 0?16:Oa(s.type)),s)}function gr(s,o,l,m){if(50<su)throw su=0,ld=null,Error(t(185));Ti(s,l,m),((lt&2)===0||s!==Wt)&&(s===Wt&&((lt&2)===0&&(Zl|=l),Ut===4&&Ui(s,Xt)),xn(s,m),l===1&&lt===0&&(o.mode&1)===0&&(Vo=mt()+500,Rl&&Li()))}function xn(s,o){var l=s.callbackNode;$r(s,o);var m=As(s,s===Wt?Xt:0);if(m===0)l!==null&&xa(l),s.callbackNode=null,s.callbackPriority=0;else if(o=m&-m,s.callbackPriority!==o){if(l!=null&&xa(l),o===1)s.tag===0?Ab(c2.bind(null,s)):Jy(c2.bind(null,s)),vb(function(){(lt&6)===0&&Li()}),l=null;else{switch(Di(m)){case 1:l=ws;break;case 4:l=Ai;break;case 16:l=Hn;break;case 536870912:l=rl;break;default:l=Hn}l=v2(l,l2.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function l2(s,o){if(nc=-1,rc=0,(lt&6)!==0)throw Error(t(327));var l=s.callbackNode;if(Uo()&&s.callbackNode!==l)return null;var m=As(s,s===Wt?Xt:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||o)o=ic(s,m);else{o=m;var T=lt;lt|=2;var F=f2();(Wt!==s||Xt!==o)&&(ii=null,Vo=mt()+500,Bs(s,o));do try{zb();break}catch(Y){h2(s,Y)}while(!0);Df(),Yl.current=F,lt=T,Bt!==null?o=0:(Wt=null,Xt=0,o=Ut)}if(o!==0){if(o===2&&(T=Nn(s),T!==0&&(m=T,o=cd(s,T))),o===1)throw l=ru,Bs(s,0),Ui(s,m),xn(s,mt()),l;if(o===6)Ui(s,m);else{if(T=s.current.alternate,(m&30)===0&&!Vb(T)&&(o=ic(s,m),o===2&&(F=Nn(s),F!==0&&(m=F,o=cd(s,F))),o===1))throw l=ru,Bs(s,0),Ui(s,m),xn(s,mt()),l;switch(s.finishedWork=T,s.finishedLanes=m,o){case 0:case 1:throw Error(t(345));case 2:Ms(s,Dn,ii);break;case 3:if(Ui(s,m),(m&130023424)===m&&(o=ad+500-mt(),10<o)){if(As(s,0)!==0)break;if(T=s.suspendedLanes,(T&m)!==m){mn(),s.pingedLanes|=s.suspendedLanes&T;break}s.timeoutHandle=gf(Ms.bind(null,s,Dn,ii),o);break}Ms(s,Dn,ii);break;case 4:if(Ui(s,m),(m&4194240)===m)break;for(o=s.eventTimes,T=-1;0<m;){var U=31-fn(m);F=1<<U,U=o[U],U>T&&(T=U),m&=~F}if(m=T,m=mt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*qb(m/1960))-m,10<m){s.timeoutHandle=gf(Ms.bind(null,s,Dn,ii),m);break}Ms(s,Dn,ii);break;case 5:Ms(s,Dn,ii);break;default:throw Error(t(329))}}}return xn(s,mt()),s.callbackNode===l?l2.bind(null,s):null}function cd(s,o){var l=iu;return s.current.memoizedState.isDehydrated&&(Bs(s,o).flags|=256),s=ic(s,o),s!==2&&(o=Dn,Dn=l,o!==null&&hd(o)),s}function hd(s){Dn===null?Dn=s:Dn.push.apply(Dn,s)}function Vb(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var m=0;m<l.length;m++){var T=l[m],F=T.getSnapshot;T=T.value;try{if(!hr(F(),T))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ui(s,o){for(o&=~od,o&=~Zl,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-fn(o),m=1<<l;s[l]=-1,o&=~m}}function c2(s){if((lt&6)!==0)throw Error(t(327));Uo();var o=As(s,0);if((o&1)===0)return xn(s,mt()),null;var l=ic(s,o);if(s.tag!==0&&l===2){var m=Nn(s);m!==0&&(o=m,l=cd(s,m))}if(l===1)throw l=ru,Bs(s,0),Ui(s,o),xn(s,mt()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Ms(s,Dn,ii),xn(s,mt()),null}function fd(s,o){var l=lt;lt|=1;try{return s(o)}finally{lt=l,lt===0&&(Vo=mt()+500,Rl&&Li())}}function Fs(s){qi!==null&&qi.tag===0&&(lt&6)===0&&Uo();var o=lt;lt|=1;var l=Yn.transition,m=st;try{if(Yn.transition=null,st=1,s)return s()}finally{st=m,Yn.transition=l,lt=o,(lt&6)===0&&Li()}}function dd(){jn=qo.current,_t(qo)}function Bs(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,yb(l)),Bt!==null)for(l=Bt.return;l!==null;){var m=l;switch(Af(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Il();break;case 3:Bo(),_t(bn),_t(rn),Lf();break;case 5:Of(m);break;case 4:Bo();break;case 13:_t(bt);break;case 19:_t(bt);break;case 10:xf(m.type._context);break;case 22:case 23:dd()}l=l.return}if(Wt=s,Bt=s=zi(s.current,null),Xt=jn=o,Ut=0,ru=null,od=Zl=Ls=0,Dn=iu=null,Ps!==null){for(o=0;o<Ps.length;o++)if(l=Ps[o],m=l.interleaved,m!==null){l.interleaved=null;var T=m.next,F=l.pending;if(F!==null){var U=F.next;F.next=T,m.next=U}l.pending=m}Ps=null}return s}function h2(s,o){do{var l=Bt;try{if(Df(),Vl.current=Gl,Ul){for(var m=Tt.memoizedState;m!==null;){var T=m.queue;T!==null&&(T.pending=null),m=m.next}Ul=!1}if(Ns=0,$t=Vt=Tt=null,Ya=!1,Za=0,sd.current=null,l===null||l.return===null){Ut=1,ru=o,Bt=null;break}e:{var F=s,U=l.return,Y=l,ne=o;if(o=Xt,Y.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var pe=ne,Ce=Y,be=Ce.tag;if((Ce.mode&1)===0&&(be===0||be===11||be===15)){var Ae=Ce.alternate;Ae?(Ce.updateQueue=Ae.updateQueue,Ce.memoizedState=Ae.memoizedState,Ce.lanes=Ae.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var Pe=Fv(U);if(Pe!==null){Pe.flags&=-257,Bv(Pe,U,Y,F,o),Pe.mode&1&&Lv(F,pe,o),o=Pe,ne=pe;var Fe=o.updateQueue;if(Fe===null){var je=new Set;je.add(ne),o.updateQueue=je}else Fe.add(ne);break e}else{if((o&1)===0){Lv(F,pe,o),pd();break e}ne=Error(t(426))}}else if(At&&Y.mode&1){var Ot=Fv(U);if(Ot!==null){(Ot.flags&65536)===0&&(Ot.flags|=256),Bv(Ot,U,Y,F,o),Tf(Mo(ne,Y));break e}}F=ne=Mo(ne,Y),Ut!==4&&(Ut=2),iu===null?iu=[F]:iu.push(F),F=U;do{switch(F.tag){case 3:F.flags|=65536,o&=-o,F.lanes|=o;var ue=Ov(F,ne,o);ov(F,ue);break e;case 1:Y=ne;var oe=F.type,ce=F.stateNode;if((F.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(ji===null||!ji.has(ce)))){F.flags|=65536,o&=-o,F.lanes|=o;var Te=Nv(F,Y,o);ov(F,Te);break e}}F=F.return}while(F!==null)}p2(l)}catch(qe){o=qe,Bt===l&&l!==null&&(Bt=l=l.return);continue}break}while(!0)}function f2(){var s=Yl.current;return Yl.current=Gl,s===null?Gl:s}function pd(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Wt===null||(Ls&268435455)===0&&(Zl&268435455)===0||Ui(Wt,Xt)}function ic(s,o){var l=lt;lt|=2;var m=f2();(Wt!==s||Xt!==o)&&(ii=null,Bs(s,o));do try{Ub();break}catch(T){h2(s,T)}while(!0);if(Df(),lt=l,Yl.current=m,Bt!==null)throw Error(t(261));return Wt=null,Xt=0,Ut}function Ub(){for(;Bt!==null;)d2(Bt)}function zb(){for(;Bt!==null&&!tl();)d2(Bt)}function d2(s){var o=y2(s.alternate,s,jn);s.memoizedProps=s.pendingProps,o===null?p2(s):Bt=o,sd.current=null}function p2(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=Lb(l,o,jn),l!==null){Bt=l;return}}else{if(l=Fb(l,o),l!==null){l.flags&=32767,Bt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ut=6,Bt=null;return}}if(o=o.sibling,o!==null){Bt=o;return}Bt=o=s}while(o!==null);Ut===0&&(Ut=5)}function Ms(s,o,l){var m=st,T=Yn.transition;try{Yn.transition=null,st=1,Hb(s,o,l,m)}finally{Yn.transition=T,st=m}return null}function Hb(s,o,l,m){do Uo();while(qi!==null);if((lt&6)!==0)throw Error(t(327));l=s.finishedWork;var T=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var F=l.lanes|l.childLanes;if(pt(s,F),s===Wt&&(Bt=Wt=null,Xt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ec||(ec=!0,v2(Hn,function(){return Uo(),null})),F=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||F){F=Yn.transition,Yn.transition=null;var U=st;st=1;var Y=lt;lt|=4,sd.current=null,Mb(s,l),i2(l,s),cb(pf),Ii=!!df,pf=df=null,s.current=l,jb(l),Qh(),lt=Y,st=U,Yn.transition=F}else s.current=l;if(ec&&(ec=!1,qi=s,tc=T),F=s.pendingLanes,F===0&&(ji=null),il(l.stateNode),xn(s,mt()),o!==null)for(m=s.onRecoverableError,l=0;l<o.length;l++)T=o[l],m(T.value,{componentStack:T.stack,digest:T.digest});if(Xl)throw Xl=!1,s=ud,ud=null,s;return(tc&1)!==0&&s.tag!==0&&Uo(),F=s.pendingLanes,(F&1)!==0?s===ld?su++:(su=0,ld=s):su=0,Li(),null}function Uo(){if(qi!==null){var s=Di(tc),o=Yn.transition,l=st;try{if(Yn.transition=null,st=16>s?16:s,qi===null)var m=!1;else{if(s=qi,qi=null,tc=0,(lt&6)!==0)throw Error(t(331));var T=lt;for(lt|=4,Le=s.current;Le!==null;){var F=Le,U=F.child;if((Le.flags&16)!==0){var Y=F.deletions;if(Y!==null){for(var ne=0;ne<Y.length;ne++){var pe=Y[ne];for(Le=pe;Le!==null;){var Ce=Le;switch(Ce.tag){case 0:case 11:case 15:nu(8,Ce,F)}var be=Ce.child;if(be!==null)be.return=Ce,Le=be;else for(;Le!==null;){Ce=Le;var Ae=Ce.sibling,Pe=Ce.return;if(Xv(Ce),Ce===pe){Le=null;break}if(Ae!==null){Ae.return=Pe,Le=Ae;break}Le=Pe}}}var Fe=F.alternate;if(Fe!==null){var je=Fe.child;if(je!==null){Fe.child=null;do{var Ot=je.sibling;je.sibling=null,je=Ot}while(je!==null)}}Le=F}}if((F.subtreeFlags&2064)!==0&&U!==null)U.return=F,Le=U;else e:for(;Le!==null;){if(F=Le,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:nu(9,F,F.return)}var ue=F.sibling;if(ue!==null){ue.return=F.return,Le=ue;break e}Le=F.return}}var oe=s.current;for(Le=oe;Le!==null;){U=Le;var ce=U.child;if((U.subtreeFlags&2064)!==0&&ce!==null)ce.return=U,Le=ce;else e:for(U=oe;Le!==null;){if(Y=Le,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:Ql(9,Y)}}catch(qe){xt(Y,Y.return,qe)}if(Y===U){Le=null;break e}var Te=Y.sibling;if(Te!==null){Te.return=Y.return,Le=Te;break e}Le=Y.return}}if(lt=T,Li(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(Es,s)}catch{}m=!0}return m}finally{st=l,Yn.transition=o}}return!1}function m2(s,o,l){o=Mo(l,o),o=Ov(s,o,1),s=Bi(s,o,1),o=mn(),s!==null&&(Ti(s,1,o),xn(s,o))}function xt(s,o,l){if(s.tag===3)m2(s,s,l);else for(;o!==null;){if(o.tag===3){m2(o,s,l);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ji===null||!ji.has(m))){s=Mo(l,s),s=Nv(o,s,1),o=Bi(o,s,1),s=mn(),o!==null&&(Ti(o,1,s),xn(o,s));break}}o=o.return}}function Gb(s,o,l){var m=s.pingCache;m!==null&&m.delete(o),o=mn(),s.pingedLanes|=s.suspendedLanes&l,Wt===s&&(Xt&l)===l&&(Ut===4||Ut===3&&(Xt&130023424)===Xt&&500>mt()-ad?Bs(s,0):od|=l),xn(s,o)}function g2(s,o){o===0&&((s.mode&1)===0?o=1:(o=co,co<<=1,(co&130023424)===0&&(co=4194304)));var l=mn();s=ti(s,o),s!==null&&(Ti(s,o,l),xn(s,l))}function $b(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),g2(s,l)}function Wb(s,o){var l=0;switch(s.tag){case 13:var m=s.stateNode,T=s.memoizedState;T!==null&&(l=T.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(o),g2(s,l)}var y2;y2=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||bn.current)Sn=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return Sn=!1,Nb(s,o,l);Sn=(s.flags&131072)!==0}else Sn=!1,At&&(o.flags&1048576)!==0&&Qy(o,Ol,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Kl(s,o),s=o.pendingProps;var T=ko(o,rn.current);Fo(o,l),T=Mf(null,o,m,s,T,l);var F=jf();return o.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Tn(m)?(F=!0,kl(o)):F=!1,o.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,Rf(o),T.updater=$l,o.stateNode=T,T._reactInternals=o,Gf(o,m,s,l),o=Jf(null,o,m,!0,F,l)):(o.tag=0,At&&F&&Ef(o),pn(null,o,T,l),o=o.child),o;case 16:m=o.elementType;e:{switch(Kl(s,o),s=o.pendingProps,T=m._init,m=T(m._payload),o.type=m,T=o.tag=Jb(m),s=dr(m,s),T){case 0:o=Kf(null,o,m,s,l);break e;case 1:o=zv(null,o,m,s,l);break e;case 11:o=Mv(null,o,m,s,l);break e;case 14:o=jv(null,o,m,dr(m.type,s),l);break e}throw Error(t(306,m,""))}return o;case 0:return m=o.type,T=o.pendingProps,T=o.elementType===m?T:dr(m,T),Kf(s,o,m,T,l);case 1:return m=o.type,T=o.pendingProps,T=o.elementType===m?T:dr(m,T),zv(s,o,m,T,l);case 3:e:{if(Hv(o),s===null)throw Error(t(387));m=o.pendingProps,F=o.memoizedState,T=F.element,sv(s,o),jl(o,m,null,l);var U=o.memoizedState;if(m=U.element,F.isDehydrated)if(F={element:m,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},o.updateQueue.baseState=F,o.memoizedState=F,o.flags&256){T=Mo(Error(t(423)),o),o=Gv(s,o,m,l,T);break e}else if(m!==T){T=Mo(Error(t(424)),o),o=Gv(s,o,m,l,T);break e}else for(Mn=Pi(o.stateNode.containerInfo.firstChild),Bn=o,At=!0,fr=null,l=rv(o,null,m,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Oo(),m===T){o=ri(s,o,l);break e}pn(s,o,m,l)}o=o.child}return o;case 5:return uv(o),s===null&&bf(o),m=o.type,T=o.pendingProps,F=s!==null?s.memoizedProps:null,U=T.children,mf(m,T)?U=null:F!==null&&mf(m,F)&&(o.flags|=32),Uv(s,o),pn(s,o,U,l),o.child;case 6:return s===null&&bf(o),null;case 13:return $v(s,o,l);case 4:return Pf(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=No(o,null,m,l):pn(s,o,m,l),o.child;case 11:return m=o.type,T=o.pendingProps,T=o.elementType===m?T:dr(m,T),Mv(s,o,m,T,l);case 7:return pn(s,o,o.pendingProps,l),o.child;case 8:return pn(s,o,o.pendingProps.children,l),o.child;case 12:return pn(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(m=o.type._context,T=o.pendingProps,F=o.memoizedProps,U=T.value,gt(Fl,m._currentValue),m._currentValue=U,F!==null)if(hr(F.value,U)){if(F.children===T.children&&!bn.current){o=ri(s,o,l);break e}}else for(F=o.child,F!==null&&(F.return=o);F!==null;){var Y=F.dependencies;if(Y!==null){U=F.child;for(var ne=Y.firstContext;ne!==null;){if(ne.context===m){if(F.tag===1){ne=ni(-1,l&-l),ne.tag=2;var pe=F.updateQueue;if(pe!==null){pe=pe.shared;var Ce=pe.pending;Ce===null?ne.next=ne:(ne.next=Ce.next,Ce.next=ne),pe.pending=ne}}F.lanes|=l,ne=F.alternate,ne!==null&&(ne.lanes|=l),If(F.return,l,o),Y.lanes|=l;break}ne=ne.next}}else if(F.tag===10)U=F.type===o.type?null:F.child;else if(F.tag===18){if(U=F.return,U===null)throw Error(t(341));U.lanes|=l,Y=U.alternate,Y!==null&&(Y.lanes|=l),If(U,l,o),U=F.sibling}else U=F.child;if(U!==null)U.return=F;else for(U=F;U!==null;){if(U===o){U=null;break}if(F=U.sibling,F!==null){F.return=U.return,U=F;break}U=U.return}F=U}pn(s,o,T.children,l),o=o.child}return o;case 9:return T=o.type,m=o.pendingProps.children,Fo(o,l),T=Jn(T),m=m(T),o.flags|=1,pn(s,o,m,l),o.child;case 14:return m=o.type,T=dr(m,o.pendingProps),T=dr(m.type,T),jv(s,o,m,T,l);case 15:return qv(s,o,o.type,o.pendingProps,l);case 17:return m=o.type,T=o.pendingProps,T=o.elementType===m?T:dr(m,T),Kl(s,o),o.tag=1,Tn(m)?(s=!0,kl(o)):s=!1,Fo(o,l),Rv(o,m,T),Gf(o,m,T,l),Jf(null,o,m,!0,s,l);case 19:return Kv(s,o,l);case 22:return Vv(s,o,l)}throw Error(t(156,o.tag))};function v2(s,o){return uo(s,o)}function Kb(s,o,l,m){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(s,o,l,m){return new Kb(s,o,l,m)}function md(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Jb(s){if(typeof s=="function")return md(s)?1:0;if(s!=null){if(s=s.$$typeof,s===P)return 11;if(s===J)return 14}return 2}function zi(s,o){var l=s.alternate;return l===null?(l=Zn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function sc(s,o,l,m,T,F){var U=2;if(m=s,typeof s=="function")md(s)&&(U=1);else if(typeof s=="string")U=5;else e:switch(s){case R:return js(l.children,T,F,o);case _:U=8,T|=8;break;case D:return s=Zn(12,l,o,T|2),s.elementType=D,s.lanes=F,s;case N:return s=Zn(13,l,o,T),s.elementType=N,s.lanes=F,s;case W:return s=Zn(19,l,o,T),s.elementType=W,s.lanes=F,s;case X:return oc(l,T,F,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case x:U=10;break e;case I:U=9;break e;case P:U=11;break e;case J:U=14;break e;case se:U=16,m=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Zn(U,l,o,T),o.elementType=s,o.type=m,o.lanes=F,o}function js(s,o,l,m){return s=Zn(7,s,m,o),s.lanes=l,s}function oc(s,o,l,m){return s=Zn(22,s,m,o),s.elementType=X,s.lanes=l,s.stateNode={isHidden:!1},s}function gd(s,o,l){return s=Zn(6,s,null,o),s.lanes=l,s}function yd(s,o,l){return o=Zn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Qb(s,o,l,m,T){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bi(0),this.expirationTimes=bi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.identifierPrefix=m,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function vd(s,o,l,m,T,F,U,Y,ne){return s=new Qb(s,o,l,Y,ne),o===1?(o=1,F===!0&&(o|=8)):o=0,F=Zn(3,null,null,o),s.current=F,F.stateNode=s,F.memoizedState={element:m,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rf(F),s}function Yb(s,o,l){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:m==null?null:""+m,children:s,containerInfo:o,implementation:l}}function _2(s){if(!s)return Ni;s=s._reactInternals;e:{if(ir(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Tn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(Tn(l))return Wy(s,l,o)}return o}function w2(s,o,l,m,T,F,U,Y,ne){return s=vd(l,m,!0,s,T,F,U,Y,ne),s.context=_2(null),l=s.current,m=mn(),T=Vi(l),F=ni(m,T),F.callback=o??null,Bi(l,F,T),s.current.lanes=T,Ti(s,T,m),xn(s,m),s}function ac(s,o,l,m){var T=o.current,F=mn(),U=Vi(T);return l=_2(l),o.context===null?o.context=l:o.pendingContext=l,o=ni(F,U),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Bi(T,o,U),s!==null&&(gr(s,T,U,F),Ml(s,T,U)),U}function uc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function E2(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function _d(s,o){E2(s,o),(s=s.alternate)&&E2(s,o)}function Zb(){return null}var A2=typeof reportError=="function"?reportError:function(s){console.error(s)};function wd(s){this._internalRoot=s}lc.prototype.render=wd.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));ac(s,o,null,null)},lc.prototype.unmount=wd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Fs(function(){ac(null,s,null,null)}),o[Yr]=null}};function lc(s){this._internalRoot=s}lc.prototype.unstable_scheduleHydration=function(s){if(s){var o=ll();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Tr.length&&o!==0&&o<Tr[l].priority;l++);Tr.splice(l,0,s),l===0&&fl(s)}};function Ed(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function cc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function C2(){}function Xb(s,o,l,m,T){if(T){if(typeof m=="function"){var F=m;m=function(){var pe=uc(U);F.call(pe)}}var U=w2(o,m,s,0,null,!1,!1,"",C2);return s._reactRootContainer=U,s[Yr]=U.current,za(s.nodeType===8?s.parentNode:s),Fs(),U}for(;T=s.lastChild;)s.removeChild(T);if(typeof m=="function"){var Y=m;m=function(){var pe=uc(ne);Y.call(pe)}}var ne=vd(s,0,!1,null,null,!1,!1,"",C2);return s._reactRootContainer=ne,s[Yr]=ne.current,za(s.nodeType===8?s.parentNode:s),Fs(function(){ac(o,ne,l,m)}),ne}function hc(s,o,l,m,T){var F=l._reactRootContainer;if(F){var U=F;if(typeof T=="function"){var Y=T;T=function(){var ne=uc(U);Y.call(ne)}}ac(o,U,s,T)}else U=Xb(l,o,s,T,m);return uc(U)}al=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=Ci(o.pendingLanes);l!==0&&(Si(o,l|1),xn(o,mt()),(lt&6)===0&&(Vo=mt()+500,Li()))}break;case 13:Fs(function(){var m=ti(s,1);if(m!==null){var T=mn();gr(m,s,1,T)}}),_d(s,1)}},ho=function(s){if(s.tag===13){var o=ti(s,134217728);if(o!==null){var l=mn();gr(o,s,134217728,l)}_d(s,134217728)}},ul=function(s){if(s.tag===13){var o=Vi(s),l=ti(s,o);if(l!==null){var m=mn();gr(l,s,o,m)}_d(s,o)}},ll=function(){return st},cl=function(s,o){var l=st;try{return st=s,o()}finally{st=l}},no=function(s,o,l){switch(o){case"input":if(et(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var m=l[o];if(m!==s&&m.form===s.form){var T=xl(m);if(!T)throw Error(t(90));xe(m),et(m,T)}}}break;case"textarea":Me(s,l);break;case"select":o=l.value,o!=null&&Se(s,!!l.multiple,o,!1)}},gs=fd,ba=Fs;var eT={usingClientEntryPoint:!1,Events:[$a,xo,xl,Cr,Ca,fd]},ou={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tT={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Da(s),s===null?null:s.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||Zb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Es=fc.inject(tT),On=fc}catch{}}return In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eT,In.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ed(o))throw Error(t(200));return Yb(s,o,null,l)},In.createRoot=function(s,o){if(!Ed(s))throw Error(t(299));var l=!1,m="",T=A2;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=vd(s,1,!1,null,null,l,!1,m,T),s[Yr]=o.current,za(s.nodeType===8?s.parentNode:s),new wd(o)},In.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Da(o),s=s===null?null:s.stateNode,s},In.flushSync=function(s){return Fs(s)},In.hydrate=function(s,o,l){if(!cc(o))throw Error(t(200));return hc(null,s,o,!0,l)},In.hydrateRoot=function(s,o,l){if(!Ed(s))throw Error(t(405));var m=l!=null&&l.hydratedSources||null,T=!1,F="",U=A2;if(l!=null&&(l.unstable_strictMode===!0&&(T=!0),l.identifierPrefix!==void 0&&(F=l.identifierPrefix),l.onRecoverableError!==void 0&&(U=l.onRecoverableError)),o=w2(o,null,s,1,l??null,T,!1,F,U),s[Yr]=o.current,za(s),m)for(s=0;s<m.length;s++)l=m[s],T=l._getVersion,T=T(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,T]:o.mutableSourceEagerHydrationData.push(l,T);return new lc(o)},In.render=function(s,o,l){if(!cc(o))throw Error(t(200));return hc(null,s,o,!1,l)},In.unmountComponentAtNode=function(s){if(!cc(s))throw Error(t(40));return s._reactRootContainer?(Fs(function(){hc(null,null,s,!1,function(){s._reactRootContainer=null,s[Yr]=null})}),!0):!1},In.unstable_batchedUpdates=fd,In.unstable_renderSubtreeIntoContainer=function(s,o,l,m){if(!cc(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return hc(s,o,l,!1,m)},In.version="18.3.1-next-f1338f8080-20240426",In}var R2;function gw(){if(R2)return bd.exports;R2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bd.exports=cT(),bd.exports}var P2;function hT(){if(P2)return dc;P2=1;var r=gw();return dc.createRoot=r.createRoot,dc.hydrateRoot=r.hydrateRoot,dc}var fT=hT();const dT=()=>{};var O2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},pT=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],u=r[t++],c=r[t++],h=((i&7)<<18|(a&63)<<12|(u&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const a=r[t++],u=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],u=i+1<r.length,c=u?r[i+1]:0,h=i+2<r.length,d=h?r[i+2]:0,y=a>>2,g=(a&3)<<4|c>>4;let p=(c&15)<<2|d>>6,v=d&63;h||(v=64,u||(p=64)),n.push(t[y],t[g],t[p],t[v])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(yw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):pT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const d=i<r.length?t[r.charAt(i)]:64;++i;const g=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||c==null||d==null||g==null)throw new mT;const p=a<<2|c>>4;if(n.push(p),d!==64){const v=c<<4&240|d>>2;if(n.push(v),g!==64){const A=d<<6&192|g;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class mT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gT=function(r){const e=yw(r);return vw.encodeByteArray(e,!0)},Mc=function(r){return gT(r).replace(/\./g,"")},_w=function(r){try{return vw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=()=>yT().__FIREBASE_DEFAULTS__,_T=()=>{if(typeof process>"u"||typeof O2>"u")return;const r=O2.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_w(r[1]);return e&&JSON.parse(e)},ch=()=>{try{return dT()||vT()||_T()||wT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ww=r=>{var e,t;return(t=(e=ch())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Ew=r=>{const e=ww(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},Aw=()=>{var r;return(r=ch())===null||r===void 0?void 0:r.config},Cw=r=>{var e;return(e=ch())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Mc(JSON.stringify(t)),Mc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function CT(){var r;const e=(r=ch())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ST(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DT(){const r=hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xT(){return!CT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IT(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="FirebaseError";class Ur extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=RT,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ju.prototype.create)}}class ju{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?PT(a,n):"Error",c=`${this.serviceName}: ${u} (${i}).`;return new Ur(i,c,n)}}function PT(r,e){return r.replace(OT,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const OT=/\{\$([^}]+)}/g;function NT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function zs(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],u=e[i];if(N2(a)&&N2(u)){if(!zs(a,u))return!1}else if(a!==u)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function N2(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function hu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function fu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function LT(r,e){const t=new FT(r,e);return t.subscribe.bind(t)}class FT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");BT(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Dd),i.error===void 0&&(i.error=Dd),i.complete===void 0&&(i.complete=Dd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BT(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r){return r&&r._delegate?r._delegate:r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(r){return r.endsWith(".cloudworkstations.dev")}async function Zm(r){return(await fetch(r,{credentials:"include"})).ok}class rs{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new ET;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qT(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&u.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const u=this.instances.get(i);return u&&e(u,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:jT(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jT(r){return r===qs?void 0:r}function qT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new MT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(rt||(rt={}));const UT={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},zT=rt.INFO,HT={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},GT=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=HT[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xm{constructor(e){this.name=e,this._logLevel=zT,this._logHandler=GT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const $T=(r,e)=>e.some(t=>r instanceof t);let L2,F2;function WT(){return L2||(L2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KT(){return F2||(F2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tw=new WeakMap,Cm=new WeakMap,Sw=new WeakMap,xd=new WeakMap,eg=new WeakMap;function JT(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",u)},a=()=>{t(Xi(r.result)),i()},u=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Tw.set(t,r)}).catch(()=>{}),eg.set(e,r),e}function QT(r){if(Cm.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",u),r.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",u),r.addEventListener("abort",u)});Cm.set(r,e)}let bm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Cm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Sw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function YT(r){bm=r(bm)}function ZT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Id(this),e,...t);return Sw.set(n,e.sort?e.sort():[e]),Xi(n)}:KT().includes(r)?function(...e){return r.apply(Id(this),e),Xi(Tw.get(this))}:function(...e){return Xi(r.apply(Id(this),e))}}function XT(r){return typeof r=="function"?ZT(r):(r instanceof IDBTransaction&&QT(r),$T(r,WT())?new Proxy(r,bm):r)}function Xi(r){if(r instanceof IDBRequest)return JT(r);if(xd.has(r))return xd.get(r);const e=XT(r);return e!==r&&(xd.set(r,e),eg.set(e,r)),e}const Id=r=>eg.get(r);function eS(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const u=indexedDB.open(r,e),c=Xi(u);return n&&u.addEventListener("upgradeneeded",h=>{n(Xi(u.result),h.oldVersion,h.newVersion,Xi(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const tS=["get","getKey","getAll","getAllKeys","count"],nS=["put","add","delete","clear"],kd=new Map;function B2(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=nS.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||tS.includes(t)))return;const a=async function(u,...c){const h=this.transaction(u,i?"readwrite":"readonly");let d=h.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),i&&h.done]))[0]};return kd.set(e,a),a}YT(r=>({...r,get:(e,t,n)=>B2(e,t)||r.get(e,t,n),has:(e,t)=>!!B2(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(iS(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function iS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",M2="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Xm("@firebase/app"),sS="@firebase/app-compat",oS="@firebase/analytics-compat",aS="@firebase/analytics",uS="@firebase/app-check-compat",lS="@firebase/app-check",cS="@firebase/auth",hS="@firebase/auth-compat",fS="@firebase/database",dS="@firebase/data-connect",pS="@firebase/database-compat",mS="@firebase/functions",gS="@firebase/functions-compat",yS="@firebase/installations",vS="@firebase/installations-compat",_S="@firebase/messaging",wS="@firebase/messaging-compat",ES="@firebase/performance",AS="@firebase/performance-compat",CS="@firebase/remote-config",bS="@firebase/remote-config-compat",TS="@firebase/storage",SS="@firebase/storage-compat",DS="@firebase/firestore",xS="@firebase/vertexai",IS="@firebase/firestore-compat",kS="firebase",RS="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",PS={[Tm]:"fire-core",[sS]:"fire-core-compat",[aS]:"fire-analytics",[oS]:"fire-analytics-compat",[lS]:"fire-app-check",[uS]:"fire-app-check-compat",[cS]:"fire-auth",[hS]:"fire-auth-compat",[fS]:"fire-rtdb",[dS]:"fire-data-connect",[pS]:"fire-rtdb-compat",[mS]:"fire-fn",[gS]:"fire-fn-compat",[yS]:"fire-iid",[vS]:"fire-iid-compat",[_S]:"fire-fcm",[wS]:"fire-fcm-compat",[ES]:"fire-perf",[AS]:"fire-perf-compat",[CS]:"fire-rc",[bS]:"fire-rc-compat",[TS]:"fire-gcs",[SS]:"fire-gcs-compat",[DS]:"fire-fst",[IS]:"fire-fst-compat",[xS]:"fire-vertex","fire-js":"fire-js",[kS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,OS=new Map,Dm=new Map;function j2(r,e){try{r.container.addComponent(e)}catch(t){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Hs(r){const e=r.name;if(Dm.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,r);for(const t of jc.values())j2(t,r);for(const t of OS.values())j2(t,r);return!0}function hh(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function qn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new ju("app","Firebase",NS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=RS;function Dw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Sm,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw es.create("bad-app-name",{appName:String(i)});if(t||(t=Aw()),!t)throw es.create("no-options");const a=jc.get(i);if(a){if(zs(t,a.options)&&zs(n,a.config))return a;throw es.create("duplicate-app",{appName:i})}const u=new VT(i);for(const h of Dm.values())u.addComponent(h);const c=new LS(t,n,u);return jc.set(i,c),c}function tg(r=Sm){const e=jc.get(r);if(!e&&r===Sm&&Aw())return Dw();if(!e)throw es.create("no-app",{appName:r});return e}function Lr(r,e,t){var n;let i=(n=PS[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(c.join(" "));return}Hs(new rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="firebase-heartbeat-database",BS=1,Su="firebase-heartbeat-store";let Rd=null;function xw(){return Rd||(Rd=eS(FS,BS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Su)}catch(t){console.warn(t)}}}}).catch(r=>{throw es.create("idb-open",{originalErrorMessage:r.message})})),Rd}async function MS(r){try{const t=(await xw()).transaction(Su),n=await t.objectStore(Su).get(Iw(r));return await t.done,n}catch(e){if(e instanceof Ur)hi.warn(e.message);else{const t=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(t.message)}}}async function q2(r,e){try{const n=(await xw()).transaction(Su,"readwrite");await n.objectStore(Su).put(e,Iw(r)),await n.done}catch(t){if(t instanceof Ur)hi.warn(t.message);else{const n=es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});hi.warn(n.message)}}}function Iw(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=1024,qS=30;class VS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zS(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=V2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>qS){const u=HS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){hi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=V2(),{heartbeatsToSend:n,unsentEntries:i}=US(this._heartbeatsCache.heartbeats),a=Mc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return hi.warn(t),""}}}function V2(){return new Date().toISOString().substring(0,10)}function US(r,e=jS){const t=[];let n=r.slice();for(const i of r){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),U2(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),U2(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class zS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IT()?kT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return q2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return q2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function U2(r){return Mc(JSON.stringify({version:2,heartbeats:r})).length}function HS(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(r){Hs(new rs("platform-logger",e=>new rS(e),"PRIVATE")),Hs(new rs("heartbeat",e=>new VS(e),"PRIVATE")),Lr(Tm,M2,r),Lr(Tm,M2,"esm2017"),Lr("fire-js","")}GS("");var $S="firebase",WS="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr($S,WS,"app");var z2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,kw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,_){function D(){}D.prototype=_.prototype,R.D=_.prototype,R.prototype=new D,R.prototype.constructor=R,R.C=function(x,I,P){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return _.prototype[I].apply(x,N)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,_,D){D||(D=0);var x=Array(16);if(typeof _=="string")for(var I=0;16>I;++I)x[I]=_.charCodeAt(D++)|_.charCodeAt(D++)<<8|_.charCodeAt(D++)<<16|_.charCodeAt(D++)<<24;else for(I=0;16>I;++I)x[I]=_[D++]|_[D++]<<8|_[D++]<<16|_[D++]<<24;_=R.g[0],D=R.g[1],I=R.g[2];var P=R.g[3],N=_+(P^D&(I^P))+x[0]+3614090360&4294967295;_=D+(N<<7&4294967295|N>>>25),N=P+(I^_&(D^I))+x[1]+3905402710&4294967295,P=_+(N<<12&4294967295|N>>>20),N=I+(D^P&(_^D))+x[2]+606105819&4294967295,I=P+(N<<17&4294967295|N>>>15),N=D+(_^I&(P^_))+x[3]+3250441966&4294967295,D=I+(N<<22&4294967295|N>>>10),N=_+(P^D&(I^P))+x[4]+4118548399&4294967295,_=D+(N<<7&4294967295|N>>>25),N=P+(I^_&(D^I))+x[5]+1200080426&4294967295,P=_+(N<<12&4294967295|N>>>20),N=I+(D^P&(_^D))+x[6]+2821735955&4294967295,I=P+(N<<17&4294967295|N>>>15),N=D+(_^I&(P^_))+x[7]+4249261313&4294967295,D=I+(N<<22&4294967295|N>>>10),N=_+(P^D&(I^P))+x[8]+1770035416&4294967295,_=D+(N<<7&4294967295|N>>>25),N=P+(I^_&(D^I))+x[9]+2336552879&4294967295,P=_+(N<<12&4294967295|N>>>20),N=I+(D^P&(_^D))+x[10]+4294925233&4294967295,I=P+(N<<17&4294967295|N>>>15),N=D+(_^I&(P^_))+x[11]+2304563134&4294967295,D=I+(N<<22&4294967295|N>>>10),N=_+(P^D&(I^P))+x[12]+1804603682&4294967295,_=D+(N<<7&4294967295|N>>>25),N=P+(I^_&(D^I))+x[13]+4254626195&4294967295,P=_+(N<<12&4294967295|N>>>20),N=I+(D^P&(_^D))+x[14]+2792965006&4294967295,I=P+(N<<17&4294967295|N>>>15),N=D+(_^I&(P^_))+x[15]+1236535329&4294967295,D=I+(N<<22&4294967295|N>>>10),N=_+(I^P&(D^I))+x[1]+4129170786&4294967295,_=D+(N<<5&4294967295|N>>>27),N=P+(D^I&(_^D))+x[6]+3225465664&4294967295,P=_+(N<<9&4294967295|N>>>23),N=I+(_^D&(P^_))+x[11]+643717713&4294967295,I=P+(N<<14&4294967295|N>>>18),N=D+(P^_&(I^P))+x[0]+3921069994&4294967295,D=I+(N<<20&4294967295|N>>>12),N=_+(I^P&(D^I))+x[5]+3593408605&4294967295,_=D+(N<<5&4294967295|N>>>27),N=P+(D^I&(_^D))+x[10]+38016083&4294967295,P=_+(N<<9&4294967295|N>>>23),N=I+(_^D&(P^_))+x[15]+3634488961&4294967295,I=P+(N<<14&4294967295|N>>>18),N=D+(P^_&(I^P))+x[4]+3889429448&4294967295,D=I+(N<<20&4294967295|N>>>12),N=_+(I^P&(D^I))+x[9]+568446438&4294967295,_=D+(N<<5&4294967295|N>>>27),N=P+(D^I&(_^D))+x[14]+3275163606&4294967295,P=_+(N<<9&4294967295|N>>>23),N=I+(_^D&(P^_))+x[3]+4107603335&4294967295,I=P+(N<<14&4294967295|N>>>18),N=D+(P^_&(I^P))+x[8]+1163531501&4294967295,D=I+(N<<20&4294967295|N>>>12),N=_+(I^P&(D^I))+x[13]+2850285829&4294967295,_=D+(N<<5&4294967295|N>>>27),N=P+(D^I&(_^D))+x[2]+4243563512&4294967295,P=_+(N<<9&4294967295|N>>>23),N=I+(_^D&(P^_))+x[7]+1735328473&4294967295,I=P+(N<<14&4294967295|N>>>18),N=D+(P^_&(I^P))+x[12]+2368359562&4294967295,D=I+(N<<20&4294967295|N>>>12),N=_+(D^I^P)+x[5]+4294588738&4294967295,_=D+(N<<4&4294967295|N>>>28),N=P+(_^D^I)+x[8]+2272392833&4294967295,P=_+(N<<11&4294967295|N>>>21),N=I+(P^_^D)+x[11]+1839030562&4294967295,I=P+(N<<16&4294967295|N>>>16),N=D+(I^P^_)+x[14]+4259657740&4294967295,D=I+(N<<23&4294967295|N>>>9),N=_+(D^I^P)+x[1]+2763975236&4294967295,_=D+(N<<4&4294967295|N>>>28),N=P+(_^D^I)+x[4]+1272893353&4294967295,P=_+(N<<11&4294967295|N>>>21),N=I+(P^_^D)+x[7]+4139469664&4294967295,I=P+(N<<16&4294967295|N>>>16),N=D+(I^P^_)+x[10]+3200236656&4294967295,D=I+(N<<23&4294967295|N>>>9),N=_+(D^I^P)+x[13]+681279174&4294967295,_=D+(N<<4&4294967295|N>>>28),N=P+(_^D^I)+x[0]+3936430074&4294967295,P=_+(N<<11&4294967295|N>>>21),N=I+(P^_^D)+x[3]+3572445317&4294967295,I=P+(N<<16&4294967295|N>>>16),N=D+(I^P^_)+x[6]+76029189&4294967295,D=I+(N<<23&4294967295|N>>>9),N=_+(D^I^P)+x[9]+3654602809&4294967295,_=D+(N<<4&4294967295|N>>>28),N=P+(_^D^I)+x[12]+3873151461&4294967295,P=_+(N<<11&4294967295|N>>>21),N=I+(P^_^D)+x[15]+530742520&4294967295,I=P+(N<<16&4294967295|N>>>16),N=D+(I^P^_)+x[2]+3299628645&4294967295,D=I+(N<<23&4294967295|N>>>9),N=_+(I^(D|~P))+x[0]+4096336452&4294967295,_=D+(N<<6&4294967295|N>>>26),N=P+(D^(_|~I))+x[7]+1126891415&4294967295,P=_+(N<<10&4294967295|N>>>22),N=I+(_^(P|~D))+x[14]+2878612391&4294967295,I=P+(N<<15&4294967295|N>>>17),N=D+(P^(I|~_))+x[5]+4237533241&4294967295,D=I+(N<<21&4294967295|N>>>11),N=_+(I^(D|~P))+x[12]+1700485571&4294967295,_=D+(N<<6&4294967295|N>>>26),N=P+(D^(_|~I))+x[3]+2399980690&4294967295,P=_+(N<<10&4294967295|N>>>22),N=I+(_^(P|~D))+x[10]+4293915773&4294967295,I=P+(N<<15&4294967295|N>>>17),N=D+(P^(I|~_))+x[1]+2240044497&4294967295,D=I+(N<<21&4294967295|N>>>11),N=_+(I^(D|~P))+x[8]+1873313359&4294967295,_=D+(N<<6&4294967295|N>>>26),N=P+(D^(_|~I))+x[15]+4264355552&4294967295,P=_+(N<<10&4294967295|N>>>22),N=I+(_^(P|~D))+x[6]+2734768916&4294967295,I=P+(N<<15&4294967295|N>>>17),N=D+(P^(I|~_))+x[13]+1309151649&4294967295,D=I+(N<<21&4294967295|N>>>11),N=_+(I^(D|~P))+x[4]+4149444226&4294967295,_=D+(N<<6&4294967295|N>>>26),N=P+(D^(_|~I))+x[11]+3174756917&4294967295,P=_+(N<<10&4294967295|N>>>22),N=I+(_^(P|~D))+x[2]+718787259&4294967295,I=P+(N<<15&4294967295|N>>>17),N=D+(P^(I|~_))+x[9]+3951481745&4294967295,R.g[0]=R.g[0]+_&4294967295,R.g[1]=R.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+I&4294967295,R.g[3]=R.g[3]+P&4294967295}n.prototype.u=function(R,_){_===void 0&&(_=R.length);for(var D=_-this.blockSize,x=this.B,I=this.h,P=0;P<_;){if(I==0)for(;P<=D;)i(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<_;)if(x[I++]=R.charCodeAt(P++),I==this.blockSize){i(this,x),I=0;break}}else for(;P<_;)if(x[I++]=R[P++],I==this.blockSize){i(this,x),I=0;break}}this.h=I,this.o+=_},n.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var _=1;_<R.length-8;++_)R[_]=0;var D=8*this.o;for(_=R.length-8;_<R.length;++_)R[_]=D&255,D/=256;for(this.u(R),R=Array(16),_=D=0;4>_;++_)for(var x=0;32>x;x+=8)R[D++]=this.g[_]>>>x&255;return R};function a(R,_){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=_(R)}function u(R,_){this.h=_;for(var D=[],x=!0,I=R.length-1;0<=I;I--){var P=R[I]|0;x&&P==_||(D[I]=P,x=!1)}this.g=D}var c={};function h(R){return-128<=R&&128>R?a(R,function(_){return new u([_|0],0>_?-1:0)}):new u([R|0],0>R?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return g;if(0>R)return w(d(-R));for(var _=[],D=1,x=0;R>=D;x++)_[x]=R/D|0,D*=4294967296;return new u(_,0)}function y(R,_){if(R.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(R.charAt(0)=="-")return w(y(R.substring(1),_));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=d(Math.pow(_,8)),x=g,I=0;I<R.length;I+=8){var P=Math.min(8,R.length-I),N=parseInt(R.substring(I,I+P),_);8>P?(P=d(Math.pow(_,P)),x=x.j(P).add(d(N))):(x=x.j(D),x=x.add(d(N)))}return x}var g=h(0),p=h(1),v=h(16777216);r=u.prototype,r.m=function(){if(C(this))return-w(this).m();for(var R=0,_=1,D=0;D<this.g.length;D++){var x=this.i(D);R+=(0<=x?x:4294967296+x)*_,_*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A(this))return"0";if(C(this))return"-"+w(this).toString(R);for(var _=d(Math.pow(R,6)),D=this,x="";;){var I=b(D,_).g;D=E(D,I.j(_));var P=((0<D.g.length?D.g[0]:D.h)>>>0).toString(R);if(D=I,A(D))return P+x;for(;6>P.length;)P="0"+P;x=P+x}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function A(R){if(R.h!=0)return!1;for(var _=0;_<R.g.length;_++)if(R.g[_]!=0)return!1;return!0}function C(R){return R.h==-1}r.l=function(R){return R=E(this,R),C(R)?-1:A(R)?0:1};function w(R){for(var _=R.g.length,D=[],x=0;x<_;x++)D[x]=~R.g[x];return new u(D,~R.h).add(p)}r.abs=function(){return C(this)?w(this):this},r.add=function(R){for(var _=Math.max(this.g.length,R.g.length),D=[],x=0,I=0;I<=_;I++){var P=x+(this.i(I)&65535)+(R.i(I)&65535),N=(P>>>16)+(this.i(I)>>>16)+(R.i(I)>>>16);x=N>>>16,P&=65535,N&=65535,D[I]=N<<16|P}return new u(D,D[D.length-1]&-2147483648?-1:0)};function E(R,_){return R.add(w(_))}r.j=function(R){if(A(this)||A(R))return g;if(C(this))return C(R)?w(this).j(w(R)):w(w(this).j(R));if(C(R))return w(this.j(w(R)));if(0>this.l(v)&&0>R.l(v))return d(this.m()*R.m());for(var _=this.g.length+R.g.length,D=[],x=0;x<2*_;x++)D[x]=0;for(x=0;x<this.g.length;x++)for(var I=0;I<R.g.length;I++){var P=this.i(x)>>>16,N=this.i(x)&65535,W=R.i(I)>>>16,J=R.i(I)&65535;D[2*x+2*I]+=N*J,S(D,2*x+2*I),D[2*x+2*I+1]+=P*J,S(D,2*x+2*I+1),D[2*x+2*I+1]+=N*W,S(D,2*x+2*I+1),D[2*x+2*I+2]+=P*W,S(D,2*x+2*I+2)}for(x=0;x<_;x++)D[x]=D[2*x+1]<<16|D[2*x];for(x=_;x<2*_;x++)D[x]=0;return new u(D,0)};function S(R,_){for(;(R[_]&65535)!=R[_];)R[_+1]+=R[_]>>>16,R[_]&=65535,_++}function O(R,_){this.g=R,this.h=_}function b(R,_){if(A(_))throw Error("division by zero");if(A(R))return new O(g,g);if(C(R))return _=b(w(R),_),new O(w(_.g),w(_.h));if(C(_))return _=b(R,w(_)),new O(w(_.g),_.h);if(30<R.g.length){if(C(R)||C(_))throw Error("slowDivide_ only works with positive integers.");for(var D=p,x=_;0>=x.l(R);)D=M(D),x=M(x);var I=q(D,1),P=q(x,1);for(x=q(x,2),D=q(D,2);!A(x);){var N=P.add(x);0>=N.l(R)&&(I=I.add(D),P=N),x=q(x,1),D=q(D,1)}return _=E(R,I.j(_)),new O(I,_)}for(I=g;0<=R.l(_);){for(D=Math.max(1,Math.floor(R.m()/_.m())),x=Math.ceil(Math.log(D)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),P=d(D),N=P.j(_);C(N)||0<N.l(R);)D-=x,P=d(D),N=P.j(_);A(P)&&(P=p),I=I.add(P),R=E(R,N)}return new O(I,R)}r.A=function(R){return b(this,R).h},r.and=function(R){for(var _=Math.max(this.g.length,R.g.length),D=[],x=0;x<_;x++)D[x]=this.i(x)&R.i(x);return new u(D,this.h&R.h)},r.or=function(R){for(var _=Math.max(this.g.length,R.g.length),D=[],x=0;x<_;x++)D[x]=this.i(x)|R.i(x);return new u(D,this.h|R.h)},r.xor=function(R){for(var _=Math.max(this.g.length,R.g.length),D=[],x=0;x<_;x++)D[x]=this.i(x)^R.i(x);return new u(D,this.h^R.h)};function M(R){for(var _=R.g.length+1,D=[],x=0;x<_;x++)D[x]=R.i(x)<<1|R.i(x-1)>>>31;return new u(D,R.h)}function q(R,_){var D=_>>5;_%=32;for(var x=R.g.length-D,I=[],P=0;P<x;P++)I[P]=0<_?R.i(P+D)>>>_|R.i(P+D+1)<<32-_:R.i(P+D);return new u(I,R.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,kw=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,ts=u}).apply(typeof z2<"u"?z2:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rw,du,Pw,Cc,xm,Ow,Nw,Lw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,L,j){return f==Array.prototype||f==Object.prototype||(f[L]=j.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var L=0;L<f.length;++L){var j=f[L];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var n=t(this);function i(f,L){if(L)e:{var j=n;f=f.split(".");for(var K=0;K<f.length-1;K++){var ae=f[K];if(!(ae in j))break e;j=j[ae]}f=f[f.length-1],K=j[f],L=L(K),L!=K&&L!=null&&e(j,f,{configurable:!0,writable:!0,value:L})}}function a(f,L){f instanceof String&&(f+="");var j=0,K=!1,ae={next:function(){if(!K&&j<f.length){var me=j++;return{value:L(me,f[me]),done:!1}}return K=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(f){return f||function(){return a(this,function(L,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function h(f){var L=typeof f;return L=L!="object"?L:f?Array.isArray(f)?"array":L:"null",L=="array"||L=="object"&&typeof f.length=="number"}function d(f){var L=typeof f;return L=="object"&&f!=null||L=="function"}function y(f,L,j){return f.call.apply(f.bind,arguments)}function g(f,L,j){if(!f)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,K),f.apply(L,ae)}}return function(){return f.apply(L,arguments)}}function p(f,L,j){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:g,p.apply(null,arguments)}function v(f,L){var j=Array.prototype.slice.call(arguments,1);return function(){var K=j.slice();return K.push.apply(K,arguments),f.apply(this,K)}}function A(f,L){function j(){}j.prototype=L.prototype,f.aa=L.prototype,f.prototype=new j,f.prototype.constructor=f,f.Qb=function(K,ae,me){for(var De=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)De[dt-2]=arguments[dt];return L.prototype[ae].apply(K,De)}}function C(f){const L=f.length;if(0<L){const j=Array(L);for(let K=0;K<L;K++)j[K]=f[K];return j}return[]}function w(f,L){for(let j=1;j<arguments.length;j++){const K=arguments[j];if(h(K)){const ae=f.length||0,me=K.length||0;f.length=ae+me;for(let De=0;De<me;De++)f[ae+De]=K[De]}else f.push(K)}}class E{constructor(L,j){this.i=L,this.j=j,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function S(f){return/^[\s\xa0]*$/.test(f)}function O(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function b(f){return b[" "](f),f}b[" "]=function(){};var M=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function q(f,L,j){for(const K in f)L.call(j,f[K],K,f)}function R(f,L){for(const j in f)L.call(void 0,f[j],j,f)}function _(f){const L={};for(const j in f)L[j]=f[j];return L}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(f,L){let j,K;for(let ae=1;ae<arguments.length;ae++){K=arguments[ae];for(j in K)f[j]=K[j];for(let me=0;me<D.length;me++)j=D[me],Object.prototype.hasOwnProperty.call(K,j)&&(f[j]=K[j])}}function I(f){var L=1;f=f.split(":");const j=[];for(;0<L&&f.length;)j.push(f.shift()),L--;return f.length&&j.push(f.join(":")),j}function P(f){c.setTimeout(()=>{throw f},0)}function N(){var f=$;let L=null;return f.g&&(L=f.g,f.g=f.g.next,f.g||(f.h=null),L.next=null),L}class W{constructor(){this.h=this.g=null}add(L,j){const K=J.get();K.set(L,j),this.h?this.h.next=K:this.g=K,this.h=K}}var J=new E(()=>new se,f=>f.reset());class se{constructor(){this.next=this.g=this.h=null}set(L,j){this.h=L,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let X,re=!1,$=new W,H=()=>{const f=c.Promise.resolve(void 0);X=()=>{f.then(B)}};var B=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(j){P(j)}var L=J;L.j(f),100>L.h&&(L.h++,f.next=L.g,L.g=f)}re=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(f,L){this.type=f,this.g=this.target=L,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,L=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const j=()=>{};c.addEventListener("test",j,L),c.removeEventListener("test",j,L)}catch{}return f}();function Z(f,L){if(z.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var j=this.type=f.type,K=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=L,L=f.relatedTarget){if(M){e:{try{b(L.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(L=null)}}else j=="mouseover"?L=f.fromElement:j=="mouseout"&&(L=f.toElement);this.relatedTarget=L,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:G[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Z.aa.h.call(this)}}A(Z,z);var G={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),te=0;function ie(f,L,j,K,ae){this.listener=f,this.proxy=null,this.src=L,this.type=j,this.capture=!!K,this.ha=ae,this.key=++te,this.da=this.fa=!1}function fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ge(f){this.src=f,this.g={},this.h=0}ge.prototype.add=function(f,L,j,K,ae){var me=f.toString();f=this.g[me],f||(f=this.g[me]=[],this.h++);var De=Ie(f,L,K,ae);return-1<De?(L=f[De],j||(L.fa=!1)):(L=new ie(L,this.src,me,!!K,ae),L.fa=j,f.push(L)),L};function xe(f,L){var j=L.type;if(j in f.g){var K=f.g[j],ae=Array.prototype.indexOf.call(K,L,void 0),me;(me=0<=ae)&&Array.prototype.splice.call(K,ae,1),me&&(fe(L),f.g[j].length==0&&(delete f.g[j],f.h--))}}function Ie(f,L,j,K){for(var ae=0;ae<f.length;++ae){var me=f[ae];if(!me.da&&me.listener==L&&me.capture==!!j&&me.ha==K)return ae}return-1}var ke="closure_lm_"+(1e6*Math.random()|0),Re={};function Be(f,L,j,K,ae){if(Array.isArray(L)){for(var me=0;me<L.length;me++)Be(f,L[me],j,K,ae);return null}return j=Ve(j),f&&f[Q]?f.K(L,j,d(K)?!!K.capture:!1,ae):et(f,L,j,!1,K,ae)}function et(f,L,j,K,ae,me){if(!L)throw Error("Invalid event type");var De=d(ae)?!!ae.capture:!!ae,dt=Ge(f);if(dt||(f[ke]=dt=new ge(f)),j=dt.add(L,j,K,De,me),j.proxy)return j;if(K=le(),j.proxy=K,K.src=f,K.listener=j,f.addEventListener)ee||(ae=De),ae===void 0&&(ae=!1),f.addEventListener(L.toString(),K,ae);else if(f.attachEvent)f.attachEvent(Se(L.toString()),K);else if(f.addListener&&f.removeListener)f.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return j}function le(){function f(j){return L.call(f.src,f.listener,j)}const L=ve;return f}function de(f,L,j,K,ae){if(Array.isArray(L))for(var me=0;me<L.length;me++)de(f,L[me],j,K,ae);else K=d(K)?!!K.capture:!!K,j=Ve(j),f&&f[Q]?(f=f.i,L=String(L).toString(),L in f.g&&(me=f.g[L],j=Ie(me,j,K,ae),-1<j&&(fe(me[j]),Array.prototype.splice.call(me,j,1),me.length==0&&(delete f.g[L],f.h--)))):f&&(f=Ge(f))&&(L=f.g[L.toString()],f=-1,L&&(f=Ie(L,j,K,ae)),(j=-1<f?L[f]:null)&&Ee(j))}function Ee(f){if(typeof f!="number"&&f&&!f.da){var L=f.src;if(L&&L[Q])xe(L.i,f);else{var j=f.type,K=f.proxy;L.removeEventListener?L.removeEventListener(j,K,f.capture):L.detachEvent?L.detachEvent(Se(j),K):L.addListener&&L.removeListener&&L.removeListener(K),(j=Ge(L))?(xe(j,f),j.h==0&&(j.src=null,L[ke]=null)):fe(f)}}}function Se(f){return f in Re?Re[f]:Re[f]="on"+f}function ve(f,L){if(f.da)f=!0;else{L=new Z(L,this);var j=f.listener,K=f.ha||f.src;f.fa&&Ee(f),f=j.call(K,L)}return f}function Ge(f){return f=f[ke],f instanceof ge?f:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(f){return typeof f=="function"?f:(f[Me]||(f[Me]=function(L){return f.handleEvent(L)}),f[Me])}function $e(){V.call(this),this.i=new ge(this),this.M=this,this.F=null}A($e,V),$e.prototype[Q]=!0,$e.prototype.removeEventListener=function(f,L,j,K){de(this,f,L,j,K)};function Ze(f,L){var j,K=f.F;if(K)for(j=[];K;K=K.F)j.push(K);if(f=f.M,K=L.type||L,typeof L=="string")L=new z(L,f);else if(L instanceof z)L.target=L.target||f;else{var ae=L;L=new z(K,f),x(L,ae)}if(ae=!0,j)for(var me=j.length-1;0<=me;me--){var De=L.g=j[me];ae=Xe(De,K,!0,L)&&ae}if(De=L.g=f,ae=Xe(De,K,!0,L)&&ae,ae=Xe(De,K,!1,L)&&ae,j)for(me=0;me<j.length;me++)De=L.g=j[me],ae=Xe(De,K,!1,L)&&ae}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var f=this.i,L;for(L in f.g){for(var j=f.g[L],K=0;K<j.length;K++)fe(j[K]);delete f.g[L],f.h--}}this.F=null},$e.prototype.K=function(f,L,j,K){return this.i.add(String(f),L,!1,j,K)},$e.prototype.L=function(f,L,j,K){return this.i.add(String(f),L,!0,j,K)};function Xe(f,L,j,K){if(L=f.i.g[String(L)],!L)return!0;L=L.concat();for(var ae=!0,me=0;me<L.length;++me){var De=L[me];if(De&&!De.da&&De.capture==j){var dt=De.listener,qt=De.ha||De.src;De.fa&&xe(f.i,De),ae=dt.call(qt,K)!==!1&&ae}}return ae&&!K.defaultPrevented}function er(f,L,j){if(typeof f=="function")j&&(f=p(f,j));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:c.setTimeout(f,L||0)}function ct(f){f.g=er(()=>{f.g=null,f.i&&(f.i=!1,ct(f))},f.l);const L=f.h;f.h=null,f.m.apply(null,L)}class Ct extends V{constructor(L,j){super(),this.m=L,this.l=j,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:ct(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ht(f){V.call(this),this.h=f,this.g={}}A(Ht,V);var tr=[];function Ei(f){q(f.g,function(L,j){this.g.hasOwnProperty(j)&&Ee(L)},f),f.g={}}Ht.prototype.N=function(){Ht.aa.N.call(this),Ei(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wa=c.JSON.stringify,Ea=c.JSON.parse,Aa=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function ms(){}ms.prototype.h=null;function to(f){return f.h||(f.h=f.i())}function no(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){z.call(this,"d")}A(Ar,z);function ro(){z.call(this,"c")}A(ro,z);var Cr={},Ca=null;function gs(){return Ca=Ca||new $e}Cr.La="serverreachability";function ba(f){z.call(this,Cr.La,f)}A(ba,z);function Gr(f){const L=gs();Ze(L,new ba(L))}Cr.STAT_EVENT="statevent";function Ta(f,L){z.call(this,Cr.STAT_EVENT,f),this.stat=L}A(Ta,z);function Pt(f){const L=gs();Ze(L,new Ta(L,f))}Cr.Ma="timingevent";function io(f,L){z.call(this,Cr.Ma,f),this.size=L}A(io,z);function nr(f,L){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},L)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function vs(f,L,j,K,ae,me){f.info(function(){if(f.g)if(me)for(var De="",dt=me.split("&"),qt=0;qt<dt.length;qt++){var at=dt[qt].split("=");if(1<at.length){var Gt=at[0];at=at[1];var Ft=Gt.split("_");De=2<=Ft.length&&Ft[1]=="type"?De+(Gt+"="+at+"&"):De+(Gt+"=redacted&")}}else De=null;else De=me;return"XMLHTTP REQ ("+K+") [attempt "+ae+"]: "+L+`
`+j+`
`+De})}function so(f,L,j,K,ae,me,De){f.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+ae+"]: "+L+`
`+j+`
`+me+" "+De})}function rr(f,L,j,K){f.info(function(){return"XMLHTTP TEXT ("+L+"): "+Jh(f,j)+(K?" "+K:"")})}function Sa(f,L){f.info(function(){return"TIMEOUT: "+L})}ys.prototype.info=function(){};function Jh(f,L){if(!f.g)return L;if(!L)return null;try{var j=JSON.parse(L);if(j){for(f=0;f<j.length;f++)if(Array.isArray(j[f])){var K=j[f];if(!(2>K.length)){var ae=K[1];if(Array.isArray(ae)&&!(1>ae.length)){var me=ae[0];if(me!="noop"&&me!="stop"&&me!="close")for(var De=1;De<ae.length;De++)ae[De]=""}}}}return wa(j)}catch{return L}}var oo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function _s(){}A(_s,ms),_s.prototype.g=function(){return new XMLHttpRequest},_s.prototype.i=function(){return{}},ir=new _s;function sr(f,L,j,K){this.j=f,this.i=L,this.l=j,this.R=K||1,this.U=new Ht(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new el}function el(){this.i=null,this.g="",this.h=!1}var Da={},ao={};function uo(f,L,j){f.L=1,f.v=Si(Nn(L)),f.m=j,f.P=!0,xa(f,null)}function xa(f,L){f.F=Date.now(),mt(f),f.A=Nn(f.v);var j=f.A,K=f.R;Array.isArray(K)||(K=[String(K)]),xi(j.i,"t",K),f.C=0,j=f.j.J,f.h=new el,f.g=vl(f.j,j?L:null,!f.m),0<f.O&&(f.M=new Ct(p(f.Y,f,f.g),f.O)),L=f.U,j=f.g,K=f.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(tr[0]=ae.toString()),ae=tr);for(var me=0;me<ae.length;me++){var De=Be(j,ae[me],K||L.handleEvent,!1,L.h||L);if(!De)break;L.g[De.key]=De}L=f.H?_(f.H):{},f.m?(f.u||(f.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,L)):(f.u="GET",f.g.ea(f.A,f.u,null,L)),Gr(),vs(f.i,f.u,f.A,f.l,f.R,f.m)}sr.prototype.ca=function(f){f=f.target;const L=this.M;L&&Cn(f)==3?L.j():this.Y(f)},sr.prototype.Y=function(f){try{if(f==this.g)e:{const Ft=Cn(this.g);var L=this.g.Ba();const $n=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||Na(this.g)))){this.J||Ft!=4||L==7||(L==8||0>=$n?Gr(3):Gr(2)),ws(this);var j=this.g.Z();this.X=j;t:if(tl(this)){var K=Na(this.g);f="";var ae=K.length,me=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),Ai(this);var De="";break t}this.h.i=new c.TextDecoder}for(L=0;L<ae;L++)this.h.h=!0,f+=this.h.i.decode(K[L],{stream:!(me&&L==ae-1)});K.length=0,this.h.g+=f,this.C=0,De=this.h.g}else De=this.g.oa();if(this.o=j==200,so(this.i,this.u,this.A,this.l,this.R,Ft,j),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,qt=this.g;if((dt=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(dt)){var at=dt;break t}}at=null}if(j=at)rr(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,j);else{this.o=!1,this.s=3,Pt(12),Hn(this),Ai(this);break e}}if(this.P){j=!0;let Fn;for(;!this.J&&this.C<De.length;)if(Fn=Qh(this,De),Fn==ao){Ft==4&&(this.s=4,Pt(14),j=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==Da){this.s=4,Pt(15),rr(this.i,this.l,De,"[Invalid Chunk]"),j=!1;break}else rr(this.i,this.l,Fn,null),Ia(this,Fn);if(tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||De.length!=0||this.h.h||(this.s=1,Pt(16),j=!1),this.o=this.o&&j,!j)rr(this.i,this.l,De,"[Invalid Chunked Response]"),Hn(this),Ai(this);else if(0<De.length&&!this.W){this.W=!0;var Gt=this.j;Gt.g==this&&Gt.ba&&!Gt.M&&(Gt.j.info("Great, no buffering proxy detected. Bytes received: "+De.length),Fa(Gt),Gt.M=!0,Pt(11))}}else rr(this.i,this.l,De,null),Ia(this,De);Ft==4&&Hn(this),this.o&&!this.J&&(Ft==4?wo(this.j,this):(this.o=!1,mt(this)))}else mo(this.g),j==400&&0<De.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Hn(this),Ai(this)}}}catch{}finally{}};function tl(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Qh(f,L){var j=f.C,K=L.indexOf(`
`,j);return K==-1?ao:(j=Number(L.substring(j,K)),isNaN(j)?Da:(K+=1,K+j>L.length?ao:(L=L.slice(K,K+j),f.C=K+j,L)))}sr.prototype.cancel=function(){this.J=!0,Hn(this)};function mt(f){f.S=Date.now()+f.I,nl(f,f.I)}function nl(f,L){if(f.B!=null)throw Error("WatchDog timer not null");f.B=nr(p(f.ba,f),L)}function ws(f){f.B&&(c.clearTimeout(f.B),f.B=null)}sr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Sa(this.i,this.A),this.L!=2&&(Gr(),Pt(17)),Hn(this),this.s=2,Ai(this)):nl(this,this.S-f)};function Ai(f){f.j.G==0||f.J||wo(f.j,f)}function Hn(f){ws(f);var L=f.M;L&&typeof L.ma=="function"&&L.ma(),f.M=null,Ei(f.U),f.g&&(L=f.g,f.g=null,L.abort(),L.ma())}function Ia(f,L){try{var j=f.j;if(j.G!=0&&(j.g==f||fn(j.h,f))){if(!f.K&&fn(j.h,f)&&j.G==3){try{var K=j.Da.g.parse(L)}catch{K=null}if(Array.isArray(K)&&K.length==3){var ae=K;if(ae[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<f.F)_o(j),cr(j);else break e;vo(j),Pt(18)}}else j.za=ae[1],0<j.za-j.T&&37500>ae[2]&&j.F&&j.v==0&&!j.C&&(j.C=nr(p(j.Za,j),6e3));if(1>=il(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else Qr(j,11)}else if((f.K||j.g==f)&&_o(j),!S(L))for(ae=j.Da.g.parse(L),L=0;L<ae.length;L++){let at=ae[L];if(j.T=at[0],at=at[1],j.G==2)if(at[0]=="c"){j.K=at[1],j.ia=at[2];const Gt=at[3];Gt!=null&&(j.la=Gt,j.j.info("VER="+j.la));const Ft=at[4];Ft!=null&&(j.Aa=Ft,j.j.info("SVER="+j.Aa));const $n=at[5];$n!=null&&typeof $n=="number"&&0<$n&&(K=1.5*$n,j.L=K,j.j.info("backChannelRequestTimeoutMs_="+K)),K=j;const Fn=f.g;if(Fn){const Ds=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var me=K.h;me.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(ka(me,me.h),me.h=null))}if(K.D){const Ao=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(K.ya=Ao,pt(K.I,K.D,Ao))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-f.F,j.j.info("Handshake RTT: "+j.R+"ms")),K=j;var De=f;if(K.qa=yl(K,K.J?K.ia:null,K.W),De.K){sl(K.h,De);var dt=De,qt=K.L;qt&&(dt.I=qt),dt.B&&(ws(dt),mt(dt)),K.g=De}else Ss(K);0<j.i.length&&Dr(j)}else at[0]!="stop"&&at[0]!="close"||Qr(j,7);else j.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Qr(j,7):Yt(j):at[0]!="noop"&&j.l&&j.l.ta(at),j.v=0)}}Gr(4)}catch{}}var rl=class{constructor(f,L){this.g=f,this.map=L}};function Es(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function On(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function il(f){return f.h?1:f.g?f.g.size:0}function fn(f,L){return f.h?f.h==L:f.g?f.g.has(L):!1}function ka(f,L){f.g?f.g.add(L):f.h=L}function sl(f,L){f.h&&f.h==L?f.h=null:f.g&&f.g.has(L)&&f.g.delete(L)}Es.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ol(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let L=f.i;for(const j of f.g.values())L=L.concat(j.D);return L}return C(f.i)}function lo(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var L=[],j=f.length,K=0;K<j;K++)L.push(f[K]);return L}L=[],j=0;for(K in f)L[j++]=f[K];return L}function co(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var L=[];f=f.length;for(var j=0;j<f;j++)L.push(j);return L}L=[],j=0;for(const K in f)L[j++]=K;return L}}}function Ci(f,L){if(f.forEach&&typeof f.forEach=="function")f.forEach(L,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,L,void 0);else for(var j=co(f),K=lo(f),ae=K.length,me=0;me<ae;me++)L.call(void 0,K[me],j&&j[me],f)}var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yh(f,L){if(f){f=f.split("&");for(var j=0;j<f.length;j++){var K=f[j].indexOf("="),ae=null;if(0<=K){var me=f[j].substring(0,K);ae=f[j].substring(K+1)}else me=f[j];L(me,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function $r(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof $r){this.h=f.h,Cs(this,f.j),this.o=f.o,this.g=f.g,bi(this,f.s),this.l=f.l;var L=f.i,j=new br;j.i=L.i,L.g&&(j.g=new Map(L.g),j.h=L.h),Ti(this,j),this.m=f.m}else f&&(L=String(f).match(As))?(this.h=!1,Cs(this,L[1]||"",!0),this.o=st(L[2]||""),this.g=st(L[3]||"",!0),bi(this,L[4]),this.l=st(L[5]||"",!0),Ti(this,L[6]||"",!0),this.m=st(L[7]||"")):(this.h=!1,this.i=new br(null,this.h))}$r.prototype.toString=function(){var f=[],L=this.j;L&&f.push(Di(L,ho,!0),":");var j=this.g;return(j||L=="file")&&(f.push("//"),(L=this.o)&&f.push(Di(L,ho,!0),"@"),f.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&f.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&f.push("/"),f.push(Di(j,j.charAt(0)=="/"?ll:ul,!0))),(j=this.i.toString())&&f.push("?",j),(j=this.m)&&f.push("#",Di(j,Ra)),f.join("")};function Nn(f){return new $r(f)}function Cs(f,L,j){f.j=j?st(L,!0):L,f.j&&(f.j=f.j.replace(/:$/,""))}function bi(f,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);f.s=L}else f.s=null}function Ti(f,L,j){L instanceof br?(f.i=L,Tr(f.i,f.h)):(j||(L=Di(L,cl)),f.i=new br(L,f.h))}function pt(f,L,j){f.i.set(L,j)}function Si(f){return pt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function st(f,L){return f?L?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Di(f,L,j){return typeof f=="string"?(f=encodeURI(f).replace(L,al),j&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function al(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ho=/[#\/\?@]/g,ul=/[#\?:]/g,ll=/[#\?]/g,cl=/[#\?@]/g,Ra=/#/g;function br(f,L){this.h=this.g=null,this.i=f||null,this.j=!!L}function Qt(f){f.g||(f.g=new Map,f.h=0,f.i&&Yh(f.i,function(L,j){f.add(decodeURIComponent(L.replace(/\+/g," ")),j)}))}r=br.prototype,r.add=function(f,L){Qt(this),this.i=null,f=Gn(this,f);var j=this.g.get(f);return j||this.g.set(f,j=[]),j.push(L),this.h+=1,this};function or(f,L){Qt(f),L=Gn(f,L),f.g.has(L)&&(f.i=null,f.h-=f.g.get(L).length,f.g.delete(L))}function ar(f,L){return Qt(f),L=Gn(f,L),f.g.has(L)}r.forEach=function(f,L){Qt(this),this.g.forEach(function(j,K){j.forEach(function(ae){f.call(L,ae,K,this)},this)},this)},r.na=function(){Qt(this);const f=Array.from(this.g.values()),L=Array.from(this.g.keys()),j=[];for(let K=0;K<L.length;K++){const ae=f[K];for(let me=0;me<ae.length;me++)j.push(L[K])}return j},r.V=function(f){Qt(this);let L=[];if(typeof f=="string")ar(this,f)&&(L=L.concat(this.g.get(Gn(this,f))));else{f=Array.from(this.g.values());for(let j=0;j<f.length;j++)L=L.concat(f[j])}return L},r.set=function(f,L){return Qt(this),this.i=null,f=Gn(this,f),ar(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[L]),this.h+=1,this},r.get=function(f,L){return f?(f=this.V(f),0<f.length?String(f[0]):L):L};function xi(f,L,j){or(f,L),0<j.length&&(f.i=null,f.g.set(Gn(f,L),C(j)),f.h+=j.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],L=Array.from(this.g.keys());for(var j=0;j<L.length;j++){var K=L[j];const me=encodeURIComponent(String(K)),De=this.V(K);for(K=0;K<De.length;K++){var ae=me;De[K]!==""&&(ae+="="+encodeURIComponent(String(De[K]))),f.push(ae)}}return this.i=f.join("&")};function Gn(f,L){return L=String(L),f.j&&(L=L.toLowerCase()),L}function Tr(f,L){L&&!f.j&&(Qt(f),f.i=null,f.g.forEach(function(j,K){var ae=K.toLowerCase();K!=ae&&(or(this,K),xi(this,ae,j))},f)),f.j=L}function Zh(f,L){const j=new ys;if(c.Image){const K=new Image;K.onload=v(An,j,"TestLoadImage: loaded",!0,L,K),K.onerror=v(An,j,"TestLoadImage: error",!1,L,K),K.onabort=v(An,j,"TestLoadImage: abort",!1,L,K),K.ontimeout=v(An,j,"TestLoadImage: timeout",!1,L,K),c.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=f}else L(!1)}function hl(f,L){const j=new ys,K=new AbortController,ae=setTimeout(()=>{K.abort(),An(j,"TestPingServer: timeout",!1,L)},1e4);fetch(f,{signal:K.signal}).then(me=>{clearTimeout(ae),me.ok?An(j,"TestPingServer: ok",!0,L):An(j,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(ae),An(j,"TestPingServer: error",!1,L)})}function An(f,L,j,K,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),K(j)}catch{}}function Xh(){this.g=new Aa}function fl(f,L,j){const K=j||"";try{Ci(f,function(ae,me){let De=ae;d(ae)&&(De=wa(ae)),L.push(K+me+"="+encodeURIComponent(De))})}catch(ae){throw L.push(K+"type="+encodeURIComponent("_badmap")),ae}}function Wr(f){this.l=f.Ub||null,this.j=f.eb||!1}A(Wr,ms),Wr.prototype.g=function(){return new bs(this.l,this.j)},Wr.prototype.i=function(f){return function(){return f}}({});function bs(f,L){$e.call(this),this.D=f,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(bs,$e),r=bs.prototype,r.open=function(f,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=L,this.readyState=1,lr(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(L.body=f),(this.D||c).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function dl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var L=f.value?f.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!f.done}))&&(this.response=this.responseText+=L)}f.done?ur(this):lr(this),this.readyState==3&&dl(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,ur(this))},r.Qa=function(f){this.g&&(this.response=f,ur(this))},r.ga=function(){this.g&&ur(this)};function ur(f){f.readyState=4,f.l=null,f.j=null,f.v=null,lr(f)}r.setRequestHeader=function(f,L){this.u.append(f,L)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],L=this.h.entries();for(var j=L.next();!j.done;)j=j.value,f.push(j[0]+": "+j[1]),j=L.next();return f.join(`\r
`)};function lr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Kr(f){let L="";return q(f,function(j,K){L+=K,L+=":",L+=j,L+=`\r
`}),L}function Ii(f,L,j){e:{for(K in j){var K=!1;break e}K=!0}K||(j=Kr(j),typeof f=="string"?j!=null&&encodeURIComponent(String(j)):pt(f,L,j))}function Et(f){$e.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Et,$e);var ef=/^https?$/i,Pa=["POST","PUT"];r=Et.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,L,j,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);L=L?L.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?to(this.o):to(ir),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(L,String(f),!0),this.B=!1}catch(me){Ts(this,me);return}if(f=j||"",j=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var ae in K)j.set(ae,K[ae]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const me of K.keys())j.set(me,K.get(me));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(j.keys()).find(me=>me.toLowerCase()=="content-type"),ae=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Pa,L,void 0))||K||ae||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,De]of j)this.g.setRequestHeader(me,De);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{po(this),this.u=!0,this.g.send(f),this.u=!1}catch(me){Ts(this,me)}};function Ts(f,L){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=L,f.m=5,fo(f),Ln(f)}function fo(f){f.A||(f.A=!0,Ze(f,"complete"),Ze(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ze(this,"complete"),Ze(this,"abort"),Ln(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ln(this,!0)),Et.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},r.bb=function(){Oa(this)};function Oa(f){if(f.h&&typeof u<"u"&&(!f.v[1]||Cn(f)!=4||f.Z()!=2)){if(f.u&&Cn(f)==4)er(f.Ea,0,f);else if(Ze(f,"readystatechange"),Cn(f)==4){f.h=!1;try{const De=f.Z();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var j;if(!(j=L)){var K;if(K=De===0){var ae=String(f.D).match(As)[1]||null;!ae&&c.self&&c.self.location&&(ae=c.self.location.protocol.slice(0,-1)),K=!ef.test(ae?ae.toLowerCase():"")}j=K}if(j)Ze(f,"complete"),Ze(f,"success");else{f.m=6;try{var me=2<Cn(f)?f.g.statusText:""}catch{me=""}f.l=me+" ["+f.Z()+"]",fo(f)}}finally{Ln(f)}}}}function Ln(f,L){if(f.g){po(f);const j=f.g,K=f.v[0]?()=>{}:null;f.g=null,f.v=null,L||Ze(f,"ready");try{j.onreadystatechange=K}catch{}}}function po(f){f.I&&(c.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function Cn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var L=this.g.responseText;return f&&L.indexOf(f)==0&&(L=L.substring(f.length)),Ea(L)}};function Na(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function mo(f){const L={};f=(f.g&&2<=Cn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<f.length;K++){if(S(f[K]))continue;var j=I(f[K]);const ae=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const me=L[ae]||[];L[ae]=me,me.push(j)}R(L,function(K){return K.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sr(f,L,j){return j&&j.internalChannelParams&&j.internalChannelParams[f]||L}function La(f){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sr("baseRetryDelayMs",5e3,f),this.cb=Sr("retryDelaySeedMs",1e4,f),this.Wa=Sr("forwardChannelMaxRetries",2,f),this.wa=Sr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Es(f&&f.concurrentRequestLimit),this.Da=new Xh,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=La.prototype,r.la=8,r.G=1,r.connect=function(f,L,j,K){Pt(0),this.W=f,this.H=L||{},j&&K!==void 0&&(this.H.OSID=j,this.H.OAID=K),this.F=this.X,this.I=yl(this,null,this.W),Dr(this)};function Yt(f){if(go(f),f.G==3){var L=f.U++,j=Nn(f.I);if(pt(j,"SID",f.K),pt(j,"RID",L),pt(j,"TYPE","terminate"),Jr(f,j),L=new sr(f,f.j,L),L.L=2,L.v=Si(Nn(j)),j=!1,c.navigator&&c.navigator.sendBeacon)try{j=c.navigator.sendBeacon(L.v.toString(),"")}catch{}!j&&c.Image&&(new Image().src=L.v,j=!0),j||(L.g=vl(L.j,null),L.g.ea(L.v)),L.F=Date.now(),mt(L)}gl(f)}function cr(f){f.g&&(Fa(f),f.g.cancel(),f.g=null)}function go(f){cr(f),f.u&&(c.clearTimeout(f.u),f.u=null),_o(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function Dr(f){if(!On(f.h)&&!f.s){f.s=!0;var L=f.Ga;X||H(),re||(X(),re=!0),$.add(L,f),f.B=0}}function tf(f,L){return il(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=L.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=nr(p(f.Ga,f,L),ml(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ae=new sr(this,this.j,f);let me=this.o;if(this.S&&(me?(me=_(me),x(me,this.S)):me=this.S),this.m!==null||this.O||(ae.H=me,me=null),this.P)e:{for(var L=0,j=0;j<this.i.length;j++){t:{var K=this.i[j];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(L+=K,4096<L){L=j;break e}if(L===4096||j===this.i.length-1){L=j+1;break e}}L=1e3}else L=1e3;L=ki(this,ae,L),j=Nn(this.I),pt(j,"RID",f),pt(j,"CVER",22),this.D&&pt(j,"X-HTTP-Session-Id",this.D),Jr(this,j),me&&(this.O?L="headers="+encodeURIComponent(String(Kr(me)))+"&"+L:this.m&&Ii(j,this.m,me)),ka(this.h,ae),this.Ua&&pt(j,"TYPE","init"),this.P?(pt(j,"$req",L),pt(j,"SID","null"),ae.T=!0,uo(ae,j,null)):uo(ae,j,L),this.G=2}}else this.G==3&&(f?yo(this,f):this.i.length==0||On(this.h)||yo(this))};function yo(f,L){var j;L?j=L.l:j=f.U++;const K=Nn(f.I);pt(K,"SID",f.K),pt(K,"RID",j),pt(K,"AID",f.T),Jr(f,K),f.m&&f.o&&Ii(K,f.m,f.o),j=new sr(f,f.j,j,f.B+1),f.m===null&&(j.H=f.o),L&&(f.i=L.D.concat(f.i)),L=ki(f,j,1e3),j.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ka(f.h,j),uo(j,K,L)}function Jr(f,L){f.H&&q(f.H,function(j,K){pt(L,K,j)}),f.l&&Ci({},function(j,K){pt(L,K,j)})}function ki(f,L,j){j=Math.min(f.i.length,j);var K=f.l?p(f.l.Na,f.l,f):null;e:{var ae=f.i;let me=-1;for(;;){const De=["count="+j];me==-1?0<j?(me=ae[0].g,De.push("ofs="+me)):me=0:De.push("ofs="+me);let dt=!0;for(let qt=0;qt<j;qt++){let at=ae[qt].g;const Gt=ae[qt].map;if(at-=me,0>at)me=Math.max(0,ae[qt].g-100),dt=!1;else try{fl(Gt,De,"req"+at+"_")}catch{K&&K(Gt)}}if(dt){K=De.join("&");break e}}}return f=f.i.splice(0,j),L.D=f,K}function Ss(f){if(!f.g&&!f.u){f.Y=1;var L=f.Fa;X||H(),re||(X(),re=!0),$.add(L,f),f.v=0}}function vo(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=nr(p(f.Fa,f),ml(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,pl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=nr(p(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),cr(this),pl(this))};function Fa(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function pl(f){f.g=new sr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var L=Nn(f.qa);pt(L,"RID","rpc"),pt(L,"SID",f.K),pt(L,"AID",f.T),pt(L,"CI",f.F?"0":"1"),!f.F&&f.ja&&pt(L,"TO",f.ja),pt(L,"TYPE","xmlhttp"),Jr(f,L),f.m&&f.o&&Ii(L,f.m,f.o),f.L&&(f.g.I=f.L);var j=f.g;f=f.ia,j.L=1,j.v=Si(Nn(L)),j.m=null,j.P=!0,xa(j,f)}r.Za=function(){this.C!=null&&(this.C=null,cr(this),vo(this),Pt(19))};function _o(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function wo(f,L){var j=null;if(f.g==L){_o(f),Fa(f),f.g=null;var K=2}else if(fn(f.h,L))j=L.D,sl(f.h,L),K=1;else return;if(f.G!=0){if(L.o)if(K==1){j=L.m?L.m.length:0,L=Date.now()-L.F;var ae=f.B;K=gs(),Ze(K,new io(K,j)),Dr(f)}else Ss(f);else if(ae=L.s,ae==3||ae==0&&0<L.X||!(K==1&&tf(f,L)||K==2&&vo(f)))switch(j&&0<j.length&&(L=f.h,L.i=L.i.concat(j)),ae){case 1:Qr(f,5);break;case 4:Qr(f,10);break;case 3:Qr(f,6);break;default:Qr(f,2)}}}function ml(f,L){let j=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(j*=2),j*L}function Qr(f,L){if(f.j.info("Error code "+L),L==2){var j=p(f.fb,f),K=f.Xa;const ae=!K;K=new $r(K||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Cs(K,"https"),Si(K),ae?Zh(K.toString(),j):hl(K.toString(),j)}else Pt(2);f.G=0,f.l&&f.l.sa(L),gl(f),go(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function gl(f){if(f.G=0,f.ka=[],f.l){const L=ol(f.h);(L.length!=0||f.i.length!=0)&&(w(f.ka,L),w(f.ka,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.ra()}}function yl(f,L,j){var K=j instanceof $r?Nn(j):new $r(j);if(K.g!="")L&&(K.g=L+"."+K.g),bi(K,K.s);else{var ae=c.location;K=ae.protocol,L=L?L+"."+ae.hostname:ae.hostname,ae=+ae.port;var me=new $r(null);K&&Cs(me,K),L&&(me.g=L),ae&&bi(me,ae),j&&(me.l=j),K=me}return j=f.D,L=f.ya,j&&L&&pt(K,j,L),pt(K,"VER",f.la),Jr(f,K),K}function vl(f,L,j){if(L&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=f.Ca&&!f.pa?new Et(new Wr({eb:j})):new Et(f.pa),L.Ha(f.J),L}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ba(){}r=Ba.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Eo(){}Eo.prototype.g=function(f,L){return new dn(f,L)};function dn(f,L){$e.call(this),this.g=new La(L),this.l=f,this.h=L&&L.messageUrlParams||null,f=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(f?f["X-WebChannel-Content-Type"]=L.messageContentType:f={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(f?f["X-WebChannel-Client-Profile"]=L.va:f={"X-WebChannel-Client-Profile":L.va}),this.g.S=f,(f=L&&L.Sb)&&!S(f)&&(this.g.m=f),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!S(L)&&(this.g.D=L,f=this.h,f!==null&&L in f&&(f=this.h,L in f&&delete f[L])),this.j=new xr(this)}A(dn,$e),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Yt(this.g)},dn.prototype.o=function(f){var L=this.g;if(typeof f=="string"){var j={};j.__data__=f,f=j}else this.u&&(j={},j.__data__=wa(f),f=j);L.i.push(new rl(L.Ya++,f)),L.G==3&&Dr(L)},dn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,dn.aa.N.call(this)};function _l(f){Ar.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var L=f.__sm__;if(L){e:{for(const j in L){f=j;break e}f=void 0}(this.i=f)&&(f=this.i,L=L!==null&&f in L?L[f]:void 0),this.data=L}else this.data=f}A(_l,Ar);function wl(){ro.call(this),this.status=1}A(wl,ro);function xr(f){this.g=f}A(xr,Ba),xr.prototype.ua=function(){Ze(this.g,"a")},xr.prototype.ta=function(f){Ze(this.g,new _l(f))},xr.prototype.sa=function(f){Ze(this.g,new wl)},xr.prototype.ra=function(){Ze(this.g,"b")},Eo.prototype.createWebChannel=Eo.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,Lw=function(){return new Eo},Nw=function(){return gs()},Ow=Cr,xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oo.NO_ERROR=0,oo.TIMEOUT=8,oo.HTTP_ERROR=6,Cc=oo,Xu.COMPLETE="complete",Pw=Xu,no.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",$e.prototype.listen=$e.prototype.K,du=no,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,Rw=Et}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const H2="@firebase/firestore",G2="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Xm("@firebase/firestore");function zo(){return Gs.logLevel}function Oe(r,...e){if(Gs.logLevel<=rt.DEBUG){const t=e.map(ng);Gs.debug(`Firestore (${la}): ${r}`,...t)}}function fi(r,...e){if(Gs.logLevel<=rt.ERROR){const t=e.map(ng);Gs.error(`Firestore (${la}): ${r}`,...t)}}function Xo(r,...e){if(Gs.logLevel<=rt.WARN){const t=e.map(ng);Gs.warn(`Firestore (${la}): ${r}`,...t)}}function ng(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,Fw(r,n,t)}function Fw(r,e,t){let n=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw fi(n),new Error(n)}function ft(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||Fw(e,i,n)}function Qe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Ur{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}}class JS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class QS{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ft(this.o===void 0,42304);let n=this.i;const i=h=>this.i!==n?(n=this.i,t(h)):Promise.resolve();let a=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ai,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ai)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ft(typeof n.accessToken=="string",31837,{l:n}),new Bw(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class YS{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZS{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new YS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ft(this.o===void 0,3512);const n=a=>{a.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,Oe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ft(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=eD(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%62))}return n}}function tt(r,e){return r<e?-1:r>e?1:0}function Im(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),i=e.codePointAt(t);if(n!==i){if(n<128&&i<128)return tt(n,i);{const a=Mw(),u=tD(a.encode(W2(r,t)),a.encode(W2(e,t)));return u!==0?u:tt(n,i)}}t+=n>65535?2:1}return tt(r.length,e.length)}function W2(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function tD(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return tt(r[t],e[t]);return tt(r.length,e.length)}function ea(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=-62135596800,J2=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*J2);return new Lt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<K2)throw new Ne(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J2}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-K2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new Lt(0,0))}static max(){return new Ye(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="__name__";class Or{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ke(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ke(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=Or.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return tt(e.length,t.length)}static compareSegments(e,t){const n=Or.isNumericId(e),i=Or.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Or.extractNumericId(e).compare(Or.extractNumericId(t)):Im(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class wt extends Or{construct(e,t,n){return new wt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ne(_e.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new wt(t)}static emptyPath(){return new wt([])}}const nD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Or{construct(e,t,n){return new tn(e,t,n)}static isValidIdentifier(e){return nD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q2}static keyField(){return new tn([Q2])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Ne(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ne(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ne(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,i+=2}else c==="`"?(u=!u,i++):c!=="."||u?(n+=c,i++):(a(),i++)}if(a(),u)throw new Ne(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(wt.fromString(e))}static fromName(e){return new Ue(wt.fromString(e).popFirst(5))}static empty(){return new Ue(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new wt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function rD(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(n===1e9?new Lt(t+1,0):new Lt(t,n));return new is(i,Ue.empty(),e)}function iD(r){return new is(r.readTime,r.key,Du)}class is{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new is(Ye.min(),Ue.empty(),Du)}static max(){return new is(Ye.max(),Ue.empty(),Du)}}function sD(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ue.comparator(r.documentKey,e.documentKey),t!==0?t:tt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(r){if(r.code!==_e.FAILED_PRECONDITION||r.message!==oD)throw r;Oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(t){return we.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):we.reject(t)}static resolve(e){return new we((t,n)=>{t(e)})}static reject(e){return new we((t,n)=>{n(e)})}static waitFor(e){return new we((t,n)=>{let i=0,a=0,u=!1;e.forEach(c=>{++i,c.next(()=>{++a,u&&a===i&&t()},h=>n(h))}),u=!0,a===i&&t()})}static or(e){let t=we.resolve(!1);for(const n of e)t=t.next(i=>i?we.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,a)=>{n.push(t.call(this,i,a))}),this.waitFor(n)}static mapArray(e,t){return new we((n,i)=>{const a=e.length,u=new Array(a);let c=0;for(let h=0;h<a;h++){const d=h;t(e[d]).next(y=>{u[d]=y,++c,c===a&&n(u)},y=>i(y))}})}static doWhile(e,t){return new we((n,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):n()};a()})}}function uD(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ha(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>t.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}fh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=-1;function dh(r){return r==null}function qc(r){return r===0&&1/r==-1/0}function lD(r){return typeof r=="number"&&Number.isInteger(r)&&!qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="";function cD(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Y2(e)),e=hD(r.get(t),e);return Y2(e)}function hD(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const a=r.charAt(i);switch(a){case"\0":t+="";break;case qw:t+="";break;default:t+=a}}return t}function Y2(r){return r+qw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function hs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function fD(r,e){const t=[];for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(e(r[n],n,r));return t}function Vw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new Dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??en.RED,this.left=i??en.EMPTY,this.right=a??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new en(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return en.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ke(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke(57766)}get value(){throw Ke(16141)}get color(){throw Ke(16727)}get left(){throw Ke(29726)}get right(){throw Ke(36894)}copy(e,t,n,i,a){return this}insert(e,t,n){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new X2(this.data.getIterator())}getIteratorFrom(e){return new X2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class X2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new zt(tn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Uw("Invalid base64 string: "+a):a}}(e);return new nn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const dD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(ft(!!r,39018),typeof r=="string"){let e=0;const t=dD.exec(r);if(ft(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Nt(r.seconds),nanos:Nt(r.nanos)}}function Nt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function os(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="server_timestamp",Hw="__type__",Gw="__previous_value__",$w="__local_write_time__";function ig(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Hw])===null||t===void 0?void 0:t.stringValue)===zw}function ph(r){const e=r.mapValue.fields[Gw];return ig(e)?ph(e):e}function xu(r){const e=ss(r.mapValue.fields[$w].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t,n,i,a,u,c,h,d,y){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=y}}const Vc="(default)";class Iu{constructor(e,t){this.projectId=e,this.database=t||Vc}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database===Vc}isEqual(e){return e instanceof Iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="__type__",mD="__max__",gc={mapValue:{}},Kw="__vector__",Uc="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ig(r)?4:yD(r)?9007199254740991:gD(r)?10:11:Ke(28295,{value:r})}function qr(r,e){if(r===e)return!0;const t=as(r);if(t!==as(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xu(r).isEqual(xu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=ss(i.timestampValue),c=ss(a.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,a){return os(i.bytesValue).isEqual(os(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,a){return Nt(i.geoPointValue.latitude)===Nt(a.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(a.geoPointValue.longitude)}(r,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Nt(i.integerValue)===Nt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=Nt(i.doubleValue),c=Nt(a.doubleValue);return u===c?qc(u)===qc(c):isNaN(u)&&isNaN(c)}return!1}(r,e);case 9:return ea(r.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return function(i,a){const u=i.mapValue.fields||{},c=a.mapValue.fields||{};if(Z2(u)!==Z2(c))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(c[h]===void 0||!qr(u[h],c[h])))return!1;return!0}(r,e);default:return Ke(52216,{left:r})}}function ku(r,e){return(r.values||[]).find(t=>qr(t,e))!==void 0}function ta(r,e){if(r===e)return 0;const t=as(r),n=as(e);if(t!==n)return tt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return tt(r.booleanValue,e.booleanValue);case 2:return function(a,u){const c=Nt(a.integerValue||a.doubleValue),h=Nt(u.integerValue||u.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(r,e);case 3:return e0(r.timestampValue,e.timestampValue);case 4:return e0(xu(r),xu(e));case 5:return Im(r.stringValue,e.stringValue);case 6:return function(a,u){const c=os(a),h=os(u);return c.compareTo(h)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const c=a.split("/"),h=u.split("/");for(let d=0;d<c.length&&d<h.length;d++){const y=tt(c[d],h[d]);if(y!==0)return y}return tt(c.length,h.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const c=tt(Nt(a.latitude),Nt(u.latitude));return c!==0?c:tt(Nt(a.longitude),Nt(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return t0(r.arrayValue,e.arrayValue);case 10:return function(a,u){var c,h,d,y;const g=a.fields||{},p=u.fields||{},v=(c=g[Uc])===null||c===void 0?void 0:c.arrayValue,A=(h=p[Uc])===null||h===void 0?void 0:h.arrayValue,C=tt(((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return C!==0?C:t0(v,A)}(r.mapValue,e.mapValue);case 11:return function(a,u){if(a===gc.mapValue&&u===gc.mapValue)return 0;if(a===gc.mapValue)return 1;if(u===gc.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),d=u.fields||{},y=Object.keys(d);h.sort(),y.sort();for(let g=0;g<h.length&&g<y.length;++g){const p=Im(h[g],y[g]);if(p!==0)return p;const v=ta(c[h[g]],d[y[g]]);if(v!==0)return v}return tt(h.length,y.length)}(r.mapValue,e.mapValue);default:throw Ke(23264,{Pe:t})}}function e0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return tt(r,e);const t=ss(r),n=ss(e),i=tt(t.seconds,n.seconds);return i!==0?i:tt(t.nanos,n.nanos)}function t0(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const a=ta(t[i],n[i]);if(a)return a}return tt(t.length,n.length)}function na(r){return km(r)}function km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=ss(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return os(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ue.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const a of t.values||[])i?i=!1:n+=",",n+=km(a);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of n)a?a=!1:i+=",",i+=`${u}:${km(t.fields[u])}`;return i+"}"}(r.mapValue):Ke(61005,{value:r})}function bc(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(r);return e?16+bc(e):16;case 5:return 2*r.stringValue.length;case 6:return os(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+bc(a),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return hs(n.fields,(a,u)=>{i+=a.length+bc(u)}),i}(r.mapValue);default:throw Ke(13486,{value:r})}}function n0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Rm(r){return!!r&&"integerValue"in r}function sg(r){return!!r&&"arrayValue"in r}function r0(r){return!!r&&"nullValue"in r}function i0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tc(r){return!!r&&"mapValue"in r}function gD(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ww])===null||t===void 0?void 0:t.stringValue)===Kw}function wu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return hs(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=wu(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function yD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Tc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(t)}setAll(e){let t=tn.emptyPath(),n={},i=[];e.forEach((u,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,n,i),n={},i=[],t=c.popLast()}u?n[c.lastSegment()]=wu(u):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());Tc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Tc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){hs(t,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Rn(wu(this.value))}}function Jw(r){const e=[];return hs(r.fields,(t,n)=>{const i=new tn([t]);if(Tc(n)){const a=Jw(n.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,n,i,a,u,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=a,this.data=u,this.documentState=c}static newInvalidDocument(e){return new cn(e,0,Ye.min(),Ye.min(),Ye.min(),Rn.empty(),0)}static newFoundDocument(e,t,n,i){return new cn(e,1,t,Ye.min(),n,i,0)}static newNoDocument(e,t){return new cn(e,2,t,Ye.min(),Ye.min(),Rn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Ye.min(),Ye.min(),Rn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){this.position=e,this.inclusive=t}}function s0(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const a=e[i],u=r.position[i];if(a.field.isKeyField()?n=Ue.comparator(Ue.fromName(u.referenceValue),t.key):n=ta(u,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function o0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!qr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t="asc"){this.field=e,this.dir=t}}function vD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{}class jt extends Qw{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new wD(e,t,n):t==="array-contains"?new CD(e,n):t==="in"?new bD(e,n):t==="not-in"?new TD(e,n):t==="array-contains-any"?new SD(e,n):new jt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new ED(e,n):new AD(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ta(t,this.value)):t!==null&&as(this.value)===as(t)&&this.matchesComparison(ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends Qw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new wr(e,t)}matches(e){return Yw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Yw(r){return r.op==="and"}function Zw(r){return _D(r)&&Yw(r)}function _D(r){for(const e of r.filters)if(e instanceof wr)return!1;return!0}function Pm(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+na(r.value);if(Zw(r))return r.filters.map(e=>Pm(e)).join(",");{const e=r.filters.map(t=>Pm(t)).join(",");return`${r.op}(${e})`}}function Xw(r,e){return r instanceof jt?function(n,i){return i instanceof jt&&n.op===i.op&&n.field.isEqual(i.field)&&qr(n.value,i.value)}(r,e):r instanceof wr?function(n,i){return i instanceof wr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,u,c)=>a&&Xw(u,i.filters[c]),!0):!1}(r,e):void Ke(19439)}function eE(r){return r instanceof jt?function(t){return`${t.field.canonicalString()} ${t.op} ${na(t.value)}`}(r):r instanceof wr?function(t){return t.op.toString()+" {"+t.getFilters().map(eE).join(" ,")+"}"}(r):"Filter"}class wD extends jt{constructor(e,t,n){super(e,t,n),this.key=Ue.fromName(n.referenceValue)}matches(e){const t=Ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class ED extends jt{constructor(e,t){super(e,"in",t),this.keys=tE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class AD extends jt{constructor(e,t){super(e,"not-in",t),this.keys=tE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tE(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Ue.fromName(n.referenceValue))}class CD extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sg(t)&&ku(t.arrayValue,this.value)}}class bD extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ku(this.value.arrayValue,t)}}class TD extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ku(this.value.arrayValue,t)}}class SD extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>ku(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,t=null,n=[],i=[],a=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=u,this.endAt=c,this.Ie=null}}function a0(r,e=null,t=[],n=[],i=null,a=null,u=null){return new DD(r,e,t,n,i,a,u)}function og(r){const e=Qe(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Pm(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),dh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>na(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>na(n)).join(",")),e.Ie=t}return e.Ie}function ag(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!vD(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Xw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!o0(r.startAt,e.startAt)&&o0(r.endAt,e.endAt)}function Om(r){return Ue.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t=null,n=[],i=[],a=null,u="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=u,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xD(r,e,t,n,i,a,u,c){return new fa(r,e,t,n,i,a,u,c)}function ug(r){return new fa(r)}function u0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function nE(r){return r.collectionGroup!==null}function Eu(r){const e=Qe(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new zt(tn.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Ru(a,n))}),t.has(tn.keyField().canonicalString())||e.Ee.push(new Ru(tn.keyField(),n))}return e.Ee}function Fr(r){const e=Qe(r);return e.de||(e.de=rE(e,Eu(r))),e.de}function ID(r){const e=Qe(r);return e.Ae||(e.Ae=rE(e,r.explicitOrderBy)),e.Ae}function rE(r,e){if(r.limitType==="F")return a0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ru(i.field,a)});const t=r.endAt?new zc(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new zc(r.startAt.position,r.startAt.inclusive):null;return a0(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Nm(r,e){const t=r.filters.concat([e]);return new fa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Hc(r,e,t){return new fa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function mh(r,e){return ag(Fr(r),Fr(e))&&r.limitType===e.limitType}function iE(r){return`${og(Fr(r))}|lt:${r.limitType}`}function Ho(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>eE(i)).join(", ")}]`),dh(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>na(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>na(i)).join(",")),`Target(${n})`}(Fr(r))}; limitType=${r.limitType})`}function gh(r,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ue.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(r,e)&&function(n,i){for(const a of Eu(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(u,c,h){const d=s0(u,c,h);return u.inclusive?d<=0:d<0}(n.startAt,Eu(n),i)||n.endAt&&!function(u,c,h){const d=s0(u,c,h);return u.inclusive?d>=0:d>0}(n.endAt,Eu(n),i))}(r,e)}function kD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sE(r){return(e,t)=>{let n=!1;for(const i of Eu(r)){const a=RD(i,e,t);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function RD(r,e,t){const n=r.field.isKeyField()?Ue.comparator(e.key,t.key):function(a,u,c){const h=u.data.field(a),d=c.data.field(a);return h!==null&&d!==null?ta(h,d):Ke(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ke(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,(t,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return Vw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new Dt(Ue.comparator);function di(){return PD}const oE=new Dt(Ue.comparator);function pu(...r){let e=oE;for(const t of r)e=e.insert(t.key,t);return e}function aE(r){let e=oE;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Vs(){return Au()}function uE(){return Au()}function Au(){return new Ys(r=>r.toString(),(r,e)=>r.isEqual(e))}const OD=new Dt(Ue.comparator),ND=new zt(Ue.comparator);function it(...r){let e=ND;for(const t of r)e=e.add(t);return e}const LD=new zt(tt);function FD(){return LD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function lE(r){return{integerValue:""+r}}function BD(r,e){return lD(e)?lE(e):lg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this._=void 0}}function MD(r,e,t){return r instanceof Pu?function(i,a){const u={fields:{[Hw]:{stringValue:zw},[$w]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ig(a)&&(a=ph(a)),a&&(u.fields[Gw]=a),{mapValue:u}}(t,e):r instanceof Ou?hE(r,e):r instanceof Nu?fE(r,e):function(i,a){const u=cE(i,a),c=l0(u)+l0(i.Re);return Rm(u)&&Rm(i.Re)?lE(c):lg(i.serializer,c)}(r,e)}function jD(r,e,t){return r instanceof Ou?hE(r,e):r instanceof Nu?fE(r,e):t}function cE(r,e){return r instanceof Gc?function(n){return Rm(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Pu extends yh{}class Ou extends yh{constructor(e){super(),this.elements=e}}function hE(r,e){const t=dE(e);for(const n of r.elements)t.some(i=>qr(i,n))||t.push(n);return{arrayValue:{values:t}}}class Nu extends yh{constructor(e){super(),this.elements=e}}function fE(r,e){let t=dE(e);for(const n of r.elements)t=t.filter(i=>!qr(i,n));return{arrayValue:{values:t}}}class Gc extends yh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function l0(r){return Nt(r.integerValue||r.doubleValue)}function dE(r){return sg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,t){this.field=e,this.transform=t}}function VD(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof Ou&&i instanceof Ou||n instanceof Nu&&i instanceof Nu?ea(n.elements,i.elements,qr):n instanceof Gc&&i instanceof Gc?qr(n.Re,i.Re):n instanceof Pu&&i instanceof Pu}(r.transform,e.transform)}class UD{constructor(e,t){this.version=e,this.transformResults=t}}class _r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class vh{}function pE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new cg(r.key,_r.none()):new Vu(r.key,r.data,_r.none());{const t=r.data,n=Rn.empty();let i=new zt(tn.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?n.delete(a):n.set(a,u),i=i.add(a)}return new fs(r.key,n,new Vn(i.toArray()),_r.none())}}function zD(r,e,t){r instanceof Vu?function(i,a,u){const c=i.value.clone(),h=h0(i.fieldTransforms,a,u.transformResults);c.setAll(h),a.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(r,e,t):r instanceof fs?function(i,a,u){if(!Sc(i.precondition,a))return void a.convertToUnknownDocument(u.version);const c=h0(i.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(mE(i)),h.setAll(c),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(r,e,t):function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Cu(r,e,t,n){return r instanceof Vu?function(a,u,c,h){if(!Sc(a.precondition,u))return c;const d=a.value.clone(),y=f0(a.fieldTransforms,h,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(r,e,t,n):r instanceof fs?function(a,u,c,h){if(!Sc(a.precondition,u))return c;const d=f0(a.fieldTransforms,h,u),y=u.data;return y.setAll(mE(a)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(r,e,t,n):function(a,u,c){return Sc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(r,e,t)}function HD(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),a=cE(n.transform,i||null);a!=null&&(t===null&&(t=Rn.empty()),t.set(n.field,a))}return t||null}function c0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ea(n,i,(a,u)=>VD(a,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Vu extends vh{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fs extends vh{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function mE(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function h0(r,e,t){const n=new Map;ft(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let i=0;i<t.length;i++){const a=r[i],u=a.transform,c=e.data.field(a.field);n.set(a.field,jD(u,c,t[i]))}return n}function f0(r,e,t){const n=new Map;for(const i of r){const a=i.transform,u=t.data.field(i.field);n.set(i.field,MD(a,u,e))}return n}class cg extends vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GD extends vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&zD(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Cu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Cu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=uE();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let c=this.applyToLocalView(u,a.mutatedFields);c=t.has(i.key)?null:c;const h=pE(u,c);h!==null&&n.set(i.key,h),u.isValidDocument()||u.convertToNoDocument(Ye.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),it())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(t,n)=>c0(t,n))&&ea(this.baseMutations,e.baseMutations,(t,n)=>c0(t,n))}}class hg{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){ft(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let i=function(){return OD}();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,n[u].version);return new hg(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,ut;function QD(r){switch(r){case _e.OK:return Ke(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return Ke(15467,{code:r})}}function gE(r){if(r===void 0)return fi("GRPC error has no .code"),_e.UNKNOWN;switch(r){case Mt.OK:return _e.OK;case Mt.CANCELLED:return _e.CANCELLED;case Mt.UNKNOWN:return _e.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return _e.INTERNAL;case Mt.UNAVAILABLE:return _e.UNAVAILABLE;case Mt.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Mt.NOT_FOUND:return _e.NOT_FOUND;case Mt.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Mt.ABORTED:return _e.ABORTED;case Mt.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Mt.DATA_LOSS:return _e.DATA_LOSS;default:return Ke(39323,{code:r})}}(ut=Mt||(Mt={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new ts([4294967295,4294967295],0);function d0(r){const e=Mw().encode(r),t=new kw;return t.update(e),new Uint8Array(t.digest())}function p0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ts([t,n],0),new ts([i,a],0)]}class fg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new mu(`Invalid padding: ${t}`);if(n<0)throw new mu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new mu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ts.fromNumber(this.pe)}we(e,t,n){let i=e.add(t.multiply(ts.fromNumber(n)));return i.compare(YD)===1&&(i=new ts([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=d0(e),[n,i]=p0(t);for(let a=0;a<this.hashCount;a++){const u=this.we(n,i,a);if(!this.be(u))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new fg(a,i,t);return n.forEach(c=>u.insert(c)),u}insert(e){if(this.pe===0)return;const t=d0(e),[n,i]=p0(t);for(let a=0;a<this.hashCount;a++){const u=this.we(n,i,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new _h(Ye.min(),i,new Dt(tt),di(),it())}}class Uu{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Uu(n,t,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,n,i){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=i}}class yE{constructor(e,t){this.targetId=e,this.Ce=t}}class vE{constructor(e,t,n=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class m0{constructor(){this.Fe=0,this.Me=g0(),this.xe=nn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=it(),t=it(),n=it();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ke(38017,{changeType:a})}}),new Uu(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=g0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ft(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ZD{constructor(e){this.ze=e,this.je=new Map,this.He=di(),this.Je=yc(),this.Ye=yc(),this.Ze=new Dt(tt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Ke(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((n,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,n=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(Om(a))if(n===0){const u=new Ue(a.path);this.tt(t,u,cn.newNoDocument(u,Ye.min()))}else ft(n===1,20013,{expectedCount:n});else{const u=this.ut(t);if(u!==n){const c=this.ct(e),h=c?this.lt(c,e,u):1;if(h!==0){this.st(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=t;let u,c;try{u=os(n).toUint8Array()}catch(h){if(h instanceof Uw)return Xo("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new fg(u,i,a)}catch(h){return Xo(h instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let i=0;return n.forEach(a=>{const u=this.ze.Pt(),c=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,u)=>{const c=this._t(u);if(c){if(a.current&&Om(c.target)){const h=new Ue(c.target.path);this.Et(h).has(u)||this.dt(u,h)||this.tt(u,h,cn.newNoDocument(h,e))}a.Le&&(t.set(u,a.qe()),a.Qe())}});let n=it();this.Ye.forEach((a,u)=>{let c=!0;u.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const i=new _h(e,t,this.Ze,this.He,n);return this.He=di(),this.Je=yc(),this.Ye=yc(),this.Ze=new Dt(tt),i}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new m0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new zt(tt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new zt(tt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new m0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function yc(){return new Dt(Ue.comparator)}function g0(){return new Dt(Ue.comparator)}const XD={asc:"ASCENDING",desc:"DESCENDING"},ex={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tx={and:"AND",or:"OR"};class nx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lm(r,e){return r.useProto3Json||dh(e)?e:{value:e}}function $c(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _E(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function rx(r,e){return $c(r,e.toTimestamp())}function Br(r){return ft(!!r,49232),Ye.fromTimestamp(function(t){const n=ss(t);return new Lt(n.seconds,n.nanos)}(r))}function dg(r,e){return Fm(r,e).canonicalString()}function Fm(r,e){const t=function(i){return new wt(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function wE(r){const e=wt.fromString(r);return ft(SE(e),10190,{key:e.toString()}),e}function Bm(r,e){return dg(r.databaseId,e.path)}function Pd(r,e){const t=wE(e);if(t.get(1)!==r.databaseId.projectId)throw new Ne(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ne(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ue(AE(t))}function EE(r,e){return dg(r.databaseId,e)}function ix(r){const e=wE(r);return e.length===4?wt.emptyPath():AE(e)}function Mm(r){return new wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function AE(r){return ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function y0(r,e,t){return{name:Bm(r,e),fields:t.value.mapValue.fields}}function sx(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ke(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(d,y){return d.useProto3Json?(ft(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(d){const y=d.code===void 0?_e.UNKNOWN:gE(d.code);return new Ne(y,d.message||"")}(u);t=new vE(n,i,a,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Pd(r,n.document.name),a=Br(n.document.updateTime),u=n.document.createTime?Br(n.document.createTime):Ye.min(),c=new Rn({mapValue:{fields:n.document.fields}}),h=cn.newFoundDocument(i,a,u,c),d=n.targetIds||[],y=n.removedTargetIds||[];t=new Dc(d,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Pd(r,n.document),a=n.readTime?Br(n.readTime):Ye.min(),u=cn.newNoDocument(i,a),c=n.removedTargetIds||[];t=new Dc([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Pd(r,n.document),a=n.removedTargetIds||[];t=new Dc([],a,i,null)}else{if(!("filter"in e))return Ke(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,u=new JD(i,a),c=n.targetId;t=new yE(c,u)}}return t}function ox(r,e){let t;if(e instanceof Vu)t={update:y0(r,e.key,e.value)};else if(e instanceof cg)t={delete:Bm(r,e.key)};else if(e instanceof fs)t={update:y0(r,e.key,e.data),updateMask:mx(e.fieldMask)};else{if(!(e instanceof GD))return Ke(16599,{ft:e.type});t={verify:Bm(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(a,u){const c=u.transform;if(c instanceof Pu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ou)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Nu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Gc)return{fieldPath:u.field.canonicalString(),increment:c.Re};throw Ke(20930,{transform:u.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:rx(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ke(27497)}(r,e.precondition)),t}function ax(r,e){return r&&r.length>0?(ft(e!==void 0,14353),r.map(t=>function(i,a){let u=i.updateTime?Br(i.updateTime):Br(a);return u.isEqual(Ye.min())&&(u=Br(a)),new UD(u,i.transformResults||[])}(t,e))):[]}function ux(r,e){return{documents:[EE(r,e.path)]}}function CE(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=EE(r,i);const a=function(d){if(d.length!==0)return TE(wr.create(d,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(d){if(d.length!==0)return d.map(y=>function(p){return{field:$i(p.field),direction:fx(p.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=Lm(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:i}}function lx(r,e,t,n){const{gt:i,parent:a}=CE(r,e),u={},c=[];let h=0;return t.forEach(d=>{const y="aggregate_"+h++;u[y]=d.alias,d.aggregateType==="count"?c.push({alias:y,count:{}}):d.aggregateType==="avg"?c.push({alias:y,avg:{field:$i(d.fieldPath)}}):d.aggregateType==="sum"&&c.push({alias:y,sum:{field:$i(d.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:c,structuredQuery:i.structuredQuery},parent:i.parent},yt:u,parent:a}}function cx(r){let e=ix(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){ft(n===1,65062);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(g){const p=bE(g);return p instanceof wr&&Zw(p)?p.getFilters():[p]}(t.where));let u=[];t.orderBy&&(u=function(g){return g.map(p=>function(A){return new Ru(Go(A.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(p))}(t.orderBy));let c=null;t.limit&&(c=function(g){let p;return p=typeof g=="object"?g.value:g,dh(p)?null:p}(t.limit));let h=null;t.startAt&&(h=function(g){const p=!!g.before,v=g.values||[];return new zc(v,p)}(t.startAt));let d=null;return t.endAt&&(d=function(g){const p=!g.before,v=g.values||[];return new zc(v,p)}(t.endAt)),xD(e,i,u,a,c,"F",h,d)}function hx(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bE(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Go(t.unaryFilter.field);return jt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Go(t.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Go(t.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Go(t.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ke(61313);default:return Ke(60726)}}(r):r.fieldFilter!==void 0?function(t){return jt.create(Go(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ke(58110);default:return Ke(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return wr.create(t.compositeFilter.filters.map(n=>bE(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke(1026)}}(t.compositeFilter.op))}(r):Ke(30097,{filter:r})}function fx(r){return XD[r]}function dx(r){return ex[r]}function px(r){return tx[r]}function $i(r){return{fieldPath:r.canonicalString()}}function Go(r){return tn.fromServerFormat(r.fieldPath)}function TE(r){return r instanceof jt?function(t){if(t.op==="=="){if(i0(t.value))return{unaryFilter:{field:$i(t.field),op:"IS_NAN"}};if(r0(t.value))return{unaryFilter:{field:$i(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(i0(t.value))return{unaryFilter:{field:$i(t.field),op:"IS_NOT_NAN"}};if(r0(t.value))return{unaryFilter:{field:$i(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$i(t.field),op:dx(t.op),value:t.value}}}(r):r instanceof wr?function(t){const n=t.getFilters().map(i=>TE(i));return n.length===1?n[0]:{compositeFilter:{op:px(t.op),filters:n}}}(r):Ke(54877,{filter:r})}function mx(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function SE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,t,n,i,a=Ye.min(),u=Ye.min(),c=nn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.wt=e}}function yx(r){const e=cx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.yn=new _x}addToCollectionParentIndex(e,t){return this.yn.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return we.resolve()}deleteFieldIndex(e,t){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,t){return we.resolve()}getDocumentsMatchingTarget(e,t){return we.resolve(null)}getIndexType(e,t){return we.resolve(0)}getFieldIndexes(e,t){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,t){return we.resolve(is.min())}getMinOffsetFromCollectionGroup(e,t){return we.resolve(is.min())}updateCollectionGroup(e,t,n){return we.resolve()}updateIndexEntries(e,t){return we.resolve()}}class _x{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new zt(wt.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new zt(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DE=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(DE,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ra(0)}static ir(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="LruGarbageCollector",wx=1048576;function w0([r,e],[t,n]){const i=tt(r,t);return i===0?tt(e,n):i}class Ex{constructor(e){this.cr=e,this.buffer=new zt(w0),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();w0(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ax{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Oe(_0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ha(t)?Oe(_0,"Ignoring IndexedDB error during garbage collection: ",t):await ca(t)}await this.Ir(3e5)})}}class Cx{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return we.resolve(fh.le);const n=new Ex(t);return this.Er.forEachTarget(e,i=>n.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>n.Pr(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(v0)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v0):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,i,a,u,c,h,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,u=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(n=g,c=Date.now(),this.removeTargets(e,n,t))).next(g=>(a=g,h=Date.now(),this.removeOrphanedDocuments(e,n))).next(g=>(d=Date.now(),zo()<=rt.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${i} in `+(c-u)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${g} documents in `+(d-h)+`ms
Total Duration: ${d-y}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g})))}}function bx(r,e){return new Cx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.changes=new Ys(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?we.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&Cu(n.mutation,i,Vn.empty(),Lt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,it()).next(()=>n))}getLocalViewOfDocuments(e,t,n=it()){const i=Vs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(a=>{let u=pu();return a.forEach((c,h)=>{u=u.insert(c,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const n=Vs();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,it()))}populateOverlays(e,t,n){const i=[];return n.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,c)=>{t.set(u,c)})})}computeViews(e,t,n,i){let a=di();const u=Au(),c=function(){return Au()}();return t.forEach((h,d)=>{const y=n.get(d.key);i.has(d.key)&&(y===void 0||y.mutation instanceof fs)?a=a.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),Cu(y.mutation,d,y.mutation.getFieldMask(),Lt.now())):u.set(d.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((d,y)=>u.set(d,y)),t.forEach((d,y)=>{var g;return c.set(d,new Sx(y,(g=u.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){const n=Au();let i=new Dt((u,c)=>u-c),a=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const c of u)c.keys().forEach(h=>{const d=t.get(h);if(d===null)return;let y=n.get(h)||Vn.empty();y=c.applyToLocalView(d,y),n.set(h,y);const g=(i.get(c.batchId)||it()).add(h);i=i.insert(c.batchId,g)})}).next(()=>{const u=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,y=h.value,g=uE();y.forEach(p=>{if(!a.has(p)){const v=pE(t.get(p),n.get(p));v!==null&&g.set(p,v),a=a.add(p)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,g))}return we.waitFor(u)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(u){return Ue.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):we.resolve(Vs());let c=Du,h=a;return u.next(d=>we.forEach(d,(y,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(y)?we.resolve():this.remoteDocumentCache.getEntry(e,y).next(p=>{h=h.insert(y,p)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,h,d,it())).next(y=>({batchId:c,changes:aE(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ue(t)).next(n=>{let i=pu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const a=t.collectionGroup;let u=pu();return this.indexManager.getCollectionParents(e,a).next(c=>we.forEach(c,h=>{const d=function(g,p){return new fa(p,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next(y=>{y.forEach((g,p)=>{u=u.insert(g,p)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,i))).next(u=>{a.forEach((h,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,cn.newInvalidDocument(y)))});let c=pu();return u.forEach((h,d)=>{const y=a.get(h);y!==void 0&&Cu(y.mutation,d,Vn.empty(),Lt.now()),gh(t,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return we.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Br(i.createTime)}}(t)),we.resolve()}getNamedQuery(e,t){return we.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:yx(i.bundledQuery),readTime:Br(i.readTime)}}(t)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.overlays=new Dt(Ue.comparator),this.Or=new Map}getOverlay(e,t){return we.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Vs();return we.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,a)=>{this.St(e,t,a)}),we.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Or.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(n)),we.resolve()}getOverlaysForCollection(e,t,n){const i=Vs(),a=t.length+1,u=new Ue(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>n&&i.set(h.getKey(),h)}return we.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new Dt((d,y)=>d-y);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>n){let y=a.get(d.largestBatchId);y===null&&(y=Vs(),a=a.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const c=Vs(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,y)=>c.set(d,y)),!(c.size()>=i)););return we.resolve(c)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const u=this.Or.get(i.largestBatchId).delete(n.key);this.Or.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new WD(t,n));let a=this.Or.get(t);a===void 0&&(a=it(),this.Or.set(t,a)),this.Or.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.Nr=new zt(Jt.Br),this.Lr=new zt(Jt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new Jt(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Qr(new Jt(e,t))}$r(e,t){e.forEach(n=>this.removeReference(n,t))}Ur(e){const t=new Ue(new wt([])),n=new Jt(t,e),i=new Jt(t,e+1),a=[];return this.Lr.forEachInRange([n,i],u=>{this.Qr(u),a.push(u.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ue(new wt([])),n=new Jt(t,e),i=new Jt(t,e+1);let a=it();return this.Lr.forEachInRange([n,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Jt(e,0),n=this.Nr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Jt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ue.comparator(e.key,t.key)||tt(e.Gr,t.Gr)}static kr(e,t){return tt(e.Gr,t.Gr)||Ue.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new zt(Jt.Br)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new $D(a,t,n,i);this.mutationQueue.push(u);for(const c of i)this.zr=this.zr.add(new Jt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return we.resolve(u)}lookupMutationBatch(e,t){return we.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Hr(n),a=i<0?0:i;return we.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?rg:this.Jn-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Jt(t,0),i=new Jt(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([n,i],u=>{const c=this.jr(u.Gr);a.push(c)}),we.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new zt(tt);return t.forEach(i=>{const a=new Jt(i,0),u=new Jt(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,u],c=>{n=n.add(c.Gr)})}),we.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;Ue.isDocumentKey(a)||(a=a.child(""));const u=new Jt(new Ue(a),0);let c=new zt(tt);return this.zr.forEachWhile(h=>{const d=h.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(c=c.add(h.Gr)),!0)},u),we.resolve(this.Jr(c))}Jr(e){const t=[];return e.forEach(n=>{const i=this.jr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ft(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return we.forEach(t.mutations,i=>{const a=new Jt(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=n})}Xn(e){}containsKey(e,t){const n=new Jt(t,0),i=this.zr.firstAfterOrEqual(n);return we.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.Zr=e,this.docs=function(){return new Dt(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,u=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return we.resolve(n?n.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let n=di();return t.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():cn.newInvalidDocument(i))}),we.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let a=di();const u=t.path,c=new Ue(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:y}}=h.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||sD(iD(y),n)<=0||(i.has(y.key)||gh(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return we.resolve(a)}getAllFromCollectionGroup(e,t,n,i){Ke(9500)}Xr(e,t){return we.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new Ox(this)}getSize(e){return we.resolve(this.size)}}class Ox extends Tx{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(n)}),we.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.persistence=e,this.ei=new Ys(t=>og(t),ag),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.ti=0,this.ni=new pg,this.targetCount=0,this.ri=ra.rr()}forEachTarget(e,t){return this.ei.forEach((n,i)=>t(i)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),we.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new ra(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.ar(t),we.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.ei.forEach((u,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.ei.delete(u),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),we.waitFor(a).next(()=>i)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return we.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),we.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),we.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),we.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return we.resolve(n)}containsKey(e,t){return we.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,t){this.ii={},this.overlays={},this.si=new fh(0),this.oi=!1,this.oi=!0,this._i=new kx,this.referenceDelegate=e(this),this.ai=new Nx(this),this.indexManager=new vx,this.remoteDocumentCache=function(i){return new Px(i)}(n=>this.referenceDelegate.ui(n)),this.serializer=new gx(t),this.ci=new xx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ix,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new Rx(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){Oe("MemoryPersistence","Starting transaction:",e);const i=new Lx(this.si.next());return this.referenceDelegate.li(),n(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,t){return we.or(Object.values(this.ii).map(n=>()=>n.containsKey(e,t)))}}class Lx extends aD{constructor(e){super(),this.currentSequenceNumber=e}}class mg{constructor(e){this.persistence=e,this.Ti=new pg,this.Ii=null}static Ei(e){return new mg(e)}get di(){if(this.Ii)return this.Ii;throw Ke(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),we.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),we.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>n.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.di,n=>{const i=Ue.fromPath(n);return this.Ai(e,i).next(a=>{a||t.removeEntry(i,Ye.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(n=>{n?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return we.or([()=>we.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Wc{constructor(e,t){this.persistence=e,this.Ri=new Ys(n=>cD(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=bx(this,t)}static Ei(e,t){return new Wc(e,t)}li(){}hi(e){return we.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}Vr(e){let t=0;return this.Ar(e,n=>{t++}).next(()=>t)}Ar(e,t){return we.forEach(this.Ri,(n,i)=>this.gr(e,n,i).next(a=>a?we.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,u=>this.gr(e,u,t).next(c=>{c||(n++,a.removeEntry(u,Ye.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),we.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),we.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),we.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bc(e.data.value)),t}gr(e,t,n){return we.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.Ri.get(t);return we.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=i}static Ps(e,t){let n=it(),i=it();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new gg(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return xT()?8:uD(hn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,i){const a={result:null};return this.Rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Vs(e,t,i,n).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new Fx;return this.fs(e,t,u).next(c=>{if(a.result=c,this.Is)return this.gs(e,t,u,c.size)})}).next(()=>a.result)}gs(e,t,n,i){return n.documentReadCount<this.Es?(zo()<=rt.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",Ho(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),we.resolve()):(zo()<=rt.DEBUG&&Oe("QueryEngine","Query:",Ho(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(zo()<=rt.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",Ho(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):we.resolve())}Rs(e,t){if(u0(t))return we.resolve(null);let n=Fr(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Hc(t,null,"F"),n=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const u=it(...a);return this.As.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,n).next(h=>{const d=this.ps(t,c);return this.ys(t,d,u,h.readTime)?this.Rs(e,Hc(t,null,"F")):this.ws(e,d,t,h)}))})))}Vs(e,t,n,i){return u0(t)||i.isEqual(Ye.min())?we.resolve(null):this.As.getDocuments(e,n).next(a=>{const u=this.ps(t,a);return this.ys(t,u,n,i)?we.resolve(null):(zo()<=rt.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ho(t)),this.ws(e,u,t,rD(i,Du)).next(c=>c))})}ps(e,t){let n=new zt(sE(e));return t.forEach((i,a)=>{gh(e,a)&&(n=n.add(a))}),n}ys(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,t,n){return zo()<=rt.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Ho(t)),this.As.getDocumentsMatchingQuery(e,t,is.min(),n)}ws(e,t,n,i){return this.As.getDocumentsMatchingQuery(e,n,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="LocalStore",Mx=3e8;class jx{constructor(e,t,n,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new Dt(tt),this.Ds=new Ys(a=>og(a),ag),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dx(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function qx(r,e,t,n){return new jx(r,e,t,n)}async function IE(r,e){const t=Qe(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(n))).next(a=>{const u=[],c=[];let h=it();for(const d of i){u.push(d.batchId);for(const y of d.mutations)h=h.add(y.key)}for(const d of a){c.push(d.batchId);for(const y of d.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(n,h).next(d=>({Ms:d,removedBatchIds:u,addedBatchIds:c}))})})}function Vx(r,e){const t=Qe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(c,h,d,y){const g=d.batch,p=g.keys();let v=we.resolve();return p.forEach(A=>{v=v.next(()=>y.getEntry(h,A)).next(C=>{const w=d.docVersions.get(A);ft(w!==null,48541),C.version.compareTo(w)<0&&(g.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),y.addEntry(C)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(h,g))}(t,n,e,a).next(()=>a.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let h=it();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function kE(r){const e=Qe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function Ux(r,e){const t=Qe(r),n=e.snapshotVersion;let i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;const c=[];e.targetChanges.forEach((y,g)=>{const p=i.get(g);if(!p)return;c.push(t.ai.removeMatchingKeys(a,y.removedDocuments,g).next(()=>t.ai.addMatchingKeys(a,y.addedDocuments,g)));let v=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(nn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):y.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(y.resumeToken,n)),i=i.insert(g,v),function(C,w,E){return C.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=Mx?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,v,y)&&c.push(t.ai.updateTargetData(a,v))});let h=di(),d=it();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),c.push(zx(a,u,e.documentUpdates).next(y=>{h=y.xs,d=y.Os})),!n.isEqual(Ye.min())){const y=t.ai.getLastRemoteSnapshotVersion(a).next(g=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,n));c.push(y)}return we.waitFor(c).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(t.Ss=i,a))}function zx(r,e,t){let n=it(),i=it();return t.forEach(a=>n=n.add(a)),e.getEntries(r,n).next(a=>{let u=di();return t.forEach((c,h)=>{const d=a.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Ye.min())?(e.removeEntry(c,h.readTime),u=u.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),u=u.insert(c,h)):Oe(yg,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{xs:u,Os:i}})}function Hx(r,e){const t=Qe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=rg),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Gx(r,e){const t=Qe(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.ai.getTargetData(n,e).next(a=>a?(i=a,we.resolve(i)):t.ai.allocateTargetId(n).next(u=>(i=new Zi(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.ai.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.Ss.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(n.targetId,n),t.Ds.set(e,n.targetId)),n})}async function jm(r,e,t){const n=Qe(r),i=n.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,u=>n.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!ha(u))throw u;Oe(yg,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Ss=n.Ss.remove(e),n.Ds.delete(i.target)}function E0(r,e,t){const n=Qe(r);let i=Ye.min(),a=it();return n.persistence.runTransaction("Execute query","readwrite",u=>function(h,d,y){const g=Qe(h),p=g.Ds.get(y);return p!==void 0?we.resolve(g.Ss.get(p)):g.ai.getTargetData(d,y)}(n,u,Fr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(u,c.targetId).next(h=>{a=h})}).next(()=>n.bs.getDocumentsMatchingQuery(u,e,t?i:Ye.min(),t?a:it())).next(c=>($x(n,kD(e),c),{documents:c,Ns:a})))}function $x(r,e,t){let n=r.vs.get(e)||Ye.min();t.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),r.vs.set(e,n)}class A0{constructor(){this.activeTargetIds=FD()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wx{constructor(){this.So=new A0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new A0,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="ConnectivityMonitor";class b0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Oe(C0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Oe(C0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function qm(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="RestConnection",Jx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qx{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${i}`,this.qo=this.databaseId.database===Vc?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Qo(e,t,n,i,a){const u=qm(),c=this.$o(e,t.toUriEncodedString());Oe(Od,`Sending RPC '${e}' ${u}:`,c,n);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(h,i,a);const{host:d}=new URL(c),y=ua(d);return this.Ko(e,c,h,n,y).then(g=>(Oe(Od,`Received RPC '${e}' ${u}: `,g),g),g=>{throw Xo(Od,`RPC '${e}' ${u} failed with error: `,g,"url: ",c,"request:",n),g})}Wo(e,t,n,i,a,u){return this.Qo(e,t,n,i,a)}Uo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+la}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}$o(e,t){const n=Jx[e];return`${this.Lo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class Zx extends Qx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,i,a){const u=qm();return new Promise((c,h)=>{const d=new Rw;d.setWithCredentials(!0),d.listenOnce(Pw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Cc.NO_ERROR:const g=d.getResponseJson();Oe(un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(g)),c(g);break;case Cc.TIMEOUT:Oe(un,`RPC '${e}' ${u} timed out`),h(new Ne(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const p=d.getStatus();if(Oe(un,`RPC '${e}' ${u} failed with status:`,p,"response text:",d.getResponseText()),p>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const A=v==null?void 0:v.error;if(A&&A.status&&A.message){const C=function(E){const S=E.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(S)>=0?S:_e.UNKNOWN}(A.status);h(new Ne(C,A.message))}else h(new Ne(_e.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Ne(_e.UNAVAILABLE,"Connection failed."));break;default:Ke(9055,{s_:e,streamId:u,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{Oe(un,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(i);Oe(un,`RPC '${e}' ${u} sending request:`,i),d.send(t,"POST",y,n,15)})}a_(e,t,n){const i=qm(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Lw(),c=Nw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,t,n),h.encodeInitMessageHeaders=!0;const y=a.join("");Oe(un,`Creating RPC '${e}' stream ${i}: ${y}`,h);const g=u.createWebChannel(y,h);let p=!1,v=!1;const A=new Yx({Go:w=>{v?Oe(un,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(Oe(un,`Opening RPC '${e}' stream ${i} transport.`),g.open(),p=!0),Oe(un,`RPC '${e}' stream ${i} sending:`,w),g.send(w))},zo:()=>g.close()}),C=(w,E,S)=>{w.listen(E,O=>{try{S(O)}catch(b){setTimeout(()=>{throw b},0)}})};return C(g,du.EventType.OPEN,()=>{v||(Oe(un,`RPC '${e}' stream ${i} transport opened.`),A.t_())}),C(g,du.EventType.CLOSE,()=>{v||(v=!0,Oe(un,`RPC '${e}' stream ${i} transport closed`),A.r_())}),C(g,du.EventType.ERROR,w=>{v||(v=!0,Xo(un,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),A.r_(new Ne(_e.UNAVAILABLE,"The operation could not be completed")))}),C(g,du.EventType.MESSAGE,w=>{var E;if(!v){const S=w.data[0];ft(!!S,16349);const O=S,b=(O==null?void 0:O.error)||((E=O[0])===null||E===void 0?void 0:E.error);if(b){Oe(un,`RPC '${e}' stream ${i} received error:`,b);const M=b.status;let q=function(D){const x=Mt[D];if(x!==void 0)return gE(x)}(M),R=b.message;q===void 0&&(q=_e.INTERNAL,R="Unknown error status: "+M+" with message "+b.message),v=!0,A.r_(new Ne(q,R)),g.close()}else Oe(un,`RPC '${e}' stream ${i} received:`,S),A.i_(S)}}),C(c,Ow.STAT_EVENT,w=>{w.stat===xm.PROXY?Oe(un,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===xm.NOPROXY&&Oe(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function Nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r){return new nx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,t,n=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=n,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-n);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="PersistentStream";class PE{constructor(e,t,n,i,a,u,c,h){this.bi=e,this.R_=n,this.V_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new RE(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(fi(t.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.m_===t&&this.B_(n,i)},n=>{e(()=>{const i=new Ne(_e.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(i)})})}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{n(()=>this.L_(i))}),this.stream.onMessage(i=>{n(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Oe(T0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Oe(T0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xx extends PE{constructor(e,t,n,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,u),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=sx(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ye.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ye.min():u.readTime?Br(u.readTime):Ye.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=Mm(this.serializer),t.addTarget=function(a,u){let c;const h=u.target;if(c=Om(h)?{documents:ux(a,h)}:{query:CE(a,h).gt},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=_E(a,u.resumeToken);const d=Lm(a,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ye.min())>0){c.readTime=$c(a,u.snapshotVersion.toTimestamp());const d=Lm(a,u.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const n=hx(this.serializer,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=Mm(this.serializer),t.removeTarget=e,this.F_(t)}}class eI extends PE{constructor(e,t,n,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,u),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=ax(e.writeResults,e.commitTime),n=Br(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=Mm(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>ox(this.serializer,n))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{}class nI extends tI{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Ne(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Qo(e,Fm(t,n),i,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(_e.UNKNOWN,a.toString())})}Wo(e,t,n,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Wo(e,Fm(t,n),i,u,c,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(_e.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class rI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(fi(t),this.ea=!1):Oe("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="RemoteStore";class iI{constructor(e,t,n,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(u=>{n.enqueueAndForget(async()=>{Zs(this)&&(Oe($s,"Restarting streams for network reachability change."),await async function(h){const d=Qe(h);d.aa.add(4),await zu(d),d.la.set("Unknown"),d.aa.delete(4),await Eh(d)}(this))})}),this.la=new rI(n,i)}}async function Eh(r){if(Zs(r))for(const e of r.ua)await e(!0)}async function zu(r){for(const e of r.ua)await e(!1)}function OE(r,e){const t=Qe(r);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Eg(t)?wg(t):da(t).b_()&&_g(t,e))}function vg(r,e){const t=Qe(r),n=da(t);t._a.delete(e),n.b_()&&NE(t,e),t._a.size===0&&(n.b_()?n.v_():Zs(t)&&t.la.set("Unknown"))}function _g(r,e){if(r.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}da(r).U_(e)}function NE(r,e){r.ha.Ke(e),da(r).K_(e)}function wg(r){r.ha=new ZD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r._a.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),da(r).start(),r.la.ta()}function Eg(r){return Zs(r)&&!da(r).w_()&&r._a.size>0}function Zs(r){return Qe(r).aa.size===0}function LE(r){r.ha=void 0}async function sI(r){r.la.set("Online")}async function oI(r){r._a.forEach((e,t)=>{_g(r,e)})}async function aI(r,e){LE(r),Eg(r)?(r.la.ia(e),wg(r)):r.la.set("Unknown")}async function uI(r,e,t){if(r.la.set("Online"),e instanceof vE&&e.state===2&&e.cause)try{await async function(i,a){const u=a.cause;for(const c of a.targetIds)i._a.has(c)&&(await i.remoteSyncer.rejectListen(c,u),i._a.delete(c),i.ha.removeTarget(c))}(r,e)}catch(n){Oe($s,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Kc(r,n)}else if(e instanceof Dc?r.ha.Xe(e):e instanceof yE?r.ha.ot(e):r.ha.nt(e),!t.isEqual(Ye.min()))try{const n=await kE(r.localStore);t.compareTo(n)>=0&&await function(a,u){const c=a.ha.It(u);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const y=a._a.get(d);y&&a._a.set(d,y.withResumeToken(h.resumeToken,u))}}),c.targetMismatches.forEach((h,d)=>{const y=a._a.get(h);if(!y)return;a._a.set(h,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),NE(a,h);const g=new Zi(y.target,h,d,y.sequenceNumber);_g(a,g)}),a.remoteSyncer.applyRemoteEvent(c)}(r,t)}catch(n){Oe($s,"Failed to raise snapshot:",n),await Kc(r,n)}}async function Kc(r,e,t){if(!ha(e))throw e;r.aa.add(1),await zu(r),r.la.set("Offline"),t||(t=()=>kE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Oe($s,"Retrying IndexedDB access"),await t(),r.aa.delete(1),await Eh(r)})}function FE(r,e){return e().catch(t=>Kc(r,t,e))}async function Ah(r){const e=Qe(r),t=us(e);let n=e.oa.length>0?e.oa[e.oa.length-1].batchId:rg;for(;lI(e);)try{const i=await Hx(e.localStore,n);if(i===null){e.oa.length===0&&t.v_();break}n=i.batchId,cI(e,i)}catch(i){await Kc(e,i)}BE(e)&&ME(e)}function lI(r){return Zs(r)&&r.oa.length<10}function cI(r,e){r.oa.push(e);const t=us(r);t.b_()&&t.W_&&t.G_(e.mutations)}function BE(r){return Zs(r)&&!us(r).w_()&&r.oa.length>0}function ME(r){us(r).start()}async function hI(r){us(r).H_()}async function fI(r){const e=us(r);for(const t of r.oa)e.G_(t.mutations)}async function dI(r,e,t){const n=r.oa.shift(),i=hg.from(n,e,t);await FE(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Ah(r)}async function pI(r,e){e&&us(r).W_&&await async function(n,i){if(function(u){return QD(u)&&u!==_e.ABORTED}(i.code)){const a=n.oa.shift();us(n).D_(),await FE(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ah(n)}}(r,e),BE(r)&&ME(r)}async function S0(r,e){const t=Qe(r);t.asyncQueue.verifyOperationInProgress(),Oe($s,"RemoteStore received new credentials");const n=Zs(t);t.aa.add(3),await zu(t),n&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Eh(t)}async function mI(r,e){const t=Qe(r);e?(t.aa.delete(2),await Eh(t)):e||(t.aa.add(2),await zu(t),t.la.set("Unknown"))}function da(r){return r.Pa||(r.Pa=function(t,n,i){const a=Qe(t);return a.Y_(),new Xx(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{jo:sI.bind(null,r),Jo:oI.bind(null,r),Zo:aI.bind(null,r),Q_:uI.bind(null,r)}),r.ua.push(async e=>{e?(r.Pa.D_(),Eg(r)?wg(r):r.la.set("Unknown")):(await r.Pa.stop(),LE(r))})),r.Pa}function us(r){return r.Ta||(r.Ta=function(t,n,i){const a=Qe(t);return a.Y_(),new eI(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:hI.bind(null,r),Zo:pI.bind(null,r),z_:fI.bind(null,r),j_:dI.bind(null,r)}),r.ua.push(async e=>{e?(r.Ta.D_(),await Ah(r)):(await r.Ta.stop(),r.oa.length>0&&(Oe($s,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,a){const u=Date.now()+n,c=new Ag(e,t,u,i,a);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(r,e){if(fi("AsyncQueue",`${e}: ${r}`),ha(r))return new Ne(_e.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{static emptySet(e){return new Jo(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ue.comparator(t.key,n.key):(t,n)=>Ue.comparator(t.key,n.key),this.keyedMap=pu(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Jo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.Ia=new Dt(Ue.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?e.type!==0&&n.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&n.type!==1?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Ia=this.Ia.remove(t):e.type===1&&n.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ke(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,n)=>{e.push(n)}),e}}class ia{constructor(e,t,n,i,a,u,c,h,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,i,a){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new ia(e,t,Jo.emptySet(t),u,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class yI{constructor(){this.queries=x0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,n){const i=Qe(t),a=i.queries;i.queries=x0(),a.forEach((u,c)=>{for(const h of c.Ra)h.onError(n)})})(this,new Ne(_e.ABORTED,"Firestore shutting down"))}}function x0(){return new Ys(r=>iE(r),mh)}async function jE(r,e){const t=Qe(r);let n=3;const i=e.query;let a=t.queries.get(i);a?!a.Va()&&e.ma()&&(n=2):(a=new gI,n=e.ma()?0:1);try{switch(n){case 0:a.Aa=await t.onListen(i,!0);break;case 1:a.Aa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const c=Cg(u,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&bg(t)}async function qE(r,e){const t=Qe(r),n=e.query;let i=3;const a=t.queries.get(n);if(a){const u=a.Ra.indexOf(e);u>=0&&(a.Ra.splice(u,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function vI(r,e){const t=Qe(r);let n=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const c of u.Ra)c.pa(i)&&(n=!0);u.Aa=i}}n&&bg(t)}function _I(r,e,t){const n=Qe(r),i=n.queries.get(e);if(i)for(const a of i.Ra)a.onError(t);n.queries.delete(e)}function bg(r){r.fa.forEach(e=>{e.next()})}var Vm,I0;(I0=Vm||(Vm={})).ya="default",I0.Cache="cache";class VE{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new ia(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const n=t!=="Offline";return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.key=e}}class zE{constructor(e){this.key=e}}class wI{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=it(),this.mutatedKeys=it(),this.Ua=sE(e),this.Ka=new Jo(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new D0,i=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,g)=>{const p=i.get(y),v=gh(this.query,g)?g:null,A=!!p&&this.mutatedKeys.has(p.key),C=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let w=!1;p&&v?p.data.isEqual(v.data)?A!==C&&(n.track({type:3,doc:v}),w=!0):this.ja(p,v)||(n.track({type:2,doc:v}),w=!0,(h&&this.Ua(v,h)>0||d&&this.Ua(v,d)<0)&&(c=!0)):!p&&v?(n.track({type:0,doc:v}),w=!0):p&&!v&&(n.track({type:1,doc:p}),w=!0,(h||d)&&(c=!0)),w&&(v?(u=u.add(v),a=C?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),n.track({type:1,doc:y})}return{Ka:u,za:n,ys:c,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((y,g)=>function(v,A){const C=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke(20277,{Vt:w})}};return C(v)-C(A)}(y.type,g.type)||this.Ua(y.doc,g.doc)),this.Ha(n),i=i!=null&&i;const c=t&&!i?this.Ja():[],h=this.$a.size===0&&this.current&&!i?1:0,d=h!==this.Qa;return this.Qa=h,u.length!==0||d?{snapshot:new ia(this.query,e.Ka,a,u,e.mutatedKeys,h===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new D0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=it(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const t=[];return e.forEach(n=>{this.$a.has(n)||t.push(new zE(n))}),this.$a.forEach(n=>{e.has(n)||t.push(new UE(n))}),t}Xa(e){this.qa=e.Ns,this.$a=it();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return ia.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Tg="SyncEngine";class EI{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class AI{constructor(e){this.key=e,this.tu=!1}}class CI{constructor(e,t,n,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Ys(c=>iE(c),mh),this.iu=new Map,this.su=new Set,this.ou=new Dt(Ue.comparator),this._u=new Map,this.au=new pg,this.uu={},this.cu=new Map,this.lu=ra.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function bI(r,e,t=!0){const n=JE(r);let i;const a=n.ru.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await HE(n,e,t,!0),i}async function TI(r,e){const t=JE(r);await HE(t,e,!0,!1)}async function HE(r,e,t,n){const i=await Gx(r.localStore,Fr(e)),a=i.targetId,u=r.sharedClientState.addLocalQueryTarget(a,t);let c;return n&&(c=await SI(r,e,a,u==="current",i.resumeToken)),r.isPrimaryClient&&t&&OE(r.remoteStore,i),c}async function SI(r,e,t,n,i){r.Pu=(g,p,v)=>async function(C,w,E,S){let O=w.view.Ga(E);O.ys&&(O=await E0(C.localStore,w.query,!1).then(({documents:R})=>w.view.Ga(R,O)));const b=S&&S.targetChanges.get(w.targetId),M=S&&S.targetMismatches.get(w.targetId)!=null,q=w.view.applyChanges(O,C.isPrimaryClient,b,M);return R0(C,w.targetId,q.Ya),q.snapshot}(r,g,p,v);const a=await E0(r.localStore,e,!0),u=new wI(e,a.Ns),c=u.Ga(a.documents),h=Uu.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),d=u.applyChanges(c,r.isPrimaryClient,h);R0(r,t,d.Ya);const y=new EI(e,t,u);return r.ru.set(e,y),r.iu.has(t)?r.iu.get(t).push(e):r.iu.set(t,[e]),d.snapshot}async function DI(r,e,t){const n=Qe(r),i=n.ru.get(e),a=n.iu.get(i.targetId);if(a.length>1)return n.iu.set(i.targetId,a.filter(u=>!mh(u,e))),void n.ru.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await jm(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&vg(n.remoteStore,i.targetId),Um(n,i.targetId)}).catch(ca)):(Um(n,i.targetId),await jm(n.localStore,i.targetId,!0))}async function xI(r,e){const t=Qe(r),n=t.ru.get(e),i=t.iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),vg(t.remoteStore,n.targetId))}async function II(r,e,t){const n=FI(r);try{const i=await function(u,c){const h=Qe(u),d=Lt.now(),y=c.reduce((v,A)=>v.add(A.key),it());let g,p;return h.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=di(),C=it();return h.Cs.getEntries(v,y).next(w=>{A=w,A.forEach((E,S)=>{S.isValidDocument()||(C=C.add(E))})}).next(()=>h.localDocuments.getOverlayedDocuments(v,A)).next(w=>{g=w;const E=[];for(const S of c){const O=HD(S,g.get(S.key).overlayedDocument);O!=null&&E.push(new fs(S.key,O,Jw(O.value.mapValue),_r.exists(!0)))}return h.mutationQueue.addMutationBatch(v,d,E,c)}).next(w=>{p=w;const E=w.applyToLocalDocumentSet(g,C);return h.documentOverlayCache.saveOverlays(v,w.batchId,E)})}).then(()=>({batchId:p.batchId,changes:aE(g)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(u,c,h){let d=u.uu[u.currentUser.toKey()];d||(d=new Dt(tt)),d=d.insert(c,h),u.uu[u.currentUser.toKey()]=d}(n,i.batchId,t),await Hu(n,i.changes),await Ah(n.remoteStore)}catch(i){const a=Cg(i,"Failed to persist write");t.reject(a)}}async function GE(r,e){const t=Qe(r);try{const n=await Ux(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t._u.get(a);u&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.tu=!0:i.modifiedDocuments.size>0?ft(u.tu,14607):i.removedDocuments.size>0&&(ft(u.tu,42227),u.tu=!1))}),await Hu(t,n,e)}catch(n){await ca(n)}}function k0(r,e,t){const n=Qe(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.ru.forEach((a,u)=>{const c=u.view.ga(e);c.snapshot&&i.push(c.snapshot)}),function(u,c){const h=Qe(u);h.onlineState=c;let d=!1;h.queries.forEach((y,g)=>{for(const p of g.Ra)p.ga(c)&&(d=!0)}),d&&bg(h)}(n.eventManager,e),i.length&&n.nu.Q_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function kI(r,e,t){const n=Qe(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n._u.get(e),a=i&&i.key;if(a){let u=new Dt(Ue.comparator);u=u.insert(a,cn.newNoDocument(a,Ye.min()));const c=it().add(a),h=new _h(Ye.min(),new Map,new Dt(tt),u,c);await GE(n,h),n.ou=n.ou.remove(a),n._u.delete(e),Sg(n)}else await jm(n.localStore,e,!1).then(()=>Um(n,e,t)).catch(ca)}async function RI(r,e){const t=Qe(r),n=e.batch.batchId;try{const i=await Vx(t.localStore,e);WE(t,n,null),$E(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Hu(t,i)}catch(i){await ca(i)}}async function PI(r,e,t){const n=Qe(r);try{const i=await function(u,c){const h=Qe(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let y;return h.mutationQueue.lookupMutationBatch(d,c).next(g=>(ft(g!==null,37113),y=g.keys(),h.mutationQueue.removeMutationBatch(d,g))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,y,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y)).next(()=>h.localDocuments.getDocuments(d,y))})}(n.localStore,e);WE(n,e,t),$E(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Hu(n,i)}catch(i){await ca(i)}}function $E(r,e){(r.cu.get(e)||[]).forEach(t=>{t.resolve()}),r.cu.delete(e)}function WE(r,e,t){const n=Qe(r);let i=n.uu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.uu[n.currentUser.toKey()]=i}}function Um(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.iu.get(e))r.ru.delete(n),t&&r.nu.Tu(n,t);r.iu.delete(e),r.isPrimaryClient&&r.au.Ur(e).forEach(n=>{r.au.containsKey(n)||KE(r,n)})}function KE(r,e){r.su.delete(e.path.canonicalString());const t=r.ou.get(e);t!==null&&(vg(r.remoteStore,t),r.ou=r.ou.remove(e),r._u.delete(t),Sg(r))}function R0(r,e,t){for(const n of t)n instanceof UE?(r.au.addReference(n.key,e),OI(r,n)):n instanceof zE?(Oe(Tg,"Document no longer in limbo: "+n.key),r.au.removeReference(n.key,e),r.au.containsKey(n.key)||KE(r,n.key)):Ke(19791,{Iu:n})}function OI(r,e){const t=e.key,n=t.path.canonicalString();r.ou.get(t)||r.su.has(n)||(Oe(Tg,"New document in limbo: "+t),r.su.add(n),Sg(r))}function Sg(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const e=r.su.values().next().value;r.su.delete(e);const t=new Ue(wt.fromString(e)),n=r.lu.next();r._u.set(n,new AI(t)),r.ou=r.ou.insert(t,n),OE(r.remoteStore,new Zi(Fr(ug(t.path)),n,"TargetPurposeLimboResolution",fh.le))}}async function Hu(r,e,t){const n=Qe(r),i=[],a=[],u=[];n.ru.isEmpty()||(n.ru.forEach((c,h)=>{u.push(n.Pu(h,e,t).then(d=>{var y;if((d||t)&&n.isPrimaryClient){const g=d?!d.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;n.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(d){i.push(d);const g=gg.Ps(h.targetId,d);a.push(g)}}))}),await Promise.all(u),n.nu.Q_(i),await async function(h,d){const y=Qe(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>we.forEach(d,p=>we.forEach(p.ls,v=>y.persistence.referenceDelegate.addReference(g,p.targetId,v)).next(()=>we.forEach(p.hs,v=>y.persistence.referenceDelegate.removeReference(g,p.targetId,v)))))}catch(g){if(!ha(g))throw g;Oe(yg,"Failed to update sequence numbers: "+g)}for(const g of d){const p=g.targetId;if(!g.fromCache){const v=y.Ss.get(p),A=v.snapshotVersion,C=v.withLastLimboFreeSnapshotVersion(A);y.Ss=y.Ss.insert(p,C)}}}(n.localStore,a))}async function NI(r,e){const t=Qe(r);if(!t.currentUser.isEqual(e)){Oe(Tg,"User change. New user:",e.toKey());const n=await IE(t.localStore,e);t.currentUser=e,function(a,u){a.cu.forEach(c=>{c.forEach(h=>{h.reject(new Ne(_e.CANCELLED,u))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Hu(t,n.Ms)}}function LI(r,e){const t=Qe(r),n=t._u.get(e);if(n&&n.tu)return it().add(n.key);{let i=it();const a=t.iu.get(e);if(!a)return i;for(const u of a){const c=t.ru.get(u);i=i.unionWith(c.view.Wa)}return i}}function JE(r){const e=Qe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kI.bind(null,e),e.nu.Q_=vI.bind(null,e.eventManager),e.nu.Tu=_I.bind(null,e.eventManager),e}function FI(r){const e=Qe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PI.bind(null,e),e}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return qx(this.persistence,new Bx,e.initialUser,this.serializer)}Ru(e){return new xE(mg.Ei,this.serializer)}Au(e){return new Wx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class BI extends Jc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){ft(this.persistence.referenceDelegate instanceof Wc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ax(n,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new xE(n=>Wc.Ei(n,t),this.serializer)}}class zm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>k0(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=NI.bind(null,this.syncEngine),await mI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yI}()}createDatastore(e){const t=wh(e.databaseInfo.databaseId),n=function(a){return new Zx(a)}(e.databaseInfo);return function(a,u,c,h){return new nI(a,u,c,h)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,a,u,c){return new iI(n,i,a,u,c)}(this.localStore,this.datastore,e.asyncQueue,t=>k0(this.syncEngine,t,0),function(){return b0.C()?new b0:new Kx}())}createSyncEngine(e,t){return function(i,a,u,c,h,d,y){const g=new CI(i,a,u,c,h,d);return y&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Qe(i);Oe($s,"RemoteStore shutting down."),a.aa.add(5),await zu(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class MI{constructor(e,t,n,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=jw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async u=>{Oe(ls,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(n,u=>(Oe(ls,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Cg(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ld(r,e){r.asyncQueue.verifyOperationInProgress(),Oe(ls,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await IE(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function P0(r,e){r.asyncQueue.verifyOperationInProgress();const t=await jI(r);Oe(ls,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>S0(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>S0(e.remoteStore,i)),r._onlineComponents=e}async function jI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Oe(ls,"Using user provided OfflineComponentProvider");try{await Ld(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===_e.FAILED_PRECONDITION||i.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Xo("Error using user provided cache. Falling back to memory cache: "+t),await Ld(r,new Jc)}}else Oe(ls,"Using default OfflineComponentProvider"),await Ld(r,new BI(void 0));return r._offlineComponents}async function Dg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Oe(ls,"Using user provided OnlineComponentProvider"),await P0(r,r._uninitializedComponentsProvider._online)):(Oe(ls,"Using default OnlineComponentProvider"),await P0(r,new zm))),r._onlineComponents}function qI(r){return Dg(r).then(e=>e.syncEngine)}function VI(r){return Dg(r).then(e=>e.datastore)}async function Hm(r){const e=await Dg(r),t=e.eventManager;return t.onListen=bI.bind(null,e.syncEngine),t.onUnlisten=DI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=TI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xI.bind(null,e.syncEngine),t}function UI(r,e,t={}){const n=new ai;return r.asyncQueue.enqueueAndForget(async()=>function(a,u,c,h,d){const y=new QE({next:p=>{y.yu(),u.enqueueAndForget(()=>qE(a,g)),p.fromCache&&h.source==="server"?d.reject(new Ne(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),g=new VE(c,y,{includeMetadataChanges:!0,Fa:!0});return jE(a,g)}(await Hm(r),r.asyncQueue,e,t,n)),n.promise}function zI(r,e,t){const n=new ai;return r.asyncQueue.enqueueAndForget(async()=>{try{const i=await VI(r);n.resolve(async function(u,c,h){var d;const y=Qe(u),{request:g,yt:p,parent:v}=lx(y.serializer,ID(c),h);y.connection.Bo||delete g.parent;const A=(await y.Wo("RunAggregationQuery",y.serializer.databaseId,v,g,1)).filter(w=>!!w.result);ft(A.length===1,64727);const C=(d=A[0].result)===null||d===void 0?void 0:d.aggregateFields;return Object.keys(C).reduce((w,E)=>(w[p[E]]=C[E],w),{})}(i,e,t))}catch(i){n.reject(i)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(r,e,t){if(!t)throw new Ne(_e.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function HI(r,e,t,n){if(e===!0&&n===!0)throw new Ne(_e.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function N0(r){if(!Ue.isDocumentKey(r))throw new Ne(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function L0(r){if(Ue.isDocumentKey(r))throw new Ne(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ch(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ke(12329,{type:typeof r})}function Xn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ne(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ch(r);throw new Ne(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function GI(r,e){if(e<=0)throw new Ne(_e.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firestore.googleapis.com",F0=!0;class B0{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XE,this.ssl=F0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:F0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wx)throw new Ne(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YE((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ne(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ne(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ne(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new KS;switch(n.type){case"firstParty":return new ZS(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ne(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=O0.get(t);n&&(Oe("ComponentProvider","Removing Datastore"),O0.delete(t),n.terminate())}(this),Promise.resolve()}}function $I(r,e,t,n={}){var i;r=Xn(r,bh);const a=ua(e),u=r._getSettings(),c=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),h=`${e}:${t}`;a&&Zm(`https://${h}`),u.host!==XE&&u.host!==h&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:h,ssl:a,emulatorOptions:n});if(!zs(d,c)&&(r._setSettings(d),n.mockUserToken)){let y,g;if(typeof n.mockUserToken=="string")y=n.mockUserToken,g=ln.MOCK_USER;else{y=bw(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Ne(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ln(p)}r._authCredentials=new JS(new Bw(y,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new gi(this.firestore,e,this._query)}}class vn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class ns extends gi{constructor(e,t,n){super(e,t,ug(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Ue(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function WI(r,e,...t){if(r=yt(r),ZE("collection","path",e),r instanceof bh){const n=wt.fromString(e,...t);return L0(n),new ns(r,null,n)}{if(!(r instanceof vn||r instanceof ns))throw new Ne(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(wt.fromString(e,...t));return L0(n),new ns(r.firestore,null,n)}}function KI(r,e,...t){if(r=yt(r),arguments.length===1&&(e=jw.newId()),ZE("doc","path",e),r instanceof bh){const n=wt.fromString(e,...t);return N0(n),new vn(r,null,new Ue(n))}{if(!(r instanceof vn||r instanceof ns))throw new Ne(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(wt.fromString(e,...t));return N0(n),new vn(r.firestore,r instanceof ns?r.converter:null,new Ue(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="AsyncQueue";class j0{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new RE(this,"async_queue_retry"),this.ju=()=>{const n=Nd();n&&Oe(M0,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=e;const t=Nd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Nd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new ai;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ha(e))throw e;Oe(M0,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(n=>{throw this.Ku=n,this.Wu=!1,fi("INTERNAL UNHANDLED ERROR: ",q0(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const i=Ag.createAndSchedule(this,e,t,n,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&Ke(47125,{ec:q0(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function q0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(r,["next","error","complete"])}class cs extends bh{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new j0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j0(e),this._firestoreClient=void 0,await e}}}function JI(r,e){const t=typeof r=="object"?r:tg(),n=typeof r=="string"?r:Vc,i=hh(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Ew("firestore");a&&$I(i,...a)}return i}function Th(r){if(r._terminated)throw new Ne(_e.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QI(r),r._firestoreClient}function QI(r){var e,t,n;const i=r._freezeSettings(),a=function(c,h,d,y){return new pD(c,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,YE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new MI(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class ZI{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sa(nn.fromBase64String(e))}catch(t){throw new Ne(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sa(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=/^__.*__$/;class ek{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new fs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vu(e,this.data,t,this.fieldTransforms)}}class eA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new fs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke(40011,{oc:r})}}class kg{constructor(e,t,n,i,a,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:n,cc:!1});return i.lc(e),i}hc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:n,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Qc(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(tA(this.oc)&&XI.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class tk{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wh(e)}dc(e,t,n,i=!1){return new kg({oc:e,methodName:t,Ec:n,path:tn.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rg(r){const e=r._freezeSettings(),t=wh(r._databaseId);return new tk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function nk(r,e,t,n,i,a={}){const u=r.dc(a.merge||a.mergeFields?2:0,e,t,i);Og("Data must be an object, but it was:",u,n);const c=nA(n,u);let h,d;if(a.merge)h=new Vn(u.fieldMask),d=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const g of a.mergeFields){const p=Gm(e,g,t);if(!u.contains(p))throw new Ne(_e.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);iA(y,p)||y.push(p)}h=new Vn(y),d=u.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,d=u.fieldTransforms;return new ek(new Rn(c),h,d)}class xh extends Dh{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xh}}class Pg extends Dh{_toFieldTransform(e){return new qD(e.path,new Pu)}isEqual(e){return e instanceof Pg}}function rk(r,e,t,n){const i=r.dc(1,e,t);Og("Data must be an object, but it was:",i,n);const a=[],u=Rn.empty();hs(n,(h,d)=>{const y=Ng(e,h,t);d=yt(d);const g=i.hc(y);if(d instanceof xh)a.push(y);else{const p=Gu(d,g);p!=null&&(a.push(y),u.set(y,p))}});const c=new Vn(a);return new eA(u,c,i.fieldTransforms)}function ik(r,e,t,n,i,a){const u=r.dc(1,e,t),c=[Gm(e,n,t)],h=[i];if(a.length%2!=0)throw new Ne(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)c.push(Gm(e,a[p])),h.push(a[p+1]);const d=[],y=Rn.empty();for(let p=c.length-1;p>=0;--p)if(!iA(d,c[p])){const v=c[p];let A=h[p];A=yt(A);const C=u.hc(v);if(A instanceof xh)d.push(v);else{const w=Gu(A,C);w!=null&&(d.push(v),y.set(v,w))}}const g=new Vn(d);return new eA(y,g,u.fieldTransforms)}function sk(r,e,t,n=!1){return Gu(t,r.dc(n?4:3,e))}function Gu(r,e){if(rA(r=yt(r)))return Og("Unsupported field value:",e,r),nA(r,e);if(r instanceof Dh)return function(n,i){if(!tA(i.oc))throw i.Tc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(n,i){const a=[];let u=0;for(const c of n){let h=Gu(c,i.Pc(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(r,e)}return function(n,i){if((n=yt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return BD(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Lt.fromDate(n);return{timestampValue:$c(i.serializer,a)}}if(n instanceof Lt){const a=new Lt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:$c(i.serializer,a)}}if(n instanceof xg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof sa)return{bytesValue:_E(i.serializer,n._byteString)};if(n instanceof vn){const a=i.databaseId,u=n.firestore._databaseId;if(!u.isEqual(a))throw i.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:dg(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Ig)return function(u,c){return{mapValue:{fields:{[Ww]:{stringValue:Kw},[Uc]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw c.Tc("VectorValues must only contain numeric values.");return lg(c.serializer,d)})}}}}}}(n,i);throw i.Tc(`Unsupported field value: ${Ch(n)}`)}(r,e)}function nA(r,e){const t={};return Vw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(r,(n,i)=>{const a=Gu(i,e.uc(n));a!=null&&(t[n]=a)}),{mapValue:{fields:t}}}function rA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Lt||r instanceof xg||r instanceof sa||r instanceof vn||r instanceof Dh||r instanceof Ig)}function Og(r,e,t){if(!rA(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=Ch(t);throw n==="an object"?e.Tc(r+" a custom object"):e.Tc(r+" "+n)}}function Gm(r,e,t){if((e=yt(e))instanceof Sh)return e._internalPath;if(typeof e=="string")return Ng(r,e);throw Qc("Field path arguments must be of type string or ",r,!1,void 0,t)}const ok=new RegExp("[~\\*/\\[\\]]");function Ng(r,e,t){if(e.search(ok)>=0)throw Qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Sh(...e.split("."))._internalPath}catch{throw Qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Qc(r,e,t,n,i){const a=n&&!n.isEmpty(),u=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${n}`),u&&(h+=` in document ${i}`),h+=")"),new Ne(_e.INVALID_ARGUMENT,c+r+h)}function iA(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ak(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ih("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ak extends sA{data(){return super.data()}}function Ih(r,e){return typeof e=="string"?Ng(r,e):e instanceof Sh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ne(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lg{}class Fg extends Lg{}function uk(r,e,...t){let n=[];e instanceof Lg&&n.push(e),n=n.concat(t),function(a){const u=a.filter(h=>h instanceof Bg).length,c=a.filter(h=>h instanceof kh).length;if(u>1||u>0&&c>0)throw new Ne(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class kh extends Fg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new kh(e,t,n)}_apply(e){const t=this._parse(e);return aA(e._query,t),new gi(e.firestore,e.converter,Nm(e._query,t))}_parse(e){const t=Rg(e.firestore);return function(a,u,c,h,d,y,g){let p;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ne(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){H0(g,y);const A=[];for(const C of g)A.push(z0(h,a,C));p={arrayValue:{values:A}}}else p=z0(h,a,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||H0(g,y),p=sk(c,u,g,y==="in"||y==="not-in");return jt.create(d,y,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function U0(r,e,t){const n=e,i=Ih("where",r);return kh._create(i,n,t)}class Bg extends Lg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bg(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:wr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let u=i;const c=a.getFlattenedFilters();for(const h of c)aA(u,h),u=Nm(u,h)}(e._query,t),new gi(e.firestore,e.converter,Nm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mg extends Fg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Mg(e,t)}_apply(e){const t=function(i,a,u){if(i.startAt!==null)throw new Ne(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ne(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(a,u)}(e._query,this._field,this._direction);return new gi(e.firestore,e.converter,function(i,a){const u=i.explicitOrderBy.concat([a]);return new fa(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function lk(r,e="asc"){const t=e,n=Ih("orderBy",r);return Mg._create(n,t)}class jg extends Fg{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new jg(e,t,n)}_apply(e){return new gi(e.firestore,e.converter,Hc(e._query,this._limit,this._limitType))}}function ck(r){return GI("limit",r),jg._create("limit",r,"F")}function z0(r,e,t){if(typeof(t=yt(t))=="string"){if(t==="")throw new Ne(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nE(e)&&t.indexOf("/")!==-1)throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(wt.fromString(t));if(!Ue.isDocumentKey(n))throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return n0(r,new Ue(n))}if(t instanceof vn)return n0(r,t._key);throw new Ne(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(t)}.`)}function H0(r,e){if(!Array.isArray(r)||r.length===0)throw new Ne(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aA(r,e){const t=function(i,a){for(const u of i)for(const c of u.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ne(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class hk{convertValue(e,t="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return hs(e,(i,a)=>{n[i]=this.convertValue(a,t)}),n}convertVectorValue(e){var t,n,i;const a=(i=(n=(t=e.fields)===null||t===void 0?void 0:t[Uc].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(u=>Nt(u.doubleValue));return new Ig(a)}convertGeoPoint(e){return new xg(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ph(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const t=ss(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=wt.fromString(e);ft(SE(n),9688,{name:e});const i=new Iu(n.get(1),n.get(3)),a=new Ue(n.popFirst(5));return i.isEqual(t)||fi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}function dk(){return new YI("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uA extends sA{constructor(e,t,n,i,a,u){super(e,t,n,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Ih("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class xc extends uA{data(e={}){return super.data(e)}}class lA{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new gu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new xc(this._firestore,this._userDataWriter,n.key,n,new gu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(c=>{const h=new xc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new xc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,y=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),y=u.indexOf(c.doc.key)),{type:pk(c.type),doc:h,oldIndex:d,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function pk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke(61501,{type:r})}}class Rh extends hk{constructor(e){super(),this.firestore=e}convertBytes(e){return new sa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}function mk(r){r=Xn(r,gi);const e=Xn(r.firestore,cs),t=Th(e),n=new Rh(e);return oA(r._query),UI(t,r._query).then(i=>new lA(e,n,r,i))}function gk(r,e,t){r=Xn(r,vn);const n=Xn(r.firestore,cs),i=fk(r.converter,e,t);return qg(n,[nk(Rg(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,_r.none())])}function yk(r,e,t,...n){r=Xn(r,vn);const i=Xn(r.firestore,cs),a=Rg(i);let u;return u=typeof(e=yt(e))=="string"||e instanceof Sh?ik(a,"updateDoc",r._key,e,t,n):rk(a,"updateDoc",r._key,e),qg(i,[u.toMutation(r._key,_r.exists(!0))])}function G0(r){return qg(Xn(r.firestore,cs),[new cg(r._key,_r.none())])}function vk(r,...e){var t,n,i;r=yt(r);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||V0(e[u])||(a=e[u],u++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(V0(e[u])){const g=e[u];e[u]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[u+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),e[u+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let h,d,y;if(r instanceof vn)d=Xn(r.firestore,cs),y=ug(r._key.path),h={next:g=>{e[u]&&e[u](_k(d,r,g))},error:e[u+1],complete:e[u+2]};else{const g=Xn(r,gi);d=Xn(g.firestore,cs),y=g._query;const p=new Rh(d);h={next:v=>{e[u]&&e[u](new lA(d,p,g,v))},error:e[u+1],complete:e[u+2]},oA(r._query)}return function(p,v,A,C){const w=new QE(C),E=new VE(v,w,A);return p.asyncQueue.enqueueAndForget(async()=>jE(await Hm(p),E)),()=>{w.yu(),p.asyncQueue.enqueueAndForget(async()=>qE(await Hm(p),E))}}(Th(d),y,c,h)}function qg(r,e){return function(n,i){const a=new ai;return n.asyncQueue.enqueueAndForget(async()=>II(await qI(n),i,a)),a.promise}(Th(r),e)}function _k(r,e,t){const n=t.docs.get(e._key),i=new Rh(r);return new uA(r,i,e._key,n,new gu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(r){return Ek(r,{count:dk()})}function Ek(r,e){const t=Xn(r.firestore,cs),n=Th(t),i=fD(e,(a,u)=>new KD(u,a.aggregateType,a._internalFieldPath));return zI(n,r._query,i).then(a=>function(c,h,d){const y=new Rh(c);return new ZI(h,y,d)}(t,r,a))}function Ak(){return new Pg("serverTimestamp")}(function(e,t=!0){(function(i){la=i})(Qs),Hs(new rs("firestore",(n,{instanceIdentifier:i,options:a})=>{const u=n.getProvider("app").getImmediate(),c=new cs(new QS(n.getProvider("auth-internal")),new XS(u,n.getProvider("app-check-internal")),function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ne(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(d.options.projectId,y)}(u,i),u);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Lr(H2,G2,e),Lr(H2,G2,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firebasestorage.googleapis.com",hA="storageBucket",Ck=2*60*1e3,bk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends Ur{constructor(e,t,n=0){super(Fd(e),`Firebase Storage: ${t} (${Fd(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kt||(kt={}));function Fd(r){return"storage/"+r}function Vg(){const r="An unknown error occurred, please check the error payload for server response.";return new Rt(kt.UNKNOWN,r)}function Tk(r){return new Rt(kt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function Sk(r){return new Rt(kt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Dk(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rt(kt.UNAUTHENTICATED,r)}function xk(){return new Rt(kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ik(r){return new Rt(kt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function kk(){return new Rt(kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Rk(){return new Rt(kt.CANCELED,"User canceled the upload/download.")}function Pk(r){return new Rt(kt.INVALID_URL,"Invalid URL '"+r+"'.")}function Ok(r){return new Rt(kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Nk(){return new Rt(kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hA+"' property when initializing the app?")}function Lk(){return new Rt(kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Fk(){return new Rt(kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Bk(r){return new Rt(kt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $m(r){return new Rt(kt.INVALID_ARGUMENT,r)}function fA(){return new Rt(kt.APP_DELETED,"The Firebase app was deleted.")}function Mk(r){return new Rt(kt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bu(r,e){return new Rt(kt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function uu(r){throw new Rt(kt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Un.makeFromUrl(e,t)}catch{return new Un(e,"")}if(n.path==="")return n;throw Ok(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const u="(/(.*))?$",c=new RegExp("^gs://"+i+u,"i"),h={bucket:1,path:3};function d(b){b.path_=decodeURIComponent(b.path)}const y="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${y}/b/${i}/o${p}`,"i"),A={bucket:1,path:3},C=t===cA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,w="([^?#]*)",E=new RegExp(`^https?://${C}/${i}/${w}`,"i"),O=[{regex:c,indices:h,postModify:a},{regex:v,indices:A,postModify:d},{regex:E,indices:{bucket:1,path:2},postModify:d}];for(let b=0;b<O.length;b++){const M=O[b],q=M.regex.exec(e);if(q){const R=q[M.indices.bucket];let _=q[M.indices.path];_||(_=""),n=new Un(R,_),M.postModify(n);break}}if(n==null)throw Pk(e);return n}}class jk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(r,e,t){let n=1,i=null,a=null,u=!1,c=0;function h(){return c===2}let d=!1;function y(...w){d||(d=!0,e.apply(null,w))}function g(w){i=setTimeout(()=>{i=null,r(v,h())},w)}function p(){a&&clearTimeout(a)}function v(w,...E){if(d){p();return}if(w){p(),y.call(null,w,...E);return}if(h()||u){p(),y.call(null,w,...E);return}n<64&&(n*=2);let O;c===1?(c=2,O=0):O=(n+Math.random())*1e3,g(O)}let A=!1;function C(w){A||(A=!0,p(),!d&&(i!==null?(w||(c=2),clearTimeout(i),g(0)):w||(c=1)))}return g(0),a=setTimeout(()=>{u=!0,C(!0)},t),C}function Vk(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(r){return r!==void 0}function zk(r){return typeof r=="object"&&!Array.isArray(r)}function Ug(r){return typeof r=="string"||r instanceof String}function $0(r){return zg()&&r instanceof Blob}function zg(){return typeof Blob<"u"}function W0(r,e,t,n){if(n<e)throw $m(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw $m(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function dA(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var Us;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Us||(Us={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,a=e.indexOf(r)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t,n,i,a,u,c,h,d,y,g,p=!0,v=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=c,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=y,this.connectionFactory_=g,this.retry=p,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,C)=>{this.resolve_=A,this.reject_=C,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new _c(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=c=>{const h=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const c=a.getErrorCode()===Us.NO_ERROR,h=a.getStatus();if(!c||Hk(h,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===Us.ABORT;n(!1,new _c(!1,null,y));return}const d=this.successCodes_.indexOf(h)!==-1;n(!0,new _c(d,a))})},t=(n,i)=>{const a=this.resolve_,u=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());Uk(h)?a(h):a()}catch(h){u(h)}else if(c!==null){const h=Vg();h.serverResponse=c.getErrorText(),this.errorCallback_?u(this.errorCallback_(c,h)):u(h)}else if(i.canceled){const h=this.appDelete_?fA():Rk();u(h)}else{const h=kk();u(h)}};this.canceled_?t(!1,new _c(!1,null,!0)):this.backoffId_=qk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Vk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _c{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function $k(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Wk(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Kk(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Jk(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function Qk(r,e,t,n,i,a,u=!0,c=!1){const h=dA(r.urlParams),d=r.url+h,y=Object.assign({},r.headers);return Kk(y,e),$k(y,t),Wk(y,a),Jk(y,n),new Gk(d,r.method,y,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,u,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Zk(...r){const e=Yk();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(zg())return new Blob(r);throw new Rt(kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Xk(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(r){if(typeof atob>"u")throw Bk("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bd{constructor(e,t){this.data=e,this.contentType=t||null}}function tR(r,e){switch(r){case Nr.RAW:return new Bd(pA(e));case Nr.BASE64:case Nr.BASE64URL:return new Bd(mA(r,e));case Nr.DATA_URL:return new Bd(rR(e),iR(e))}throw Vg()}function pA(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=n,u=r.charCodeAt(++t);n=65536|(a&1023)<<10|u&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function nR(r){let e;try{e=decodeURIComponent(r)}catch{throw bu(Nr.DATA_URL,"Malformed data URL.")}return pA(e)}function mA(r,e){switch(r){case Nr.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw bu(r,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Nr.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw bu(r,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=eR(e)}catch(i){throw i.message.includes("polyfill")?i:bu(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}class gA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw bu(Nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=sR(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function rR(r){const e=new gA(r);return e.base64?mA(Nr.BASE64,e.rest):nR(e.rest)}function iR(r){return new gA(r).contentType}function sR(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t){let n=0,i="";$0(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if($0(this.data_)){const n=this.data_,i=Xk(n,e,t);return i===null?null:new Wi(i)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Wi(n,!0)}}static getBlob(...e){if(zg()){const t=e.map(n=>n instanceof Wi?n.data_:n);return new Wi(Zk.apply(null,t))}else{const t=e.map(u=>Ug(u)?tR(Nr.RAW,u).data:u.data_);let n=0;t.forEach(u=>{n+=u.byteLength});const i=new Uint8Array(n);let a=0;return t.forEach(u=>{for(let c=0;c<u.length;c++)i[a++]=u[c]}),new Wi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(r){let e;try{e=JSON.parse(r)}catch{return null}return zk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function aR(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function vA(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(r,e){return e}class gn{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||uR}}let wc=null;function lR(r){return!Ug(r)||r.length<2?r:vA(r)}function _A(){if(wc)return wc;const r=[];r.push(new gn("bucket")),r.push(new gn("generation")),r.push(new gn("metageneration")),r.push(new gn("name","fullPath",!0));function e(a,u){return lR(u)}const t=new gn("name");t.xform=e,r.push(t);function n(a,u){return u!==void 0?Number(u):u}const i=new gn("size");return i.xform=n,r.push(i),r.push(new gn("timeCreated")),r.push(new gn("updated")),r.push(new gn("md5Hash",null,!0)),r.push(new gn("cacheControl",null,!0)),r.push(new gn("contentDisposition",null,!0)),r.push(new gn("contentEncoding",null,!0)),r.push(new gn("contentLanguage",null,!0)),r.push(new gn("contentType",null,!0)),r.push(new gn("metadata","customMetadata",!0)),wc=r,wc}function cR(r,e){function t(){const n=r.bucket,i=r.fullPath,a=new Un(n,i);return e._makeStorageReference(a)}Object.defineProperty(r,"ref",{get:t})}function hR(r,e,t){const n={};n.type="file";const i=t.length;for(let a=0;a<i;a++){const u=t[a];n[u.local]=u.xform(n,e[u.server])}return cR(n,r),n}function wA(r,e,t){const n=yA(e);return n===null?null:hR(r,n,t)}function fR(r,e,t,n){const i=yA(e);if(i===null||!Ug(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(d=>{const y=r.bucket,g=r.fullPath,p="/b/"+u(y)+"/o/"+u(g),v=Ph(p,t,n),A=dA({alt:"media",token:d});return v+A})[0]}function dR(r,e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(t[a.server]=r[a.local])}return JSON.stringify(t)}class Hg{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(r){if(!r)throw Vg()}function pR(r,e){function t(n,i){const a=wA(r,i,e);return EA(a!==null),a}return t}function mR(r,e){function t(n,i){const a=wA(r,i,e);return EA(a!==null),fR(a,i,r.host,r._protocol)}return t}function AA(r){function e(t,n){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=xk():i=Dk():t.getStatus()===402?i=Sk(r.bucket):t.getStatus()===403?i=Ik(r.path):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}return e}function CA(r){const e=AA(r);function t(n,i){let a=e(n,i);return n.getStatus()===404&&(a=Tk(r.path)),a.serverResponse=i.serverResponse,a}return t}function gR(r,e,t){const n=e.fullServerUrl(),i=Ph(n,r.host,r._protocol),a="GET",u=r.maxOperationRetryTime,c=new Hg(i,a,mR(r,t),u);return c.errorHandler=CA(e),c}function yR(r,e){const t=e.fullServerUrl(),n=Ph(t,r.host,r._protocol),i="DELETE",a=r.maxOperationRetryTime;function u(h,d){}const c=new Hg(n,i,u,a);return c.successCodes=[200,204],c.errorHandler=CA(e),c}function vR(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function _R(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=vR(null,e)),n}function wR(r,e,t,n,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function c(){let O="";for(let b=0;b<2;b++)O=O+Math.random().toString().slice(2);return O}const h=c();u["Content-Type"]="multipart/related; boundary="+h;const d=_R(e,n,i),y=dR(d,t),g="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+h+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+h+"--",v=Wi.getBlob(g,n,p);if(v===null)throw Lk();const A={name:d.fullPath},C=Ph(a,r.host,r._protocol),w="POST",E=r.maxUploadRetryTime,S=new Hg(C,w,pR(r,t),E);return S.urlParams=A,S.headers=u,S.body=v.uploadData(),S.errorHandler=AA(e),S}class ER{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,i,a){if(this.sent_)throw uu("cannot .send() more than once");if(ua(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw uu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class AR extends ER{initXhr(){this.xhr_.responseType="text"}}function Gg(){return new AR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,t){this._service=e,t instanceof Un?this._location=t:this._location=Un.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ws(e,t)}get root(){const e=new Un(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vA(this._location.path)}get storage(){return this._service}get parent(){const e=oR(this._location.path);if(e===null)return null;const t=new Un(this._location.bucket,e);return new Ws(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Mk(e)}}function CR(r,e,t){r._throwIfRoot("uploadBytes");const n=wR(r.storage,r._location,_A(),new Wi(e,!0),t);return r.storage.makeRequestWithTokens(n,Gg).then(i=>({metadata:i,ref:r}))}function bR(r){r._throwIfRoot("getDownloadURL");const e=gR(r.storage,r._location,_A());return r.storage.makeRequestWithTokens(e,Gg).then(t=>{if(t===null)throw Fk();return t})}function TR(r){r._throwIfRoot("deleteObject");const e=yR(r.storage,r._location);return r.storage.makeRequestWithTokens(e,Gg)}function SR(r,e){const t=aR(r._location.path,e),n=new Un(r._location.bucket,t);return new Ws(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r){return/^[A-Za-z]+:\/\//.test(r)}function xR(r,e){return new Ws(r,e)}function bA(r,e){if(r instanceof $g){const t=r;if(t._bucket==null)throw Nk();const n=new Ws(t,t._bucket);return e!=null?bA(n,e):n}else return e!==void 0?SR(r,e):r}function IR(r,e){if(e&&DR(e)){if(r instanceof $g)return xR(r,e);throw $m("To use ref(service, url), the first argument must be a Storage instance.")}else return bA(r,e)}function K0(r,e){const t=e==null?void 0:e[hA];return t==null?null:Un.makeFromBucketSpec(t,r)}function kR(r,e,t,n={}){r.host=`${e}:${t}`;const i=ua(e);i&&Zm(`https://${r.host}`),r._isUsingEmulator=!0,r._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(r._overrideAuthToken=typeof a=="string"?a:bw(a,r.app.options.projectId))}class $g{constructor(e,t,n,i,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=cA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ck,this._maxUploadRetryTime=bk,this._requests=new Set,i!=null?this._bucket=Un.makeFromBucketSpec(i,this._host):this._bucket=K0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Un.makeFromBucketSpec(this._url,e):this._bucket=K0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){W0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){W0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ws(this,e)}_makeRequest(e,t,n,i,a=!0){if(this._deleted)return new jk(fA());{const u=Qk(e,this._appId,n,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const J0="@firebase/storage",Q0="0.13.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="storage";function RR(r,e,t){return r=yt(r),CR(r,e,t)}function PR(r){return r=yt(r),bR(r)}function OR(r){return r=yt(r),TR(r)}function Md(r,e){return r=yt(r),IR(r,e)}function NR(r=tg(),e){r=yt(r);const n=hh(r,TA).getImmediate({identifier:e}),i=Ew("storage");return i&&LR(n,...i),n}function LR(r,e,t,n={}){kR(r,e,t,n)}function FR(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new $g(t,n,i,e,Qs)}function BR(){Hs(new rs(TA,FR,"PUBLIC").setMultipleInstances(!0)),Lr(J0,Q0,""),Lr(J0,Q0,"esm2017")}BR();function Wg(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function SA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MR=SA,DA=new ju("auth","Firebase",SA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Xm("@firebase/auth");function jR(r,...e){Yc.logLevel<=rt.WARN&&Yc.warn(`Auth (${Qs}): ${r}`,...e)}function Ic(r,...e){Yc.logLevel<=rt.ERROR&&Yc.error(`Auth (${Qs}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(r,...e){throw Kg(r,...e)}function Mr(r,...e){return Kg(r,...e)}function xA(r,e,t){const n=Object.assign(Object.assign({},MR()),{[e]:t});return new ju("auth","Firebase",n).create(e,{appName:r.name})}function ui(r){return xA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kg(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return DA.create(r,...e)}function We(r,e,...t){if(!r)throw Kg(e,...t)}function si(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ic(e),new Error(e)}function pi(r,e){r||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function qR(){return Y0()==="http:"||Y0()==="https:"}function Y0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qR()||TT()||"connection"in navigator)?navigator.onLine:!0}function UR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t){this.shortDelay=e,this.longDelay=t,pi(t>e,"Short delay should be less than long delay!"),this.isMobile=AT()||ST()}get(){return VR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(r,e){pi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GR=new $u(3e4,6e4);function yi(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function zr(r,e,t,n,i={}){return kA(r,i,async()=>{let a={},u={};n&&(e==="GET"?u=n:a={body:JSON.stringify(n)});const c=qu(Object.assign({key:r.config.apiKey},u)).slice(1),h=await r._getAdditionalHeaders();h["Content-Type"]="application/json",r.languageCode&&(h["X-Firebase-Locale"]=r.languageCode);const d=Object.assign({method:e,headers:h},a);return bT()||(d.referrerPolicy="no-referrer"),r.emulatorConfig&&ua(r.emulatorConfig.host)&&(d.credentials="include"),IA.fetch()(await RA(r,r.config.apiHost,t,c),d)})}async function kA(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},zR),e);try{const i=new WR(r),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Ec(r,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const c=a.ok?u.errorMessage:u.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(r,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Ec(r,"email-already-in-use",u);if(h==="USER_DISABLED")throw Ec(r,"user-disabled",u);const y=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw xA(r,y,d);Er(r,y)}}catch(i){if(i instanceof Ur)throw i;Er(r,"network-request-failed",{message:String(i)})}}async function Wu(r,e,t,n,i={}){const a=await zr(r,e,t,n,i);return"mfaPendingCredential"in a&&Er(r,"multi-factor-auth-required",{_serverResponse:a}),a}async function RA(r,e,t,n){const i=`${e}${t}?${n}`,a=r,u=a.config.emulator?Jg(r.config,i):`${r.config.apiScheme}://${i}`;return HR.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function $R(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Mr(this.auth,"network-request-failed")),GR.get())})}}function Ec(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Mr(r,e,n);return i.customData._tokenResponse=t,i}function Z0(r){return r!==void 0&&r.enterprise!==void 0}class KR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $R(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JR(r,e){return zr(r,"GET","/v2/recaptchaConfig",yi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(r,e){return zr(r,"POST","/v1/accounts:delete",e)}async function Zc(r,e){return zr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YR(r,e=!1){const t=yt(r),n=await t.getIdToken(e),i=Qg(n);We(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Tu(jd(i.auth_time)),issuedAtTime:Tu(jd(i.iat)),expirationTime:Tu(jd(i.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function jd(r){return Number(r)*1e3}function Qg(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const i=_w(t);return i?JSON.parse(i):(Ic("Failed to decode base64 JWT payload"),null)}catch(i){return Ic("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function X0(r){const e=Qg(r);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Ur&&ZR(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function ZR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(r){var e;const t=r.auth,n=await r.getIdToken(),i=await oa(r,Zc(t,{idToken:n}));We(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?PA(a.providerUserInfo):[],c=tP(r.providerData,u),h=r.isAnonymous,d=!(r.email&&a.passwordHash)&&!(c!=null&&c.length),y=h?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Km(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(r,g)}async function eP(r){const e=yt(r);await Xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tP(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function PA(r){return r.map(e=>{var{providerId:t}=e,n=Wg(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(r,e){const t=await kA(r,{},async()=>{const n=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=r.config,u=await RA(r,i,"/v1/token",`key=${a}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",IA.fetch()(u,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rP(r,e){return zr(r,"POST","/v2/accounts:revokeToken",yi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){We(e.length!==0,"internal-error");const t=X0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:a}=await nP(e,t);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:a}=t,u=new Qo;return n&&(We(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),i&&(We(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(We(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(r,e){We(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class vr{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,a=Wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Km(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await oa(this,this.stsTokenManager.getToken(this.auth,e));return We(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YR(this,e)}reload(){return eP(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Xc(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await oa(this,QR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,a,u,c,h,d,y;const g=(n=t.displayName)!==null&&n!==void 0?n:void 0,p=(i=t.email)!==null&&i!==void 0?i:void 0,v=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,C=(c=t.tenantId)!==null&&c!==void 0?c:void 0,w=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,E=(d=t.createdAt)!==null&&d!==void 0?d:void 0,S=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:O,emailVerified:b,isAnonymous:M,providerData:q,stsTokenManager:R}=t;We(O&&R,e,"internal-error");const _=Qo.fromJSON(this.name,R);We(typeof O=="string",e,"internal-error"),Gi(g,e.name),Gi(p,e.name),We(typeof b=="boolean",e,"internal-error"),We(typeof M=="boolean",e,"internal-error"),Gi(v,e.name),Gi(A,e.name),Gi(C,e.name),Gi(w,e.name),Gi(E,e.name),Gi(S,e.name);const D=new vr({uid:O,auth:e,email:p,emailVerified:b,displayName:g,isAnonymous:M,photoURL:A,phoneNumber:v,tenantId:C,stsTokenManager:_,createdAt:E,lastLoginAt:S});return q&&Array.isArray(q)&&(D.providerData=q.map(x=>Object.assign({},x))),w&&(D._redirectEventId=w),D}static async _fromIdTokenResponse(e,t,n=!1){const i=new Qo;i.updateFromServerResponse(t);const a=new vr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Xc(a),a}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];We(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?PA(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Qo;c.updateFromIdToken(n);const h=new vr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Km(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;function oi(r){pi(r instanceof Function,"Expected a class definition");let e=e_.get(r);return e?(pi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,e_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}OA.type="NONE";const t_=OA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(r,e,t){return`firebase:${r}:${e}:${t}`}class Yo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=kc(this.userKey,i.apiKey,a),this.fullPersistenceKey=kc("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Zc(this.auth,{idToken:e}).catch(()=>{});return t?vr._fromGetAccountInfoResponse(this.auth,t,e):null}return vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Yo(oi(t_),e,n);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||oi(t_);const u=kc(n,e.config.apiKey,e.name);let c=null;for(const d of t)try{const y=await d._get(u);if(y){let g;if(typeof y=="string"){const p=await Zc(e,{idToken:y}).catch(()=>{});if(!p)break;g=await vr._fromGetAccountInfoResponse(e,p,y)}else g=vr._fromJSON(e,y);d!==a&&(c=g),a=d;break}}catch{}const h=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Yo(a,e,n):(a=h[0],c&&await a._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==a)try{await d._remove(u)}catch{}})),new Yo(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jA(e))return"Blackberry";if(qA(e))return"Webos";if(LA(e))return"Safari";if((e.includes("chrome/")||FA(e))&&!e.includes("edge/"))return"Chrome";if(MA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function NA(r=hn()){return/firefox\//i.test(r)}function LA(r=hn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FA(r=hn()){return/crios\//i.test(r)}function BA(r=hn()){return/iemobile/i.test(r)}function MA(r=hn()){return/android/i.test(r)}function jA(r=hn()){return/blackberry/i.test(r)}function qA(r=hn()){return/webos/i.test(r)}function Yg(r=hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function iP(r=hn()){var e;return Yg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sP(){return DT()&&document.documentMode===10}function VA(r=hn()){return Yg(r)||MA(r)||qA(r)||jA(r)||/windows phone/i.test(r)||BA(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(r,e=[]){let t;switch(r){case"Browser":t=n_(hn());break;case"Worker":t=`${n_(hn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qs}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((u,c)=>{try{const h=e(a);u(h)}catch(h){c(h)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(r,e={}){return zr(r,"GET","/v2/passwordPolicy",yi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=6;class lP{constructor(e){var t,n,i,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:uP,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,a,u,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(n=h.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r_(this),this.idTokenSubscription=new r_(this),this.beforeStateQueue=new oP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oi(t)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zc(this,{idToken:e}),n=await vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===c)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(ui(this));const t=e?yt(e):null;return t&&We(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aP(this),t=new lP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ju("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await rP(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oi(e)||this._popupRedirectResolver;We(t,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(c,this,"internal-error"),c.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,n,i);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&jR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ds(r){return yt(r)}class r_{constructor(e){this.auth=e,this.observer=null,this.addObserver=LT(t=>this.observer=t)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hP(r){Oh=r}function zA(r){return Oh.loadJS(r)}function fP(){return Oh.recaptchaEnterpriseScript}function dP(){return Oh.gapiScript}function pP(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class mP{constructor(){this.enterprise=new gP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const yP="recaptcha-enterprise",HA="NO_RECAPTCHA";class vP{constructor(e){this.type=yP,this.auth=ds(e)}async verify(e="verify",t=!1){async function n(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,c)=>{JR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new KR(h);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,u(d.siteKey)}}).catch(h=>{c(h)})})}function i(a,u,c){const h=window.grecaptcha;Z0(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u(HA)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mP().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{n(this.auth).then(c=>{if(!t&&Z0(window.grecaptcha))i(c,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=fP();h.length!==0&&(h+=c),zA(h).then(()=>{i(c,a,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function i_(r,e,t,n=!1,i=!1){const a=new vP(r);let u;if(i)u=HA;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function eh(r,e,t,n,i){var a;if(!((a=r._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await i_(r,e,t,t==="getOobCode");return n(r,u)}else return n(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await i_(r,e,t,t==="getOobCode");return n(r,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(r,e){const t=hh(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(zs(a,e??{}))return i;Er(i,"already-initialized")}return t.initialize({options:e})}function wP(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(oi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function EP(r,e,t){const n=ds(r);We(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=GA(e),{host:u,port:c}=AP(e),h=c===null?"":`:${c}`,d={url:`${a}//${u}${h}/`},y=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){We(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),We(zs(d,n.config.emulator)&&zs(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,CP(),ua(u)&&Zm(`${a}//${u}${h}`)}function GA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function AP(r){const e=GA(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:s_(n.substr(a.length+1))}}else{const[a,u]=n.split(":");return{host:a,port:s_(u)}}}function s_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function CP(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,t){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function bP(r,e){return zr(r,"POST","/v1/accounts:update",e)}async function TP(r,e){return zr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(r,e){return Wu(r,"POST","/v1/accounts:signInWithPassword",yi(r,e))}async function DP(r,e){return zr(r,"POST","/v1/accounts:sendOobCode",yi(r,e))}async function xP(r,e){return DP(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(r,e){return Wu(r,"POST","/v1/accounts:signInWithEmailLink",yi(r,e))}async function kP(r,e){return Wu(r,"POST","/v1/accounts:signInWithEmailLink",yi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends Zg{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Lu(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Lu(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eh(e,t,"signInWithPassword",SP);case"emailLink":return IP(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eh(e,n,"signUpPassword",TP);case"emailLink":return kP(e,{idToken:t,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(r,e){return Wu(r,"POST","/v1/accounts:signInWithIdp",yi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="http://localhost";class Ks extends Zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,a=Wg(t,["providerId","signInMethod"]);if(!n||!i)return null;const u=new Ks(n,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Zo(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Zo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zo(e,t)}buildRequest(){const e={requestUri:RP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OP(r){const e=hu(fu(r)).link,t=e?hu(fu(e)).deep_link_id:null,n=hu(fu(r)).deep_link_id;return(n?hu(fu(n)).link:null)||n||t||e||r}class Xg{constructor(e){var t,n,i,a,u,c;const h=hu(fu(e)),d=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(n=h.oobCode)!==null&&n!==void 0?n:null,g=PP((i=h.mode)!==null&&i!==void 0?i:null);We(d&&y&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=y,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=OP(e);try{return new Xg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,t){return Lu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Xg.parseLink(t);return We(n,"argument-error"),Lu._fromEmailAndCode(e,n.code,n.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends $A{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Ku{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ks._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ji.credential(t,n)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Ku{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Ku{constructor(){super("twitter.com")}static credential(e,t){return Ks._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Yi.credential(t,n)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(r,e){return Wu(r,"POST","/v1/accounts:signUp",yi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const a=await vr._fromIdTokenResponse(e,n,i),u=o_(n);return new Js({user:a,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=o_(n);return new Js({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function o_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends Ur{constructor(e,t,n,i){var a;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new th(e,t,n,i)}}function WA(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,a,e,n):a})}async function LP(r,e,t=!1){const n=await oa(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Js._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(r,e,t=!1){const{auth:n}=r;if(qn(n.app))return Promise.reject(ui(n));const i="reauthenticate";try{const a=await oa(r,WA(n,i,e,r),t);We(a.idToken,n,"internal-error");const u=Qg(a.idToken);We(u,n,"internal-error");const{sub:c}=u;return We(r.uid===c,n,"user-mismatch"),Js._forOperation(r,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Er(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(r,e,t=!1){if(qn(r.app))return Promise.reject(ui(r));const n="signIn",i=await WA(r,n,e),a=await Js._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(a.user),a}async function BP(r,e){return KA(ds(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(r){const e=ds(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MP(r,e,t){const n=ds(r);await eh(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",xP)}async function jP(r,e,t){if(qn(r.app))return Promise.reject(ui(r));const n=ds(r),u=await eh(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NP).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&JA(r),h}),c=await Js._fromIdTokenResponse(n,"signIn",u);return await n._updateCurrentUser(c.user),c}function a_(r,e,t){return qn(r.app)?Promise.reject(ui(r)):BP(yt(r),pa.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&JA(r),n})}function qP(r,e){return VP(yt(r),null,e)}async function VP(r,e,t){const{auth:n}=r,a={idToken:await r.getIdToken(),returnSecureToken:!0};t&&(a.password=t);const u=await oa(r,bP(n,a));await r._updateTokensIfNecessary(u,!0)}function UP(r,e,t,n){return yt(r).onIdTokenChanged(e,t,n)}function zP(r,e,t){return yt(r).beforeAuthStateChanged(e,t)}function qd(r,e,t,n){return yt(r).onAuthStateChanged(e,t,n)}function u_(r){return yt(r).signOut()}async function HP(r){return yt(r).delete()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=1e3,$P=10;class YA extends QA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,h)=>{this.notifyListeners(u,h)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},a=this.storage.getItem(n);sP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$P):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},GP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}YA.type="LOCAL";const WP=YA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA extends QA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ZA.type="SESSION";const XA=ZA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Nh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(u).map(async d=>d(t.origin,a)),h=await KP(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((c,h)=>{const d=ey("",20);i.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},n);u={messageChannel:i,onMessage(g){const p=g;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(p.data.response);break;default:clearTimeout(y),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function QP(r){jr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function YP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZP(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function XP(){return eC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebaseLocalStorageDb",eO=1,rh="firebaseLocalStorage",nC="fbase_key";class Ju{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lh(r,e){return r.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function tO(){const r=indexedDB.deleteDatabase(tC);return new Ju(r).toPromise()}function Jm(){const r=indexedDB.open(tC,eO);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(rh,{keyPath:nC})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(rh)?e(n):(n.close(),await tO(),e(await Jm()))})})}async function l_(r,e,t){const n=Lh(r,!0).put({[nC]:e,value:t});return new Ju(n).toPromise()}async function nO(r,e){const t=Lh(r,!1).get(e),n=await new Ju(t).toPromise();return n===void 0?null:n.value}function c_(r,e){const t=Lh(r,!0).delete(e);return new Ju(t).toPromise()}const rO=800,iO=3;class rC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>iO)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(XP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await YP(),!this.activeServiceWorker)return;this.sender=new JP(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await l_(e,nh,"1"),await c_(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>l_(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>nO(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>c_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Lh(i,!1).getAll();return new Ju(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rC.type="LOCAL";const sO=rC;new $u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(r,e){return e?oi(e):(We(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aO(r){return KA(r.auth,new ty(r),r.bypassAuthState)}function uO(r){const{auth:e,user:t}=r;return We(t,e,"internal-error"),FP(t,new ty(r),r.bypassAuthState)}async function lO(r){const{auth:e,user:t}=r;return We(t,e,"internal-error"),LP(t,new ty(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:a,error:u,type:c}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aO;case"linkViaPopup":case"linkViaRedirect":return lO;case"reauthViaPopup":case"reauthViaRedirect":return uO;default:Er(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new $u(2e3,1e4);class Ko extends iC{constructor(e,t,n,i,a){super(e,t,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cO.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="pendingRedirect",Rc=new Map;class fO extends iC{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Rc.get(this.auth._key());if(!e){try{const n=await dO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Rc.set(this.auth._key(),e)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dO(r,e){const t=gO(e),n=mO(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function pO(r,e){Rc.set(r._key(),e)}function mO(r){return oi(r._redirectPersistence)}function gO(r){return kc(hO,r.config.apiKey,r.name)}async function yO(r,e,t=!1){if(qn(r.app))return Promise.reject(ui(r));const n=ds(r),i=oO(n,e),u=await new fO(n,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=10*60*1e3;class _O{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!sC(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Mr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vO&&this.cachedEventUids.clear(),this.cachedEventUids.has(h_(e))}saveEventToCache(e){this.cachedEventUids.add(h_(e)),this.lastProcessedEventTime=Date.now()}}function h_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sC({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sC(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(r,e={}){return zr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CO=/^https?/;async function bO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await EO(r);for(const t of e)try{if(TO(t))return}catch{}Er(r,"unauthorized-domain")}function TO(r){const e=Wm(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!CO.test(t))return!1;if(AO.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=new $u(3e4,6e4);function f_(){const r=jr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function DO(r){return new Promise((e,t)=>{var n,i,a;function u(){f_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f_(),t(Mr(r,"network-request-failed"))},timeout:SO.get()})}if(!((i=(n=jr().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=jr().gapi)===null||a===void 0)&&a.load)u();else{const c=pP("iframefcb");return jr()[c]=()=>{gapi.load?u():t(Mr(r,"network-request-failed"))},zA(`${dP()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function xO(r){return Pc=Pc||DO(r),Pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new $u(5e3,15e3),kO="__/auth/iframe",RO="emulator/auth/iframe",PO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NO(r){const e=r.config;We(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Jg(e,RO):`https://${r.config.authDomain}/${kO}`,n={apiKey:e.apiKey,appName:r.name,v:Qs},i=OO.get(r.config.apiHost);i&&(n.eid=i);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${qu(n).slice(1)}`}async function LO(r){const e=await xO(r),t=jr().gapi;return We(t,r,"internal-error"),e.open({where:document.body,url:NO(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PO,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const u=Mr(r,"network-request-failed"),c=jr().setTimeout(()=>{a(u)},IO.get());function h(){jr().clearTimeout(c),i(n)}n.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BO=500,MO=600,jO="_blank",qO="http://localhost";class d_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VO(r,e,t,n=BO,i=MO){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const h=Object.assign(Object.assign({},FO),{width:n.toString(),height:i.toString(),top:a,left:u}),d=hn().toLowerCase();t&&(c=FA(d)?jO:t),NA(d)&&(e=e||qO,h.scrollbars="yes");const y=Object.entries(h).reduce((p,[v,A])=>`${p}${v}=${A},`,"");if(iP(d)&&c!=="_self")return UO(e||"",c),new d_(null);const g=window.open(e||"",c,y);We(g,r,"popup-blocked");try{g.focus()}catch{}return new d_(g)}function UO(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="__/auth/handler",HO="emulator/auth/handler",GO=encodeURIComponent("fac");async function p_(r,e,t,n,i,a){We(r.config.authDomain,r,"auth-domain-config-required"),We(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Qs,eventId:i};if(e instanceof $A){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",NT(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,g]of Object.entries({}))u[y]=g}if(e instanceof Ku){const y=e.getScopes().filter(g=>g!=="");y.length>0&&(u.scopes=y.join(","))}r.tenantId&&(u.tid=r.tenantId);const c=u;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const h=await r._getAppCheckToken(),d=h?`#${GO}=${encodeURIComponent(h)}`:"";return`${$O(r)}?${qu(c).slice(1)}${d}`}function $O({config:r}){return r.emulator?Jg(r,HO):`https://${r.authDomain}/${zO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class WO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XA,this._completeRedirectFn=yO,this._overrideRedirectResult=pO}async _openPopup(e,t,n,i){var a;pi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await p_(e,t,n,Wm(),i);return VO(e,u,ey())}async _openRedirect(e,t,n,i){await this._originValidation(e);const a=await p_(e,t,n,Wm(),i);return QP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(pi(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await LO(e),n=new _O(e);return t.register("authEvent",i=>(We(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vd,{type:Vd},i=>{var a;const u=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Vd];u!==void 0&&t(!!u),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=bO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return VA()||LA()||Yg()}}const KO=WO;var m_="@firebase/auth",g_="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YO(r){Hs(new rs("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=n.options;We(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:u,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UA(r)},d=new cP(n,i,a,h);return wP(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Hs(new rs("auth-internal",e=>{const t=ds(e.getProvider("auth").getImmediate());return(n=>new JO(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(m_,g_,QO(r)),Lr(m_,g_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=5*60,XO=Cw("authIdTokenMaxAge")||ZO;let y_=null;const eN=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>XO)return;const i=t==null?void 0:t.token;y_!==i&&(y_=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Oc(r=tg()){const e=hh(r,"auth");if(e.isInitialized())return e.getImmediate();const t=_P(r,{popupRedirectResolver:KO,persistence:[sO,WP,XA]}),n=Cw("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const u=eN(a.toString());zP(t,u,()=>u(t.currentUser)),UP(t,c=>u(c))}}const i=ww("auth");return i&&EP(t,`http://${i}`),t}function tN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}hP({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const a=Mr("internal-error");a.customData=i,t(a)},n.type="text/javascript",n.charset="UTF-8",tN().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YO("Browser");const nN={apiKey:"AIzaSyC1ejMnWWe98bFa29RwIiBBB7UndNdJ1cA",authDomain:"salescaptureai.firebaseapp.com",projectId:"salescaptureai",storageBucket:"salescaptureai.firebasestorage.app",messagingSenderId:"392166418592",appId:"1:392166418592:web:7807d9aafec37b8c0581c5",measurementId:"G-BTPP6403LT"},oC=Dw(nN),rN=NR(),iN=JI(oC),sN=Oc(oC);class oN{constructor(){he(this,"doNotInclude",["render","forceUpdate","setState"])}bind(e){var n;let t=Object.getPrototypeOf(e);for(;t&&t!==Object.prototype;){const i=Object.getOwnPropertyNames(t).filter(a=>typeof t[a]=="function"&&a!=="constructor");for(let a of i)this.doNotInclude.includes(a)||(e[a]=(n=e[a])==null?void 0:n.bind(e));t=Object.getPrototypeOf(t)}}setDoNotIncludeList(e){this.doNotInclude=e}leaveOut(e){this.doNotInclude.push(e)}include(e){this.doNotInclude=this.doNotInclude.filter(t=>t!==e)}}let wn=new oN;class li{constructor(){he(this,"list",[]);wn.bind(this)}setList(e){e=e.filter(t=>t!==void 0),this.list=e}getList(){return this.list}subscribe(e){e&&this.list.push(e)}unsubscribe(e){this.list=this.list.filter(t=>t!==e)}run(...e){for(let t of this.list)t&&t(...e)}}var lu={},v_;function aN(){if(v_)return lu;v_=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.parse=u,lu.serialize=d;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function u(p,v){const A=new a,C=p.length;if(C<2)return A;const w=(v==null?void 0:v.decode)||y;let E=0;do{const S=p.indexOf("=",E);if(S===-1)break;const O=p.indexOf(";",E),b=O===-1?C:O;if(S>b){E=p.lastIndexOf(";",S-1)+1;continue}const M=c(p,E,S),q=h(p,S,M),R=p.slice(M,q);if(A[R]===void 0){let _=c(p,S+1,b),D=h(p,b,_);const x=w(p.slice(_,D));A[R]=x}E=b+1}while(E<C);return A}function c(p,v,A){do{const C=p.charCodeAt(v);if(C!==32&&C!==9)return v}while(++v<A);return A}function h(p,v,A){for(;v>A;){const C=p.charCodeAt(--v);if(C!==32&&C!==9)return v+1}return A}function d(p,v,A){const C=(A==null?void 0:A.encode)||encodeURIComponent;if(!r.test(p))throw new TypeError(`argument name is invalid: ${p}`);const w=C(v);if(!e.test(w))throw new TypeError(`argument val is invalid: ${v}`);let E=p+"="+w;if(!A)return E;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);E+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);E+="; Domain="+A.domain}if(A.path){if(!n.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);E+="; Path="+A.path}if(A.expires){if(!g(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);E+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(E+="; HttpOnly"),A.secure&&(E+="; Secure"),A.partitioned&&(E+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return E}function y(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function g(p){return i.call(p)==="[object Date]"}return lu}aN();var __="popstate";function uN(r={}){function e(n,i){let{pathname:a,search:u,hash:c}=n.location;return Qm("",{pathname:a,search:u,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Fu(i)}return cN(e,t,null,r)}function St(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Vr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lN(){return Math.random().toString(36).substring(2,10)}function w_(r,e){return{usr:r.state,key:r.key,idx:e}}function Qm(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:t,key:e&&e.key||n||lN()}}function Fu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ma(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function cN(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,u=i.history,c="POP",h=null,d=y();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function y(){return(u.state||{idx:null}).idx}function g(){c="POP";let w=y(),E=w==null?null:w-d;d=w,h&&h({action:c,location:C.location,delta:E})}function p(w,E){c="PUSH";let S=Qm(C.location,w,E);d=y()+1;let O=w_(S,d),b=C.createHref(S);try{u.pushState(O,"",b)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(b)}a&&h&&h({action:c,location:C.location,delta:1})}function v(w,E){c="REPLACE";let S=Qm(C.location,w,E);d=y();let O=w_(S,d),b=C.createHref(S);u.replaceState(O,"",b),a&&h&&h({action:c,location:C.location,delta:0})}function A(w){let E=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof w=="string"?w:Fu(w);return S=S.replace(/ $/,"%20"),St(E,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,E)}let C={get action(){return c},get location(){return r(i,u)},listen(w){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(__,g),h=w,()=>{i.removeEventListener(__,g),h=null}},createHref(w){return e(i,w)},createURL:A,encodeLocation(w){let E=A(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:v,go(w){return u.go(w)}};return C}function aC(r,e,t="/"){return hN(r,e,t,!1)}function hN(r,e,t,n){let i=typeof e=="string"?ma(e):e,a=mi(i.pathname||"/",t);if(a==null)return null;let u=uC(r);fN(u);let c=null;for(let h=0;c==null&&h<u.length;++h){let d=CN(a);c=EN(u[h],d,n)}return c}function uC(r,e=[],t=[],n=""){let i=(a,u,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(St(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let d=ci([n,h.relativePath]),y=t.concat(h);a.children&&a.children.length>0&&(St(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),uC(a.children,e,y,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:_N(d,a.index),routesMeta:y})};return r.forEach((a,u)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,u);else for(let h of lC(a.path))i(a,u,h)}),e}function lC(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let u=lC(n.join("/")),c=[];return c.push(...u.map(h=>h===""?a:[a,h].join("/"))),i&&c.push(...u),c.map(h=>r.startsWith("/")&&h===""?"/":h)}function fN(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:wN(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var dN=/^:[\w-]+$/,pN=3,mN=2,gN=1,yN=10,vN=-2,E_=r=>r==="*";function _N(r,e){let t=r.split("/"),n=t.length;return t.some(E_)&&(n+=vN),e&&(n+=mN),t.filter(i=>!E_(i)).reduce((i,a)=>i+(dN.test(a)?pN:a===""?gN:yN),n)}function wN(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function EN(r,e,t=!1){let{routesMeta:n}=r,i={},a="/",u=[];for(let c=0;c<n.length;++c){let h=n[c],d=c===n.length-1,y=a==="/"?e:e.slice(a.length)||"/",g=ih({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},y),p=h.route;if(!g&&d&&t&&!n[n.length-1].route.index&&(g=ih({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!g)return null;Object.assign(i,g.params),u.push({params:i,pathname:ci([a,g.pathname]),pathnameBase:DN(ci([a,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(a=ci([a,g.pathnameBase]))}return u}function ih(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=AN(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((d,{paramName:y,isOptional:g},p)=>{if(y==="*"){let A=c[p]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const v=c[p];return g&&!v?d[y]=void 0:d[y]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:u,pattern:r}}function AN(r,e=!1,t=!0){Vr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function CN(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function mi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function bN(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?ma(r):r;return{pathname:t?t.startsWith("/")?t:TN(t,e):e,search:xN(n),hash:IN(i)}}function TN(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ud(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SN(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cC(r){let e=SN(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function hC(r,e,t,n=!1){let i;typeof r=="string"?i=ma(r):(i={...r},St(!i.pathname||!i.pathname.includes("?"),Ud("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),Ud("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),Ud("#","search","hash",i)));let a=r===""||i.pathname==="",u=a?"/":i.pathname,c;if(u==null)c=t;else{let g=e.length-1;if(!n&&u.startsWith("..")){let p=u.split("/");for(;p[0]==="..";)p.shift(),g-=1;i.pathname=p.join("/")}c=g>=0?e[g]:"/"}let h=bN(i,c),d=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||y)&&(h.pathname+="/"),h}var ci=r=>r.join("/").replace(/\/\/+/g,"/"),DN=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),xN=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,IN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function kN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var fC=["POST","PUT","PATCH","DELETE"];new Set(fC);var RN=["GET",...fC];new Set(RN);var ga=ye.createContext(null);ga.displayName="DataRouter";var Fh=ye.createContext(null);Fh.displayName="DataRouterState";var dC=ye.createContext({isTransitioning:!1});dC.displayName="ViewTransition";var PN=ye.createContext(new Map);PN.displayName="Fetchers";var ON=ye.createContext(null);ON.displayName="Await";var Hr=ye.createContext(null);Hr.displayName="Navigation";var Qu=ye.createContext(null);Qu.displayName="Location";var vi=ye.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var ny=ye.createContext(null);ny.displayName="RouteError";function NN(r,{relative:e}={}){St(Yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=ye.useContext(Hr),{hash:i,pathname:a,search:u}=Zu(r,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:ci([t,a])),n.createHref({pathname:c,search:u,hash:i})}function Yu(){return ye.useContext(Qu)!=null}function Xs(){return St(Yu(),"useLocation() may be used only in the context of a <Router> component."),ye.useContext(Qu).location}var pC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mC(r){ye.useContext(Hr).static||ye.useLayoutEffect(r)}function LN(){let{isDataRoute:r}=ye.useContext(vi);return r?KN():FN()}function FN(){St(Yu(),"useNavigate() may be used only in the context of a <Router> component.");let r=ye.useContext(ga),{basename:e,navigator:t}=ye.useContext(Hr),{matches:n}=ye.useContext(vi),{pathname:i}=Xs(),a=JSON.stringify(cC(n)),u=ye.useRef(!1);return mC(()=>{u.current=!0}),ye.useCallback((h,d={})=>{if(Vr(u.current,pC),!u.current)return;if(typeof h=="number"){t.go(h);return}let y=hC(h,JSON.parse(a),i,d.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ci([e,y.pathname])),(d.replace?t.replace:t.push)(y,d.state,d)},[e,t,a,i,r])}ye.createContext(null);function Zu(r,{relative:e}={}){let{matches:t}=ye.useContext(vi),{pathname:n}=Xs(),i=JSON.stringify(cC(t));return ye.useMemo(()=>hC(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function BN(r,e){return gC(r,e)}function gC(r,e,t,n){var S;St(Yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=ye.useContext(Hr),{matches:u}=ye.useContext(vi),c=u[u.length-1],h=c?c.params:{},d=c?c.pathname:"/",y=c?c.pathnameBase:"/",g=c&&c.route;{let O=g&&g.path||"";yC(d,!g||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let p=Xs(),v;if(e){let O=typeof e=="string"?ma(e):e;St(y==="/"||((S=O.pathname)==null?void 0:S.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${O.pathname}" was given in the \`location\` prop.`),v=O}else v=p;let A=v.pathname||"/",C=A;if(y!=="/"){let O=y.replace(/^\//,"").split("/");C="/"+A.replace(/^\//,"").split("/").slice(O.length).join("/")}let w=!a&&t&&t.matches&&t.matches.length>0?t.matches:aC(r,{pathname:C});Vr(g||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Vr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=UN(w&&w.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:ci([y,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?y:ci([y,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),u,t,n);return e&&E?ye.createElement(Qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function MN(){let r=WN(),e=kN(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=ye.createElement(ye.Fragment,null,ye.createElement("p",null,"💿 Hey developer 👋"),ye.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ye.createElement("code",{style:a},"ErrorBoundary")," or"," ",ye.createElement("code",{style:a},"errorElement")," prop on your route.")),ye.createElement(ye.Fragment,null,ye.createElement("h2",null,"Unexpected Application Error!"),ye.createElement("h3",{style:{fontStyle:"italic"}},e),t?ye.createElement("pre",{style:i},t):null,u)}var jN=ye.createElement(MN,null),qN=class extends ye.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?ye.createElement(vi.Provider,{value:this.props.routeContext},ye.createElement(ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VN({routeContext:r,match:e,children:t}){let n=ye.useContext(ga);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ye.createElement(vi.Provider,{value:r},t)}function UN(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,a=t==null?void 0:t.errors;if(a!=null){let h=i.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);St(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let u=!1,c=-1;if(t)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:y,errors:g}=t,p=d.route.loader&&!y.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||p){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,d,y)=>{let g,p=!1,v=null,A=null;t&&(g=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||jN,u&&(c<0&&y===0?(yC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,A=null):c===y&&(p=!0,A=d.route.hydrateFallbackElement||null)));let C=e.concat(i.slice(0,y+1)),w=()=>{let E;return g?E=v:p?E=A:d.route.Component?E=ye.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=h,ye.createElement(VN,{match:d,routeContext:{outlet:h,matches:C,isDataRoute:t!=null},children:E})};return t&&(d.route.ErrorBoundary||d.route.errorElement||y===0)?ye.createElement(qN,{location:t.location,revalidation:t.revalidation,component:v,error:g,children:w(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):w()},null)}function ry(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zN(r){let e=ye.useContext(ga);return St(e,ry(r)),e}function HN(r){let e=ye.useContext(Fh);return St(e,ry(r)),e}function GN(r){let e=ye.useContext(vi);return St(e,ry(r)),e}function iy(r){let e=GN(r),t=e.matches[e.matches.length-1];return St(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function $N(){return iy("useRouteId")}function WN(){var n;let r=ye.useContext(ny),e=HN("useRouteError"),t=iy("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function KN(){let{router:r}=zN("useNavigate"),e=iy("useNavigate"),t=ye.useRef(!1);return mC(()=>{t.current=!0}),ye.useCallback(async(i,a={})=>{Vr(t.current,pC),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...a}))},[r,e])}var A_={};function yC(r,e,t){!e&&!A_[r]&&(A_[r]=!0,Vr(!1,t))}ye.memo(JN);function JN({routes:r,future:e,state:t}){return gC(r,void 0,t,e)}function $o(r){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QN({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){St(!Yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),c=ye.useMemo(()=>({basename:u,navigator:i,static:a,future:{}}),[u,i,a]);typeof t=="string"&&(t=ma(t));let{pathname:h="/",search:d="",hash:y="",state:g=null,key:p="default"}=t,v=ye.useMemo(()=>{let A=mi(h,u);return A==null?null:{location:{pathname:A,search:d,hash:y,state:g,key:p},navigationType:n}},[u,h,d,y,g,p,n]);return Vr(v!=null,`<Router basename="${u}"> is not able to match the URL "${h}${d}${y}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:ye.createElement(Hr.Provider,{value:c},ye.createElement(Qu.Provider,{children:e,value:v}))}function C_({children:r,location:e}){return BN(Ym(r),e)}function Ym(r,e=[]){let t=[];return ye.Children.forEach(r,(n,i)=>{if(!ye.isValidElement(n))return;let a=[...e,i];if(n.type===ye.Fragment){t.push.apply(t,Ym(n.props.children,a));return}St(n.type===$o,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=Ym(n.props.children,a)),t.push(u)}),t}var Nc="get",Lc="application/x-www-form-urlencoded";function Bh(r){return r!=null&&typeof r.tagName=="string"}function YN(r){return Bh(r)&&r.tagName.toLowerCase()==="button"}function ZN(r){return Bh(r)&&r.tagName.toLowerCase()==="form"}function XN(r){return Bh(r)&&r.tagName.toLowerCase()==="input"}function e3(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function t3(r,e){return r.button===0&&(!e||e==="_self")&&!e3(r)}var Ac=null;function n3(){if(Ac===null)try{new FormData(document.createElement("form"),0),Ac=!1}catch{Ac=!0}return Ac}var r3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zd(r){return r!=null&&!r3.has(r)?(Vr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lc}"`),null):r}function i3(r,e){let t,n,i,a,u;if(ZN(r)){let c=r.getAttribute("action");n=c?mi(c,e):null,t=r.getAttribute("method")||Nc,i=zd(r.getAttribute("enctype"))||Lc,a=new FormData(r)}else if(YN(r)||XN(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||c.getAttribute("action");if(n=h?mi(h,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||Nc,i=zd(r.getAttribute("formenctype"))||zd(c.getAttribute("enctype"))||Lc,a=new FormData(c,r),!n3()){let{name:d,type:y,value:g}=r;if(y==="image"){let p=d?`${d}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else d&&a.append(d,g)}}else{if(Bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nc,n=null,i=Lc,u=r}return a&&i==="text/plain"&&(u=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:u}}function sy(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function s3(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function o3(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function a3(r,e,t){let n=await Promise.all(r.map(async i=>{let a=e.routes[i.route.id];if(a){let u=await s3(a,t);return u.links?u.links():[]}return[]}));return h3(n.flat(1).filter(o3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function b_(r,e,t,n,i,a){let u=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,c=(h,d)=>{var y;return t[d].pathname!==h.pathname||((y=t[d].route.path)==null?void 0:y.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,d)=>u(h,d)||c(h,d)):a==="data"?e.filter((h,d)=>{var g;let y=n.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let p=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function u3(r,e,{includeHydrateFallback:t}={}){return l3(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function l3(r){return[...new Set(r)]}function c3(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function h3(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let a=JSON.stringify(c3(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}var f3=new Set([100,101,204,205]);function d3(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&mi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function vC(){let r=ye.useContext(ga);return sy(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function p3(){let r=ye.useContext(Fh);return sy(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var oy=ye.createContext(void 0);oy.displayName="FrameworkContext";function _C(){let r=ye.useContext(oy);return sy(r,"You must render this element inside a <HydratedRouter> element"),r}function m3(r,e){let t=ye.useContext(oy),[n,i]=ye.useState(!1),[a,u]=ye.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:y,onTouchStart:g}=e,p=ye.useRef(null);ye.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let C=E=>{E.forEach(S=>{u(S.isIntersecting)})},w=new IntersectionObserver(C,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[r]),ye.useEffect(()=>{if(n){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[n]);let v=()=>{i(!0)},A=()=>{i(!1),u(!1)};return t?r!=="intent"?[a,p,{}]:[a,p,{onFocus:cu(c,v),onBlur:cu(h,A),onMouseEnter:cu(d,v),onMouseLeave:cu(y,A),onTouchStart:cu(g,v)}]:[!1,p,{}]}function cu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function g3({page:r,...e}){let{router:t}=vC(),n=ye.useMemo(()=>aC(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?ye.createElement(v3,{page:r,matches:n,...e}):null}function y3(r){let{manifest:e,routeModules:t}=_C(),[n,i]=ye.useState([]);return ye.useEffect(()=>{let a=!1;return a3(r,e,t).then(u=>{a||i(u)}),()=>{a=!0}},[r,e,t]),n}function v3({page:r,matches:e,...t}){let n=Xs(),{manifest:i,routeModules:a}=_C(),{basename:u}=vC(),{loaderData:c,matches:h}=p3(),d=ye.useMemo(()=>b_(r,e,h,i,n,"data"),[r,e,h,i,n]),y=ye.useMemo(()=>b_(r,e,h,i,n,"assets"),[r,e,h,i,n]),g=ye.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let A=new Set,C=!1;if(e.forEach(E=>{var O;let S=i.routes[E.route.id];!S||!S.hasLoader||(!d.some(b=>b.route.id===E.route.id)&&E.route.id in c&&((O=a[E.route.id])!=null&&O.shouldRevalidate)||S.hasClientLoader?C=!0:A.add(E.route.id))}),A.size===0)return[];let w=d3(r,u);return C&&A.size>0&&w.searchParams.set("_routes",e.filter(E=>A.has(E.route.id)).map(E=>E.route.id).join(",")),[w.pathname+w.search]},[u,c,n,i,d,e,r,a]),p=ye.useMemo(()=>u3(y,i),[y,i]),v=y3(y);return ye.createElement(ye.Fragment,null,g.map(A=>ye.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),p.map(A=>ye.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),v.map(({key:A,link:C})=>ye.createElement("link",{key:A,...C})))}function _3(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var wC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wC&&(window.__reactRouterVersion="7.5.3")}catch{}function w3({basename:r,children:e,window:t}){let n=ye.useRef();n.current==null&&(n.current=uN({window:t,v5Compat:!0}));let i=n.current,[a,u]=ye.useState({action:i.action,location:i.location}),c=ye.useCallback(h=>{ye.startTransition(()=>u(h))},[u]);return ye.useLayoutEffect(()=>i.listen(c),[i,c]),ye.createElement(QN,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:i})}var EC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yn=ye.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:u,state:c,target:h,to:d,preventScrollReset:y,viewTransition:g,...p},v){let{basename:A}=ye.useContext(Hr),C=typeof d=="string"&&EC.test(d),w,E=!1;if(typeof d=="string"&&C&&(w=d,wC))try{let D=new URL(window.location.href),x=d.startsWith("//")?new URL(D.protocol+d):new URL(d),I=mi(x.pathname,A);x.origin===D.origin&&I!=null?d=I+x.search+x.hash:E=!0}catch{Vr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=NN(d,{relative:i}),[O,b,M]=m3(n,p),q=b3(d,{replace:u,state:c,target:h,preventScrollReset:y,relative:i,viewTransition:g});function R(D){e&&e(D),D.defaultPrevented||q(D)}let _=ye.createElement("a",{...p,...M,href:w||S,onClick:E||a?e:R,ref:_3(v,b),target:h,"data-discover":!C&&t==="render"?"true":void 0});return O&&!C?ye.createElement(ye.Fragment,null,_,ye.createElement(g3,{page:S})):_});yn.displayName="Link";var E3=ye.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:u,viewTransition:c,children:h,...d},y){let g=Zu(u,{relative:d.relative}),p=Xs(),v=ye.useContext(Fh),{navigator:A,basename:C}=ye.useContext(Hr),w=v!=null&&I3(g)&&c===!0,E=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,S=p.pathname,O=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(S=S.toLowerCase(),O=O?O.toLowerCase():null,E=E.toLowerCase()),O&&C&&(O=mi(O,C)||O);const b=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let M=S===E||!i&&S.startsWith(E)&&S.charAt(b)==="/",q=O!=null&&(O===E||!i&&O.startsWith(E)&&O.charAt(E.length)==="/"),R={isActive:M,isPending:q,isTransitioning:w},_=M?e:void 0,D;typeof n=="function"?D=n(R):D=[n,M?"active":null,q?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let x=typeof a=="function"?a(R):a;return ye.createElement(yn,{...d,"aria-current":_,className:D,ref:y,style:x,to:u,viewTransition:c},typeof h=="function"?h(R):h)});E3.displayName="NavLink";var A3=ye.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:u=Nc,action:c,onSubmit:h,relative:d,preventScrollReset:y,viewTransition:g,...p},v)=>{let A=D3(),C=x3(c,{relative:d}),w=u.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&EC.test(c),S=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let b=O.nativeEvent.submitter,M=(b==null?void 0:b.getAttribute("formmethod"))||u;A(b||O.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:i,state:a,relative:d,preventScrollReset:y,viewTransition:g})};return ye.createElement("form",{ref:v,method:w,action:C,onSubmit:n?h:S,...p,"data-discover":!E&&r==="render"?"true":void 0})});A3.displayName="Form";function C3(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AC(r){let e=ye.useContext(ga);return St(e,C3(r)),e}function b3(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:u}={}){let c=LN(),h=Xs(),d=Zu(r,{relative:a});return ye.useCallback(y=>{if(t3(y,e)){y.preventDefault();let g=t!==void 0?t:Fu(h)===Fu(d);c(r,{replace:g,state:n,preventScrollReset:i,relative:a,viewTransition:u})}},[h,c,d,t,n,e,r,i,a,u])}var T3=0,S3=()=>`__${String(++T3)}__`;function D3(){let{router:r}=AC("useSubmit"),{basename:e}=ye.useContext(Hr),t=$N();return ye.useCallback(async(n,i={})=>{let{action:a,method:u,encType:c,formData:h,body:d}=i3(n,e);if(i.navigate===!1){let y=i.fetcherKey||S3();await r.fetch(y,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||u,formEncType:i.encType||c,flushSync:i.flushSync})}else await r.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||u,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function x3(r,{relative:e}={}){let{basename:t}=ye.useContext(Hr),n=ye.useContext(vi);St(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Zu(r||".",{relative:e})},u=Xs();if(r==null){a.search=u.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(y=>y==="")){c.delete("index"),h.filter(g=>g).forEach(g=>c.append("index",g));let y=c.toString();a.search=y?`?${y}`:""}}return(!r||r===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ci([t,a.pathname])),Fu(a)}function I3(r,e={}){let t=ye.useContext(dC);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=AC("useViewTransitionState"),i=Zu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=mi(t.currentLocation.pathname,n)||t.currentLocation.pathname,u=mi(t.nextLocation.pathname,n)||t.nextLocation.pathname;return ih(i.pathname,u)!=null||ih(i.pathname,a)!=null}new TextEncoder;[...f3];class k3{constructor(e){wn.bind(this),this.props={...e},this.content=e.content||"",this.type="div"}setHtmlType(e){this.type=e}getHtmlType(){return this.type}setProp(e,t){this.props[e]=t}setProps(e){this.props={...e},e.content&&(this.content=e.content)}updateProps(e){this.props={...this.props,...e},e.content&&(this.content=e.content)}addProps(e){this.props={...this.props,...e},e.content&&(this.content=e.content)}getProps(){return this.props}getProp(e){return this.props[e]}setStyle(e){this.props.style=e}updateStyle(e){this.props.style={...this.props.style,...e}}getStyle(){return this.props.style}setClass(e){this.props.className=e}getClass(){return this.props.className}setOnChange(e){this.props.onChange=e}setOnClick(e){this.props.onClick=e}getOnClick(){return this.props.onClick}setContent(e){this.content=e}getContent(){return this.content}getHtml(e){let{content:t,props:n}=e,i=e==null?void 0:e.type;t&&(this.content=t),n={...this.props,...n};const a={a:k.jsx("a",{...n,children:this.content}),button:k.jsx("button",{...n,children:this.content}),div:k.jsx("div",{...n,children:this.content}),h1:k.jsx("h1",{...n,children:this.content}),h2:k.jsx("h2",{...n,children:this.content}),h3:k.jsx("h3",{...n,children:this.content}),h4:k.jsx("h4",{...n,children:this.content}),h5:k.jsx("h5",{...n,children:this.content}),h6:k.jsx("h6",{...n,children:this.content}),img:k.jsx("img",{...n}),input:k.jsx("input",{...n}),p:k.jsx("p",{...n,children:this.content}),span:k.jsx("span",{...n,children:this.content}),table:k.jsx("table",{...n,children:this.content}),tr:k.jsx("tr",{...n,children:this.content}),td:k.jsx("td",{...n,children:this.content}),th:k.jsx("th",{...n,children:this.content}),ul:k.jsx("ul",{...n,children:this.content}),li:k.jsx("li",{...n,children:this.content}),ol:k.jsx("ol",{...n,children:this.content}),form:k.jsx("form",{...n,children:this.content}),textarea:k.jsx("textarea",{...n,children:this.content}),select:k.jsx("select",{...n,children:this.content}),option:k.jsx("option",{...n,children:this.content}),label:k.jsx("label",{...n,children:this.content}),nav:k.jsx("nav",{...n,children:this.content}),footer:k.jsx("footer",{...n,children:this.content}),header:k.jsx("header",{...n,children:this.content}),article:k.jsx("article",{...n,children:this.content}),section:k.jsx("section",{...n,children:this.content}),aside:k.jsx("aside",{...n,children:this.content}),main:k.jsx("main",{...n,children:this.content}),video:k.jsx("video",{...n,children:this.content}),audio:k.jsx("audio",{...n,children:this.content}),iframe:k.jsx("iframe",{...n,children:this.content}),canvas:k.jsx("canvas",{...n,children:this.content}),content:k.jsx(k.Fragment,{}),fragment:k.jsx(k.Fragment,{children:this.content}),link:k.jsx(yn,{...n,children:this.content})};if(i==="content"||this.type==="conent"){let c=this.content;a.content=k.jsx(c,{...n})}return i?a[i]:a[this.type]}}class R3 extends li{constructor(){super(...arguments);he(this,"component");he(this,"setAttribute")}setObserverFunction(t){this.setAttribute=t}setComponent(t){this.component=t}getComponent(){return this.component}run(){for(let t of this.list)this.setAttribute(t.name,new k3(t))}}class ya{constructor(){he(this,"factory");he(this,"componentList");he(this,"themeFactory");he(this,"appComponent");he(this,"mainFunc");he(this,"appObserver",new li);wn.bind(this),this.getFactory(),this.getThemeFactory()}subscribeToAppObserver(e){this.appObserver.subscribe(e)}getMainFunc(){return this.mainFunc}getFactory(){}getThemeFactory(){}getAppComponent(){return this.appComponent}setAppComponent(e){this.appComponent=e,this.appObserver.run(e)}getComponentList(){var e,t;return this.componentList||(this.componentList=(t=(e=this.appComponent)==null?void 0:e.state)==null?void 0:t.componentList),this.componentList}}class P3 extends ya{constructor(){super(...arguments);he(this,"type","appInterface")}}const CC=new P3;class ot extends ye.Component{constructor(t){super(t);he(this,"resize");wn.bind(this),this.initialBuilderSetupFunctions=[],this.setInterface(),this.setInitialApp(),this.initialPropsSetupFunctions=[this.setInterface,this.setAppOnInterace,this.setInitialApp,this.setObj,this.setThemeFactory,this.setTheme,this.createReactRefsForComponents],this.setupObserver=new li,this.builderObserver=new R3,this.ObserverForSetupFunction=new li,this.builderObserver.setComponent(this),this.builderObserver.setObserverFunction(this.setHtmlBuilderSingleton),this.initialSetupFunctions=[this.builderObserver.run,this.additionalSetup],this.components=[]}setInitialApp(){var n,i,a,u,c,h;this.interface||(this.app=(n=this.props)==null?void 0:n.app);let t=this.interface.getAppComponent();t&&(this.app=t),this.app&&(this.propsState=(i=this.app)==null?void 0:i.state,this.dispatch=(a=this.app)==null?void 0:a.dispatch,this.componentList=(u=this.propsState)==null?void 0:u.componentList,this.APIService=(c=this.componentList)==null?void 0:c.getAPIService(),this.operationsFactory=(h=this.componentList)==null?void 0:h.getOperationsFactory())}setInterface(t){var n;this.interface=t||((n=this.props)==null?void 0:n.interface)||this.interface||CC,this.interface.type==="appInterface"&&this.subscribeToAppObserverBool===void 0&&(this.subscribeToAppObserverBool=!0,this.interface.subscribeToAppObserver(this.setInitialApp))}setAppOnInterace(){this.interface&&(this.props.app&&this.interface.setAppComponent(this.props.app),this.app=this.interface.getAppComponent())}setComponents(t){this.components=t}getComponents(){return this.components}createReactRefsForComponents(){for(let t of this.components)this[t+"Ref"]||(this[t+"Ref"]=lh.createRef())}createPropObj(t,n){n=n||this.state.propType;let i,a=this[n||"props"][t+"Class"];return a||(a=this.theme&&typeof this.theme!="string"?this.theme[this.state[t+"Class"]]:this["default"+t+"Class"]||""),i={name:t,ref:this[t+"Ref"],style:this[t+"Click"]?{...this[n||"props"][t+"Style"],cursor:"pointer"}:this[n||"props"][t+"Style"],className:a,content:this[n||"props"][t],onClick:this[n||"props"][t+"Click"]||this[t+"Click"],obj:this.obj},i.onClick&&(i.onClick=i.onClick.bind(this,this.obj)),i}builderPropsSubscribe(t){this[t+"Props"]=this.createPropObj(t),this.builderObserver.subscribe(this[t+"Props"])}setInitialBuilderPropFunctions(){for(let t of this.components)this["set"+t+"props"]||(this["set"+t+"props"]=this.builderPropsSubscribe(t)),this.initialBuilderSetupFunctions.push(this["set"+t+"props"]);return this.initialBuilderSetupFunctions}loadObserver(){this.setupObserver.setList(this.initialSetupFunctions)}setInitialSetupFunctions(){const t=[...this.initialPropsSetupFunctions,...this.initialBuilderSetupFunctions,...this.initialSetupFunctions,this.additionalPostSetup],n=[...new Set(t)];return this.initialSetupFunctions=n,this.initialSetupFunctions}runInitialPropsSetup(){for(let t of this.initialPropsSetupFunctions)t&&t()}isArray(t){return Array.isArray(t)?t:[t]}setObj(){this.obj=this.props.obj}setThemeFactory(){this.interface!==void 0&&(this.themeFactory=this.interface.getThemeFactory())}setTheme(){var t,n;this.themeFactory&&(this.theme=this.themeFactory.getComponent(((t=this.props)==null?void 0:t.theme)||((n=this.state)==null?void 0:n.defaultTheme)||"default"))}clearLists(){this.setupObserver.setList([]),this.builderObserver.setList([])}setupItem(...t){this.clearLists(),this.preSetup(),this.runInitialPropsSetup(),this.setInitialBuilderPropFunctions(),this.setInitialSetupFunctions(),this.loadObserver(),this.setupObserver.run(...t)}preSetup(){}setAttribute(t,n){this[t]=n}setHtmlBuilderSingleton(t,n){this[t]||(this[t]=n)}getInnerContent(){return this.innerContent}getAdditionalInnerContent(){return this.innerContent}mapList(t){return k.jsx(k.Fragment,{children:t.filter(n=>n!==void 0&&n!==!1).map(n=>n)})}additionalSetup(){}additionalPostSetup(){}mapInnerContent(){return this.getInnerContent(),this.getAdditionalInnerContent(),this.innerContent=this.mapList(this.innerContent),this.innerContent}getHtml(){return this.html}getFactoryTypeString(t){let n=this.propsState.componentListInterface.getFactory().getRegistry(),i=n.find(a=>t.toLowerCase()===a);return i=i||n.find(a=>t.toLowerCase().includes(a)),i}getCapitalFirstLetter(t){var n;return((n=t==null?void 0:t.charAt(0))==null?void 0:n.toUpperCase())+(t==null?void 0:t.slice(1))}classNameToString(t){let n=t.name;return n.charAt(0).toLowerCase()+n.slice(1)}render(){return this.setupItem(),this.html=this.getHtml(),this.html}}class O3 extends ya{}const bC=new O3;class _n extends ot{constructor(t){super(t);he(this,"type");he(this,"theme");he(this,"interface");this.wrapperRef=lh.createRef(),this.setWrapperRef=this.setWrapperRef,this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setApp,this.setType,this.setClassStr],this.state={defaultType:this.props.type?this.props.type:"fit",defaultTheme:this.props.theme?this.props.theme:"Default",typeKey:"type",themeKey:"theme"},this.interface=bC}componentDidMount(){this.props.popup&&document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){this.props.popup&&document.removeEventListener("mousedown",this.handleClickOutside)}handleClickOutside(t){this.wrapperRef&&!this.wrapperRef.current.contains(t.target)&&this.props.handleClose&&this.props.handleClose()}isPopup(t){if(this.props.popup){let n=this.closePopup.getHtml({content:this.props.closeUI||k.jsx(k.Fragment,{children:"X"}),props:{onClick:()=>{this.props.handleClose&&this.props.handleClose()}}}),i=this.popupContent.getHtml({content:k.jsxs(k.Fragment,{children:[n,t]}),props:{ref:this.wrapperRef}});t=this.backDrop.getHtml({content:i})}return t}setTheme(){this.theme=this.props[this.state.themeKey]?this.props[this.state.themeKey]:this.state.defaultTheme}setType(){this.type=this.props[this.state.typeKey]?this.props[this.state.typeKey]:this.state.defaultType}setClassStr(){this.defaultcardClass=this.type+this.theme+" scroller",this.defaultcardClass=this.props.popup?this.defaultcardClass+" cardPopup":this.defaultcardClass,this.props.popup&&(this.defaultbackDropClass="backDropPopup",this.defaultpopupContentClass="popupContent",this.defaultclosePopupClass="closePopup")}getHtml(){let t=this.getContent();return this.html=this.card.getHtml({content:t}),this.html=this.isPopup(this.html),this.html}getContent(){return this.content=this.props.content,this.content}preSetup(){let t=["card"];this.props.popup&&(t=[...t,"backDrop","popupContent","closePopup"]),this.setComponents(t)}}let N3=class{constructor(e){he(this,"operationsFactory");he(this,"dispatch");he(this,"json",{_id:"",backendKeys:[],backendAttributes:[],backendFilterKeys:[],orderMatters:!1,orderFilterKey:"",filterKey:"",removeOwnerQuery:[]});he(this,"componentList");he(this,"APIService");wn.bind(this),this.operationsFactory=e,this.json._id=this.createId()}getAssociatedItemsHelper(e){let t=this.json._id,n=this.json.type+"Id";return this.json.backendAttributes.length>0&&(t=this.json[this.json.backendAttributes[e]]),this.json.backendFilterKeys.length>0&&(n=this.json.backendFilterKeys[e]),{attribute:t,filterKey:n}}async getAssociatedItems(e){e=e||this.json.backendKeys;const t=e==null?void 0:e.map((n,i)=>{let{attribute:a,filterKey:u}=this.getAssociatedItemsHelper(i);return this.componentList.getList(n,a,u)});return await Promise.all(t)}async getAssociatedItemsFromBackend(e,t){e=e||this.json.backendKeys;let n=!0;const i=e==null?void 0:e.map((a,u)=>{this.json.removeOwnerQuery.includes(a)&&(n=!1);let{attribute:c,filterKey:h}=this.getAssociatedItemsHelper(u);return this.componentList.getComponentsFromBackend({type:a,ids:c,filterKeys:h,owner:n,...t})});return await Promise.all(i)}setComponentList(e){this.componentList=e,this.componentList.getAPIService&&this.setAPIService(this.componentList.getAPIService()),this.componentList.getDispatch&&this.setDispatch(this.componentList.getDispatch())}setDispatch(e){this.dispatch=e}getDispatch(){return this.dispatch}getComponentList(){return this.componentList}setAPIService(e){this.APIService=e}getAPIService(){return this.APIService}update(...e){this.APIService&&this.APIService.update([this],...e)}del(...e){this.componentList.del(this,{...e})}updateOrder(e,t){e=e||-1,e===!0&&(e=1);let n=this.componentList.getList(this.json.type,this.json[this.json.orderFilterKey],this.json.orderFilterKey);t=t||(this.json.orderKey?this.json[this.json.orderKey]:"order");let i=n.indexOf(this),a;e<0&&i===0?this.json[t]=n.length:e>0&&i===n.length-1?(this.json[t]=0,this.componentList.shiftOrderedList(this,t)):(a=n[i+e],a.setCompState({[t]:i},{run:!0,clean:!0}),this.json[t]=i+e),this.componentList.sortSelectedList(this.json.type,this.json.orderKey||"order"),this.componentList.resetOrder(this,t),this.update()}prepare(){this.operationsFactory.prepare({prepare:this})}setAttribute(e,t){this[e]=t}setAttributes(e){for(let t in e)this[t]=e[t]}getAttribute(e){return this[e]}getJsonAttribute(e){return this.json[e]}setCompState(e,t,n,i){this.subscribeToOperations(t),this.json={...this.json,...e},n&&this.dispatch({updated:this}),i&&i(e),t!=null&&t.run&&this.operationsFactory.runOperations()}getOperationsFactory(){return this.operationsFactory}setJson(e,t,n,i){this.subscribeToOperations(t),this.json=e,n&&this.dispatch({updated:this}),i&&i(this),t!=null&&t.run&&this.operationsFactory.runOperations()}getJson(){return this.json}subscribeToOperations(e){e&&this.operationsFactory.subscribeToOperations(e.operation||this.update,e.clean)}copyJson(e){return{...this.json,_id:"",...e}}copy(e){let t=this.copyJson(e);this.componentList.addComponents(t)}updateObjInsideJson(e,t){this.json[e]={...this.json[e],...t}}removeObjInsideJson(e,t){let n={};for(const i in this.json[e])t.includes(i)||(n[i]=this.json[e][i]);this.json[e]=n}randomFiveDigitNumber(){let e=Math.floor(Math.random()*9e4)+1e4;e=e.toString();let t=String.fromCharCode(97+Math.floor(Math.random()*26)),n=Math.floor(Math.random()*5);if(e=e.substring(0,n)+t+e.substring(n+1),Math.floor(Math.random()*2)===1){let a=String.fromCharCode(97+Math.floor(Math.random()*26)),u;do u=Math.floor(Math.random()*5);while(u===n);e=e.substring(0,u)+a+e.substring(u+1)}return e}createId(){const e=new Date,t=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=e.getFullYear().toString().slice(-2);return this.randomFiveDigitNumber().toString()+t+n+i}createUUID(e){let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz123456789",i=n.length;for(let a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*i));return t}};class L3{constructor(){he(this,"operationsFactory");he(this,"factory",{})}registerComponents(e){this.factory[e.name]=e.component}setOperationsFactory(e){this.operationsFactory=e}getRegistry(){return Object.keys(this.factory)}async getComponent(e){if(Object.keys(this.factory).includes(e.type)){let t=e.type,n=new this.factory[t](this.operationsFactory);return[void 0,"",!1].includes(e._id)&&(e._id=n.getJson()._id),n.setCompState({...e}),n}}}class F3 extends li{clear(){this.list=[]}cleanSubscibe(e){this.clear(),this.subscribe(e)}run(...e){for(let t of this.list)t&&t(...e);this.clear()}}class T_{constructor(e){he(this,"register");he(this,"factory");he(this,"operationsObserver");wn.bind(this),this.add=[],this.lastChange=[],this.factory=e.getFactory(),this.operationsObserver=new F3}removeFromList(e){this.add=this.add.filter(t=>t!==e)}getOperationsObserver(){return this.operationsObserver}setOperationsObserver(e){this.operationsObserver=e}subscribeToOperations(e,t){t&&this.operationsObserver.clear(),this.operationsObserver.subscribe(e)}runOperations(...e){this.operationsObserver.run(...e)}setAddList(e){this.add=[...e],this.lastChange=[...this.add]}getAddList(){return this.add}getLastPrepare(){return this.lastChange}async prepare(e,t){let{prepare:n,amount:i,clean:a}=e;i=i||1;let u=Array.isArray(n)?n:[n];u=u.flatMap(h=>Array(i).fill(h));let c=[];for(let h of u){let d=await this.factory.getComponent({...h});c.push(d)}return u=[...c],this.setAddList(a?[...u]:[...this.add,...u]),t&&t(this.add),e.run&&await this.addToComponentList(),this.add}clear(){this.setAddList([])}removeFromRegister(e){this.setAddList(this.add.filter(t=>t!==e))}run(e){this.addToComponentList(e)}addToComponentList(e){let t=[...this.add];return this.clear(),this.register(t,{skipBackendUpdate:e}),t}setRegister(e){this.register=e}}class B3{constructor(e){he(this,"components",[]);he(this,"dispatch");he(this,"backArray",{});he(this,"operationsFactory");he(this,"componentListInterface");he(this,"componentsList",{});he(this,"completionObserver",new li);he(this,"factory");he(this,"APIService");wn.bind(this),this.operationsFactory=e.getOperationsFactory(),this.operationsFactory.setRegister(this.add),this.componentListInterface=e,this.factory=e.getFactory(),this.dispatch=e.dispatch,this.APIService=e.getAPIService(),this.APIService.setComponentList(this),this.completionObserver.subscribe(this.setComponentsList),this.completionObserver.subscribe(this.setOrderAfterAddorDel)}getFactory(){return this.factory}getDispatch(){return this.dispatch}setDispatch(e){this.dispatch=e}getCompletionObserver(){return this.completionObserver}setCompoletionObserver(e){this.completionObserver=e}subscribeToOperationCompletion(e){this.completionObserver.subscribe(e)}getAPIService(){return this.APIService}setAPIService(e){this.APIService=e}getComponents(){return this.components}filterOutErrors(e){let t=this.components.map(i=>i.getJson()._id);e=e.filter(i=>i!==void 0),e=e.map(i=>{if(i!==void 0&&t.includes(i.getJson()._id)){let a=this.components.find(u=>u.getJson()._id===i.getJson()._id);i.setJson({...a.getJson(),...i.getJson()})}return i}),e=e.filter(i=>!t.includes(i.getJson()._id));let n=this.factory.getRegistry();return e=e.filter(i=>n.includes(i.getJson().type)),e}add(e,t){return e=Array.isArray(e)?e:[e],e=this.filterOutErrors(e),e.forEach(n=>{n.setComponentList(this)}),this.components=[...this.components,...e],this.operationComplete(e,"add",t)}setComponentsList(){let e={};this.componentListInterface.getFactory().getRegistry().forEach(n=>{e[n]=[]});for(let n of this.components){let i=n.getJson().type;e[i].push(n)}this.componentsList=e}async addComponents(e,t){e.prepare||(e={prepare:Array.isArray(e)?e:[e]}),await this.operationsFactory.prepare({...e}),this.operationsFactory.addToComponentList(t);let n=e==null?void 0:e.prepare.map(a=>a._id);return await this.components.filter(a=>n.includes(a.getJson()._id))}del(e,t){return e=Array.isArray(e)?e:[e],this.components=this.components.filter(n=>!e.includes(n)),this.operationComplete(e,"del",t)}setOrderAfterAddorDel(e){for(let t of e){let n=t.getJson();if(n.orderMatters){let i=this.getList(n.type,n[n.orderFilterKey],n.orderFilterKey),a=n.orderKey?n[n.orderKey]:"order",u=t.getJson()[a],h=i.filter(y=>{let g=parseInt(y.getJson()[a]);return u=parseInt(u),g===u}).find(y=>!e.includes(y)),d=i.indexOf(t);h&&h!==t&&t.setCompState({[a]:d}),this.sortSelectedList(n.type,n.orderKey||"order"),this.resetOrder(t,a)}}}shiftOrderedList(e,t){let n=e.getJson();this.sortSelectedList(n.type,n.orderKey||"order");let i=this.getList(n.type,n[n.orderFilterKey],n.orderFilterKey);t=t||(n.orderKey?n[n.orderKey]:"order"),i=i.filter(a=>a!==e);for(let a=1;a<i.length;a++)i[a-1].setCompState({[t]:a},{run:!0,clean:!0})}resetOrder(e,t){let n=e.getJson();t=t||(n.orderKey?n[n.orderKey]:n.order);let i=this.getList(n.type,n[n.orderFilterKey],n.orderFilterKey);for(let a=0;a<i.length;a++)i[a][t]!==a&&(i[a].setCompState({[t]:a}),i[a]!==e&&i[a].update())}operationComplete(e,t,n){return this.completionObserver.run(e,t,n),this.backArray={[t]:e},n.skipBackendUpdate||this.updateBackend(e,t,n),e}updateBackend(e,t,n){this.dispatch({backend:!0,backendUpdate:{...this.backArray}});let i=[n.path,n.dispatchKey];t==="add"&&i.push(n.timeKey),this.APIService[t](e,...i),this.backArray={}}getOperationsFactory(){return this.operationsFactory}createQueryJson(e,t,n,i,a="type"){i=i||{},n===void 0&&t&&(n="_id"),t=Array.isArray(t)?t:[t],n=Array.isArray(n)?n:[n];let u={where:[{attribute:a,val:e}],...i};return t.length>0&&t[0]!==void 0&&(u.where=[...u.where,...t.map((c,h)=>({attribute:n[h]||n[0],val:c}))]),u}async getComponentsFromBackend(e,t){typeof e=="string"&&(e={type:e,owner:t===!1?t:!0});let n=await this.createQueryJson(e.type,e.ids,e.filterKeys,e.obj,e.typeAttribute);return await this.APIService[e.snapshot?"firebaseGetterSnapshot":"firebaseGetter"](n,e.path,e.owner)}async getComponentFromBackend(e){return(await this.getComponentsFromBackend(e))[0]}getList(e,t,n){n=n||"owner",e=Array.isArray(e)?e:[e];let i=[];for(let a of e){let u=this.componentsList[a]||[];i=[...i,...u]}return Array.isArray(t)||(t=t?[t]:[]),Array.isArray(n)||(n=[n]),t.length>0&&(i=i.filter(a=>n.some((u,c)=>{var y;const h=(y=a.getJson())==null?void 0:y[u],d=t[c]||t[0];return typeof h=="object"?Object.keys(h).includes(d):h===d}))),i}getComponent(e,t,n){return this.getList(e,t,n||"_id")[0]}clearList(){this.components=[],this.componentsList={}}clearSelectedList(e,t){let n=[...this.components],i=[];for(const a in n)n[a].getJson()[t]!==e&&i.push(n[a]);this.components=[...i],this.setComponentsList()}setComponentList(e){this.componentsList=e}setSelectedList(e,t){this.componentsList[e]=t}sortSelectedList(e,t,n){if(t&&this.componentsList[e]){let i=[...this.componentsList[e]];i=i.sort(function(a,u){const c=a.getJson()[t],h=u.getJson()[t],d=isNaN(Number(c))?c:Number(c),y=isNaN(Number(h))?h:Number(h);return typeof d=="number"&&typeof y=="number"?n?y-d:d-y:n?(""+y).localeCompare(""+d):(""+d).localeCompare(""+y)}),this.setSelectedList(e,i)}}sortSelectedListbyFirebaseDate(e,t){if(this.componentsList[e]){let n=[...this.componentsList[e]];n=n.sort(function(i,a){var h,d;let u=i.getJson().date||i.getJson().date!==""?(h=i.getJson().date)==null?void 0:h.seconds:new Date(0),c=a.getJson().date||a.getJson().date!==""?(d=a.getJson().date)==null?void 0:d.seconds:new Date(0);return t?c-u:u-c}),this.setSelectedList(e,n)}}}class M3{constructor(e,t){he(this,"DB");he(this,"url");he(this,"path",[]);he(this,"orderStr","date");wn.bind(this),this.setDB(e),this.setUrl(t),this.path=[this.DB,this.url+"users",this.url+"APP","components"]}setDB(e){this.DB=e}setUrl(e){this.url=e}setPath(e){this.path=e}setOrderStr(e){this.orderStr=e}async generateQueary(e,t,n){let i=e.where.map(h=>{if(h.attribute!==void 0)return U0(h.attribute,h.type||"==",h.val)}).filter(h=>h!==void 0);n&&i.push(U0("owner","==",n)),t=t||this.path;let a=[...i],u=e.order||this.orderStr;return u!=="noOrder"&&u!==void 0&&a.push(lk(u)),e.limit&&a.push(ck(e.limit)),uk(WI(...t),...a)}}class j3{constructor(e,t,n,i,a){he(this,"urlEndpoint","");he(this,"dispatch");he(this,"componentList");he(this,"userStr","flinnappsUser");he(this,"QuearyGenerator");he(this,"DB");he(this,"storage");he(this,"auth");he(this,"userEmail");he(this,"path",[]);he(this,"postObserver",new li);he(this,"dispatchObserver",new li);he(this,"readObserver",new li);wn.bind(this),this.urlEndpoint=e,this.DB=t,this.storage=n,this.auth=i,this.dispatch=a,this.path=[this.DB,`${this.urlEndpoint}users`,`${this.urlEndpoint}APP`,"components"],this.QuearyGenerator=new M3(this.DB,this.urlEndpoint)}setAuth(e){this.auth=e}setStorage(e){this.storage=e}setPath(e){this.path=e}setDB(e){this.DB=e,this.QuearyGenerator.setDB(e)}setDispatch(e){this.dispatch=e}setComponentList(e){this.componentList=e}setUserStr(e){this.userStr=e,this.QuearyGenerator.setUrl(e)}getPostObserver(){return this.postObserver}setPostObserver(e){this.postObserver=e}subscribeToPostObserver(e){this.postObserver.subscribe(e)}getReadObserver(){return this.readObserver}setReadObserver(e){this.readObserver=e}subscribeToReadObserver(e){this.readObserver.subscribe(e)}getPath(){return this.path}getDispatchObserver(){return this.dispatchObserver}setDispatchObserver(e){this.dispatchObserver=e}subscribeToDispatchObserver(e){this.dispatchObserver.subscribe(e)}getQueryGenerator(){return this.QuearyGenerator}setQueryGenerator(e){this.QuearyGenerator=e}async login(e,t){let n,i;if(await a_(this.auth,e,t).then(a=>{n=a.user}).catch(a=>{const u=a.message;i={error:u.slice(9,u.length-1)},console.log(i)}),n){let a=n;this.dispatch({login:!0}),await localStorage.setItem(this.userStr,JSON.stringify(a)),this.componentList!==void 0&&this.dispatch!==void 0&&(n=await this.getuser(e))}else n=i;return n}async register(e,t,n){let i;return await jP(this.auth,e,t).then(a=>{i=a.user}).catch(a=>{a.code;let u=a.message,c=u.length-1;i={error:u.slice(9,c)}}),i.error||(this.userEmail=i.email,localStorage.setItem(this.userStr,JSON.stringify(i))),i}async logout(){await localStorage.clear(),localStorage.setItem(this.userStr,void 0);let e;await qd(this.auth,t=>{t&&(e=t.uid)}),e&&await u_(this.auth),await localStorage.setItem(this.userStr,null),window.location.href="/"}sendForgotPasswordChange(e){const t=Oc();MP(t,e).then(()=>{}).catch(n=>{n.code,n.message})}async checkIfLoggedIn(){return new Promise((e,t)=>{qd(this.auth,async n=>{if(n)e(n);else{await localStorage.setItem(this.userStr,null),await localStorage.clear(),localStorage.setItem(this.userStr,void 0);let i;await qd(this.auth,a=>{a&&(i=a.uid)}),i&&await u_(this.auth),await window.location.reload()}})})}async getCurrentUser(){let e=await localStorage.getItem(this.userStr);return e=await JSON.parse(e),e}async setCurrentUser(e){await localStorage.setItem(this.userStr,JSON.stringify(e))}async loginToDel(e,t){await a_(this.auth,e,t).then(n=>{}).catch(n=>{n.code,n.message})}async delAccount(){const t=Oc().currentUser;await HP(t).then(()=>{}).catch(n=>{})}async notify(e,t){fetch(t,{method:"POST",mode:"no-cors",body:JSON.stringify(e),headers:{"Conent-Type":"application/json"}})}async changePassword(e){const n=Oc().currentUser;return await qP(n,e).then(()=>{}).catch(a=>{}),!0}async firebaseGetterSnapshot(e,t,n){n=n===!0?this.userEmail:void 0;let i=await this.QuearyGenerator.generateQueary(e,t,n),a=[];return await vk(i,async u=>{a=await this.getRawData(u)}),a}async firebaseGetter(e,t,n){n=n===!0?this.userEmail:void 0;let i=await this.QuearyGenerator.generateQueary(e,t,n),a=await mk(i);return await this.getRawData(a)}async getRawData(e){let t=[];for(const i in e.docs){let a=e.docs[i].data();t.push(a)}let n=await this.componentList.addComponents(t,!0);return this.dispatch&&await this.dispatch({snapShot:{dataRetrieved:n}}),this.readObserver.run(n,t),n}async getCount(e,t,n){n=n===!0?this.userEmail:void 0;let i=await this.QuearyGenerator.generateQueary(e,t,n);return(await wk(i)).data().count}async getuser(e){this.userEmail=e;let t=await this.componentList.getComponentFromBackend({type:"user",ids:e});return t&&this.dispatch({currentUser:t,email:e,gotUser:!0}),t}async GetAllData(e,t){t=t||[this.db,this.urlEndpoint+"users"],this.firebaseGetter(e,t)}async uploadPics(e,t){const n=Md(this.storage,t);await RR(n,e).then(i=>{console.log("Uploaded a file!")})}async downloadPics(e){let t;return await PR(Md(this.storage,e)).then(n=>{t=n}),t}deletePics(e){const t=Md(this.storage,e);OR(t).then(()=>{}).catch(n=>{})}prep(e){return e=Array.isArray(e)?e:[e],e=e.map(t=>{let n=t;return t.getJson&&(n=t.getJson()),n}),e=e.filter(t=>t!==void 0),e}async add(e,t,n,i){return e=await e.map(a=>((a.getJson().owner===""||a.getJson().owner===void 0)&&a.setCompState({owner:this.userEmail}),a)),await this.operate(e,gk,t,n||"added",i||"date")}async update(e,t,n,i){return await this.operate(e,yk,t,i||"updated",n||"lastUpdated")}async del(e,t,n){return await this.operate(e,G0,t,n||"deleted")}async operate(e,t,n,i,a){try{e=await this.prep(e),n=n||this.path;for(let u of e){a&&(u[a]=await Ak()),await this.postObserver.run([u]);let c=[KI(...n,u._id)];t!==G0&&c.push(u),await t(...c)}return this.dispatch&&this.dispatch({[i]:e,dispatchComplete:!0}),this.dispatchObserver.run([{[i]:e}]),e}catch(u){console.log(u),console.error(e,"something went wrong with this operation")}}}class q3{constructor(e,t,n,i,a){he(this,"factory");he(this,"updater");he(this,"operationsFactory");he(this,"dispatch");he(this,"APIService");wn.bind(this),this.dispatch=e,this.getFactory(),this.getAPIService(t,n,i,a,e)}getFactory(){return this.factory===void 0&&(this.factory=new L3(this)),this.factory}getAPIService(e,t,n,i,a){return this.APIService===void 0&&(this.APIService=new j3(e,t,n,i,a)),this.APIService}createComponentList(){return new B3(this)}getOperationsFactory(){return this.operationsFactory===void 0&&(this.operationsFactory=new T_(this),this.factory.setOperationsFactory(this.operationsFactory)),this.operationsFactory}getNewOperationsFactory(){return new T_(this)}}class Bu extends ot{constructor(e){super(e),this.domList=["a","button","div","h1","h2","h3","h4","h5","h6","img","input","p","span","table","tr","td","th","ul","li","ol","form","textarea","select","option","label","nav","footer","header","article","section","aside","main","video","audio","iframe","canvas"],this.state={...this.state,wrapperClass:"FCWrapper",formClass:"FCInputForm",labelClass:"defaultLabel",errorClass:"defaultErrorMessage",interface:"form"}}setObj(){var e,t;if(!this.props.prepareOnClick){let n=this.props.obj||(this.props.inPopup?(e=this.propsState)==null?void 0:e.currentPopupComponent:(t=this.propsState)==null?void 0:t.currentComponent);this.obj=this.isArray(n)}}preSetup(){this.setComponents(["wrapper","form","label","error"])}getInnerContent(){return this.innerContent=[this.props.label&&this.label.getHtml(),this.getFormHtml(),this.props.errorText&&this.error.getHtml()],this.innerContent}getHtml(){this.mapInnerContent();let e=this.wrapper.getHtml({type:"div",content:this.innerContent});return this.html=k.jsx(k.Fragment,{children:e}),this.html}getFormHtml(){return this.getInputProps(this.props.type||"input"),this.additionalPropsSetup(),this.form.getHtml({type:this.props.type?this.props.type:"input",content:this.content,props:this.inputProps})}additionalPropsSetup(){}handleChange(e){let{name:t,value:n}=e.target;for(let i of this.obj){if(this.props.isPropArray){let a=i.getJson()[this.props.name]||[];Array.isArray(a)||(a=[a]),Array.isArray(a[0])||(a[0]=[a[0]]),a[0]=n,n=a}i.setCompState({[this.props.name]:n})}this.afterChange(e)}afterChange(e){if(this.props.update)for(let t of this.obj){let n=this.props.update===!0?void 0:{...this.props.update};t==null||t.update(n)}this.props.sendUpdate&&this.props.app&&this.app.dispatch({formUpdate:this.props.type}),this.props.callbackFunc&&this.props.callbackFunc(this.obj),this.additionalChanges(e),this.setState({})}additionalChanges(e){}async prepareOnClick(){var e;if(this.props.prepareOnClick&&this.props.app){let t=this.props.obj;t&&(t=this.isArray(t)),t=await((e=this.props.app)==null?void 0:e.state.componentList.getOperationsFactory().prepare({...t})),t&&(t=this.isArray(t)),this.obj=t}}objDispatch(e){for(let t of this.obj)t.setCompState({[this.props.name]:e});this.afterChange()}handleChangeWithoutEvent(e){for(let t in this.obj)t.setCompState({[e.name]:e.value});this.afterChange()}getInputProps(e){var t;return this.inputProps={onChange:this.props.handleChange?n=>{this.props.handleChange(n,this.obj)}:this.handleChange,value:this.obj[0]?(t=this.obj[0])==null?void 0:t.getJson()[this.props.name]:this.props.value,type:this.props.inputType||this.props.type,onFocus:this.props.onFocus||this.onFocus,placeholder:this.props.placeholder,name:this.props.name,min:this.props.min,max:this.props.max,cols:this.props.cols||"",rows:this.props.rows||5,resize:this.props.resize||"true",autoComplete:this.props.autoComplete?this.props.autoComplete:"off",id:this.props.id,checked:this.props.checked,spellCheck:this.props.type==="password"||this.props.spellCheck===void 0?!1:this.props.spellCheck,minLength:this.props.minLength,maxLength:this.props.maxLength},this.domList.includes(e)||(this.inputProps.handleChangeWithoutEvent=this.props.update?()=>{console.log("")}:this.props.handleChangeWithoutEvent?this.props.handleChangeWithoutEvent:this.handleChangeWithoutEvent,this.inputProps.selectOptions=this.props.selectOptions,this.inputProps.textOptions=this.props.textOptions,this.inputProps.unit=this.props.unit?this.props.unit:"$",this.inputProps.tickClass=this.props.tickClass,this.inputProps.handleHTMLChange=this.props.handleHTMLChange||this.objDispatch,this.inputProps.doesMath=this.props.doesMath,this.inputProps.objDispatch=this.objDispatch,this.inputProps.emitClickedOutside=this.props.emitClickedOutside,this.inputProps.updateOnClickOutside=this.props.updateOnClickOutside),this.props.required&&(this.inputProps.required=!0),this.props.disabled&&(this.inputProps.disabled=!0),this.inputProps}}class ps extends Bu{constructor(e){super(e),this.state.formClass="FCDefaultButton"}buttonClick(){this.props.buttonClick?this.props.buttonClick(this.obj):this.buttonClickFunc(),this.props.callbackFunc&&this.props.callbackFunc(this.obj)}buttonClickFunc(){}additionalSetup(){this.form.setOnClick(this.buttonClick)}getFormHtml(){return this.form.setStyle({cursor:"pointer"}),this.content=this.props.content||this.content||k.jsx(k.Fragment,{children:"button"}),this.form.getHtml({type:"div",content:this.content})}}let TC=class{constructor(){he(this,"FCInputForm","defaultInputForm");he(this,"FCWrapper","defaultWrapper");he(this,"FCError","defaultErrorMessage");he(this,"FCLabel","defaultLabel");he(this,"FCDefaultButton","defaultButton");he(this,"FCDefaultDelButton","delButton");he(this,"FCImgButton","imgButton")}};const V3=Object.freeze(Object.defineProperty({__proto__:null,DefaultRegistry:TC},Symbol.toStringTag,{value:"Module"}));class ay{constructor(e){he(this,"factory",{});wn.bind(this),e&&(this.registry=e,this.registerListWithFactory())}registerListWithFactory(){for(const e in this.registry)if(Object.prototype.hasOwnProperty.call(this.registry,e)){const t=e.charAt(0).toLowerCase()+e.slice(1);this.factory[t]=this.registry[e]}}getComponent(e){let t;return this.factory[e]&&(t=new this.factory[e]),t}registerComponent(e,t){this.factory[e]=t}}let U3=class extends ay{constructor(){super(V3),this.factory.default=TC}};class SC{constructor(){he(this,"factory",{})}getComponent(e,t){let n;return this.factory[e]&&(n=this.factory[e]),k.jsx(n,{...t})}registerComponent(e,t){this.factory[e]=t}}class z3 extends ps{buttonClickFunc(){let e=this.props.add;this.componentList.addComponents(e)}}class H3{constructor(){wn.bind(this)}doMath(e){e=e.replace(/\s+/g,"");const t=/(\d+)([+\-*/])(\d+)/,n=e.match(t);if(!n)throw new Error("Invalid input");const i=parseFloat(n[1]),a=n[2],u=parseFloat(n[3]);return{"+":i+u,"-":i-u,"*":i*u,"/":i/u}[a]}}let G3=new H3;class $3 extends Bu{constructor(e){super(e)}componentDidMount(){document.addEventListener("keyup",this.doMath)}componentWillUnmount(){document.removeEventListener("keyup",this.doMath)}additionalChanges(e){let{name:t,value:n}=e.target;this.setState({val:n})}async doMath(e){if(e.key==="Enter"&&this.state.val!==void 0){let t=this.obj[0],n=await G3.doMath(this.state.val).toString();await t.setCompState({[this.props.name]:n}),t.update(),await this.setState({val:void 0})}}}let W3=class extends ps{async buttonClickFunc(){let e=this.obj,t=e.type;this.props.popupSwitch.includes("add")&&(e=e[0]?e[0]:{type:this.getFactoryTypeString(this.props.popupSwitch.slice(3))},e={prepare:{...e},amount:this.props.amount,clean:this.props.clean},e=await this.operationsFactory.prepare(e),e.length===1&&(e=e[0],t=e.getJson().type)),Array.isArray(e)&&e.length===1&&(e=e[0]);let n=this.props.setCurrnetItem&&{["current"+this.getCapitalFirstLetter(t)]:e},i={popupSwitch:this.props.popupSwitch,currentPopupComponent:e,...n};await this.dispatch({...i})}},K3=class extends ps{buttonClickFunc(){for(let e of this.obj)e.update(this.props.updateParams);this.props.isPopup&&this.dispatch({popupSwitch:"",currentPopupComponent:void 0})}},J3=class extends ps{buttonClickFunc(){let e=this.operationsFactory.addToComponentList(this.props.skipBackendUpdate),t=this.props.setCurrnetItem&&{["current"+this.getCapitalFirstLetter(e[0].getJson().type)]:e[0]},n={};this.props.isPopup&&(n={popupSwitch:"",currentPopupComponent:void 0}),this.dispatch({...n,...t})}};var Hd,S_;function Q3(){if(S_)return Hd;S_=1;function r(){this.__data__=[],this.size=0}return Hd=r,Hd}var Gd,D_;function DC(){if(D_)return Gd;D_=1;function r(e,t){return e===t||e!==e&&t!==t}return Gd=r,Gd}var $d,x_;function Mh(){if(x_)return $d;x_=1;var r=DC();function e(t,n){for(var i=t.length;i--;)if(r(t[i][0],n))return i;return-1}return $d=e,$d}var Wd,I_;function Y3(){if(I_)return Wd;I_=1;var r=Mh(),e=Array.prototype,t=e.splice;function n(i){var a=this.__data__,u=r(a,i);if(u<0)return!1;var c=a.length-1;return u==c?a.pop():t.call(a,u,1),--this.size,!0}return Wd=n,Wd}var Kd,k_;function Z3(){if(k_)return Kd;k_=1;var r=Mh();function e(t){var n=this.__data__,i=r(n,t);return i<0?void 0:n[i][1]}return Kd=e,Kd}var Jd,R_;function X3(){if(R_)return Jd;R_=1;var r=Mh();function e(t){return r(this.__data__,t)>-1}return Jd=e,Jd}var Qd,P_;function eL(){if(P_)return Qd;P_=1;var r=Mh();function e(t,n){var i=this.__data__,a=r(i,t);return a<0?(++this.size,i.push([t,n])):i[a][1]=n,this}return Qd=e,Qd}var Yd,O_;function jh(){if(O_)return Yd;O_=1;var r=Q3(),e=Y3(),t=Z3(),n=X3(),i=eL();function a(u){var c=-1,h=u==null?0:u.length;for(this.clear();++c<h;){var d=u[c];this.set(d[0],d[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,Yd=a,Yd}var Zd,N_;function tL(){if(N_)return Zd;N_=1;var r=jh();function e(){this.__data__=new r,this.size=0}return Zd=e,Zd}var Xd,L_;function nL(){if(L_)return Xd;L_=1;function r(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return Xd=r,Xd}var ep,F_;function rL(){if(F_)return ep;F_=1;function r(e){return this.__data__.get(e)}return ep=r,ep}var tp,B_;function iL(){if(B_)return tp;B_=1;function r(e){return this.__data__.has(e)}return tp=r,tp}var np,M_;function xC(){if(M_)return np;M_=1;var r=typeof Wo=="object"&&Wo&&Wo.Object===Object&&Wo;return np=r,np}var rp,j_;function _i(){if(j_)return rp;j_=1;var r=xC(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return rp=t,rp}var ip,q_;function uy(){if(q_)return ip;q_=1;var r=_i(),e=r.Symbol;return ip=e,ip}var sp,V_;function sL(){if(V_)return sp;V_=1;var r=uy(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,i=r?r.toStringTag:void 0;function a(u){var c=t.call(u,i),h=u[i];try{u[i]=void 0;var d=!0}catch{}var y=n.call(u);return d&&(c?u[i]=h:delete u[i]),y}return sp=a,sp}var op,U_;function oL(){if(U_)return op;U_=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return op=t,op}var ap,z_;function qh(){if(z_)return ap;z_=1;var r=uy(),e=sL(),t=oL(),n="[object Null]",i="[object Undefined]",a=r?r.toStringTag:void 0;function u(c){return c==null?c===void 0?i:n:a&&a in Object(c)?e(c):t(c)}return ap=u,ap}var up,H_;function IC(){if(H_)return up;H_=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return up=r,up}var lp,G_;function kC(){if(G_)return lp;G_=1;var r=qh(),e=IC(),t="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function u(c){if(!e(c))return!1;var h=r(c);return h==n||h==i||h==t||h==a}return lp=u,lp}var cp,$_;function aL(){if($_)return cp;$_=1;var r=_i(),e=r["__core-js_shared__"];return cp=e,cp}var hp,W_;function uL(){if(W_)return hp;W_=1;var r=aL(),e=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!e&&e in n}return hp=t,hp}var fp,K_;function RC(){if(K_)return fp;K_=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return fp=t,fp}var dp,J_;function lL(){if(J_)return dp;J_=1;var r=kC(),e=uL(),t=IC(),n=RC(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,h=u.toString,d=c.hasOwnProperty,y=RegExp("^"+h.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(p){if(!t(p)||e(p))return!1;var v=r(p)?y:a;return v.test(n(p))}return dp=g,dp}var pp,Q_;function cL(){if(Q_)return pp;Q_=1;function r(e,t){return e==null?void 0:e[t]}return pp=r,pp}var mp,Y_;function va(){if(Y_)return mp;Y_=1;var r=lL(),e=cL();function t(n,i){var a=e(n,i);return r(a)?a:void 0}return mp=t,mp}var gp,Z_;function ly(){if(Z_)return gp;Z_=1;var r=va(),e=_i(),t=r(e,"Map");return gp=t,gp}var yp,X_;function Vh(){if(X_)return yp;X_=1;var r=va(),e=r(Object,"create");return yp=e,yp}var vp,e1;function hL(){if(e1)return vp;e1=1;var r=Vh();function e(){this.__data__=r?r(null):{},this.size=0}return vp=e,vp}var _p,t1;function fL(){if(t1)return _p;t1=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return _p=r,_p}var wp,n1;function dL(){if(n1)return wp;n1=1;var r=Vh(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function i(a){var u=this.__data__;if(r){var c=u[a];return c===e?void 0:c}return n.call(u,a)?u[a]:void 0}return wp=i,wp}var Ep,r1;function pL(){if(r1)return Ep;r1=1;var r=Vh(),e=Object.prototype,t=e.hasOwnProperty;function n(i){var a=this.__data__;return r?a[i]!==void 0:t.call(a,i)}return Ep=n,Ep}var Ap,i1;function mL(){if(i1)return Ap;i1=1;var r=Vh(),e="__lodash_hash_undefined__";function t(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&i===void 0?e:i,this}return Ap=t,Ap}var Cp,s1;function gL(){if(s1)return Cp;s1=1;var r=hL(),e=fL(),t=dL(),n=pL(),i=mL();function a(u){var c=-1,h=u==null?0:u.length;for(this.clear();++c<h;){var d=u[c];this.set(d[0],d[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,Cp=a,Cp}var bp,o1;function yL(){if(o1)return bp;o1=1;var r=gL(),e=jh(),t=ly();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return bp=n,bp}var Tp,a1;function vL(){if(a1)return Tp;a1=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Tp=r,Tp}var Sp,u1;function Uh(){if(u1)return Sp;u1=1;var r=vL();function e(t,n){var i=t.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Sp=e,Sp}var Dp,l1;function _L(){if(l1)return Dp;l1=1;var r=Uh();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return Dp=e,Dp}var xp,c1;function wL(){if(c1)return xp;c1=1;var r=Uh();function e(t){return r(this,t).get(t)}return xp=e,xp}var Ip,h1;function EL(){if(h1)return Ip;h1=1;var r=Uh();function e(t){return r(this,t).has(t)}return Ip=e,Ip}var kp,f1;function AL(){if(f1)return kp;f1=1;var r=Uh();function e(t,n){var i=r(this,t),a=i.size;return i.set(t,n),this.size+=i.size==a?0:1,this}return kp=e,kp}var Rp,d1;function PC(){if(d1)return Rp;d1=1;var r=yL(),e=_L(),t=wL(),n=EL(),i=AL();function a(u){var c=-1,h=u==null?0:u.length;for(this.clear();++c<h;){var d=u[c];this.set(d[0],d[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,Rp=a,Rp}var Pp,p1;function CL(){if(p1)return Pp;p1=1;var r=jh(),e=ly(),t=PC(),n=200;function i(a,u){var c=this.__data__;if(c instanceof r){var h=c.__data__;if(!e||h.length<n-1)return h.push([a,u]),this.size=++c.size,this;c=this.__data__=new t(h)}return c.set(a,u),this.size=c.size,this}return Pp=i,Pp}var Op,m1;function bL(){if(m1)return Op;m1=1;var r=jh(),e=tL(),t=nL(),n=rL(),i=iL(),a=CL();function u(c){var h=this.__data__=new r(c);this.size=h.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=n,u.prototype.has=i,u.prototype.set=a,Op=u,Op}var Np,g1;function TL(){if(g1)return Np;g1=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return Np=e,Np}var Lp,y1;function SL(){if(y1)return Lp;y1=1;function r(e){return this.__data__.has(e)}return Lp=r,Lp}var Fp,v1;function DL(){if(v1)return Fp;v1=1;var r=PC(),e=TL(),t=SL();function n(i){var a=-1,u=i==null?0:i.length;for(this.__data__=new r;++a<u;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,Fp=n,Fp}var Bp,_1;function xL(){if(_1)return Bp;_1=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}return Bp=r,Bp}var Mp,w1;function IL(){if(w1)return Mp;w1=1;function r(e,t){return e.has(t)}return Mp=r,Mp}var jp,E1;function OC(){if(E1)return jp;E1=1;var r=DL(),e=xL(),t=IL(),n=1,i=2;function a(u,c,h,d,y,g){var p=h&n,v=u.length,A=c.length;if(v!=A&&!(p&&A>v))return!1;var C=g.get(u),w=g.get(c);if(C&&w)return C==c&&w==u;var E=-1,S=!0,O=h&i?new r:void 0;for(g.set(u,c),g.set(c,u);++E<v;){var b=u[E],M=c[E];if(d)var q=p?d(M,b,E,c,u,g):d(b,M,E,u,c,g);if(q!==void 0){if(q)continue;S=!1;break}if(O){if(!e(c,function(R,_){if(!t(O,_)&&(b===R||y(b,R,h,d,g)))return O.push(_)})){S=!1;break}}else if(!(b===M||y(b,M,h,d,g))){S=!1;break}}return g.delete(u),g.delete(c),S}return jp=a,jp}var qp,A1;function kL(){if(A1)return qp;A1=1;var r=_i(),e=r.Uint8Array;return qp=e,qp}var Vp,C1;function RL(){if(C1)return Vp;C1=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i,a){n[++t]=[a,i]}),n}return Vp=r,Vp}var Up,b1;function PL(){if(b1)return Up;b1=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}return Up=r,Up}var zp,T1;function OL(){if(T1)return zp;T1=1;var r=uy(),e=kL(),t=DC(),n=OC(),i=RL(),a=PL(),u=1,c=2,h="[object Boolean]",d="[object Date]",y="[object Error]",g="[object Map]",p="[object Number]",v="[object RegExp]",A="[object Set]",C="[object String]",w="[object Symbol]",E="[object ArrayBuffer]",S="[object DataView]",O=r?r.prototype:void 0,b=O?O.valueOf:void 0;function M(q,R,_,D,x,I,P){switch(_){case S:if(q.byteLength!=R.byteLength||q.byteOffset!=R.byteOffset)return!1;q=q.buffer,R=R.buffer;case E:return!(q.byteLength!=R.byteLength||!I(new e(q),new e(R)));case h:case d:case p:return t(+q,+R);case y:return q.name==R.name&&q.message==R.message;case v:case C:return q==R+"";case g:var N=i;case A:var W=D&u;if(N||(N=a),q.size!=R.size&&!W)return!1;var J=P.get(q);if(J)return J==R;D|=c,P.set(q,R);var se=n(N(q),N(R),D,x,I,P);return P.delete(q),se;case w:if(b)return b.call(q)==b.call(R)}return!1}return zp=M,zp}var Hp,S1;function NL(){if(S1)return Hp;S1=1;function r(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}return Hp=r,Hp}var Gp,D1;function cy(){if(D1)return Gp;D1=1;var r=Array.isArray;return Gp=r,Gp}var $p,x1;function LL(){if(x1)return $p;x1=1;var r=NL(),e=cy();function t(n,i,a){var u=i(n);return e(n)?u:r(u,a(n))}return $p=t,$p}var Wp,I1;function FL(){if(I1)return Wp;I1=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,a=0,u=[];++n<i;){var c=e[n];t(c,n,e)&&(u[a++]=c)}return u}return Wp=r,Wp}var Kp,k1;function BL(){if(k1)return Kp;k1=1;function r(){return[]}return Kp=r,Kp}var Jp,R1;function ML(){if(R1)return Jp;R1=1;var r=FL(),e=BL(),t=Object.prototype,n=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(u){return u==null?[]:(u=Object(u),r(i(u),function(c){return n.call(u,c)}))}:e;return Jp=a,Jp}var Qp,P1;function jL(){if(P1)return Qp;P1=1;function r(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}return Qp=r,Qp}var Yp,O1;function zh(){if(O1)return Yp;O1=1;function r(e){return e!=null&&typeof e=="object"}return Yp=r,Yp}var Zp,N1;function qL(){if(N1)return Zp;N1=1;var r=qh(),e=zh(),t="[object Arguments]";function n(i){return e(i)&&r(i)==t}return Zp=n,Zp}var Xp,L1;function VL(){if(L1)return Xp;L1=1;var r=qL(),e=zh(),t=Object.prototype,n=t.hasOwnProperty,i=t.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(u){return e(u)&&n.call(u,"callee")&&!i.call(u,"callee")};return Xp=a,Xp}var yu={exports:{}},em,F1;function UL(){if(F1)return em;F1=1;function r(){return!1}return em=r,em}yu.exports;var B1;function NC(){return B1||(B1=1,function(r,e){var t=_i(),n=UL(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,u=a&&a.exports===i,c=u?t.Buffer:void 0,h=c?c.isBuffer:void 0,d=h||n;r.exports=d}(yu,yu.exports)),yu.exports}var tm,M1;function zL(){if(M1)return tm;M1=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,i){var a=typeof n;return i=i??r,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return tm=t,tm}var nm,j1;function LC(){if(j1)return nm;j1=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return nm=e,nm}var rm,q1;function HL(){if(q1)return rm;q1=1;var r=qh(),e=LC(),t=zh(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",h="[object Function]",d="[object Map]",y="[object Number]",g="[object Object]",p="[object RegExp]",v="[object Set]",A="[object String]",C="[object WeakMap]",w="[object ArrayBuffer]",E="[object DataView]",S="[object Float32Array]",O="[object Float64Array]",b="[object Int8Array]",M="[object Int16Array]",q="[object Int32Array]",R="[object Uint8Array]",_="[object Uint8ClampedArray]",D="[object Uint16Array]",x="[object Uint32Array]",I={};I[S]=I[O]=I[b]=I[M]=I[q]=I[R]=I[_]=I[D]=I[x]=!0,I[n]=I[i]=I[w]=I[a]=I[E]=I[u]=I[c]=I[h]=I[d]=I[y]=I[g]=I[p]=I[v]=I[A]=I[C]=!1;function P(N){return t(N)&&e(N.length)&&!!I[r(N)]}return rm=P,rm}var im,V1;function GL(){if(V1)return im;V1=1;function r(e){return function(t){return e(t)}}return im=r,im}var vu={exports:{}};vu.exports;var U1;function $L(){return U1||(U1=1,function(r,e){var t=xC(),n=e&&!e.nodeType&&e,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,u=a&&t.process,c=function(){try{var h=i&&i.require&&i.require("util").types;return h||u&&u.binding&&u.binding("util")}catch{}}();r.exports=c}(vu,vu.exports)),vu.exports}var sm,z1;function FC(){if(z1)return sm;z1=1;var r=HL(),e=GL(),t=$L(),n=t&&t.isTypedArray,i=n?e(n):r;return sm=i,sm}var om,H1;function WL(){if(H1)return om;H1=1;var r=jL(),e=VL(),t=cy(),n=NC(),i=zL(),a=FC(),u=Object.prototype,c=u.hasOwnProperty;function h(d,y){var g=t(d),p=!g&&e(d),v=!g&&!p&&n(d),A=!g&&!p&&!v&&a(d),C=g||p||v||A,w=C?r(d.length,String):[],E=w.length;for(var S in d)(y||c.call(d,S))&&!(C&&(S=="length"||v&&(S=="offset"||S=="parent")||A&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,E)))&&w.push(S);return w}return om=h,om}var am,G1;function KL(){if(G1)return am;G1=1;var r=Object.prototype;function e(t){var n=t&&t.constructor,i=typeof n=="function"&&n.prototype||r;return t===i}return am=e,am}var um,$1;function JL(){if($1)return um;$1=1;function r(e,t){return function(n){return e(t(n))}}return um=r,um}var lm,W1;function QL(){if(W1)return lm;W1=1;var r=JL(),e=r(Object.keys,Object);return lm=e,lm}var cm,K1;function YL(){if(K1)return cm;K1=1;var r=KL(),e=QL(),t=Object.prototype,n=t.hasOwnProperty;function i(a){if(!r(a))return e(a);var u=[];for(var c in Object(a))n.call(a,c)&&c!="constructor"&&u.push(c);return u}return cm=i,cm}var hm,J1;function ZL(){if(J1)return hm;J1=1;var r=kC(),e=LC();function t(n){return n!=null&&e(n.length)&&!r(n)}return hm=t,hm}var fm,Q1;function XL(){if(Q1)return fm;Q1=1;var r=WL(),e=YL(),t=ZL();function n(i){return t(i)?r(i):e(i)}return fm=n,fm}var dm,Y1;function e5(){if(Y1)return dm;Y1=1;var r=LL(),e=ML(),t=XL();function n(i){return r(i,t,e)}return dm=n,dm}var pm,Z1;function t5(){if(Z1)return pm;Z1=1;var r=e5(),e=1,t=Object.prototype,n=t.hasOwnProperty;function i(a,u,c,h,d,y){var g=c&e,p=r(a),v=p.length,A=r(u),C=A.length;if(v!=C&&!g)return!1;for(var w=v;w--;){var E=p[w];if(!(g?E in u:n.call(u,E)))return!1}var S=y.get(a),O=y.get(u);if(S&&O)return S==u&&O==a;var b=!0;y.set(a,u),y.set(u,a);for(var M=g;++w<v;){E=p[w];var q=a[E],R=u[E];if(h)var _=g?h(R,q,E,u,a,y):h(q,R,E,a,u,y);if(!(_===void 0?q===R||d(q,R,c,h,y):_)){b=!1;break}M||(M=E=="constructor")}if(b&&!M){var D=a.constructor,x=u.constructor;D!=x&&"constructor"in a&&"constructor"in u&&!(typeof D=="function"&&D instanceof D&&typeof x=="function"&&x instanceof x)&&(b=!1)}return y.delete(a),y.delete(u),b}return pm=i,pm}var mm,X1;function n5(){if(X1)return mm;X1=1;var r=va(),e=_i(),t=r(e,"DataView");return mm=t,mm}var gm,ew;function r5(){if(ew)return gm;ew=1;var r=va(),e=_i(),t=r(e,"Promise");return gm=t,gm}var ym,tw;function i5(){if(tw)return ym;tw=1;var r=va(),e=_i(),t=r(e,"Set");return ym=t,ym}var vm,nw;function s5(){if(nw)return vm;nw=1;var r=va(),e=_i(),t=r(e,"WeakMap");return vm=t,vm}var _m,rw;function o5(){if(rw)return _m;rw=1;var r=n5(),e=ly(),t=r5(),n=i5(),i=s5(),a=qh(),u=RC(),c="[object Map]",h="[object Object]",d="[object Promise]",y="[object Set]",g="[object WeakMap]",p="[object DataView]",v=u(r),A=u(e),C=u(t),w=u(n),E=u(i),S=a;return(r&&S(new r(new ArrayBuffer(1)))!=p||e&&S(new e)!=c||t&&S(t.resolve())!=d||n&&S(new n)!=y||i&&S(new i)!=g)&&(S=function(O){var b=a(O),M=b==h?O.constructor:void 0,q=M?u(M):"";if(q)switch(q){case v:return p;case A:return c;case C:return d;case w:return y;case E:return g}return b}),_m=S,_m}var wm,iw;function a5(){if(iw)return wm;iw=1;var r=bL(),e=OC(),t=OL(),n=t5(),i=o5(),a=cy(),u=NC(),c=FC(),h=1,d="[object Arguments]",y="[object Array]",g="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function A(C,w,E,S,O,b){var M=a(C),q=a(w),R=M?y:i(C),_=q?y:i(w);R=R==d?g:R,_=_==d?g:_;var D=R==g,x=_==g,I=R==_;if(I&&u(C)){if(!u(w))return!1;M=!0,D=!1}if(I&&!D)return b||(b=new r),M||c(C)?e(C,w,E,S,O,b):t(C,w,R,E,S,O,b);if(!(E&h)){var P=D&&v.call(C,"__wrapped__"),N=x&&v.call(w,"__wrapped__");if(P||N){var W=P?C.value():C,J=N?w.value():w;return b||(b=new r),O(W,J,E,S,b)}}return I?(b||(b=new r),n(C,w,E,S,O,b)):!1}return wm=A,wm}var Em,sw;function u5(){if(sw)return Em;sw=1;var r=a5(),e=zh();function t(n,i,a,u,c){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:r(n,i,a,u,t,c)}return Em=t,Em}var Am,ow;function l5(){if(ow)return Am;ow=1;var r=u5();function e(t,n){return r(t,n)}return Am=e,Am}var Fc={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var c5=Fc.exports,aw;function h5(){return aw||(aw=1,function(r,e){(function(n,i){r.exports=i()})(typeof self<"u"?self:c5,function(){return function(t){var n={};function i(a){if(n[a])return n[a].exports;var u=n[a]={i:a,l:!1,exports:{}};return t[a].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=t,i.c=n,i.d=function(a,u,c){i.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:c})},i.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(u,"a",u),u},i.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},i.p="",i(i.s=109)}([function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),u=i(18),c=i(19),h=i(45),d=i(46),y=i(47),g=i(48),p=i(49),v=i(12),A=i(32),C=i(33),w=i(31),E=i(1),S={Scope:E.Scope,create:E.create,find:E.find,query:E.query,register:E.register,Container:a.default,Format:u.default,Leaf:c.default,Embed:g.default,Scroll:h.default,Block:y.default,Inline:d.default,Text:p.default,Attributor:{Attribute:v.default,Class:A.default,Style:C.default,Store:w.default}};n.default=S},function(t,n,i){var a=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,S){E.__proto__=S}||function(E,S){for(var O in S)S.hasOwnProperty(O)&&(E[O]=S[O])};return function(E,S){w(E,S);function O(){this.constructor=E}E.prototype=S===null?Object.create(S):(O.prototype=S.prototype,new O)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=function(w){a(E,w);function E(S){var O=this;return S="[Parchment] "+S,O=w.call(this,S)||this,O.message=S,O.name=O.constructor.name,O}return E}(Error);n.ParchmentError=u;var c={},h={},d={},y={};n.DATA_KEY="__blot";var g;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(g=n.Scope||(n.Scope={}));function p(w,E){var S=A(w);if(S==null)throw new u("Unable to create "+w+" blot");var O=S,b=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:O.create(E);return new O(b,E)}n.create=p;function v(w,E){return E===void 0&&(E=!1),w==null?null:w[n.DATA_KEY]!=null?w[n.DATA_KEY].blot:E?v(w.parentNode,E):null}n.find=v;function A(w,E){E===void 0&&(E=g.ANY);var S;if(typeof w=="string")S=y[w]||c[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)S=y.text;else if(typeof w=="number")w&g.LEVEL&g.BLOCK?S=y.block:w&g.LEVEL&g.INLINE&&(S=y.inline);else if(w instanceof HTMLElement){var O=(w.getAttribute("class")||"").split(/\s+/);for(var b in O)if(S=h[O[b]],S)break;S=S||d[w.tagName]}return S==null?null:E&g.LEVEL&S.scope&&E&g.TYPE&S.scope?S:null}n.query=A;function C(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];if(w.length>1)return w.map(function(b){return C(b)});var S=w[0];if(typeof S.blotName!="string"&&typeof S.attrName!="string")throw new u("Invalid definition");if(S.blotName==="abstract")throw new u("Cannot register abstract class");if(y[S.blotName||S.attrName]=S,typeof S.keyName=="string")c[S.keyName]=S;else if(S.className!=null&&(h[S.className]=S),S.tagName!=null){Array.isArray(S.tagName)?S.tagName=S.tagName.map(function(b){return b.toUpperCase()}):S.tagName=S.tagName.toUpperCase();var O=Array.isArray(S.tagName)?S.tagName:[S.tagName];O.forEach(function(b){(d[b]==null||S.className==null)&&(d[b]=S)})}return S}n.register=C},function(t,n,i){var a=i(51),u=i(11),c=i(3),h=i(20),d="\0",y=function(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]};y.prototype.insert=function(g,p){var v={};return g.length===0?this:(v.insert=g,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(v.attributes=p),this.push(v))},y.prototype.delete=function(g){return g<=0?this:this.push({delete:g})},y.prototype.retain=function(g,p){if(g<=0)return this;var v={retain:g};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(v.attributes=p),this.push(v)},y.prototype.push=function(g){var p=this.ops.length,v=this.ops[p-1];if(g=c(!0,{},g),typeof v=="object"){if(typeof g.delete=="number"&&typeof v.delete=="number")return this.ops[p-1]={delete:v.delete+g.delete},this;if(typeof v.delete=="number"&&g.insert!=null&&(p-=1,v=this.ops[p-1],typeof v!="object"))return this.ops.unshift(g),this;if(u(g.attributes,v.attributes)){if(typeof g.insert=="string"&&typeof v.insert=="string")return this.ops[p-1]={insert:v.insert+g.insert},typeof g.attributes=="object"&&(this.ops[p-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof v.retain=="number")return this.ops[p-1]={retain:v.retain+g.retain},typeof g.attributes=="object"&&(this.ops[p-1].attributes=g.attributes),this}}return p===this.ops.length?this.ops.push(g):this.ops.splice(p,0,g),this},y.prototype.chop=function(){var g=this.ops[this.ops.length-1];return g&&g.retain&&!g.attributes&&this.ops.pop(),this},y.prototype.filter=function(g){return this.ops.filter(g)},y.prototype.forEach=function(g){this.ops.forEach(g)},y.prototype.map=function(g){return this.ops.map(g)},y.prototype.partition=function(g){var p=[],v=[];return this.forEach(function(A){var C=g(A)?p:v;C.push(A)}),[p,v]},y.prototype.reduce=function(g,p){return this.ops.reduce(g,p)},y.prototype.changeLength=function(){return this.reduce(function(g,p){return p.insert?g+h.length(p):p.delete?g-p.delete:g},0)},y.prototype.length=function(){return this.reduce(function(g,p){return g+h.length(p)},0)},y.prototype.slice=function(g,p){g=g||0,typeof p!="number"&&(p=1/0);for(var v=[],A=h.iterator(this.ops),C=0;C<p&&A.hasNext();){var w;C<g?w=A.next(g-C):(w=A.next(p-C),v.push(w)),C+=h.length(w)}return new y(v)},y.prototype.compose=function(g){var p=h.iterator(this.ops),v=h.iterator(g.ops),A=[],C=v.peek();if(C!=null&&typeof C.retain=="number"&&C.attributes==null){for(var w=C.retain;p.peekType()==="insert"&&p.peekLength()<=w;)w-=p.peekLength(),A.push(p.next());C.retain-w>0&&v.next(C.retain-w)}for(var E=new y(A);p.hasNext()||v.hasNext();)if(v.peekType()==="insert")E.push(v.next());else if(p.peekType()==="delete")E.push(p.next());else{var S=Math.min(p.peekLength(),v.peekLength()),O=p.next(S),b=v.next(S);if(typeof b.retain=="number"){var M={};typeof O.retain=="number"?M.retain=S:M.insert=O.insert;var q=h.attributes.compose(O.attributes,b.attributes,typeof O.retain=="number");if(q&&(M.attributes=q),E.push(M),!v.hasNext()&&u(E.ops[E.ops.length-1],M)){var R=new y(p.rest());return E.concat(R).chop()}}else typeof b.delete=="number"&&typeof O.retain=="number"&&E.push(b)}return E.chop()},y.prototype.concat=function(g){var p=new y(this.ops.slice());return g.ops.length>0&&(p.push(g.ops[0]),p.ops=p.ops.concat(g.ops.slice(1))),p},y.prototype.diff=function(g,p){if(this.ops===g.ops)return new y;var v=[this,g].map(function(S){return S.map(function(O){if(O.insert!=null)return typeof O.insert=="string"?O.insert:d;var b=S===g?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),A=new y,C=a(v[0],v[1],p),w=h.iterator(this.ops),E=h.iterator(g.ops);return C.forEach(function(S){for(var O=S[1].length;O>0;){var b=0;switch(S[0]){case a.INSERT:b=Math.min(E.peekLength(),O),A.push(E.next(b));break;case a.DELETE:b=Math.min(O,w.peekLength()),w.next(b),A.delete(b);break;case a.EQUAL:b=Math.min(w.peekLength(),E.peekLength(),O);var M=w.next(b),q=E.next(b);u(M.insert,q.insert)?A.retain(b,h.attributes.diff(M.attributes,q.attributes)):A.push(q).delete(b);break}O-=b}}),A.chop()},y.prototype.eachLine=function(g,p){p=p||`
`;for(var v=h.iterator(this.ops),A=new y,C=0;v.hasNext();){if(v.peekType()!=="insert")return;var w=v.peek(),E=h.length(w)-v.peekLength(),S=typeof w.insert=="string"?w.insert.indexOf(p,E)-E:-1;if(S<0)A.push(v.next());else if(S>0)A.push(v.next(S));else{if(g(A,v.next(1).attributes||{},C)===!1)return;C+=1,A=new y}}A.length()>0&&g(A,{},C)},y.prototype.transform=function(g,p){if(p=!!p,typeof g=="number")return this.transformPosition(g,p);for(var v=h.iterator(this.ops),A=h.iterator(g.ops),C=new y;v.hasNext()||A.hasNext();)if(v.peekType()==="insert"&&(p||A.peekType()!=="insert"))C.retain(h.length(v.next()));else if(A.peekType()==="insert")C.push(A.next());else{var w=Math.min(v.peekLength(),A.peekLength()),E=v.next(w),S=A.next(w);if(E.delete)continue;S.delete?C.push(S):C.retain(w,h.attributes.transform(E.attributes,S.attributes,p))}return C.chop()},y.prototype.transformPosition=function(g,p){p=!!p;for(var v=h.iterator(this.ops),A=0;v.hasNext()&&A<=g;){var C=v.peekLength(),w=v.peekType();if(v.next(),w==="delete"){g-=Math.min(C,g-A);continue}else w==="insert"&&(A<g||!p)&&(g+=C);A+=C}return g},t.exports=y},function(t,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h=function(v){return typeof Array.isArray=="function"?Array.isArray(v):a.call(v)==="[object Array]"},d=function(v){if(!v||a.call(v)!=="[object Object]")return!1;var A=i.call(v,"constructor"),C=v.constructor&&v.constructor.prototype&&i.call(v.constructor.prototype,"isPrototypeOf");if(v.constructor&&!A&&!C)return!1;var w;for(w in v);return typeof w>"u"||i.call(v,w)},y=function(v,A){u&&A.name==="__proto__"?u(v,A.name,{enumerable:!0,configurable:!0,value:A.newValue,writable:!0}):v[A.name]=A.newValue},g=function(v,A){if(A==="__proto__")if(i.call(v,A)){if(c)return c(v,A).value}else return;return v[A]};t.exports=function p(){var v,A,C,w,E,S,O=arguments[0],b=1,M=arguments.length,q=!1;for(typeof O=="boolean"&&(q=O,O=arguments[1]||{},b=2),(O==null||typeof O!="object"&&typeof O!="function")&&(O={});b<M;++b)if(v=arguments[b],v!=null)for(A in v)C=g(O,A),w=g(v,A),O!==w&&(q&&w&&(d(w)||(E=h(w)))?(E?(E=!1,S=C&&h(C)?C:[]):S=C&&d(C)?C:{},y(O,{name:A,newValue:p(q,S,w)})):typeof w<"u"&&y(O,{name:A,newValue:w}));return O}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function I(P,N){for(var W=0;W<N.length;W++){var J=N[W];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(P,J.key,J)}}return function(P,N,W){return N&&I(P.prototype,N),W&&I(P,W),P}}(),u=function I(P,N,W){P===null&&(P=Function.prototype);var J=Object.getOwnPropertyDescriptor(P,N);if(J===void 0){var se=Object.getPrototypeOf(P);return se===null?void 0:I(se,N,W)}else{if("value"in J)return J.value;var X=J.get;return X===void 0?void 0:X.call(W)}},c=i(3),h=O(c),d=i(2),y=O(d),g=i(0),p=O(g),v=i(16),A=O(v),C=i(6),w=O(C),E=i(7),S=O(E);function O(I){return I&&I.__esModule?I:{default:I}}function b(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}function M(I,P){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:I}function q(I,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(I,P):I.__proto__=P)}var R=1,_=function(I){q(P,I);function P(){return b(this,P),M(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return a(P,[{key:"attach",value:function(){u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new y.default().insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(W,J){var se=p.default.query(W,p.default.Scope.BLOCK_ATTRIBUTE);se!=null&&this.attributes.attribute(se,J)}},{key:"formatAt",value:function(W,J,se,X){this.format(se,X)}},{key:"insertAt",value:function(W,J,se){if(typeof J=="string"&&J.endsWith(`
`)){var X=p.default.create(D.blotName);this.parent.insertBefore(X,W===0?this:this.next),X.insertAt(0,J.slice(0,-1))}else u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,W,J,se)}}]),P}(p.default.Embed);_.scope=p.default.Scope.BLOCK_BLOT;var D=function(I){q(P,I);function P(N){b(this,P);var W=M(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,N));return W.cache={},W}return a(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function(W,J){return J.length()===0?W:W.insert(J.value(),x(J))},new y.default).insert(`
`,x(this))),this.cache.delta}},{key:"deleteAt",value:function(W,J){u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,W,J),this.cache={}}},{key:"formatAt",value:function(W,J,se,X){J<=0||(p.default.query(se,p.default.Scope.BLOCK)?W+J===this.length()&&this.format(se,X):u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,W,Math.min(J,this.length()-W-1),se,X),this.cache={})}},{key:"insertAt",value:function(W,J,se){if(se!=null)return u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,W,J,se);if(J.length!==0){var X=J.split(`
`),re=X.shift();re.length>0&&(W<this.length()-1||this.children.tail==null?u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(W,this.length()-1),re):this.children.tail.insertAt(this.children.tail.length(),re),this.cache={});var $=this;X.reduce(function(H,B){return $=$.split(H,!0),$.insertAt(0,B),B.length},W+re.length)}}},{key:"insertBefore",value:function(W,J){var se=this.children.head;u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,W,J),se instanceof A.default&&se.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+R),this.cache.length}},{key:"moveChildren",value:function(W,J){u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,W,J),this.cache={}}},{key:"optimize",value:function(W){u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,W),this.cache={}}},{key:"path",value:function(W){return u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,W,!0)}},{key:"removeChild",value:function(W){u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,W),this.cache={}}},{key:"split",value:function(W){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(J&&(W===0||W>=this.length()-R)){var se=this.clone();return W===0?(this.parent.insertBefore(se,this),this):(this.parent.insertBefore(se,this.next),se)}else{var X=u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,W,J);return this.cache={},X}}}]),P}(p.default.Block);D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[w.default,p.default.Embed,S.default];function x(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I==null||(typeof I.formats=="function"&&(P=(0,h.default)(P,I.formats())),I.parent==null||I.parent.blotName=="scroll"||I.parent.statics.scope!==I.statics.scope)?P:x(I.parent,P)}n.bubbleFormats=x,n.BlockEmbed=_,n.default=D},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},u=function(){function $(H,B){var V=[],z=!0,ee=!1,Z=void 0;try{for(var G=H[Symbol.iterator](),Q;!(z=(Q=G.next()).done)&&(V.push(Q.value),!(B&&V.length===B));z=!0);}catch(te){ee=!0,Z=te}finally{try{!z&&G.return&&G.return()}finally{if(ee)throw Z}}return V}return function(H,B){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return $(H,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function $(H,B){for(var V=0;V<B.length;V++){var z=B[V];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(H,z.key,z)}}return function(H,B,V){return B&&$(H.prototype,B),V&&$(H,V),H}}();i(50);var h=i(2),d=x(h),y=i(14),g=x(y),p=i(8),v=x(p),A=i(9),C=x(A),w=i(0),E=x(w),S=i(15),O=x(S),b=i(3),M=x(b),q=i(10),R=x(q),_=i(34),D=x(_);function x($){return $&&$.__esModule?$:{default:$}}function I($,H,B){return H in $?Object.defineProperty($,H,{value:B,enumerable:!0,configurable:!0,writable:!0}):$[H]=B,$}function P($,H){if(!($ instanceof H))throw new TypeError("Cannot call a class as a function")}var N=(0,R.default)("quill"),W=function(){c($,null,[{key:"debug",value:function(B){B===!0&&(B="log"),R.default.level(B)}},{key:"find",value:function(B){return B.__quill||E.default.find(B)}},{key:"import",value:function(B){return this.imports[B]==null&&N.error("Cannot import "+B+". Are you sure it was registered?"),this.imports[B]}},{key:"register",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof B!="string"){var Z=B.attrName||B.blotName;typeof Z=="string"?this.register("formats/"+Z,B,V):Object.keys(B).forEach(function(G){z.register(G,B[G],V)})}else this.imports[B]!=null&&!ee&&N.warn("Overwriting "+B+" with",V),this.imports[B]=V,(B.startsWith("blots/")||B.startsWith("formats/"))&&V.blotName!=="abstract"?E.default.register(V):B.startsWith("modules")&&typeof V.register=="function"&&V.register()}}]);function $(H){var B=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,$),this.options=J(H,V),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",H);this.options.debug&&$.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new v.default,this.scroll=E.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new O.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(v.default.events.EDITOR_CHANGE,function(Z){Z===v.default.events.TEXT_CHANGE&&B.root.classList.toggle("ql-blank",B.editor.isBlank())}),this.emitter.on(v.default.events.SCROLL_UPDATE,function(Z,G){var Q=B.selection.lastRange,te=Q&&Q.length===0?Q.index:void 0;se.call(B,function(){return B.editor.update(null,G,te)},Z)});var ee=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(ee),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c($,[{key:"addContainer",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof B=="string"){var z=B;B=document.createElement("div"),B.classList.add(z)}return this.container.insertBefore(B,V),B}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(B,V,z){var ee=this,Z=X(B,V,z),G=u(Z,4);return B=G[0],V=G[1],z=G[3],se.call(this,function(){return ee.editor.deleteText(B,V)},z,B,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(B),this.container.classList.toggle("ql-disabled",!B)}},{key:"focus",value:function(){var B=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=B,this.scrollIntoView()}},{key:"format",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;return se.call(this,function(){var Z=z.getSelection(!0),G=new d.default;if(Z==null)return G;if(E.default.query(B,E.default.Scope.BLOCK))G=z.editor.formatLine(Z.index,Z.length,I({},B,V));else{if(Z.length===0)return z.selection.format(B,V),G;G=z.editor.formatText(Z.index,Z.length,I({},B,V))}return z.setSelection(Z,v.default.sources.SILENT),G},ee)}},{key:"formatLine",value:function(B,V,z,ee,Z){var G=this,Q=void 0,te=X(B,V,z,ee,Z),ie=u(te,4);return B=ie[0],V=ie[1],Q=ie[2],Z=ie[3],se.call(this,function(){return G.editor.formatLine(B,V,Q)},Z,B,0)}},{key:"formatText",value:function(B,V,z,ee,Z){var G=this,Q=void 0,te=X(B,V,z,ee,Z),ie=u(te,4);return B=ie[0],V=ie[1],Q=ie[2],Z=ie[3],se.call(this,function(){return G.editor.formatText(B,V,Q)},Z,B,0)}},{key:"getBounds",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof B=="number"?z=this.selection.getBounds(B,V):z=this.selection.getBounds(B.index,B.length);var ee=this.container.getBoundingClientRect();return{bottom:z.bottom-ee.top,height:z.height,left:z.left-ee.left,right:z.right-ee.left,top:z.top-ee.top,width:z.width}}},{key:"getContents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,z=X(B,V),ee=u(z,2);return B=ee[0],V=ee[1],this.editor.getContents(B,V)}},{key:"getFormat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof B=="number"?this.editor.getFormat(B,V):this.editor.getFormat(B.index,B.length)}},{key:"getIndex",value:function(B){return B.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(B){return this.scroll.leaf(B)}},{key:"getLine",value:function(B){return this.scroll.line(B)}},{key:"getLines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof B!="number"?this.scroll.lines(B.index,B.length):this.scroll.lines(B,V)}},{key:"getModule",value:function(B){return this.theme.modules[B]}},{key:"getSelection",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return B&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,z=X(B,V),ee=u(z,2);return B=ee[0],V=ee[1],this.editor.getText(B,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(B,V,z){var ee=this,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$.sources.API;return se.call(this,function(){return ee.editor.insertEmbed(B,V,z)},Z,B)}},{key:"insertText",value:function(B,V,z,ee,Z){var G=this,Q=void 0,te=X(B,0,z,ee,Z),ie=u(te,4);return B=ie[0],Q=ie[2],Z=ie[3],se.call(this,function(){return G.editor.insertText(B,V,Q)},Z,B,V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(B,V,z){this.clipboard.dangerouslyPasteHTML(B,V,z)}},{key:"removeFormat",value:function(B,V,z){var ee=this,Z=X(B,V,z),G=u(Z,4);return B=G[0],V=G[1],z=G[3],se.call(this,function(){return ee.editor.removeFormat(B,V)},z,B)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(B){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API;return se.call(this,function(){B=new d.default(B);var ee=V.getLength(),Z=V.editor.deleteText(0,ee),G=V.editor.applyDelta(B),Q=G.ops[G.ops.length-1];Q!=null&&typeof Q.insert=="string"&&Q.insert[Q.insert.length-1]===`
`&&(V.editor.deleteText(V.getLength()-1,1),G.delete(1));var te=Z.compose(G);return te},z)}},{key:"setSelection",value:function(B,V,z){if(B==null)this.selection.setRange(null,V||$.sources.API);else{var ee=X(B,V,z),Z=u(ee,4);B=Z[0],V=Z[1],z=Z[3],this.selection.setRange(new S.Range(B,V),z),z!==v.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API,z=new d.default().insert(B);return this.setContents(z,V)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,V=this.scroll.update(B);return this.selection.update(B),V}},{key:"updateContents",value:function(B){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API;return se.call(this,function(){return B=new d.default(B),V.editor.applyDelta(B,z)},z,!0)}}]),$}();W.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},W.events=v.default.events,W.sources=v.default.sources,W.version="1.3.7",W.imports={delta:d.default,parchment:E.default,"core/module":C.default,"core/theme":D.default};function J($,H){if(H=(0,M.default)(!0,{container:$,modules:{clipboard:!0,keyboard:!0,history:!0}},H),!H.theme||H.theme===W.DEFAULTS.theme)H.theme=D.default;else if(H.theme=W.import("themes/"+H.theme),H.theme==null)throw new Error("Invalid theme "+H.theme+". Did you register it?");var B=(0,M.default)(!0,{},H.theme.DEFAULTS);[B,H].forEach(function(ee){ee.modules=ee.modules||{},Object.keys(ee.modules).forEach(function(Z){ee.modules[Z]===!0&&(ee.modules[Z]={})})});var V=Object.keys(B.modules).concat(Object.keys(H.modules)),z=V.reduce(function(ee,Z){var G=W.import("modules/"+Z);return G==null?N.error("Cannot load "+Z+" module. Are you sure you registered it?"):ee[Z]=G.DEFAULTS||{},ee},{});return H.modules!=null&&H.modules.toolbar&&H.modules.toolbar.constructor!==Object&&(H.modules.toolbar={container:H.modules.toolbar}),H=(0,M.default)(!0,{},W.DEFAULTS,{modules:z},B,H),["bounds","container","scrollingContainer"].forEach(function(ee){typeof H[ee]=="string"&&(H[ee]=document.querySelector(H[ee]))}),H.modules=Object.keys(H.modules).reduce(function(ee,Z){return H.modules[Z]&&(ee[Z]=H.modules[Z]),ee},{}),H}function se($,H,B,V){if(this.options.strict&&!this.isEnabled()&&H===v.default.sources.USER)return new d.default;var z=B==null?null:this.getSelection(),ee=this.editor.delta,Z=$();if(z!=null&&(B===!0&&(B=z.index),V==null?z=re(z,Z,H):V!==0&&(z=re(z,B,V,H)),this.setSelection(z,v.default.sources.SILENT)),Z.length()>0){var G,Q=[v.default.events.TEXT_CHANGE,Z,ee,H];if((G=this.emitter).emit.apply(G,[v.default.events.EDITOR_CHANGE].concat(Q)),H!==v.default.sources.SILENT){var te;(te=this.emitter).emit.apply(te,Q)}}return Z}function X($,H,B,V,z){var ee={};return typeof $.index=="number"&&typeof $.length=="number"?typeof H!="number"?(z=V,V=B,B=H,H=$.length,$=$.index):(H=$.length,$=$.index):typeof H!="number"&&(z=V,V=B,B=H,H=0),(typeof B>"u"?"undefined":a(B))==="object"?(ee=B,z=V):typeof B=="string"&&(V!=null?ee[B]=V:z=B),z=z||v.default.sources.API,[$,H,ee,z]}function re($,H,B,V){if($==null)return null;var z=void 0,ee=void 0;if(H instanceof d.default){var Z=[$.index,$.index+$.length].map(function(ie){return H.transformPosition(ie,V!==v.default.sources.USER)}),G=u(Z,2);z=G[0],ee=G[1]}else{var Q=[$.index,$.index+$.length].map(function(ie){return ie<H||ie===H&&V===v.default.sources.USER?ie:B>=0?ie+B:Math.max(H,ie+B)}),te=u(Q,2);z=te[0],ee=te[1]}return new S.Range(z,ee-z)}n.expandConfig=J,n.overload=X,n.default=W},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function w(E,S){for(var O=0;O<S.length;O++){var b=S[O];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(E,b.key,b)}}return function(E,S,O){return S&&w(E.prototype,S),O&&w(E,O),E}}(),u=function w(E,S,O){E===null&&(E=Function.prototype);var b=Object.getOwnPropertyDescriptor(E,S);if(b===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:w(M,S,O)}else{if("value"in b)return b.value;var q=b.get;return q===void 0?void 0:q.call(O)}},c=i(7),h=g(c),d=i(0),y=g(d);function g(w){return w&&w.__esModule?w:{default:w}}function p(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function v(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function A(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var C=function(w){A(E,w);function E(){return p(this,E),v(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"formatAt",value:function(O,b,M,q){if(E.compare(this.statics.blotName,M)<0&&y.default.query(M,y.default.Scope.BLOT)){var R=this.isolate(O,b);q&&R.wrap(M,q)}else u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,O,b,M,q)}},{key:"optimize",value:function(O){if(u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,O),this.parent instanceof E&&E.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(O,b){var M=E.order.indexOf(O),q=E.order.indexOf(b);return M>=0||q>=0?M-q:O===b?0:O<b?-1:1}}]),E}(y.default.Inline);C.allowedChildren=[C,y.default.Embed,h.default],C.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=C},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default.Text);n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function S(O,b){for(var M=0;M<b.length;M++){var q=b[M];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(O,q.key,q)}}return function(O,b,M){return b&&S(O.prototype,b),M&&S(O,M),O}}(),u=function S(O,b,M){O===null&&(O=Function.prototype);var q=Object.getOwnPropertyDescriptor(O,b);if(q===void 0){var R=Object.getPrototypeOf(O);return R===null?void 0:S(R,b,M)}else{if("value"in q)return q.value;var _=q.get;return _===void 0?void 0:_.call(M)}},c=i(54),h=g(c),d=i(10),y=g(d);function g(S){return S&&S.__esModule?S:{default:S}}function p(S,O){if(!(S instanceof O))throw new TypeError("Cannot call a class as a function")}function v(S,O){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:S}function A(S,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);S.prototype=Object.create(O&&O.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(S,O):S.__proto__=O)}var C=(0,y.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(S){document.addEventListener(S,function(){for(var O=arguments.length,b=Array(O),M=0;M<O;M++)b[M]=arguments[M];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(q){if(q.__quill&&q.__quill.emitter){var R;(R=q.__quill.emitter).handleDOM.apply(R,b)}})})});var E=function(S){A(O,S);function O(){p(this,O);var b=v(this,(O.__proto__||Object.getPrototypeOf(O)).call(this));return b.listeners={},b.on("error",C.error),b}return a(O,[{key:"emit",value:function(){C.log.apply(C,arguments),u(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(M){for(var q=arguments.length,R=Array(q>1?q-1:0),_=1;_<q;_++)R[_-1]=arguments[_];(this.listeners[M.type]||[]).forEach(function(D){var x=D.node,I=D.handler;(M.target===x||x.contains(M.target))&&I.apply(void 0,[M].concat(R))})}},{key:"listenDOM",value:function(M,q,R){this.listeners[M]||(this.listeners[M]=[]),this.listeners[M].push({node:q,handler:R})}}]),O}(h.default);E.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},E.sources={API:"api",SILENT:"silent",USER:"user"},n.default=E},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}var u=function c(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,c),this.quill=h,this.options=d};u.DEFAULTS={},n.default=u},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],u="warn";function c(d){if(a.indexOf(d)<=a.indexOf(u)){for(var y,g=arguments.length,p=Array(g>1?g-1:0),v=1;v<g;v++)p[v-1]=arguments[v];(y=console)[d].apply(y,p)}}function h(d){return a.reduce(function(y,g){return y[g]=c.bind(console,g,d),y},{})}c.level=h.level=function(d){u=d},n.default=h},function(t,n,i){var a=Array.prototype.slice,u=i(52),c=i(53),h=t.exports=function(p,v,A){return A||(A={}),p===v?!0:p instanceof Date&&v instanceof Date?p.getTime()===v.getTime():!p||!v||typeof p!="object"&&typeof v!="object"?A.strict?p===v:p==v:g(p,v,A)};function d(p){return p==null}function y(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function g(p,v,A){var C,w;if(d(p)||d(v)||p.prototype!==v.prototype)return!1;if(c(p))return c(v)?(p=a.call(p),v=a.call(v),h(p,v,A)):!1;if(y(p)){if(!y(v)||p.length!==v.length)return!1;for(C=0;C<p.length;C++)if(p[C]!==v[C])return!1;return!0}try{var E=u(p),S=u(v)}catch{return!1}if(E.length!=S.length)return!1;for(E.sort(),S.sort(),C=E.length-1;C>=0;C--)if(E[C]!=S[C])return!1;for(C=E.length-1;C>=0;C--)if(w=E[C],!h(p[w],v[w],A))return!1;return typeof p==typeof v}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),u=function(){function c(h,d,y){y===void 0&&(y={}),this.attrName=h,this.keyName=d;var g=a.Scope.TYPE&a.Scope.ATTRIBUTE;y.scope!=null?this.scope=y.scope&a.Scope.LEVEL|g:this.scope=a.Scope.ATTRIBUTE,y.whitelist!=null&&(this.whitelist=y.whitelist)}return c.keys=function(h){return[].map.call(h.attributes,function(d){return d.name})},c.prototype.add=function(h,d){return this.canAdd(h,d)?(h.setAttribute(this.keyName,d),!0):!1},c.prototype.canAdd=function(h,d){var y=a.query(h,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return y==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},c.prototype.remove=function(h){h.removeAttribute(this.keyName)},c.prototype.value=function(h){var d=h.getAttribute(this.keyName);return this.canAdd(h,d)&&d?d:""},c}();n.default=u},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function _(D,x){var I=[],P=!0,N=!1,W=void 0;try{for(var J=D[Symbol.iterator](),se;!(P=(se=J.next()).done)&&(I.push(se.value),!(x&&I.length===x));P=!0);}catch(X){N=!0,W=X}finally{try{!P&&J.return&&J.return()}finally{if(N)throw W}}return I}return function(D,x){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return _(D,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function _(D,x){for(var I=0;I<x.length;I++){var P=x[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}return function(D,x,I){return x&&_(D.prototype,x),I&&_(D,I),D}}(),c=function _(D,x,I){D===null&&(D=Function.prototype);var P=Object.getOwnPropertyDescriptor(D,x);if(P===void 0){var N=Object.getPrototypeOf(D);return N===null?void 0:_(N,x,I)}else{if("value"in P)return P.value;var W=P.get;return W===void 0?void 0:W.call(I)}},h=i(2),d=S(h),y=i(0),g=S(y),p=i(4),v=S(p),A=i(6),C=S(A),w=i(7),E=S(w);function S(_){return _&&_.__esModule?_:{default:_}}function O(_,D){if(!(_ instanceof D))throw new TypeError("Cannot call a class as a function")}function b(_,D){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:_}function M(_,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);_.prototype=Object.create(D&&D.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(_,D):_.__proto__=D)}var q=function(_){M(D,_);function D(){return O(this,D),b(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return D}(C.default);q.blotName="code",q.tagName="CODE";var R=function(_){M(D,_);function D(){return O(this,D),b(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return u(D,[{key:"delta",value:function(){var I=this,P=this.domNode.textContent;return P.endsWith(`
`)&&(P=P.slice(0,-1)),P.split(`
`).reduce(function(N,W){return N.insert(W).insert(`
`,I.formats())},new d.default)}},{key:"format",value:function(I,P){if(!(I===this.statics.blotName&&P)){var N=this.descendant(E.default,this.length()-1),W=a(N,1),J=W[0];J!=null&&J.deleteAt(J.length()-1,1),c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,I,P)}}},{key:"formatAt",value:function(I,P,N,W){if(P!==0&&!(g.default.query(N,g.default.Scope.BLOCK)==null||N===this.statics.blotName&&W===this.statics.formats(this.domNode))){var J=this.newlineIndex(I);if(!(J<0||J>=I+P)){var se=this.newlineIndex(I,!0)+1,X=J-se+1,re=this.isolate(se,X),$=re.next;re.format(N,W),$ instanceof D&&$.formatAt(0,I-se+P-X,N,W)}}}},{key:"insertAt",value:function(I,P,N){if(N==null){var W=this.descendant(E.default,I),J=a(W,2),se=J[0],X=J[1];se.insertAt(X,P)}}},{key:"length",value:function(){var I=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?I:I+1}},{key:"newlineIndex",value:function(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P)return this.domNode.textContent.slice(0,I).lastIndexOf(`
`);var N=this.domNode.textContent.slice(I).indexOf(`
`);return N>-1?I+N:-1}},{key:"optimize",value:function(I){this.domNode.textContent.endsWith(`
`)||this.appendChild(g.default.create("text",`
`)),c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,I);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===P.statics.formats(P.domNode)&&(P.optimize(I),P.moveChildren(this),P.remove())}},{key:"replace",value:function(I){c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,I),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(P){var N=g.default.find(P);N==null?P.parentNode.removeChild(P):N instanceof g.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(I){var P=c(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,I);return P.setAttribute("spellcheck",!1),P}},{key:"formats",value:function(){return!0}}]),D}(v.default);R.blotName="code-block",R.tagName="PRE",R.TAB="  ",n.Code=q,n.default=R},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},u=function(){function $(H,B){var V=[],z=!0,ee=!1,Z=void 0;try{for(var G=H[Symbol.iterator](),Q;!(z=(Q=G.next()).done)&&(V.push(Q.value),!(B&&V.length===B));z=!0);}catch(te){ee=!0,Z=te}finally{try{!z&&G.return&&G.return()}finally{if(ee)throw Z}}return V}return function(H,B){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return $(H,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function $(H,B){for(var V=0;V<B.length;V++){var z=B[V];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(H,z.key,z)}}return function(H,B,V){return B&&$(H.prototype,B),V&&$(H,V),H}}(),h=i(2),d=P(h),y=i(20),g=P(y),p=i(0),v=P(p),A=i(13),C=P(A),w=i(24),E=P(w),S=i(4),O=P(S),b=i(16),M=P(b),q=i(21),R=P(q),_=i(11),D=P(_),x=i(3),I=P(x);function P($){return $&&$.__esModule?$:{default:$}}function N($,H,B){return H in $?Object.defineProperty($,H,{value:B,enumerable:!0,configurable:!0,writable:!0}):$[H]=B,$}function W($,H){if(!($ instanceof H))throw new TypeError("Cannot call a class as a function")}var J=/^[ -~]*$/,se=function(){function $(H){W(this,$),this.scroll=H,this.delta=this.getDelta()}return c($,[{key:"applyDelta",value:function(B){var V=this,z=!1;this.scroll.update();var ee=this.scroll.length();return this.scroll.batchStart(),B=re(B),B.reduce(function(Z,G){var Q=G.retain||G.delete||G.insert.length||1,te=G.attributes||{};if(G.insert!=null){if(typeof G.insert=="string"){var ie=G.insert;ie.endsWith(`
`)&&z&&(z=!1,ie=ie.slice(0,-1)),Z>=ee&&!ie.endsWith(`
`)&&(z=!0),V.scroll.insertAt(Z,ie);var fe=V.scroll.line(Z),ge=u(fe,2),xe=ge[0],Ie=ge[1],ke=(0,I.default)({},(0,S.bubbleFormats)(xe));if(xe instanceof O.default){var Re=xe.descendant(v.default.Leaf,Ie),Be=u(Re,1),et=Be[0];ke=(0,I.default)(ke,(0,S.bubbleFormats)(et))}te=g.default.attributes.diff(ke,te)||{}}else if(a(G.insert)==="object"){var le=Object.keys(G.insert)[0];if(le==null)return Z;V.scroll.insertAt(Z,le,G.insert[le])}ee+=Q}return Object.keys(te).forEach(function(de){V.scroll.formatAt(Z,Q,de,te[de])}),Z+Q},0),B.reduce(function(Z,G){return typeof G.delete=="number"?(V.scroll.deleteAt(Z,G.delete),Z):Z+(G.retain||G.insert.length||1)},0),this.scroll.batchEnd(),this.update(B)}},{key:"deleteText",value:function(B,V){return this.scroll.deleteAt(B,V),this.update(new d.default().retain(B).delete(V))}},{key:"formatLine",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ee).forEach(function(Z){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[Z])){var G=z.scroll.lines(B,Math.max(V,1)),Q=V;G.forEach(function(te){var ie=te.length();if(!(te instanceof C.default))te.format(Z,ee[Z]);else{var fe=B-te.offset(z.scroll),ge=te.newlineIndex(fe+Q)-fe+1;te.formatAt(fe,ge,Z,ee[Z])}Q-=ie})}}),this.scroll.optimize(),this.update(new d.default().retain(B).retain(V,(0,R.default)(ee)))}},{key:"formatText",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ee).forEach(function(Z){z.scroll.formatAt(B,V,Z,ee[Z])}),this.update(new d.default().retain(B).retain(V,(0,R.default)(ee)))}},{key:"getContents",value:function(B,V){return this.delta.slice(B,B+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(B,V){return B.concat(V.delta())},new d.default)}},{key:"getFormat",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],ee=[];V===0?this.scroll.path(B).forEach(function(G){var Q=u(G,1),te=Q[0];te instanceof O.default?z.push(te):te instanceof v.default.Leaf&&ee.push(te)}):(z=this.scroll.lines(B,V),ee=this.scroll.descendants(v.default.Leaf,B,V));var Z=[z,ee].map(function(G){if(G.length===0)return{};for(var Q=(0,S.bubbleFormats)(G.shift());Object.keys(Q).length>0;){var te=G.shift();if(te==null)return Q;Q=X((0,S.bubbleFormats)(te),Q)}return Q});return I.default.apply(I.default,Z)}},{key:"getText",value:function(B,V){return this.getContents(B,V).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(B,V,z){return this.scroll.insertAt(B,V,z),this.update(new d.default().retain(B).insert(N({},V,z)))}},{key:"insertText",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V=V.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(B,V),Object.keys(ee).forEach(function(Z){z.scroll.formatAt(B,V.length,Z,ee[Z])}),this.update(new d.default().retain(B).insert(V,(0,R.default)(ee)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var B=this.scroll.children.head;return B.statics.blotName!==O.default.blotName||B.children.length>1?!1:B.children.head instanceof M.default}},{key:"removeFormat",value:function(B,V){var z=this.getText(B,V),ee=this.scroll.line(B+V),Z=u(ee,2),G=Z[0],Q=Z[1],te=0,ie=new d.default;G!=null&&(G instanceof C.default?te=G.newlineIndex(Q)-Q+1:te=G.length()-Q,ie=G.delta().slice(Q,Q+te-1).insert(`
`));var fe=this.getContents(B,V+te),ge=fe.diff(new d.default().insert(z).concat(ie)),xe=new d.default().retain(B).concat(ge);return this.applyDelta(xe)}},{key:"update",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ee=this.delta;if(V.length===1&&V[0].type==="characterData"&&V[0].target.data.match(J)&&v.default.find(V[0].target)){var Z=v.default.find(V[0].target),G=(0,S.bubbleFormats)(Z),Q=Z.offset(this.scroll),te=V[0].oldValue.replace(E.default.CONTENTS,""),ie=new d.default().insert(te),fe=new d.default().insert(Z.value()),ge=new d.default().retain(Q).concat(ie.diff(fe,z));B=ge.reduce(function(xe,Ie){return Ie.insert?xe.insert(Ie.insert,G):xe.push(Ie)},new d.default),this.delta=ee.compose(B)}else this.delta=this.getDelta(),(!B||!(0,D.default)(ee.compose(B),this.delta))&&(B=ee.diff(this.delta,z));return B}}]),$}();function X($,H){return Object.keys(H).reduce(function(B,V){return $[V]==null||(H[V]===$[V]?B[V]=H[V]:Array.isArray(H[V])?H[V].indexOf($[V])<0&&(B[V]=H[V].concat([$[V]])):B[V]=[H[V],$[V]]),B},{})}function re($){return $.reduce(function(H,B){if(B.insert===1){var V=(0,R.default)(B.attributes);return delete V.image,H.insert({image:B.attributes.image},V)}if(B.attributes!=null&&(B.attributes.list===!0||B.attributes.bullet===!0)&&(B=(0,R.default)(B),B.attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var z=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return H.insert(z,B.attributes)}return H.push(B)},new d.default)}n.default=se},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function _(D,x){var I=[],P=!0,N=!1,W=void 0;try{for(var J=D[Symbol.iterator](),se;!(P=(se=J.next()).done)&&(I.push(se.value),!(x&&I.length===x));P=!0);}catch(X){N=!0,W=X}finally{try{!P&&J.return&&J.return()}finally{if(N)throw W}}return I}return function(D,x){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return _(D,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function _(D,x){for(var I=0;I<x.length;I++){var P=x[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}return function(D,x,I){return x&&_(D.prototype,x),I&&_(D,I),D}}(),c=i(0),h=E(c),d=i(21),y=E(d),g=i(11),p=E(g),v=i(8),A=E(v),C=i(10),w=E(C);function E(_){return _&&_.__esModule?_:{default:_}}function S(_){if(Array.isArray(_)){for(var D=0,x=Array(_.length);D<_.length;D++)x[D]=_[D];return x}else return Array.from(_)}function O(_,D){if(!(_ instanceof D))throw new TypeError("Cannot call a class as a function")}var b=(0,w.default)("quill:selection"),M=function _(D){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;O(this,_),this.index=D,this.length=x},q=function(){function _(D,x){var I=this;O(this,_),this.emitter=x,this.scroll=D,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=h.default.create("cursor",this),this.lastRange=this.savedRange=new M(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){I.mouseDown||setTimeout(I.update.bind(I,A.default.sources.USER),1)}),this.emitter.on(A.default.events.EDITOR_CHANGE,function(P,N){P===A.default.events.TEXT_CHANGE&&N.length()>0&&I.update(A.default.sources.SILENT)}),this.emitter.on(A.default.events.SCROLL_BEFORE_UPDATE,function(){if(I.hasFocus()){var P=I.getNativeRange();P!=null&&P.start.node!==I.cursor.textNode&&I.emitter.once(A.default.events.SCROLL_UPDATE,function(){try{I.setNativeRange(P.start.node,P.start.offset,P.end.node,P.end.offset)}catch{}})}}),this.emitter.on(A.default.events.SCROLL_OPTIMIZE,function(P,N){if(N.range){var W=N.range,J=W.startNode,se=W.startOffset,X=W.endNode,re=W.endOffset;I.setNativeRange(J,se,X,re)}}),this.update(A.default.sources.SILENT)}return u(_,[{key:"handleComposition",value:function(){var x=this;this.root.addEventListener("compositionstart",function(){x.composing=!0}),this.root.addEventListener("compositionend",function(){if(x.composing=!1,x.cursor.parent){var I=x.cursor.restore();if(!I)return;setTimeout(function(){x.setNativeRange(I.startNode,I.startOffset,I.endNode,I.endOffset)},1)}})}},{key:"handleDragging",value:function(){var x=this;this.emitter.listenDOM("mousedown",document.body,function(){x.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){x.mouseDown=!1,x.update(A.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(x,I){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[x])){this.scroll.update();var P=this.getNativeRange();if(!(P==null||!P.native.collapsed||h.default.query(x,h.default.Scope.BLOCK))){if(P.start.node!==this.cursor.textNode){var N=h.default.find(P.start.node,!1);if(N==null)return;if(N instanceof h.default.Leaf){var W=N.split(P.start.offset);N.parent.insertBefore(this.cursor,W)}else N.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(x,I),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(x){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();x=Math.min(x,P-1),I=Math.min(x+I,P-1)-x;var N=void 0,W=this.scroll.leaf(x),J=a(W,2),se=J[0],X=J[1];if(se==null)return null;var re=se.position(X,!0),$=a(re,2);N=$[0],X=$[1];var H=document.createRange();if(I>0){H.setStart(N,X);var B=this.scroll.leaf(x+I),V=a(B,2);if(se=V[0],X=V[1],se==null)return null;var z=se.position(X,!0),ee=a(z,2);return N=ee[0],X=ee[1],H.setEnd(N,X),H.getBoundingClientRect()}else{var Z="left",G=void 0;return N instanceof Text?(X<N.data.length?(H.setStart(N,X),H.setEnd(N,X+1)):(H.setStart(N,X-1),H.setEnd(N,X),Z="right"),G=H.getBoundingClientRect()):(G=se.domNode.getBoundingClientRect(),X>0&&(Z="right")),{bottom:G.top+G.height,height:G.height,left:G[Z],right:G[Z],top:G.top,width:0}}}},{key:"getNativeRange",value:function(){var x=document.getSelection();if(x==null||x.rangeCount<=0)return null;var I=x.getRangeAt(0);if(I==null)return null;var P=this.normalizeNative(I);return b.info("getNativeRange",P),P}},{key:"getRange",value:function(){var x=this.getNativeRange();if(x==null)return[null,null];var I=this.normalizedToRange(x);return[I,x]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(x){var I=this,P=[[x.start.node,x.start.offset]];x.native.collapsed||P.push([x.end.node,x.end.offset]);var N=P.map(function(se){var X=a(se,2),re=X[0],$=X[1],H=h.default.find(re,!0),B=H.offset(I.scroll);return $===0?B:H instanceof h.default.Container?B+H.length():B+H.index(re,$)}),W=Math.min(Math.max.apply(Math,S(N)),this.scroll.length()-1),J=Math.min.apply(Math,[W].concat(S(N)));return new M(J,W-J)}},{key:"normalizeNative",value:function(x){if(!R(this.root,x.startContainer)||!x.collapsed&&!R(this.root,x.endContainer))return null;var I={start:{node:x.startContainer,offset:x.startOffset},end:{node:x.endContainer,offset:x.endOffset},native:x};return[I.start,I.end].forEach(function(P){for(var N=P.node,W=P.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>W)N=N.childNodes[W],W=0;else if(N.childNodes.length===W)N=N.lastChild,W=N instanceof Text?N.data.length:N.childNodes.length+1;else break;P.node=N,P.offset=W}),I}},{key:"rangeToNative",value:function(x){var I=this,P=x.collapsed?[x.index]:[x.index,x.index+x.length],N=[],W=this.scroll.length();return P.forEach(function(J,se){J=Math.min(W-1,J);var X=void 0,re=I.scroll.leaf(J),$=a(re,2),H=$[0],B=$[1],V=H.position(B,se!==0),z=a(V,2);X=z[0],B=z[1],N.push(X,B)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(x){var I=this.lastRange;if(I!=null){var P=this.getBounds(I.index,I.length);if(P!=null){var N=this.scroll.length()-1,W=this.scroll.line(Math.min(I.index,N)),J=a(W,1),se=J[0],X=se;if(I.length>0){var re=this.scroll.line(Math.min(I.index+I.length,N)),$=a(re,1);X=$[0]}if(!(se==null||X==null)){var H=x.getBoundingClientRect();P.top<H.top?x.scrollTop-=H.top-P.top:P.bottom>H.bottom&&(x.scrollTop+=P.bottom-H.bottom)}}}}},{key:"setNativeRange",value:function(x,I){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,W=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",x,I,P,N),!(x!=null&&(this.root.parentNode==null||x.parentNode==null||P.parentNode==null))){var J=document.getSelection();if(J!=null)if(x!=null){this.hasFocus()||this.root.focus();var se=(this.getNativeRange()||{}).native;if(se==null||W||x!==se.startContainer||I!==se.startOffset||P!==se.endContainer||N!==se.endOffset){x.tagName=="BR"&&(I=[].indexOf.call(x.parentNode.childNodes,x),x=x.parentNode),P.tagName=="BR"&&(N=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var X=document.createRange();X.setStart(x,I),X.setEnd(P,N),J.removeAllRanges(),J.addRange(X)}}else J.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(x){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.default.sources.API;if(typeof I=="string"&&(P=I,I=!1),b.info("setRange",x),x!=null){var N=this.rangeToNative(x);this.setNativeRange.apply(this,S(N).concat([I]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.default.sources.USER,I=this.lastRange,P=this.getRange(),N=a(P,2),W=N[0],J=N[1];if(this.lastRange=W,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(I,this.lastRange)){var se;!this.composing&&J!=null&&J.native.collapsed&&J.start.node!==this.cursor.textNode&&this.cursor.restore();var X=[A.default.events.SELECTION_CHANGE,(0,y.default)(this.lastRange),(0,y.default)(I),x];if((se=this.emitter).emit.apply(se,[A.default.events.EDITOR_CHANGE].concat(X)),x!==A.default.sources.SILENT){var re;(re=this.emitter).emit.apply(re,X)}}}}]),_}();function R(_,D){try{D.parentNode}catch{return!1}return D instanceof Text&&(D=D.parentNode),_.contains(D)}n.Range=M,n.default=q},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(C,w){for(var E=0;E<w.length;E++){var S=w[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(C,S.key,S)}}return function(C,w,E){return w&&A(C.prototype,w),E&&A(C,E),C}}(),u=function A(C,w,E){C===null&&(C=Function.prototype);var S=Object.getOwnPropertyDescriptor(C,w);if(S===void 0){var O=Object.getPrototypeOf(C);return O===null?void 0:A(O,w,E)}else{if("value"in S)return S.value;var b=S.get;return b===void 0?void 0:b.call(E)}},c=i(0),h=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function y(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function g(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function p(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var v=function(A){p(C,A);function C(){return y(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return a(C,[{key:"insertInto",value:function(E,S){E.children.length===0?u(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertInto",this).call(this,E,S):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),C}(h.default.Embed);v.blotName="break",v.tagName="BR",n.default=v},function(t,n,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var A in v)v.hasOwnProperty(A)&&(p[A]=v[A])};return function(p,v){g(p,v);function A(){this.constructor=p}p.prototype=v===null?Object.create(v):(A.prototype=v.prototype,new A)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(44),c=i(30),h=i(1),d=function(g){a(p,g);function p(v){var A=g.call(this,v)||this;return A.build(),A}return p.prototype.appendChild=function(v){this.insertBefore(v)},p.prototype.attach=function(){g.prototype.attach.call(this),this.children.forEach(function(v){v.attach()})},p.prototype.build=function(){var v=this;this.children=new u.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(A){try{var C=y(A);v.insertBefore(C,v.children.head||void 0)}catch(w){if(w instanceof h.ParchmentError)return;throw w}})},p.prototype.deleteAt=function(v,A){if(v===0&&A===this.length())return this.remove();this.children.forEachAt(v,A,function(C,w,E){C.deleteAt(w,E)})},p.prototype.descendant=function(v,A){var C=this.children.find(A),w=C[0],E=C[1];return v.blotName==null&&v(w)||v.blotName!=null&&w instanceof v?[w,E]:w instanceof p?w.descendant(v,E):[null,-1]},p.prototype.descendants=function(v,A,C){A===void 0&&(A=0),C===void 0&&(C=Number.MAX_VALUE);var w=[],E=C;return this.children.forEachAt(A,C,function(S,O,b){(v.blotName==null&&v(S)||v.blotName!=null&&S instanceof v)&&w.push(S),S instanceof p&&(w=w.concat(S.descendants(v,O,E))),E-=b}),w},p.prototype.detach=function(){this.children.forEach(function(v){v.detach()}),g.prototype.detach.call(this)},p.prototype.formatAt=function(v,A,C,w){this.children.forEachAt(v,A,function(E,S,O){E.formatAt(S,O,C,w)})},p.prototype.insertAt=function(v,A,C){var w=this.children.find(v),E=w[0],S=w[1];if(E)E.insertAt(S,A,C);else{var O=C==null?h.create("text",A):h.create(A,C);this.appendChild(O)}},p.prototype.insertBefore=function(v,A){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(C){return v instanceof C}))throw new h.ParchmentError("Cannot insert "+v.statics.blotName+" into "+this.statics.blotName);v.insertInto(this,A)},p.prototype.length=function(){return this.children.reduce(function(v,A){return v+A.length()},0)},p.prototype.moveChildren=function(v,A){this.children.forEach(function(C){v.insertBefore(C,A)})},p.prototype.optimize=function(v){if(g.prototype.optimize.call(this,v),this.children.length===0)if(this.statics.defaultChild!=null){var A=h.create(this.statics.defaultChild);this.appendChild(A),A.optimize(v)}else this.remove()},p.prototype.path=function(v,A){A===void 0&&(A=!1);var C=this.children.find(v,A),w=C[0],E=C[1],S=[[this,v]];return w instanceof p?S.concat(w.path(E,A)):(w!=null&&S.push([w,E]),S)},p.prototype.removeChild=function(v){this.children.remove(v)},p.prototype.replace=function(v){v instanceof p&&v.moveChildren(this),g.prototype.replace.call(this,v)},p.prototype.split=function(v,A){if(A===void 0&&(A=!1),!A){if(v===0)return this;if(v===this.length())return this.next}var C=this.clone();return this.parent.insertBefore(C,this.next),this.children.forEachAt(v,this.length(),function(w,E,S){w=w.split(E,A),C.appendChild(w)}),C},p.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},p.prototype.update=function(v,A){var C=this,w=[],E=[];v.forEach(function(S){S.target===C.domNode&&S.type==="childList"&&(w.push.apply(w,S.addedNodes),E.push.apply(E,S.removedNodes))}),E.forEach(function(S){if(!(S.parentNode!=null&&S.tagName!=="IFRAME"&&document.body.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var O=h.find(S);O!=null&&(O.domNode.parentNode==null||O.domNode.parentNode===C.domNode)&&O.detach()}}),w.filter(function(S){return S.parentNode==C.domNode}).sort(function(S,O){return S===O?0:S.compareDocumentPosition(O)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(S){var O=null;S.nextSibling!=null&&(O=h.find(S.nextSibling));var b=y(S);(b.next!=O||b.next==null)&&(b.parent!=null&&b.parent.removeChild(C),C.insertBefore(b,O||void 0))})},p}(c.default);function y(g){var p=h.find(g);if(p==null)try{p=h.create(g)}catch{p=h.create(h.Scope.INLINE),[].slice.call(g.childNodes).forEach(function(A){p.domNode.appendChild(A)}),g.parentNode&&g.parentNode.replaceChild(p.domNode,g),p.attach()}return p}n.default=d},function(t,n,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var A in v)v.hasOwnProperty(A)&&(p[A]=v[A])};return function(p,v){g(p,v);function A(){this.constructor=p}p.prototype=v===null?Object.create(v):(A.prototype=v.prototype,new A)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(12),c=i(31),h=i(17),d=i(1),y=function(g){a(p,g);function p(v){var A=g.call(this,v)||this;return A.attributes=new c.default(A.domNode),A}return p.formats=function(v){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return v.tagName.toLowerCase()},p.prototype.format=function(v,A){var C=d.query(v);C instanceof u.default?this.attributes.attribute(C,A):A&&C!=null&&(v!==this.statics.blotName||this.formats()[v]!==A)&&this.replaceWith(v,A)},p.prototype.formats=function(){var v=this.attributes.values(),A=this.statics.formats(this.domNode);return A!=null&&(v[this.statics.blotName]=A),v},p.prototype.replaceWith=function(v,A){var C=g.prototype.replaceWith.call(this,v,A);return this.attributes.copy(C),C},p.prototype.update=function(v,A){var C=this;g.prototype.update.call(this,v,A),v.some(function(w){return w.target===C.domNode&&w.type==="attributes"})&&this.attributes.build()},p.prototype.wrap=function(v,A){var C=g.prototype.wrap.call(this,v,A);return C instanceof p&&C.statics.scope===this.statics.scope&&this.attributes.move(C),C},p}(h.default);n.default=y},function(t,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){d(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(30),c=i(1),h=function(d){a(y,d);function y(){return d!==null&&d.apply(this,arguments)||this}return y.value=function(g){return!0},y.prototype.index=function(g,p){return this.domNode===g||this.domNode.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(p,1):-1},y.prototype.position=function(g,p){var v=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return g>0&&(v+=1),[this.parent.domNode,v]},y.prototype.value=function(){var g;return g={},g[this.statics.blotName]=this.statics.value(this.domNode)||!0,g},y.scope=c.Scope.INLINE_BLOT,y}(u.default);n.default=h},function(t,n,i){var a=i(11),u=i(3),c={attributes:{compose:function(d,y,g){typeof d!="object"&&(d={}),typeof y!="object"&&(y={});var p=u(!0,{},y);g||(p=Object.keys(p).reduce(function(A,C){return p[C]!=null&&(A[C]=p[C]),A},{}));for(var v in d)d[v]!==void 0&&y[v]===void 0&&(p[v]=d[v]);return Object.keys(p).length>0?p:void 0},diff:function(d,y){typeof d!="object"&&(d={}),typeof y!="object"&&(y={});var g=Object.keys(d).concat(Object.keys(y)).reduce(function(p,v){return a(d[v],y[v])||(p[v]=y[v]===void 0?null:y[v]),p},{});return Object.keys(g).length>0?g:void 0},transform:function(d,y,g){if(typeof d!="object")return y;if(typeof y=="object"){if(!g)return y;var p=Object.keys(y).reduce(function(v,A){return d[A]===void 0&&(v[A]=y[A]),v},{});return Object.keys(p).length>0?p:void 0}}},iterator:function(d){return new h(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function h(d){this.ops=d,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(d){d||(d=1/0);var y=this.ops[this.index];if(y){var g=this.offset,p=c.length(y);if(d>=p-g?(d=p-g,this.index+=1,this.offset=0):this.offset+=d,typeof y.delete=="number")return{delete:d};var v={};return y.attributes&&(v.attributes=y.attributes),typeof y.retain=="number"?v.retain=d:typeof y.insert=="string"?v.insert=y.insert.substr(g,d):v.insert=y.insert,v}else return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,y=this.index,g=this.next(),p=this.ops.slice(this.index);return this.offset=d,this.index=y,[g].concat(p)}else return[]},t.exports=c},function(t,n){var i=function(){function a(C,w){return w!=null&&C instanceof w}var u;try{u=Map}catch{u=function(){}}var c;try{c=Set}catch{c=function(){}}var h;try{h=Promise}catch{h=function(){}}function d(C,w,E,S,O){typeof w=="object"&&(E=w.depth,S=w.prototype,O=w.includeNonEnumerable,w=w.circular);var b=[],M=[],q=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof E>"u"&&(E=1/0);function R(_,D){if(_===null)return null;if(D===0)return _;var x,I;if(typeof _!="object")return _;if(a(_,u))x=new u;else if(a(_,c))x=new c;else if(a(_,h))x=new h(function(H,B){_.then(function(V){H(R(V,D-1))},function(V){B(R(V,D-1))})});else if(d.__isArray(_))x=[];else if(d.__isRegExp(_))x=new RegExp(_.source,A(_)),_.lastIndex&&(x.lastIndex=_.lastIndex);else if(d.__isDate(_))x=new Date(_.getTime());else{if(q&&Buffer.isBuffer(_))return Buffer.allocUnsafe?x=Buffer.allocUnsafe(_.length):x=new Buffer(_.length),_.copy(x),x;a(_,Error)?x=Object.create(_):typeof S>"u"?(I=Object.getPrototypeOf(_),x=Object.create(I)):(x=Object.create(S),I=S)}if(w){var P=b.indexOf(_);if(P!=-1)return M[P];b.push(_),M.push(x)}a(_,u)&&_.forEach(function(H,B){var V=R(B,D-1),z=R(H,D-1);x.set(V,z)}),a(_,c)&&_.forEach(function(H){var B=R(H,D-1);x.add(B)});for(var N in _){var W;I&&(W=Object.getOwnPropertyDescriptor(I,N)),!(W&&W.set==null)&&(x[N]=R(_[N],D-1))}if(Object.getOwnPropertySymbols)for(var J=Object.getOwnPropertySymbols(_),N=0;N<J.length;N++){var se=J[N],X=Object.getOwnPropertyDescriptor(_,se);X&&!X.enumerable&&!O||(x[se]=R(_[se],D-1),X.enumerable||Object.defineProperty(x,se,{enumerable:!1}))}if(O)for(var re=Object.getOwnPropertyNames(_),N=0;N<re.length;N++){var $=re[N],X=Object.getOwnPropertyDescriptor(_,$);X&&X.enumerable||(x[$]=R(_[$],D-1),Object.defineProperty(x,$,{enumerable:!1}))}return x}return R(C,E)}d.clonePrototype=function(w){if(w===null)return null;var E=function(){};return E.prototype=w,new E};function y(C){return Object.prototype.toString.call(C)}d.__objToStr=y;function g(C){return typeof C=="object"&&y(C)==="[object Date]"}d.__isDate=g;function p(C){return typeof C=="object"&&y(C)==="[object Array]"}d.__isArray=p;function v(C){return typeof C=="object"&&y(C)==="[object RegExp]"}d.__isRegExp=v;function A(C){var w="";return C.global&&(w+="g"),C.ignoreCase&&(w+="i"),C.multiline&&(w+="m"),w}return d.__getRegExpFlags=A,d}();typeof t=="object"&&t.exports&&(t.exports=i)},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function x(I,P){var N=[],W=!0,J=!1,se=void 0;try{for(var X=I[Symbol.iterator](),re;!(W=(re=X.next()).done)&&(N.push(re.value),!(P&&N.length===P));W=!0);}catch($){J=!0,se=$}finally{try{!W&&X.return&&X.return()}finally{if(J)throw se}}return N}return function(I,P){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return x(I,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function x(I,P){for(var N=0;N<P.length;N++){var W=P[N];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(I,W.key,W)}}return function(I,P,N){return P&&x(I.prototype,P),N&&x(I,N),I}}(),c=function x(I,P,N){I===null&&(I=Function.prototype);var W=Object.getOwnPropertyDescriptor(I,P);if(W===void 0){var J=Object.getPrototypeOf(I);return J===null?void 0:x(J,P,N)}else{if("value"in W)return W.value;var se=W.get;return se===void 0?void 0:se.call(N)}},h=i(0),d=b(h),y=i(8),g=b(y),p=i(4),v=b(p),A=i(16),C=b(A),w=i(13),E=b(w),S=i(25),O=b(S);function b(x){return x&&x.__esModule?x:{default:x}}function M(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function q(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:x}function R(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}function _(x){return x instanceof v.default||x instanceof p.BlockEmbed}var D=function(x){R(I,x);function I(P,N){M(this,I);var W=q(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,P));return W.emitter=N.emitter,Array.isArray(N.whitelist)&&(W.whitelist=N.whitelist.reduce(function(J,se){return J[se]=!0,J},{})),W.domNode.addEventListener("DOMNodeInserted",function(){}),W.optimize(),W.enable(),W}return u(I,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,W){var J=this.line(N),se=a(J,2),X=se[0],re=se[1],$=this.line(N+W),H=a($,1),B=H[0];if(c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,N,W),B!=null&&X!==B&&re>0){if(X instanceof p.BlockEmbed||B instanceof p.BlockEmbed){this.optimize();return}if(X instanceof E.default){var V=X.newlineIndex(X.length(),!0);if(V>-1&&(X=X.split(V+1),X===B)){this.optimize();return}}else if(B instanceof E.default){var z=B.newlineIndex(0);z>-1&&B.split(z+1)}var ee=B.children.head instanceof C.default?null:B.children.head;X.moveChildren(B,ee),X.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,W,J,se){this.whitelist!=null&&!this.whitelist[J]||(c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,N,W,J,se),this.optimize())}},{key:"insertAt",value:function(N,W,J){if(!(J!=null&&this.whitelist!=null&&!this.whitelist[W])){if(N>=this.length())if(J==null||d.default.query(W,d.default.Scope.BLOCK)==null){var se=d.default.create(this.statics.defaultChild);this.appendChild(se),J==null&&W.endsWith(`
`)&&(W=W.slice(0,-1)),se.insertAt(0,W,J)}else{var X=d.default.create(W,J);this.appendChild(X)}else c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,N,W,J);this.optimize()}}},{key:"insertBefore",value:function(N,W){if(N.statics.scope===d.default.Scope.INLINE_BLOT){var J=d.default.create(this.statics.defaultChild);J.appendChild(N),N=J}c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,N,W)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(_,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,J=function se(X,re,$){var H=[],B=$;return X.children.forEachAt(re,$,function(V,z,ee){_(V)?H.push(V):V instanceof d.default.Container&&(H=H.concat(se(V,z,B))),B-=ee}),H};return J(this,N,W)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,N,W),N.length>0&&this.emitter.emit(g.default.events.SCROLL_OPTIMIZE,N,W))}},{key:"path",value:function(N){return c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var W=g.default.sources.USER;typeof N=="string"&&(W=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(g.default.events.SCROLL_BEFORE_UPDATE,W,N),c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(g.default.events.SCROLL_UPDATE,W,N)}}}]),I}(d.default.Scroll);D.blotName="scroll",D.className="ql-editor",D.tagName="DIV",D.defaultChild="block",D.allowedChildren=[v.default,p.BlockEmbed,O.default],n.default=D},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},u=function(){function G(Q,te){var ie=[],fe=!0,ge=!1,xe=void 0;try{for(var Ie=Q[Symbol.iterator](),ke;!(fe=(ke=Ie.next()).done)&&(ie.push(ke.value),!(te&&ie.length===te));fe=!0);}catch(Re){ge=!0,xe=Re}finally{try{!fe&&Ie.return&&Ie.return()}finally{if(ge)throw xe}}return ie}return function(Q,te){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return G(Q,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function G(Q,te){for(var ie=0;ie<te.length;ie++){var fe=te[ie];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(Q,fe.key,fe)}}return function(Q,te,ie){return te&&G(Q.prototype,te),ie&&G(Q,ie),Q}}(),h=i(21),d=x(h),y=i(11),g=x(y),p=i(3),v=x(p),A=i(2),C=x(A),w=i(20),E=x(w),S=i(0),O=x(S),b=i(5),M=x(b),q=i(10),R=x(q),_=i(9),D=x(_);function x(G){return G&&G.__esModule?G:{default:G}}function I(G,Q,te){return Q in G?Object.defineProperty(G,Q,{value:te,enumerable:!0,configurable:!0,writable:!0}):G[Q]=te,G}function P(G,Q){if(!(G instanceof Q))throw new TypeError("Cannot call a class as a function")}function N(G,Q){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:G}function W(G,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);G.prototype=Object.create(Q&&Q.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf(G,Q):G.__proto__=Q)}var J=(0,R.default)("quill:keyboard"),se=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",X=function(G){W(Q,G),c(Q,null,[{key:"match",value:function(ie,fe){return fe=Z(fe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ge){return!!fe[ge]!==ie[ge]&&fe[ge]!==null})?!1:fe.key===(ie.which||ie.keyCode)}}]);function Q(te,ie){P(this,Q);var fe=N(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,te,ie));return fe.bindings={},Object.keys(fe.options.bindings).forEach(function(ge){ge==="list autofill"&&te.scroll.whitelist!=null&&!te.scroll.whitelist.list||fe.options.bindings[ge]&&fe.addBinding(fe.options.bindings[ge])}),fe.addBinding({key:Q.keys.ENTER,shiftKey:null},V),fe.addBinding({key:Q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(fe.addBinding({key:Q.keys.BACKSPACE},{collapsed:!0},$),fe.addBinding({key:Q.keys.DELETE},{collapsed:!0},H)):(fe.addBinding({key:Q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},$),fe.addBinding({key:Q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},H)),fe.addBinding({key:Q.keys.BACKSPACE},{collapsed:!1},B),fe.addBinding({key:Q.keys.DELETE},{collapsed:!1},B),fe.addBinding({key:Q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},$),fe.listen(),fe}return c(Q,[{key:"addBinding",value:function(ie){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},xe=Z(ie);if(xe==null||xe.key==null)return J.warn("Attempted to add invalid keyboard binding",xe);typeof fe=="function"&&(fe={handler:fe}),typeof ge=="function"&&(ge={handler:ge}),xe=(0,v.default)(xe,fe,ge),this.bindings[xe.key]=this.bindings[xe.key]||[],this.bindings[xe.key].push(xe)}},{key:"listen",value:function(){var ie=this;this.quill.root.addEventListener("keydown",function(fe){if(!fe.defaultPrevented){var ge=fe.which||fe.keyCode,xe=(ie.bindings[ge]||[]).filter(function(ct){return Q.match(fe,ct)});if(xe.length!==0){var Ie=ie.quill.getSelection();if(!(Ie==null||!ie.quill.hasFocus())){var ke=ie.quill.getLine(Ie.index),Re=u(ke,2),Be=Re[0],et=Re[1],le=ie.quill.getLeaf(Ie.index),de=u(le,2),Ee=de[0],Se=de[1],ve=Ie.length===0?[Ee,Se]:ie.quill.getLeaf(Ie.index+Ie.length),Ge=u(ve,2),Me=Ge[0],Ve=Ge[1],$e=Ee instanceof O.default.Text?Ee.value().slice(0,Se):"",Ze=Me instanceof O.default.Text?Me.value().slice(Ve):"",Xe={collapsed:Ie.length===0,empty:Ie.length===0&&Be.length()<=1,format:ie.quill.getFormat(Ie),offset:et,prefix:$e,suffix:Ze},er=xe.some(function(ct){if(ct.collapsed!=null&&ct.collapsed!==Xe.collapsed||ct.empty!=null&&ct.empty!==Xe.empty||ct.offset!=null&&ct.offset!==Xe.offset)return!1;if(Array.isArray(ct.format)){if(ct.format.every(function(Ct){return Xe.format[Ct]==null}))return!1}else if(a(ct.format)==="object"&&!Object.keys(ct.format).every(function(Ct){return ct.format[Ct]===!0?Xe.format[Ct]!=null:ct.format[Ct]===!1?Xe.format[Ct]==null:(0,g.default)(ct.format[Ct],Xe.format[Ct])}))return!1;return ct.prefix!=null&&!ct.prefix.test(Xe.prefix)||ct.suffix!=null&&!ct.suffix.test(Xe.suffix)?!1:ct.handler.call(ie,Ie,Xe)!==!0});er&&fe.preventDefault()}}}})}}]),Q}(D.default);X.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},X.DEFAULTS={bindings:{bold:ee("bold"),italic:ee("italic"),underline:ee("underline"),indent:{key:X.keys.TAB,format:["blockquote","indent","list"],handler:function(Q,te){if(te.collapsed&&te.offset!==0)return!0;this.quill.format("indent","+1",M.default.sources.USER)}},outdent:{key:X.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Q,te){if(te.collapsed&&te.offset!==0)return!0;this.quill.format("indent","-1",M.default.sources.USER)}},"outdent backspace":{key:X.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Q,te){te.format.indent!=null?this.quill.format("indent","-1",M.default.sources.USER):te.format.list!=null&&this.quill.format("list",!1,M.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:X.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Q){this.quill.deleteText(Q.index-1,1,M.default.sources.USER)}},tab:{key:X.keys.TAB,handler:function(Q){this.quill.history.cutoff();var te=new C.default().retain(Q.index).delete(Q.length).insert("	");this.quill.updateContents(te,M.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index+1,M.default.sources.SILENT)}},"list empty enter":{key:X.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Q,te){this.quill.format("list",!1,M.default.sources.USER),te.format.indent&&this.quill.format("indent",!1,M.default.sources.USER)}},"checklist enter":{key:X.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Q){var te=this.quill.getLine(Q.index),ie=u(te,2),fe=ie[0],ge=ie[1],xe=(0,v.default)({},fe.formats(),{list:"checked"}),Ie=new C.default().retain(Q.index).insert(`
`,xe).retain(fe.length()-ge-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ie,M.default.sources.USER),this.quill.setSelection(Q.index+1,M.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:X.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Q,te){var ie=this.quill.getLine(Q.index),fe=u(ie,2),ge=fe[0],xe=fe[1],Ie=new C.default().retain(Q.index).insert(`
`,te.format).retain(ge.length()-xe-1).retain(1,{header:null});this.quill.updateContents(Ie,M.default.sources.USER),this.quill.setSelection(Q.index+1,M.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Q,te){var ie=te.prefix.length,fe=this.quill.getLine(Q.index),ge=u(fe,2),xe=ge[0],Ie=ge[1];if(Ie>ie)return!0;var ke=void 0;switch(te.prefix.trim()){case"[]":case"[ ]":ke="unchecked";break;case"[x]":ke="checked";break;case"-":case"*":ke="bullet";break;default:ke="ordered"}this.quill.insertText(Q.index," ",M.default.sources.USER),this.quill.history.cutoff();var Re=new C.default().retain(Q.index-Ie).delete(ie+1).retain(xe.length()-2-Ie).retain(1,{list:ke});this.quill.updateContents(Re,M.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index-ie,M.default.sources.SILENT)}},"code exit":{key:X.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Q){var te=this.quill.getLine(Q.index),ie=u(te,2),fe=ie[0],ge=ie[1],xe=new C.default().retain(Q.index+fe.length()-ge-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(xe,M.default.sources.USER)}},"embed left":re(X.keys.LEFT,!1),"embed left shift":re(X.keys.LEFT,!0),"embed right":re(X.keys.RIGHT,!1),"embed right shift":re(X.keys.RIGHT,!0)}};function re(G,Q){var te,ie=G===X.keys.LEFT?"prefix":"suffix";return te={key:G,shiftKey:Q,altKey:null},I(te,ie,/^$/),I(te,"handler",function(ge){var xe=ge.index;G===X.keys.RIGHT&&(xe+=ge.length+1);var Ie=this.quill.getLeaf(xe),ke=u(Ie,1),Re=ke[0];return Re instanceof O.default.Embed?(G===X.keys.LEFT?Q?this.quill.setSelection(ge.index-1,ge.length+1,M.default.sources.USER):this.quill.setSelection(ge.index-1,M.default.sources.USER):Q?this.quill.setSelection(ge.index,ge.length+1,M.default.sources.USER):this.quill.setSelection(ge.index+ge.length+1,M.default.sources.USER),!1):!0}),te}function $(G,Q){if(!(G.index===0||this.quill.getLength()<=1)){var te=this.quill.getLine(G.index),ie=u(te,1),fe=ie[0],ge={};if(Q.offset===0){var xe=this.quill.getLine(G.index-1),Ie=u(xe,1),ke=Ie[0];if(ke!=null&&ke.length()>1){var Re=fe.formats(),Be=this.quill.getFormat(G.index-1,1);ge=E.default.attributes.diff(Re,Be)||{}}}var et=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Q.prefix)?2:1;this.quill.deleteText(G.index-et,et,M.default.sources.USER),Object.keys(ge).length>0&&this.quill.formatLine(G.index-et,et,ge,M.default.sources.USER),this.quill.focus()}}function H(G,Q){var te=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Q.suffix)?2:1;if(!(G.index>=this.quill.getLength()-te)){var ie={},fe=0,ge=this.quill.getLine(G.index),xe=u(ge,1),Ie=xe[0];if(Q.offset>=Ie.length()-1){var ke=this.quill.getLine(G.index+1),Re=u(ke,1),Be=Re[0];if(Be){var et=Ie.formats(),le=this.quill.getFormat(G.index,1);ie=E.default.attributes.diff(et,le)||{},fe=Be.length()}}this.quill.deleteText(G.index,te,M.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine(G.index+fe-1,te,ie,M.default.sources.USER)}}function B(G){var Q=this.quill.getLines(G),te={};if(Q.length>1){var ie=Q[0].formats(),fe=Q[Q.length-1].formats();te=E.default.attributes.diff(fe,ie)||{}}this.quill.deleteText(G,M.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(G.index,1,te,M.default.sources.USER),this.quill.setSelection(G.index,M.default.sources.SILENT),this.quill.focus()}function V(G,Q){var te=this;G.length>0&&this.quill.scroll.deleteAt(G.index,G.length);var ie=Object.keys(Q.format).reduce(function(fe,ge){return O.default.query(ge,O.default.Scope.BLOCK)&&!Array.isArray(Q.format[ge])&&(fe[ge]=Q.format[ge]),fe},{});this.quill.insertText(G.index,`
`,ie,M.default.sources.USER),this.quill.setSelection(G.index+1,M.default.sources.SILENT),this.quill.focus(),Object.keys(Q.format).forEach(function(fe){ie[fe]==null&&(Array.isArray(Q.format[fe])||fe!=="link"&&te.quill.format(fe,Q.format[fe],M.default.sources.USER))})}function z(G){return{key:X.keys.TAB,shiftKey:!G,format:{"code-block":!0},handler:function(te){var ie=O.default.query("code-block"),fe=te.index,ge=te.length,xe=this.quill.scroll.descendant(ie,fe),Ie=u(xe,2),ke=Ie[0],Re=Ie[1];if(ke!=null){var Be=this.quill.getIndex(ke),et=ke.newlineIndex(Re,!0)+1,le=ke.newlineIndex(Be+Re+ge),de=ke.domNode.textContent.slice(et,le).split(`
`);Re=0,de.forEach(function(Ee,Se){G?(ke.insertAt(et+Re,ie.TAB),Re+=ie.TAB.length,Se===0?fe+=ie.TAB.length:ge+=ie.TAB.length):Ee.startsWith(ie.TAB)&&(ke.deleteAt(et+Re,ie.TAB.length),Re-=ie.TAB.length,Se===0?fe-=ie.TAB.length:ge-=ie.TAB.length),Re+=Ee.length+1}),this.quill.update(M.default.sources.USER),this.quill.setSelection(fe,ge,M.default.sources.SILENT)}}}}function ee(G){return{key:G[0].toUpperCase(),shortKey:!0,handler:function(te,ie){this.quill.format(G,!ie.format[G],M.default.sources.USER)}}}function Z(G){if(typeof G=="string"||typeof G=="number")return Z({key:G});if((typeof G>"u"?"undefined":a(G))==="object"&&(G=(0,d.default)(G,!1)),typeof G.key=="string")if(X.keys[G.key.toUpperCase()]!=null)G.key=X.keys[G.key.toUpperCase()];else if(G.key.length===1)G.key=G.key.toUpperCase().charCodeAt(0);else return null;return G.shortKey&&(G[se]=G.shortKey,delete G.shortKey),G}n.default=X,n.SHORTKEY=se},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function E(S,O){var b=[],M=!0,q=!1,R=void 0;try{for(var _=S[Symbol.iterator](),D;!(M=(D=_.next()).done)&&(b.push(D.value),!(O&&b.length===O));M=!0);}catch(x){q=!0,R=x}finally{try{!M&&_.return&&_.return()}finally{if(q)throw R}}return b}return function(S,O){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return E(S,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function E(S,O,b){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,O);if(M===void 0){var q=Object.getPrototypeOf(S);return q===null?void 0:E(q,O,b)}else{if("value"in M)return M.value;var R=M.get;return R===void 0?void 0:R.call(b)}},c=function(){function E(S,O){for(var b=0;b<O.length;b++){var M=O[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,O,b){return O&&E(S.prototype,O),b&&E(S,b),S}}(),h=i(0),d=p(h),y=i(7),g=p(y);function p(E){return E&&E.__esModule?E:{default:E}}function v(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function A(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function C(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var w=function(E){C(S,E),c(S,null,[{key:"value",value:function(){}}]);function S(O,b){v(this,S);var M=A(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,O));return M.selection=b,M.textNode=document.createTextNode(S.CONTENTS),M.domNode.appendChild(M.textNode),M._length=0,M}return c(S,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,M){if(this._length!==0)return u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,b,M);for(var q=this,R=0;q!=null&&q.statics.scope!==d.default.Scope.BLOCK_BLOT;)R+=q.offset(q.parent),q=q.parent;q!=null&&(this._length=S.CONTENTS.length,q.optimize(),q.formatAt(R,S.CONTENTS.length,b,M),this._length=0)}},{key:"index",value:function(b,M){return b===this.textNode?0:u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,b,M)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,M=this.selection.getNativeRange(),q=void 0,R=void 0,_=void 0;if(M!=null&&M.start.node===b&&M.end.node===b){var D=[b,M.start.offset,M.end.offset];q=D[0],R=D[1],_=D[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==S.CONTENTS){var x=this.textNode.data.split(S.CONTENTS).join("");this.next instanceof g.default?(q=this.next.domNode,this.next.insertAt(0,x),this.textNode.data=S.CONTENTS):(this.textNode.data=x,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(S.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),R!=null){var I=[R,_].map(function(N){return Math.max(0,Math.min(q.data.length,N-1))}),P=a(I,2);return R=P[0],_=P[1],{startNode:q,startOffset:R,endNode:q,endOffset:_}}}}},{key:"update",value:function(b,M){var q=this;if(b.some(function(_){return _.type==="characterData"&&_.target===q.textNode})){var R=this.restore();R&&(M.range=R)}}},{key:"value",value:function(){return""}}]),S}(d.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",n.default=w},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),u=d(a),c=i(4),h=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function y(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function g(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function p(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var v=function(A){p(C,A);function C(){return y(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return C}(u.default.Container);v.allowedChildren=[h.default,c.BlockEmbed,v],n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function w(E,S){for(var O=0;O<S.length;O++){var b=S[O];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(E,b.key,b)}}return function(E,S,O){return S&&w(E.prototype,S),O&&w(E,O),E}}(),u=function w(E,S,O){E===null&&(E=Function.prototype);var b=Object.getOwnPropertyDescriptor(E,S);if(b===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:w(M,S,O)}else{if("value"in b)return b.value;var q=b.get;return q===void 0?void 0:q.call(O)}},c=i(0),h=d(c);function d(w){return w&&w.__esModule?w:{default:w}}function y(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function g(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function p(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var v=function(w){p(E,w);function E(){return y(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"value",value:function(O){var b=u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,O);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(M){return("00"+parseInt(M).toString(16)).slice(-2)}).join("")):b}}]),E}(h.default.Attributor.Style),A=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),C=new v("color","color",{scope:h.default.Scope.INLINE});n.ColorAttributor=v,n.ColorClass=A,n.ColorStyle=C},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function C(w,E){for(var S=0;S<E.length;S++){var O=E[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,E,S){return E&&C(w.prototype,E),S&&C(w,S),w}}(),u=function C(w,E,S){w===null&&(w=Function.prototype);var O=Object.getOwnPropertyDescriptor(w,E);if(O===void 0){var b=Object.getPrototypeOf(w);return b===null?void 0:C(b,E,S)}else{if("value"in O)return O.value;var M=O.get;return M===void 0?void 0:M.call(S)}},c=i(6),h=d(c);function d(C){return C&&C.__esModule?C:{default:C}}function y(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}function g(C,w){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:C}function p(C,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);C.prototype=Object.create(w&&w.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(C,w):C.__proto__=w)}var v=function(C){p(w,C);function w(){return y(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(S,O){if(S!==this.statics.blotName||!O)return u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,S,O);O=this.constructor.sanitize(O),this.domNode.setAttribute("href",O)}}],[{key:"create",value:function(S){var O=u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,S);return S=this.sanitize(S),O.setAttribute("href",S),O.setAttribute("rel","noopener noreferrer"),O.setAttribute("target","_blank"),O}},{key:"formats",value:function(S){return S.getAttribute("href")}},{key:"sanitize",value:function(S){return A(S,this.PROTOCOL_WHITELIST)?S:this.SANITIZED_URL}}]),w}(h.default);v.blotName="link",v.tagName="A",v.SANITIZED_URL="about:blank",v.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function A(C,w){var E=document.createElement("a");E.href=C;var S=E.href.slice(0,E.href.indexOf(":"));return w.indexOf(S)>-1}n.default=v,n.sanitize=A},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},u=function(){function w(E,S){for(var O=0;O<S.length;O++){var b=S[O];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(E,b.key,b)}}return function(E,S,O){return S&&w(E.prototype,S),O&&w(E,O),E}}(),c=i(23),h=g(c),d=i(107),y=g(d);function g(w){return w&&w.__esModule?w:{default:w}}function p(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}var v=0;function A(w,E){w.setAttribute(E,w.getAttribute(E)!=="true")}var C=function(){function w(E){var S=this;p(this,w),this.select=E,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){S.togglePicker()}),this.label.addEventListener("keydown",function(O){switch(O.keyCode){case h.default.keys.ENTER:S.togglePicker();break;case h.default.keys.ESCAPE:S.escape(),O.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return u(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),A(this.label,"aria-expanded"),A(this.options,"aria-hidden")}},{key:"buildItem",value:function(S){var O=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),S.hasAttribute("value")&&b.setAttribute("data-value",S.getAttribute("value")),S.textContent&&b.setAttribute("data-label",S.textContent),b.addEventListener("click",function(){O.selectItem(b,!0)}),b.addEventListener("keydown",function(M){switch(M.keyCode){case h.default.keys.ENTER:O.selectItem(b,!0),M.preventDefault();break;case h.default.keys.ESCAPE:O.escape(),M.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var S=document.createElement("span");return S.classList.add("ql-picker-label"),S.innerHTML=y.default,S.tabIndex="0",S.setAttribute("role","button"),S.setAttribute("aria-expanded","false"),this.container.appendChild(S),S}},{key:"buildOptions",value:function(){var S=this,O=document.createElement("span");O.classList.add("ql-picker-options"),O.setAttribute("aria-hidden","true"),O.tabIndex="-1",O.id="ql-picker-options-"+v,v+=1,this.label.setAttribute("aria-controls",O.id),this.options=O,[].slice.call(this.select.options).forEach(function(b){var M=S.buildItem(b);O.appendChild(M),b.selected===!0&&S.selectItem(M)}),this.container.appendChild(O)}},{key:"buildPicker",value:function(){var S=this;[].slice.call(this.select.attributes).forEach(function(O){S.container.setAttribute(O.name,O.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var S=this;this.close(),setTimeout(function(){return S.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(S){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(S!==b&&(b!=null&&b.classList.remove("ql-selected"),S!=null&&(S.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(S.parentNode.children,S),S.hasAttribute("data-value")?this.label.setAttribute("data-value",S.getAttribute("data-value")):this.label.removeAttribute("data-value"),S.hasAttribute("data-label")?this.label.setAttribute("data-label",S.getAttribute("data-label")):this.label.removeAttribute("data-label"),O))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var M=document.createEvent("Event");M.initEvent("change",!0,!0),this.select.dispatchEvent(M)}this.close()}}},{key:"update",value:function(){var S=void 0;if(this.select.selectedIndex>-1){var O=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];S=this.select.options[this.select.selectedIndex],this.selectItem(O)}else this.selectItem(null);var b=S!=null&&S!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),w}();n.default=C},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),u=J(a),c=i(5),h=J(c),d=i(4),y=J(d),g=i(16),p=J(g),v=i(25),A=J(v),C=i(24),w=J(C),E=i(35),S=J(E),O=i(6),b=J(O),M=i(22),q=J(M),R=i(7),_=J(R),D=i(55),x=J(D),I=i(42),P=J(I),N=i(23),W=J(N);function J(se){return se&&se.__esModule?se:{default:se}}h.default.register({"blots/block":y.default,"blots/block/embed":d.BlockEmbed,"blots/break":p.default,"blots/container":A.default,"blots/cursor":w.default,"blots/embed":S.default,"blots/inline":b.default,"blots/scroll":q.default,"blots/text":_.default,"modules/clipboard":x.default,"modules/history":P.default,"modules/keyboard":W.default}),u.default.register(y.default,p.default,w.default,b.default,q.default,_.default),n.default=h.default},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),u=function(){function c(h){this.domNode=h,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(h){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),typeof h=="number"?d=document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?d=document.createElement(h):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return a.create(h)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},c.prototype.deleteAt=function(h,d){var y=this.isolate(h,d);y.remove()},c.prototype.formatAt=function(h,d,y,g){var p=this.isolate(h,d);if(a.query(y,a.Scope.BLOT)!=null&&g)p.wrap(y,g);else if(a.query(y,a.Scope.ATTRIBUTE)!=null){var v=a.create(this.statics.scope);p.wrap(v),v.format(y,g)}},c.prototype.insertAt=function(h,d,y){var g=y==null?a.create("text",d):a.create(d,y),p=this.split(h);this.parent.insertBefore(g,p)},c.prototype.insertInto=function(h,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var y=null;h.children.insertBefore(this,d),d!=null&&(y=d.domNode),(this.domNode.parentNode!=h.domNode||this.domNode.nextSibling!=y)&&h.domNode.insertBefore(this.domNode,y),this.parent=h,this.attach()},c.prototype.isolate=function(h,d){var y=this.split(h);return y.split(d),y},c.prototype.length=function(){return 1},c.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},c.prototype.optimize=function(h){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},c.prototype.replaceWith=function(h,d){var y=typeof h=="string"?a.create(h,d):h;return y.replace(this),y},c.prototype.split=function(h,d){return h===0?this:this.next},c.prototype.update=function(h,d){},c.prototype.wrap=function(h,d){var y=typeof h=="string"?a.create(h,d):h;return this.parent!=null&&this.parent.insertBefore(y,this.next),y.appendChild(this),y},c.blotName="abstract",c}();n.default=u},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),u=i(32),c=i(33),h=i(1),d=function(){function y(g){this.attributes={},this.domNode=g,this.build()}return y.prototype.attribute=function(g,p){p?g.add(this.domNode,p)&&(g.value(this.domNode)!=null?this.attributes[g.attrName]=g:delete this.attributes[g.attrName]):(g.remove(this.domNode),delete this.attributes[g.attrName])},y.prototype.build=function(){var g=this;this.attributes={};var p=a.default.keys(this.domNode),v=u.default.keys(this.domNode),A=c.default.keys(this.domNode);p.concat(v).concat(A).forEach(function(C){var w=h.query(C,h.Scope.ATTRIBUTE);w instanceof a.default&&(g.attributes[w.attrName]=w)})},y.prototype.copy=function(g){var p=this;Object.keys(this.attributes).forEach(function(v){var A=p.attributes[v].value(p.domNode);g.format(v,A)})},y.prototype.move=function(g){var p=this;this.copy(g),Object.keys(this.attributes).forEach(function(v){p.attributes[v].remove(p.domNode)}),this.attributes={}},y.prototype.values=function(){var g=this;return Object.keys(this.attributes).reduce(function(p,v){return p[v]=g.attributes[v].value(g.domNode),p},{})},y}();n.default=d},function(t,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){d(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(12);function c(d,y){var g=d.getAttribute("class")||"";return g.split(/\s+/).filter(function(p){return p.indexOf(y+"-")===0})}var h=function(d){a(y,d);function y(){return d!==null&&d.apply(this,arguments)||this}return y.keys=function(g){return(g.getAttribute("class")||"").split(/\s+/).map(function(p){return p.split("-").slice(0,-1).join("-")})},y.prototype.add=function(g,p){return this.canAdd(g,p)?(this.remove(g),g.classList.add(this.keyName+"-"+p),!0):!1},y.prototype.remove=function(g){var p=c(g,this.keyName);p.forEach(function(v){g.classList.remove(v)}),g.classList.length===0&&g.removeAttribute("class")},y.prototype.value=function(g){var p=c(g,this.keyName)[0]||"",v=p.slice(this.keyName.length+1);return this.canAdd(g,v)?v:""},y}(u.default);n.default=h},function(t,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){d(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(12);function c(d){var y=d.split("-"),g=y.slice(1).map(function(p){return p[0].toUpperCase()+p.slice(1)}).join("");return y[0]+g}var h=function(d){a(y,d);function y(){return d!==null&&d.apply(this,arguments)||this}return y.keys=function(g){return(g.getAttribute("style")||"").split(";").map(function(p){var v=p.split(":");return v[0].trim()})},y.prototype.add=function(g,p){return this.canAdd(g,p)?(g.style[c(this.keyName)]=p,!0):!1},y.prototype.remove=function(g){g.style[c(this.keyName)]="",g.getAttribute("style")||g.removeAttribute("style")},y.prototype.value=function(g){var p=g.style[c(this.keyName)];return this.canAdd(g,p)?p:""},y}(u.default);n.default=h},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(d,y){for(var g=0;g<y.length;g++){var p=y[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,y,g){return y&&h(d.prototype,y),g&&h(d,g),d}}();function u(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var c=function(){function h(d,y){u(this,h),this.quill=d,this.options=y,this.modules={}}return a(h,[{key:"init",value:function(){var y=this;Object.keys(this.options.modules).forEach(function(g){y.modules[g]==null&&y.addModule(g)})}},{key:"addModule",value:function(y){var g=this.quill.constructor.import("modules/"+y);return this.modules[y]=new g(this.quill,this.options.modules[y]||{}),this.modules[y]}}]),h}();c.DEFAULTS={modules:{}},c.themes={default:c},n.default=c},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function E(S,O){for(var b=0;b<O.length;b++){var M=O[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,O,b){return O&&E(S.prototype,O),b&&E(S,b),S}}(),u=function E(S,O,b){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,O);if(M===void 0){var q=Object.getPrototypeOf(S);return q===null?void 0:E(q,O,b)}else{if("value"in M)return M.value;var R=M.get;return R===void 0?void 0:R.call(b)}},c=i(0),h=g(c),d=i(7),y=g(d);function g(E){return E&&E.__esModule?E:{default:E}}function p(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function v(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function A(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var C="\uFEFF",w=function(E){A(S,E);function S(O){p(this,S);var b=v(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,O));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(M){b.contentNode.appendChild(M)}),b.leftGuard=document.createTextNode(C),b.rightGuard=document.createTextNode(C),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return a(S,[{key:"index",value:function(b,M){return b===this.leftGuard?0:b===this.rightGuard?1:u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,b,M)}},{key:"restore",value:function(b){var M=void 0,q=void 0,R=b.data.split(C).join("");if(b===this.leftGuard)if(this.prev instanceof y.default){var _=this.prev.length();this.prev.insertAt(_,R),M={startNode:this.prev.domNode,startOffset:_+R.length}}else q=document.createTextNode(R),this.parent.insertBefore(h.default.create(q),this),M={startNode:q,startOffset:R.length};else b===this.rightGuard&&(this.next instanceof y.default?(this.next.insertAt(0,R),M={startNode:this.next.domNode,startOffset:R.length}):(q=document.createTextNode(R),this.parent.insertBefore(h.default.create(q),this.next),M={startNode:q,startOffset:R.length}));return b.data=C,M}},{key:"update",value:function(b,M){var q=this;b.forEach(function(R){if(R.type==="characterData"&&(R.target===q.leftGuard||R.target===q.rightGuard)){var _=q.restore(R.target);_&&(M.range=_)}})}}]),S}(h.default.Embed);n.default=w},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}var h={scope:u.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new u.default.Attributor.Attribute("align","align",h),y=new u.default.Attributor.Class("align","ql-align",h),g=new u.default.Attributor.Style("align","text-align",h);n.AlignAttribute=d,n.AlignClass=y,n.AlignStyle=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),u=h(a),c=i(26);function h(g){return g&&g.__esModule?g:{default:g}}var d=new u.default.Attributor.Class("background","ql-bg",{scope:u.default.Scope.INLINE}),y=new c.ColorAttributor("background","background-color",{scope:u.default.Scope.INLINE});n.BackgroundClass=d,n.BackgroundStyle=y},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}var h={scope:u.default.Scope.BLOCK,whitelist:["rtl"]},d=new u.default.Attributor.Attribute("direction","dir",h),y=new u.default.Attributor.Class("direction","ql-direction",h),g=new u.default.Attributor.Style("direction","direction",h);n.DirectionAttribute=d,n.DirectionClass=y,n.DirectionStyle=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function E(S,O){for(var b=0;b<O.length;b++){var M=O[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,O,b){return O&&E(S.prototype,O),b&&E(S,b),S}}(),u=function E(S,O,b){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,O);if(M===void 0){var q=Object.getPrototypeOf(S);return q===null?void 0:E(q,O,b)}else{if("value"in M)return M.value;var R=M.get;return R===void 0?void 0:R.call(b)}},c=i(0),h=d(c);function d(E){return E&&E.__esModule?E:{default:E}}function y(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function g(E,S){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:E}function p(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(E,S):E.__proto__=S)}var v={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},A=new h.default.Attributor.Class("font","ql-font",v),C=function(E){p(S,E);function S(){return y(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"value",value:function(b){return u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),S}(h.default.Attributor.Style),w=new C("font","font-family",v);n.FontStyle=w,n.FontClass=A},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),u=c(a);function c(y){return y&&y.__esModule?y:{default:y}}var h=new u.default.Attributor.Class("size","ql-size",{scope:u.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new u.default.Attributor.Style("size","font-size",{scope:u.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=h,n.SizeStyle=d},function(t,n,i){t.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function O(b,M){for(var q=0;q<M.length;q++){var R=M[q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(b,R.key,R)}}return function(b,M,q){return M&&O(b.prototype,M),q&&O(b,q),b}}(),u=i(0),c=p(u),h=i(5),d=p(h),y=i(9),g=p(y);function p(O){return O&&O.__esModule?O:{default:O}}function v(O,b){if(!(O instanceof b))throw new TypeError("Cannot call a class as a function")}function A(O,b){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:O}function C(O,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);O.prototype=Object.create(b&&b.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(O,b):O.__proto__=b)}var w=function(O){C(b,O);function b(M,q){v(this,b);var R=A(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,M,q));return R.lastRecorded=0,R.ignoreChange=!1,R.clear(),R.quill.on(d.default.events.EDITOR_CHANGE,function(_,D,x,I){_!==d.default.events.TEXT_CHANGE||R.ignoreChange||(!R.options.userOnly||I===d.default.sources.USER?R.record(D,x):R.transform(D))}),R.quill.keyboard.addBinding({key:"Z",shortKey:!0},R.undo.bind(R)),R.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},R.redo.bind(R)),/Win/i.test(navigator.platform)&&R.quill.keyboard.addBinding({key:"Y",shortKey:!0},R.redo.bind(R)),R}return a(b,[{key:"change",value:function(q,R){if(this.stack[q].length!==0){var _=this.stack[q].pop();this.stack[R].push(_),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(_[q],d.default.sources.USER),this.ignoreChange=!1;var D=S(_[q]);this.quill.setSelection(D)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(q,R){if(q.ops.length!==0){this.stack.redo=[];var _=this.quill.getContents().diff(R),D=Date.now();if(this.lastRecorded+this.options.delay>D&&this.stack.undo.length>0){var x=this.stack.undo.pop();_=_.compose(x.undo),q=x.redo.compose(q)}else this.lastRecorded=D;this.stack.undo.push({redo:q,undo:_}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(q){this.stack.undo.forEach(function(R){R.undo=q.transform(R.undo,!0),R.redo=q.transform(R.redo,!0)}),this.stack.redo.forEach(function(R){R.undo=q.transform(R.undo,!0),R.redo=q.transform(R.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b}(g.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function E(O){var b=O.ops[O.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith(`
`):b.attributes!=null?Object.keys(b.attributes).some(function(M){return c.default.query(M,c.default.Scope.BLOCK)!=null}):!1}function S(O){var b=O.reduce(function(q,R){return q+=R.delete||0,q},0),M=O.length()-b;return E(O)&&(M-=1),M}n.default=w,n.getLastChangeIndex=S},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function V(z,ee){for(var Z=0;Z<ee.length;Z++){var G=ee[Z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(z,G.key,G)}}return function(z,ee,Z){return ee&&V(z.prototype,ee),Z&&V(z,Z),z}}(),u=function V(z,ee,Z){z===null&&(z=Function.prototype);var G=Object.getOwnPropertyDescriptor(z,ee);if(G===void 0){var Q=Object.getPrototypeOf(z);return Q===null?void 0:V(Q,ee,Z)}else{if("value"in G)return G.value;var te=G.get;return te===void 0?void 0:te.call(Z)}},c=i(3),h=D(c),d=i(2),y=D(d),g=i(8),p=D(g),v=i(23),A=D(v),C=i(34),w=D(C),E=i(59),S=D(E),O=i(60),b=D(O),M=i(28),q=D(M),R=i(61),_=D(R);function D(V){return V&&V.__esModule?V:{default:V}}function x(V,z){if(!(V instanceof z))throw new TypeError("Cannot call a class as a function")}function I(V,z){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:V}function P(V,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);V.prototype=Object.create(z&&z.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(V,z):V.__proto__=z)}var N=[!1,"center","right","justify"],W=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],J=[!1,"serif","monospace"],se=["1","2","3",!1],X=["small",!1,"large","huge"],re=function(V){P(z,V);function z(ee,Z){x(this,z);var G=I(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,ee,Z)),Q=function te(ie){if(!document.body.contains(ee.root))return document.body.removeEventListener("click",te);G.tooltip!=null&&!G.tooltip.root.contains(ie.target)&&document.activeElement!==G.tooltip.textbox&&!G.quill.hasFocus()&&G.tooltip.hide(),G.pickers!=null&&G.pickers.forEach(function(fe){fe.container.contains(ie.target)||fe.close()})};return ee.emitter.listenDOM("click",document.body,Q),G}return a(z,[{key:"addModule",value:function(Z){var G=u(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,Z);return Z==="toolbar"&&this.extendToolbar(G),G}},{key:"buildButtons",value:function(Z,G){Z.forEach(function(Q){var te=Q.getAttribute("class")||"";te.split(/\s+/).forEach(function(ie){if(ie.startsWith("ql-")&&(ie=ie.slice(3),G[ie]!=null))if(ie==="direction")Q.innerHTML=G[ie][""]+G[ie].rtl;else if(typeof G[ie]=="string")Q.innerHTML=G[ie];else{var fe=Q.value||"";fe!=null&&G[ie][fe]&&(Q.innerHTML=G[ie][fe])}})})}},{key:"buildPickers",value:function(Z,G){var Q=this;this.pickers=Z.map(function(ie){if(ie.classList.contains("ql-align"))return ie.querySelector("option")==null&&B(ie,N),new b.default(ie,G.align);if(ie.classList.contains("ql-background")||ie.classList.contains("ql-color")){var fe=ie.classList.contains("ql-background")?"background":"color";return ie.querySelector("option")==null&&B(ie,W,fe==="background"?"#ffffff":"#000000"),new S.default(ie,G[fe])}else return ie.querySelector("option")==null&&(ie.classList.contains("ql-font")?B(ie,J):ie.classList.contains("ql-header")?B(ie,se):ie.classList.contains("ql-size")&&B(ie,X)),new q.default(ie)});var te=function(){Q.pickers.forEach(function(fe){fe.update()})};this.quill.on(p.default.events.EDITOR_CHANGE,te)}}]),z}(w.default);re.DEFAULTS=(0,h.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,ee=this.container.querySelector("input.ql-image[type=file]");ee==null&&(ee=document.createElement("input"),ee.setAttribute("type","file"),ee.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ee.classList.add("ql-image"),ee.addEventListener("change",function(){if(ee.files!=null&&ee.files[0]!=null){var Z=new FileReader;Z.onload=function(G){var Q=z.quill.getSelection(!0);z.quill.updateContents(new y.default().retain(Q.index).delete(Q.length).insert({image:G.target.result}),p.default.sources.USER),z.quill.setSelection(Q.index+1,p.default.sources.SILENT),ee.value=""},Z.readAsDataURL(ee.files[0])}}),this.container.appendChild(ee)),ee.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var $=function(V){P(z,V);function z(ee,Z){x(this,z);var G=I(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,ee,Z));return G.textbox=G.root.querySelector('input[type="text"]'),G.listen(),G}return a(z,[{key:"listen",value:function(){var Z=this;this.textbox.addEventListener("keydown",function(G){A.default.match(G,"enter")?(Z.save(),G.preventDefault()):A.default.match(G,"escape")&&(Z.cancel(),G.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),G!=null?this.textbox.value=G:Z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Z)||""),this.root.setAttribute("data-mode",Z)}},{key:"restoreFocus",value:function(){var Z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Z}},{key:"save",value:function(){var Z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var G=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Z,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Z,p.default.sources.USER)),this.quill.root.scrollTop=G;break}case"video":Z=H(Z);case"formula":{if(!Z)break;var Q=this.quill.getSelection(!0);if(Q!=null){var te=Q.index+Q.length;this.quill.insertEmbed(te,this.root.getAttribute("data-mode"),Z,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(te+1," ",p.default.sources.USER),this.quill.setSelection(te+2,p.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z}(_.default);function H(V){var z=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":V}function B(V,z){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(Z){var G=document.createElement("option");Z===ee?G.setAttribute("selected","selected"):G.setAttribute("value",Z),V.appendChild(G)})}n.BaseTooltip=$,n.default=re},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function u(){this.head=this.tail=null,this.length=0}return u.prototype.append=function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},u.prototype.contains=function(c){for(var h,d=this.iterator();h=d();)if(h===c)return!0;return!1},u.prototype.insertBefore=function(c,h){c&&(c.next=h,h!=null?(c.prev=h.prev,h.prev!=null&&(h.prev.next=c),h.prev=c,h===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},u.prototype.offset=function(c){for(var h=0,d=this.head;d!=null;){if(d===c)return h;h+=d.length(),d=d.next}return-1},u.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},u.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var h=c;return c!=null&&(c=c.next),h}},u.prototype.find=function(c,h){h===void 0&&(h=!1);for(var d,y=this.iterator();d=y();){var g=d.length();if(c<g||h&&c===g&&(d.next==null||d.next.length()!==0))return[d,c];c-=g}return[null,0]},u.prototype.forEach=function(c){for(var h,d=this.iterator();h=d();)c(h)},u.prototype.forEachAt=function(c,h,d){if(!(h<=0))for(var y=this.find(c),g=y[0],p=y[1],v,A=c-p,C=this.iterator(g);(v=C())&&A<c+h;){var w=v.length();c>A?d(v,c-A,Math.min(h,A+w-c)):d(v,0,Math.min(w,c+h-A)),A+=w}},u.prototype.map=function(c){return this.reduce(function(h,d){return h.push(c(d)),h},[])},u.prototype.reduce=function(c,h){for(var d,y=this.iterator();d=y();)h=c(h,d);return h},u}();n.default=a},function(t,n,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var A in v)v.hasOwnProperty(A)&&(p[A]=v[A])};return function(p,v){g(p,v);function A(){this.constructor=p}p.prototype=v===null?Object.create(v):(A.prototype=v.prototype,new A)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(17),c=i(1),h={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,y=function(g){a(p,g);function p(v){var A=g.call(this,v)||this;return A.scroll=A,A.observer=new MutationObserver(function(C){A.update(C)}),A.observer.observe(A.domNode,h),A.attach(),A}return p.prototype.detach=function(){g.prototype.detach.call(this),this.observer.disconnect()},p.prototype.deleteAt=function(v,A){this.update(),v===0&&A===this.length()?this.children.forEach(function(C){C.remove()}):g.prototype.deleteAt.call(this,v,A)},p.prototype.formatAt=function(v,A,C,w){this.update(),g.prototype.formatAt.call(this,v,A,C,w)},p.prototype.insertAt=function(v,A,C){this.update(),g.prototype.insertAt.call(this,v,A,C)},p.prototype.optimize=function(v,A){var C=this;v===void 0&&(v=[]),A===void 0&&(A={}),g.prototype.optimize.call(this,A);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)v.push(w.pop());for(var E=function(M,q){q===void 0&&(q=!0),!(M==null||M===C)&&M.domNode.parentNode!=null&&(M.domNode[c.DATA_KEY].mutations==null&&(M.domNode[c.DATA_KEY].mutations=[]),q&&E(M.parent))},S=function(M){M.domNode[c.DATA_KEY]==null||M.domNode[c.DATA_KEY].mutations==null||(M instanceof u.default&&M.children.forEach(S),M.optimize(A))},O=v,b=0;O.length>0;b+=1){if(b>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(O.forEach(function(M){var q=c.find(M.target,!0);q!=null&&(q.domNode===M.target&&(M.type==="childList"?(E(c.find(M.previousSibling,!1)),[].forEach.call(M.addedNodes,function(R){var _=c.find(R,!1);E(_,!1),_ instanceof u.default&&_.children.forEach(function(D){E(D,!1)})})):M.type==="attributes"&&E(q.prev)),E(q))}),this.children.forEach(S),O=[].slice.call(this.observer.takeRecords()),w=O.slice();w.length>0;)v.push(w.pop())}},p.prototype.update=function(v,A){var C=this;A===void 0&&(A={}),v=v||this.observer.takeRecords(),v.map(function(w){var E=c.find(w.target,!0);return E==null?null:E.domNode[c.DATA_KEY].mutations==null?(E.domNode[c.DATA_KEY].mutations=[w],E):(E.domNode[c.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===C||w.domNode[c.DATA_KEY]==null||w.update(w.domNode[c.DATA_KEY].mutations||[],A)}),this.domNode[c.DATA_KEY].mutations!=null&&g.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,A),this.optimize(v,A)},p.blotName="scroll",p.defaultChild="block",p.scope=c.Scope.BLOCK_BLOT,p.tagName="DIV",p}(u.default);n.default=y},function(t,n,i){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var v in p)p.hasOwnProperty(v)&&(g[v]=p[v])};return function(g,p){y(g,p);function v(){this.constructor=g}g.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(18),c=i(1);function h(y,g){if(Object.keys(y).length!==Object.keys(g).length)return!1;for(var p in y)if(y[p]!==g[p])return!1;return!0}var d=function(y){a(g,y);function g(){return y!==null&&y.apply(this,arguments)||this}return g.formats=function(p){if(p.tagName!==g.tagName)return y.formats.call(this,p)},g.prototype.format=function(p,v){var A=this;p===this.statics.blotName&&!v?(this.children.forEach(function(C){C instanceof u.default||(C=C.wrap(g.blotName,!0)),A.attributes.copy(C)}),this.unwrap()):y.prototype.format.call(this,p,v)},g.prototype.formatAt=function(p,v,A,C){if(this.formats()[A]!=null||c.query(A,c.Scope.ATTRIBUTE)){var w=this.isolate(p,v);w.format(A,C)}else y.prototype.formatAt.call(this,p,v,A,C)},g.prototype.optimize=function(p){y.prototype.optimize.call(this,p);var v=this.formats();if(Object.keys(v).length===0)return this.unwrap();var A=this.next;A instanceof g&&A.prev===this&&h(v,A.formats())&&(A.moveChildren(this),A.remove())},g.blotName="inline",g.scope=c.Scope.INLINE_BLOT,g.tagName="SPAN",g}(u.default);n.default=d},function(t,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){d(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(18),c=i(1),h=function(d){a(y,d);function y(){return d!==null&&d.apply(this,arguments)||this}return y.formats=function(g){var p=c.query(y.blotName).tagName;if(g.tagName!==p)return d.formats.call(this,g)},y.prototype.format=function(g,p){c.query(g,c.Scope.BLOCK)!=null&&(g===this.statics.blotName&&!p?this.replaceWith(y.blotName):d.prototype.format.call(this,g,p))},y.prototype.formatAt=function(g,p,v,A){c.query(v,c.Scope.BLOCK)!=null?this.format(v,A):d.prototype.formatAt.call(this,g,p,v,A)},y.prototype.insertAt=function(g,p,v){if(v==null||c.query(p,c.Scope.INLINE)!=null)d.prototype.insertAt.call(this,g,p,v);else{var A=this.split(g),C=c.create(p,v);A.parent.insertBefore(C,A)}},y.prototype.update=function(g,p){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,g,p)},y.blotName="block",y.scope=c.Scope.BLOCK_BLOT,y.tagName="P",y}(u.default);n.default=h},function(t,n,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var g in y)y.hasOwnProperty(g)&&(d[g]=y[g])};return function(d,y){h(d,y);function g(){this.constructor=d}d.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(19),c=function(h){a(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.formats=function(y){},d.prototype.format=function(y,g){h.prototype.formatAt.call(this,0,this.length(),y,g)},d.prototype.formatAt=function(y,g,p,v){y===0&&g===this.length()?this.format(p,v):h.prototype.formatAt.call(this,y,g,p,v)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d}(u.default);n.default=c},function(t,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){d(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(19),c=i(1),h=function(d){a(y,d);function y(g){var p=d.call(this,g)||this;return p.text=p.statics.value(p.domNode),p}return y.create=function(g){return document.createTextNode(g)},y.value=function(g){var p=g.data;return p.normalize&&(p=p.normalize()),p},y.prototype.deleteAt=function(g,p){this.domNode.data=this.text=this.text.slice(0,g)+this.text.slice(g+p)},y.prototype.index=function(g,p){return this.domNode===g?p:-1},y.prototype.insertAt=function(g,p,v){v==null?(this.text=this.text.slice(0,g)+p+this.text.slice(g),this.domNode.data=this.text):d.prototype.insertAt.call(this,g,p,v)},y.prototype.length=function(){return this.text.length},y.prototype.optimize=function(g){d.prototype.optimize.call(this,g),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof y&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},y.prototype.position=function(g,p){return[this.domNode,g]},y.prototype.split=function(g,p){if(p===void 0&&(p=!1),!p){if(g===0)return this;if(g===this.length())return this.next}var v=c.create(this.domNode.splitText(g));return this.parent.insertBefore(v,this.next),this.text=this.statics.value(this.domNode),v},y.prototype.update=function(g,p){var v=this;g.some(function(A){return A.type==="characterData"&&A.target===v.domNode})&&(this.text=this.statics.value(this.domNode))},y.prototype.value=function(){return this.text},y.blotName="text",y.scope=c.Scope.INLINE_BLOT,y}(u.default);n.default=h},function(t,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,h){return arguments.length>1&&!this.contains(c)==!h?h:u.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,h){return h=h||0,this.substr(h,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,h){var d=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>d.length)&&(h=d.length),h-=c.length;var y=d.indexOf(c,h);return y!==-1&&y===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(h){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof h!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),y=d.length>>>0,g=arguments[1],p,v=0;v<y;v++)if(p=d[v],h.call(g,p,v,d))return p}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,n){var i=-1,a=1,u=0;function c(b,M,q){if(b==M)return b?[[u,b]]:[];(q<0||b.length<q)&&(q=null);var R=g(b,M),_=b.substring(0,R);b=b.substring(R),M=M.substring(R),R=p(b,M);var D=b.substring(b.length-R);b=b.substring(0,b.length-R),M=M.substring(0,M.length-R);var x=h(b,M);return _&&x.unshift([u,_]),D&&x.push([u,D]),A(x),q!=null&&(x=E(x,q)),x=S(x),x}function h(b,M){var q;if(!b)return[[a,M]];if(!M)return[[i,b]];var R=b.length>M.length?b:M,_=b.length>M.length?M:b,D=R.indexOf(_);if(D!=-1)return q=[[a,R.substring(0,D)],[u,_],[a,R.substring(D+_.length)]],b.length>M.length&&(q[0][0]=q[2][0]=i),q;if(_.length==1)return[[i,b],[a,M]];var x=v(b,M);if(x){var I=x[0],P=x[1],N=x[2],W=x[3],J=x[4],se=c(I,N),X=c(P,W);return se.concat([[u,J]],X)}return d(b,M)}function d(b,M){for(var q=b.length,R=M.length,_=Math.ceil((q+R)/2),D=_,x=2*_,I=new Array(x),P=new Array(x),N=0;N<x;N++)I[N]=-1,P[N]=-1;I[D+1]=0,P[D+1]=0;for(var W=q-R,J=W%2!=0,se=0,X=0,re=0,$=0,H=0;H<_;H++){for(var B=-H+se;B<=H-X;B+=2){var V=D+B,z;B==-H||B!=H&&I[V-1]<I[V+1]?z=I[V+1]:z=I[V-1]+1;for(var ee=z-B;z<q&&ee<R&&b.charAt(z)==M.charAt(ee);)z++,ee++;if(I[V]=z,z>q)X+=2;else if(ee>R)se+=2;else if(J){var Z=D+W-B;if(Z>=0&&Z<x&&P[Z]!=-1){var G=q-P[Z];if(z>=G)return y(b,M,z,ee)}}}for(var Q=-H+re;Q<=H-$;Q+=2){var Z=D+Q,G;Q==-H||Q!=H&&P[Z-1]<P[Z+1]?G=P[Z+1]:G=P[Z-1]+1;for(var te=G-Q;G<q&&te<R&&b.charAt(q-G-1)==M.charAt(R-te-1);)G++,te++;if(P[Z]=G,G>q)$+=2;else if(te>R)re+=2;else if(!J){var V=D+W-Q;if(V>=0&&V<x&&I[V]!=-1){var z=I[V],ee=D+z-V;if(G=q-G,z>=G)return y(b,M,z,ee)}}}}return[[i,b],[a,M]]}function y(b,M,q,R){var _=b.substring(0,q),D=M.substring(0,R),x=b.substring(q),I=M.substring(R),P=c(_,D),N=c(x,I);return P.concat(N)}function g(b,M){if(!b||!M||b.charAt(0)!=M.charAt(0))return 0;for(var q=0,R=Math.min(b.length,M.length),_=R,D=0;q<_;)b.substring(D,_)==M.substring(D,_)?(q=_,D=q):R=_,_=Math.floor((R-q)/2+q);return _}function p(b,M){if(!b||!M||b.charAt(b.length-1)!=M.charAt(M.length-1))return 0;for(var q=0,R=Math.min(b.length,M.length),_=R,D=0;q<_;)b.substring(b.length-_,b.length-D)==M.substring(M.length-_,M.length-D)?(q=_,D=q):R=_,_=Math.floor((R-q)/2+q);return _}function v(b,M){var q=b.length>M.length?b:M,R=b.length>M.length?M:b;if(q.length<4||R.length*2<q.length)return null;function _(X,re,$){for(var H=X.substring($,$+Math.floor(X.length/4)),B=-1,V="",z,ee,Z,G;(B=re.indexOf(H,B+1))!=-1;){var Q=g(X.substring($),re.substring(B)),te=p(X.substring(0,$),re.substring(0,B));V.length<te+Q&&(V=re.substring(B-te,B)+re.substring(B,B+Q),z=X.substring(0,$-te),ee=X.substring($+Q),Z=re.substring(0,B-te),G=re.substring(B+Q))}return V.length*2>=X.length?[z,ee,Z,G,V]:null}var D=_(q,R,Math.ceil(q.length/4)),x=_(q,R,Math.ceil(q.length/2)),I;if(!D&&!x)return null;x?D?I=D[4].length>x[4].length?D:x:I=x:I=D;var P,N,W,J;b.length>M.length?(P=I[0],N=I[1],W=I[2],J=I[3]):(W=I[0],J=I[1],P=I[2],N=I[3]);var se=I[4];return[P,N,W,J,se]}function A(b){b.push([u,""]);for(var M=0,q=0,R=0,_="",D="",x;M<b.length;)switch(b[M][0]){case a:R++,D+=b[M][1],M++;break;case i:q++,_+=b[M][1],M++;break;case u:q+R>1?(q!==0&&R!==0&&(x=g(D,_),x!==0&&(M-q-R>0&&b[M-q-R-1][0]==u?b[M-q-R-1][1]+=D.substring(0,x):(b.splice(0,0,[u,D.substring(0,x)]),M++),D=D.substring(x),_=_.substring(x)),x=p(D,_),x!==0&&(b[M][1]=D.substring(D.length-x)+b[M][1],D=D.substring(0,D.length-x),_=_.substring(0,_.length-x))),q===0?b.splice(M-R,q+R,[a,D]):R===0?b.splice(M-q,q+R,[i,_]):b.splice(M-q-R,q+R,[i,_],[a,D]),M=M-q-R+(q?1:0)+(R?1:0)+1):M!==0&&b[M-1][0]==u?(b[M-1][1]+=b[M][1],b.splice(M,1)):M++,R=0,q=0,_="",D="";break}b[b.length-1][1]===""&&b.pop();var I=!1;for(M=1;M<b.length-1;)b[M-1][0]==u&&b[M+1][0]==u&&(b[M][1].substring(b[M][1].length-b[M-1][1].length)==b[M-1][1]?(b[M][1]=b[M-1][1]+b[M][1].substring(0,b[M][1].length-b[M-1][1].length),b[M+1][1]=b[M-1][1]+b[M+1][1],b.splice(M-1,1),I=!0):b[M][1].substring(0,b[M+1][1].length)==b[M+1][1]&&(b[M-1][1]+=b[M+1][1],b[M][1]=b[M][1].substring(b[M+1][1].length)+b[M+1][1],b.splice(M+1,1),I=!0)),M++;I&&A(b)}var C=c;C.INSERT=a,C.DELETE=i,C.EQUAL=u,t.exports=C;function w(b,M){if(M===0)return[u,b];for(var q=0,R=0;R<b.length;R++){var _=b[R];if(_[0]===i||_[0]===u){var D=q+_[1].length;if(M===D)return[R+1,b];if(M<D){b=b.slice();var x=M-q,I=[_[0],_[1].slice(0,x)],P=[_[0],_[1].slice(x)];return b.splice(R,1,I,P),[R+1,b]}else q=D}}throw new Error("cursor_pos is out of bounds!")}function E(b,M){var q=w(b,M),R=q[1],_=q[0],D=R[_],x=R[_+1];if(D==null)return b;if(D[0]!==u)return b;if(x!=null&&D[1]+x[1]===x[1]+D[1])return R.splice(_,2,x,D),O(R,_,2);if(x!=null&&x[1].indexOf(D[1])===0){R.splice(_,2,[x[0],D[1]],[0,D[1]]);var I=x[1].slice(D[1].length);return I.length>0&&R.splice(_+2,0,[x[0],I]),O(R,_,3)}else return b}function S(b){for(var M=!1,q=function(x){return x.charCodeAt(0)>=56320&&x.charCodeAt(0)<=57343},R=function(x){return x.charCodeAt(x.length-1)>=55296&&x.charCodeAt(x.length-1)<=56319},_=2;_<b.length;_+=1)b[_-2][0]===u&&R(b[_-2][1])&&b[_-1][0]===i&&q(b[_-1][1])&&b[_][0]===a&&q(b[_][1])&&(M=!0,b[_-1][1]=b[_-2][1].slice(-1)+b[_-1][1],b[_][1]=b[_-2][1].slice(-1)+b[_][1],b[_-2][1]=b[_-2][1].slice(0,-1));if(!M)return b;for(var D=[],_=0;_<b.length;_+=1)b[_][1].length>0&&D.push(b[_]);return D}function O(b,M,q){for(var R=M+q-1;R>=0&&R>=M-1;R--)if(R+1<b.length){var _=b[R],D=b[R+1];_[0]===D[1]&&b.splice(R,2,[_[0],_[1]+D[1]])}return b}},function(t,n){n=t.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var u=[];for(var c in a)u.push(c);return u}},function(t,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=t.exports=i?a:u,n.supported=a;function a(c){return Object.prototype.toString.call(c)=="[object Arguments]"}n.unsupported=u;function u(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(t,n){var i=Object.prototype.hasOwnProperty,a="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(a=!1));function c(d,y,g){this.fn=d,this.context=y,this.once=g||!1}function h(){this._events=new u,this._eventsCount=0}h.prototype.eventNames=function(){var y=[],g,p;if(this._eventsCount===0)return y;for(p in g=this._events)i.call(g,p)&&y.push(a?p.slice(1):p);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(g)):y},h.prototype.listeners=function(y,g){var p=a?a+y:y,v=this._events[p];if(g)return!!v;if(!v)return[];if(v.fn)return[v.fn];for(var A=0,C=v.length,w=new Array(C);A<C;A++)w[A]=v[A].fn;return w},h.prototype.emit=function(y,g,p,v,A,C){var w=a?a+y:y;if(!this._events[w])return!1;var E=this._events[w],S=arguments.length,O,b;if(E.fn){switch(E.once&&this.removeListener(y,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,g),!0;case 3:return E.fn.call(E.context,g,p),!0;case 4:return E.fn.call(E.context,g,p,v),!0;case 5:return E.fn.call(E.context,g,p,v,A),!0;case 6:return E.fn.call(E.context,g,p,v,A,C),!0}for(b=1,O=new Array(S-1);b<S;b++)O[b-1]=arguments[b];E.fn.apply(E.context,O)}else{var M=E.length,q;for(b=0;b<M;b++)switch(E[b].once&&this.removeListener(y,E[b].fn,void 0,!0),S){case 1:E[b].fn.call(E[b].context);break;case 2:E[b].fn.call(E[b].context,g);break;case 3:E[b].fn.call(E[b].context,g,p);break;case 4:E[b].fn.call(E[b].context,g,p,v);break;default:if(!O)for(q=1,O=new Array(S-1);q<S;q++)O[q-1]=arguments[q];E[b].fn.apply(E[b].context,O)}}return!0},h.prototype.on=function(y,g,p){var v=new c(g,p||this),A=a?a+y:y;return this._events[A]?this._events[A].fn?this._events[A]=[this._events[A],v]:this._events[A].push(v):(this._events[A]=v,this._eventsCount++),this},h.prototype.once=function(y,g,p){var v=new c(g,p||this,!0),A=a?a+y:y;return this._events[A]?this._events[A].fn?this._events[A]=[this._events[A],v]:this._events[A].push(v):(this._events[A]=v,this._eventsCount++),this},h.prototype.removeListener=function(y,g,p,v){var A=a?a+y:y;if(!this._events[A])return this;if(!g)return--this._eventsCount===0?this._events=new u:delete this._events[A],this;var C=this._events[A];if(C.fn)C.fn===g&&(!v||C.once)&&(!p||C.context===p)&&(--this._eventsCount===0?this._events=new u:delete this._events[A]);else{for(var w=0,E=[],S=C.length;w<S;w++)(C[w].fn!==g||v&&!C[w].once||p&&C[w].context!==p)&&E.push(C[w]);E.length?this._events[A]=E.length===1?E[0]:E:--this._eventsCount===0?this._events=new u:delete this._events[A]}return this},h.prototype.removeAllListeners=function(y){var g;return y?(g=a?a+y:y,this._events[g]&&(--this._eventsCount===0?this._events=new u:delete this._events[g])):(this._events=new u,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=a,h.EventEmitter=h,typeof t<"u"&&(t.exports=h)},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},u=function(){function le(de,Ee){var Se=[],ve=!0,Ge=!1,Me=void 0;try{for(var Ve=de[Symbol.iterator](),$e;!(ve=($e=Ve.next()).done)&&(Se.push($e.value),!(Ee&&Se.length===Ee));ve=!0);}catch(Ze){Ge=!0,Me=Ze}finally{try{!ve&&Ve.return&&Ve.return()}finally{if(Ge)throw Me}}return Se}return function(de,Ee){if(Array.isArray(de))return de;if(Symbol.iterator in Object(de))return le(de,Ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function le(de,Ee){for(var Se=0;Se<Ee.length;Se++){var ve=Ee[Se];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(de,ve.key,ve)}}return function(de,Ee,Se){return Ee&&le(de.prototype,Ee),Se&&le(de,Se),de}}(),h=i(3),d=P(h),y=i(2),g=P(y),p=i(0),v=P(p),A=i(5),C=P(A),w=i(10),E=P(w),S=i(9),O=P(S),b=i(36),M=i(37),q=i(13),R=P(q),_=i(26),D=i(38),x=i(39),I=i(40);function P(le){return le&&le.__esModule?le:{default:le}}function N(le,de,Ee){return de in le?Object.defineProperty(le,de,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):le[de]=Ee,le}function W(le,de){if(!(le instanceof de))throw new TypeError("Cannot call a class as a function")}function J(le,de){if(!le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de&&(typeof de=="object"||typeof de=="function")?de:le}function se(le,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);le.prototype=Object.create(de&&de.prototype,{constructor:{value:le,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(le,de):le.__proto__=de)}var X=(0,E.default)("quill:clipboard"),re="__ql-matcher",$=[[Node.TEXT_NODE,et],[Node.TEXT_NODE,ke],["br",ge],[Node.ELEMENT_NODE,ke],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,Re],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,Be],["li",Ie],["b",te.bind(te,"bold")],["i",te.bind(te,"italic")],["style",xe]],H=[b.AlignAttribute,D.DirectionAttribute].reduce(function(le,de){return le[de.keyName]=de,le},{}),B=[b.AlignStyle,M.BackgroundStyle,_.ColorStyle,D.DirectionStyle,x.FontStyle,I.SizeStyle].reduce(function(le,de){return le[de.keyName]=de,le},{}),V=function(le){se(de,le);function de(Ee,Se){W(this,de);var ve=J(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,Ee,Se));return ve.quill.root.addEventListener("paste",ve.onPaste.bind(ve)),ve.container=ve.quill.addContainer("ql-clipboard"),ve.container.setAttribute("contenteditable",!0),ve.container.setAttribute("tabindex",-1),ve.matchers=[],$.concat(ve.options.matchers).forEach(function(Ge){var Me=u(Ge,2),Ve=Me[0],$e=Me[1];!Se.matchVisual&&$e===Re||ve.addMatcher(Ve,$e)}),ve}return c(de,[{key:"addMatcher",value:function(Se,ve){this.matchers.push([Se,ve])}},{key:"convert",value:function(Se){if(typeof Se=="string")return this.container.innerHTML=Se.replace(/\>\r?\n +\</g,"><"),this.convert();var ve=this.quill.getFormat(this.quill.selection.savedRange.index);if(ve[R.default.blotName]){var Ge=this.container.innerText;return this.container.innerHTML="",new g.default().insert(Ge,N({},R.default.blotName,ve[R.default.blotName]))}var Me=this.prepareMatching(),Ve=u(Me,2),$e=Ve[0],Ze=Ve[1],Xe=Q(this.container,$e,Ze);return Z(Xe,`
`)&&Xe.ops[Xe.ops.length-1].attributes==null&&(Xe=Xe.compose(new g.default().retain(Xe.length()-1).delete(1))),X.log("convert",this.container.innerHTML,Xe),this.container.innerHTML="",Xe}},{key:"dangerouslyPasteHTML",value:function(Se,ve){var Ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C.default.sources.API;if(typeof Se=="string")this.quill.setContents(this.convert(Se),ve),this.quill.setSelection(0,C.default.sources.SILENT);else{var Me=this.convert(ve);this.quill.updateContents(new g.default().retain(Se).concat(Me),Ge),this.quill.setSelection(Se+Me.length(),C.default.sources.SILENT)}}},{key:"onPaste",value:function(Se){var ve=this;if(!(Se.defaultPrevented||!this.quill.isEnabled())){var Ge=this.quill.getSelection(),Me=new g.default().retain(Ge.index),Ve=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(C.default.sources.SILENT),setTimeout(function(){Me=Me.concat(ve.convert()).delete(Ge.length),ve.quill.updateContents(Me,C.default.sources.USER),ve.quill.setSelection(Me.length()-Ge.length,C.default.sources.SILENT),ve.quill.scrollingContainer.scrollTop=Ve,ve.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Se=this,ve=[],Ge=[];return this.matchers.forEach(function(Me){var Ve=u(Me,2),$e=Ve[0],Ze=Ve[1];switch($e){case Node.TEXT_NODE:Ge.push(Ze);break;case Node.ELEMENT_NODE:ve.push(Ze);break;default:[].forEach.call(Se.container.querySelectorAll($e),function(Xe){Xe[re]=Xe[re]||[],Xe[re].push(Ze)});break}}),[ve,Ge]}}]),de}(O.default);V.DEFAULTS={matchers:[],matchVisual:!0};function z(le,de,Ee){return(typeof de>"u"?"undefined":a(de))==="object"?Object.keys(de).reduce(function(Se,ve){return z(Se,ve,de[ve])},le):le.reduce(function(Se,ve){return ve.attributes&&ve.attributes[de]?Se.push(ve):Se.insert(ve.insert,(0,d.default)({},N({},de,Ee),ve.attributes))},new g.default)}function ee(le){if(le.nodeType!==Node.ELEMENT_NODE)return{};var de="__ql-computed-style";return le[de]||(le[de]=window.getComputedStyle(le))}function Z(le,de){for(var Ee="",Se=le.ops.length-1;Se>=0&&Ee.length<de.length;--Se){var ve=le.ops[Se];if(typeof ve.insert!="string")break;Ee=ve.insert+Ee}return Ee.slice(-1*de.length)===de}function G(le){if(le.childNodes.length===0)return!1;var de=ee(le);return["block","list-item"].indexOf(de.display)>-1}function Q(le,de,Ee){return le.nodeType===le.TEXT_NODE?Ee.reduce(function(Se,ve){return ve(le,Se)},new g.default):le.nodeType===le.ELEMENT_NODE?[].reduce.call(le.childNodes||[],function(Se,ve){var Ge=Q(ve,de,Ee);return ve.nodeType===le.ELEMENT_NODE&&(Ge=de.reduce(function(Me,Ve){return Ve(ve,Me)},Ge),Ge=(ve[re]||[]).reduce(function(Me,Ve){return Ve(ve,Me)},Ge)),Se.concat(Ge)},new g.default):new g.default}function te(le,de,Ee){return z(Ee,le,!0)}function ie(le,de){var Ee=v.default.Attributor.Attribute.keys(le),Se=v.default.Attributor.Class.keys(le),ve=v.default.Attributor.Style.keys(le),Ge={};return Ee.concat(Se).concat(ve).forEach(function(Me){var Ve=v.default.query(Me,v.default.Scope.ATTRIBUTE);Ve!=null&&(Ge[Ve.attrName]=Ve.value(le),Ge[Ve.attrName])||(Ve=H[Me],Ve!=null&&(Ve.attrName===Me||Ve.keyName===Me)&&(Ge[Ve.attrName]=Ve.value(le)||void 0),Ve=B[Me],Ve!=null&&(Ve.attrName===Me||Ve.keyName===Me)&&(Ve=B[Me],Ge[Ve.attrName]=Ve.value(le)||void 0))}),Object.keys(Ge).length>0&&(de=z(de,Ge)),de}function fe(le,de){var Ee=v.default.query(le);if(Ee==null)return de;if(Ee.prototype instanceof v.default.Embed){var Se={},ve=Ee.value(le);ve!=null&&(Se[Ee.blotName]=ve,de=new g.default().insert(Se,Ee.formats(le)))}else typeof Ee.formats=="function"&&(de=z(de,Ee.blotName,Ee.formats(le)));return de}function ge(le,de){return Z(de,`
`)||de.insert(`
`),de}function xe(){return new g.default}function Ie(le,de){var Ee=v.default.query(le);if(Ee==null||Ee.blotName!=="list-item"||!Z(de,`
`))return de;for(var Se=-1,ve=le.parentNode;!ve.classList.contains("ql-clipboard");)(v.default.query(ve)||{}).blotName==="list"&&(Se+=1),ve=ve.parentNode;return Se<=0?de:de.compose(new g.default().retain(de.length()-1).retain(1,{indent:Se}))}function ke(le,de){return Z(de,`
`)||(G(le)||de.length()>0&&le.nextSibling&&G(le.nextSibling))&&de.insert(`
`),de}function Re(le,de){if(G(le)&&le.nextElementSibling!=null&&!Z(de,`

`)){var Ee=le.offsetHeight+parseFloat(ee(le).marginTop)+parseFloat(ee(le).marginBottom);le.nextElementSibling.offsetTop>le.offsetTop+Ee*1.5&&de.insert(`
`)}return de}function Be(le,de){var Ee={},Se=le.style||{};return Se.fontStyle&&ee(le).fontStyle==="italic"&&(Ee.italic=!0),Se.fontWeight&&(ee(le).fontWeight.startsWith("bold")||parseInt(ee(le).fontWeight)>=700)&&(Ee.bold=!0),Object.keys(Ee).length>0&&(de=z(de,Ee)),parseFloat(Se.textIndent||0)>0&&(de=new g.default().insert("	").concat(de)),de}function et(le,de){var Ee=le.data;if(le.parentNode.tagName==="O:P")return de.insert(Ee.trim());if(Ee.trim().length===0&&le.parentNode.classList.contains("ql-clipboard"))return de;if(!ee(le.parentNode).whiteSpace.startsWith("pre")){var Se=function(Ge,Me){return Me=Me.replace(/[^\u00a0]/g,""),Me.length<1&&Ge?" ":Me};Ee=Ee.replace(/\r\n/g," ").replace(/\n/g," "),Ee=Ee.replace(/\s\s+/g,Se.bind(Se,!0)),(le.previousSibling==null&&G(le.parentNode)||le.previousSibling!=null&&G(le.previousSibling))&&(Ee=Ee.replace(/^\s+/,Se.bind(Se,!1))),(le.nextSibling==null&&G(le.parentNode)||le.nextSibling!=null&&G(le.nextSibling))&&(Ee=Ee.replace(/\s+$/,Se.bind(Se,!1)))}return de.insert(Ee)}n.default=V,n.matchAttributor=ie,n.matchBlot=fe,n.matchNewline=ke,n.matchSpacing=Re,n.matchText=et},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(C,w){for(var E=0;E<w.length;E++){var S=w[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(C,S.key,S)}}return function(C,w,E){return w&&A(C.prototype,w),E&&A(C,E),C}}(),u=function A(C,w,E){C===null&&(C=Function.prototype);var S=Object.getOwnPropertyDescriptor(C,w);if(S===void 0){var O=Object.getPrototypeOf(C);return O===null?void 0:A(O,w,E)}else{if("value"in S)return S.value;var b=S.get;return b===void 0?void 0:b.call(E)}},c=i(6),h=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function y(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function g(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function p(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var v=function(A){p(C,A);function C(){return y(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return a(C,[{key:"optimize",value:function(E){u(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,E),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return u(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),C}(h.default);v.blotName="bold",v.tagName=["STRONG","B"],n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function I(P,N){var W=[],J=!0,se=!1,X=void 0;try{for(var re=P[Symbol.iterator](),$;!(J=($=re.next()).done)&&(W.push($.value),!(N&&W.length===N));J=!0);}catch(H){se=!0,X=H}finally{try{!J&&re.return&&re.return()}finally{if(se)throw X}}return W}return function(P,N){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return I(P,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function I(P,N){for(var W=0;W<N.length;W++){var J=N[W];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(P,J.key,J)}}return function(P,N,W){return N&&I(P.prototype,N),W&&I(P,W),P}}(),c=i(2),h=E(c),d=i(0),y=E(d),g=i(5),p=E(g),v=i(10),A=E(v),C=i(9),w=E(C);function E(I){return I&&I.__esModule?I:{default:I}}function S(I,P,N){return P in I?Object.defineProperty(I,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[P]=N,I}function O(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}function b(I,P){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:I}function M(I,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(I,P):I.__proto__=P)}var q=(0,A.default)("quill:toolbar"),R=function(I){M(P,I);function P(N,W){O(this,P);var J=b(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,N,W));if(Array.isArray(J.options.container)){var se=document.createElement("div");D(se,J.options.container),N.container.parentNode.insertBefore(se,N.container),J.container=se}else typeof J.options.container=="string"?J.container=document.querySelector(J.options.container):J.container=J.options.container;if(!(J.container instanceof HTMLElement)){var X;return X=q.error("Container required for toolbar",J.options),b(J,X)}return J.container.classList.add("ql-toolbar"),J.controls=[],J.handlers={},Object.keys(J.options.handlers).forEach(function(re){J.addHandler(re,J.options.handlers[re])}),[].forEach.call(J.container.querySelectorAll("button, select"),function(re){J.attach(re)}),J.quill.on(p.default.events.EDITOR_CHANGE,function(re,$){re===p.default.events.SELECTION_CHANGE&&J.update($)}),J.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var re=J.quill.selection.getRange(),$=a(re,1),H=$[0];J.update(H)}),J}return u(P,[{key:"addHandler",value:function(W,J){this.handlers[W]=J}},{key:"attach",value:function(W){var J=this,se=[].find.call(W.classList,function(re){return re.indexOf("ql-")===0});if(se){if(se=se.slice(3),W.tagName==="BUTTON"&&W.setAttribute("type","button"),this.handlers[se]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[se]==null){q.warn("ignoring attaching to disabled format",se,W);return}if(y.default.query(se)==null){q.warn("ignoring attaching to nonexistent format",se,W);return}}var X=W.tagName==="SELECT"?"change":"click";W.addEventListener(X,function(re){var $=void 0;if(W.tagName==="SELECT"){if(W.selectedIndex<0)return;var H=W.options[W.selectedIndex];H.hasAttribute("selected")?$=!1:$=H.value||!1}else W.classList.contains("ql-active")?$=!1:$=W.value||!W.hasAttribute("value"),re.preventDefault();J.quill.focus();var B=J.quill.selection.getRange(),V=a(B,1),z=V[0];if(J.handlers[se]!=null)J.handlers[se].call(J,$);else if(y.default.query(se).prototype instanceof y.default.Embed){if($=prompt("Enter "+se),!$)return;J.quill.updateContents(new h.default().retain(z.index).delete(z.length).insert(S({},se,$)),p.default.sources.USER)}else J.quill.format(se,$,p.default.sources.USER);J.update(z)}),this.controls.push([se,W])}}},{key:"update",value:function(W){var J=W==null?{}:this.quill.getFormat(W);this.controls.forEach(function(se){var X=a(se,2),re=X[0],$=X[1];if($.tagName==="SELECT"){var H=void 0;if(W==null)H=null;else if(J[re]==null)H=$.querySelector("option[selected]");else if(!Array.isArray(J[re])){var B=J[re];typeof B=="string"&&(B=B.replace(/\"/g,'\\"')),H=$.querySelector('option[value="'+B+'"]')}H==null?($.value="",$.selectedIndex=-1):H.selected=!0}else if(W==null)$.classList.remove("ql-active");else if($.hasAttribute("value")){var V=J[re]===$.getAttribute("value")||J[re]!=null&&J[re].toString()===$.getAttribute("value")||J[re]==null&&!$.getAttribute("value");$.classList.toggle("ql-active",V)}else $.classList.toggle("ql-active",J[re]!=null)})}}]),P}(w.default);R.DEFAULTS={};function _(I,P,N){var W=document.createElement("button");W.setAttribute("type","button"),W.classList.add("ql-"+P),N!=null&&(W.value=N),I.appendChild(W)}function D(I,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(N){var W=document.createElement("span");W.classList.add("ql-formats"),N.forEach(function(J){if(typeof J=="string")_(W,J);else{var se=Object.keys(J)[0],X=J[se];Array.isArray(X)?x(W,se,X):_(W,se,X)}}),I.appendChild(W)})}function x(I,P,N){var W=document.createElement("select");W.classList.add("ql-"+P),N.forEach(function(J){var se=document.createElement("option");J!==!1?se.setAttribute("value",J):se.setAttribute("selected","selected"),W.appendChild(se)}),I.appendChild(W)}R.DEFAULTS={container:null,handlers:{clean:function(){var P=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var W=this.quill.getFormat();Object.keys(W).forEach(function(J){y.default.query(J,y.default.Scope.INLINE)!=null&&P.quill.format(J,!1)})}else this.quill.removeFormat(N,p.default.sources.USER)},direction:function(P){var N=this.quill.getFormat().align;P==="rtl"&&N==null?this.quill.format("align","right",p.default.sources.USER):!P&&N==="right"&&this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",P,p.default.sources.USER)},indent:function(P){var N=this.quill.getSelection(),W=this.quill.getFormat(N),J=parseInt(W.indent||0);if(P==="+1"||P==="-1"){var se=P==="+1"?1:-1;W.direction==="rtl"&&(se*=-1),this.quill.format("indent",J+se,p.default.sources.USER)}},link:function(P){P===!0&&(P=prompt("Enter link URL:")),this.quill.format("link",P,p.default.sources.USER)},list:function(P){var N=this.quill.getSelection(),W=this.quill.getFormat(N);P==="check"?W.list==="checked"||W.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",P,p.default.sources.USER)}}},n.default=R,n.addControls=D},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(C,w){for(var E=0;E<w.length;E++){var S=w[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(C,S.key,S)}}return function(C,w,E){return w&&A(C.prototype,w),E&&A(C,E),C}}(),u=function A(C,w,E){C===null&&(C=Function.prototype);var S=Object.getOwnPropertyDescriptor(C,w);if(S===void 0){var O=Object.getPrototypeOf(C);return O===null?void 0:A(O,w,E)}else{if("value"in S)return S.value;var b=S.get;return b===void 0?void 0:b.call(E)}},c=i(28),h=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function y(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function g(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function p(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var v=function(A){p(C,A);function C(w,E){y(this,C);var S=g(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,w));return S.label.innerHTML=E,S.container.classList.add("ql-color-picker"),[].slice.call(S.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(O){O.classList.add("ql-primary")}),S}return a(C,[{key:"buildItem",value:function(E){var S=u(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"buildItem",this).call(this,E);return S.style.backgroundColor=E.getAttribute("value")||"",S}},{key:"selectItem",value:function(E,S){u(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"selectItem",this).call(this,E,S);var O=this.label.querySelector(".ql-color-label"),b=E&&E.getAttribute("data-value")||"";O&&(O.tagName==="line"?O.style.stroke=b:O.style.fill=b)}}]),C}(h.default);n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(C,w){for(var E=0;E<w.length;E++){var S=w[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(C,S.key,S)}}return function(C,w,E){return w&&A(C.prototype,w),E&&A(C,E),C}}(),u=function A(C,w,E){C===null&&(C=Function.prototype);var S=Object.getOwnPropertyDescriptor(C,w);if(S===void 0){var O=Object.getPrototypeOf(C);return O===null?void 0:A(O,w,E)}else{if("value"in S)return S.value;var b=S.get;return b===void 0?void 0:b.call(E)}},c=i(28),h=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function y(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function g(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function p(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var v=function(A){p(C,A);function C(w,E){y(this,C);var S=g(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,w));return S.container.classList.add("ql-icon-picker"),[].forEach.call(S.container.querySelectorAll(".ql-picker-item"),function(O){O.innerHTML=E[O.getAttribute("data-value")||""]}),S.defaultItem=S.container.querySelector(".ql-selected"),S.selectItem(S.defaultItem),S}return a(C,[{key:"selectItem",value:function(E,S){u(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"selectItem",this).call(this,E,S),E=E||this.defaultItem,this.label.innerHTML=E.innerHTML}}]),C}(h.default);n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(d,y){for(var g=0;g<y.length;g++){var p=y[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,y,g){return y&&h(d.prototype,y),g&&h(d,g),d}}();function u(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var c=function(){function h(d,y){var g=this;u(this,h),this.quill=d,this.boundsContainer=y||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){g.root.style.marginTop=-1*g.quill.root.scrollTop+"px"}),this.hide()}return a(h,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(y){var g=y.left+y.width/2-this.root.offsetWidth/2,p=y.bottom+this.quill.root.scrollTop;this.root.style.left=g+"px",this.root.style.top=p+"px",this.root.classList.remove("ql-flip");var v=this.boundsContainer.getBoundingClientRect(),A=this.root.getBoundingClientRect(),C=0;if(A.right>v.right&&(C=v.right-A.right,this.root.style.left=g+C+"px"),A.left<v.left&&(C=v.left-A.left,this.root.style.left=g+C+"px"),A.bottom>v.bottom){var w=A.bottom-A.top,E=y.bottom-y.top+w;this.root.style.top=p-E+"px",this.root.classList.add("ql-flip")}return C}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),h}();n.default=c},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function x(I,P){var N=[],W=!0,J=!1,se=void 0;try{for(var X=I[Symbol.iterator](),re;!(W=(re=X.next()).done)&&(N.push(re.value),!(P&&N.length===P));W=!0);}catch($){J=!0,se=$}finally{try{!W&&X.return&&X.return()}finally{if(J)throw se}}return N}return function(I,P){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return x(I,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function x(I,P,N){I===null&&(I=Function.prototype);var W=Object.getOwnPropertyDescriptor(I,P);if(W===void 0){var J=Object.getPrototypeOf(I);return J===null?void 0:x(J,P,N)}else{if("value"in W)return W.value;var se=W.get;return se===void 0?void 0:se.call(N)}},c=function(){function x(I,P){for(var N=0;N<P.length;N++){var W=P[N];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(I,W.key,W)}}return function(I,P,N){return P&&x(I.prototype,P),N&&x(I,N),I}}(),h=i(3),d=O(h),y=i(8),g=O(y),p=i(43),v=O(p),A=i(27),C=O(A),w=i(15),E=i(41),S=O(E);function O(x){return x&&x.__esModule?x:{default:x}}function b(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function M(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:x}function q(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}var R=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],_=function(x){q(I,x);function I(P,N){b(this,I),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=R);var W=M(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,P,N));return W.quill.container.classList.add("ql-snow"),W}return c(I,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),S.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),S.default),this.tooltip=new D(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(W,J){N.handlers.link.call(N,!J.format.link)})}}]),I}(v.default);_.DEFAULTS=(0,d.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){if(I){var P=this.quill.getSelection();if(P==null||P.length==0)return;var N=this.quill.getText(P);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var W=this.quill.theme.tooltip;W.edit("link",N)}else this.quill.format("link",!1)}}}}});var D=function(x){q(I,x);function I(P,N){b(this,I);var W=M(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,P,N));return W.preview=W.root.querySelector("a.ql-preview"),W}return c(I,[{key:"listen",value:function(){var N=this;u(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(W){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),W.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(W){if(N.linkRange!=null){var J=N.linkRange;N.restoreFocus(),N.quill.formatText(J,"link",!1,g.default.sources.USER),delete N.linkRange}W.preventDefault(),N.hide()}),this.quill.on(g.default.events.SELECTION_CHANGE,function(W,J,se){if(W!=null){if(W.length===0&&se===g.default.sources.USER){var X=N.quill.scroll.descendant(C.default,W.index),re=a(X,2),$=re[0],H=re[1];if($!=null){N.linkRange=new w.Range(W.index-H,$.length());var B=C.default.formats($.domNode);N.preview.textContent=B,N.preview.setAttribute("href",B),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){u(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),I}(p.BaseTooltip);D.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=_},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),u=ve(a),c=i(36),h=i(38),d=i(64),y=i(65),g=ve(y),p=i(66),v=ve(p),A=i(67),C=ve(A),w=i(37),E=i(26),S=i(39),O=i(40),b=i(56),M=ve(b),q=i(68),R=ve(q),_=i(27),D=ve(_),x=i(69),I=ve(x),P=i(70),N=ve(P),W=i(71),J=ve(W),se=i(72),X=ve(se),re=i(73),$=ve(re),H=i(13),B=ve(H),V=i(74),z=ve(V),ee=i(75),Z=ve(ee),G=i(57),Q=ve(G),te=i(41),ie=ve(te),fe=i(28),ge=ve(fe),xe=i(59),Ie=ve(xe),ke=i(60),Re=ve(ke),Be=i(61),et=ve(Be),le=i(108),de=ve(le),Ee=i(62),Se=ve(Ee);function ve(Ge){return Ge&&Ge.__esModule?Ge:{default:Ge}}u.default.register({"attributors/attribute/direction":h.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":E.ColorClass,"attributors/class/direction":h.DirectionClass,"attributors/class/font":S.FontClass,"attributors/class/size":O.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":E.ColorStyle,"attributors/style/direction":h.DirectionStyle,"attributors/style/font":S.FontStyle,"attributors/style/size":O.SizeStyle},!0),u.default.register({"formats/align":c.AlignClass,"formats/direction":h.DirectionClass,"formats/indent":d.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":E.ColorStyle,"formats/font":S.FontClass,"formats/size":O.SizeClass,"formats/blockquote":g.default,"formats/code-block":B.default,"formats/header":v.default,"formats/list":C.default,"formats/bold":M.default,"formats/code":H.Code,"formats/italic":R.default,"formats/link":D.default,"formats/script":I.default,"formats/strike":N.default,"formats/underline":J.default,"formats/image":X.default,"formats/video":$.default,"formats/list/item":A.ListItem,"modules/formula":z.default,"modules/syntax":Z.default,"modules/toolbar":Q.default,"themes/bubble":de.default,"themes/snow":Se.default,"ui/icons":ie.default,"ui/picker":ge.default,"ui/icon-picker":Re.default,"ui/color-picker":Ie.default,"ui/tooltip":et.default},!0),n.default=u.default},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function C(w,E){for(var S=0;S<E.length;S++){var O=E[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,E,S){return E&&C(w.prototype,E),S&&C(w,S),w}}(),u=function C(w,E,S){w===null&&(w=Function.prototype);var O=Object.getOwnPropertyDescriptor(w,E);if(O===void 0){var b=Object.getPrototypeOf(w);return b===null?void 0:C(b,E,S)}else{if("value"in O)return O.value;var M=O.get;return M===void 0?void 0:M.call(S)}},c=i(0),h=d(c);function d(C){return C&&C.__esModule?C:{default:C}}function y(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}function g(C,w){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:C}function p(C,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);C.prototype=Object.create(w&&w.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(C,w):C.__proto__=w)}var v=function(C){p(w,C);function w(){return y(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"add",value:function(S,O){if(O==="+1"||O==="-1"){var b=this.value(S)||0;O=O==="+1"?b+1:b-1}return O===0?(this.remove(S),!0):u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,S,O)}},{key:"canAdd",value:function(S,O){return u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,S,O)||u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,S,parseInt(O))}},{key:"value",value:function(S){return parseInt(u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,S))||void 0}}]),w}(h.default.Attributor.Class),A=new v("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=A},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default);g.blotName="blockquote",g.tagName="blockquote",n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(A,C){for(var w=0;w<C.length;w++){var E=C[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}return function(A,C,w){return C&&v(A.prototype,C),w&&v(A,w),A}}(),u=i(4),c=h(u);function h(v){return v&&v.__esModule?v:{default:v}}function d(v,A){if(!(v instanceof A))throw new TypeError("Cannot call a class as a function")}function y(v,A){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:v}function g(v,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);v.prototype=Object.create(A&&A.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(v,A):v.__proto__=A)}var p=function(v){g(A,v);function A(){return d(this,A),y(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),A}(c.default);p.blotName="header",p.tagName=["H1","H2","H3","H4","H5","H6"],n.default=p},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function b(M,q){for(var R=0;R<q.length;R++){var _=q[R];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(M,_.key,_)}}return function(M,q,R){return q&&b(M.prototype,q),R&&b(M,R),M}}(),u=function b(M,q,R){M===null&&(M=Function.prototype);var _=Object.getOwnPropertyDescriptor(M,q);if(_===void 0){var D=Object.getPrototypeOf(M);return D===null?void 0:b(D,q,R)}else{if("value"in _)return _.value;var x=_.get;return x===void 0?void 0:x.call(R)}},c=i(0),h=v(c),d=i(4),y=v(d),g=i(25),p=v(g);function v(b){return b&&b.__esModule?b:{default:b}}function A(b,M,q){return M in b?Object.defineProperty(b,M,{value:q,enumerable:!0,configurable:!0,writable:!0}):b[M]=q,b}function C(b,M){if(!(b instanceof M))throw new TypeError("Cannot call a class as a function")}function w(b,M){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:b}function E(b,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);b.prototype=Object.create(M&&M.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(b,M):b.__proto__=M)}var S=function(b){E(M,b);function M(){return C(this,M),w(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return a(M,[{key:"format",value:function(R,_){R===O.blotName&&!_?this.replaceWith(h.default.create(this.statics.scope)):u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,R,_)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(R,_){return this.parent.isolate(this.offset(this.parent),this.length()),R===this.parent.statics.blotName?(this.parent.replaceWith(R,_),this):(this.parent.unwrap(),u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replaceWith",this).call(this,R,_))}}],[{key:"formats",value:function(R){return R.tagName===this.tagName?void 0:u(M.__proto__||Object.getPrototypeOf(M),"formats",this).call(this,R)}}]),M}(y.default);S.blotName="list-item",S.tagName="LI";var O=function(b){E(M,b),a(M,null,[{key:"create",value:function(R){var _=R==="ordered"?"OL":"UL",D=u(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,_);return(R==="checked"||R==="unchecked")&&D.setAttribute("data-checked",R==="checked"),D}},{key:"formats",value:function(R){if(R.tagName==="OL")return"ordered";if(R.tagName==="UL")return R.hasAttribute("data-checked")?R.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function M(q){C(this,M);var R=w(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,q)),_=function(x){if(x.target.parentNode===q){var I=R.statics.formats(q),P=h.default.find(x.target);I==="checked"?P.format("list","unchecked"):I==="unchecked"&&P.format("list","checked")}};return q.addEventListener("touchstart",_),q.addEventListener("mousedown",_),R}return a(M,[{key:"format",value:function(R,_){this.children.length>0&&this.children.tail.format(R,_)}},{key:"formats",value:function(){return A({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(R,_){if(R instanceof S)u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertBefore",this).call(this,R,_);else{var D=_==null?this.length():_.offset(this),x=this.split(D);x.parent.insertBefore(R,x)}}},{key:"optimize",value:function(R){u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,R);var _=this.next;_!=null&&_.prev===this&&_.statics.blotName===this.statics.blotName&&_.domNode.tagName===this.domNode.tagName&&_.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(_.moveChildren(this),_.remove())}},{key:"replace",value:function(R){if(R.statics.blotName!==this.statics.blotName){var _=h.default.create(this.statics.defaultChild);R.moveChildren(_),this.appendChild(_)}u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,R)}}]),M}(p.default);O.blotName="list",O.scope=h.default.Scope.BLOCK_BLOT,O.tagName=["OL","UL"],O.defaultChild="list-item",O.allowedChildren=[S],n.ListItem=S,n.default=O},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default);g.blotName="italic",g.tagName=["EM","I"],n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(C,w){for(var E=0;E<w.length;E++){var S=w[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(C,S.key,S)}}return function(C,w,E){return w&&A(C.prototype,w),E&&A(C,E),C}}(),u=function A(C,w,E){C===null&&(C=Function.prototype);var S=Object.getOwnPropertyDescriptor(C,w);if(S===void 0){var O=Object.getPrototypeOf(C);return O===null?void 0:A(O,w,E)}else{if("value"in S)return S.value;var b=S.get;return b===void 0?void 0:b.call(E)}},c=i(6),h=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function y(A,C){if(!(A instanceof C))throw new TypeError("Cannot call a class as a function")}function g(A,C){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:A}function p(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}var v=function(A){p(C,A);function C(){return y(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return a(C,null,[{key:"create",value:function(E){return E==="super"?document.createElement("sup"):E==="sub"?document.createElement("sub"):u(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,E)}},{key:"formats",value:function(E){if(E.tagName==="SUB")return"sub";if(E.tagName==="SUP")return"super"}}]),C}(h.default);v.blotName="script",v.tagName=["SUB","SUP"],n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default);g.blotName="strike",g.tagName="S",n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default);g.blotName="underline",g.tagName="U",n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function w(E,S){for(var O=0;O<S.length;O++){var b=S[O];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(E,b.key,b)}}return function(E,S,O){return S&&w(E.prototype,S),O&&w(E,O),E}}(),u=function w(E,S,O){E===null&&(E=Function.prototype);var b=Object.getOwnPropertyDescriptor(E,S);if(b===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:w(M,S,O)}else{if("value"in b)return b.value;var q=b.get;return q===void 0?void 0:q.call(O)}},c=i(0),h=y(c),d=i(27);function y(w){return w&&w.__esModule?w:{default:w}}function g(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function p(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function v(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var A=["alt","height","width"],C=function(w){v(E,w);function E(){return g(this,E),p(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(O,b){A.indexOf(O)>-1?b?this.domNode.setAttribute(O,b):this.domNode.removeAttribute(O):u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,O,b)}}],[{key:"create",value:function(O){var b=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,O);return typeof O=="string"&&b.setAttribute("src",this.sanitize(O)),b}},{key:"formats",value:function(O){return A.reduce(function(b,M){return O.hasAttribute(M)&&(b[M]=O.getAttribute(M)),b},{})}},{key:"match",value:function(O){return/\.(jpe?g|gif|png)$/.test(O)||/^data:image\/.+;base64/.test(O)}},{key:"sanitize",value:function(O){return(0,d.sanitize)(O,["http","https","data"])?O:"//:0"}},{key:"value",value:function(O){return O.getAttribute("src")}}]),E}(h.default.Embed);C.blotName="image",C.tagName="IMG",n.default=C},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function w(E,S){for(var O=0;O<S.length;O++){var b=S[O];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(E,b.key,b)}}return function(E,S,O){return S&&w(E.prototype,S),O&&w(E,O),E}}(),u=function w(E,S,O){E===null&&(E=Function.prototype);var b=Object.getOwnPropertyDescriptor(E,S);if(b===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:w(M,S,O)}else{if("value"in b)return b.value;var q=b.get;return q===void 0?void 0:q.call(O)}},c=i(4),h=i(27),d=y(h);function y(w){return w&&w.__esModule?w:{default:w}}function g(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function p(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function v(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var A=["height","width"],C=function(w){v(E,w);function E(){return g(this,E),p(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(O,b){A.indexOf(O)>-1?b?this.domNode.setAttribute(O,b):this.domNode.removeAttribute(O):u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,O,b)}}],[{key:"create",value:function(O){var b=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,O);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(O)),b}},{key:"formats",value:function(O){return A.reduce(function(b,M){return O.hasAttribute(M)&&(b[M]=O.getAttribute(M)),b},{})}},{key:"sanitize",value:function(O){return d.default.sanitize(O)}},{key:"value",value:function(O){return O.getAttribute("src")}}]),E}(c.BlockEmbed);C.blotName="video",C.className="ql-video",C.tagName="IFRAME",n.default=C},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function O(b,M){for(var q=0;q<M.length;q++){var R=M[q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(b,R.key,R)}}return function(b,M,q){return M&&O(b.prototype,M),q&&O(b,q),b}}(),u=function O(b,M,q){b===null&&(b=Function.prototype);var R=Object.getOwnPropertyDescriptor(b,M);if(R===void 0){var _=Object.getPrototypeOf(b);return _===null?void 0:O(_,M,q)}else{if("value"in R)return R.value;var D=R.get;return D===void 0?void 0:D.call(q)}},c=i(35),h=v(c),d=i(5),y=v(d),g=i(9),p=v(g);function v(O){return O&&O.__esModule?O:{default:O}}function A(O,b){if(!(O instanceof b))throw new TypeError("Cannot call a class as a function")}function C(O,b){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:O}function w(O,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);O.prototype=Object.create(b&&b.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(O,b):O.__proto__=b)}var E=function(O){w(b,O);function b(){return A(this,b),C(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"create",value:function(q){var R=u(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,q);return typeof q=="string"&&(window.katex.render(q,R,{throwOnError:!1,errorColor:"#f00"}),R.setAttribute("data-value",q)),R}},{key:"value",value:function(q){return q.getAttribute("data-value")}}]),b}(h.default);E.blotName="formula",E.className="ql-formula",E.tagName="SPAN";var S=function(O){w(b,O),a(b,null,[{key:"register",value:function(){y.default.register(E,!0)}}]);function b(){A(this,b);var M=C(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return M}return b}(p.default);n.FormulaBlot=E,n.default=S},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function q(R,_){for(var D=0;D<_.length;D++){var x=_[D];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(R,x.key,x)}}return function(R,_,D){return _&&q(R.prototype,_),D&&q(R,D),R}}(),u=function q(R,_,D){R===null&&(R=Function.prototype);var x=Object.getOwnPropertyDescriptor(R,_);if(x===void 0){var I=Object.getPrototypeOf(R);return I===null?void 0:q(I,_,D)}else{if("value"in x)return x.value;var P=x.get;return P===void 0?void 0:P.call(D)}},c=i(0),h=C(c),d=i(5),y=C(d),g=i(9),p=C(g),v=i(13),A=C(v);function C(q){return q&&q.__esModule?q:{default:q}}function w(q,R){if(!(q instanceof R))throw new TypeError("Cannot call a class as a function")}function E(q,R){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:q}function S(q,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);q.prototype=Object.create(R&&R.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(q,R):q.__proto__=R)}var O=function(q){S(R,q);function R(){return w(this,R),E(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return a(R,[{key:"replaceWith",value:function(D){this.domNode.textContent=this.domNode.textContent,this.attach(),u(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replaceWith",this).call(this,D)}},{key:"highlight",value:function(D){var x=this.domNode.textContent;this.cachedText!==x&&((x.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=D(x),this.domNode.normalize(),this.attach()),this.cachedText=x)}}]),R}(A.default);O.className="ql-syntax";var b=new h.default.Attributor.Class("token","hljs",{scope:h.default.Scope.INLINE}),M=function(q){S(R,q),a(R,null,[{key:"register",value:function(){y.default.register(b,!0),y.default.register(O,!0)}}]);function R(_,D){w(this,R);var x=E(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,_,D));if(typeof x.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var I=null;return x.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(I),I=setTimeout(function(){x.highlight(),I=null},x.options.interval)}),x.highlight(),x}return a(R,[{key:"highlight",value:function(){var D=this;if(!this.quill.selection.composing){this.quill.update(y.default.sources.USER);var x=this.quill.getSelection();this.quill.scroll.descendants(O).forEach(function(I){I.highlight(D.options.highlight)}),this.quill.update(y.default.sources.SILENT),x!=null&&this.quill.setSelection(x,y.default.sources.SILENT)}}}]),R}(p.default);M.DEFAULTS={highlight:function(){return window.hljs==null?null:function(q){var R=window.hljs.highlightAuto(q);return R.value}}(),interval:1e3},n.CodeBlock=O,n.CodeToken=b,n.default=M},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function R(_,D,x){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,D);if(I===void 0){var P=Object.getPrototypeOf(_);return P===null?void 0:R(P,D,x)}else{if("value"in I)return I.value;var N=I.get;return N===void 0?void 0:N.call(x)}},u=function(){function R(_,D){for(var x=0;x<D.length;x++){var I=D[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,D,x){return D&&R(_.prototype,D),x&&R(_,x),_}}(),c=i(3),h=w(c),d=i(8),y=w(d),g=i(43),p=w(g),v=i(15),A=i(41),C=w(A);function w(R){return R&&R.__esModule?R:{default:R}}function E(R,_){if(!(R instanceof _))throw new TypeError("Cannot call a class as a function")}function S(R,_){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:R}function O(R,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);R.prototype=Object.create(_&&_.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(R,_):R.__proto__=_)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],M=function(R){O(_,R);function _(D,x){E(this,_),x.modules.toolbar!=null&&x.modules.toolbar.container==null&&(x.modules.toolbar.container=b);var I=S(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,D,x));return I.quill.container.classList.add("ql-bubble"),I}return u(_,[{key:"extendToolbar",value:function(x){this.tooltip=new q(this.quill,this.options.bounds),this.tooltip.root.appendChild(x.container),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),C.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),C.default)}}]),_}(p.default);M.DEFAULTS=(0,h.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){_?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var q=function(R){O(_,R);function _(D,x){E(this,_);var I=S(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,D,x));return I.quill.on(y.default.events.EDITOR_CHANGE,function(P,N,W,J){if(P===y.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&J===y.default.sources.USER){I.show(),I.root.style.left="0px",I.root.style.width="",I.root.style.width=I.root.offsetWidth+"px";var se=I.quill.getLines(N.index,N.length);if(se.length===1)I.position(I.quill.getBounds(N));else{var X=se[se.length-1],re=I.quill.getIndex(X),$=Math.min(X.length()-1,N.index+N.length-re),H=I.quill.getBounds(new v.Range(re,$));I.position(H)}}else document.activeElement!==I.textbox&&I.quill.hasFocus()&&I.hide()}),I}return u(_,[{key:"listen",value:function(){var x=this;a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){x.root.classList.remove("ql-editing")}),this.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!x.root.classList.contains("ql-hidden")){var I=x.quill.getSelection();I!=null&&x.position(x.quill.getBounds(I))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(x){var I=a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"position",this).call(this,x),P=this.root.querySelector(".ql-tooltip-arrow");if(P.style.marginLeft="",I===0)return I;P.style.marginLeft=-1*I-P.offsetWidth/2+"px"}}]),_}(g.BaseTooltip);q.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=q,n.default=M},function(t,n,i){t.exports=i(63)}]).default})}(Fc)),Fc.exports}var yr,uw;function f5(){if(uw)return yr;uw=1;var r=yr&&yr.__extends||function(){var y=function(g,p){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,A){v.__proto__=A}||function(v,A){for(var C in A)A.hasOwnProperty(C)&&(v[C]=A[C])},y(g,p)};return function(g,p){y(g,p);function v(){this.constructor=g}g.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}(),e=yr&&yr.__assign||function(){return e=Object.assign||function(y){for(var g,p=1,v=arguments.length;p<v;p++){g=arguments[p];for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&(y[A]=g[A])}return y},e.apply(this,arguments)},t=yr&&yr.__spreadArrays||function(){for(var y=0,g=0,p=arguments.length;g<p;g++)y+=arguments[g].length;for(var v=Array(y),A=0,g=0;g<p;g++)for(var C=arguments[g],w=0,E=C.length;w<E;w++,A++)v[A]=C[w];return v},n=yr&&yr.__importDefault||function(y){return y&&y.__esModule?y:{default:y}},i=n(uh()),a=n(gw()),u=n(l5()),c=n(h5()),h=function(y){r(g,y);function g(p){var v=y.call(this,p)||this;v.dirtyProps=["modules","formats","bounds","theme","children"],v.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],v.state={generation:0},v.selection=null,v.onEditorChange=function(C,w,E,S){var O,b,M,q;C==="text-change"?(b=(O=v).onEditorChangeText)===null||b===void 0||b.call(O,v.editor.root.innerHTML,w,S,v.unprivilegedEditor):C==="selection-change"&&((q=(M=v).onEditorChangeSelection)===null||q===void 0||q.call(M,w,S,v.unprivilegedEditor))};var A=v.isControlled()?p.value:p.defaultValue;return v.value=A??"",v}return g.prototype.validateProps=function(p){var v;if(i.default.Children.count(p.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(p.children)){var A=i.default.Children.only(p.children);if(((v=A)===null||v===void 0?void 0:v.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&p.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},g.prototype.shouldComponentUpdate=function(p,v){var A=this,C;if(this.validateProps(p),!this.editor||this.state.generation!==v.generation)return!0;if("value"in p){var w=this.getEditorContents(),E=(C=p.value,C??"");this.isEqualValue(E,w)||this.setEditorContents(this.editor,E)}return p.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,p.readOnly),t(this.cleanProps,this.dirtyProps).some(function(S){return!u.default(p[S],A.props[S])})},g.prototype.shouldComponentRegenerate=function(p){var v=this;return this.dirtyProps.some(function(A){return!u.default(p[A],v.props[A])})},g.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},g.prototype.componentWillUnmount=function(){this.destroyEditor()},g.prototype.componentDidUpdate=function(p,v){var A=this;if(this.editor&&this.shouldComponentRegenerate(p)){var C=this.editor.getContents(),w=this.editor.getSelection();this.regenerationSnapshot={delta:C,selection:w},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==v.generation){var E=this.regenerationSnapshot,C=E.delta,S=E.selection;delete this.regenerationSnapshot,this.instantiateEditor();var O=this.editor;O.setContents(C),d(function(){return A.setEditorSelection(O,S)})}},g.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},g.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},g.prototype.isControlled=function(){return"value"in this.props},g.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},g.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},g.prototype.createEditor=function(p,v){var A=new c.default(p,v);return v.tabIndex!=null&&this.setEditorTabIndex(A,v.tabIndex),this.hookEditor(A),A},g.prototype.hookEditor=function(p){this.unprivilegedEditor=this.makeUnprivilegedEditor(p),p.on("editor-change",this.onEditorChange)},g.prototype.unhookEditor=function(p){p.off("editor-change",this.onEditorChange)},g.prototype.getEditorContents=function(){return this.value},g.prototype.getEditorSelection=function(){return this.selection},g.prototype.isDelta=function(p){return p&&p.ops},g.prototype.isEqualValue=function(p,v){return this.isDelta(p)&&this.isDelta(v)?u.default(p.ops,v.ops):u.default(p,v)},g.prototype.setEditorContents=function(p,v){var A=this;this.value=v;var C=this.getEditorSelection();typeof v=="string"?p.setContents(p.clipboard.convert(v)):p.setContents(v),d(function(){return A.setEditorSelection(p,C)})},g.prototype.setEditorSelection=function(p,v){if(this.selection=v,v){var A=p.getLength();v.index=Math.max(0,Math.min(v.index,A-1)),v.length=Math.max(0,Math.min(v.length,A-1-v.index)),p.setSelection(v)}},g.prototype.setEditorTabIndex=function(p,v){var A,C;!((C=(A=p)===null||A===void 0?void 0:A.scroll)===null||C===void 0)&&C.domNode&&(p.scroll.domNode.tabIndex=v)},g.prototype.setEditorReadOnly=function(p,v){v?p.disable():p.enable()},g.prototype.makeUnprivilegedEditor=function(p){var v=p;return{getHTML:function(){return v.root.innerHTML},getLength:v.getLength.bind(v),getText:v.getText.bind(v),getContents:v.getContents.bind(v),getSelection:v.getSelection.bind(v),getBounds:v.getBounds.bind(v)}},g.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var p=a.default.findDOMNode(this.editingArea);if(!p)throw new Error("Cannot find element for editing area");if(p.nodeType===3)throw new Error("Editing area cannot be a text node");return p},g.prototype.renderEditingArea=function(){var p=this,v=this.props,A=v.children,C=v.preserveWhitespace,w=this.state.generation,E={key:w,ref:function(S){p.editingArea=S}};return i.default.Children.count(A)?i.default.cloneElement(i.default.Children.only(A),E):C?i.default.createElement("pre",e({},E)):i.default.createElement("div",e({},E))},g.prototype.render=function(){var p;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(p=this.props.className,p??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},g.prototype.onEditorChangeText=function(p,v,A,C){var w,E;if(this.editor){var S=this.isDelta(this.value)?C.getContents():C.getHTML();S!==this.getEditorContents()&&(this.lastDeltaChangeSet=v,this.value=S,(E=(w=this.props).onChange)===null||E===void 0||E.call(w,p,v,A,C))}},g.prototype.onEditorChangeSelection=function(p,v,A){var C,w,E,S,O,b;if(this.editor){var M=this.getEditorSelection(),q=!M&&p,R=M&&!p;u.default(p,M)||(this.selection=p,(w=(C=this.props).onChangeSelection)===null||w===void 0||w.call(C,p,v,A),q?(S=(E=this.props).onFocus)===null||S===void 0||S.call(E,p,v,A):R&&((b=(O=this.props).onBlur)===null||b===void 0||b.call(O,M,v,A)))}},g.prototype.focus=function(){this.editor&&this.editor.focus()},g.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},g.displayName="React Quill",g.Quill=c.default,g.defaultProps={theme:"snow",modules:{},readOnly:!1},g}(i.default.Component);function d(y){Promise.resolve().then(y)}return yr=h,yr}var d5=f5();const p5=ah(d5);class m5 extends Bu{constructor(e){super(e),this.quillRef=lh.createRef()}getFormHtml(){return k.jsx("div",{children:k.jsx(p5,{ref:this.quillRef,modules:{toolbar:[["bold","italic","underline","blockquote"],[{color:["#F4F5F8","#E6FFFD","#99AFD1","#ecd23a","#fd5259","#D7ABF7","#9EFFA0","#F4F5F888","#E6FFFD77","#99AFD188","#ecd23a88","#fd525988","#D7ABF788","#9EFFA088","#000000","#E6FFFD44","#99AFD155","#ecd23a55","#fd525955","#D7ABF755","#9EFFA055"]},{background:[!1,"black","#00274D","#C1A71B","#5F0C0C","#4B0082","#002E07"]}],[,"code-block"],[{list:"ordered"},{list:"bullet"},{align:[]}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[],["clean"]]},style:this.props.wrapperStyle?{...this.props.wrapperStyle}:{minHeight:"100%",padding:"8px",minWidth:"99%",width:"100%"},theme:"snow",value:this.obj[0].getJson()[this.props.name],onChange:this.objDispatch})})}}class BC extends ps{constructor(e){super(e)}createFileInfo(e){const t=new Date,n=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0");let u="images/"+`${Math.floor(Math.random()*9999)}-${n+i}`+e.target.files[0].name;return this.fileInfo={selectedFile:e.target.files[0],path:u,pic:URL.createObjectURL(e.target.files[0])},this.setState({...this.fileInfo}),this.fileInfo}async prepareOnChange(){let e=await this.operationsFactory.prepare({prepare:{...this.props.prepareOnChange},clean:!0});e=e[0],this.obj=e}async changeHandler(e){var n;await this.createFileInfo(e),this.props.prepareOnChange&&await this.prepareOnChange(),this.props.callBackFunc&&await this.props.callBackFunc(this.obj,this.fileInfo);let t;if(await this.APIService.uploadPics(this.fileInfo.selectedFile,this.fileInfo.path),!this.obj.getPicSrc){if(t=await this.APIService.downloadPics(this.fileInfo.path),!this.props.skipUpdate&&!this.state.skipUpdate)if((n=this.obj)!=null&&n.length)for(let i of this.obj)await i.setCompState({[this.props.uploadAttribute||"picURL"]:t});else await this.obj.setCompState({[this.props.uploadAttribute||"picURL"]:t});this.props.downloadPicsCallBackFunc&&this.props.downloadPicsCallBackFunc(this.obj,this.fileInfo)}return this.props.runOnChange&&this.onSubmit(),t}async onSubmit(){this.props.prepareOnChange&&await this.operationsFactory.addToComponentList(),await this.obj.update(),this.props.finishCallBackFunc&&this.props.finishCallBackFunc(this.obj),this.dispatch({imgUploaded:this.obj})}additionalSetup(){this.wrapper.setStyle({maxWidth:"300px",maxHeight:"30px",width:"fit-content"}),this.label.setStyle({display:"inline-block",height:"35px",maxWidth:"fit-content",cursor:"pointer",position:"relative"}),this.form.updateProps({accept:"image/png, image/gif, image/jpeg, image/jpg, image/webp, image/svg+xml, application/pdf",style:{position:"absolute",top:0,left:0,cursor:"pointer",width:"100%",height:"100%",opacity:0},size:"6",type:"file",name:"file",onChange:this.changeHandler})}getInnerContent(){let e=this.getFormHtml();return this.innerContent=[this.label.getHtml({content:e,type:"label"}),this.props.errorText&&this.error.getHtml()],this.innerContent}getFormHtml(){return this.content=this.props.content||k.jsx(k.Fragment,{children:"Upload"}),k.jsxs("div",{className:this.props.containerStyle||"defaultButton",children:[this.content,this.form.getHtml({type:"input"})]})}}class g5 extends BC{constructor(e){super(e)}getFormHtml(){var t,n;this.content=this.props.content||k.jsx(k.Fragment,{children:"Upload"});let e=(n=(t=this.obj)==null?void 0:t[0])==null?void 0:n.getJson()[this.props.uploadImgAttribute||"picURL"];return k.jsxs(k.Fragment,{children:[k.jsxs("div",{style:this.props.containerStyle,className:this.props.containerClass||"defaultButton",children:[this.content,this.form.getHtml({type:"input"})]}),(this.state.pic||e)&&k.jsx("img",{style:this.props.uploadedImgStyle,className:this.props.uploadedImgClass||"uploadedImg",src:this.state.pic||e})]})}}let y5=class extends ps{constructor(e){super(e),this.state.formClass="FCDefaultDelButton",this.content="Delete"}buttonClickFunc(){this.props.obj.del()}};class v5 extends SC{constructor(){super(...arguments);he(this,"factory",{input:Bu,textarea:Bu,math:$3,addButton:z3,baseButton:ps,popupButton:W3,updateButton:K3,runButton:J3,quill:m5,upload:BC,showUpload:g5,del:y5})}}class hy extends ot{constructor(){super();he(this,"addToProps",{});he(this,"addToInitialSetup",[]);he(this,"getterFunc");this.state={}}getProps(){return{interface:this.interface,app:this.app,theme:this.props.theme,type:this.props.type,...this.props,...this.addToProps}}setComponentList(){var t;this.componentList=(t=this.interface)==null?void 0:t.getComponentList()}setProps(){}getHtml(){this.setProps();let t=this.getProps();return this.setGetterFunc(this.props.getterFunc),this.getterFunc&&(this.html=this.getterFunc({...t},t.type||this.state.type)),k.jsx(k.Fragment,{children:this.html})}setGetterFunc(t){this.getterFunc=t||this.interface.getMainFunc()||this.getterFunc}addToFactory(){if(this.props.addToFactory){let t=this.interface.getFactory();for(let n of this.props.addToFactory)t.registerComponent(n.type,n.comp)}}preSetup(){this.componentPreSetup(),this.initialSetupFunctions=[...this.initialSetupFunctions,this.setComponentList,this.addToFactory,...this.addToInitialSetup]}componentPreSetup(){}}class MC extends ya{constructor(){super(...arguments);he(this,"mainFunc",this.getFormComponent)}getFactory(){return this.factory===void 0&&(this.factory=new v5),this.factory}getThemeFactory(){return this.themeFactory===void 0&&(this.themeFactory=new U3),this.themeFactory}getFormComponent(t,n){return n=n||"input",this.factory.getComponent(n,t)}}const jC=new MC;class It extends hy{constructor(e){super(e),this.state={type:"input"},this.interface=jC}}class Hh extends It{constructor(e){super(e),this.state={type:"popupButton"}}}class fy extends It{constructor(e){super(e),this.state={type:"updateButton"}}}class eo extends It{constructor(e){super(e),this.state={type:"runButton"}}}class _5 extends It{constructor(e){super(e),this.state={type:e.uploadType||"upload"}}}class w5 extends It{constructor(e){super(e),this.state={type:e.uploadType||"del"}}}class En extends ot{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setCell,this.getUseId],this.state={...this.state,defaultTheme:"defaultColumn",interface:"map",wrapperClass:"MCCell",linkClass:"MCLink"},this.setItemPropsRan=!1}setCell(){this.cell=this.props.cell}preSetup(){this.setComponents(["link","wrapper","item","option"])}setitemprops(){let e={...this.createPropObj("item","cell"),className:this.cell.class||this.theme[this.state.classKey],style:this.cell.style};this.cell.itemClick&&(e.checkItemClick=!0),this.setItemPropsRan?this.item.setProps(e):(this.builderObserver.subscribe(e),this.setItemPropsRan=!0)}setwrapperprops(){let e={...this.createPropObj("wrapper","cell")};this.setWrapperPropsRan?this.wrapper.setProps(e):(this.builderObserver.subscribe(e),this.setWrapperPropsRan=!0)}getOption(){return k.jsx(k.Fragment,{})}getUseId(){return this.cell&&this.obj.getJson&&(this.useId=this.cell.useId===!1?"":this.cell.useId===void 0?this.obj.getJson()._id:this.obj.getJson()[this.cell.useId]),this.useId}getInnerContent(){return this.innerContent=[this.item.getHtml({type:this.state.itemType||"span",content:this.getOption()})],this.innerContent}getLinkUrl(){var t,n,i;return(t=this.cell)!=null&&t.to?this.cell.to:`/${(i=(n=this.obj)==null?void 0:n.getJson())==null?void 0:i.type}/${this.useId}`}getLinkFunc(){if(this.cell.forceUpdate){let e=()=>{this.dispatch({forceUpdate:this.cell.forceUpdate})};this.link.setOnClick(e)}if(this.cell.linkClick){let e=()=>{this.cell.linkClick(this.obj),this.cell.forceUpdate&&this.dispatch({forceUpdate:this.cell.forceUpdate})};this.link.setOnClick(e)}}getHtml(){var t;this.mapInnerContent(),this.getLinkFunc(),this.cell.type;let e=(t=this.cell)!=null&&t.hasLink?this.link.getHtml({type:this.state.linkType||"link",content:this.innerContent,props:{to:this.getLinkUrl()}}):this.wrapper.getHtml({type:this.state.wrapperType||"span",content:this.innerContent});return this.html=k.jsx(k.Fragment,{children:e}),this.html}}class dy extends En{constructor(e){super(e),this.state.classKey="MCDelItem",this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setDel]}setDel(){this.cell.itemClick=this.del}del(){let e=this.props.app;this.cell.popop?e.dispatch({popupSwitch:"del",delComponent:this.obj}):this.obj.del()}getOption(){return k.jsx("div",{children:"X"})}}class py extends En{constructor(e){super(e),this.state.classKey="MCEditItem",this.state.itemClick=this.edit}edit(){this.props.app.dispatch({popupSwitch:"edit",currentPopupComponent:this.obj})}getOption(){return"edit"}}class Gh extends En{constructor(e){super(e),this.state.classKey="MCAttributeItem"}getName(){let e=this.cell;this.name=e.name,this.name||(this.name=e)}getOption(){return this.getName(),this.obj.getJson()[this.name]}}class E5 extends Gh{constructor(e){super(e),this.state.classKey="MCTextItem"}getOption(){return k.jsx(k.Fragment,{children:this.cell.name})}}class A5 extends En{constructor(e){super(e),this.state.classKey="MCCustom"}getOption(){let e=this.cell.custom;return k.jsx(e,{...this.props,masterCell:this})}}class qC extends En{constructor(e){super(e),this.state.defaultClassName="MCImgItem",this.state.itemType="img"}getPicSrc(){var e,t;return this.obj.getJson&&(this.src=(t=this.obj)==null?void 0:t.getJson()[((e=this.state.cell)==null?void 0:e.src)||"picURL"]),this.cell.imgSrc&&(this.src=this.cell.imgSrc),this.src}additionalPostSetup(){this.getPicSrc(),this.src&&this.item.addProps({src:this.src,alt:"picture goes here"})}}class C5 extends En{constructor(e){super(e)}getOption(){({...this.cell,...this.props})}}class VC extends En{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setList,this.setFactory],this.state={...this.state,mapContainerClass:"MCMapContainer",interface:"map",mapSectionClass:"MCMapSection"},this.defaultTypes=["del","edit","img"]}setFactory(){this.factory=this.interface.getFactory()}getDefaultTypes(){return this.defaultTypes}checkCellForDefaults(e){let t=this.getDefaultTypes();return t[t.indexOf(e)]}textOrAttribute(e,t){return e.getJson&&(e!=null&&e.getJson()[t])?"attribute":"text"}getType(e,t){let n=e.type;return n||(n=this.checkCellForDefaults(e),n||(n=this.textOrAttribute(t,e))),n}getProps(e,t){return{obj:t,...this.props,interface:this.interface,cell:e,theme:this.props.theme}}getCellList(e){let t=this.props.cells;return k.jsx(k.Fragment,{children:t.map((n,i)=>{let a=this.getType(n,e),u=this.getProps(n,e);return k.jsx(k.Fragment,{children:this.factory.getComponent(a,u)})})})}getListHtml(){return k.jsx(k.Fragment,{children:this.list.map(e=>k.jsx(k.Fragment,{children:this.mapSection.getHtml({type:"div",content:this.getCellList(e)})}))})}setList(){this.list=this.props.list}preSetup(){this.setComponents(["mapContainer","mapSection","link"])}getHtml(){let e=this.mapContainer.getHtml({type:"div",content:this.getListHtml()});return this.html=k.jsx(k.Fragment,{children:e}),this.html}}class lw extends dy{constructor(e){super(e),this.state.classKey="MCCustomDelItem"}getOption(){return k.jsx(this.cell.custom,{...this.props,masterCell:this})}}class b5 extends dy{constructor(e){super(e),this.state.classKey="MCDelItem"}getOption(){return this.props.delText||"delete"}}const T5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAFRGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iNDgiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSI0OCIKICAgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIKICAgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIgogICB0aWZmOkltYWdlTGVuZ3RoPSI0OCIKICAgdGlmZjpJbWFnZVdpZHRoPSI0OCIKICAgdGlmZjpSZXNvbHV0aW9uVW5pdD0iMiIKICAgdGlmZjpYUmVzb2x1dGlvbj0iNzIvMSIKICAgdGlmZjpZUmVzb2x1dGlvbj0iNzIvMSIKICAgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMy0wOS0wOFQxNDo0NDozNi0wNjowMCIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjMtMDktMDhUMTQ6NDQ6MzYtMDY6MDAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgeG1wTU06YWN0aW9uPSJwcm9kdWNlZCIKICAgICAgeG1wTU06c29mdHdhcmVBZ2VudD0iQWZmaW5pdHkgRGVzaWduZXIgMiAyLjEuMSIKICAgICAgeG1wTU06d2hlbj0iMjAyMy0wOC0wNFQxMDoyNTozOC0wNjowMCIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJwcm9kdWNlZCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWZmaW5pdHkgRGVzaWduZXIgMiAyLjEuMSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMy0wOS0wOFQxNDo0NDozNi0wNjowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+zw4Y8wAAAYFpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAACiRdZHPK0RRFMc/ZshgRJmFhcUkZGE0KLGxmMmvwmJmlF+bmee9GTUzXu89SbbKVlFi49eCv4CtslaKSMmWNbFhes7z1Ejm3M49n/u995zuPRc8iaySM8vDkMtbRmw4EpyanglWPlGFjwDthJOKqY/HhxKUtPdbypx4HXJqlT73r9XMq6YCZT7hAUU3LOER4bFlS3d4SzigZJLzwifCHYZcUPjG0VMuPzucdvnTYSMRi4KnXjiY/sWpX6xkjJywvJyWXHZJ+bmP8xK/mp+MS2wWb8IkxjARgowySJReuuiXuZcQ3XTKihL54e/8CRYlV5FZZwWDBdJksOgQdUmqqxI10VUZWVac/v/tq6n1dLvV/RGoeLTt11ao3ITChm1/HNh24RC8D3CeL+Yv7kPfm+gbRa1lD+rW4PSiqKW24WwdGu/1pJH8lrziHk2Dl2OonYaGK6iedXv2s8/RHSRW5asuYWcX2uR83dwXqRtoBLx59Y4AAAAJcEhZcwAACxMAAAsTAQCanBgAAAU5SURBVGiB1ZpfbFNVHMc/bW/H7d3WGujaMeqy8ECMEcgiICDDOI0hEpco8iDECMHEByBRSAwvxCgJ0ZhIzEBjAma8QEyEBwUejEyibg/GYcKYYRCIQEHaVZa2621v/10f7m1pu/5d/9B9k5vc3nvOuZ9v77nn3+8YqIFsdpcIPA88CzhyDgBvzjEGjPh97ki1zzbMNaPN7rIBLwH9aPBihUVEgBHgIjDs97n9c+Go2IDN7rIAO4B3AWkuD82jEHACGPL73OFKMpZtwGZ3mYA3gT2AvSK88jUFHAXO+H3uRDkZyjJgs7s6gUHgmbmzVaSrwB6/z+0pldBUKoHN7loBDAE9VWMVkNEI/WstrZtfbG1f+qTZ/J8/sWgmpL4qStYxRQ4UNVH0DdjsrgHgENBSS+BMdTkF4ehH9q6VT7Wkvyc5oiYPfzX94PS5GR9w0O9z/1Aof8E3oMN/VixNtVriFITTRxzdy3rMWS2YWTAY+tdZ2uWwql6eUPpEyXpXkQOT+crIC6dXm8FC92uhJU5BOHXE0e3qFAq+3b5VYpscVuOXJ5TnRMk6mq86zQLUP9ghoL2mxDn6/MCizt6nF2Q1w6oKhpxK3bdKbPM9TCTHr0fXipL1giIHQpn3swzoTeW31PGDTem3PyOhvtWi1LHQZE5dMxg0E6nzlNb1iq0/DsuJwEyyV5SsZxU5oKbuGXPK3UKDmkp/MJncvs97d+JGNKvjyn0DABbRYHx5vaUVWA68kXkvbUDvYffWhRbocQnmbQNttsxrgRnNxPj10iYcdpOgn+7VWYHsN7CDOvWwPS7BfOoLZ/eh9xcu3rW1/YnMe8FQMvn2fu/dK9eicrEyJm/GFP20A3gndd0E6YHZl4B5dtbqlIJ32rW63rfa0haSk/G//o6mR6LRmKqevyQH1/UusHR2CLMYJm5Ew58cm/aq6ZrPclGyfqfIAcUEIErWzcCmesOnVNhEOLh25QLLYscjE+4H8ejOA1PuQDCZzCiiBbilyIFrKQO7gaWNgC9mIhZT1XOX5OCaFaLY5RRa3A/i0bc+8N6574nH85WhyIELJn0y8jEg5EtUD/iiJuKo5y/JwS6HIOz/9OG/heCBLlGynjSJkvUFYKDe8L/+EQke/nra+8oGqV0wPWpn8pmIx+Gn38MzwVBWtcmVAIybRMm6FeitN/x7B6fu37gdi169Hgtv2ljaRJnymETJ+jqwrN7w0ZjWhty+F49N3opFXutvzeoT+lZb2nzTidj4ZFShfN0z8mjiXXd4gBazwbB9ILsvAPD4ErHRy5GifUEeOao2UCn8N4c6ujauEbMGih5fIrZtn+fOP+54rMLHV2fgMcODbmBOagJ4QBsLeecrPOCt2EATwUOlBpoMHiox0ITwoBsYm6fwAGNGtAXWgl14E8NHgFGjvsQ9Ms/gQV+eT/UDw/MMHrRl+fSc+CLaEndaTQ4fQv/TjQB6cOFEZoomhgc4ngqIZA4lhtDW5/OqieCngJOpH2kDemTkaKFcTQIPMJgZxckdzJ1BCy4U1GOGHwfOZl6YtQZms7ucwPc3h7s3lFtqg+CngK25UZtZw2k9we5yS20QfJQCIae88wG/z32lnFIbBA9alCYv05wnNA385z8sFmIqGaXUozXHqF9otZCm0KpN0dpQMoSkyAGPKFkvAKuowQpGmRoHdvp97lulElYa6N6CFkOoZ6B7EDhb00B3pjK2GuwCWivNX0Ah4Dhwsm5bDXKlxxT60TZ8VLPZ42fgl4Zt9sgnfYV7PZVttxmtxXab/wFJap9Ow0di3gAAAABJRU5ErkJggg==";class S5 extends py{constructor(e){super(e),this.state.classKey="MCEditImgItem",this.state.itemType="img"}additionalPostSetup(){this.getImg(),this.item.setProps({src:this.src})}getImg(){return this.src=this.cell.imgSrc||T5,this.src}}class D5 extends py{constructor(e){super(e),this.state.classKey="MCCustomEditItem"}getOption(){return k.jsx(this.cell.custom,{...this.props,masterCell:this})}}let x5=class extends VC{constructor(e){super(e),this.mapContainer=lh.createRef(),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.getPicObj,this.getAddComponentButton],this.state={...this.state,index:0,isDragging:void 0,defaultTheme:"interactiveMap"}}_addEventListeners(){var t;this.props;let e=[];for(let n of this.list){let i=document.getElementById(n.getJson()._id);i.addEventListener("mousedown",a=>{this.setState({isDragging:i})}),i.addEventListener("mouseup",a=>{this.setState({isDragging:void 0})}),e.push(i),this.setState({saveList:e})}(t=this.mapContainer)!=null&&t.current&&(this.mapContainer.current.addEventListener("mouseup",n=>{this.currentComp!==void 0&&this.currentComp.update(),this.setState({isDragging:void 0})}),this.mapContainer.current.addEventListener("mousemove",n=>{if(this.state.isDragging!==void 0){let i=this.state.isDragging,a=i.id,u=this.list.find(c=>c.getJson()._id===a);if((u==null?void 0:u.getJson().draggable)!==!1){const c=this.mapContainer.current.getBoundingClientRect(),h=n.pageX-c.left-25,d=n.pageY-c.top-25;u.setCompState({x:h,y:d}),this.currentComp=u,i.style.left=`${h}px`,i.style.top=`${d}px`}}}))}componentDidMount(){this._addEventListeners()}zoom(e){let t=this.mapContainer.current.getBoundingClientRect(),n=t.width*e,i=t.height*e;this.mapContainer.current.style.width=n+"px",this.mapContainer.current.style.height=i+"px";let a=this.state.saveList;for(let u of a){const c=u.style.left||"0",h=u.style.top||"0",d=c.match(/(-?\d*\.?\d+)/),y=h.match(/(-?\d*\.?\d+)/),g=d?parseFloat(d[0]):0,p=y?parseFloat(y[0]):0,v=g*e,A=p*e;u.style.left=v+"px",u.style.top=A+"px"}}componentDidUpdate(e,t){this.props.list.length!==e.list.length&&this._addEventListeners()}getAddComponentButton(){var e,t;if(this.addComponentButton=this.props.addComponentButton,this.addComponentButton!==void 0){let n=typeof this.addComponentButton=="string"?this.addComponentButton:this.addComponentButton.type||"addComponentButton",i=this.props.pinKey||((e=this.mapObj)==null?void 0:e.getJson().pinType)||"pin";this.addComponentButton=this.factory.getComponent(n,{...this.props,theme:this.props.theme||this.state.defaultTheme,mapId:this.mapObj?(t=this.mapObj)==null?void 0:t.getJson()._id:void 0,addType:i,addPinProps:this.props.addPinProps,pinAdded:this._addEventListeners})}}getPicObj(){var t;let e=this.props.imgAttribute||"picURL";this.mapObj&&(this.picSrc=(t=this.mapObj)==null?void 0:t.getJson()[e])}preSetup(){this.setComponents([])}async changePic(e){let t=this.props.list;e=e<0?e=t.length-1:e,e=e>=t.length?0:e,this.mapObj=t[e],await this.setState({index:e}),this._addEventListeners()}setList(){if(!this.listSet){let t=this.props.list[this.state.index];this.mapObj=t;let n=this.props.pinKey||(t==null?void 0:t.getJson().pinType)||"pin",i=this.props.pinAttribute||(t==null?void 0:t.getJson().type)+"Id"||"mapId",a=this.props.mapId||(t==null?void 0:t.getJson()._id);this.list=this.componentList.getList(n,a,i)}}preSetup(){this.setComponents(["mapContainer","right","left","image","zoomIn","zoomOut"])}getIndexAndChangeMap(e){let t=this.props.list.indexOf(this.mapObj)+e;this.changePic(t)}getListHtml(){let e=this.props,t=this.theme,n=this.factory;return k.jsx(k.Fragment,{children:this.list.map((i,a)=>{let u={obj:i,props:e,interface:this.interface,cell:e.pinCell,theme:this.props.them||this.state.defaultTheme,pinProps:this.props.pinProps};return k.jsx("div",{id:i.getJson()._id,className:e.mapSectionClass?e.mapSectionClass:t.MCMapSection,style:{...e.mapSectionStyle,left:i.getJson().x+"px",top:i.getJson().y+"px"},children:k.jsx(k.Fragment,{children:n.getComponent(e.pinType?e.pinType:"attribute",u)})},a)})})}getHtml(){if(this.props.list.length>0){let e=this.props,t=this.theme;return k.jsxs("div",{ref:this.mapContainer,className:e.mapContainerClass?e.mapContainerClass:t.MCMapContainer,style:{...e.mapContainerStyle},children:[k.jsx("img",{src:this.picSrc,className:e.mapClass?e.mapClass:t.MCMap,style:{...e.mapStyle}}),this.getListHtml(),e.addComponentButton&&k.jsx(k.Fragment,{children:this.addComponentButton}),k.jsx("div",{style:{position:"absolute",top:"0px",right:"0px"},onClick:()=>{this.zoom(.5)},children:"zoom out"}),k.jsx("div",{style:{position:"absolute",top:"20px",right:"0px"},onClick:()=>{this.zoom(2)},children:"zoom in"}),k.jsx("div",{style:{position:"absolute",top:"0px",left:"-20px"},onClick:()=>{this.getIndexAndChangeMap(-1)},children:"prev"}),k.jsx("div",{style:{position:"absolute",top:"20px",right:"-20px"},onClick:()=>{this.getIndexAndChangeMap(1)},children:"next"})]})}else this.list=[]}};class I5 extends En{constructor(e){super(e)}preSetup(){this.setComponents([])}async createObjType(){let e=this.operationsFactory,t=this.props.addType;await e.prepare({prepare:{type:t,mapId:this.props.mapId,...this.props.addPinProps},clean:!0,run:!0}),this.props.pinAdded()}getHtml(){let e=this.props.text||"+ Add Item";return k.jsxs("div",{onClick:this.createObjType,style:this.props.style,className:this.props.class||this.theme.MCAddButton,children:[e," "]})}}class k5 extends En{constructor(e){super(e),this.state.classKey="MCAttributeItem"}getOption(){return this.state.obj}}class R5 extends Gh{constructor(e){super(e),this.state.classKey="MCAttributeItem"}getItemClass(){var i;let e=this.cell,t=e.activeAttribute?e.activeAttribute:"_id";if(this.state.obj.getJson()[t]===((i=e.activeItem)==null?void 0:i.getJson()[t])){let a=e.activeClass?e.activeClass:this.theme.MCActiveItem;this.item.setClass(this.item.getClass()+" "+a)}}additionalPostSetup(){this.getItemClass()}}class P5 extends qC{constructor(e){super(e),this.state.classKey="MCLogoItem"}}class O5 extends En{constructor(e){super(e),this.state.itemType="div"}getList(){return this.list=this.props.cell.links.filter(e=>(e==null?void 0:e.name)!==void 0),this.list}getHome(){var e;if(!this.state.active){this.home=this.list.find(t=>t.path==="/");for(let t of this.list)t.active=(e=this.home)==null?void 0:e.name}}getOption(){let e=this.props.cell.links.filter(t=>(t==null?void 0:t.name)!==void 0&&t.display!==!1);return k.jsx(Pn,{list:e,theme:this.cell.linksTheme||"links",mapSectionClass:this.props.cell.linkSectionClass||void 0,mapSectionStyle:this.props.cell.linkSectionStyle||void 0,cells:[{type:"linkItem",class:this.props.cell.linkItemClass||void 0,activeClass:this.props.cell.activeClass||void 0,style:this.props.cell.linkItemStyle||void 0,linkClick:t=>{for(let n of this.props.cell.links)n.active=t==null?void 0:t.name;this.setState({active:t==null?void 0:t.name})}}]})}additionalSetup(){this.getList(),this.getHome()}}class N5 extends En{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setUpLinks],this.state.classKey="MCLinkItem",this.state.itemType="div"}setUpLinks(){this.cell.to=this.obj.path,this.useId="",this.cell.hasLink=!0}getActiveClass(){return this.activeClass=this.cell.activeClass||this.theme.MCActiveLink,this.activeClass}setActiveClass(){var n,i,a,u,c;const e=((n=this.obj)==null?void 0:n.path)==="/"||((i=this.obj)==null?void 0:i.path)==="/home",t=window.location.pathname;if(e){const h=t.split("/").filter(Boolean);if(h.length>0&&h[0]!=="home")return}if(((a=this.obj)==null?void 0:a.active)===((u=this.obj)==null?void 0:u.name)||t.includes((c=this.obj)==null?void 0:c.path)){let h=this.getActiveClass();h=h||"",this.item.setClass(this.item.getClass()+" "+h)}}additionalSetup(){this.setActiveClass()}getOption(){var e;return(e=this.props.obj)==null?void 0:e.name}}class L5 extends En{constructor(e){super(e),this.state.classKey="MCTextItem"}additionalPostSetup(){this.item.setOnClick(this.cell.logoutFunc||this.APIService.logout)}getOption(){return"logout"}}class F5 extends En{constructor(e){super(e),this.state.classKey="MCOrderedArrows",this.state.increment=1,this.state.decrement=-1}increasePosition(){this.obj.updateOrder(this.state.increment)}decreasePosition(){this.obj.updateOrder(this.state.decrement)}increaseArrowUI(){return this.increaseArrow=k.jsx("div",{className:"upward-arrow",onClick:this.decreasePosition}),this.increaseArrow}decreaseArrowUI(){return this.decreaseArrow=k.jsx("div",{style:{marginTop:"5px"},className:"downward-arrow",onClick:this.increasePosition}),this.decreaseArrow}getOption(){return this.increaseArrowUI(),this.decreaseArrowUI(),k.jsxs("div",{style:{marginTop:"-4px"},className:"fitCC",children:[this.increaseArrow,this.decreaseArrow]})}}class B5 extends En{constructor(e){super(e),this.state.displayState=!1,this.state.itemType="div"}displayOption(){return k.jsx("div",{style:{position:"absolute",left:"0px",top:"0px"},className:this.state.displayState?"downward-arrow":"right-arrow",onClick:()=>{this.wrapper.setStyle({...this.wrapper.getStyle(),height:"200px"}),this.setState({displayState:!this.state.displayState})}})}mapOption(){return k.jsx(Pn,{name:this.props.name,filter:{attribute:this.props.filter.attribute,search:this.obj.getJson()._id},cells:[...this.props.cells]})}additionalPostSetup(){this.item.setStyle({...this.item.getStyle(),position:"relative"})}getOption(){return k.jsxs("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[this.displayOption(),"  ",this.state.displayState&&this.mapOption(),"  "]})}}class M5 extends Gh{constructor(){super(),this.state.classKey="MCBackgroundItem",this.state.wrapperClass="MCCellBackground",this.state.linkClass="MCBackgroundLink"}additionalPostSetup(){let t={width:"100%",height:"250px",display:"flex",justifyContent:"center",alignItems:"center",color:"white",textAlign:"center",fontSize:"50px",background:`linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${this.cell.pirSRC||this.obj.getJson()[this.cell.picAttribute||"picURL"]}) no-repeat center center`,backgroundSize:"cover",textDecoration:"none"};this.wrapper.setStyle({...this.wrapper.getStyle(),...t}),this.link.setStyle({...this.wrapper.getStyle(),...t})}}class j5 extends En{constructor(e){super(e),this.state.classKey="MCCustom"}getOption(){return this.cell.custom}}class q5 extends SC{constructor(){super(...arguments);he(this,"factory",{text:E5,attribute:Gh,custom:A5,customBuilt:j5,img:qC,form:C5,del:dy,delIcon:lw,delCustom:lw,delText:b5,edit:py,editIcon:S5,editCustom:D5,interactiveMap:x5,addComponentButton:I5,plain:k5,select:R5,logo:P5,links:O5,linkItem:N5,logout:L5,default:Pn,map:VC,order:F5,innerMap:B5,backgroundImage:M5})}}class my{constructor(){he(this,"MCMapContainer","Map-Container");he(this,"MCMapSection","Map-Section");he(this,"MCLink","Map-Link");he(this,"MCCell","Map-Cell");he(this,"MCCustomDelItem","Map-Custom-Del-Item");he(this,"MCDelItem","Map-Del-Item");he(this,"MCDelImgItem","Map-Del-imgItem");he(this,"MCCustomEditItem","Map-Custom-Edit-Item");he(this,"MCEditImgItem","Map-Edit-imgItem");he(this,"MCEditItem","Map-Edit-Item");he(this,"MCAttributeItem","Map-Attribute-Item");he(this,"MCImgItem","Map-imgItem");he(this,"MCTextItem","Map-Text-Item");he(this,"MCActiveItem","Map-Active-Item");he(this,"MCCustom","");he(this,"MCBackgroundItem","background-item");he(this,"MCCellBackground","cell-background");he(this,"MCBackgroundLink","cell-background");he(this,"MCLogoItem","navLogo")}}class $h extends my{constructor(){super(...arguments);he(this,"MCSectionHover","DC-Map-Section:hover");he(this,"MCCustomDelItem","DC-Custom-Del-Item");he(this,"MCDelItem","DC-Del-Item");he(this,"MCDelImgItem","DC-Del-imgItem");he(this,"MCCustomEditItem","Map-Custom-Edit-Item");he(this,"MCEditImgItem","DC-Edit-imgItem");he(this,"MCEditItem","DC-Edit-Item")}}class Wh extends $h{constructor(){super(...arguments);he(this,"MCMapContainer","DR-Map-Container");he(this,"MCMapSection","DR-Map-Section")}}class V5 extends Wh{constructor(){super(...arguments);he(this,"MCMapContainer","DRW-Map-Container")}}class U5 extends Wh{constructor(){super(...arguments);he(this,"MCMapContainer","IM-Map-Container");he(this,"MCMapSection","IM-Map-Section");he(this,"MCMap","IM-Map");he(this,"MCAddButton","IM-addButton");he(this,"MCActiveItem","IM-Active-Item");he(this,"MCCell","IM-Cell")}}class z5 extends Wh{constructor(){super(...arguments);he(this,"MCActiveLink",this.MCActiveItem);he(this,"MCLinkItem",this.MCLink);he(this,"MCMapSection","SB-Map-Section")}}class H5 extends $h{constructor(){super(...arguments);he(this,"MCActiveLink",this.MCActiveItem);he(this,"MCLinkItem",this.MCLink);he(this,"MCMapSection","SB-link");he(this,"MCCell","SB-Cell-Link");he(this,"MCLink","SB-Map-Link");he(this,"MCLinkItem","SB-Map-Link")}}class G5 extends $h{constructor(){super(...arguments);he(this,"MCActiveLink",this.MCActiveItem);he(this,"MCLinkItem",this.MCLink)}}const $5=Object.freeze(Object.defineProperty({__proto__:null,DefaultColumn:$h,DefaultRegistry:my,DefaultRow:Wh,DefaultWrapRow:V5,InteractiveMap:U5,Links:H5,SideBar:z5,TopBar:G5},Symbol.toStringTag,{value:"Module"}));class W5 extends ay{constructor(){super($5),this.factory.default=my}}class K5{constructor(){he(this,"factory",{text:Mu,tag:UC,plain:Z5,textAndTag:Y5,textAndTag2:Q5,bool:eF,textAttributeList:X5})}getFilter(e){if(e)return this.factory[e]}registerFilter(e,t){this.factory[e]=t}}function UC(r){let{list:e,attribute:t,tagList:n}=r;return e.length>0&&(e=e.filter(i=>!!n.find(u=>(t?u.getJson()[t]:u.getJson().connectedId)===i.getJson()._id))),e}function J5(r){let e=[];if(r.search&&r.list){const t=r.search.toLowerCase().split(" ").map(n=>n.trim());e=r.list.filter(n=>{const i=n.getJson()[r.attribute||"tags"];if(i){let a=i.split(r.splitStr||",");a=a.map(u=>u.toLowerCase());for(let u of t)if(a.includes(u))return!0}else return!1})}return e}function Q5(r){let{list:e,attributes:t,search:n}=r,i=[],a=[],u=t.split(",");for(let h of u)a.push(Mu({...r,attribute:h}));let c=J5({...r});return i=[...a[0],...c,...a[1],...a[2]],i=gy(i),i}function Y5(r){let{list:e,attribute:t,tagList:n,attribute2:i,attributeTag:a,search:u}=r,c=Mu({...r,attribute:t}),h=UC({...r,attribute:a}),d=Mu({...r,attribute:i});return e=[...c,...h,...d],gy(e)}function gy(r){const e=new Map;return r.forEach(t=>{const i=t.getJson()._id;e.has(i)||e.set(i,t)}),Array.from(e.values())}function Mu(r){let{list:e,attribute:t,search:n}=r;return n&&n.length>0&&(e=e.filter(i=>{var a;return(a=i.getJson()[t])==null?void 0:a.toLowerCase().includes(n==null?void 0:n.toLowerCase())})),e}function Z5(r){let{list:e,attribute:t,search:n}=r;return n&&n.length>0&&(e=e.filter(i=>{var a;return(a=i[t])==null?void 0:a.toLowerCase().includes(n==null?void 0:n.toLowerCase())})),e}function X5(r){let{attributeList:e}=r,t=[];for(let n of e)t=[...t,...Mu({...r,attribute:n})];return t=gy(t),t}function eF(r){let{list:e,attribute:t,search:n}=r;return e=e.filter(i=>i.getJson()[t]===n),e}class zC extends ya{constructor(){super();he(this,"FilterFactory");this.getFilterFactory(),this.mainFunc=this.getMapComponent}getFactory(){return this.factory===void 0&&(this.factory=new q5),this.factory}getThemeFactory(){return this.themeFactory===void 0&&(this.themeFactory=new W5),this.themeFactory}getFilterFactory(){return this.filterFactory===void 0&&(this.filterFactory=new K5),this.filterFactory}getMapComponent(t,n){return n=n||"default",this.factory.getComponent(n,t)}}class Pn extends hy{constructor(e){super(e),this.state={type:"map"},this.interface=HC}setFilterInfo(){this.filterFacotry=this.interface.getFilterFactory(),this.filters=this.props.filters,this.filterFunc=this.props.filterFunc,this.filter=this.props.filter}getFilterFunc(){var e;if(!this.filterFunc&&this.filters!==void 0){let t=(e=this.filters)==null?void 0:e.find(n=>n.type==="filterFunc");t&&(this.filterFunc=t.func)}}getFilter(){var e;if(!this.filter&&this.filters!==void 0){let t=(e=this.filters)==null?void 0:e.find(n=>n.type==="filter");t&&(this.filter={...t})}}getList(){var t,n,i,a;let e=this.props.name;this.list=this.props.list?this.props.list:this.filter?(i=this.componentList)==null?void 0:i.getList(e,(t=this.filter)==null?void 0:t.search,(n=this.filter)==null?void 0:n.attribute):(a=this.componentList)==null?void 0:a.getList(e)}filterListByFilterFunc(){this.list&&(this.list=this.list.filter(e=>this.filterFunc?this.filterFunc(e):!0))}filterListByFilterFactory(){if(this.filters)for(let e of this.filters){let t=this.filterFacotry.getFilter(e.type);t&&(this.list=t({list:this.list,...e}))}}setProps(){let e=this.props.cells;this.addToProps={cells:e,list:this.list}}componentPreSetup(){this.addToInitialSetup=[this.setFilterInfo,this.getFilterFunc,this.getFilter,this.getList,this.filterListByFilterFunc,this.filterListByFilterFactory]}}const HC=new zC;class GC extends ot{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.getNavLists],this.state={}}getLinks(){var e,t;return this.props.links?this.props.links:(t=(e=this.props.app)==null?void 0:e.state)==null?void 0:t.routes}getDefaultNavItem(e){return{logo:{imgSrc:this.props.logoURL,label:this.props.logoLabel,...this.props},links:{links:this.getLinks(),...this.props,class:"fit"},logout:{logoutFunc:this.props.logoutFunc,auth:this.props.auth,wrapperClass:"SB-logout",...this.props}}[e]}getList(){let e=this.props.navList,t=e.getList();for(let n=0;n<t.length;n++)if(t[n].default){let i=this.getDefaultNavItem(t[n].type);i.type=t[n].type,e.update(n,i)}return this.props.type==="topBar"&&(t=t.filter(n=>n.type!=="links")),t}getHtml(){return k.jsx(Pn,{theme:this.props.mapTheme,list:this.mapList,cells:this.list,...this.props.navMapProps})}getNavLists(){this.list=this.props.list?this.props.list:this.getList(),this.mapList=this.props.mapList?this.props.mapList:[{}]}}class tF{constructor(){he(this,"factory",{default:GC})}getComponent(e,t){let n;return this.factory[e]&&(n=this.factory[e]),k.jsx(n,{...t})}registerComponent(e,t){this.factory[e]=t}}class nF extends ot{constructor(e){super(e),this.state={defaultStyle:"navMenu",renderComp:void 0}}async open(){let e=await this.props.open();this.props.type==="topBar"&&(this.state.renderComp?this.setState({renderComp:void 0}):this.setState({renderComp:e}))}render(){return this.props.app,k.jsxs("div",{children:[k.jsxs("div",{onClick:this.open,className:this.props.menuClass?this.props.menuClass:this.state.defaultStyle,children:[this.props.menuContent&&k.jsx(k.Fragment,{children:this.props.menuContent})," "]}),this.state.renderComp&&k.jsx(k.Fragment,{children:this.state.renderComp})]})}}class rF extends _n{constructor(e){super(e),this.state={...this.state,defaultType:this.props.type?this.props.type:"sideBar",typeKey:"layout",defaultNavType:"default",phoneSize:850,left:-400}}getProps(){var e,t;return{mapTheme:this.props.mapTheme||this.state.defaultType,links:this.props.links||((t=(e=this.props.app)==null?void 0:e.state)==null?void 0:t.routes),...this.props}}getFactoryComponent(e){let t=this.props.mapType?this.props.mapType:this.state.defaultNavType;return this.props.factory.getComponent(t,e)}componentDidMount(){this.resize!==void 0&&(window.addEventListener("resize",this.resize),this.resize())}componentWillUnmount(){this.resize!==void 0&&window.removeEventListener("resize",this.resize)}resize(){if(window.innerWidth<850){this.setState({phone:!0,tablet:!1,defaultType:this.props.phoneLayout?this.props.phoneLayout:this.state.ogType?this.state.ogType:this.state.defaultType,ogType:this.state.ogType?this.state.ogType:this.state.defaultType});return}if(window.innerWidth<1224){this.setState({phone:!1,tablet:!0,defaultType:this.props.tabletLayout?this.props.tabletLayout:this.state.ogType?this.state.ogType:this.state.defaultType,ogType:this.state.ogType?this.state.ogType:this.state.defaultType});return}window.innerWidth>1224&&(this.state.phone&&this.setState({phone:!1,defaultType:this.state.ogType}),this.state.tablet&&this.setState({tablet:!1,defaultType:this.state.ogType}))}async setStyleOnMenuClick(e){const t=n=>new Promise(i=>setTimeout(i,n));this.card.setStyle({...this.card.getStyle(),left:e.toString()+"px"}),await this.setState({left:e}),await t(10)}async setNavOpenClose(){if(this.state.left===-400)for(let e=-400;e<600;e=e+15){if(e>0){this.setState({left:0});break}await this.setStyleOnMenuClick(e)}else for(let e=0;e>-450;e=e-15){if(e<-400){this.setState({left:-400});break}await this.setStyleOnMenuClick(e)}}async openCloseLinks(){var n,i;let e=k.jsx(Pn,{list:this.props.links||((i=(n=this.props.app)==null?void 0:n.state)==null?void 0:i.routes),cells:[{type:"link"}]});return k.jsx(_n,{content:e})}async openCloseNavFun(){return await{topBar:this.openCloseLinks,sideBar:this.setNavOpenClose}[this.state.defaultType]()}getMenu(){return this.props.menuComponent?k.jsx(this.props.menuComponent,{...this.props.menuComponentProps,open:this.openCloseNavFun,type:this.state.defaultType}):k.jsx(nF,{open:this.openCloseNavFun,type:this.state.defaultType,...this.props.menuComponentProps})}getContent(){let e=this.getProps(),t=this.getFactoryComponent(e);return this.content=k.jsxs(k.Fragment,{children:[t,this.props.type!=="type"&&(this.state.phone||window.innerWidth<this.state.phoneSize)&&k.jsx(k.Fragment,{children:this.getMenu()})]}),this.content}}class iF{constructor(){wn.bind(this),this.list=[{type:"logo",picURL:void 0,label:void 0,default:!0},{type:"links",linkJson:void 0,default:!0},{type:"logout",logoutFunc:void 0,auth:void 0,default:!0}]}setList(e){this.list=e}getList(){return this.list}insert(e,t){if(e<0||e>=this.list.length){console.error("Index out of bounds");return}this.list.splice(e,0,t)}add(e,t){t?this.list.unshift(e):this.list.push(e)}addCustomJSX(e,t,n){let i={type:"custom",custom:e};t?this.insert(t,i):this.add(i,n)}update(e,t){if(e<0||e>=this.list.length){console.error("Index out of bounds");return}this.list[e]={...this.list[e],...t}}remove(e){if(e<0||e>=this.list.length){console.error("Index out of bounds");return}this.list.splice(e,1)}}class $C extends ya{constructor(){super();he(this,"factory");he(this,"navList");wn.bind(this),this.getFactory(),this.getNavList(),this.mainFunc=this.getNav}getFactory(){return this.factory||(this.factory=new tF),this.factory}getNav(t){return k.jsx(rF,{factory:this.factory,navInterface:this,navList:this.navList,...t})}getNewNavList(){return new iF}setNavListForce(t){this.navList=t}getNavList(){return this.navList||(this.navList=this.getNewNavList()),this.navList}}const sh=new $C;class sF extends hy{constructor(e){super(e),this.interface=sh}}class oF{constructor(){he(this,"factory",{})}getComponent(e){return this.factory[e]}registerComponent(e,t){this.factory[e]=t}}class aF extends oF{constructor(){super(...arguments);he(this,"factory",{})}}class uF extends ot{constructor(e){super(e),this.state={}}checkPopupSwitch(e){var t,n;return this.popupSwitch=this.props.popupSwitch||((n=(t=this.props.app)==null?void 0:t.state)==null?void 0:n.popupSwitch),this.popupSwitch!==""&&this.popupSwitch!==void 0&&(e=!0),e}checkType(e){var i,a,u,c,h;let t=this.props.currentPopupComponent||((a=(i=this.props.app)==null?void 0:i.state)==null?void 0:a.currentPopupComponent),n=(u=this.popupFactory.getComponent(this.popupSwitch))==null?void 0:u.componentType;return n&&(t=this.isArray(t),e=((h=(c=t[0])==null?void 0:c.getJson())==null?void 0:h.type)===n&&t.length>0),e}render(){var n;let e=this.checkPopupSwitch(!1);e&&(e=this.checkType(e)),this.popupFactory=this.props.factory||this.props.app.state.popupFactory;let t=(n=this.popupFactory)==null?void 0:n.getComponent(this.popupSwitch);return k.jsx(k.Fragment,{children:e&&(t==null?void 0:t.content)&&k.jsx(_n,{content:k.jsx(t.content,{}),popup:!0,type:t.popupType||"biggerCard",theme:t.popupTheme||"Default",handleClose:()=>{if(t.handleClose)t.handleClose();else{let i=this.props.app.state.currentPopupComponent;i&&this.props.app.state.operationsFactory.removeFromList(i),this.props.app.dispatch({currentPopupComponent:void 0,popupSwitch:void 0})}}})})}}class lF extends ya{constructor(){super();he(this,"factory");wn.bind(this),this.getFactory()}getFactory(){return this.factory||(this.factory=new aF),this.factory}createPopupMachine(t){return k.jsx(uF,{app:(t==null?void 0:t.app)||this.getAppComponent(),factory:this.factory})}}let cw=new lF;class cF{constructor(){he(this,"convertStringToLink",e=>e&&(!e.startsWith("http://")&&!e.startsWith("https://")?"https://"+e:e))}isLikelyUrl(e){return/\.(com|net|org|io|gov|edu|co)\b/.test(e)||/^(?:f|ht)tps?\:\/\//.test(e)||/^mailto\:/i.test(e)}checkURLforString(e){return window.location.href.includes(e)}getIdFromURL(e,t){let i=window.location.href.split("/"),a=i[i.length-1],u=e?a.split("-"):[a];return t?u[t]:u[0]}getTypeFromURL(){let t=window.location.href.split("/");return t[t.length-2]}}let oh=new cF;class WC extends ot{constructor(t,n){super(t);he(this,"dispatchItems",{});this.state={...this.state,type:n==null?void 0:n.type,ids:n==null?void 0:n.ids,filterKeys:n==null?void 0:n.filterKeys,path:n==null?void 0:n.path,snapShot:n==null?void 0:n.snapShot,owner:!0},(n==null?void 0:n.owner)===!1&&(this.state.owner=!1)}async getComponentsFromBackend(){let{type:t,ids:n,filterKeys:i,path:a,snapShot:u,owner:c}=this.state;this.compList=await this.componentList.getList(t,n,i),this.compList.length>0&&await this.setState({gotComponents:!0}),this.compList=await this.componentList.getComponentsFromBackend({type:t,ids:n,filterKeys:i,path:a,snapShot:u,owner:c}),this.setState({gotComponents:!0,getComponentsFromBackend:!0,components:this.compList,urlId:n})}async componentDidMount(){this.getComponentsFromBackend();let t=this;window.addEventListener("popstate",function(n){t.onBackClick(n)})}onBackClick(t){this.getComponentsFromBackend()}componentDidUpdate(){this.getComponentsAgain()}async getComponentsAgain(t,n){this.getFromURL(),(this.app.state.urlChange||this.state.reRender&&this.urlId!==this.state.urlId)&&(await this.setState({urlId:this.urlId}),await this.dispatch({urlChange:void 0}),this.forceRerender=!1,this.getComponentsFromBackend())}async getFromURL(){this.urlType=oh.getTypeFromURL(),this.urlId=oh.getIdFromURL()}}class _a extends WC{constructor(t,n){super(t,n);he(this,"dispatchItems",{});this.state={...this.state,type:n==null?void 0:n.type,ids:n==null?void 0:n.ids,filterKeys:n==null?void 0:n.filterKeys,path:n==null?void 0:n.path,snapShot:n==null?void 0:n.snapShot,owner:n==null?void 0:n.owner},(n==null?void 0:n.owner)===!1&&(this.state.owner=!1)}async getComponentsFromBackend(){let{type:t,ids:n,filterKeys:i,path:a,snapShot:u,owner:c}=this.state;this.compList=await this.componentList.getComponents(),this.compList.length>0&&await this.setState({gotComponents:!0}),this.compList=await this.componentList.getComponentsFromBackend({type:this.state.owner,ids:n,filterKeys:i,path:a,snapShot:u,typeAttribute:"owner"}),this.setState({gotComponents:!0,getComponentsFromBackend:!0,components:this.compList,urlId:n})}}class KC extends WC{async getComponentsFromBackend(){await this.getFromURL(),await this.getFirstComponent(),this.comp&&await this.getAssociatedItems(),this.setGotComponents()}async getFirstComponent(e,t){let n=e||this.urlType,i=t||this.urlId;this.comp=this.componentList.getComponent(n,i),this.comp||(this.comp=await this.componentList.getComponentsFromBackend({type:n,ids:i,filterKeys:"_id",owner:this.state.owner}),this.comp=this.comp.length>0?this.comp[0]:void 0)}async getAssociatedItems(){this.compList=await this.comp.getAssociatedItems(this.state.itemTypes),this.compList.length>0&&this.setState({gotComponents:!0}),this.compList=await this.comp.getAssociatedItemsFromBackend(this.state.itemTypes),await this.setCurrentItems()}setCurrentItems(){this.dispatch({currentComponent:this.comp,["current"+this.getCapitalFirstLetter(this.comp.getJson().type)]:this.comp,...this.dispatchItems})}setGotComponents(){this.setState({gotComponents:!0,gotComponentsFromBackend:!0,components:this.compList,urlId:this.urlId})}}class JC extends ot{constructor(e){super(e),this.state={...this.state,email:"",password:""}}validate(){return!0}onChange(e){let{name:t,value:n}=e.target;this.setState({[t]:n})}onSub(){this.validate()&&this.APIService.login(this.state.email,this.state.password)}getSwitchLink(){return k.jsxs("div",{children:["Don't have an Account? ",k.jsx(yn,{to:"/register",children:"Sign Up"})]})}preSetup(){this.setComponents(["container","header","form","submitButton"])}getHeaderHtml(){return this.header.getHtml({type:"h1",content:"Login"})}getFormHtml(){let e=k.jsxs(k.Fragment,{children:[k.jsx("div",{children:"Email"}),k.jsx("input",{className:"defaultInputFormAuth",name:"email",onChange:this.onChange,value:this.state.email}),k.jsx("div",{style:{marginTop:"10px"},children:"Password"}),k.jsx("input",{className:"defaultInputFormAuth",name:"password",type:"password",onChange:this.onChange,value:this.state.password})]});return this.form.setClass("defaultLoginForm"),this.form.getHtml({type:"div",content:e})}getSubmitHtml(){return this.submitButton.setClass("defaultLoginButton"),this.submitButton.setOnClick(this.onSub),this.submitButton.getHtml({type:"div",content:"Submit"})}getContainerHtml(){this.container.setClass(this.props.loginContainer||"fitCC");let e=k.jsxs(k.Fragment,{children:[this.getHeaderHtml(),this.getFormHtml(),this.getSubmitHtml(),this.getSwitchLink()]});return this.container.getHtml({type:"div",content:e})}getHtml(){let e=this.getContainerHtml();return k.jsx("div",{className:"fullCCLayoutRow",children:k.jsx(_n,{type:this.props.loginCardType||"biggerCard",content:e})})}}class hF extends JC{async onSub(){if(this.validate()){let e=await this.APIService.register(this.state.email,this.state.password);if(!e.error){let t={type:"user",email:this.state.email,_id:this.state.email};e=await this.componentList.addComponents(t),window.history.pushState({},"","/"),this.dispatch({currentUser:e})}}}getHeaderHtml(){return this.header.getHtml({type:"h1",content:"Register"})}getSwitchLink(){return k.jsxs("div",{children:["Have an Account? ",k.jsx(yn,{to:"/login",children:"Login"})]})}}class fF extends ot{constructor(e){super(e),this.state={...this.state,routes:[],loginComp:JC,registerComp:hF}}addToRouter(e){let t=[...this.state.routes,e];this.setState({routes:t})}getRouteMap(e,t){let n=k.jsx(k.Fragment,{});return e&&(e=[...e],n=e==null?void 0:e.map((i,a)=>(i.path||(i.path=this.classNameToString(i.comp),a===0&&(i.path="/")),k.jsxs(k.Fragment,{children:[k.jsx($o,{path:i.path,element:k.jsx(i.comp,{props:{...t,...i.props}})}),k.jsx($o,{path:i.path+"/:id",element:k.jsx(i.idComp,{props:{...t,...i.props}})})]})))),n}getRoutes(e,t){var i;let n=k.jsxs(C_,{children:[this.getRouteMap(e,t),this.state.routes.map((a,u)=>k.jsx(k.Fragment,{children:a}))]});return(i=this.app)!=null&&i.state.currentUser||(n=this.getUserAuthRoutes(t)),n}getUserAuthRoutes(e){let t=e.loginComp||this.state.loginComp,n=e.registerComp||this.state.registerComp;return k.jsxs(C_,{children:[k.jsx($o,{path:"/",element:k.jsx(t,{props:{...e}})}),k.jsx($o,{path:"/login",element:k.jsx(t,{props:{...e}})}),k.jsx($o,{path:"/register",element:k.jsx(n,{props:{...e}})})]})}getHtml(){var a;let e={...this.props};e.app=this.app;let t=(a=this.app)==null?void 0:a.state,n=this.props.routes||(t==null?void 0:t.routes),i=this.getRoutes(n,e);return k.jsx(k.Fragment,{children:i})}}class dF{constructor(){he(this,"registry",{})}getRegistry(){return this.registry}addToRegistry(e,t){this.registry[e]=t}getItemFromRegistry(e){return this.registry[e]}}class pF extends ot{constructor(t,n,i){super(t);he(this,"endpoint");he(this,"db");he(this,"storage");he(this,"auth");he(this,"popupComponents");he(this,"popupComponentsProps");n=this.props.config||n,this.popupComponents=this.props.popupComponents,this.componentListInterface=new q3(this.dispatch,n.endpoint,n.db,n.storage,n.auth),this.componentList=this.componentListInterface.createComponentList(),this.factory=this.componentListInterface.getFactory(),this.operationsFactory=this.componentList.getOperationsFactory(),this.interfaceRegistry=new dF,this.initialPropsSetupFunctions=[this.propogateApp,...this.initialPropsSetupFunctions],this.state={componentList:this.componentList,componentListInterface:this.componentListInterface,operationsFactory:this.operationsFactory,factory:this.factory,theme:this.props.theme||"default",pageClass:this.props.pageClass||"fullScreen",pageStyle:this.props.pageStyle,extraRouteKey:this.props.extraRouteKey||"extraRoutes",navBarProps:this.props.NavBarProps||{},popupFactory:cw.getFactory(),popups:this.props.popups||[],global:this.props.global||{},routes:this.props.routes||[]},i&&this.registerListWithFactory(i)}async checkForUser(){let t=await this.APIService.getCurrentUser();t&&await this.APIService.checkIfLoggedIn()&&this.APIService.getuser(t.email)}componentDidMount(){this.checkForUser()}registerListWithFactory(t){for(let n of t){let a=new n().getJson().type;this.factory.registerComponents({name:a,component:n}),this.createPopupDefaultsByType(a)}}createPopupDefaultsByType(t){var n;if((n=this.popupComponents)!=null&&n[t]){let i=this.getCapitalFirstLetter(t),a={content:this.popupComponents[t],popupSwitch:"add"+i,componentType:t},u={...a,popupSwitch:"update"+i};this.state.popups=[...this.state.popups,a,u]}}dispatch(t){t=t||{},this.setState({...t})}setPopups(){for(let t of this.state.popups){let n=t.componentType;n&&(t={...t,...this.popupComponentsProps[n]}),t.popupSwitch||(t.popupSwitch=this.classNameToString(t.content)),this.state.popupFactory.registerComponent(t.popupSwitch,t)}}propogateApp(){this.app={state:this.state,dispatch:this.dispatch.bind(this),...this.state.global},HC.setAppComponent(this.app),jC.setAppComponent(this.app),bC.setAppComponent(this.app),sh.setAppComponent(this.app),CC.setAppComponent(this.app)}getHtml(t){this.setPopups();let n=[...this.state.routes];return this.state[this.state.extraRouteKey]&&(n=[...n,...this.state[this.state.extraRouteKey]]),k.jsx("div",{className:this.state.pageClass,style:this.state.pageStyle,children:k.jsxs(w3,{children:[cw.createPopupMachine({app:this.app}),this.state.currentUser&&k.jsx(sF,{...this.state.navBarProps}),t?k.jsx(t.content,{props:{...t.props}}):k.jsx(k.Fragment,{}),k.jsx(fF,{routes:n})]})})}}class QC extends ay{constructor(){super(...arguments);he(this,"factory",{form:MC,map:zC,nav:$C})}}new QC;new QC;class wi extends N3{constructor(t){super(t);he(this,"json",{...this.json,type:"",name:"",owner:"",picURL:""})}}class mF extends wi{constructor(){super(...arguments);he(this,"json",{...this.json,type:"user"})}}class gF extends wi{constructor(){super(...arguments);he(this,"json",{...this.json,type:"contact",phone:"",email:"",conversationIds:[]})}}let yF=class extends wi{constructor(){super(...arguments);he(this,"json",{...this.json,type:"conversation",contactIds:[]})}};class vF extends wi{constructor(){super(...arguments);he(this,"json",{...this.json,type:"template",content:""})}}class _F extends wi{constructor(){super(...arguments);he(this,"json",{...this.json,type:"sequence",steps:[]})}}class wF extends wi{constructor(){super(...arguments);he(this,"json",{...this.json,type:"step",delay:0,messageId:""})}}class YC extends wi{constructor(){super(...arguments);he(this,"json",{...this.json,conversationIds:[],ownerMessage:!1})}}class EF extends YC{constructor(){super(...arguments);he(this,"json",{...this.json,type:"textMessage",content:"",timestamp:""})}}class AF extends YC{constructor(){super(...arguments);he(this,"json",{...this.json,type:"email",subject:"",body:"",timestamp:""})}}class CF extends wi{constructor(){super(...arguments);he(this,"json",{...this.json,type:"potentialProspect",phone:"",email:"",researchId:"",conversationIds:[]})}}class bF extends wi{constructor(){super(...arguments);he(this,"json",{...this.json,type:"research",searchFrequency:"",AIPrompt:""})}}const TF=Object.freeze(Object.defineProperty({__proto__:null,Contact:gF,Conversations:yF,Email:AF,PotentialProspect:CF,Research:bF,Sequence:_F,Step:wF,Template:vF,TextMessage:EF,User:mF},Symbol.toStringTag,{value:"Module"}));class ZC extends ot{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}render(){var c,h,d;let e=window.innerWidth>600;(c=this.propsState.popupSwitch)!=null&&c.includes("addContact")&&(e=!1);let t=e?this.propsState.currentContact:this.props.obj;const n=e?this.propsState.currentContact:this.propsState.currentPopupComponent,i=!e;let a=t?"Edit":"Add",u=k.jsx(eo,{formClass:"dark-button-1",content:"Save",isPopup:i,callbackFunc:this.props.callbackFunc});return((h=this.propsState.popupSwitch)!=null&&h.includes("updateContact")||window.innerWidth>600&&!((d=this.propsState.popupSwitch)!=null&&d.includes("addContact")))&&(u=k.jsx(fy,{formClass:"dark-button-1",obj:n,content:"Save",isPopup:i,callbackFunc:this.props.callbackFunc})),k.jsxs("div",{style:{padding:"10px",paddingBottom:"100px",height:"100%"},className:this.props.pageClass||this.state.defaultClass,children:[k.jsxs("h2",{children:[a," Contact"]})," ",k.jsxs("div",{className:"contact-Add-container",children:[k.jsxs("div",{className:"row",children:[k.jsx("div",{children:"First Name:"}),k.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ",k.jsx(It,{obj:t,wrapperClass:"underline-form",name:"firstName",inPopup:i})," "]})]}),k.jsxs("div",{className:"row",children:[k.jsx("div",{children:"Last Name:"}),k.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ",k.jsx(It,{obj:t,wrapperClass:"underline-form",name:"lastName",inPopup:i})," "]})]}),k.jsxs("div",{className:"row",children:[k.jsx("div",{children:"Email:"}),k.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ",k.jsx(It,{wrapperClass:"underline-form",obj:t,name:"email",inPopup:i})," "]})]}),k.jsxs("div",{className:"row",title:"Comma seperated",children:[k.jsx("div",{children:"Tags:"}),k.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ",k.jsx(It,{wrapperClass:"underline-form",obj:t,name:"tags",inPopup:i})," "]})]}),k.jsxs("div",{className:"row",children:[k.jsx("div",{children:"Notes"}),k.jsxs("div",{style:{width:"90%",marginLeft:"10px"},children:[" ",k.jsx(It,{obj:t,type:"quill",name:"notes",inPopup:i})," "]})]}),k.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end",alignContent:"flex-end"},children:[" ",k.jsxs("div",{style:{paddingBottom:"20px"},children:[" ",u]})," "]})]})]})}}class Kh extends ot{constructor(e){super(e),this.state={...this.state,checked:!1,activeBool:!1}}componentDidMount(){this.checkIfActive()}async componentDidUpdate(e,t){var i,a;let n=this.props.obj;n&&((i=this.propsState[this.props.checkKey])!=null&&i.includes(n)&&this.state.activeBool===!1?this.setState({checked:!0,activeBool:!0}):!((a=this.propsState[this.props.checkKey])!=null&&a.includes(n))&&this.state.activeBool===!0&&this.setState({checked:!1,activeBool:!1}))}checkIfActive(){var t;let e=this.props.obj;e&&(t=this.propsState[this.props.checkKey])!=null&&t.includes(e)&&this.setState({checked:!0})}async handleToggle(){await this.setState(e=>({checked:!e.checked})),this.state.checked?this.check(this.props.obj):this.uncheck(this.props.obj)}check(e){this.setState({checked:!0}),this.props.check?this.props.check(e):this.props.cell.check(this.props.obj)}uncheck(e){this.setState({checked:!1}),this.props.uncheck?this.props.uncheck(e):this.props.cell.uncheck(this.props.obj)}render(){const{checked:e}=this.state;return k.jsxs("label",{className:this.props.class||"checkbox-container",children:[this.props.label||"",k.jsx("input",{type:"checkbox",checked:e,onChange:this.handleToggle}),k.jsx("span",{className:"checkmark"})]})}}class yy extends ps{async buttonClickFunc(){let e=this.obj,t=e.type;this.props.popupSwitch.includes("add")&&(e=e[0]?e[0]:{type:this.getFactoryTypeString(this.props.popupSwitch.slice(3))},e={prepare:{...e},amount:this.props.amount,clean:this.props.clean},e=await this.operationsFactory.prepare(e),e.length===1&&(e=e[0],t=e.getJson().type)),Array.isArray(e)&&e.length===1&&(e=e[0]);let n=this.props.setCurrnetItem&&{["current"+this.getCapitalFirstLetter(t)]:e},i={popupSwitch:this.props.popupSwitch,currentPopupComponent:e,...n};await this.dispatch({...i})}}class SF extends ot{constructor(t){super(t);he(this,"handleCheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n.includes(t)||n.push(t),this.dispatch({selectedContacts:n})});he(this,"handleUncheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n=n.filter(i=>i!==t),this.dispatch({selectedContacts:n})})}render(){var u;const{obj:t}=this.props;let n=t.getJson(),a=(this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[]).includes(t);return k.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[k.jsxs("div",{className:"contact-item hover-darken",style:{background:a?"#2374ab10":"white"},children:[k.jsx(Kh,{checkKey:"selectedContacts",obj:t,check:this.handleCheckContact,uncheck:this.handleUncheckContact}),k.jsxs("div",{className:"contact-info-expanded",style:{cursor:"pointer",display:"flex",width:"100%"},onClick:()=>{window.innerWidth>600?this.dispatch({currentContact:t}):this.dispatch({currentPopupComponent:t,popupSwitch:"updateContact"})},children:[k.jsx("div",{className:"contact-avatar",children:k.jsx("i",{className:"fa-solid fa-user"})}),k.jsxs("div",{className:"contact-info",children:[k.jsx("div",{className:"contact-name",children:`${n.firstName} ${n.lastName}`}),k.jsx("div",{className:"contact-desc",children:(n==null?void 0:n.company)||(n==null?void 0:n.email)||""})]})]}),k.jsx(yy,{formClass:"hover-basic",wrapperClass:"icon-row",newProp:"asdf",content:k.jsx("div",{style:{width:"fit-content"},onClick:async()=>{debugger;await this.operationsFactory.clear();let c=t,h=this.componentList.getComponent("conversation",c.getJson().email,"contact");h||(await this.componentList.addComponents({type:"conversation",contact:c.getJson().email,contactName:`${c.getJson().firstName} ${c.getJson().lastName}`,conversationOwner:this.propsState.currentUser.getJson()._id,ownerName:`${this.propsState.currentUser.getJson().firstName} ${this.propsState.currentUser.getJson().lastName}`}),h=this.componentList.getComponent("conversation",c.getJson().email,"contact"));debugger;let d={type:"email"};d={prepare:{...d},clean:!0},d=await this.operationsFactory.prepare(d),Array.isArray(d)&&d.length===1&&(d=d[0]);let y={popupSwitch:"addEmail",currentPopupComponent:d};await this.dispatch({...y,currentConversation:h,currentContact:c})},className:"contact-icon",children:k.jsx("i",{className:"fa-solid fa-message"})})})]}),k.jsx("div",{className:"contact-tag-container active",children:(u=n.tags)==null?void 0:u.split(",").map((c,h)=>k.jsx("button",{className:"contact-tag-btn",children:c},h))})]})}}var Bc={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var DF=Bc.exports,hw;function xF(){return hw||(hw=1,function(r,e){((t,n)=>{r.exports=n()})(DF,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,u=n.IS_PAPA_WORKER||!1,c={},h=0,d={};function y(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(D){var x=M(D);x.chunkSize=parseInt(x.chunkSize),D.step||D.chunk||(x.chunkSize=null),this._handle=new C(x),(this._handle.streamer=this)._config=x}).call(this,_),this.parseChunk=function(D,x){var I=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<I){let N=this._config.newline;N||(P=this._config.quoteChar||'"',N=this._handle.guessLineEndings(D,P)),D=[...D.split(N).slice(I)].join(N)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(D))!==void 0&&(D=P),this.isFirstChunk=!1,this._halted=!1;var I=this._partialLine+D,P=(this._partialLine="",this._handle.parse(I,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(D=P.meta.cursor,I=(this._finished||(this._partialLine=I.substring(D-this._baseIndex),this._baseIndex=D),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)n.postMessage({results:P,workerId:d.WORKER_ID,finished:I});else if(R(this._config.chunk)&&!x){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!I||!R(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),I||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(D){R(this._config.error)?this._config.error(D):u&&this._config.error&&n.postMessage({workerId:d.WORKER_ID,error:D,finished:!1})}}function g(_){var D;(_=_||{}).chunkSize||(_.chunkSize=d.RemoteChunkSize),y.call(this,_),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(x){this._input=x,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(D=new XMLHttpRequest,this._config.withCredentials&&(D.withCredentials=this._config.withCredentials),a||(D.onload=q(this._chunkLoaded,this),D.onerror=q(this._chunkError,this)),D.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var x,I=this._config.downloadRequestHeaders;for(x in I)D.setRequestHeader(x,I[x])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,D.setRequestHeader("Range","bytes="+this._start+"-"+P));try{D.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}a&&D.status===0&&this._chunkError()}},this._chunkLoaded=function(){D.readyState===4&&(D.status<200||400<=D.status?this._chunkError():(this._start+=this._config.chunkSize||D.responseText.length,this._finished=!this._config.chunkSize||this._start>=(x=>(x=x.getResponseHeader("Content-Range"))!==null?parseInt(x.substring(x.lastIndexOf("/")+1)):-1)(D),this.parseChunk(D.responseText)))},this._chunkError=function(x){x=D.statusText||x,this._sendError(new Error(x))}}function p(_){(_=_||{}).chunkSize||(_.chunkSize=d.LocalChunkSize),y.call(this,_);var D,x,I=typeof FileReader<"u";this.stream=function(P){this._input=P,x=P.slice||P.webkitSlice||P.mozSlice,I?((D=new FileReader).onload=q(this._chunkLoaded,this),D.onerror=q(this._chunkError,this)):D=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,N=(this._config.chunkSize&&(N=Math.min(this._start+this._config.chunkSize,this._input.size),P=x.call(P,this._start,N)),D.readAsText(P,this._config.encoding));I||this._chunkLoaded({target:{result:N}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(D.error)}}function v(_){var D;y.call(this,_=_||{}),this.stream=function(x){return D=x,this._nextChunk()},this._nextChunk=function(){var x,I;if(!this._finished)return x=this._config.chunkSize,D=x?(I=D.substring(0,x),D.substring(x)):(I=D,""),this._finished=!D,this.parseChunk(I)}}function A(_){y.call(this,_=_||{});var D=[],x=!0,I=!1;this.pause=function(){y.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){y.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){I&&D.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),D.length?this.parseChunk(D.shift()):x=!0},this._streamData=q(function(P){try{D.push(typeof P=="string"?P:P.toString(this._config.encoding)),x&&(x=!1,this._checkIsFinished(),this.parseChunk(D.shift()))}catch(N){this._streamError(N)}},this),this._streamError=q(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=q(function(){this._streamCleanUp(),I=!0,this._streamData("")},this),this._streamCleanUp=q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function C(_){var D,x,I,P,N=Math.pow(2,53),W=-N,J=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,se=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,X=this,re=0,$=0,H=!1,B=!1,V=[],z={data:[],errors:[],meta:{}};function ee(te){return _.skipEmptyLines==="greedy"?te.join("").trim()==="":te.length===1&&te[0].length===0}function Z(){if(z&&I&&(Q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),I=!1),_.skipEmptyLines&&(z.data=z.data.filter(function(xe){return!ee(xe)})),G()){let xe=function(Ie,ke){R(_.transformHeader)&&(Ie=_.transformHeader(Ie,ke)),V.push(Ie)};var ge=xe;if(z)if(Array.isArray(z.data[0])){for(var te=0;G()&&te<z.data.length;te++)z.data[te].forEach(xe);z.data.splice(0,1)}else z.data.forEach(xe)}function ie(xe,Ie){for(var ke=_.header?{}:[],Re=0;Re<xe.length;Re++){var Be=Re,et=xe[Re],et=((le,de)=>(Ee=>(_.dynamicTypingFunction&&_.dynamicTyping[Ee]===void 0&&(_.dynamicTyping[Ee]=_.dynamicTypingFunction(Ee)),(_.dynamicTyping[Ee]||_.dynamicTyping)===!0))(le)?de==="true"||de==="TRUE"||de!=="false"&&de!=="FALSE"&&((Ee=>{if(J.test(Ee)&&(Ee=parseFloat(Ee),W<Ee&&Ee<N))return 1})(de)?parseFloat(de):se.test(de)?new Date(de):de===""?null:de):de)(Be=_.header?Re>=V.length?"__parsed_extra":V[Re]:Be,et=_.transform?_.transform(et,Be):et);Be==="__parsed_extra"?(ke[Be]=ke[Be]||[],ke[Be].push(et)):ke[Be]=et}return _.header&&(Re>V.length?Q("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+Re,$+Ie):Re<V.length&&Q("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+Re,$+Ie)),ke}var fe;z&&(_.header||_.dynamicTyping||_.transform)&&(fe=1,!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(ie),fe=z.data.length):z.data=ie(z.data,0),_.header&&z.meta&&(z.meta.fields=V),$+=fe)}function G(){return _.header&&V.length===0}function Q(te,ie,fe,ge){te={type:te,code:ie,message:fe},ge!==void 0&&(te.row=ge),z.errors.push(te)}R(_.step)&&(P=_.step,_.step=function(te){z=te,G()?Z():(Z(),z.data.length!==0&&(re+=te.data.length,_.preview&&re>_.preview?x.abort():(z.data=z.data[0],P(z,X))))}),this.parse=function(te,ie,fe){var ge=_.quoteChar||'"',ge=(_.newline||(_.newline=this.guessLineEndings(te,ge)),I=!1,_.delimiter?R(_.delimiter)&&(_.delimiter=_.delimiter(te),z.meta.delimiter=_.delimiter):((ge=((xe,Ie,ke,Re,Be)=>{var et,le,de,Ee;Be=Be||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Se=0;Se<Be.length;Se++){for(var ve,Ge=Be[Se],Me=0,Ve=0,$e=0,Ze=(de=void 0,new E({comments:Re,delimiter:Ge,newline:Ie,preview:10}).parse(xe)),Xe=0;Xe<Ze.data.length;Xe++)ke&&ee(Ze.data[Xe])?$e++:(ve=Ze.data[Xe].length,Ve+=ve,de===void 0?de=ve:0<ve&&(Me+=Math.abs(ve-de),de=ve));0<Ze.data.length&&(Ve/=Ze.data.length-$e),(le===void 0||Me<=le)&&(Ee===void 0||Ee<Ve)&&1.99<Ve&&(le=Me,et=Ge,Ee=Ve)}return{successful:!!(_.delimiter=et),bestDelimiter:et}})(te,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess)).successful?_.delimiter=ge.bestDelimiter:(I=!0,_.delimiter=d.DefaultDelimiter),z.meta.delimiter=_.delimiter),M(_));return _.preview&&_.header&&ge.preview++,D=te,x=new E(ge),z=x.parse(D,ie,fe),Z(),H?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return H},this.pause=function(){H=!0,x.abort(),D=R(_.chunk)?"":D.substring(x.getCharIndex())},this.resume=function(){X.streamer._halted?(H=!1,X.streamer.parseChunk(D,!0)):setTimeout(X.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,x.abort(),z.meta.aborted=!0,R(_.complete)&&_.complete(z),D=""},this.guessLineEndings=function(xe,ge){xe=xe.substring(0,1048576);var ge=new RegExp(w(ge)+"([^]*?)"+w(ge),"gm"),fe=(xe=xe.replace(ge,"")).split("\r"),ge=xe.split(`
`),xe=1<ge.length&&ge[0].length<fe[0].length;if(fe.length===1||xe)return`
`;for(var Ie=0,ke=0;ke<fe.length;ke++)fe[ke][0]===`
`&&Ie++;return Ie>=fe.length/2?`\r
`:"\r"}}function w(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(_){var D=(_=_||{}).delimiter,x=_.newline,I=_.comments,P=_.step,N=_.preview,W=_.fastMode,J=null,se=!1,X=_.quoteChar==null?'"':_.quoteChar,re=X;if(_.escapeChar!==void 0&&(re=_.escapeChar),(typeof D!="string"||-1<d.BAD_DELIMITERS.indexOf(D))&&(D=","),I===D)throw new Error("Comment character same as delimiter");I===!0?I="#":(typeof I!="string"||-1<d.BAD_DELIMITERS.indexOf(I))&&(I=!1),x!==`
`&&x!=="\r"&&x!==`\r
`&&(x=`
`);var $=0,H=!1;this.parse=function(B,V,z){if(typeof B!="string")throw new Error("Input must be a string");var ee=B.length,Z=D.length,G=x.length,Q=I.length,te=R(P),ie=[],fe=[],ge=[],xe=$=0;if(!B)return Me();if(W||W!==!1&&B.indexOf(X)===-1){for(var Ie=B.split(x),ke=0;ke<Ie.length;ke++){if(ge=Ie[ke],$+=ge.length,ke!==Ie.length-1)$+=x.length;else if(z)return Me();if(!I||ge.substring(0,Q)!==I){if(te){if(ie=[],Ee(ge.split(D)),Ve(),H)return Me()}else Ee(ge.split(D));if(N&&N<=ke)return ie=ie.slice(0,N),Me(!0)}}return Me()}for(var Re=B.indexOf(D,$),Be=B.indexOf(x,$),et=new RegExp(w(re)+w(X),"g"),le=B.indexOf(X,$);;)if(B[$]===X)for(le=$,$++;;){if((le=B.indexOf(X,le+1))===-1)return z||fe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:$}),ve();if(le===ee-1)return ve(B.substring($,le).replace(et,X));if(X===re&&B[le+1]===re)le++;else if(X===re||le===0||B[le-1]!==re){Re!==-1&&Re<le+1&&(Re=B.indexOf(D,le+1));var de=Se((Be=Be!==-1&&Be<le+1?B.indexOf(x,le+1):Be)===-1?Re:Math.min(Re,Be));if(B.substr(le+1+de,Z)===D){ge.push(B.substring($,le).replace(et,X)),B[$=le+1+de+Z]!==X&&(le=B.indexOf(X,$)),Re=B.indexOf(D,$),Be=B.indexOf(x,$);break}if(de=Se(Be),B.substring(le+1+de,le+1+de+G)===x){if(ge.push(B.substring($,le).replace(et,X)),Ge(le+1+de+G),Re=B.indexOf(D,$),le=B.indexOf(X,$),te&&(Ve(),H))return Me();if(N&&ie.length>=N)return Me(!0);break}fe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:$}),le++}}else if(I&&ge.length===0&&B.substring($,$+Q)===I){if(Be===-1)return Me();$=Be+G,Be=B.indexOf(x,$),Re=B.indexOf(D,$)}else if(Re!==-1&&(Re<Be||Be===-1))ge.push(B.substring($,Re)),$=Re+Z,Re=B.indexOf(D,$);else{if(Be===-1)break;if(ge.push(B.substring($,Be)),Ge(Be+G),te&&(Ve(),H))return Me();if(N&&ie.length>=N)return Me(!0)}return ve();function Ee($e){ie.push($e),xe=$}function Se($e){var Ze=0;return Ze=$e!==-1&&($e=B.substring(le+1,$e))&&$e.trim()===""?$e.length:Ze}function ve($e){return z||($e===void 0&&($e=B.substring($)),ge.push($e),$=ee,Ee(ge),te&&Ve()),Me()}function Ge($e){$=$e,Ee(ge),ge=[],Be=B.indexOf(x,$)}function Me($e){if(_.header&&!V&&ie.length&&!se){var Ze=ie[0],Xe={},er=new Set(Ze);let ct=!1;for(let Ct=0;Ct<Ze.length;Ct++){let Ht=Ze[Ct];if(Xe[Ht=R(_.transformHeader)?_.transformHeader(Ht,Ct):Ht]){let tr,Ei=Xe[Ht];for(;tr=Ht+"_"+Ei,Ei++,er.has(tr););er.add(tr),Ze[Ct]=tr,Xe[Ht]++,ct=!0,(J=J===null?{}:J)[tr]=Ht}else Xe[Ht]=1,Ze[Ct]=Ht;er.add(Ht)}ct&&console.warn("Duplicate headers found and renamed."),se=!0}return{data:ie,errors:fe,meta:{delimiter:D,linebreak:x,aborted:H,truncated:!!$e,cursor:xe+(V||0),renamedHeaders:J}}}function Ve(){P(Me()),ie=[],fe=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return $}}function S(_){var D=_.data,x=c[D.workerId],I=!1;if(D.error)x.userError(D.error,D.file);else if(D.results&&D.results.data){var P={abort:function(){I=!0,O(D.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(R(x.userStep)){for(var N=0;N<D.results.data.length&&(x.userStep({data:D.results.data[N],errors:D.results.errors,meta:D.results.meta},P),!I);N++);delete D.results}else R(x.userChunk)&&(x.userChunk(D.results,P,D.file),delete D.results)}D.finished&&!I&&O(D.workerId,D.results)}function O(_,D){var x=c[_];R(x.userComplete)&&x.userComplete(D),x.terminate(),delete c[_]}function b(){throw new Error("Not implemented.")}function M(_){if(typeof _!="object"||_===null)return _;var D,x=Array.isArray(_)?[]:{};for(D in _)x[D]=M(_[D]);return x}function q(_,D){return function(){_.apply(D,arguments)}}function R(_){return typeof _=="function"}return d.parse=function(_,D){var x=(D=D||{}).dynamicTyping||!1;if(R(x)&&(D.dynamicTypingFunction=x,x={}),D.dynamicTyping=x,D.transform=!!R(D.transform)&&D.transform,!D.worker||!d.WORKERS_SUPPORTED)return x=null,d.NODE_STREAM_INPUT,typeof _=="string"?(_=(I=>I.charCodeAt(0)!==65279?I:I.slice(1))(_),x=new(D.download?g:v)(D)):_.readable===!0&&R(_.read)&&R(_.on)?x=new A(D):(n.File&&_ instanceof File||_ instanceof Object)&&(x=new p(D)),x.stream(_);(x=(()=>{var I;return!!d.WORKERS_SUPPORTED&&(I=(()=>{var P=n.URL||n.webkitURL||null,N=t.toString();return d.BLOB_URL||(d.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",N,")();"],{type:"text/javascript"})))})(),(I=new n.Worker(I)).onmessage=S,I.id=h++,c[I.id]=I)})()).userStep=D.step,x.userChunk=D.chunk,x.userComplete=D.complete,x.userError=D.error,D.step=R(D.step),D.chunk=R(D.chunk),D.complete=R(D.complete),D.error=R(D.error),delete D.worker,x.postMessage({input:_,config:D,workerId:x.id})},d.unparse=function(_,D){var x=!1,I=!0,P=",",N=`\r
`,W='"',J=W+W,se=!1,X=null,re=!1,$=((()=>{if(typeof D=="object"){if(typeof D.delimiter!="string"||d.BAD_DELIMITERS.filter(function(V){return D.delimiter.indexOf(V)!==-1}).length||(P=D.delimiter),typeof D.quotes!="boolean"&&typeof D.quotes!="function"&&!Array.isArray(D.quotes)||(x=D.quotes),typeof D.skipEmptyLines!="boolean"&&typeof D.skipEmptyLines!="string"||(se=D.skipEmptyLines),typeof D.newline=="string"&&(N=D.newline),typeof D.quoteChar=="string"&&(W=D.quoteChar),typeof D.header=="boolean"&&(I=D.header),Array.isArray(D.columns)){if(D.columns.length===0)throw new Error("Option columns is empty");X=D.columns}D.escapeChar!==void 0&&(J=D.escapeChar+W),D.escapeFormulae instanceof RegExp?re=D.escapeFormulae:typeof D.escapeFormulae=="boolean"&&D.escapeFormulae&&(re=/^[=+\-@\t\r].*$/)}})(),new RegExp(w(W),"g"));if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return H(null,_,se);if(typeof _[0]=="object")return H(X||Object.keys(_[0]),_,se)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||X),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),H(_.fields||[],_.data||[],se);throw new Error("Unable to serialize unrecognized input");function H(V,z,ee){var Z="",G=(typeof V=="string"&&(V=JSON.parse(V)),typeof z=="string"&&(z=JSON.parse(z)),Array.isArray(V)&&0<V.length),Q=!Array.isArray(z[0]);if(G&&I){for(var te=0;te<V.length;te++)0<te&&(Z+=P),Z+=B(V[te],te);0<z.length&&(Z+=N)}for(var ie=0;ie<z.length;ie++){var fe=(G?V:z[ie]).length,ge=!1,xe=G?Object.keys(z[ie]).length===0:z[ie].length===0;if(ee&&!G&&(ge=ee==="greedy"?z[ie].join("").trim()==="":z[ie].length===1&&z[ie][0].length===0),ee==="greedy"&&G){for(var Ie=[],ke=0;ke<fe;ke++){var Re=Q?V[ke]:ke;Ie.push(z[ie][Re])}ge=Ie.join("").trim()===""}if(!ge){for(var Be=0;Be<fe;Be++){0<Be&&!xe&&(Z+=P);var et=G&&Q?V[Be]:Be;Z+=B(z[ie][et],Be)}ie<z.length-1&&(!ee||0<fe&&!xe)&&(Z+=N)}}return Z}function B(V,z){var ee,Z;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(Z=!1,re&&typeof V=="string"&&re.test(V)&&(V="'"+V,Z=!0),ee=V.toString().replace($,J),(Z=Z||x===!0||typeof x=="function"&&x(V,z)||Array.isArray(x)&&x[z]||((G,Q)=>{for(var te=0;te<Q.length;te++)if(-1<G.indexOf(Q[te]))return!0;return!1})(ee,d.BAD_DELIMITERS)||-1<ee.indexOf(P)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?W+ee+W:ee)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!a&&!!n.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=E,d.ParserHandle=C,d.NetworkStreamer=g,d.FileStreamer=p,d.StringStreamer=v,d.ReadableStreamStreamer=A,n.jQuery&&((i=n.jQuery).fn.parse=function(_){var D=_.config||{},x=[];return this.each(function(N){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var W=0;W<this.files.length;W++)x.push({file:this.files[W],inputElem:this,instanceConfig:i.extend({},D)})}),I(),this;function I(){if(x.length===0)R(_.complete)&&_.complete();else{var N,W,J,se,X=x[0];if(R(_.before)){var re=_.before(X.file,X.inputElem);if(typeof re=="object"){if(re.action==="abort")return N="AbortError",W=X.file,J=X.inputElem,se=re.reason,void(R(_.error)&&_.error({name:N},W,J,se));if(re.action==="skip")return void P();typeof re.config=="object"&&(X.instanceConfig=i.extend(X.instanceConfig,re.config))}else if(re==="skip")return void P()}var $=X.instanceConfig.complete;X.instanceConfig.complete=function(H){R($)&&$(H,X.file,X.inputElem),P()},d.parse(X.file,X.instanceConfig)}}function P(){x.splice(0,1),I()}}),u&&(n.onmessage=function(_){_=_.data,d.WORKER_ID===void 0&&_&&(d.WORKER_ID=_.workerId),typeof _.input=="string"?n.postMessage({workerId:d.WORKER_ID,results:d.parse(_.input,_.config),finished:!0}):(n.File&&_.input instanceof File||_.input instanceof Object)&&(_=d.parse(_.input,_.config))&&n.postMessage({workerId:d.WORKER_ID,results:_,finished:!0})}),(g.prototype=Object.create(y.prototype)).constructor=g,(p.prototype=Object.create(y.prototype)).constructor=p,(v.prototype=Object.create(v.prototype)).constructor=v,(A.prototype=Object.create(y.prototype)).constructor=A,d})}(Bc)),Bc.exports}var IF=xF();const kF=ah(IF);class RF extends ye.Component{constructor(e){super(e),this.state={data:[]},this.handleFileUpload=this.handleFileUpload.bind(this)}handleFileUpload(e){const t=e.target.files[0];t&&kF.parse(t,{header:!0,skipEmptyLines:!0,complete:n=>{console.log("Parsed CSV data:",n.data),this.props.callBack({data:n.data})},error:n=>{console.error("Error while parsing:",n)}})}render(){const{data:e}=this.state;return k.jsxs("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:[k.jsx("label",{htmlFor:"file-upload",className:"",children:"Upload"}),k.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:this.handleFileUpload})]})}}class PF extends ot{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}componentDidMount(){this.dispatch({selectedContacts:[]})}filterFunc(){var i;let e=((i=this.propsState.tags)==null?void 0:i.split(","))||"",t=this.componentList.getList("contact"),n=[];if(e)for(let a of e){let u=t.filter(c=>c.getJson().tags.includes(a));n=[...n,...u]}else n=[...t];this.dispatch({selectedContacts:n})}getInnerContent(){var u,c;let e=this.propsState.selectedContacts,t=this.propsState.componentList.getList("contact"),n=(e==null?void 0:e.length)>0,i=t!=null&&t.length?"/"+(t==null?void 0:t.length):"",a=(e==null?void 0:e.length)===(t==null?void 0:t.length);return k.jsxs("div",{className:"map-container",children:[k.jsxs("div",{className:"top-nav-float",children:[k.jsxs("nav",{className:"top-nav",children:[k.jsxs("div",{className:"nav-left",children:[k.jsx("div",{className:"nav-icon",children:k.jsx("i",{className:"fas fa-circle"})}),k.jsx("div",{className:"nav-title",children:"Contacts"})]}),k.jsxs("div",{className:"nav-right",children:[k.jsx("div",{className:"nav-icon",children:k.jsxs("button",{className:"btn",children:["A to Z ",k.jsx("i",{className:"fa-solid fa-angle-down"})]})}),k.jsx("div",{className:"nav-icon",children:k.jsx("button",{className:"btn",children:k.jsx("i",{className:"fa-solid fa-filter"})})})]})]}),k.jsx("div",{className:"search-container",children:k.jsxs("div",{className:"search-bar",children:[k.jsx("i",{className:"fas fa-search search-icon"}),k.jsx("input",{onChange:h=>{this.dispatch({tags:h.target.value})},className:"search-input",placeholder:"Search"})]})}),k.jsxs("div",{className:"filter-nav",children:[k.jsxs("div",{className:"filter-nav-left",children:[k.jsx(k.Fragment,{children:k.jsx("div",{id:"selectBtn",style:{height:"fit-content",marginLeft:"5px",alignContent:"center"},children:k.jsx(Kh,{label:a?"Deselect All":"Select All",check:this.filterFunc,uncheck:()=>{this.dispatch({selectedContacts:[]})}})})}),k.jsx("span",{className:"count-desc",children:(u=this.propsState.selectedContacts)!=null&&u.length?this.propsState.selectedContacts.length+`${i} Selected`:""})]}),!n&&k.jsxs("div",{className:"filter-nav-right",children:[k.jsx(RF,{callBack:async h=>{h=h.data.map((d,y)=>(d.owner=this.propsState.currentUser.getJson()._id,d.type="contact",d)),this.dispatch({uploadData:h,popupSwitch:"uploadData"}),await this.operationsFactory.prepare({prepare:h}),this.operationsFactory.run()}}),k.jsx(yy,{formclassName:"FCImgButton",wrapperclassName:"none",content:k.jsx("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Add Contact"}),popupSwitch:"addContact"})]})]})]}),k.jsxs("div",{style:{paddingBottom:"60px"},children:[" ",k.jsx(Pn,{filterFunc:h=>{if(!this.propsState.tags)return!0;let d=this.propsState.tags.split(",");for(let y of d)if(y!==""&&h.getJson().tags.includes(y))return!0;return!1},name:"contact",mapContainerclassName:"contact-list",mapSectionclassName:"contact",cells:[{type:"custom",custom:SF}],hasLink:!0})," "]}),((c=this.propsState.selectedContacts)==null?void 0:c.length)>0&&k.jsxs("div",{id:"floating-select-set",className:"floating-select-set",children:[k.jsx("button",{className:"floating-select-btn",children:k.jsx("span",{className:"floating-select-btn-text",children:"Export"})}),k.jsx("button",{onClick:()=>{for(let h of this.propsState.selectedContacts)h.del();this.dispatch({selectedContacts:[]})},className:"floating-select-btn",children:k.jsx("span",{className:"floating-select-btn-text",children:"Delete"})}),k.jsx("button",{className:"floating-select-btn floating-select-primary-btn",children:k.jsx(Hh,{formclassName:"FCImgButton",content:k.jsx("span",{className:"floating-select-btn-text",children:"Add to Sequence"}),popupSwitch:"addToSequence"})})]})]})}render(){return k.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class OF extends _a{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.getComponentsFromBackend()}render(){return k.jsxs("div",{className:this.props.pageClass||this.state.defaultClass,style:{display:"flex"},children:[k.jsx("div",{style:{width:window.innerWidth>600?"50%":"100%"},children:k.jsx(_n,{theme:"NoBorder",type:"fit",content:k.jsx(PF,{})})}),k.jsx("div",{style:{width:window.innerWidth>600?"50%":"100%",position:"relative"},children:this.propsState.currentContact&&window.innerWidth>600&&k.jsx(_n,{theme:"NoBorder",type:"fit",content:k.jsx(ZC,{})})})]})}}class NF extends ot{getTimeStampStr(){var t,n;let e;try{e=(n=(t=this.props.obj)==null?void 0:t.getJson())==null?void 0:n.timeStamp}catch(i){return console.error("Error accessing timestamp property:",i),"Invalid Date"}if(e&&e instanceof Lt)try{return e.toDate().toLocaleDateString()}catch(i){return console.error("Error converting Firebase Timestamp to Date:",i),"Invalid Date"}else return e?(console.warn("Received timeValue is not a Firebase Timestamp:",e),String(e)):""}render(){return k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"message-header",children:[k.jsx("span",{className:"sender",children:this.props.obj.getJson().contactName}),k.jsx("span",{className:"date",children:this.getTimeStampStr()})]}),k.jsx("div",{className:"snippet",children:this.props.obj.getJson().recentMessage})]})}}class LF extends ot{constructor(e){super(e),this.state={...this.state,defaultClass:"fit messages-container"}}searchFilter(){}getInnerContent(){return k.jsx(Pn,{name:"conversation",mapContainerClass:"message-list-scai",mapSectionClass:"message-item-scai",cells:[{type:"customBuilt",custom:k.jsx("div",{className:"chat-avatar",children:k.jsx("i",{className:"fa-solid fa-user"})}),wrapperStyle:{width:"50px"},itemStyle:{width:"50px"}},{type:"custom",custom:NF,itemClick:e=>{this.dispatch({currentConversation:e,showConversation:window.innerWidth<600?!0:void 0}),e.setCompState({seen:!0})}}],filterFunc:e=>{var a,u;let t=!1;this.propsState.searchText||(t=!0);let n=this.propsState.searchText;(a=e.getJson().senderName)!=null&&a.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0);let i=this.componentList.getList("email",e.getJson()._id,"conversationId");for(let c of i)(u=c.getJson().body)!=null&&u.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0);return t}})}render(){return k.jsxs("div",{className:this.props.pageClass||this.state.defaultClass,style:{marginLeft:"-10px",minWidth:"fit-content"},children:[k.jsx("div",{className:"header",children:"Messages"}),k.jsx("div",{className:"search-container",children:k.jsxs("div",{className:"search-bar",children:[k.jsx("i",{className:"fas fa-search search-icon"}),k.jsx("input",{type:"text",placeholder:"Search messages...",onChange:e=>{this.dispatch({searchText:e.target.value})},className:"search-input"})]})}),this.getInnerContent()]})}}var _u={exports:{}};/*! https://mths.be/he v1.2.0 by @mathias | MIT license */var FF=_u.exports,fw;function BF(){return fw||(fw=1,function(r,e){(function(t){var n=e,i=r&&r.exports==n&&r,a=typeof Wo=="object"&&Wo;(a.global===a||a.window===a)&&(t=a);var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[\x01-\x7F]/g,h=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,d=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,y={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","	":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr",ª:"ordf",á:"aacute",Á:"Aacute",à:"agrave",À:"Agrave",ă:"abreve",Ă:"Abreve",â:"acirc",Â:"Acirc",å:"aring",Å:"angst",ä:"auml",Ä:"Auml",ã:"atilde",Ã:"Atilde",ą:"aogon",Ą:"Aogon",ā:"amacr",Ā:"Amacr",æ:"aelig",Æ:"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf",ℬ:"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf",ℭ:"Cfr","𝒞":"Cscr",ℂ:"Copf",ć:"cacute",Ć:"Cacute",ĉ:"ccirc",Ĉ:"Ccirc",č:"ccaron",Č:"Ccaron",ċ:"cdot",Ċ:"Cdot",ç:"ccedil",Ç:"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf",ď:"dcaron",Ď:"Dcaron",đ:"dstrok",Đ:"Dstrok",ð:"eth",Ð:"ETH","ⅇ":"ee",ℯ:"escr","𝔢":"efr","𝕖":"eopf",ℰ:"Escr","𝔈":"Efr","𝔼":"Eopf",é:"eacute",É:"Eacute",è:"egrave",È:"Egrave",ê:"ecirc",Ê:"Ecirc",ě:"ecaron",Ě:"Ecaron",ë:"euml",Ë:"Euml",ė:"edot",Ė:"Edot",ę:"eogon",Ę:"Eogon",ē:"emacr",Ē:"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf",ℱ:"Fscr",ﬀ:"fflig",ﬃ:"ffilig",ﬄ:"ffllig",ﬁ:"filig",fj:"fjlig",ﬂ:"fllig",ƒ:"fnof",ℊ:"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr",ǵ:"gacute",ğ:"gbreve",Ğ:"Gbreve",ĝ:"gcirc",Ĝ:"Gcirc",ġ:"gdot",Ġ:"Gdot",Ģ:"Gcedil","𝔥":"hfr",ℎ:"planckh","𝒽":"hscr","𝕙":"hopf",ℋ:"Hscr",ℌ:"Hfr",ℍ:"Hopf",ĥ:"hcirc",Ĥ:"Hcirc",ℏ:"hbar",ħ:"hstrok",Ħ:"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf",ℐ:"Iscr",ℑ:"Im",í:"iacute",Í:"Iacute",ì:"igrave",Ì:"Igrave",î:"icirc",Î:"Icirc",ï:"iuml",Ï:"Iuml",ĩ:"itilde",Ĩ:"Itilde",İ:"Idot",į:"iogon",Į:"Iogon",ī:"imacr",Ī:"Imacr",ĳ:"ijlig",Ĳ:"IJlig",ı:"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf",ĵ:"jcirc",Ĵ:"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr",ķ:"kcedil",Ķ:"Kcedil","𝔩":"lfr","𝓁":"lscr",ℓ:"ell","𝕝":"lopf",ℒ:"Lscr","𝔏":"Lfr","𝕃":"Lopf",ĺ:"lacute",Ĺ:"Lacute",ľ:"lcaron",Ľ:"Lcaron",ļ:"lcedil",Ļ:"Lcedil",ł:"lstrok",Ł:"Lstrok",ŀ:"lmidot",Ŀ:"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf",ℳ:"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr",ℕ:"Nopf","𝒩":"Nscr","𝔑":"Nfr",ń:"nacute",Ń:"Nacute",ň:"ncaron",Ň:"Ncaron",ñ:"ntilde",Ñ:"Ntilde",ņ:"ncedil",Ņ:"Ncedil","№":"numero",ŋ:"eng",Ŋ:"ENG","𝕠":"oopf","𝔬":"ofr",ℴ:"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf",º:"ordm",ó:"oacute",Ó:"Oacute",ò:"ograve",Ò:"Ograve",ô:"ocirc",Ô:"Ocirc",ö:"ouml",Ö:"Ouml",ő:"odblac",Ő:"Odblac",õ:"otilde",Õ:"Otilde",ø:"oslash",Ø:"Oslash",ō:"omacr",Ō:"Omacr",œ:"oelig",Œ:"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf",ℙ:"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr",ℚ:"Qopf",ĸ:"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr",ℛ:"Rscr",ℜ:"Re",ℝ:"Ropf",ŕ:"racute",Ŕ:"Racute",ř:"rcaron",Ř:"Rcaron",ŗ:"rcedil",Ŗ:"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS",ś:"sacute",Ś:"Sacute",ŝ:"scirc",Ŝ:"Scirc",š:"scaron",Š:"Scaron",ş:"scedil",Ş:"Scedil",ß:"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf",ť:"tcaron",Ť:"Tcaron",ţ:"tcedil",Ţ:"Tcedil","™":"trade",ŧ:"tstrok",Ŧ:"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr",ú:"uacute",Ú:"Uacute",ù:"ugrave",Ù:"Ugrave",ŭ:"ubreve",Ŭ:"Ubreve",û:"ucirc",Û:"Ucirc",ů:"uring",Ů:"Uring",ü:"uuml",Ü:"Uuml",ű:"udblac",Ű:"Udblac",ũ:"utilde",Ũ:"Utilde",ų:"uogon",Ų:"Uogon",ū:"umacr",Ū:"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr",ŵ:"wcirc",Ŵ:"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf",ý:"yacute",Ý:"Yacute",ŷ:"ycirc",Ŷ:"Ycirc",ÿ:"yuml",Ÿ:"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf",ℨ:"Zfr",ℤ:"Zopf","𝒵":"Zscr",ź:"zacute",Ź:"Zacute",ž:"zcaron",Ž:"Zcaron",ż:"zdot",Ż:"Zdot",Ƶ:"imped",þ:"thorn",Þ:"THORN",ŉ:"napos",α:"alpha",Α:"Alpha",β:"beta",Β:"Beta",γ:"gamma",Γ:"Gamma",δ:"delta",Δ:"Delta",ε:"epsi","ϵ":"epsiv",Ε:"Epsilon",ϝ:"gammad",Ϝ:"Gammad",ζ:"zeta",Ζ:"Zeta",η:"eta",Η:"Eta",θ:"theta",ϑ:"thetav",Θ:"Theta",ι:"iota",Ι:"Iota",κ:"kappa",ϰ:"kappav",Κ:"Kappa",λ:"lambda",Λ:"Lambda",μ:"mu",µ:"micro",Μ:"Mu",ν:"nu",Ν:"Nu",ξ:"xi",Ξ:"Xi",ο:"omicron",Ο:"Omicron",π:"pi",ϖ:"piv",Π:"Pi",ρ:"rho",ϱ:"rhov",Ρ:"Rho",σ:"sigma",Σ:"Sigma",ς:"sigmaf",τ:"tau",Τ:"Tau",υ:"upsi",Υ:"Upsilon",ϒ:"Upsi",φ:"phi",ϕ:"phiv",Φ:"Phi",χ:"chi",Χ:"Chi",ψ:"psi",Ψ:"Psi",ω:"omega",Ω:"ohm",а:"acy",А:"Acy",б:"bcy",Б:"Bcy",в:"vcy",В:"Vcy",г:"gcy",Г:"Gcy",ѓ:"gjcy",Ѓ:"GJcy",д:"dcy",Д:"Dcy",ђ:"djcy",Ђ:"DJcy",е:"iecy",Е:"IEcy",ё:"iocy",Ё:"IOcy",є:"jukcy",Є:"Jukcy",ж:"zhcy",Ж:"ZHcy",з:"zcy",З:"Zcy",ѕ:"dscy",Ѕ:"DScy",и:"icy",И:"Icy",і:"iukcy",І:"Iukcy",ї:"yicy",Ї:"YIcy",й:"jcy",Й:"Jcy",ј:"jsercy",Ј:"Jsercy",к:"kcy",К:"Kcy",ќ:"kjcy",Ќ:"KJcy",л:"lcy",Л:"Lcy",љ:"ljcy",Љ:"LJcy",м:"mcy",М:"Mcy",н:"ncy",Н:"Ncy",њ:"njcy",Њ:"NJcy",о:"ocy",О:"Ocy",п:"pcy",П:"Pcy",р:"rcy",Р:"Rcy",с:"scy",С:"Scy",т:"tcy",Т:"Tcy",ћ:"tshcy",Ћ:"TSHcy",у:"ucy",У:"Ucy",ў:"ubrcy",Ў:"Ubrcy",ф:"fcy",Ф:"Fcy",х:"khcy",Х:"KHcy",ц:"tscy",Ц:"TScy",ч:"chcy",Ч:"CHcy",џ:"dzcy",Џ:"DZcy",ш:"shcy",Ш:"SHcy",щ:"shchcy",Щ:"SHCHcy",ъ:"hardcy",Ъ:"HARDcy",ы:"ycy",Ы:"Ycy",ь:"softcy",Ь:"SOFTcy",э:"ecy",Э:"Ecy",ю:"yucy",Ю:"YUcy",я:"yacy",Я:"YAcy",ℵ:"aleph",ℶ:"beth",ℷ:"gimel",ℸ:"daleth"},g=/["&'<>`]/g,p={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},v=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,A=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,C=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,w={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},E={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},S={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},O=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],b=String.fromCharCode,M={},q=M.hasOwnProperty,R=function($,H){return q.call($,H)},_=function($,H){for(var B=-1,V=$.length;++B<V;)if($[B]==H)return!0;return!1},D=function($,H){if(!$)return H;var B={},V;for(V in H)B[V]=R($,V)?$[V]:H[V];return B},x=function($,H){var B="";return $>=55296&&$<=57343||$>1114111?(H&&N("character reference outside the permissible Unicode range"),"�"):R(S,$)?(H&&N("disallowed character reference"),S[$]):(H&&_(O,$)&&N("disallowed character reference"),$>65535&&($-=65536,B+=b($>>>10&1023|55296),$=56320|$&1023),B+=b($),B)},I=function($){return"&#x"+$.toString(16).toUpperCase()+";"},P=function($){return"&#"+$+";"},N=function($){throw Error("Parse error: "+$)},W=function($,H){H=D(H,W.options);var B=H.strict;B&&A.test($)&&N("forbidden code point");var V=H.encodeEverything,z=H.useNamedReferences,ee=H.allowUnsafeSymbols,Z=H.decimal?P:I,G=function(Q){return Z(Q.charCodeAt(0))};return V?($=$.replace(c,function(Q){return z&&R(y,Q)?"&"+y[Q]+";":G(Q)}),z&&($=$.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),z&&($=$.replace(d,function(Q){return"&"+y[Q]+";"}))):z?(ee||($=$.replace(g,function(Q){return"&"+y[Q]+";"})),$=$.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),$=$.replace(d,function(Q){return"&"+y[Q]+";"})):ee||($=$.replace(g,G)),$.replace(u,function(Q){var te=Q.charCodeAt(0),ie=Q.charCodeAt(1),fe=(te-55296)*1024+ie-56320+65536;return Z(fe)}).replace(h,G)};W.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var J=function($,H){H=D(H,J.options);var B=H.strict;return B&&v.test($)&&N("malformed character reference"),$.replace(C,function(V,z,ee,Z,G,Q,te,ie,fe){var ge,xe,Ie,ke,Re,Be;return z?(Re=z,w[Re]):ee?(Re=ee,Be=Z,Be&&H.isAttributeValue?(B&&Be=="="&&N("`&` did not start a character reference"),V):(B&&N("named character reference was not terminated by a semicolon"),E[Re]+(Be||""))):G?(Ie=G,xe=Q,B&&!xe&&N("character reference was not terminated by a semicolon"),ge=parseInt(Ie,10),x(ge,B)):te?(ke=te,xe=ie,B&&!xe&&N("character reference was not terminated by a semicolon"),ge=parseInt(ke,16),x(ge,B)):(B&&N("named character reference was not terminated by a semicolon"),V)})};J.options={isAttributeValue:!1,strict:!1};var se=function($){return $.replace(g,function(H){return p[H]})},X={version:"1.2.0",encode:W,decode:J,escape:se,unescape:J};if(n&&!n.nodeType)if(i)i.exports=X;else for(var re in X)R(X,re)&&(n[re]=X[re]);else t.he=X})(FF)}(_u,_u.exports)),_u.exports}var MF=BF();const jF=ah(MF);function aa(r){if(typeof r=="string"){const e=r.replace(/<[^>]+>/g,"");return jF.decode(e).replace(/\s+/g," ").trim()}}class qF extends ot{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().body,t=aa(e);this.setState({plainText:t})}componentDidUpdate(e){const t=this.props.obj.getJson().body,n=e.obj.getJson().body;if(t!==n){const i=aa(t);this.setState({plainText:i})}}render(){this.props.obj.getJson().body.replace(/<[^>]+>/g,"");let e=this.props.obj.getJson().ownerMessage?"outgoing":"incoming";return k.jsxs("div",{children:[this.props.obj.getJson().suggestion&&k.jsxs("div",{children:["this one is a suggestions",k.jsx("div",{onClick:()=>{debugger;let t=this.props.obj,n={originalMessageId:t.getJson().originalMessageId,from:this.propsState.currentUser.getJson()._id,to:this.propsState.currentConversation.getJson().contact,subject:t.getJson().subject,text:t.getJson().body};fetch("https://sendgridemailhandler-7c5i3vsqma-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(i=>{if(!i.ok)throw new Error(`HTTP error! Status: ${i.status}`);return i.json()}).then(i=>{console.log("Reply sent successfully in thread.",i)}).catch(i=>{console.error("Error sending reply:",i)})},children:"send"})]}),k.jsx("div",{className:"date-divider",children:k.jsx("span",{className:"timestamp",children:this.props.obj.getJson().timeStamp})}),k.jsx("div",{className:"message-item "+e,children:k.jsx("div",{className:"message "+e,children:this.state.plainText})})]})}}class XC extends ot{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",currentConversation:null}}async componentDidMount(){await this.prepareMessages()}async prepareMessages(){let e=this.propsState.currentConversation;e||(e=this.componentList.getComponent("conversation"),await this.dispatch({currentConversation:e})),e?(await this.prepNewMessage(),this.setState({start:!0})):this.setState({message:"no current conversations"})}async prepNewMessage(){let e=this.propsState.currentConversation;const t=e.getJson().messageType||"email";let n=this.componentList.getList("email",this.propsState.currentConversation.getJson()._id,"conversationId");n=n[n.length-1];let i=n.getJson().originalMessageId,a=n.getJson().subject;const u=await this.operationsFactory.prepare({prepare:{type:t,conversationId:e.getJson()._id,originalMessageId:i,subject:a,ownerMessage:!0},clean:!0});this.dispatch({currentComponent:u[0]}),this.setState({currentConversation:e})}componentDidUpdate(e,t){this.propsState.currentConversation!==this.state.currentConversation&&this.prepNewMessage()}getInnerContent(){const{currentConversation:e}=this.propsState;return k.jsxs("div",{children:[window.innerWidth<600&&k.jsx("div",{style:{position:"sticky",top:0,zIndex:200,marginBottom:"-20px"},children:k.jsx("div",{className:"dark-button-1",onClick:()=>{this.dispatch({showConversation:void 0})},children:"< Back"})}),k.jsx("div",{className:"layoutColumn conversation-container",children:this.state.message?k.jsx(k.Fragment,{children:this.state.message}):k.jsx(k.Fragment,{children:this.state.start&&k.jsxs("div",{style:{width:"100%",marginTop:"-20px"},children:[k.jsx(Pn,{mapContainerClass:"message-list",name:(e==null?void 0:e.getJson().messageType)||"email",cells:[{type:"custom",custom:qF}],filter:{search:this.propsState.currentConversation.getJson()._id,attribute:"conversationId"}}),k.jsxs("div",{style:{display:"flex",flexDirection:"row",position:"sticky",bottom:0,zIndex:1,width:"100%",minHeight:"60px",paddingBottom:"65px",paddingLeft:"12px",background:"linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 1%)"},children:[k.jsx("div",{style:{position:"relative",width:"40px",zIndex:2},children:k.jsx(eo,{content:k.jsx("button",{className:"footer-btn",style:{marginBottom:"-15px",position:"absolute",left:0},children:k.jsx("i",{className:"fa-solid fa-circle-plus"})}),callbackFunc:()=>{let t=this.propsState.currentComponent;if(t.getJson().body==="")return;this.prepNewMessage();let n={originalMessageId:t.getJson().originalMessageId,from:t.getJson().owner,to:this.propsState.currentConversation.getJson().contact,subject:t.getJson().subject,text:t.getJson().body};fetch("https://sendgridemailhandler-7c5i3vsqma-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(i=>{if(!i.ok)throw new Error(`HTTP error! Status: ${i.status}`);return i.json()}).then(i=>{console.log("Reply sent successfully in thread.",i)}).catch(i=>{console.error("Error sending reply:",i)})}})}),k.jsx("div",{style:{zIndex:3,width:"100%"},children:k.jsx(It,{wrapperClass:"footer-input",formClass:"search-input",name:"body",obj:this.propsState.currentComponent})})]})]})})})]})}render(){return k.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class VF extends ot{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}async componentDidMount(){this.propsState.convoSnapped?this.dispatch({convoSnapped:!0}):(await this.componentList.getComponentsFromBackend({type:"conversation",ids:this.propsState.currentUser.getJson()._id,filterKeys:"owner",snapshot:!0}),await this.componentList.getComponentsFromBackend({type:"email",ids:this.propsState.currentUser.getJson()._id,filterKeys:"owner",snapshot:!0})),await this.componentList.sortSelectedListbyFirebaseDate("conversation"),this.componentList.getAPIService().subscribeToReadObserver(async(e,t)=>{this.setState({start:!1});let n={};for(let a of t)n[a._id]=a;let i=this.componentList.getList("conversation");i=i.map(a=>{let u=n[a.getJson()._id];return u&&a.setCompState({...u}),a}),await this.componentList.clearSelectedList("conversation",i),await this.componentList.sortSelectedListbyFirebaseDate("conversation",!0),this.dispatch({ranConversationRead:!0}),this.setState({start:!0})}),this.setState({start:!0})}getInnerContent(){return k.jsxs("div",{className:"layoutRow",style:{width:"100%",height:"100%"},children:[k.jsx("div",{style:{minWidth:window.innerWidth>600?"50%":""},children:!this.propsState.showConversation&&k.jsx(k.Fragment,{children:this.state.start&&k.jsx(_n,{theme:"defaultCard",content:k.jsx(LF,{})})})}),k.jsx("div",{style:{minWidth:window.innerWidth>600?"50%":""},children:(window.innerWidth>600||this.propsState.showConversation!==void 0)&&k.jsx(k.Fragment,{children:this.state.start&&k.jsx(_n,{theme:"defaultCard",content:k.jsx(XC,{})})})})]})}render(){return k.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class dw extends _a{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.dispatch({currentTopic:void 0,currentSubTopic:void 0,currentComponent:void 0}),this.getComponentsFromBackend()}render(){return k.jsx("div",{className:this.props.pageClass||this.state.defaultClass,style:{padding:"20px"},children:k.jsx("div",{className:"fit",children:this.state.getComponentsFromBackend&&k.jsx(_n,{theme:"defaultCard",content:k.jsx(VF,{})})})})}}class UF extends ot{constructor(e){super(e)}render(){const{obj:e}=this.props;let t=e.getJson();return k.jsxs("div",{className:"sequence",children:[k.jsxs("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:[k.jsx(yn,{to:"/sequence/"+t._id,style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-left",children:k.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})}),k.jsx(yn,{to:"/sequence/"+t._id,style:{marginRight:"0px"},onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-right",children:"View Details"})]}),k.jsxs("div",{className:"row row-space-around",style:{fontSize:"14px"},children:[k.jsxs("div",{className:"col",children:[k.jsx("div",{children:"Active"}),k.jsx("div",{children:(t==null?void 0:t.activeCount)||"-"})]}),k.jsxs("div",{className:"col",children:[k.jsx("div",{children:"Completed"}),k.jsx("div",{children:(t==null?void 0:t.completeCount)||"-"})]}),k.jsxs("div",{className:"col",children:[k.jsx("div",{children:"Opened"}),k.jsx("div",{children:t!=null&&t.openedRate?`${t==null?void 0:t.openedRate}%`:"N/A"})]}),k.jsxs("div",{className:"col",children:[k.jsx("div",{children:"Reply"}),k.jsx("div",{children:t!=null&&t.replyRate?`${t==null?void 0:t.replyRate}%`:"N/A"})]}),k.jsxs("div",{className:"col",children:[k.jsx("div",{children:"Bounce"}),k.jsx("div",{children:t!=null&&t.bounceRate?`${t==null?void 0:t.bounceRate}%`:"N/A"})]})]})]})}}class zF extends ot{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return k.jsxs("div",{className:"fit",children:[k.jsx("h4",{style:{marginBottom:"10px",font:"normal normal 900 16px/22px Satoshi"},children:"Sequences"}),k.jsx(Pn,{name:"sequence",cells:[{type:"custom",custom:UF}]})]})}render(){return k.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class HF extends ot{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().content,t=aa(e);this.setState({plainText:t})}componentDidUpdate(e){var i,a;const t=(i=this.props.obj)==null?void 0:i.getJson().content,n=(a=this.props.obj)==null?void 0:a.getJson().content;if(t!==n){const u=aa(t);this.setState({plainText:u})}}render(){const{obj:e}=this.props;let t=e.getJson();return k.jsx("div",{className:"sequence",children:k.jsxs("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:[k.jsx(yn,{style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},to:"/template/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-left",children:k.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:this.state.plainText})}),k.jsx(yn,{style:{marginRight:"0px"},to:"/template/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-right",children:"View Details"})]})})}}class GF extends ot{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return k.jsxs(k.Fragment,{children:[k.jsx("h4",{style:{marginBottom:"10px",font:"normal normal 900 16px/22px Satoshi"},children:"Templates"}),k.jsx(Pn,{name:"template",cells:[{type:"custom",custom:HF}]})]})}render(){return k.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class $F extends ot{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return k.jsxs("div",{className:"map-container",style:{paddingBottom:"62px"},children:[k.jsxs("div",{className:"top-nav-float",children:[k.jsx("nav",{className:"top-nav",children:k.jsxs("div",{className:"nav-left",children:[k.jsx("div",{className:"nav-icon",children:k.jsx("i",{className:"fas fa-circle"})}),k.jsx("div",{className:"title-name",children:"Content"})]})}),k.jsx("div",{className:"search-container",children:k.jsxs("div",{className:"search-bar",children:[k.jsx("i",{className:"fas fa-search search-icon"}),k.jsx("input",{onChange:e=>{this.dispatch({tags:e.target.value})},className:"search-input",placeholder:"Search"})]})}),k.jsx("div",{className:"filter",children:k.jsxs("div",{className:"row row-space-between",children:[k.jsx(yn,{to:"/sequence",className:"btn-gray",children:"New Sequence"}),k.jsx(yn,{to:"/template",className:"btn-gray",children:"New Template"}),k.jsx("div",{className:"btn-gray",children:"New AI"})]})})]}),k.jsx("div",{children:k.jsx(_n,{theme:"defaultCard",content:k.jsx(zF,{})})}),k.jsx("div",{children:k.jsx(_n,{theme:"defaultCard",content:k.jsx(GF,{})})})]})}render(){return k.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class WF extends _a{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.propsState.currentUser.getJson()._id}}async componentDidMount(){this.getComponentsFromBackend()}render(){return k.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.state.gotComponents&&k.jsx(_n,{theme:"NoBorder",type:"fit",content:k.jsx($F,{})})})}}class KF extends ot{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().content,t=aa(e);this.setState({plainText:t})}componentDidUpdate(e){var i,a;const t=(i=this.props.obj)==null?void 0:i.getJson().content,n=(a=this.props.obj)==null?void 0:a.getJson().content;if(t!==n){const u=aa(t);this.setState({plainText:u})}}render(){return k.jsx("div",{onClick:()=>{this.dispatch({popupSwitch:"updateStep",currentPopupComponent:this.props.obj})},children:k.jsxs("div",{className:"icon-row",children:[k.jsx("div",{className:"icon-container",children:k.jsxs("div",{className:"col",children:[k.jsx("div",{className:"icon",style:{cursor:"pointer"},children:k.jsx("i",{className:"fa-solid fa-envelope"})}),k.jsx("div",{className:"svg",children:k.jsx("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("line",{x1:"50%",y1:"0",x2:"50%",y2:"50",stroke:"var(--app-green)",strokeWidth:"3"})})})]})}),k.jsxs("div",{className:"message-container",children:[k.jsx("b",{children:this.props.obj.getJson().subject}),k.jsx("br",{}),k.jsx("span",{children:this.state.plainText})]})]})})}}class pw extends KC{async componentDidMount(){let e;await this.getComponentsFromBackend(),e=this.comp,e?await this.componentList.getComponentsFromBackend({type:"step",ids:e.getJson()._id,filterKeys:"sequenceId"}):(e=await this.operationsFactory.prepare({prepare:{type:"sequence"},clean:!0}),e=e[0]),await this.dispatch({currentSequence:e})}async createStep(e){let t=this.componentList.getList("step",e?e.getJson()._id:this.propsState.currentSequence.getJson()._id,"sequenceId");const n=await this.operationsFactory.prepare({prepare:{type:"step",sequenceId:e?e.getJson()._id:this.propsState.currentSequence.getJson()._id,step:t.length}});this.dispatch({currentStep:n.length===2?n[1]:n[0]})}getStepJson(){var n,i;let e=this.componentList.getList("step",(n=this.propsState.currentSequence)==null?void 0:n.getJson()._id,"sequenceId");return{type:"step",sequenceId:(i=this.propsState.currentSequence)==null?void 0:i.getJson()._id,step:e.length}}getInnerContent(){var e,t,n;return k.jsx("div",{className:"fit",children:k.jsxs("div",{className:"mobile-container",children:[k.jsxs("div",{className:"title-bar",children:[k.jsxs("div",{className:"title-left",children:[k.jsx("div",{className:"title-icon",style:{fontSize:"702px"},children:k.jsx("i",{className:"fas fa-angle-left"})}),((e=this.propsState.currentSequence)==null?void 0:e.getJson().name)===""||this.state.edit?k.jsxs("div",{className:"name-a-sequence",children:[k.jsx(It,{obj:this.propsState.currentSequence,name:"name"}),k.jsx(eo,{callbackFunc:()=>{this.setState({edit:!1}),this.propsState.currentSequence.update()},content:"save",className:"dark-button-1"})]}):k.jsx(k.Fragment,{children:k.jsxs("div",{className:"title-name",children:[(t=this.propsState.currentSequence)==null?void 0:t.getJson().name,k.jsx("span",{onClick:()=>{this.setState({edit:!0})},children:k.jsx("span",{className:"name-a-sequence-edit-btn",children:"Edit"})})]})})]}),k.jsxs("div",{className:"title-right",children:[k.jsx("div",{className:"title-icon",children:k.jsx("i",{className:"fas fa-circle"})}),k.jsx("div",{className:"title-name",children:"Active"})]})]}),k.jsx("div",{className:"switch-tab",children:k.jsxs("div",{className:"row row-space-around",children:[k.jsxs("div",{className:"switch-tab-btn",children:["Assigned",k.jsx("br",{}),"Prospects"]}),k.jsxs("div",{className:"switch-tab-btn active",children:["Sequence",k.jsx("br",{}),"Steps"]})]})}),k.jsxs("div",{className:"icon-list",children:[k.jsx(Pn,{name:"step",mapSectionClass:"none",mapContainerClass:"none",filter:{search:(n=this.propsState.currentSequence)==null?void 0:n.getJson()._id,attribute:"sequenceId"},filterFunc:i=>!(i.getJson().content===void 0||i.getJson().content===""),cells:[{type:"custom",custom:KF,wrapperClass:"none"}]}),k.jsx(Hh,{formClass:"svg-last",wrapperClass:"icon-row",newProp:"asdf",obj:this.getStepJson(),content:k.jsxs(k.Fragment,{children:[k.jsx("svg",{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg",children:k.jsx("path",{d:"M25,0 Q25,25 50,25 H50",fill:"none",stroke:"var(--app-green)",strokeWidth:"3",strokeLinecap:"round"})}),k.jsx("div",{className:"icon-last",children:k.jsx("i",{className:"fa-solid fa-plus"})})]}),popupSwitch:"addStep"}),k.jsx("div",{className:"icon-row",children:k.jsx("div",{className:"svg-last"})})]})]})})}render(){return k.jsx("div",{className:[this.props.pageClass||this.state.defaultClass,"sequence-margin"].join(" "),children:this.getInnerContent()})}}class mw extends KC{async componentDidMount(){await this.getComponentsFromBackend();const e=this.urlId;if(!e||e==="template"){const t=await this.operationsFactory.prepare({prepare:{type:"template"},clean:!0});this.dispatch({currentComponent:t[0]})}}getInnerContent(){return k.jsxs("div",{className:"fit",children:[k.jsx("h1",{children:"Template Details"}),k.jsx("div",{className:"input-container",children:k.jsx("div",{className:"input-bar",children:this.propsState.currentComponent&&k.jsx(It,{type:"quill",name:"content",obj:this.propsState.currentComponent})})}),k.jsx(eo,{content:"Save Template"})]})}render(){return k.jsx("div",{className:this.props.pageClass||"fit",children:this.state.gotComponents&&this.getInnerContent()})}}class JF extends ot{constructor(e){super(e)}render(){const{obj:e}=this.props;let t=e.getJson();return k.jsx("div",{className:"sequence",children:k.jsx("div",{onClick:()=>{let n=this.props.obj,i=this.propsState.selectedContacts,a=this.componentList.getList("step",[n.getJson()._id],["sequenceId"]);if(a=a.filter(u=>u.getJson().content!==""&&u.getJson().content)[0],(i==null?void 0:i.length)>0){let u=parseFloat(a.getJson().nextSend),c=new Date(Date.now()+u*60*60*1e3);c=Lt.fromDate(c);for(let h of i)h.setCompState({sequenceId:n.getJson()._id,finished:!1,emailNumber:0,nextSend:c},{run:!0});this.dispatch({popupSwitch:"",selectedContacts:[]})}},className:"title",children:k.jsx("div",{className:"title-left",children:t.name})})})}}class QF extends ot{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}render(){var e;return k.jsxs("div",{style:{padding:"10px",paddingBottom:"100px",height:"65%"},className:this.props.pageClass||this.state.defaultClass,children:[k.jsx("h2",{children:"Add to Sequence"})," ","contacts: ",((e=this.propsState.selectedContacts)==null?void 0:e.length)||"0",k.jsx(Pn,{name:"sequence",cells:[{type:"custom",custom:JF}]})]})}}let YF=[{type:"email",body:"Hey John, just wanted to follow up on our conversation yesterday. Do you think the software is a good fit for your team? I'm happy to set up another demo or go over pricing options",conversationId:"123",_id:"email1",owner:"alan@salescapture.ai",timeStamp:"Yesterday 10:14 AM",subject:"hi",ownerMessage:!0},{type:"email",body:"Hey John, just wanted to follow up on our conversation yesterday. Do you think the software is a good fit for your team? I'm happy to set up another demo or go over pricing options",conversationId:"123",_id:"email1",owner:"alan@salescapture.ai",timeStamp:"Yesterday 10:14 AM",subject:"hi",ownerMessage:!0},{type:"email",body:"Can you get me a price estimate that I can bring back to my team?",conversationId:"123",_id:"email2",owner:"alan@salescapture.ai",subject:"hi",timeStamp:"Today 9:14 AM",ownerMessage:!1},{type:"email",body:"Hi Jane, AI can find the contacts you need to reach out to TODAY. Let me know if you can connect today.",conversationId:"1234",_id:"email3",owner:"alan@salescapture.ai",timeStamp:"Yesterday 10:14 AM",subject:"hi",ownerMessage:!0},{type:"email",body:"Sure I have time arround 3pm tomorrow afternoon",conversationId:"1234",_id:"email4",owner:"alan@salescapture.ai",subject:"hi",timeStamp:"Today 9:14 AM",ownerMessage:!1},{type:"email",body:"Hey Taylor Just let me know if it would be good to meet today or not.",conversationId:"1235",_id:"email5",owner:"alan@salescapture.ai",timeStamp:"Yesterday 10:14 AM",subject:"hi",ownerMessage:!0},{type:"email",body:"No I can't to this week.",conversationId:"1235",_id:"email6",owner:"alan@salescapture.ai",subject:"hi",timeStamp:"Today 9:14 AM",ownerMessage:!1},{type:"conversation",_id:"123",contact:"taylormdavidson@gmail.com",contactName:"John Doe",timeStamp:"Today 2:15 pm",recentMessage:"Hey, how's it going?",owner:"alan@salescapture.com"},{type:"conversation",_id:"1234",contact:"taylormdavidson@gmail.com",contactName:"Jane Doe",timeStamp:"Today 2:15 pm",recentMessage:"Hey, how's it going?",owner:"alan@salescapture.com"},{type:"conversation",_id:"1235",contact:"taylormdavidson@gmail.com",contactName:"Taylor Davidson",timeStamp:"Today 2:15 pm",recentMessage:"Can you get me a price estimate that I can bring back to my team?",owner:"alan@salescapture.com"},{type:"contact",_id:"contact1",name:"Taylor Davidson",email:"taylormdavidson@gmail.com",owner:"alan@salescapture.com "},{type:"potentialProspect",_id:"prospect1",firstName:"Taylor Davidson",email:"taylormdavidson@gmail.com",owner:"alan@salescapture.com ",researchId:"research1"},{type:"research",_id:"research1",name:"research1",owner:"alan@salescapture.com "}];class ZF extends ot{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}render(){this.props.obj;let e=k.jsx(eo,{formClass:"dark-button-1",content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc});return this.propsState.popupSwitch.includes("update")&&(e=k.jsx(fy,{formClass:"dark-button-1",obj:this.propsState.currentPopupComponent,content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc})),k.jsxs("div",{style:{padding:"10px",paddingBottom:"100px"},className:this.props.pageClass||this.state.defaultClass,children:[k.jsx("br",{}),k.jsxs("div",{className:"content-home-add",children:[k.jsxs("div",{className:"row",children:[k.jsx("div",{children:"Subject:"}),k.jsx(It,{obj:this.propsState.currentPopupComponent,name:"subject",wrapperClass:"underline-form"})]}),k.jsx("div",{className:"row",children:k.jsx(It,{type:"quill",obj:this.propsState.currentPopupComponent,name:"content",wrapperClass:"contentWrapper"})}),k.jsxs("div",{className:"row",children:[k.jsx("div",{children:"Trigger this step in:"}),k.jsx(It,{obj:this.propsState.currentPopupComponent,name:"nextSend",wrapperClass:"underline-form",wrapperStyle:{width:"10%",marginRight:"8px"}})," days"]}),k.jsxs("div",{className:"row",children:[this.propsState.popupSwitch.includes("update")&&k.jsx(w5,{obj:this.propsState.currentPopupComponent,formClass:"del-button-1",callbackFunc:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})}}),k.jsx("div",{className:"col hover-basic",style:{cursor:"pointer",width:"37px",height:"37px"},children:k.jsx(_5,{obj:this.propsState.currentPopupComponent,content:k.jsx("div",{style:{display:"flex",alignItems:"center",borderRadius:"50%",justifyContent:"center",fontSize:"19px",width:"37px",height:"37px",background:"#378c75",color:"#ade0d3"},children:k.jsx("div",{className:"icon-last",children:k.jsx("i",{className:"fa-solid fa-plus"})})})})}),k.jsx("div",{className:"col",children:e})]}),k.jsx("div",{})]})]})}}const XF="/assets/scailogofake-B3YGBRpn.png",e4=()=>{const[r,e]=ye.useState(!1),t=ye.useRef(null),n=u=>{if(u.code){const c=u.code;console.log("Received authorization code:",c),i(c)}else console.error("Authorization failed or denied:",u),alert("Failed to connect Gmail. Please try again.")},i=u=>{fetch("http://localhost:3000/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:u})}).then(h=>{if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);return h.json()}).then(h=>{console.log("Backend response after token exchange:",h),h.success?(e(!0),alert("Gmail connected successfully!")):alert(`Failed to connect Gmail: ${h.error}`)}).catch(h=>{console.error("Error sending code to backend:",h),alert("Failed to complete connection. Please try again."),e(!1)})};ye.useEffect(()=>{const u=document.createElement("script");return u.src="https://accounts.google.com/gsi/client",u.async=!0,u.defer=!0,document.body.appendChild(u),u.onload=()=>{t.current=google.accounts.oauth2.initCodeClient({client_id:"592520451667-0sphkcuj07fg9scli2p8u78bjs1uk86k.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/gmail.modify",redirect_uri:"http://localhost:3000/google",callback:n}),console.log("Google Identity Services client initialized.")},()=>{document.body.removeChild(u)}},[]);const a=()=>{t.current?t.current.requestCode():(console.error("Google Identity Services client not initialized."),alert("Google services are not ready. Please try again in a moment."))};return k.jsxs("div",{style:{padding:"1.5rem",maxWidth:"24rem",margin:"0 auto",backgroundColor:"#fff",borderRadius:"0.5rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",display:"flex",flexDirection:"column",gap:"1rem"},children:[k.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",textAlign:"center",marginBottom:"1rem"},children:"Gmail Integration"}),r?k.jsx("p",{style:{color:"#10b981",textAlign:"center",fontWeight:"semibold",marginBottom:"1rem"},children:"Gmail Connected!"}):k.jsx("button",{onClick:a,disabled:!t.current,style:{width:"100%",backgroundColor:"#3b82f6",color:"#fff",fontWeight:"bold",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"1rem",paddingRight:"1rem",borderRadius:"0.25rem",border:"none",cursor:t.current?"pointer":"not-allowed",opacity:t.current?1:.5,transition:"background-color 0.2s ease-in-out"},children:t.current?"Connect Gmail":"Loading..."}),k.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",textAlign:"center"},children:"Connect your Gmail account to send emails directly through our platform."})]})};class t4 extends ot{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}getInnerContent(){return k.jsx("div",{className:"mobile-container",children:k.jsx(e4,{})})}render(){return k.jsx("div",{className:this.props.pageClass||this.state.defaultClass,style:{marginLeft:"300px",width:"80%"},children:this.getInnerContent()})}}class n4 extends _a{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.getComponentsFromBackend()}render(){return k.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:k.jsx(_n,{theme:"NoBorder",type:"fit",content:k.jsx(t4,{})})})}}class r4 extends ot{constructor(t){super(t);he(this,"handleCheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n.includes(t)||n.push(t),this.dispatch({selectedContacts:n})});he(this,"handleUncheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n=n.filter(i=>i!==t),this.dispatch({selectedContacts:n})})}render(){var i;const{obj:t}=this.props;let n=t.getJson();return k.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[k.jsxs("div",{className:"contact-item",children:[k.jsx(Kh,{checkKey:"selectedContacts",obj:t,check:this.handleCheckContact,uncheck:this.handleUncheckContact}),k.jsx("div",{className:"contact-avatar",children:k.jsx("i",{className:"fa-solid fa-user"})}),k.jsxs("div",{className:"contact-info",children:[k.jsx("div",{onClick:()=>{this.dispatch({currentPopupComponent:t,popupSwitch:"updateContact"})},className:"contact-name",children:`${n.firstName} ${n.lastName}`}),k.jsx("div",{className:"contact-desc",children:n.company})]}),k.jsx("div",{style:{cursor:"pointer",width:"fit-content"},children:k.jsx("div",{className:"contact-icon",children:k.jsx("i",{className:"fa-solid fa-message"})})})]}),k.jsx("div",{className:"contact-tag-container active",children:(i=n.tags)==null?void 0:i.split(",").map((a,u)=>k.jsx("button",{className:"contact-tag-btn",children:a},u))})]})}}class i4 extends ot{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}componentDidMount(){this.dispatch({selectedContacts:[]})}filterFunc(){var a;let e=oh.getIdFromURL(),t=((a=this.propsState.tags)==null?void 0:a.split(","))||"",n=this.componentList.getList("potentialProspect",e,"researchId"),i=[];if(t)for(let u of t){let c=n.filter(h=>h.getJson().tags.includes(u));i=[...i,...c]}else i=[...n];this.dispatch({selectedContacts:i})}getInnerContent(){var u,c;let e=oh.getIdFromURL(),t=this.propsState.selectedContacts,n=this.propsState.componentList.getList("potentialProspect",e,"researchId");(t==null?void 0:t.length)>0;let i=n!=null&&n.length?"/"+(n==null?void 0:n.length):"",a=(t==null?void 0:t.length)===(n==null?void 0:n.length);return k.jsxs("div",{className:"mobile-container",children:[k.jsxs("div",{className:"top-nav-float",children:[k.jsxs("nav",{className:"top-nav",children:[k.jsxs("div",{className:"nav-left",children:[k.jsx("div",{className:"nav-icon",children:k.jsx("i",{className:"fas fa-circle"})}),k.jsx("div",{className:"nav-title",children:"Potential Prospects"})]}),k.jsxs("div",{className:"nav-right",children:[k.jsx("div",{className:"nav-icon",children:k.jsxs("button",{className:"btn",children:["A to Z ",k.jsx("i",{className:"fa-solid fa-angle-down"})]})}),k.jsx("div",{className:"nav-icon",children:k.jsx("button",{className:"btn",children:k.jsx("i",{className:"fa-solid fa-filter"})})})]})]}),k.jsx("div",{className:"search-container",children:k.jsxs("div",{className:"search-bar",children:[k.jsx("i",{className:"fas fa-search search-icon"}),k.jsx("input",{onChange:h=>{this.dispatch({tags:h.target.value})},className:"search-input",placeholder:"Search"})]})}),k.jsx("div",{className:"filter-nav",children:k.jsxs("div",{className:"filter-nav-left",children:[k.jsx(k.Fragment,{children:k.jsx("div",{id:"selectBtn",style:{height:"fit-content",marginLeft:"5px",alignContent:"center"},children:k.jsx(Kh,{label:a?"Deselect All":"Select All",check:this.filterFunc,uncheck:()=>{this.dispatch({selectedContacts:[]})}})})}),k.jsx("span",{className:"count-desc",children:(u=this.propsState.selectedContacts)!=null&&u.length?this.propsState.selectedContacts.length+`${i} Selected`:""})]})})]}),k.jsx(Pn,{filterFunc:h=>{if(!this.propsState.tags)return!0;let d=this.propsState.tags.split(",");for(let y of d)if(y!==""&&h.getJson().tags.includes(y))return!0;return!1},filter:{search:e,attribute:"researchId"},name:"potentialProspect",mapContainerclassName:"contact-list",mapSectionclassName:"contact",cells:[{type:"custom",custom:r4}],hasLink:!0}),((c=this.propsState.selectedContacts)==null?void 0:c.length)>0&&k.jsxs("div",{id:"floating-select-set",className:"floating-select-set",children:[k.jsx("button",{className:"floating-select-btn",children:k.jsx("span",{className:"floating-select-btn-text",children:"Export"})}),k.jsx("button",{onClick:()=>{for(let h of this.propsState.selectedContacts)h.del();this.dispatch({selectedContacts:[]})},className:"floating-select-btn",children:k.jsx("span",{className:"floating-select-btn-text",children:"Delete"})}),k.jsx("button",{className:"floating-select-btn floating-select-primary-btn",children:k.jsx(Hh,{formclassName:"FCImgButton",content:k.jsx("span",{className:"floating-select-btn-text",children:"Add to Sequence"}),popupSwitch:"addToSequence"})})]})]})}render(){return k.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class s4 extends ot{constructor(e){super(e),this.state={...this.state,count:0}}componentDidMount(){if(this.state.count<=0){const{app:e,obj:t}=this.props;let a=e.state.componentList.getList("potentialProspect",t==null?void 0:t.getJson().name,"researchId").length;this.setState({count:a})}}render(){var a;const{obj:e,app:t}=this.props;let n=e.getJson(),i=n.isActive;return k.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[k.jsxs("div",{className:`contact-item ${i?"contact-item-active":""}`,children:[k.jsxs("div",{className:"contact-info",children:[k.jsx("div",{onClick:()=>{this.dispatch({currentPopupComponent:e,popupSwitch:"updateContact"})},className:"contact-name",children:`${n.name} `}),k.jsx("div",{className:"contact-desc",children:`${this.state.count} Contact${this.state.count!==1?"s":""} Found`})]}),k.jsxs("div",{className:`profile-status ${i?"profile-status-active":""}`,children:[k.jsx("i",{className:"fa-solid fa-circle"}),k.jsx("span",{children:i?"Active":"Paused"})]})]}),k.jsx("div",{className:"contact-tag-container active",children:(a=n.tags)==null?void 0:a.split(",").map((u,c)=>k.jsx("button",{className:"contact-tag-btn",children:u},c))})]})}}class o4 extends ot{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}filterFunc(){var i;let e=((i=this.propsState.tags)==null?void 0:i.split(","))||"",t=this.componentList.getList("contact"),n=[];if(e)for(let a of e){let u=t.filter(c=>c.getJson().tags.includes(a));n=[...n,...u]}else n=[...t];this.dispatch({selectedContacts:n})}getInnerContent(){var e;return k.jsxs("div",{className:"map-container",children:[k.jsxs("div",{className:"top-nav-float",children:[k.jsxs("nav",{className:"top-nav",children:[k.jsxs("div",{className:"nav-left",children:[k.jsx("div",{className:"nav-icon",children:k.jsx("i",{className:"fas fa-circle"})}),k.jsx("div",{className:"nav-title",children:"Research"})]}),k.jsxs("div",{className:"nav-right",children:[k.jsx("div",{className:"nav-icon",children:k.jsxs("button",{className:"btn",children:["A to Z ",k.jsx("i",{className:"fa-solid fa-angle-down"})]})}),k.jsx("div",{className:"nav-icon",children:k.jsx("button",{className:"btn",children:k.jsx("i",{className:"fa-solid fa-filter"})})})]})]}),k.jsx("div",{className:"search-container",children:k.jsxs("div",{className:"search-bar",children:[k.jsx("i",{className:"fas fa-search search-icon"}),k.jsx("input",{onChange:t=>{this.dispatch({tags:t.target.value})},className:"search-input",placeholder:"Search"})]})}),k.jsx("div",{className:"filter-nav"}),k.jsx(yy,{wrapperClass:"icon-row",newProp:"asdf",content:k.jsx("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"New Research Profile"}),popupSwitch:"addResearch"})]}),k.jsx("div",{className:"card-header",children:"Customer Profiles"}),k.jsxs("div",{children:[" ",k.jsx(Pn,{filterFunc:t=>{if(!this.propsState.tags)return!0;let n=this.propsState.tags.split(",");for(let i of n)if(i!==""&&t.getJson().tags.includes(i))return!0;return!1},name:"research",mapContainerclassName:"contact-list",mapSectionclassName:"contact",cells:[{type:"custom",hasLink:!0,custom:s4}],hasLink:!0})]}),((e=this.propsState.selectedContacts)==null?void 0:e.length)>0&&k.jsxs("div",{id:"floating-select-set",className:"floating-select-set",children:[k.jsx("button",{className:"floating-select-btn",children:k.jsx("span",{className:"floating-select-btn-text",children:"Export"})}),k.jsx("button",{onClick:()=>{for(let t of this.propsState.selectedContacts)t.del();this.dispatch({selectedContacts:[]})},className:"floating-select-btn",children:k.jsx("span",{className:"floating-select-btn-text",children:"Delete"})}),k.jsx("button",{className:"floating-select-btn floating-select-primary-btn",children:k.jsx(Hh,{formclassName:"FCImgButton",content:k.jsx("span",{className:"floating-select-btn-text",children:"Add to Sequence"}),popupSwitch:"addToSequence"})})]})]})}render(){return k.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class a4 extends _a{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.getComponentsFromBackend()}render(){return k.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:k.jsx(_n,{theme:"NoBorder",type:"fit",content:k.jsx(o4,{})})})}}class u4 extends _a{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.getComponentsFromBackend()}render(){return k.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:k.jsx(_n,{theme:"NoBorder",type:"fit",content:k.jsx(i4,{})})})}}class l4 extends GC{getHtml(){return console.log("this.list",this.list),console.log("this.mapList",this.mapList),k.jsxs("div",{className:"bottom-nav",children:[k.jsxs(yn,{to:"/conversation",className:"bottom-nav-item",children:[k.jsx("i",{className:"fa-solid fa-message"}),k.jsx("span",{children:"Messages"})]}),k.jsxs(yn,{to:"/contacts",className:"bottom-nav-item",children:[k.jsx("i",{className:"fa-solid fa-address-book"}),k.jsx("span",{children:"Contacts"})]}),k.jsx("a",{href:"#",className:"bottom-nav-item",children:k.jsx("div",{id:"float-btn-plus",className:"float-btn",children:k.jsx("i",{className:"fas fa-plus"})})}),k.jsxs(yn,{to:"/research",className:"bottom-nav-item",children:[k.jsx("i",{className:"fa-solid fa-graduation-cap"}),k.jsx("span",{children:"Research"})]}),k.jsxs(yn,{to:"/content",className:"bottom-nav-item",children:[k.jsx("i",{className:"fa-solid fa-briefcase"}),k.jsx("span",{children:"Content"})]})]})}}class c4 extends ot{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}render(){const e=this.props.obj;let t=e?"Edit":"Add",n=e?k.jsx(fy,{formClass:"dark-button-1",obj:e,content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc}):k.jsx(eo,{formClass:"dark-button-1",content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc});return k.jsxs("div",{style:{padding:"10px",paddingBottom:"100px",height:"100%"},className:this.props.pageClass||this.state.defaultClass,children:[k.jsxs("h2",{children:[t," Research Prompt"]})," ",k.jsxs("div",{className:"contact-Add-container",children:[k.jsxs("div",{className:"row",children:[k.jsx("div",{style:{width:"40%"},children:"Profile Name:"}),k.jsxs("div",{style:{width:"100%",marginLeft:"7px"},children:[" ",k.jsx(It,{obj:e,wrapperClass:"underline-form",name:"name",inPopup:!0})," "]})]}),k.jsxs("div",{className:"row",children:[k.jsx("div",{style:{width:"30%"},children:"Search Frequency:"}),k.jsxs("div",{style:{width:"50%",marginLeft:"7px"},children:[" ",k.jsx(It,{obj:e,wrapperClass:"underline-form",name:"searchFrequency",inputType:"select",inPopup:!0,selectOptions:["daily","weekly","monthly"]})," "]})]}),k.jsxs("div",{className:"row",children:[k.jsx("div",{style:{width:"20%"},children:"AI Prompt:"}),k.jsxs("div",{style:{width:"100%",marginLeft:"10px"},children:[" ",k.jsx(It,{obj:e,wrapperClass:"underline-form",name:"AIPrompt",inPopup:!0})," "]})]}),k.jsxs("div",{style:{background:"white",width:"100%",display:"flex",justifyContent:"flex-end",alignSelf:"flex-end",position:"absolute",bottom:0,right:0},children:[" ",k.jsxs("div",{children:[" ",n]})]})]})]})}}class h4 extends XC{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}componentDidMount(){var e,t;debugger;(t=this.propsState.currentPopupComponent)==null||t.setCompState({conversationId:(e=this.propsState.currentConversation)==null?void 0:e.getJson()._id,originalMessageId:!1}),this.setState({email:this.propsState.currentPopupComponent})}componentDidUpdate(){}render(){var n,i;const e=this.props.obj;let t=k.jsx(eo,{formClass:"dark-button-1",content:k.jsx("div",{children:"Send"}),callbackFunc:()=>{let a=this.state.email,u={from:this.propsState.currentUser.getJson()._id,to:this.propsState.currentConversation.getJson().contact,subject:a.getJson().subject,text:a.getJson().body};fetch("https://sendgridemailhandler-7c5i3vsqma-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(c=>{if(!c.ok)throw new Error(`HTTP error! Status: ${c.status}`);return c.json()}).then(c=>{console.log("Reply sent successfully in thread.",c)}).catch(c=>{console.error("Error sending reply:",c)}),this.dispatch({currentPopupComponent:void 0,popupSwitch:""})}});return k.jsxs("div",{style:{padding:"10px",paddingBottom:"100px",height:"100%"},className:this.props.pageClass||this.state.defaultClass,children:[k.jsx("h2",{children:"Email"})," ",k.jsxs("div",{className:"contact-Add-container",children:[k.jsxs("div",{className:"row",children:[k.jsx("div",{children:"To:"}),k.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ",(n=this.propsState.currentConversation)==null?void 0:n.getJson().contactName]})]}),k.jsxs("div",{className:"row",children:[k.jsx("div",{children:"From:"}),k.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ",(i=this.propsState.currentConversation)==null?void 0:i.getJson().conversationOwner]})]}),k.jsxs("div",{className:"row",children:[k.jsx("div",{children:"Subject:"}),k.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ",k.jsx(It,{wrapperClass:"underline-form",obj:e,name:"subject",inPopup:!0})," "]})]}),k.jsx("div",{children:k.jsxs("div",{style:{width:"100%"},children:[" ",k.jsx(It,{obj:e,type:"quill",name:"body",inPopup:!0})," "]})}),k.jsxs("div",{style:{width:"100%",background:"white",display:"flex",justifyContent:"flex-end",alignContent:"flex-end"},children:[" ",k.jsxs("div",{style:{marginRight:"-10px"},children:[" ",t]})]})]})]})}}class f4 extends pF{constructor(e){super(e,{db:iN,endpoint:"salescaptureAI",auth:sN,storage:rN}),this.popupComponents={contact:ZC,step:ZF,research:c4,email:h4},this.popupComponentsProps={},sh.getFactory().registerComponent("bottomNavMap",l4);let t={type:"user",owner:"alan@salescapture.com",email:"alan@salescapture.com",_id:"alan@salescapture.com"};this.componentList.addComponents([...YF],!0),this.state={...this.state,navBarProps:{mapType:window.innerWidth<600?"bottomNavMap":void 0,type:window.innerWidth<600?"topBar":void 0,style:{backgroundColor:"#35b593",color:"white"},cardStyle:{backgroundColor:"#35b593",position:window.innerWidth<600&&"absolute",bottom:window.innerWidth<600&&"0px"},logoURL:window.innerWidth>600&&XF,linkItemStyle:{color:"white"}},routes:[{comp:dw,name:"Home",path:"/"},{comp:dw,name:"Messages",path:"conversation"},{comp:OF,name:"Contacts",path:"contacts"},{comp:a4,name:"Research",path:"research",idComp:u4},{comp:WF,name:"Content",path:"content"},{comp:n4,name:"Settings",path:"settings"},{comp:pw,name:"",path:"sequence",idComp:pw},{comp:mw,name:"",path:"template",idComp:mw}],popups:[{content:QF,popupSwitch:"addToSequence"}]},this.registerListWithFactory([...Object.values(TF)]);let n=sh.getNavList();n.update(0,{class:"SCAILogo"}),n.update(1,{activeClass:"SCAILink"}),window.innerWidth<600&&(n.remove(2),n.remove(0)),this.getUser(t)}async getUser(e){await this.componentList.addComponents([e],!0),e=this.componentList.getComponent("user"),this.state.currentUser=e}}fT.createRoot(document.getElementById("root")).render(k.jsx(ye.StrictMode,{children:k.jsx(f4,{})}));
