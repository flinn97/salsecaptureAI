var vT=Object.defineProperty;var _T=(r,e,t)=>e in r?vT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var le=(r,e,t)=>_T(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sf={exports:{}},uu={},Df={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2;function wT(){if(k2)return rt;k2=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function p(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function C(B,V,z){this.props=B,this.context=V,this.refs=b,this.updater=z||v}C.prototype.isReactComponent={},C.prototype.setState=function(B,V){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,V,"setState")},C.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function E(){}E.prototype=C.prototype;function T(B,V,z){this.props=B,this.context=V,this.refs=b,this.updater=z||v}var L=T.prototype=new E;L.constructor=T,A(L,C.prototype),L.isPureReactComponent=!0;var x=Array.isArray,j=Object.prototype.hasOwnProperty,q={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function w(B,V,z){var ee,Z={},$=null,Q=null;if(V!=null)for(ee in V.ref!==void 0&&(Q=V.ref),V.key!==void 0&&($=""+V.key),V)j.call(V,ee)&&!R.hasOwnProperty(ee)&&(Z[ee]=V[ee]);var te=arguments.length-2;if(te===1)Z.children=z;else if(1<te){for(var ie=Array(te),de=0;de<te;de++)ie[de]=arguments[de+2];Z.children=ie}if(B&&B.defaultProps)for(ee in te=B.defaultProps,te)Z[ee]===void 0&&(Z[ee]=te[ee]);return{$$typeof:r,type:B,key:$,ref:Q,props:Z,_owner:q.current}}function D(B,V){return{$$typeof:r,type:B.type,key:V,ref:B.ref,props:B.props,_owner:B._owner}}function I(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function k(B){var V={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(z){return V[z]})}var P=/\/+/g;function N(B,V){return typeof B=="object"&&B!==null&&B.key!=null?k(""+B.key):V.toString(36)}function W(B,V,z,ee,Z){var $=typeof B;($==="undefined"||$==="boolean")&&(B=null);var Q=!1;if(B===null)Q=!0;else switch($){case"string":case"number":Q=!0;break;case"object":switch(B.$$typeof){case r:case e:Q=!0}}if(Q)return Q=B,Z=Z(Q),B=ee===""?"."+N(Q,0):ee,x(Z)?(z="",B!=null&&(z=B.replace(P,"$&/")+"/"),W(Z,V,z,"",function(de){return de})):Z!=null&&(I(Z)&&(Z=D(Z,z+(!Z.key||Q&&Q.key===Z.key?"":(""+Z.key).replace(P,"$&/")+"/")+B)),V.push(Z)),1;if(Q=0,ee=ee===""?".":ee+":",x(B))for(var te=0;te<B.length;te++){$=B[te];var ie=ee+N($,te);Q+=W($,V,z,ie,Z)}else if(ie=p(B),typeof ie=="function")for(B=ie.call(B),te=0;!($=B.next()).done;)$=$.value,ie=ee+N($,te++),Q+=W($,V,z,ie,Z);else if($==="object")throw V=String(B),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Q}function J(B,V,z){if(B==null)return B;var ee=[],Z=0;return W(B,ee,"","",function($){return V.call(z,$,Z++)}),ee}function se(B){if(B._status===-1){var V=B._result;V=V(),V.then(function(z){(B._status===0||B._status===-1)&&(B._status=1,B._result=z)},function(z){(B._status===0||B._status===-1)&&(B._status=2,B._result=z)}),B._status===-1&&(B._status=0,B._result=V)}if(B._status===1)return B._result.default;throw B._result}var X={current:null},re={transition:null},G={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:re,ReactCurrentOwner:q};function H(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:J,forEach:function(B,V,z){J(B,function(){V.apply(this,arguments)},z)},count:function(B){var V=0;return J(B,function(){V++}),V},toArray:function(B){return J(B,function(V){return V})||[]},only:function(B){if(!I(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},rt.Component=C,rt.Fragment=t,rt.Profiler=i,rt.PureComponent=T,rt.StrictMode=n,rt.Suspense=h,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,rt.act=H,rt.cloneElement=function(B,V,z){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ee=A({},B.props),Z=B.key,$=B.ref,Q=B._owner;if(V!=null){if(V.ref!==void 0&&($=V.ref,Q=q.current),V.key!==void 0&&(Z=""+V.key),B.type&&B.type.defaultProps)var te=B.type.defaultProps;for(ie in V)j.call(V,ie)&&!R.hasOwnProperty(ie)&&(ee[ie]=V[ie]===void 0&&te!==void 0?te[ie]:V[ie])}var ie=arguments.length-2;if(ie===1)ee.children=z;else if(1<ie){te=Array(ie);for(var de=0;de<ie;de++)te[de]=arguments[de+2];ee.children=te}return{$$typeof:r,type:B.type,key:Z,ref:$,props:ee,_owner:Q}},rt.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},rt.createElement=w,rt.createFactory=function(B){var V=w.bind(null,B);return V.type=B,V},rt.createRef=function(){return{current:null}},rt.forwardRef=function(B){return{$$typeof:c,render:B}},rt.isValidElement=I,rt.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:se}},rt.memo=function(B,V){return{$$typeof:f,type:B,compare:V===void 0?null:V}},rt.startTransition=function(B){var V=re.transition;re.transition={};try{B()}finally{re.transition=V}},rt.unstable_act=H,rt.useCallback=function(B,V){return X.current.useCallback(B,V)},rt.useContext=function(B){return X.current.useContext(B)},rt.useDebugValue=function(){},rt.useDeferredValue=function(B){return X.current.useDeferredValue(B)},rt.useEffect=function(B,V){return X.current.useEffect(B,V)},rt.useId=function(){return X.current.useId()},rt.useImperativeHandle=function(B,V,z){return X.current.useImperativeHandle(B,V,z)},rt.useInsertionEffect=function(B,V){return X.current.useInsertionEffect(B,V)},rt.useLayoutEffect=function(B,V){return X.current.useLayoutEffect(B,V)},rt.useMemo=function(B,V){return X.current.useMemo(B,V)},rt.useReducer=function(B,V,z){return X.current.useReducer(B,V,z)},rt.useRef=function(B){return X.current.useRef(B)},rt.useState=function(B){return X.current.useState(B)},rt.useSyncExternalStore=function(B,V,z){return X.current.useSyncExternalStore(B,V,z)},rt.useTransition=function(){return X.current.useTransition()},rt.version="18.3.1",rt}var R2;function fh(){return R2||(R2=1,Df.exports=wT()),Df.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P2;function ET(){if(P2)return uu;P2=1;var r=fh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(c,h,f){var y,g={},p=null,v=null;f!==void 0&&(p=""+f),h.key!==void 0&&(p=""+h.key),h.ref!==void 0&&(v=h.ref);for(y in h)n.call(h,y)&&!a.hasOwnProperty(y)&&(g[y]=h[y]);if(c&&c.defaultProps)for(y in h=c.defaultProps,h)g[y]===void 0&&(g[y]=h[y]);return{$$typeof:e,type:c,key:p,ref:v,props:g,_owner:i.current}}return uu.Fragment=t,uu.jsx=u,uu.jsxs=u,uu}var N2;function AT(){return N2||(N2=1,Sf.exports=ET()),Sf.exports}var _=AT(),ve=fh();const ph=dh(ve);var gc={},If={exports:{}},Rn={},kf={exports:{}},Rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function CT(){return O2||(O2=1,function(r){function e(re,G){var H=re.length;re.push(G);e:for(;0<H;){var B=H-1>>>1,V=re[B];if(0<i(V,G))re[B]=G,re[H]=V,H=B;else break e}}function t(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var G=re[0],H=re.pop();if(H!==G){re[0]=H;e:for(var B=0,V=re.length,z=V>>>1;B<z;){var ee=2*(B+1)-1,Z=re[ee],$=ee+1,Q=re[$];if(0>i(Z,H))$<V&&0>i(Q,Z)?(re[B]=Q,re[$]=H,B=$):(re[B]=Z,re[ee]=H,B=ee);else if($<V&&0>i(Q,H))re[B]=Q,re[$]=H,B=$;else break e}}return G}function i(re,G){var H=re.sortIndex-G.sortIndex;return H!==0?H:re.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();r.unstable_now=function(){return u.now()-c}}var h=[],f=[],y=1,g=null,p=3,v=!1,A=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(re){for(var G=t(f);G!==null;){if(G.callback===null)n(f);else if(G.startTime<=re)n(f),G.sortIndex=G.expirationTime,e(h,G);else break;G=t(f)}}function x(re){if(b=!1,L(re),!A)if(t(h)!==null)A=!0,se(j);else{var G=t(f);G!==null&&X(x,G.startTime-re)}}function j(re,G){A=!1,b&&(b=!1,E(w),w=-1),v=!0;var H=p;try{for(L(G),g=t(h);g!==null&&(!(g.expirationTime>G)||re&&!k());){var B=g.callback;if(typeof B=="function"){g.callback=null,p=g.priorityLevel;var V=B(g.expirationTime<=G);G=r.unstable_now(),typeof V=="function"?g.callback=V:g===t(h)&&n(h),L(G)}else n(h);g=t(h)}if(g!==null)var z=!0;else{var ee=t(f);ee!==null&&X(x,ee.startTime-G),z=!1}return z}finally{g=null,p=H,v=!1}}var q=!1,R=null,w=-1,D=5,I=-1;function k(){return!(r.unstable_now()-I<D)}function P(){if(R!==null){var re=r.unstable_now();I=re;var G=!0;try{G=R(!0,re)}finally{G?N():(q=!1,R=null)}}else q=!1}var N;if(typeof T=="function")N=function(){T(P)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=P,N=function(){J.postMessage(null)}}else N=function(){C(P,0)};function se(re){R=re,q||(q=!0,N())}function X(re,G){w=C(function(){re(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){A||v||(A=!0,se(j))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_getFirstCallbackNode=function(){return t(h)},r.unstable_next=function(re){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var H=p;p=G;try{return re()}finally{p=H}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,G){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var H=p;p=re;try{return G()}finally{p=H}},r.unstable_scheduleCallback=function(re,G,H){var B=r.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?B+H:B):H=B,re){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=H+V,re={id:y++,callback:G,priorityLevel:re,startTime:H,expirationTime:V,sortIndex:-1},H>B?(re.sortIndex=H,e(f,re),t(h)===null&&re===t(f)&&(b?(E(w),w=-1):b=!0,X(x,H-B))):(re.sortIndex=V,e(h,re),A||v||(A=!0,se(j))),re},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(re){var G=p;return function(){var H=p;p=G;try{return re.apply(this,arguments)}finally{p=H}}}}(Rf)),Rf}var L2;function bT(){return L2||(L2=1,kf.exports=CT()),kf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2;function TT(){if(F2)return Rn;F2=1;var r=fh(),e=bT();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)n.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function p(s){return h.call(g,s)?!0:h.call(y,s)?!1:f.test(s)?g[s]=!0:(y[s]=!0,!1)}function v(s,o,l,m){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,o,l,m){if(o===null||typeof o>"u"||v(s,o,l,m))return!0;if(m)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(s,o,l,m,S,F,U){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=S,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=F,this.removeEmptyString=U}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){C[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];C[o]=new b(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){C[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){C[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){C[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){C[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){C[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){C[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){C[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function T(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(E,T);C[o]=new b(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(E,T);C[o]=new b(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(E,T);C[o]=new b(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){C[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),C.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){C[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function L(s,o,l,m){var S=C.hasOwnProperty(o)?C[o]:null;(S!==null?S.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,l,S,m)&&(l=null),m||S===null?p(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):S.mustUseProperty?s[S.propertyName]=l===null?S.type===3?!1:"":l:(o=S.attributeName,m=S.attributeNamespace,l===null?s.removeAttribute(o):(S=S.type,l=S===3||S===4&&l===!0?"":""+l,m?s.setAttributeNS(m,o,l):s.setAttribute(o,l))))}var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),q=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),k=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),re=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var H=Object.assign,B;function V(s){if(B===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var z=!1;function ee(s,o){if(!s||z)return"";z=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(pe){var m=pe}Reflect.construct(s,[],o)}else{try{o.call()}catch(pe){m=pe}s.call(o.prototype)}else{try{throw Error()}catch(pe){m=pe}s()}}catch(pe){if(pe&&m&&typeof pe.stack=="string"){for(var S=pe.stack.split(`
`),F=m.stack.split(`
`),U=S.length-1,Y=F.length-1;1<=U&&0<=Y&&S[U]!==F[Y];)Y--;for(;1<=U&&0<=Y;U--,Y--)if(S[U]!==F[Y]){if(U!==1||Y!==1)do if(U--,Y--,0>Y||S[U]!==F[Y]){var ne=`
`+S[U].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=U&&0<=Y);break}}}finally{z=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?V(s):""}function Z(s){switch(s.tag){case 5:return V(s.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return s=ee(s.type,!1),s;case 11:return s=ee(s.type.render,!1),s;case 1:return s=ee(s.type,!0),s;default:return""}}function $(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case q:return"Portal";case D:return"Profiler";case w:return"StrictMode";case N:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case k:return(s.displayName||"Context")+".Consumer";case I:return(s._context.displayName||"Context")+".Provider";case P:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case J:return o=s.displayName||null,o!==null?o:$(s.type)||"Memo";case se:o=s._payload,s=s._init;try{return $(s(o))}catch{}}return null}function Q(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(o);case 8:return o===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ie(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function de(s){var o=ie(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),m=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var S=l.get,F=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return S.call(this)},set:function(U){m=""+U,F.call(this,U)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return m},setValue:function(U){m=""+U},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ge(s){s._valueTracker||(s._valueTracker=de(s))}function De(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),m="";return s&&(m=ie(s)?s.checked?"true":"false":s.value),s=m,s!==l?(o.setValue(s),!0):!1}function Ie(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ke(s,o){var l=o.checked;return H({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Re(s,o){var l=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;l=te(o.value!=null?o.value:l),s._wrapperState={initialChecked:m,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Be(s,o){o=o.checked,o!=null&&L(s,"checked",o,!1)}function tt(s,o){Be(s,o);var l=te(o.value),m=o.type;if(l!=null)m==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?fe(s,o.type,l):o.hasOwnProperty("defaultValue")&&fe(s,o.type,te(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function ce(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function fe(s,o,l){(o!=="number"||Ie(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Ee=Array.isArray;function xe(s,o,l,m){if(s=s.options,o){o={};for(var S=0;S<l.length;S++)o["$"+l[S]]=!0;for(l=0;l<s.length;l++)S=o.hasOwnProperty("$"+s[l].value),s[l].selected!==S&&(s[l].selected=S),S&&m&&(s[l].defaultSelected=!0)}else{for(l=""+te(l),o=null,S=0;S<s.length;S++){if(s[S].value===l){s[S].selected=!0,m&&(s[S].defaultSelected=!0);return}o!==null||s[S].disabled||(o=s[S])}o!==null&&(o.selected=!0)}}function ye(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return H({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function $e(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Ee(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:te(l)}}function je(s,o){var l=te(o.value),m=te(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),m!=null&&(s.defaultValue=""+m)}function Ve(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ge(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xe(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ge(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var et,nr=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,m,S){MSApp.execUnsafeLocalFunction(function(){return s(o,l,m,S)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(et=et||document.createElement("div"),et.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=et.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ht(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var bt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wt=["Webkit","ms","Moz","O"];Object.keys(bt).forEach(function(s){Wt.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),bt[o]=bt[s]})});function rr(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||bt.hasOwnProperty(s)&&bt[s]?(""+o).trim():o+"px"}function Ci(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var m=l.indexOf("--")===0,S=rr(l,o[l],m);l==="float"&&(l="cssFloat"),m?s.setProperty(l,S):s[l]=S}}var Ea=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Aa(s,o){if(o){if(Ea[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ca(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vs=null;function io(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var so=null,Hn=null,br=null;function oo(s){if(s=Wa(s)){if(typeof so!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Rl(o),so(s.stateNode,s.type,o))}}function Tr(s){Hn?br?br.push(s):br=[s]:Hn=s}function ba(){if(Hn){var s=Hn,o=br;if(br=Hn=null,oo(s),o)for(s=0;s<o.length;s++)oo(o[s])}}function _s(s,o){return s(o)}function Ta(){}var Wr=!1;function xa(s,o,l){if(Wr)return s(o,l);Wr=!0;try{return _s(s,o,l)}finally{Wr=!1,(Hn!==null||br!==null)&&(Ta(),ba())}}function Pt(s,o){var l=s.stateNode;if(l===null)return null;var m=Rl(l);if(m===null)return null;l=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var ao=!1;if(c)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){ao=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{ao=!1}function ws(s,o,l,m,S,F,U,Y,ne){var pe=Array.prototype.slice.call(arguments,3);try{o.apply(l,pe)}catch(Ce){this.onError(Ce)}}var Es=!1,uo=null,sr=!1,Sa=null,ed={onError:function(s){Es=!0,uo=s}};function lo(s,o,l,m,S,F,U,Y,ne){Es=!1,uo=null,ws.apply(ed,arguments)}function nl(s,o,l,m,S,F,U,Y,ne){if(lo.apply(this,arguments),Es){if(Es){var pe=uo;Es=!1,uo=null}else throw Error(t(198));sr||(sr=!0,Sa=pe)}}function or(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function As(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function ar(s){if(or(s)!==s)throw Error(t(188))}function rl(s){var o=s.alternate;if(!o){if(o=or(s),o===null)throw Error(t(188));return o!==s?null:s}for(var l=s,m=o;;){var S=l.return;if(S===null)break;var F=S.alternate;if(F===null){if(m=S.return,m!==null){l=m;continue}break}if(S.child===F.child){for(F=S.child;F;){if(F===l)return ar(S),s;if(F===m)return ar(S),o;F=F.sibling}throw Error(t(188))}if(l.return!==m.return)l=S,m=F;else{for(var U=!1,Y=S.child;Y;){if(Y===l){U=!0,l=S,m=F;break}if(Y===m){U=!0,m=S,l=F;break}Y=Y.sibling}if(!U){for(Y=F.child;Y;){if(Y===l){U=!0,l=F,m=S;break}if(Y===m){U=!0,m=F,l=S;break}Y=Y.sibling}if(!U)throw Error(t(189))}}if(l.alternate!==m)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:o}function Da(s){return s=rl(s),s!==null?co(s):null}function co(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=co(s);if(o!==null)return o;s=s.sibling}return null}var ho=e.unstable_scheduleCallback,Ia=e.unstable_cancelCallback,il=e.unstable_shouldYield,td=e.unstable_requestPaint,gt=e.unstable_now,sl=e.unstable_getCurrentPriorityLevel,Cs=e.unstable_ImmediatePriority,bi=e.unstable_UserBlockingPriority,$n=e.unstable_NormalPriority,ka=e.unstable_LowPriority,ol=e.unstable_IdlePriority,bs=null,On=null;function al(s){if(On&&typeof On.onCommitFiberRoot=="function")try{On.onCommitFiberRoot(bs,s,void 0,(s.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:ll,Ra=Math.log,ul=Math.LN2;function ll(s){return s>>>=0,s===0?32:31-(Ra(s)/ul|0)|0}var fo=64,po=4194304;function Ti(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ts(s,o){var l=s.pendingLanes;if(l===0)return 0;var m=0,S=s.suspendedLanes,F=s.pingedLanes,U=l&268435455;if(U!==0){var Y=U&~S;Y!==0?m=Ti(Y):(F&=U,F!==0&&(m=Ti(F)))}else U=l&~S,U!==0?m=Ti(U):F!==0&&(m=Ti(F));if(m===0)return 0;if(o!==0&&o!==m&&(o&S)===0&&(S=m&-m,F=o&-o,S>=F||S===16&&(F&4194240)!==0))return o;if((m&4)!==0&&(m|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=m;0<o;)l=31-mn(o),S=1<<l,m|=s[l],o&=~S;return m}function nd(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kr(s,o){for(var l=s.suspendedLanes,m=s.pingedLanes,S=s.expirationTimes,F=s.pendingLanes;0<F;){var U=31-mn(F),Y=1<<U,ne=S[U];ne===-1?((Y&l)===0||(Y&m)!==0)&&(S[U]=nd(Y,o)):ne<=o&&(s.expiredLanes|=Y),F&=~Y}}function Ln(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function xs(){var s=fo;return fo<<=1,(fo&4194240)===0&&(fo=64),s}function xi(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Si(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-mn(o),s[o]=l}function mt(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<l;){var S=31-mn(l),F=1<<S;o[S]=0,m[S]=-1,s[S]=-1,l&=~F}}function Di(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var m=31-mn(l),S=1<<m;S&o|s[m]&o&&(s[m]|=o),l&=~S}}var ot=0;function Ii(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var cl,mo,hl,dl,fl,Pa=!1,xr=[],Xt=null,ur=null,lr=null,ki=new Map,Gn=new Map,Sr=[],rd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pl(s,o){switch(s){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":ki.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gn.delete(o.pointerId)}}function bn(s,o,l,m,S,F){return s===null||s.nativeEvent!==F?(s={blockedOn:o,domEventName:l,eventSystemFlags:m,nativeEvent:F,targetContainers:[S]},o!==null&&(o=Wa(o),o!==null&&mo(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,S!==null&&o.indexOf(S)===-1&&o.push(S),s)}function id(s,o,l,m,S){switch(o){case"focusin":return Xt=bn(Xt,s,o,l,m,S),!0;case"dragenter":return ur=bn(ur,s,o,l,m,S),!0;case"mouseover":return lr=bn(lr,s,o,l,m,S),!0;case"pointerover":var F=S.pointerId;return ki.set(F,bn(ki.get(F)||null,s,o,l,m,S)),!0;case"gotpointercapture":return F=S.pointerId,Gn.set(F,bn(Gn.get(F)||null,s,o,l,m,S)),!0}return!1}function ml(s){var o=Rs(s.target);if(o!==null){var l=or(o);if(l!==null){if(o=l.tag,o===13){if(o=As(l),o!==null){s.blockedOn=o,fl(s.priority,function(){hl(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Jr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=go(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var m=new l.constructor(l.type,l);vs=m,l.target.dispatchEvent(m),vs=null}else return o=Wa(l),o!==null&&mo(o),s.blockedOn=l,!1;o.shift()}return!0}function Ss(s,o,l){Jr(s)&&l.delete(o)}function gl(){Pa=!1,Xt!==null&&Jr(Xt)&&(Xt=null),ur!==null&&Jr(ur)&&(ur=null),lr!==null&&Jr(lr)&&(lr=null),ki.forEach(Ss),Gn.forEach(Ss)}function cr(s,o){s.blockedOn===o&&(s.blockedOn=null,Pa||(Pa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gl)))}function hr(s){function o(S){return cr(S,s)}if(0<xr.length){cr(xr[0],s);for(var l=1;l<xr.length;l++){var m=xr[l];m.blockedOn===s&&(m.blockedOn=null)}}for(Xt!==null&&cr(Xt,s),ur!==null&&cr(ur,s),lr!==null&&cr(lr,s),ki.forEach(o),Gn.forEach(o),l=0;l<Sr.length;l++)m=Sr[l],m.blockedOn===s&&(m.blockedOn=null);for(;0<Sr.length&&(l=Sr[0],l.blockedOn===null);)ml(l),l.blockedOn===null&&Sr.shift()}var Qr=x.ReactCurrentBatchConfig,Ri=!0;function At(s,o,l,m){var S=ot,F=Qr.transition;Qr.transition=null;try{ot=1,Na(s,o,l,m)}finally{ot=S,Qr.transition=F}}function sd(s,o,l,m){var S=ot,F=Qr.transition;Qr.transition=null;try{ot=4,Na(s,o,l,m)}finally{ot=S,Qr.transition=F}}function Na(s,o,l,m){if(Ri){var S=go(s,o,l,m);if(S===null)gd(s,o,m,Ds,l),pl(s,m);else if(id(S,s,o,l,m))m.stopPropagation();else if(pl(s,m),o&4&&-1<rd.indexOf(s)){for(;S!==null;){var F=Wa(S);if(F!==null&&cl(F),F=go(s,o,l,m),F===null&&gd(s,o,m,Ds,l),F===S)break;S=F}S!==null&&m.stopPropagation()}else gd(s,o,m,null,l)}}var Ds=null;function go(s,o,l,m){if(Ds=null,s=io(m),s=Rs(s),s!==null)if(o=or(s),o===null)s=null;else if(l=o.tag,l===13){if(s=As(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ds=s,null}function Oa(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sl()){case Cs:return 1;case bi:return 4;case $n:case ka:return 16;case ol:return 536870912;default:return 16}default:return 16}}var Fn=null,yo=null,Tn=null;function La(){if(Tn)return Tn;var s,o=yo,l=o.length,m,S="value"in Fn?Fn.value:Fn.textContent,F=S.length;for(s=0;s<l&&o[s]===S[s];s++);var U=l-s;for(m=1;m<=U&&o[l-m]===S[F-m];m++);return Tn=S.slice(s,1<m?1-m:void 0)}function vo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Dr(){return!0}function Fa(){return!1}function en(s){function o(l,m,S,F,U){this._reactName=l,this._targetInst=S,this.type=m,this.nativeEvent=F,this.target=U,this.currentTarget=null;for(var Y in s)s.hasOwnProperty(Y)&&(l=s[Y],this[Y]=l?l(F):F[Y]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Dr:Fa,this.isPropagationStopped=Fa,this}return H(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),o}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=en(dr),Ir=H({},dr,{view:0,detail:0}),od=en(Ir),wo,Yr,Pi,Is=H({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Pi&&(Pi&&s.type==="mousemove"?(wo=s.screenX-Pi.screenX,Yr=s.screenY-Pi.screenY):Yr=wo=0,Pi=s),wo)},movementY:function(s){return"movementY"in s?s.movementY:Yr}}),Eo=en(Is),Ba=H({},Is,{dataTransfer:0}),yl=en(Ba),Ao=H({},Ir,{relatedTarget:0}),Co=en(Ao),vl=H({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zr=en(vl),_l=H({},dr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),wl=en(_l),El=H({},dr,{data:0}),ja=en(El),bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Al={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Al[s])?!!o[s]:!1}function kr(){return Cl}var d=H({},Ir,{key:function(s){if(s.key){var o=bo[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=vo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?gn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(s){return s.type==="keypress"?vo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?vo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),O=en(d),M=H({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K=en(M),ae=H({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),me=en(ae),Se=H({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=en(Se),Ut=H({},Is,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ut=en(Ut),Kt=[9,13,27,32],Ft=c&&"CompositionEvent"in window,Wn=null;c&&"documentMode"in document&&(Wn=document.documentMode);var Bn=c&&"TextEvent"in window&&!Wn,ks=c&&(!Ft||Wn&&8<Wn&&11>=Wn),To=" ",by=!1;function Ty(s,o){switch(s){case"keyup":return Kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xo=!1;function mb(s,o){switch(s){case"compositionend":return xy(o);case"keypress":return o.which!==32?null:(by=!0,To);case"textInput":return s=o.data,s===To&&by?null:s;default:return null}}function gb(s,o){if(xo)return s==="compositionend"||!Ft&&Ty(s,o)?(s=La(),Tn=yo=Fn=null,xo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ks&&o.locale!=="ko"?null:o.data;default:return null}}var yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!yb[s.type]:o==="textarea"}function Dy(s,o,l,m){Tr(m),o=Dl(o,"onChange"),0<o.length&&(l=new _o("onChange","change",null,l,m),s.push({event:l,listeners:o}))}var Ma=null,qa=null;function vb(s){Gy(s,0)}function bl(s){var o=Ro(s);if(De(o))return s}function _b(s,o){if(s==="change")return o}var Iy=!1;if(c){var ad;if(c){var ud="oninput"in document;if(!ud){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),ud=typeof ky.oninput=="function"}ad=ud}else ad=!1;Iy=ad&&(!document.documentMode||9<document.documentMode)}function Ry(){Ma&&(Ma.detachEvent("onpropertychange",Py),qa=Ma=null)}function Py(s){if(s.propertyName==="value"&&bl(qa)){var o=[];Dy(o,qa,s,io(s)),xa(vb,o)}}function wb(s,o,l){s==="focusin"?(Ry(),Ma=o,qa=l,Ma.attachEvent("onpropertychange",Py)):s==="focusout"&&Ry()}function Eb(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bl(qa)}function Ab(s,o){if(s==="click")return bl(o)}function Cb(s,o){if(s==="input"||s==="change")return bl(o)}function bb(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var fr=typeof Object.is=="function"?Object.is:bb;function Va(s,o){if(fr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),m=Object.keys(o);if(l.length!==m.length)return!1;for(m=0;m<l.length;m++){var S=l[m];if(!h.call(o,S)||!fr(s[S],o[S]))return!1}return!0}function Ny(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Oy(s,o){var l=Ny(s);s=0;for(var m;l;){if(l.nodeType===3){if(m=s+l.textContent.length,s<=o&&m>=o)return{node:l,offset:o-s};s=m}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ny(l)}}function Ly(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ly(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Fy(){for(var s=window,o=Ie();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Ie(s.document)}return o}function ld(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function Tb(s){var o=Fy(),l=s.focusedElem,m=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&Ly(l.ownerDocument.documentElement,l)){if(m!==null&&ld(l)){if(o=m.start,s=m.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var S=l.textContent.length,F=Math.min(m.start,S);m=m.end===void 0?F:Math.min(m.end,S),!s.extend&&F>m&&(S=m,m=F,F=S),S=Oy(l,F);var U=Oy(l,m);S&&U&&(s.rangeCount!==1||s.anchorNode!==S.node||s.anchorOffset!==S.offset||s.focusNode!==U.node||s.focusOffset!==U.offset)&&(o=o.createRange(),o.setStart(S.node,S.offset),s.removeAllRanges(),F>m?(s.addRange(o),s.extend(U.node,U.offset)):(o.setEnd(U.node,U.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var xb=c&&"documentMode"in document&&11>=document.documentMode,So=null,cd=null,Ua=null,hd=!1;function By(s,o,l){var m=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hd||So==null||So!==Ie(m)||(m=So,"selectionStart"in m&&ld(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ua&&Va(Ua,m)||(Ua=m,m=Dl(cd,"onSelect"),0<m.length&&(o=new _o("onSelect","select",null,o,l),s.push({event:o,listeners:m}),o.target=So)))}function Tl(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var Do={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionend:Tl("Transition","TransitionEnd")},dd={},jy={};c&&(jy=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function xl(s){if(dd[s])return dd[s];if(!Do[s])return s;var o=Do[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in jy)return dd[s]=o[l];return s}var My=xl("animationend"),qy=xl("animationiteration"),Vy=xl("animationstart"),Uy=xl("transitionend"),zy=new Map,Hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(s,o){zy.set(s,o),a(o,[s])}for(var fd=0;fd<Hy.length;fd++){var pd=Hy[fd],Sb=pd.toLowerCase(),Db=pd[0].toUpperCase()+pd.slice(1);Ni(Sb,"on"+Db)}Ni(My,"onAnimationEnd"),Ni(qy,"onAnimationIteration"),Ni(Vy,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(Uy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ib=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function $y(s,o,l){var m=s.type||"unknown-event";s.currentTarget=l,nl(m,o,void 0,s),s.currentTarget=null}function Gy(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var m=s[l],S=m.event;m=m.listeners;e:{var F=void 0;if(o)for(var U=m.length-1;0<=U;U--){var Y=m[U],ne=Y.instance,pe=Y.currentTarget;if(Y=Y.listener,ne!==F&&S.isPropagationStopped())break e;$y(S,Y,pe),F=ne}else for(U=0;U<m.length;U++){if(Y=m[U],ne=Y.instance,pe=Y.currentTarget,Y=Y.listener,ne!==F&&S.isPropagationStopped())break e;$y(S,Y,pe),F=ne}}}if(sr)throw s=Sa,sr=!1,Sa=null,s}function _t(s,o){var l=o[Ad];l===void 0&&(l=o[Ad]=new Set);var m=s+"__bubble";l.has(m)||(Wy(o,s,2,!1),l.add(m))}function md(s,o,l){var m=0;o&&(m|=4),Wy(l,s,m,o)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function Ha(s){if(!s[Sl]){s[Sl]=!0,n.forEach(function(l){l!=="selectionchange"&&(Ib.has(l)||md(l,!1,s),md(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Sl]||(o[Sl]=!0,md("selectionchange",!1,o))}}function Wy(s,o,l,m){switch(Oa(o)){case 1:var S=At;break;case 4:S=sd;break;default:S=Na}l=S.bind(null,o,l,s),S=void 0,!ao||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(S=!0),m?S!==void 0?s.addEventListener(o,l,{capture:!0,passive:S}):s.addEventListener(o,l,!0):S!==void 0?s.addEventListener(o,l,{passive:S}):s.addEventListener(o,l,!1)}function gd(s,o,l,m,S){var F=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var Y=m.stateNode.containerInfo;if(Y===S||Y.nodeType===8&&Y.parentNode===S)break;if(U===4)for(U=m.return;U!==null;){var ne=U.tag;if((ne===3||ne===4)&&(ne=U.stateNode.containerInfo,ne===S||ne.nodeType===8&&ne.parentNode===S))return;U=U.return}for(;Y!==null;){if(U=Rs(Y),U===null)return;if(ne=U.tag,ne===5||ne===6){m=F=U;continue e}Y=Y.parentNode}}m=m.return}xa(function(){var pe=F,Ce=io(l),be=[];e:{var Ae=zy.get(s);if(Ae!==void 0){var Pe=_o,Fe=s;switch(s){case"keypress":if(vo(l)===0)break e;case"keydown":case"keyup":Pe=O;break;case"focusin":Fe="focus",Pe=Co;break;case"focusout":Fe="blur",Pe=Co;break;case"beforeblur":case"afterblur":Pe=Co;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=yl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=me;break;case My:case qy:case Vy:Pe=Zr;break;case Uy:Pe=pt;break;case"scroll":Pe=od;break;case"wheel":Pe=ut;break;case"copy":case"cut":case"paste":Pe=wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=K}var Me=(o&4)!==0,Nt=!Me&&s==="scroll",ue=Me?Ae!==null?Ae+"Capture":null:Ae;Me=[];for(var oe=pe,he;oe!==null;){he=oe;var Te=he.stateNode;if(he.tag===5&&Te!==null&&(he=Te,ue!==null&&(Te=Pt(oe,ue),Te!=null&&Me.push($a(oe,Te,he)))),Nt)break;oe=oe.return}0<Me.length&&(Ae=new Pe(Ae,Fe,null,l,Ce),be.push({event:Ae,listeners:Me}))}}if((o&7)===0){e:{if(Ae=s==="mouseover"||s==="pointerover",Pe=s==="mouseout"||s==="pointerout",Ae&&l!==vs&&(Fe=l.relatedTarget||l.fromElement)&&(Rs(Fe)||Fe[Xr]))break e;if((Pe||Ae)&&(Ae=Ce.window===Ce?Ce:(Ae=Ce.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Pe?(Fe=l.relatedTarget||l.toElement,Pe=pe,Fe=Fe?Rs(Fe):null,Fe!==null&&(Nt=or(Fe),Fe!==Nt||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(Pe=null,Fe=pe),Pe!==Fe)){if(Me=Eo,Te="onMouseLeave",ue="onMouseEnter",oe="mouse",(s==="pointerout"||s==="pointerover")&&(Me=K,Te="onPointerLeave",ue="onPointerEnter",oe="pointer"),Nt=Pe==null?Ae:Ro(Pe),he=Fe==null?Ae:Ro(Fe),Ae=new Me(Te,oe+"leave",Pe,l,Ce),Ae.target=Nt,Ae.relatedTarget=he,Te=null,Rs(Ce)===pe&&(Me=new Me(ue,oe+"enter",Fe,l,Ce),Me.target=he,Me.relatedTarget=Nt,Te=Me),Nt=Te,Pe&&Fe)t:{for(Me=Pe,ue=Fe,oe=0,he=Me;he;he=Io(he))oe++;for(he=0,Te=ue;Te;Te=Io(Te))he++;for(;0<oe-he;)Me=Io(Me),oe--;for(;0<he-oe;)ue=Io(ue),he--;for(;oe--;){if(Me===ue||ue!==null&&Me===ue.alternate)break t;Me=Io(Me),ue=Io(ue)}Me=null}else Me=null;Pe!==null&&Ky(be,Ae,Pe,Me,!1),Fe!==null&&Nt!==null&&Ky(be,Nt,Fe,Me,!0)}}e:{if(Ae=pe?Ro(pe):window,Pe=Ae.nodeName&&Ae.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Ae.type==="file")var qe=_b;else if(Sy(Ae))if(Iy)qe=Cb;else{qe=Eb;var ze=wb}else(Pe=Ae.nodeName)&&Pe.toLowerCase()==="input"&&(Ae.type==="checkbox"||Ae.type==="radio")&&(qe=Ab);if(qe&&(qe=qe(s,pe))){Dy(be,qe,l,Ce);break e}ze&&ze(s,Ae,pe),s==="focusout"&&(ze=Ae._wrapperState)&&ze.controlled&&Ae.type==="number"&&fe(Ae,"number",Ae.value)}switch(ze=pe?Ro(pe):window,s){case"focusin":(Sy(ze)||ze.contentEditable==="true")&&(So=ze,cd=pe,Ua=null);break;case"focusout":Ua=cd=So=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,By(be,l,Ce);break;case"selectionchange":if(xb)break;case"keydown":case"keyup":By(be,l,Ce)}var He;if(Ft)e:{switch(s){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else xo?Ty(s,l)&&(Je="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Je="onCompositionStart");Je&&(ks&&l.locale!=="ko"&&(xo||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&xo&&(He=La()):(Fn=Ce,yo="value"in Fn?Fn.value:Fn.textContent,xo=!0)),ze=Dl(pe,Je),0<ze.length&&(Je=new ja(Je,s,null,l,Ce),be.push({event:Je,listeners:ze}),He?Je.data=He:(He=xy(l),He!==null&&(Je.data=He)))),(He=Bn?mb(s,l):gb(s,l))&&(pe=Dl(pe,"onBeforeInput"),0<pe.length&&(Ce=new ja("onBeforeInput","beforeinput",null,l,Ce),be.push({event:Ce,listeners:pe}),Ce.data=He))}Gy(be,o)})}function $a(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Dl(s,o){for(var l=o+"Capture",m=[];s!==null;){var S=s,F=S.stateNode;S.tag===5&&F!==null&&(S=F,F=Pt(s,l),F!=null&&m.unshift($a(s,F,S)),F=Pt(s,o),F!=null&&m.push($a(s,F,S))),s=s.return}return m}function Io(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ky(s,o,l,m,S){for(var F=o._reactName,U=[];l!==null&&l!==m;){var Y=l,ne=Y.alternate,pe=Y.stateNode;if(ne!==null&&ne===m)break;Y.tag===5&&pe!==null&&(Y=pe,S?(ne=Pt(l,F),ne!=null&&U.unshift($a(l,ne,Y))):S||(ne=Pt(l,F),ne!=null&&U.push($a(l,ne,Y)))),l=l.return}U.length!==0&&s.push({event:o,listeners:U})}var kb=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function Jy(s){return(typeof s=="string"?s:""+s).replace(kb,`
`).replace(Rb,"")}function Il(s,o,l){if(o=Jy(o),Jy(s)!==o&&l)throw Error(t(425))}function kl(){}var yd=null,vd=null;function _d(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var wd=typeof setTimeout=="function"?setTimeout:void 0,Pb=typeof clearTimeout=="function"?clearTimeout:void 0,Qy=typeof Promise=="function"?Promise:void 0,Nb=typeof queueMicrotask=="function"?queueMicrotask:typeof Qy<"u"?function(s){return Qy.resolve(null).then(s).catch(Ob)}:wd;function Ob(s){setTimeout(function(){throw s})}function Ed(s,o){var l=o,m=0;do{var S=l.nextSibling;if(s.removeChild(l),S&&S.nodeType===8)if(l=S.data,l==="/$"){if(m===0){s.removeChild(S),hr(o);return}m--}else l!=="$"&&l!=="$?"&&l!=="$!"||m++;l=S}while(l);hr(o)}function Oi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Yy(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var ko=Math.random().toString(36).slice(2),Rr="__reactFiber$"+ko,Ga="__reactProps$"+ko,Xr="__reactContainer$"+ko,Ad="__reactEvents$"+ko,Lb="__reactListeners$"+ko,Fb="__reactHandles$"+ko;function Rs(s){var o=s[Rr];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Xr]||l[Rr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=Yy(s);s!==null;){if(l=s[Rr])return l;s=Yy(s)}return o}s=l,l=s.parentNode}return null}function Wa(s){return s=s[Rr]||s[Xr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ro(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Rl(s){return s[Ga]||null}var Cd=[],Po=-1;function Li(s){return{current:s}}function wt(s){0>Po||(s.current=Cd[Po],Cd[Po]=null,Po--)}function yt(s,o){Po++,Cd[Po]=s.current,s.current=o}var Fi={},an=Li(Fi),xn=Li(!1),Ps=Fi;function No(s,o){var l=s.type.contextTypes;if(!l)return Fi;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var S={},F;for(F in l)S[F]=o[F];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=S),S}function Sn(s){return s=s.childContextTypes,s!=null}function Pl(){wt(xn),wt(an)}function Zy(s,o,l){if(an.current!==Fi)throw Error(t(168));yt(an,o),yt(xn,l)}function Xy(s,o,l){var m=s.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return l;m=m.getChildContext();for(var S in m)if(!(S in o))throw Error(t(108,Q(s)||"Unknown",S));return H({},l,m)}function Nl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Fi,Ps=an.current,yt(an,s),yt(xn,xn.current),!0}function ev(s,o,l){var m=s.stateNode;if(!m)throw Error(t(169));l?(s=Xy(s,o,Ps),m.__reactInternalMemoizedMergedChildContext=s,wt(xn),wt(an),yt(an,s)):wt(xn),yt(xn,l)}var ei=null,Ol=!1,bd=!1;function tv(s){ei===null?ei=[s]:ei.push(s)}function Bb(s){Ol=!0,tv(s)}function Bi(){if(!bd&&ei!==null){bd=!0;var s=0,o=ot;try{var l=ei;for(ot=1;s<l.length;s++){var m=l[s];do m=m(!0);while(m!==null)}ei=null,Ol=!1}catch(S){throw ei!==null&&(ei=ei.slice(s+1)),ho(Cs,Bi),S}finally{ot=o,bd=!1}}return null}var Oo=[],Lo=0,Ll=null,Fl=0,Kn=[],Jn=0,Ns=null,ti=1,ni="";function Os(s,o){Oo[Lo++]=Fl,Oo[Lo++]=Ll,Ll=s,Fl=o}function nv(s,o,l){Kn[Jn++]=ti,Kn[Jn++]=ni,Kn[Jn++]=Ns,Ns=s;var m=ti;s=ni;var S=32-mn(m)-1;m&=~(1<<S),l+=1;var F=32-mn(o)+S;if(30<F){var U=S-S%5;F=(m&(1<<U)-1).toString(32),m>>=U,S-=U,ti=1<<32-mn(o)+S|l<<S|m,ni=F+s}else ti=1<<F|l<<S|m,ni=s}function Td(s){s.return!==null&&(Os(s,1),nv(s,1,0))}function xd(s){for(;s===Ll;)Ll=Oo[--Lo],Oo[Lo]=null,Fl=Oo[--Lo],Oo[Lo]=null;for(;s===Ns;)Ns=Kn[--Jn],Kn[Jn]=null,ni=Kn[--Jn],Kn[Jn]=null,ti=Kn[--Jn],Kn[Jn]=null}var jn=null,Mn=null,Ct=!1,pr=null;function rv(s,o){var l=Xn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function iv(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,jn=s,Mn=Oi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,jn=s,Mn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Ns!==null?{id:ti,overflow:ni}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Xn(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,jn=s,Mn=null,!0):!1;default:return!1}}function Sd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Dd(s){if(Ct){var o=Mn;if(o){var l=o;if(!iv(s,o)){if(Sd(s))throw Error(t(418));o=Oi(l.nextSibling);var m=jn;o&&iv(s,o)?rv(m,l):(s.flags=s.flags&-4097|2,Ct=!1,jn=s)}}else{if(Sd(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ct=!1,jn=s}}}function sv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;jn=s}function Bl(s){if(s!==jn)return!1;if(!Ct)return sv(s),Ct=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!_d(s.type,s.memoizedProps)),o&&(o=Mn)){if(Sd(s))throw ov(),Error(t(418));for(;o;)rv(s,o),o=Oi(o.nextSibling)}if(sv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){Mn=Oi(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}Mn=null}}else Mn=jn?Oi(s.stateNode.nextSibling):null;return!0}function ov(){for(var s=Mn;s;)s=Oi(s.nextSibling)}function Fo(){Mn=jn=null,Ct=!1}function Id(s){pr===null?pr=[s]:pr.push(s)}var jb=x.ReactCurrentBatchConfig;function Ka(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var m=l.stateNode}if(!m)throw Error(t(147,s));var S=m,F=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===F?o.ref:(o=function(U){var Y=S.refs;U===null?delete Y[F]:Y[F]=U},o._stringRef=F,o)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function jl(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function av(s){var o=s._init;return o(s._payload)}function uv(s){function o(ue,oe){if(s){var he=ue.deletions;he===null?(ue.deletions=[oe],ue.flags|=16):he.push(oe)}}function l(ue,oe){if(!s)return null;for(;oe!==null;)o(ue,oe),oe=oe.sibling;return null}function m(ue,oe){for(ue=new Map;oe!==null;)oe.key!==null?ue.set(oe.key,oe):ue.set(oe.index,oe),oe=oe.sibling;return ue}function S(ue,oe){return ue=$i(ue,oe),ue.index=0,ue.sibling=null,ue}function F(ue,oe,he){return ue.index=he,s?(he=ue.alternate,he!==null?(he=he.index,he<oe?(ue.flags|=2,oe):he):(ue.flags|=2,oe)):(ue.flags|=1048576,oe)}function U(ue){return s&&ue.alternate===null&&(ue.flags|=2),ue}function Y(ue,oe,he,Te){return oe===null||oe.tag!==6?(oe=Ef(he,ue.mode,Te),oe.return=ue,oe):(oe=S(oe,he),oe.return=ue,oe)}function ne(ue,oe,he,Te){var qe=he.type;return qe===R?Ce(ue,oe,he.props.children,Te,he.key):oe!==null&&(oe.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===se&&av(qe)===oe.type)?(Te=S(oe,he.props),Te.ref=Ka(ue,oe,he),Te.return=ue,Te):(Te=uc(he.type,he.key,he.props,null,ue.mode,Te),Te.ref=Ka(ue,oe,he),Te.return=ue,Te)}function pe(ue,oe,he,Te){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==he.containerInfo||oe.stateNode.implementation!==he.implementation?(oe=Af(he,ue.mode,Te),oe.return=ue,oe):(oe=S(oe,he.children||[]),oe.return=ue,oe)}function Ce(ue,oe,he,Te,qe){return oe===null||oe.tag!==7?(oe=Us(he,ue.mode,Te,qe),oe.return=ue,oe):(oe=S(oe,he),oe.return=ue,oe)}function be(ue,oe,he){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=Ef(""+oe,ue.mode,he),oe.return=ue,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case j:return he=uc(oe.type,oe.key,oe.props,null,ue.mode,he),he.ref=Ka(ue,null,oe),he.return=ue,he;case q:return oe=Af(oe,ue.mode,he),oe.return=ue,oe;case se:var Te=oe._init;return be(ue,Te(oe._payload),he)}if(Ee(oe)||G(oe))return oe=Us(oe,ue.mode,he,null),oe.return=ue,oe;jl(ue,oe)}return null}function Ae(ue,oe,he,Te){var qe=oe!==null?oe.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return qe!==null?null:Y(ue,oe,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case j:return he.key===qe?ne(ue,oe,he,Te):null;case q:return he.key===qe?pe(ue,oe,he,Te):null;case se:return qe=he._init,Ae(ue,oe,qe(he._payload),Te)}if(Ee(he)||G(he))return qe!==null?null:Ce(ue,oe,he,Te,null);jl(ue,he)}return null}function Pe(ue,oe,he,Te,qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return ue=ue.get(he)||null,Y(oe,ue,""+Te,qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case j:return ue=ue.get(Te.key===null?he:Te.key)||null,ne(oe,ue,Te,qe);case q:return ue=ue.get(Te.key===null?he:Te.key)||null,pe(oe,ue,Te,qe);case se:var ze=Te._init;return Pe(ue,oe,he,ze(Te._payload),qe)}if(Ee(Te)||G(Te))return ue=ue.get(he)||null,Ce(oe,ue,Te,qe,null);jl(oe,Te)}return null}function Fe(ue,oe,he,Te){for(var qe=null,ze=null,He=oe,Je=oe=0,Yt=null;He!==null&&Je<he.length;Je++){He.index>Je?(Yt=He,He=null):Yt=He.sibling;var dt=Ae(ue,He,he[Je],Te);if(dt===null){He===null&&(He=Yt);break}s&&He&&dt.alternate===null&&o(ue,He),oe=F(dt,oe,Je),ze===null?qe=dt:ze.sibling=dt,ze=dt,He=Yt}if(Je===he.length)return l(ue,He),Ct&&Os(ue,Je),qe;if(He===null){for(;Je<he.length;Je++)He=be(ue,he[Je],Te),He!==null&&(oe=F(He,oe,Je),ze===null?qe=He:ze.sibling=He,ze=He);return Ct&&Os(ue,Je),qe}for(He=m(ue,He);Je<he.length;Je++)Yt=Pe(He,ue,Je,he[Je],Te),Yt!==null&&(s&&Yt.alternate!==null&&He.delete(Yt.key===null?Je:Yt.key),oe=F(Yt,oe,Je),ze===null?qe=Yt:ze.sibling=Yt,ze=Yt);return s&&He.forEach(function(Gi){return o(ue,Gi)}),Ct&&Os(ue,Je),qe}function Me(ue,oe,he,Te){var qe=G(he);if(typeof qe!="function")throw Error(t(150));if(he=qe.call(he),he==null)throw Error(t(151));for(var ze=qe=null,He=oe,Je=oe=0,Yt=null,dt=he.next();He!==null&&!dt.done;Je++,dt=he.next()){He.index>Je?(Yt=He,He=null):Yt=He.sibling;var Gi=Ae(ue,He,dt.value,Te);if(Gi===null){He===null&&(He=Yt);break}s&&He&&Gi.alternate===null&&o(ue,He),oe=F(Gi,oe,Je),ze===null?qe=Gi:ze.sibling=Gi,ze=Gi,He=Yt}if(dt.done)return l(ue,He),Ct&&Os(ue,Je),qe;if(He===null){for(;!dt.done;Je++,dt=he.next())dt=be(ue,dt.value,Te),dt!==null&&(oe=F(dt,oe,Je),ze===null?qe=dt:ze.sibling=dt,ze=dt);return Ct&&Os(ue,Je),qe}for(He=m(ue,He);!dt.done;Je++,dt=he.next())dt=Pe(He,ue,Je,dt.value,Te),dt!==null&&(s&&dt.alternate!==null&&He.delete(dt.key===null?Je:dt.key),oe=F(dt,oe,Je),ze===null?qe=dt:ze.sibling=dt,ze=dt);return s&&He.forEach(function(yT){return o(ue,yT)}),Ct&&Os(ue,Je),qe}function Nt(ue,oe,he,Te){if(typeof he=="object"&&he!==null&&he.type===R&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case j:e:{for(var qe=he.key,ze=oe;ze!==null;){if(ze.key===qe){if(qe=he.type,qe===R){if(ze.tag===7){l(ue,ze.sibling),oe=S(ze,he.props.children),oe.return=ue,ue=oe;break e}}else if(ze.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===se&&av(qe)===ze.type){l(ue,ze.sibling),oe=S(ze,he.props),oe.ref=Ka(ue,ze,he),oe.return=ue,ue=oe;break e}l(ue,ze);break}else o(ue,ze);ze=ze.sibling}he.type===R?(oe=Us(he.props.children,ue.mode,Te,he.key),oe.return=ue,ue=oe):(Te=uc(he.type,he.key,he.props,null,ue.mode,Te),Te.ref=Ka(ue,oe,he),Te.return=ue,ue=Te)}return U(ue);case q:e:{for(ze=he.key;oe!==null;){if(oe.key===ze)if(oe.tag===4&&oe.stateNode.containerInfo===he.containerInfo&&oe.stateNode.implementation===he.implementation){l(ue,oe.sibling),oe=S(oe,he.children||[]),oe.return=ue,ue=oe;break e}else{l(ue,oe);break}else o(ue,oe);oe=oe.sibling}oe=Af(he,ue.mode,Te),oe.return=ue,ue=oe}return U(ue);case se:return ze=he._init,Nt(ue,oe,ze(he._payload),Te)}if(Ee(he))return Fe(ue,oe,he,Te);if(G(he))return Me(ue,oe,he,Te);jl(ue,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,oe!==null&&oe.tag===6?(l(ue,oe.sibling),oe=S(oe,he),oe.return=ue,ue=oe):(l(ue,oe),oe=Ef(he,ue.mode,Te),oe.return=ue,ue=oe),U(ue)):l(ue,oe)}return Nt}var Bo=uv(!0),lv=uv(!1),Ml=Li(null),ql=null,jo=null,kd=null;function Rd(){kd=jo=ql=null}function Pd(s){var o=Ml.current;wt(Ml),s._currentValue=o}function Nd(s,o,l){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===l)break;s=s.return}}function Mo(s,o){ql=s,kd=jo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Dn=!0),s.firstContext=null)}function Qn(s){var o=s._currentValue;if(kd!==s)if(s={context:s,memoizedValue:o,next:null},jo===null){if(ql===null)throw Error(t(308));jo=s,ql.dependencies={lanes:0,firstContext:s}}else jo=jo.next=s;return o}var Ls=null;function Od(s){Ls===null?Ls=[s]:Ls.push(s)}function cv(s,o,l,m){var S=o.interleaved;return S===null?(l.next=l,Od(o)):(l.next=S.next,S.next=l),o.interleaved=l,ri(s,m)}function ri(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var ji=!1;function Ld(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ii(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Mi(s,o,l){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(ct&2)!==0){var S=m.pending;return S===null?o.next=o:(o.next=S.next,S.next=o),m.pending=o,ri(s,l)}return S=m.interleaved,S===null?(o.next=o,Od(m)):(o.next=S.next,S.next=o),m.interleaved=o,ri(s,l)}function Vl(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var m=o.lanes;m&=s.pendingLanes,l|=m,o.lanes=l,Di(s,l)}}function dv(s,o){var l=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,l===m)){var S=null,F=null;if(l=l.firstBaseUpdate,l!==null){do{var U={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};F===null?S=F=U:F=F.next=U,l=l.next}while(l!==null);F===null?S=F=o:F=F.next=o}else S=F=o;l={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:F,shared:m.shared,effects:m.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function Ul(s,o,l,m){var S=s.updateQueue;ji=!1;var F=S.firstBaseUpdate,U=S.lastBaseUpdate,Y=S.shared.pending;if(Y!==null){S.shared.pending=null;var ne=Y,pe=ne.next;ne.next=null,U===null?F=pe:U.next=pe,U=ne;var Ce=s.alternate;Ce!==null&&(Ce=Ce.updateQueue,Y=Ce.lastBaseUpdate,Y!==U&&(Y===null?Ce.firstBaseUpdate=pe:Y.next=pe,Ce.lastBaseUpdate=ne))}if(F!==null){var be=S.baseState;U=0,Ce=pe=ne=null,Y=F;do{var Ae=Y.lane,Pe=Y.eventTime;if((m&Ae)===Ae){Ce!==null&&(Ce=Ce.next={eventTime:Pe,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Fe=s,Me=Y;switch(Ae=o,Pe=l,Me.tag){case 1:if(Fe=Me.payload,typeof Fe=="function"){be=Fe.call(Pe,be,Ae);break e}be=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Me.payload,Ae=typeof Fe=="function"?Fe.call(Pe,be,Ae):Fe,Ae==null)break e;be=H({},be,Ae);break e;case 2:ji=!0}}Y.callback!==null&&Y.lane!==0&&(s.flags|=64,Ae=S.effects,Ae===null?S.effects=[Y]:Ae.push(Y))}else Pe={eventTime:Pe,lane:Ae,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ce===null?(pe=Ce=Pe,ne=be):Ce=Ce.next=Pe,U|=Ae;if(Y=Y.next,Y===null){if(Y=S.shared.pending,Y===null)break;Ae=Y,Y=Ae.next,Ae.next=null,S.lastBaseUpdate=Ae,S.shared.pending=null}}while(!0);if(Ce===null&&(ne=be),S.baseState=ne,S.firstBaseUpdate=pe,S.lastBaseUpdate=Ce,o=S.shared.interleaved,o!==null){S=o;do U|=S.lane,S=S.next;while(S!==o)}else F===null&&(S.shared.lanes=0);js|=U,s.lanes=U,s.memoizedState=be}}function fv(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var m=s[o],S=m.callback;if(S!==null){if(m.callback=null,m=l,typeof S!="function")throw Error(t(191,S));S.call(m)}}}var Ja={},Pr=Li(Ja),Qa=Li(Ja),Ya=Li(Ja);function Fs(s){if(s===Ja)throw Error(t(174));return s}function Fd(s,o){switch(yt(Ya,o),yt(Qa,s),yt(Pr,Ja),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Xe(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Xe(o,s)}wt(Pr),yt(Pr,o)}function qo(){wt(Pr),wt(Qa),wt(Ya)}function pv(s){Fs(Ya.current);var o=Fs(Pr.current),l=Xe(o,s.type);o!==l&&(yt(Qa,s),yt(Pr,l))}function Bd(s){Qa.current===s&&(wt(Pr),wt(Qa))}var Tt=Li(0);function zl(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var jd=[];function Md(){for(var s=0;s<jd.length;s++)jd[s]._workInProgressVersionPrimary=null;jd.length=0}var Hl=x.ReactCurrentDispatcher,qd=x.ReactCurrentBatchConfig,Bs=0,xt=null,zt=null,Jt=null,$l=!1,Za=!1,Xa=0,Mb=0;function un(){throw Error(t(321))}function Vd(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!fr(s[l],o[l]))return!1;return!0}function Ud(s,o,l,m,S,F){if(Bs=F,xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Hl.current=s===null||s.memoizedState===null?zb:Hb,s=l(m,S),Za){F=0;do{if(Za=!1,Xa=0,25<=F)throw Error(t(301));F+=1,Jt=zt=null,o.updateQueue=null,Hl.current=$b,s=l(m,S)}while(Za)}if(Hl.current=Kl,o=zt!==null&&zt.next!==null,Bs=0,Jt=zt=xt=null,$l=!1,o)throw Error(t(300));return s}function zd(){var s=Xa!==0;return Xa=0,s}function Nr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?xt.memoizedState=Jt=s:Jt=Jt.next=s,Jt}function Yn(){if(zt===null){var s=xt.alternate;s=s!==null?s.memoizedState:null}else s=zt.next;var o=Jt===null?xt.memoizedState:Jt.next;if(o!==null)Jt=o,zt=s;else{if(s===null)throw Error(t(310));zt=s,s={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Jt===null?xt.memoizedState=Jt=s:Jt=Jt.next=s}return Jt}function eu(s,o){return typeof o=="function"?o(s):o}function Hd(s){var o=Yn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var m=zt,S=m.baseQueue,F=l.pending;if(F!==null){if(S!==null){var U=S.next;S.next=F.next,F.next=U}m.baseQueue=S=F,l.pending=null}if(S!==null){F=S.next,m=m.baseState;var Y=U=null,ne=null,pe=F;do{var Ce=pe.lane;if((Bs&Ce)===Ce)ne!==null&&(ne=ne.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),m=pe.hasEagerState?pe.eagerState:s(m,pe.action);else{var be={lane:Ce,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};ne===null?(Y=ne=be,U=m):ne=ne.next=be,xt.lanes|=Ce,js|=Ce}pe=pe.next}while(pe!==null&&pe!==F);ne===null?U=m:ne.next=Y,fr(m,o.memoizedState)||(Dn=!0),o.memoizedState=m,o.baseState=U,o.baseQueue=ne,l.lastRenderedState=m}if(s=l.interleaved,s!==null){S=s;do F=S.lane,xt.lanes|=F,js|=F,S=S.next;while(S!==s)}else S===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function $d(s){var o=Yn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var m=l.dispatch,S=l.pending,F=o.memoizedState;if(S!==null){l.pending=null;var U=S=S.next;do F=s(F,U.action),U=U.next;while(U!==S);fr(F,o.memoizedState)||(Dn=!0),o.memoizedState=F,o.baseQueue===null&&(o.baseState=F),l.lastRenderedState=F}return[F,m]}function mv(){}function gv(s,o){var l=xt,m=Yn(),S=o(),F=!fr(m.memoizedState,S);if(F&&(m.memoizedState=S,Dn=!0),m=m.queue,Gd(_v.bind(null,l,m,s),[s]),m.getSnapshot!==o||F||Jt!==null&&Jt.memoizedState.tag&1){if(l.flags|=2048,tu(9,vv.bind(null,l,m,S,o),void 0,null),Qt===null)throw Error(t(349));(Bs&30)!==0||yv(l,o,S)}return S}function yv(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=xt.updateQueue,o===null?(o={lastEffect:null,stores:null},xt.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function vv(s,o,l,m){o.value=l,o.getSnapshot=m,wv(o)&&Ev(s)}function _v(s,o,l){return l(function(){wv(o)&&Ev(s)})}function wv(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!fr(s,l)}catch{return!0}}function Ev(s){var o=ri(s,1);o!==null&&vr(o,s,1,-1)}function Av(s){var o=Nr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:s},o.queue=s,s=s.dispatch=Ub.bind(null,xt,s),[o.memoizedState,s]}function tu(s,o,l,m){return s={tag:s,create:o,destroy:l,deps:m,next:null},o=xt.updateQueue,o===null?(o={lastEffect:null,stores:null},xt.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(m=l.next,l.next=s,s.next=m,o.lastEffect=s)),s}function Cv(){return Yn().memoizedState}function Gl(s,o,l,m){var S=Nr();xt.flags|=s,S.memoizedState=tu(1|o,l,void 0,m===void 0?null:m)}function Wl(s,o,l,m){var S=Yn();m=m===void 0?null:m;var F=void 0;if(zt!==null){var U=zt.memoizedState;if(F=U.destroy,m!==null&&Vd(m,U.deps)){S.memoizedState=tu(o,l,F,m);return}}xt.flags|=s,S.memoizedState=tu(1|o,l,F,m)}function bv(s,o){return Gl(8390656,8,s,o)}function Gd(s,o){return Wl(2048,8,s,o)}function Tv(s,o){return Wl(4,2,s,o)}function xv(s,o){return Wl(4,4,s,o)}function Sv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Dv(s,o,l){return l=l!=null?l.concat([s]):null,Wl(4,4,Sv.bind(null,o,s),l)}function Wd(){}function Iv(s,o){var l=Yn();o=o===void 0?null:o;var m=l.memoizedState;return m!==null&&o!==null&&Vd(o,m[1])?m[0]:(l.memoizedState=[s,o],s)}function kv(s,o){var l=Yn();o=o===void 0?null:o;var m=l.memoizedState;return m!==null&&o!==null&&Vd(o,m[1])?m[0]:(s=s(),l.memoizedState=[s,o],s)}function Rv(s,o,l){return(Bs&21)===0?(s.baseState&&(s.baseState=!1,Dn=!0),s.memoizedState=l):(fr(l,o)||(l=xs(),xt.lanes|=l,js|=l,s.baseState=!0),o)}function qb(s,o){var l=ot;ot=l!==0&&4>l?l:4,s(!0);var m=qd.transition;qd.transition={};try{s(!1),o()}finally{ot=l,qd.transition=m}}function Pv(){return Yn().memoizedState}function Vb(s,o,l){var m=zi(s);if(l={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null},Nv(s))Ov(o,l);else if(l=cv(s,o,l,m),l!==null){var S=vn();vr(l,s,m,S),Lv(l,o,m)}}function Ub(s,o,l){var m=zi(s),S={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null};if(Nv(s))Ov(o,S);else{var F=s.alternate;if(s.lanes===0&&(F===null||F.lanes===0)&&(F=o.lastRenderedReducer,F!==null))try{var U=o.lastRenderedState,Y=F(U,l);if(S.hasEagerState=!0,S.eagerState=Y,fr(Y,U)){var ne=o.interleaved;ne===null?(S.next=S,Od(o)):(S.next=ne.next,ne.next=S),o.interleaved=S;return}}catch{}finally{}l=cv(s,o,S,m),l!==null&&(S=vn(),vr(l,s,m,S),Lv(l,o,m))}}function Nv(s){var o=s.alternate;return s===xt||o!==null&&o===xt}function Ov(s,o){Za=$l=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Lv(s,o,l){if((l&4194240)!==0){var m=o.lanes;m&=s.pendingLanes,l|=m,o.lanes=l,Di(s,l)}}var Kl={readContext:Qn,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},zb={readContext:Qn,useCallback:function(s,o){return Nr().memoizedState=[s,o===void 0?null:o],s},useContext:Qn,useEffect:bv,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,Gl(4194308,4,Sv.bind(null,o,s),l)},useLayoutEffect:function(s,o){return Gl(4194308,4,s,o)},useInsertionEffect:function(s,o){return Gl(4,2,s,o)},useMemo:function(s,o){var l=Nr();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var m=Nr();return o=l!==void 0?l(o):o,m.memoizedState=m.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},m.queue=s,s=s.dispatch=Vb.bind(null,xt,s),[m.memoizedState,s]},useRef:function(s){var o=Nr();return s={current:s},o.memoizedState=s},useState:Av,useDebugValue:Wd,useDeferredValue:function(s){return Nr().memoizedState=s},useTransition:function(){var s=Av(!1),o=s[0];return s=qb.bind(null,s[1]),Nr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var m=xt,S=Nr();if(Ct){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Qt===null)throw Error(t(349));(Bs&30)!==0||yv(m,o,l)}S.memoizedState=l;var F={value:l,getSnapshot:o};return S.queue=F,bv(_v.bind(null,m,F,s),[s]),m.flags|=2048,tu(9,vv.bind(null,m,F,l,o),void 0,null),l},useId:function(){var s=Nr(),o=Qt.identifierPrefix;if(Ct){var l=ni,m=ti;l=(m&~(1<<32-mn(m)-1)).toString(32)+l,o=":"+o+"R"+l,l=Xa++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=Mb++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Hb={readContext:Qn,useCallback:Iv,useContext:Qn,useEffect:Gd,useImperativeHandle:Dv,useInsertionEffect:Tv,useLayoutEffect:xv,useMemo:kv,useReducer:Hd,useRef:Cv,useState:function(){return Hd(eu)},useDebugValue:Wd,useDeferredValue:function(s){var o=Yn();return Rv(o,zt.memoizedState,s)},useTransition:function(){var s=Hd(eu)[0],o=Yn().memoizedState;return[s,o]},useMutableSource:mv,useSyncExternalStore:gv,useId:Pv,unstable_isNewReconciler:!1},$b={readContext:Qn,useCallback:Iv,useContext:Qn,useEffect:Gd,useImperativeHandle:Dv,useInsertionEffect:Tv,useLayoutEffect:xv,useMemo:kv,useReducer:$d,useRef:Cv,useState:function(){return $d(eu)},useDebugValue:Wd,useDeferredValue:function(s){var o=Yn();return zt===null?o.memoizedState=s:Rv(o,zt.memoizedState,s)},useTransition:function(){var s=$d(eu)[0],o=Yn().memoizedState;return[s,o]},useMutableSource:mv,useSyncExternalStore:gv,useId:Pv,unstable_isNewReconciler:!1};function mr(s,o){if(s&&s.defaultProps){o=H({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function Kd(s,o,l,m){o=s.memoizedState,l=l(m,o),l=l==null?o:H({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Jl={isMounted:function(s){return(s=s._reactInternals)?or(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var m=vn(),S=zi(s),F=ii(m,S);F.payload=o,l!=null&&(F.callback=l),o=Mi(s,F,S),o!==null&&(vr(o,s,S,m),Vl(o,s,S))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var m=vn(),S=zi(s),F=ii(m,S);F.tag=1,F.payload=o,l!=null&&(F.callback=l),o=Mi(s,F,S),o!==null&&(vr(o,s,S,m),Vl(o,s,S))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=vn(),m=zi(s),S=ii(l,m);S.tag=2,o!=null&&(S.callback=o),o=Mi(s,S,m),o!==null&&(vr(o,s,m,l),Vl(o,s,m))}};function Fv(s,o,l,m,S,F,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,F,U):o.prototype&&o.prototype.isPureReactComponent?!Va(l,m)||!Va(S,F):!0}function Bv(s,o,l){var m=!1,S=Fi,F=o.contextType;return typeof F=="object"&&F!==null?F=Qn(F):(S=Sn(o)?Ps:an.current,m=o.contextTypes,F=(m=m!=null)?No(s,S):Fi),o=new o(l,F),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Jl,s.stateNode=o,o._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=S,s.__reactInternalMemoizedMaskedChildContext=F),o}function jv(s,o,l,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,m),o.state!==s&&Jl.enqueueReplaceState(o,o.state,null)}function Jd(s,o,l,m){var S=s.stateNode;S.props=l,S.state=s.memoizedState,S.refs={},Ld(s);var F=o.contextType;typeof F=="object"&&F!==null?S.context=Qn(F):(F=Sn(o)?Ps:an.current,S.context=No(s,F)),S.state=s.memoizedState,F=o.getDerivedStateFromProps,typeof F=="function"&&(Kd(s,o,F,l),S.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(o=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),o!==S.state&&Jl.enqueueReplaceState(S,S.state,null),Ul(s,l,S,m),S.state=s.memoizedState),typeof S.componentDidMount=="function"&&(s.flags|=4194308)}function Vo(s,o){try{var l="",m=o;do l+=Z(m),m=m.return;while(m);var S=l}catch(F){S=`
Error generating stack: `+F.message+`
`+F.stack}return{value:s,source:o,stack:S,digest:null}}function Qd(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function Yd(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var Gb=typeof WeakMap=="function"?WeakMap:Map;function Mv(s,o,l){l=ii(-1,l),l.tag=3,l.payload={element:null};var m=o.value;return l.callback=function(){nc||(nc=!0,ff=m),Yd(s,o)},l}function qv(s,o,l){l=ii(-1,l),l.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var S=o.value;l.payload=function(){return m(S)},l.callback=function(){Yd(s,o)}}var F=s.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(l.callback=function(){Yd(s,o),typeof m!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var U=o.stack;this.componentDidCatch(o.value,{componentStack:U!==null?U:""})}),l}function Vv(s,o,l){var m=s.pingCache;if(m===null){m=s.pingCache=new Gb;var S=new Set;m.set(o,S)}else S=m.get(o),S===void 0&&(S=new Set,m.set(o,S));S.has(l)||(S.add(l),s=oT.bind(null,s,o,l),o.then(s,s))}function Uv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function zv(s,o,l,m,S){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=ii(-1,1),o.tag=2,Mi(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=S,s)}var Wb=x.ReactCurrentOwner,Dn=!1;function yn(s,o,l,m){o.child=s===null?lv(o,null,l,m):Bo(o,s.child,l,m)}function Hv(s,o,l,m,S){l=l.render;var F=o.ref;return Mo(o,S),m=Ud(s,o,l,m,F,S),l=zd(),s!==null&&!Dn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~S,si(s,o,S)):(Ct&&l&&Td(o),o.flags|=1,yn(s,o,m,S),o.child)}function $v(s,o,l,m,S){if(s===null){var F=l.type;return typeof F=="function"&&!wf(F)&&F.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=F,Gv(s,o,F,m,S)):(s=uc(l.type,null,m,o,o.mode,S),s.ref=o.ref,s.return=o,o.child=s)}if(F=s.child,(s.lanes&S)===0){var U=F.memoizedProps;if(l=l.compare,l=l!==null?l:Va,l(U,m)&&s.ref===o.ref)return si(s,o,S)}return o.flags|=1,s=$i(F,m),s.ref=o.ref,s.return=o,o.child=s}function Gv(s,o,l,m,S){if(s!==null){var F=s.memoizedProps;if(Va(F,m)&&s.ref===o.ref)if(Dn=!1,o.pendingProps=m=F,(s.lanes&S)!==0)(s.flags&131072)!==0&&(Dn=!0);else return o.lanes=s.lanes,si(s,o,S)}return Zd(s,o,l,m,S)}function Wv(s,o,l){var m=o.pendingProps,S=m.children,F=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(zo,qn),qn|=l;else{if((l&1073741824)===0)return s=F!==null?F.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,yt(zo,qn),qn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=F!==null?F.baseLanes:l,yt(zo,qn),qn|=m}else F!==null?(m=F.baseLanes|l,o.memoizedState=null):m=l,yt(zo,qn),qn|=m;return yn(s,o,S,l),o.child}function Kv(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Zd(s,o,l,m,S){var F=Sn(l)?Ps:an.current;return F=No(o,F),Mo(o,S),l=Ud(s,o,l,m,F,S),m=zd(),s!==null&&!Dn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~S,si(s,o,S)):(Ct&&m&&Td(o),o.flags|=1,yn(s,o,l,S),o.child)}function Jv(s,o,l,m,S){if(Sn(l)){var F=!0;Nl(o)}else F=!1;if(Mo(o,S),o.stateNode===null)Yl(s,o),Bv(o,l,m),Jd(o,l,m,S),m=!0;else if(s===null){var U=o.stateNode,Y=o.memoizedProps;U.props=Y;var ne=U.context,pe=l.contextType;typeof pe=="object"&&pe!==null?pe=Qn(pe):(pe=Sn(l)?Ps:an.current,pe=No(o,pe));var Ce=l.getDerivedStateFromProps,be=typeof Ce=="function"||typeof U.getSnapshotBeforeUpdate=="function";be||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Y!==m||ne!==pe)&&jv(o,U,m,pe),ji=!1;var Ae=o.memoizedState;U.state=Ae,Ul(o,m,U,S),ne=o.memoizedState,Y!==m||Ae!==ne||xn.current||ji?(typeof Ce=="function"&&(Kd(o,l,Ce,m),ne=o.memoizedState),(Y=ji||Fv(o,l,Y,m,Ae,ne,pe))?(be||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(o.flags|=4194308)):(typeof U.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ne),U.props=m,U.state=ne,U.context=pe,m=Y):(typeof U.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{U=o.stateNode,hv(s,o),Y=o.memoizedProps,pe=o.type===o.elementType?Y:mr(o.type,Y),U.props=pe,be=o.pendingProps,Ae=U.context,ne=l.contextType,typeof ne=="object"&&ne!==null?ne=Qn(ne):(ne=Sn(l)?Ps:an.current,ne=No(o,ne));var Pe=l.getDerivedStateFromProps;(Ce=typeof Pe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Y!==be||Ae!==ne)&&jv(o,U,m,ne),ji=!1,Ae=o.memoizedState,U.state=Ae,Ul(o,m,U,S);var Fe=o.memoizedState;Y!==be||Ae!==Fe||xn.current||ji?(typeof Pe=="function"&&(Kd(o,l,Pe,m),Fe=o.memoizedState),(pe=ji||Fv(o,l,pe,m,Ae,Fe,ne)||!1)?(Ce||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(m,Fe,ne),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(m,Fe,ne)),typeof U.componentDidUpdate=="function"&&(o.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof U.componentDidUpdate!="function"||Y===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Fe),U.props=m,U.state=Fe,U.context=ne,m=pe):(typeof U.componentDidUpdate!="function"||Y===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=1024),m=!1)}return Xd(s,o,l,m,F,S)}function Xd(s,o,l,m,S,F){Kv(s,o);var U=(o.flags&128)!==0;if(!m&&!U)return S&&ev(o,l,!1),si(s,o,F);m=o.stateNode,Wb.current=o;var Y=U&&typeof l.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,s!==null&&U?(o.child=Bo(o,s.child,null,F),o.child=Bo(o,null,Y,F)):yn(s,o,Y,F),o.memoizedState=m.state,S&&ev(o,l,!0),o.child}function Qv(s){var o=s.stateNode;o.pendingContext?Zy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Zy(s,o.context,!1),Fd(s,o.containerInfo)}function Yv(s,o,l,m,S){return Fo(),Id(S),o.flags|=256,yn(s,o,l,m),o.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function tf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Zv(s,o,l){var m=o.pendingProps,S=Tt.current,F=!1,U=(o.flags&128)!==0,Y;if((Y=U)||(Y=s!==null&&s.memoizedState===null?!1:(S&2)!==0),Y?(F=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(S|=1),yt(Tt,S&1),s===null)return Dd(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(U=m.children,s=m.fallback,F?(m=o.mode,F=o.child,U={mode:"hidden",children:U},(m&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=U):F=lc(U,m,0,null),s=Us(s,m,l,null),F.return=o,s.return=o,F.sibling=s,o.child=F,o.child.memoizedState=tf(l),o.memoizedState=ef,s):nf(o,U));if(S=s.memoizedState,S!==null&&(Y=S.dehydrated,Y!==null))return Kb(s,o,U,m,Y,S,l);if(F){F=m.fallback,U=o.mode,S=s.child,Y=S.sibling;var ne={mode:"hidden",children:m.children};return(U&1)===0&&o.child!==S?(m=o.child,m.childLanes=0,m.pendingProps=ne,o.deletions=null):(m=$i(S,ne),m.subtreeFlags=S.subtreeFlags&14680064),Y!==null?F=$i(Y,F):(F=Us(F,U,l,null),F.flags|=2),F.return=o,m.return=o,m.sibling=F,o.child=m,m=F,F=o.child,U=s.child.memoizedState,U=U===null?tf(l):{baseLanes:U.baseLanes|l,cachePool:null,transitions:U.transitions},F.memoizedState=U,F.childLanes=s.childLanes&~l,o.memoizedState=ef,m}return F=s.child,s=F.sibling,m=$i(F,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=l),m.return=o,m.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=m,o.memoizedState=null,m}function nf(s,o){return o=lc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Ql(s,o,l,m){return m!==null&&Id(m),Bo(o,s.child,null,l),s=nf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Kb(s,o,l,m,S,F,U){if(l)return o.flags&256?(o.flags&=-257,m=Qd(Error(t(422))),Ql(s,o,U,m)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(F=m.fallback,S=o.mode,m=lc({mode:"visible",children:m.children},S,0,null),F=Us(F,S,U,null),F.flags|=2,m.return=o,F.return=o,m.sibling=F,o.child=m,(o.mode&1)!==0&&Bo(o,s.child,null,U),o.child.memoizedState=tf(U),o.memoizedState=ef,F);if((o.mode&1)===0)return Ql(s,o,U,null);if(S.data==="$!"){if(m=S.nextSibling&&S.nextSibling.dataset,m)var Y=m.dgst;return m=Y,F=Error(t(419)),m=Qd(F,m,void 0),Ql(s,o,U,m)}if(Y=(U&s.childLanes)!==0,Dn||Y){if(m=Qt,m!==null){switch(U&-U){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(m.suspendedLanes|U))!==0?0:S,S!==0&&S!==F.retryLane&&(F.retryLane=S,ri(s,S),vr(m,s,S,-1))}return _f(),m=Qd(Error(t(421))),Ql(s,o,U,m)}return S.data==="$?"?(o.flags|=128,o.child=s.child,o=aT.bind(null,s),S._reactRetry=o,null):(s=F.treeContext,Mn=Oi(S.nextSibling),jn=o,Ct=!0,pr=null,s!==null&&(Kn[Jn++]=ti,Kn[Jn++]=ni,Kn[Jn++]=Ns,ti=s.id,ni=s.overflow,Ns=o),o=nf(o,m.children),o.flags|=4096,o)}function Xv(s,o,l){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),Nd(s.return,o,l)}function rf(s,o,l,m,S){var F=s.memoizedState;F===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:l,tailMode:S}:(F.isBackwards=o,F.rendering=null,F.renderingStartTime=0,F.last=m,F.tail=l,F.tailMode=S)}function e2(s,o,l){var m=o.pendingProps,S=m.revealOrder,F=m.tail;if(yn(s,o,m.children,l),m=Tt.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Xv(s,l,o);else if(s.tag===19)Xv(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(yt(Tt,m),(o.mode&1)===0)o.memoizedState=null;else switch(S){case"forwards":for(l=o.child,S=null;l!==null;)s=l.alternate,s!==null&&zl(s)===null&&(S=l),l=l.sibling;l=S,l===null?(S=o.child,o.child=null):(S=l.sibling,l.sibling=null),rf(o,!1,S,l,F);break;case"backwards":for(l=null,S=o.child,o.child=null;S!==null;){if(s=S.alternate,s!==null&&zl(s)===null){o.child=S;break}s=S.sibling,S.sibling=l,l=S,S=s}rf(o,!0,l,null,F);break;case"together":rf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Yl(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function si(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),js|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,l=$i(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=$i(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function Jb(s,o,l){switch(o.tag){case 3:Qv(o),Fo();break;case 5:pv(o);break;case 1:Sn(o.type)&&Nl(o);break;case 4:Fd(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,S=o.memoizedProps.value;yt(Ml,m._currentValue),m._currentValue=S;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(yt(Tt,Tt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Zv(s,o,l):(yt(Tt,Tt.current&1),s=si(s,o,l),s!==null?s.sibling:null);yt(Tt,Tt.current&1);break;case 19:if(m=(l&o.childLanes)!==0,(s.flags&128)!==0){if(m)return e2(s,o,l);o.flags|=128}if(S=o.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),yt(Tt,Tt.current),m)break;return null;case 22:case 23:return o.lanes=0,Wv(s,o,l)}return si(s,o,l)}var t2,sf,n2,r2;t2=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},sf=function(){},n2=function(s,o,l,m){var S=s.memoizedProps;if(S!==m){s=o.stateNode,Fs(Pr.current);var F=null;switch(l){case"input":S=ke(s,S),m=ke(s,m),F=[];break;case"select":S=H({},S,{value:void 0}),m=H({},m,{value:void 0}),F=[];break;case"textarea":S=ye(s,S),m=ye(s,m),F=[];break;default:typeof S.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=kl)}Aa(l,m);var U;l=null;for(pe in S)if(!m.hasOwnProperty(pe)&&S.hasOwnProperty(pe)&&S[pe]!=null)if(pe==="style"){var Y=S[pe];for(U in Y)Y.hasOwnProperty(U)&&(l||(l={}),l[U]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(i.hasOwnProperty(pe)?F||(F=[]):(F=F||[]).push(pe,null));for(pe in m){var ne=m[pe];if(Y=S!=null?S[pe]:void 0,m.hasOwnProperty(pe)&&ne!==Y&&(ne!=null||Y!=null))if(pe==="style")if(Y){for(U in Y)!Y.hasOwnProperty(U)||ne&&ne.hasOwnProperty(U)||(l||(l={}),l[U]="");for(U in ne)ne.hasOwnProperty(U)&&Y[U]!==ne[U]&&(l||(l={}),l[U]=ne[U])}else l||(F||(F=[]),F.push(pe,l)),l=ne;else pe==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,Y=Y?Y.__html:void 0,ne!=null&&Y!==ne&&(F=F||[]).push(pe,ne)):pe==="children"?typeof ne!="string"&&typeof ne!="number"||(F=F||[]).push(pe,""+ne):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(pe)?(ne!=null&&pe==="onScroll"&&_t("scroll",s),F||Y===ne||(F=[])):(F=F||[]).push(pe,ne))}l&&(F=F||[]).push("style",l);var pe=F;(o.updateQueue=pe)&&(o.flags|=4)}},r2=function(s,o,l,m){l!==m&&(o.flags|=4)};function nu(s,o){if(!Ct)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function ln(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,m=0;if(o)for(var S=s.child;S!==null;)l|=S.lanes|S.childLanes,m|=S.subtreeFlags&14680064,m|=S.flags&14680064,S.return=s,S=S.sibling;else for(S=s.child;S!==null;)l|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=s,S=S.sibling;return s.subtreeFlags|=m,s.childLanes=l,o}function Qb(s,o,l){var m=o.pendingProps;switch(xd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(o),null;case 1:return Sn(o.type)&&Pl(),ln(o),null;case 3:return m=o.stateNode,qo(),wt(xn),wt(an),Md(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Bl(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,pr!==null&&(gf(pr),pr=null))),sf(s,o),ln(o),null;case 5:Bd(o);var S=Fs(Ya.current);if(l=o.type,s!==null&&o.stateNode!=null)n2(s,o,l,m,S),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(t(166));return ln(o),null}if(s=Fs(Pr.current),Bl(o)){m=o.stateNode,l=o.type;var F=o.memoizedProps;switch(m[Rr]=o,m[Ga]=F,s=(o.mode&1)!==0,l){case"dialog":_t("cancel",m),_t("close",m);break;case"iframe":case"object":case"embed":_t("load",m);break;case"video":case"audio":for(S=0;S<za.length;S++)_t(za[S],m);break;case"source":_t("error",m);break;case"img":case"image":case"link":_t("error",m),_t("load",m);break;case"details":_t("toggle",m);break;case"input":Re(m,F),_t("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!F.multiple},_t("invalid",m);break;case"textarea":$e(m,F),_t("invalid",m)}Aa(l,F),S=null;for(var U in F)if(F.hasOwnProperty(U)){var Y=F[U];U==="children"?typeof Y=="string"?m.textContent!==Y&&(F.suppressHydrationWarning!==!0&&Il(m.textContent,Y,s),S=["children",Y]):typeof Y=="number"&&m.textContent!==""+Y&&(F.suppressHydrationWarning!==!0&&Il(m.textContent,Y,s),S=["children",""+Y]):i.hasOwnProperty(U)&&Y!=null&&U==="onScroll"&&_t("scroll",m)}switch(l){case"input":ge(m),ce(m,F,!0);break;case"textarea":ge(m),Ve(m);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(m.onclick=kl)}m=S,o.updateQueue=m,m!==null&&(o.flags|=4)}else{U=S.nodeType===9?S:S.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ge(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=U.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=U.createElement(l,{is:m.is}):(s=U.createElement(l),l==="select"&&(U=s,m.multiple?U.multiple=!0:m.size&&(U.size=m.size))):s=U.createElementNS(s,l),s[Rr]=o,s[Ga]=m,t2(s,o,!1,!1),o.stateNode=s;e:{switch(U=Ca(l,m),l){case"dialog":_t("cancel",s),_t("close",s),S=m;break;case"iframe":case"object":case"embed":_t("load",s),S=m;break;case"video":case"audio":for(S=0;S<za.length;S++)_t(za[S],s);S=m;break;case"source":_t("error",s),S=m;break;case"img":case"image":case"link":_t("error",s),_t("load",s),S=m;break;case"details":_t("toggle",s),S=m;break;case"input":Re(s,m),S=ke(s,m),_t("invalid",s);break;case"option":S=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},S=H({},m,{value:void 0}),_t("invalid",s);break;case"textarea":$e(s,m),S=ye(s,m),_t("invalid",s);break;default:S=m}Aa(l,S),Y=S;for(F in Y)if(Y.hasOwnProperty(F)){var ne=Y[F];F==="style"?Ci(s,ne):F==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&nr(s,ne)):F==="children"?typeof ne=="string"?(l!=="textarea"||ne!=="")&&ht(s,ne):typeof ne=="number"&&ht(s,""+ne):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?ne!=null&&F==="onScroll"&&_t("scroll",s):ne!=null&&L(s,F,ne,U))}switch(l){case"input":ge(s),ce(s,m,!1);break;case"textarea":ge(s),Ve(s);break;case"option":m.value!=null&&s.setAttribute("value",""+te(m.value));break;case"select":s.multiple=!!m.multiple,F=m.value,F!=null?xe(s,!!m.multiple,F,!1):m.defaultValue!=null&&xe(s,!!m.multiple,m.defaultValue,!0);break;default:typeof S.onClick=="function"&&(s.onclick=kl)}switch(l){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return ln(o),null;case 6:if(s&&o.stateNode!=null)r2(s,o,s.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(t(166));if(l=Fs(Ya.current),Fs(Pr.current),Bl(o)){if(m=o.stateNode,l=o.memoizedProps,m[Rr]=o,(F=m.nodeValue!==l)&&(s=jn,s!==null))switch(s.tag){case 3:Il(m.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Il(m.nodeValue,l,(s.mode&1)!==0)}F&&(o.flags|=4)}else m=(l.nodeType===9?l:l.ownerDocument).createTextNode(m),m[Rr]=o,o.stateNode=m}return ln(o),null;case 13:if(wt(Tt),m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ct&&Mn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)ov(),Fo(),o.flags|=98560,F=!1;else if(F=Bl(o),m!==null&&m.dehydrated!==null){if(s===null){if(!F)throw Error(t(318));if(F=o.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(t(317));F[Rr]=o}else Fo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ln(o),F=!1}else pr!==null&&(gf(pr),pr=null),F=!0;if(!F)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Tt.current&1)!==0?Ht===0&&(Ht=3):_f())),o.updateQueue!==null&&(o.flags|=4),ln(o),null);case 4:return qo(),sf(s,o),s===null&&Ha(o.stateNode.containerInfo),ln(o),null;case 10:return Pd(o.type._context),ln(o),null;case 17:return Sn(o.type)&&Pl(),ln(o),null;case 19:if(wt(Tt),F=o.memoizedState,F===null)return ln(o),null;if(m=(o.flags&128)!==0,U=F.rendering,U===null)if(m)nu(F,!1);else{if(Ht!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(U=zl(s),U!==null){for(o.flags|=128,nu(F,!1),m=U.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=l,l=o.child;l!==null;)F=l,s=m,F.flags&=14680066,U=F.alternate,U===null?(F.childLanes=0,F.lanes=s,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=U.childLanes,F.lanes=U.lanes,F.child=U.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=U.memoizedProps,F.memoizedState=U.memoizedState,F.updateQueue=U.updateQueue,F.type=U.type,s=U.dependencies,F.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return yt(Tt,Tt.current&1|2),o.child}s=s.sibling}F.tail!==null&&gt()>Ho&&(o.flags|=128,m=!0,nu(F,!1),o.lanes=4194304)}else{if(!m)if(s=zl(U),s!==null){if(o.flags|=128,m=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),nu(F,!0),F.tail===null&&F.tailMode==="hidden"&&!U.alternate&&!Ct)return ln(o),null}else 2*gt()-F.renderingStartTime>Ho&&l!==1073741824&&(o.flags|=128,m=!0,nu(F,!1),o.lanes=4194304);F.isBackwards?(U.sibling=o.child,o.child=U):(l=F.last,l!==null?l.sibling=U:o.child=U,F.last=U)}return F.tail!==null?(o=F.tail,F.rendering=o,F.tail=o.sibling,F.renderingStartTime=gt(),o.sibling=null,l=Tt.current,yt(Tt,m?l&1|2:l&1),o):(ln(o),null);case 22:case 23:return vf(),m=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(qn&1073741824)!==0&&(ln(o),o.subtreeFlags&6&&(o.flags|=8192)):ln(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Yb(s,o){switch(xd(o),o.tag){case 1:return Sn(o.type)&&Pl(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return qo(),wt(xn),wt(an),Md(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Bd(o),null;case 13:if(wt(Tt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Fo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return wt(Tt),null;case 4:return qo(),null;case 10:return Pd(o.type._context),null;case 22:case 23:return vf(),null;case 24:return null;default:return null}}var Zl=!1,cn=!1,Zb=typeof WeakSet=="function"?WeakSet:Set,Le=null;function Uo(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(m){It(s,o,m)}else l.current=null}function of(s,o,l){try{l()}catch(m){It(s,o,m)}}var i2=!1;function Xb(s,o){if(yd=Ri,s=Fy(),ld(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var m=l.getSelection&&l.getSelection();if(m&&m.rangeCount!==0){l=m.anchorNode;var S=m.anchorOffset,F=m.focusNode;m=m.focusOffset;try{l.nodeType,F.nodeType}catch{l=null;break e}var U=0,Y=-1,ne=-1,pe=0,Ce=0,be=s,Ae=null;t:for(;;){for(var Pe;be!==l||S!==0&&be.nodeType!==3||(Y=U+S),be!==F||m!==0&&be.nodeType!==3||(ne=U+m),be.nodeType===3&&(U+=be.nodeValue.length),(Pe=be.firstChild)!==null;)Ae=be,be=Pe;for(;;){if(be===s)break t;if(Ae===l&&++pe===S&&(Y=U),Ae===F&&++Ce===m&&(ne=U),(Pe=be.nextSibling)!==null)break;be=Ae,Ae=be.parentNode}be=Pe}l=Y===-1||ne===-1?null:{start:Y,end:ne}}else l=null}l=l||{start:0,end:0}}else l=null;for(vd={focusedElem:s,selectionRange:l},Ri=!1,Le=o;Le!==null;)if(o=Le,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Le=s;else for(;Le!==null;){o=Le;try{var Fe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var Me=Fe.memoizedProps,Nt=Fe.memoizedState,ue=o.stateNode,oe=ue.getSnapshotBeforeUpdate(o.elementType===o.type?Me:mr(o.type,Me),Nt);ue.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var he=o.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Te){It(o,o.return,Te)}if(s=o.sibling,s!==null){s.return=o.return,Le=s;break}Le=o.return}return Fe=i2,i2=!1,Fe}function ru(s,o,l){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var S=m=m.next;do{if((S.tag&s)===s){var F=S.destroy;S.destroy=void 0,F!==void 0&&of(o,l,F)}S=S.next}while(S!==m)}}function Xl(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var m=l.create;l.destroy=m()}l=l.next}while(l!==o)}}function af(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function s2(s){var o=s.alternate;o!==null&&(s.alternate=null,s2(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Rr],delete o[Ga],delete o[Ad],delete o[Lb],delete o[Fb])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function o2(s){return s.tag===5||s.tag===3||s.tag===4}function a2(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||o2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function uf(s,o,l){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=kl));else if(m!==4&&(s=s.child,s!==null))for(uf(s,o,l),s=s.sibling;s!==null;)uf(s,o,l),s=s.sibling}function lf(s,o,l){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(lf(s,o,l),s=s.sibling;s!==null;)lf(s,o,l),s=s.sibling}var tn=null,gr=!1;function qi(s,o,l){for(l=l.child;l!==null;)u2(s,o,l),l=l.sibling}function u2(s,o,l){if(On&&typeof On.onCommitFiberUnmount=="function")try{On.onCommitFiberUnmount(bs,l)}catch{}switch(l.tag){case 5:cn||Uo(l,o);case 6:var m=tn,S=gr;tn=null,qi(s,o,l),tn=m,gr=S,tn!==null&&(gr?(s=tn,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):tn.removeChild(l.stateNode));break;case 18:tn!==null&&(gr?(s=tn,l=l.stateNode,s.nodeType===8?Ed(s.parentNode,l):s.nodeType===1&&Ed(s,l),hr(s)):Ed(tn,l.stateNode));break;case 4:m=tn,S=gr,tn=l.stateNode.containerInfo,gr=!0,qi(s,o,l),tn=m,gr=S;break;case 0:case 11:case 14:case 15:if(!cn&&(m=l.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){S=m=m.next;do{var F=S,U=F.destroy;F=F.tag,U!==void 0&&((F&2)!==0||(F&4)!==0)&&of(l,o,U),S=S.next}while(S!==m)}qi(s,o,l);break;case 1:if(!cn&&(Uo(l,o),m=l.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=l.memoizedProps,m.state=l.memoizedState,m.componentWillUnmount()}catch(Y){It(l,o,Y)}qi(s,o,l);break;case 21:qi(s,o,l);break;case 22:l.mode&1?(cn=(m=cn)||l.memoizedState!==null,qi(s,o,l),cn=m):qi(s,o,l);break;default:qi(s,o,l)}}function l2(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new Zb),o.forEach(function(m){var S=uT.bind(null,s,m);l.has(m)||(l.add(m),m.then(S,S))})}}function yr(s,o){var l=o.deletions;if(l!==null)for(var m=0;m<l.length;m++){var S=l[m];try{var F=s,U=o,Y=U;e:for(;Y!==null;){switch(Y.tag){case 5:tn=Y.stateNode,gr=!1;break e;case 3:tn=Y.stateNode.containerInfo,gr=!0;break e;case 4:tn=Y.stateNode.containerInfo,gr=!0;break e}Y=Y.return}if(tn===null)throw Error(t(160));u2(F,U,S),tn=null,gr=!1;var ne=S.alternate;ne!==null&&(ne.return=null),S.return=null}catch(pe){It(S,o,pe)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)c2(o,s),o=o.sibling}function c2(s,o){var l=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(yr(o,s),Or(s),m&4){try{ru(3,s,s.return),Xl(3,s)}catch(Me){It(s,s.return,Me)}try{ru(5,s,s.return)}catch(Me){It(s,s.return,Me)}}break;case 1:yr(o,s),Or(s),m&512&&l!==null&&Uo(l,l.return);break;case 5:if(yr(o,s),Or(s),m&512&&l!==null&&Uo(l,l.return),s.flags&32){var S=s.stateNode;try{ht(S,"")}catch(Me){It(s,s.return,Me)}}if(m&4&&(S=s.stateNode,S!=null)){var F=s.memoizedProps,U=l!==null?l.memoizedProps:F,Y=s.type,ne=s.updateQueue;if(s.updateQueue=null,ne!==null)try{Y==="input"&&F.type==="radio"&&F.name!=null&&Be(S,F),Ca(Y,U);var pe=Ca(Y,F);for(U=0;U<ne.length;U+=2){var Ce=ne[U],be=ne[U+1];Ce==="style"?Ci(S,be):Ce==="dangerouslySetInnerHTML"?nr(S,be):Ce==="children"?ht(S,be):L(S,Ce,be,pe)}switch(Y){case"input":tt(S,F);break;case"textarea":je(S,F);break;case"select":var Ae=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!F.multiple;var Pe=F.value;Pe!=null?xe(S,!!F.multiple,Pe,!1):Ae!==!!F.multiple&&(F.defaultValue!=null?xe(S,!!F.multiple,F.defaultValue,!0):xe(S,!!F.multiple,F.multiple?[]:"",!1))}S[Ga]=F}catch(Me){It(s,s.return,Me)}}break;case 6:if(yr(o,s),Or(s),m&4){if(s.stateNode===null)throw Error(t(162));S=s.stateNode,F=s.memoizedProps;try{S.nodeValue=F}catch(Me){It(s,s.return,Me)}}break;case 3:if(yr(o,s),Or(s),m&4&&l!==null&&l.memoizedState.isDehydrated)try{hr(o.containerInfo)}catch(Me){It(s,s.return,Me)}break;case 4:yr(o,s),Or(s);break;case 13:yr(o,s),Or(s),S=s.child,S.flags&8192&&(F=S.memoizedState!==null,S.stateNode.isHidden=F,!F||S.alternate!==null&&S.alternate.memoizedState!==null||(df=gt())),m&4&&l2(s);break;case 22:if(Ce=l!==null&&l.memoizedState!==null,s.mode&1?(cn=(pe=cn)||Ce,yr(o,s),cn=pe):yr(o,s),Or(s),m&8192){if(pe=s.memoizedState!==null,(s.stateNode.isHidden=pe)&&!Ce&&(s.mode&1)!==0)for(Le=s,Ce=s.child;Ce!==null;){for(be=Le=Ce;Le!==null;){switch(Ae=Le,Pe=Ae.child,Ae.tag){case 0:case 11:case 14:case 15:ru(4,Ae,Ae.return);break;case 1:Uo(Ae,Ae.return);var Fe=Ae.stateNode;if(typeof Fe.componentWillUnmount=="function"){m=Ae,l=Ae.return;try{o=m,Fe.props=o.memoizedProps,Fe.state=o.memoizedState,Fe.componentWillUnmount()}catch(Me){It(m,l,Me)}}break;case 5:Uo(Ae,Ae.return);break;case 22:if(Ae.memoizedState!==null){f2(be);continue}}Pe!==null?(Pe.return=Ae,Le=Pe):f2(be)}Ce=Ce.sibling}e:for(Ce=null,be=s;;){if(be.tag===5){if(Ce===null){Ce=be;try{S=be.stateNode,pe?(F=S.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(Y=be.stateNode,ne=be.memoizedProps.style,U=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,Y.style.display=rr("display",U))}catch(Me){It(s,s.return,Me)}}}else if(be.tag===6){if(Ce===null)try{be.stateNode.nodeValue=pe?"":be.memoizedProps}catch(Me){It(s,s.return,Me)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===s)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===s)break e;for(;be.sibling===null;){if(be.return===null||be.return===s)break e;Ce===be&&(Ce=null),be=be.return}Ce===be&&(Ce=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:yr(o,s),Or(s),m&4&&l2(s);break;case 21:break;default:yr(o,s),Or(s)}}function Or(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(o2(l)){var m=l;break e}l=l.return}throw Error(t(160))}switch(m.tag){case 5:var S=m.stateNode;m.flags&32&&(ht(S,""),m.flags&=-33);var F=a2(s);lf(s,F,S);break;case 3:case 4:var U=m.stateNode.containerInfo,Y=a2(s);uf(s,Y,U);break;default:throw Error(t(161))}}catch(ne){It(s,s.return,ne)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function eT(s,o,l){Le=s,h2(s)}function h2(s,o,l){for(var m=(s.mode&1)!==0;Le!==null;){var S=Le,F=S.child;if(S.tag===22&&m){var U=S.memoizedState!==null||Zl;if(!U){var Y=S.alternate,ne=Y!==null&&Y.memoizedState!==null||cn;Y=Zl;var pe=cn;if(Zl=U,(cn=ne)&&!pe)for(Le=S;Le!==null;)U=Le,ne=U.child,U.tag===22&&U.memoizedState!==null?p2(S):ne!==null?(ne.return=U,Le=ne):p2(S);for(;F!==null;)Le=F,h2(F),F=F.sibling;Le=S,Zl=Y,cn=pe}d2(s)}else(S.subtreeFlags&8772)!==0&&F!==null?(F.return=S,Le=F):d2(s)}}function d2(s){for(;Le!==null;){var o=Le;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:cn||Xl(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!cn)if(l===null)m.componentDidMount();else{var S=o.elementType===o.type?l.memoizedProps:mr(o.type,l.memoizedProps);m.componentDidUpdate(S,l.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var F=o.updateQueue;F!==null&&fv(o,F,m);break;case 3:var U=o.updateQueue;if(U!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}fv(o,U,l)}break;case 5:var Y=o.stateNode;if(l===null&&o.flags&4){l=Y;var ne=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&l.focus();break;case"img":ne.src&&(l.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var pe=o.alternate;if(pe!==null){var Ce=pe.memoizedState;if(Ce!==null){var be=Ce.dehydrated;be!==null&&hr(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}cn||o.flags&512&&af(o)}catch(Ae){It(o,o.return,Ae)}}if(o===s){Le=null;break}if(l=o.sibling,l!==null){l.return=o.return,Le=l;break}Le=o.return}}function f2(s){for(;Le!==null;){var o=Le;if(o===s){Le=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Le=l;break}Le=o.return}}function p2(s){for(;Le!==null;){var o=Le;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Xl(4,o)}catch(ne){It(o,l,ne)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var S=o.return;try{m.componentDidMount()}catch(ne){It(o,S,ne)}}var F=o.return;try{af(o)}catch(ne){It(o,F,ne)}break;case 5:var U=o.return;try{af(o)}catch(ne){It(o,U,ne)}}}catch(ne){It(o,o.return,ne)}if(o===s){Le=null;break}var Y=o.sibling;if(Y!==null){Y.return=o.return,Le=Y;break}Le=o.return}}var tT=Math.ceil,ec=x.ReactCurrentDispatcher,cf=x.ReactCurrentOwner,Zn=x.ReactCurrentBatchConfig,ct=0,Qt=null,Bt=null,nn=0,qn=0,zo=Li(0),Ht=0,iu=null,js=0,tc=0,hf=0,su=null,In=null,df=0,Ho=1/0,oi=null,nc=!1,ff=null,Vi=null,rc=!1,Ui=null,ic=0,ou=0,pf=null,sc=-1,oc=0;function vn(){return(ct&6)!==0?gt():sc!==-1?sc:sc=gt()}function zi(s){return(s.mode&1)===0?1:(ct&2)!==0&&nn!==0?nn&-nn:jb.transition!==null?(oc===0&&(oc=xs()),oc):(s=ot,s!==0||(s=window.event,s=s===void 0?16:Oa(s.type)),s)}function vr(s,o,l,m){if(50<ou)throw ou=0,pf=null,Error(t(185));Si(s,l,m),((ct&2)===0||s!==Qt)&&(s===Qt&&((ct&2)===0&&(tc|=l),Ht===4&&Hi(s,nn)),kn(s,m),l===1&&ct===0&&(o.mode&1)===0&&(Ho=gt()+500,Ol&&Bi()))}function kn(s,o){var l=s.callbackNode;Kr(s,o);var m=Ts(s,s===Qt?nn:0);if(m===0)l!==null&&Ia(l),s.callbackNode=null,s.callbackPriority=0;else if(o=m&-m,s.callbackPriority!==o){if(l!=null&&Ia(l),o===1)s.tag===0?Bb(g2.bind(null,s)):tv(g2.bind(null,s)),Nb(function(){(ct&6)===0&&Bi()}),l=null;else{switch(Ii(m)){case 1:l=Cs;break;case 4:l=bi;break;case 16:l=$n;break;case 536870912:l=ol;break;default:l=$n}l=b2(l,m2.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function m2(s,o){if(sc=-1,oc=0,(ct&6)!==0)throw Error(t(327));var l=s.callbackNode;if($o()&&s.callbackNode!==l)return null;var m=Ts(s,s===Qt?nn:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||o)o=ac(s,m);else{o=m;var S=ct;ct|=2;var F=v2();(Qt!==s||nn!==o)&&(oi=null,Ho=gt()+500,qs(s,o));do try{iT();break}catch(Y){y2(s,Y)}while(!0);Rd(),ec.current=F,ct=S,Bt!==null?o=0:(Qt=null,nn=0,o=Ht)}if(o!==0){if(o===2&&(S=Ln(s),S!==0&&(m=S,o=mf(s,S))),o===1)throw l=iu,qs(s,0),Hi(s,m),kn(s,gt()),l;if(o===6)Hi(s,m);else{if(S=s.current.alternate,(m&30)===0&&!nT(S)&&(o=ac(s,m),o===2&&(F=Ln(s),F!==0&&(m=F,o=mf(s,F))),o===1))throw l=iu,qs(s,0),Hi(s,m),kn(s,gt()),l;switch(s.finishedWork=S,s.finishedLanes=m,o){case 0:case 1:throw Error(t(345));case 2:Vs(s,In,oi);break;case 3:if(Hi(s,m),(m&130023424)===m&&(o=df+500-gt(),10<o)){if(Ts(s,0)!==0)break;if(S=s.suspendedLanes,(S&m)!==m){vn(),s.pingedLanes|=s.suspendedLanes&S;break}s.timeoutHandle=wd(Vs.bind(null,s,In,oi),o);break}Vs(s,In,oi);break;case 4:if(Hi(s,m),(m&4194240)===m)break;for(o=s.eventTimes,S=-1;0<m;){var U=31-mn(m);F=1<<U,U=o[U],U>S&&(S=U),m&=~F}if(m=S,m=gt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*tT(m/1960))-m,10<m){s.timeoutHandle=wd(Vs.bind(null,s,In,oi),m);break}Vs(s,In,oi);break;case 5:Vs(s,In,oi);break;default:throw Error(t(329))}}}return kn(s,gt()),s.callbackNode===l?m2.bind(null,s):null}function mf(s,o){var l=su;return s.current.memoizedState.isDehydrated&&(qs(s,o).flags|=256),s=ac(s,o),s!==2&&(o=In,In=l,o!==null&&gf(o)),s}function gf(s){In===null?In=s:In.push.apply(In,s)}function nT(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var m=0;m<l.length;m++){var S=l[m],F=S.getSnapshot;S=S.value;try{if(!fr(F(),S))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hi(s,o){for(o&=~hf,o&=~tc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-mn(o),m=1<<l;s[l]=-1,o&=~m}}function g2(s){if((ct&6)!==0)throw Error(t(327));$o();var o=Ts(s,0);if((o&1)===0)return kn(s,gt()),null;var l=ac(s,o);if(s.tag!==0&&l===2){var m=Ln(s);m!==0&&(o=m,l=mf(s,m))}if(l===1)throw l=iu,qs(s,0),Hi(s,o),kn(s,gt()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Vs(s,In,oi),kn(s,gt()),null}function yf(s,o){var l=ct;ct|=1;try{return s(o)}finally{ct=l,ct===0&&(Ho=gt()+500,Ol&&Bi())}}function Ms(s){Ui!==null&&Ui.tag===0&&(ct&6)===0&&$o();var o=ct;ct|=1;var l=Zn.transition,m=ot;try{if(Zn.transition=null,ot=1,s)return s()}finally{ot=m,Zn.transition=l,ct=o,(ct&6)===0&&Bi()}}function vf(){qn=zo.current,wt(zo)}function qs(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,Pb(l)),Bt!==null)for(l=Bt.return;l!==null;){var m=l;switch(xd(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Pl();break;case 3:qo(),wt(xn),wt(an),Md();break;case 5:Bd(m);break;case 4:qo();break;case 13:wt(Tt);break;case 19:wt(Tt);break;case 10:Pd(m.type._context);break;case 22:case 23:vf()}l=l.return}if(Qt=s,Bt=s=$i(s.current,null),nn=qn=o,Ht=0,iu=null,hf=tc=js=0,In=su=null,Ls!==null){for(o=0;o<Ls.length;o++)if(l=Ls[o],m=l.interleaved,m!==null){l.interleaved=null;var S=m.next,F=l.pending;if(F!==null){var U=F.next;F.next=S,m.next=U}l.pending=m}Ls=null}return s}function y2(s,o){do{var l=Bt;try{if(Rd(),Hl.current=Kl,$l){for(var m=xt.memoizedState;m!==null;){var S=m.queue;S!==null&&(S.pending=null),m=m.next}$l=!1}if(Bs=0,Jt=zt=xt=null,Za=!1,Xa=0,cf.current=null,l===null||l.return===null){Ht=1,iu=o,Bt=null;break}e:{var F=s,U=l.return,Y=l,ne=o;if(o=nn,Y.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var pe=ne,Ce=Y,be=Ce.tag;if((Ce.mode&1)===0&&(be===0||be===11||be===15)){var Ae=Ce.alternate;Ae?(Ce.updateQueue=Ae.updateQueue,Ce.memoizedState=Ae.memoizedState,Ce.lanes=Ae.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var Pe=Uv(U);if(Pe!==null){Pe.flags&=-257,zv(Pe,U,Y,F,o),Pe.mode&1&&Vv(F,pe,o),o=Pe,ne=pe;var Fe=o.updateQueue;if(Fe===null){var Me=new Set;Me.add(ne),o.updateQueue=Me}else Fe.add(ne);break e}else{if((o&1)===0){Vv(F,pe,o),_f();break e}ne=Error(t(426))}}else if(Ct&&Y.mode&1){var Nt=Uv(U);if(Nt!==null){(Nt.flags&65536)===0&&(Nt.flags|=256),zv(Nt,U,Y,F,o),Id(Vo(ne,Y));break e}}F=ne=Vo(ne,Y),Ht!==4&&(Ht=2),su===null?su=[F]:su.push(F),F=U;do{switch(F.tag){case 3:F.flags|=65536,o&=-o,F.lanes|=o;var ue=Mv(F,ne,o);dv(F,ue);break e;case 1:Y=ne;var oe=F.type,he=F.stateNode;if((F.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(Vi===null||!Vi.has(he)))){F.flags|=65536,o&=-o,F.lanes|=o;var Te=qv(F,Y,o);dv(F,Te);break e}}F=F.return}while(F!==null)}w2(l)}catch(qe){o=qe,Bt===l&&l!==null&&(Bt=l=l.return);continue}break}while(!0)}function v2(){var s=ec.current;return ec.current=Kl,s===null?Kl:s}function _f(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Qt===null||(js&268435455)===0&&(tc&268435455)===0||Hi(Qt,nn)}function ac(s,o){var l=ct;ct|=2;var m=v2();(Qt!==s||nn!==o)&&(oi=null,qs(s,o));do try{rT();break}catch(S){y2(s,S)}while(!0);if(Rd(),ct=l,ec.current=m,Bt!==null)throw Error(t(261));return Qt=null,nn=0,Ht}function rT(){for(;Bt!==null;)_2(Bt)}function iT(){for(;Bt!==null&&!il();)_2(Bt)}function _2(s){var o=C2(s.alternate,s,qn);s.memoizedProps=s.pendingProps,o===null?w2(s):Bt=o,cf.current=null}function w2(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=Qb(l,o,qn),l!==null){Bt=l;return}}else{if(l=Yb(l,o),l!==null){l.flags&=32767,Bt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ht=6,Bt=null;return}}if(o=o.sibling,o!==null){Bt=o;return}Bt=o=s}while(o!==null);Ht===0&&(Ht=5)}function Vs(s,o,l){var m=ot,S=Zn.transition;try{Zn.transition=null,ot=1,sT(s,o,l,m)}finally{Zn.transition=S,ot=m}return null}function sT(s,o,l,m){do $o();while(Ui!==null);if((ct&6)!==0)throw Error(t(327));l=s.finishedWork;var S=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var F=l.lanes|l.childLanes;if(mt(s,F),s===Qt&&(Bt=Qt=null,nn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||rc||(rc=!0,b2($n,function(){return $o(),null})),F=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||F){F=Zn.transition,Zn.transition=null;var U=ot;ot=1;var Y=ct;ct|=4,cf.current=null,Xb(s,l),c2(l,s),Tb(vd),Ri=!!yd,vd=yd=null,s.current=l,eT(l),td(),ct=Y,ot=U,Zn.transition=F}else s.current=l;if(rc&&(rc=!1,Ui=s,ic=S),F=s.pendingLanes,F===0&&(Vi=null),al(l.stateNode),kn(s,gt()),o!==null)for(m=s.onRecoverableError,l=0;l<o.length;l++)S=o[l],m(S.value,{componentStack:S.stack,digest:S.digest});if(nc)throw nc=!1,s=ff,ff=null,s;return(ic&1)!==0&&s.tag!==0&&$o(),F=s.pendingLanes,(F&1)!==0?s===pf?ou++:(ou=0,pf=s):ou=0,Bi(),null}function $o(){if(Ui!==null){var s=Ii(ic),o=Zn.transition,l=ot;try{if(Zn.transition=null,ot=16>s?16:s,Ui===null)var m=!1;else{if(s=Ui,Ui=null,ic=0,(ct&6)!==0)throw Error(t(331));var S=ct;for(ct|=4,Le=s.current;Le!==null;){var F=Le,U=F.child;if((Le.flags&16)!==0){var Y=F.deletions;if(Y!==null){for(var ne=0;ne<Y.length;ne++){var pe=Y[ne];for(Le=pe;Le!==null;){var Ce=Le;switch(Ce.tag){case 0:case 11:case 15:ru(8,Ce,F)}var be=Ce.child;if(be!==null)be.return=Ce,Le=be;else for(;Le!==null;){Ce=Le;var Ae=Ce.sibling,Pe=Ce.return;if(s2(Ce),Ce===pe){Le=null;break}if(Ae!==null){Ae.return=Pe,Le=Ae;break}Le=Pe}}}var Fe=F.alternate;if(Fe!==null){var Me=Fe.child;if(Me!==null){Fe.child=null;do{var Nt=Me.sibling;Me.sibling=null,Me=Nt}while(Me!==null)}}Le=F}}if((F.subtreeFlags&2064)!==0&&U!==null)U.return=F,Le=U;else e:for(;Le!==null;){if(F=Le,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:ru(9,F,F.return)}var ue=F.sibling;if(ue!==null){ue.return=F.return,Le=ue;break e}Le=F.return}}var oe=s.current;for(Le=oe;Le!==null;){U=Le;var he=U.child;if((U.subtreeFlags&2064)!==0&&he!==null)he.return=U,Le=he;else e:for(U=oe;Le!==null;){if(Y=Le,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:Xl(9,Y)}}catch(qe){It(Y,Y.return,qe)}if(Y===U){Le=null;break e}var Te=Y.sibling;if(Te!==null){Te.return=Y.return,Le=Te;break e}Le=Y.return}}if(ct=S,Bi(),On&&typeof On.onPostCommitFiberRoot=="function")try{On.onPostCommitFiberRoot(bs,s)}catch{}m=!0}return m}finally{ot=l,Zn.transition=o}}return!1}function E2(s,o,l){o=Vo(l,o),o=Mv(s,o,1),s=Mi(s,o,1),o=vn(),s!==null&&(Si(s,1,o),kn(s,o))}function It(s,o,l){if(s.tag===3)E2(s,s,l);else for(;o!==null;){if(o.tag===3){E2(o,s,l);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Vi===null||!Vi.has(m))){s=Vo(l,s),s=qv(o,s,1),o=Mi(o,s,1),s=vn(),o!==null&&(Si(o,1,s),kn(o,s));break}}o=o.return}}function oT(s,o,l){var m=s.pingCache;m!==null&&m.delete(o),o=vn(),s.pingedLanes|=s.suspendedLanes&l,Qt===s&&(nn&l)===l&&(Ht===4||Ht===3&&(nn&130023424)===nn&&500>gt()-df?qs(s,0):hf|=l),kn(s,o)}function A2(s,o){o===0&&((s.mode&1)===0?o=1:(o=po,po<<=1,(po&130023424)===0&&(po=4194304)));var l=vn();s=ri(s,o),s!==null&&(Si(s,o,l),kn(s,l))}function aT(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),A2(s,l)}function uT(s,o){var l=0;switch(s.tag){case 13:var m=s.stateNode,S=s.memoizedState;S!==null&&(l=S.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(o),A2(s,l)}var C2;C2=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||xn.current)Dn=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return Dn=!1,Jb(s,o,l);Dn=(s.flags&131072)!==0}else Dn=!1,Ct&&(o.flags&1048576)!==0&&nv(o,Fl,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Yl(s,o),s=o.pendingProps;var S=No(o,an.current);Mo(o,l),S=Ud(null,o,m,s,S,l);var F=zd();return o.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Sn(m)?(F=!0,Nl(o)):F=!1,o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Ld(o),S.updater=Jl,o.stateNode=S,S._reactInternals=o,Jd(o,m,s,l),o=Xd(null,o,m,!0,F,l)):(o.tag=0,Ct&&F&&Td(o),yn(null,o,S,l),o=o.child),o;case 16:m=o.elementType;e:{switch(Yl(s,o),s=o.pendingProps,S=m._init,m=S(m._payload),o.type=m,S=o.tag=cT(m),s=mr(m,s),S){case 0:o=Zd(null,o,m,s,l);break e;case 1:o=Jv(null,o,m,s,l);break e;case 11:o=Hv(null,o,m,s,l);break e;case 14:o=$v(null,o,m,mr(m.type,s),l);break e}throw Error(t(306,m,""))}return o;case 0:return m=o.type,S=o.pendingProps,S=o.elementType===m?S:mr(m,S),Zd(s,o,m,S,l);case 1:return m=o.type,S=o.pendingProps,S=o.elementType===m?S:mr(m,S),Jv(s,o,m,S,l);case 3:e:{if(Qv(o),s===null)throw Error(t(387));m=o.pendingProps,F=o.memoizedState,S=F.element,hv(s,o),Ul(o,m,null,l);var U=o.memoizedState;if(m=U.element,F.isDehydrated)if(F={element:m,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},o.updateQueue.baseState=F,o.memoizedState=F,o.flags&256){S=Vo(Error(t(423)),o),o=Yv(s,o,m,l,S);break e}else if(m!==S){S=Vo(Error(t(424)),o),o=Yv(s,o,m,l,S);break e}else for(Mn=Oi(o.stateNode.containerInfo.firstChild),jn=o,Ct=!0,pr=null,l=lv(o,null,m,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Fo(),m===S){o=si(s,o,l);break e}yn(s,o,m,l)}o=o.child}return o;case 5:return pv(o),s===null&&Dd(o),m=o.type,S=o.pendingProps,F=s!==null?s.memoizedProps:null,U=S.children,_d(m,S)?U=null:F!==null&&_d(m,F)&&(o.flags|=32),Kv(s,o),yn(s,o,U,l),o.child;case 6:return s===null&&Dd(o),null;case 13:return Zv(s,o,l);case 4:return Fd(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=Bo(o,null,m,l):yn(s,o,m,l),o.child;case 11:return m=o.type,S=o.pendingProps,S=o.elementType===m?S:mr(m,S),Hv(s,o,m,S,l);case 7:return yn(s,o,o.pendingProps,l),o.child;case 8:return yn(s,o,o.pendingProps.children,l),o.child;case 12:return yn(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(m=o.type._context,S=o.pendingProps,F=o.memoizedProps,U=S.value,yt(Ml,m._currentValue),m._currentValue=U,F!==null)if(fr(F.value,U)){if(F.children===S.children&&!xn.current){o=si(s,o,l);break e}}else for(F=o.child,F!==null&&(F.return=o);F!==null;){var Y=F.dependencies;if(Y!==null){U=F.child;for(var ne=Y.firstContext;ne!==null;){if(ne.context===m){if(F.tag===1){ne=ii(-1,l&-l),ne.tag=2;var pe=F.updateQueue;if(pe!==null){pe=pe.shared;var Ce=pe.pending;Ce===null?ne.next=ne:(ne.next=Ce.next,Ce.next=ne),pe.pending=ne}}F.lanes|=l,ne=F.alternate,ne!==null&&(ne.lanes|=l),Nd(F.return,l,o),Y.lanes|=l;break}ne=ne.next}}else if(F.tag===10)U=F.type===o.type?null:F.child;else if(F.tag===18){if(U=F.return,U===null)throw Error(t(341));U.lanes|=l,Y=U.alternate,Y!==null&&(Y.lanes|=l),Nd(U,l,o),U=F.sibling}else U=F.child;if(U!==null)U.return=F;else for(U=F;U!==null;){if(U===o){U=null;break}if(F=U.sibling,F!==null){F.return=U.return,U=F;break}U=U.return}F=U}yn(s,o,S.children,l),o=o.child}return o;case 9:return S=o.type,m=o.pendingProps.children,Mo(o,l),S=Qn(S),m=m(S),o.flags|=1,yn(s,o,m,l),o.child;case 14:return m=o.type,S=mr(m,o.pendingProps),S=mr(m.type,S),$v(s,o,m,S,l);case 15:return Gv(s,o,o.type,o.pendingProps,l);case 17:return m=o.type,S=o.pendingProps,S=o.elementType===m?S:mr(m,S),Yl(s,o),o.tag=1,Sn(m)?(s=!0,Nl(o)):s=!1,Mo(o,l),Bv(o,m,S),Jd(o,m,S,l),Xd(null,o,m,!0,s,l);case 19:return e2(s,o,l);case 22:return Wv(s,o,l)}throw Error(t(156,o.tag))};function b2(s,o){return ho(s,o)}function lT(s,o,l,m){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(s,o,l,m){return new lT(s,o,l,m)}function wf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function cT(s){if(typeof s=="function")return wf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===P)return 11;if(s===J)return 14}return 2}function $i(s,o){var l=s.alternate;return l===null?(l=Xn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function uc(s,o,l,m,S,F){var U=2;if(m=s,typeof s=="function")wf(s)&&(U=1);else if(typeof s=="string")U=5;else e:switch(s){case R:return Us(l.children,S,F,o);case w:U=8,S|=8;break;case D:return s=Xn(12,l,o,S|2),s.elementType=D,s.lanes=F,s;case N:return s=Xn(13,l,o,S),s.elementType=N,s.lanes=F,s;case W:return s=Xn(19,l,o,S),s.elementType=W,s.lanes=F,s;case X:return lc(l,S,F,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:U=10;break e;case k:U=9;break e;case P:U=11;break e;case J:U=14;break e;case se:U=16,m=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Xn(U,l,o,S),o.elementType=s,o.type=m,o.lanes=F,o}function Us(s,o,l,m){return s=Xn(7,s,m,o),s.lanes=l,s}function lc(s,o,l,m){return s=Xn(22,s,m,o),s.elementType=X,s.lanes=l,s.stateNode={isHidden:!1},s}function Ef(s,o,l){return s=Xn(6,s,null,o),s.lanes=l,s}function Af(s,o,l){return o=Xn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function hT(s,o,l,m,S){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xi(0),this.expirationTimes=xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.identifierPrefix=m,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function Cf(s,o,l,m,S,F,U,Y,ne){return s=new hT(s,o,l,Y,ne),o===1?(o=1,F===!0&&(o|=8)):o=0,F=Xn(3,null,null,o),s.current=F,F.stateNode=s,F.memoizedState={element:m,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ld(F),s}function dT(s,o,l){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:m==null?null:""+m,children:s,containerInfo:o,implementation:l}}function T2(s){if(!s)return Fi;s=s._reactInternals;e:{if(or(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Sn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(Sn(l))return Xy(s,l,o)}return o}function x2(s,o,l,m,S,F,U,Y,ne){return s=Cf(l,m,!0,s,S,F,U,Y,ne),s.context=T2(null),l=s.current,m=vn(),S=zi(l),F=ii(m,S),F.callback=o??null,Mi(l,F,S),s.current.lanes=S,Si(s,S,m),kn(s,m),s}function cc(s,o,l,m){var S=o.current,F=vn(),U=zi(S);return l=T2(l),o.context===null?o.context=l:o.pendingContext=l,o=ii(F,U),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Mi(S,o,U),s!==null&&(vr(s,S,U,F),Vl(s,S,U)),U}function hc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function S2(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function bf(s,o){S2(s,o),(s=s.alternate)&&S2(s,o)}function fT(){return null}var D2=typeof reportError=="function"?reportError:function(s){console.error(s)};function Tf(s){this._internalRoot=s}dc.prototype.render=Tf.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));cc(s,o,null,null)},dc.prototype.unmount=Tf.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Ms(function(){cc(null,s,null,null)}),o[Xr]=null}};function dc(s){this._internalRoot=s}dc.prototype.unstable_scheduleHydration=function(s){if(s){var o=dl();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Sr.length&&o!==0&&o<Sr[l].priority;l++);Sr.splice(l,0,s),l===0&&ml(s)}};function xf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function fc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function I2(){}function pT(s,o,l,m,S){if(S){if(typeof m=="function"){var F=m;m=function(){var pe=hc(U);F.call(pe)}}var U=x2(o,m,s,0,null,!1,!1,"",I2);return s._reactRootContainer=U,s[Xr]=U.current,Ha(s.nodeType===8?s.parentNode:s),Ms(),U}for(;S=s.lastChild;)s.removeChild(S);if(typeof m=="function"){var Y=m;m=function(){var pe=hc(ne);Y.call(pe)}}var ne=Cf(s,0,!1,null,null,!1,!1,"",I2);return s._reactRootContainer=ne,s[Xr]=ne.current,Ha(s.nodeType===8?s.parentNode:s),Ms(function(){cc(o,ne,l,m)}),ne}function pc(s,o,l,m,S){var F=l._reactRootContainer;if(F){var U=F;if(typeof S=="function"){var Y=S;S=function(){var ne=hc(U);Y.call(ne)}}cc(o,U,s,S)}else U=pT(l,o,s,S,m);return hc(U)}cl=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=Ti(o.pendingLanes);l!==0&&(Di(o,l|1),kn(o,gt()),(ct&6)===0&&(Ho=gt()+500,Bi()))}break;case 13:Ms(function(){var m=ri(s,1);if(m!==null){var S=vn();vr(m,s,1,S)}}),bf(s,1)}},mo=function(s){if(s.tag===13){var o=ri(s,134217728);if(o!==null){var l=vn();vr(o,s,134217728,l)}bf(s,134217728)}},hl=function(s){if(s.tag===13){var o=zi(s),l=ri(s,o);if(l!==null){var m=vn();vr(l,s,o,m)}bf(s,o)}},dl=function(){return ot},fl=function(s,o){var l=ot;try{return ot=s,o()}finally{ot=l}},so=function(s,o,l){switch(o){case"input":if(tt(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var m=l[o];if(m!==s&&m.form===s.form){var S=Rl(m);if(!S)throw Error(t(90));De(m),tt(m,S)}}}break;case"textarea":je(s,l);break;case"select":o=l.value,o!=null&&xe(s,!!l.multiple,o,!1)}},_s=yf,Ta=Ms;var mT={usingClientEntryPoint:!1,Events:[Wa,Ro,Rl,Tr,ba,yf]},au={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gT={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Da(s),s===null?null:s.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||fT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{bs=mc.inject(gT),On=mc}catch{}}return Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mT,Rn.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xf(o))throw Error(t(200));return dT(s,o,null,l)},Rn.createRoot=function(s,o){if(!xf(s))throw Error(t(299));var l=!1,m="",S=D2;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(S=o.onRecoverableError)),o=Cf(s,1,!1,null,null,l,!1,m,S),s[Xr]=o.current,Ha(s.nodeType===8?s.parentNode:s),new Tf(o)},Rn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Da(o),s=s===null?null:s.stateNode,s},Rn.flushSync=function(s){return Ms(s)},Rn.hydrate=function(s,o,l){if(!fc(o))throw Error(t(200));return pc(null,s,o,!0,l)},Rn.hydrateRoot=function(s,o,l){if(!xf(s))throw Error(t(405));var m=l!=null&&l.hydratedSources||null,S=!1,F="",U=D2;if(l!=null&&(l.unstable_strictMode===!0&&(S=!0),l.identifierPrefix!==void 0&&(F=l.identifierPrefix),l.onRecoverableError!==void 0&&(U=l.onRecoverableError)),o=x2(o,null,s,1,l??null,S,!1,F,U),s[Xr]=o.current,Ha(s),m)for(s=0;s<m.length;s++)l=m[s],S=l._getVersion,S=S(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,S]:o.mutableSourceEagerHydrationData.push(l,S);return new dc(o)},Rn.render=function(s,o,l){if(!fc(o))throw Error(t(200));return pc(null,s,o,!1,l)},Rn.unmountComponentAtNode=function(s){if(!fc(s))throw Error(t(40));return s._reactRootContainer?(Ms(function(){pc(null,null,s,!1,function(){s._reactRootContainer=null,s[Xr]=null})}),!0):!1},Rn.unstable_batchedUpdates=yf,Rn.unstable_renderSubtreeIntoContainer=function(s,o,l,m){if(!fc(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return pc(s,o,l,!1,m)},Rn.version="18.3.1-next-f1338f8080-20240426",Rn}var B2;function Dw(){if(B2)return If.exports;B2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),If.exports=TT(),If.exports}var j2;function xT(){if(j2)return gc;j2=1;var r=Dw();return gc.createRoot=r.createRoot,gc.hydrateRoot=r.hydrateRoot,gc}var ST=xT();const DT=()=>{};var M2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},IT=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],u=r[t++],c=r[t++],h=((i&7)<<18|(a&63)<<12|(u&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const a=r[t++],u=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],u=i+1<r.length,c=u?r[i+1]:0,h=i+2<r.length,f=h?r[i+2]:0,y=a>>2,g=(a&3)<<4|c>>4;let p=(c&15)<<2|f>>6,v=f&63;h||(v=64,u||(p=64)),n.push(t[y],t[g],t[p],t[v])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Iw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):IT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const f=i<r.length?t[r.charAt(i)]:64;++i;const g=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||c==null||f==null||g==null)throw new kT;const p=a<<2|c>>4;if(n.push(p),f!==64){const v=c<<4&240|f>>2;if(n.push(v),g!==64){const A=f<<6&192|g;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RT=function(r){const e=Iw(r);return kw.encodeByteArray(e,!0)},Hc=function(r){return RT(r).replace(/\./g,"")},Rw=function(r){try{return kw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=()=>PT().__FIREBASE_DEFAULTS__,OT=()=>{if(typeof process>"u"||typeof M2>"u")return;const r=M2.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},LT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Rw(r[1]);return e&&JSON.parse(e)},mh=()=>{try{return DT()||NT()||OT()||LT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Pw=r=>{var e,t;return(t=(e=mh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Nw=r=>{const e=Pw(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},Ow=()=>{var r;return(r=mh())===null||r===void 0?void 0:r.config},Lw=r=>{var e;return(e=mh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(r){return r.endsWith(".cloudworkstations.dev")}async function rg(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Hc(JSON.stringify(t)),Hc(JSON.stringify(u)),""].join(".")}const Eu={};function BT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Eu))Eu[e]?r.emulator.push(e):r.prod.push(e);return r}function jT(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let q2=!1;function ig(r,e){if(typeof window>"u"||typeof document>"u"||!Xs(window.location.host)||Eu[r]===e||Eu[r]||q2)return;Eu[r]=e;function t(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=BT().prod.length>0;function u(){const p=document.getElementById(n);p&&p.remove()}function c(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function h(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function f(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{q2=!0,u()},p}function y(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function g(){const p=jT(n),v=t("text"),A=document.getElementById(v)||document.createElement("span"),b=t("learnmore"),C=document.getElementById(b)||document.createElement("a"),E=t("preprendIcon"),T=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const L=p.element;c(L),y(C,b);const x=f();h(T,E),L.append(T,A,C,x),document.body.appendChild(L)}a?(A.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function qT(){var r;const e=(r=mh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function zT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HT(){const r=pn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $T(){return!qT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GT(){try{return typeof indexedDB=="object"}catch{return!1}}function WT(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="FirebaseError";class Hr extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=KT,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?JT(a,n):"Error",c=`${this.serviceName}: ${u} (${i}).`;return new Hr(i,c,n)}}function JT(r,e){return r.replace(QT,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const QT=/\{\$([^}]+)}/g;function YT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Gs(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],u=e[i];if(V2(a)&&V2(u)){if(!Gs(a,u))return!1}else if(a!==u)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function V2(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function du(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function fu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function ZT(r,e){const t=new XT(r,e);return t.subscribe.bind(t)}class XT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");ex(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Pf),i.error===void 0&&(i.error=Pf),i.complete===void 0&&(i.complete=Pf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ex(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r){return r&&r._delegate?r._delegate:r}class ss{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new FT;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rx(e))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zs){return this.instances.has(e)}getOptions(e=zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&u.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const u=this.instances.get(i);return u&&e(u,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:nx(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=zs){return this.component?this.component.multipleInstances?e:zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nx(r){return r===zs?void 0:r}function rx(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(it||(it={}));const sx={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},ox=it.INFO,ax={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},ux=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=ax[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=ox,this._logHandler=ux,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const lx=(r,e)=>e.some(t=>r instanceof t);let U2,z2;function cx(){return U2||(U2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hx(){return z2||(z2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bw=new WeakMap,Dm=new WeakMap,jw=new WeakMap,Nf=new WeakMap,og=new WeakMap;function dx(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",u)},a=()=>{t(ts(r.result)),i()},u=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Bw.set(t,r)}).catch(()=>{}),og.set(e,r),e}function fx(r){if(Dm.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",u),r.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",u),r.addEventListener("abort",u)});Dm.set(r,e)}let Im={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Dm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||jw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ts(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function px(r){Im=r(Im)}function mx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Of(this),e,...t);return jw.set(n,e.sort?e.sort():[e]),ts(n)}:hx().includes(r)?function(...e){return r.apply(Of(this),e),ts(Bw.get(this))}:function(...e){return ts(r.apply(Of(this),e))}}function gx(r){return typeof r=="function"?mx(r):(r instanceof IDBTransaction&&fx(r),lx(r,cx())?new Proxy(r,Im):r)}function ts(r){if(r instanceof IDBRequest)return dx(r);if(Nf.has(r))return Nf.get(r);const e=gx(r);return e!==r&&(Nf.set(r,e),og.set(e,r)),e}const Of=r=>og.get(r);function yx(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const u=indexedDB.open(r,e),c=ts(u);return n&&u.addEventListener("upgradeneeded",h=>{n(ts(u.result),h.oldVersion,h.newVersion,ts(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const vx=["get","getKey","getAll","getAllKeys","count"],_x=["put","add","delete","clear"],Lf=new Map;function H2(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=_x.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||vx.includes(t)))return;const a=async function(u,...c){const h=this.transaction(u,i?"readwrite":"readonly");let f=h.store;return n&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),i&&h.done]))[0]};return Lf.set(e,a),a}px(r=>({...r,get:(e,t,n)=>H2(e,t)||r.get(e,t,n),has:(e,t)=>!!H2(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ex(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function Ex(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const km="@firebase/app",$2="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new sg("@firebase/app"),Ax="@firebase/app-compat",Cx="@firebase/analytics-compat",bx="@firebase/analytics",Tx="@firebase/app-check-compat",xx="@firebase/app-check",Sx="@firebase/auth",Dx="@firebase/auth-compat",Ix="@firebase/database",kx="@firebase/data-connect",Rx="@firebase/database-compat",Px="@firebase/functions",Nx="@firebase/functions-compat",Ox="@firebase/installations",Lx="@firebase/installations-compat",Fx="@firebase/messaging",Bx="@firebase/messaging-compat",jx="@firebase/performance",Mx="@firebase/performance-compat",qx="@firebase/remote-config",Vx="@firebase/remote-config-compat",Ux="@firebase/storage",zx="@firebase/storage-compat",Hx="@firebase/firestore",$x="@firebase/ai",Gx="@firebase/firestore-compat",Wx="firebase",Kx="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="[DEFAULT]",Jx={[km]:"fire-core",[Ax]:"fire-core-compat",[bx]:"fire-analytics",[Cx]:"fire-analytics-compat",[xx]:"fire-app-check",[Tx]:"fire-app-check-compat",[Sx]:"fire-auth",[Dx]:"fire-auth-compat",[Ix]:"fire-rtdb",[kx]:"fire-data-connect",[Rx]:"fire-rtdb-compat",[Px]:"fire-fn",[Nx]:"fire-fn-compat",[Ox]:"fire-iid",[Lx]:"fire-iid-compat",[Fx]:"fire-fcm",[Bx]:"fire-fcm-compat",[jx]:"fire-perf",[Mx]:"fire-perf-compat",[qx]:"fire-rc",[Vx]:"fire-rc-compat",[Ux]:"fire-gcs",[zx]:"fire-gcs-compat",[Hx]:"fire-fst",[Gx]:"fire-fst-compat",[$x]:"fire-vertex","fire-js":"fire-js",[Wx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,Qx=new Map,Pm=new Map;function G2(r,e){try{r.container.addComponent(e)}catch(t){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ws(r){const e=r.name;if(Pm.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,r);for(const t of $c.values())G2(t,r);for(const t of Qx.values())G2(t,r);return!0}function gh(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Vn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new Vu("app","Firebase",Yx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=Kx;function Mw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Rm,automaticDataCollectionEnabled:!0},e),i=n.name;if(typeof i!="string"||!i)throw ns.create("bad-app-name",{appName:String(i)});if(t||(t=Ow()),!t)throw ns.create("no-options");const a=$c.get(i);if(a){if(Gs(t,a.options)&&Gs(n,a.config))return a;throw ns.create("duplicate-app",{appName:i})}const u=new ix(i);for(const h of Pm.values())u.addComponent(h);const c=new Zx(t,n,u);return $c.set(i,c),c}function ag(r=Rm){const e=$c.get(r);if(!e&&r===Rm&&Ow())return Mw();if(!e)throw ns.create("no-app",{appName:r});return e}function Br(r,e,t){var n;let i=(n=Jx[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(c.join(" "));return}Ws(new ss(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="firebase-heartbeat-database",eS=1,Du="firebase-heartbeat-store";let Ff=null;function qw(){return Ff||(Ff=yx(Xx,eS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Du)}catch(t){console.warn(t)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),Ff}async function tS(r){try{const t=(await qw()).transaction(Du),n=await t.objectStore(Du).get(Vw(r));return await t.done,n}catch(e){if(e instanceof Hr)fi.warn(e.message);else{const t=ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fi.warn(t.message)}}}async function W2(r,e){try{const n=(await qw()).transaction(Du,"readwrite");await n.objectStore(Du).put(e,Vw(r)),await n.done}catch(t){if(t instanceof Hr)fi.warn(t.message);else{const n=ns.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fi.warn(n.message)}}}function Vw(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=1024,rS=30;class iS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oS(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>rS){const u=aS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){fi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=K2(),{heartbeatsToSend:n,unsentEntries:i}=sS(this._heartbeatsCache.heartbeats),a=Hc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return fi.warn(t),""}}}function K2(){return new Date().toISOString().substring(0,10)}function sS(r,e=nS){const t=[];let n=r.slice();for(const i of r){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),J2(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),J2(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class oS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GT()?WT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await tS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return W2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return W2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function J2(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function aS(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(r){Ws(new ss("platform-logger",e=>new wx(e),"PRIVATE")),Ws(new ss("heartbeat",e=>new iS(e),"PRIVATE")),Br(km,$2,r),Br(km,$2,"esm2017"),Br("fire-js","")}uS("");var lS="firebase",cS="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(lS,cS,"app");var Q2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rs,Uw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,w){function D(){}D.prototype=w.prototype,R.D=w.prototype,R.prototype=new D,R.prototype.constructor=R,R.C=function(I,k,P){for(var N=Array(arguments.length-2),W=2;W<arguments.length;W++)N[W-2]=arguments[W];return w.prototype[k].apply(I,N)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,w,D){D||(D=0);var I=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)I[k]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(k=0;16>k;++k)I[k]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=R.g[0],D=R.g[1],k=R.g[2];var P=R.g[3],N=w+(P^D&(k^P))+I[0]+3614090360&4294967295;w=D+(N<<7&4294967295|N>>>25),N=P+(k^w&(D^k))+I[1]+3905402710&4294967295,P=w+(N<<12&4294967295|N>>>20),N=k+(D^P&(w^D))+I[2]+606105819&4294967295,k=P+(N<<17&4294967295|N>>>15),N=D+(w^k&(P^w))+I[3]+3250441966&4294967295,D=k+(N<<22&4294967295|N>>>10),N=w+(P^D&(k^P))+I[4]+4118548399&4294967295,w=D+(N<<7&4294967295|N>>>25),N=P+(k^w&(D^k))+I[5]+1200080426&4294967295,P=w+(N<<12&4294967295|N>>>20),N=k+(D^P&(w^D))+I[6]+2821735955&4294967295,k=P+(N<<17&4294967295|N>>>15),N=D+(w^k&(P^w))+I[7]+4249261313&4294967295,D=k+(N<<22&4294967295|N>>>10),N=w+(P^D&(k^P))+I[8]+1770035416&4294967295,w=D+(N<<7&4294967295|N>>>25),N=P+(k^w&(D^k))+I[9]+2336552879&4294967295,P=w+(N<<12&4294967295|N>>>20),N=k+(D^P&(w^D))+I[10]+4294925233&4294967295,k=P+(N<<17&4294967295|N>>>15),N=D+(w^k&(P^w))+I[11]+2304563134&4294967295,D=k+(N<<22&4294967295|N>>>10),N=w+(P^D&(k^P))+I[12]+1804603682&4294967295,w=D+(N<<7&4294967295|N>>>25),N=P+(k^w&(D^k))+I[13]+4254626195&4294967295,P=w+(N<<12&4294967295|N>>>20),N=k+(D^P&(w^D))+I[14]+2792965006&4294967295,k=P+(N<<17&4294967295|N>>>15),N=D+(w^k&(P^w))+I[15]+1236535329&4294967295,D=k+(N<<22&4294967295|N>>>10),N=w+(k^P&(D^k))+I[1]+4129170786&4294967295,w=D+(N<<5&4294967295|N>>>27),N=P+(D^k&(w^D))+I[6]+3225465664&4294967295,P=w+(N<<9&4294967295|N>>>23),N=k+(w^D&(P^w))+I[11]+643717713&4294967295,k=P+(N<<14&4294967295|N>>>18),N=D+(P^w&(k^P))+I[0]+3921069994&4294967295,D=k+(N<<20&4294967295|N>>>12),N=w+(k^P&(D^k))+I[5]+3593408605&4294967295,w=D+(N<<5&4294967295|N>>>27),N=P+(D^k&(w^D))+I[10]+38016083&4294967295,P=w+(N<<9&4294967295|N>>>23),N=k+(w^D&(P^w))+I[15]+3634488961&4294967295,k=P+(N<<14&4294967295|N>>>18),N=D+(P^w&(k^P))+I[4]+3889429448&4294967295,D=k+(N<<20&4294967295|N>>>12),N=w+(k^P&(D^k))+I[9]+568446438&4294967295,w=D+(N<<5&4294967295|N>>>27),N=P+(D^k&(w^D))+I[14]+3275163606&4294967295,P=w+(N<<9&4294967295|N>>>23),N=k+(w^D&(P^w))+I[3]+4107603335&4294967295,k=P+(N<<14&4294967295|N>>>18),N=D+(P^w&(k^P))+I[8]+1163531501&4294967295,D=k+(N<<20&4294967295|N>>>12),N=w+(k^P&(D^k))+I[13]+2850285829&4294967295,w=D+(N<<5&4294967295|N>>>27),N=P+(D^k&(w^D))+I[2]+4243563512&4294967295,P=w+(N<<9&4294967295|N>>>23),N=k+(w^D&(P^w))+I[7]+1735328473&4294967295,k=P+(N<<14&4294967295|N>>>18),N=D+(P^w&(k^P))+I[12]+2368359562&4294967295,D=k+(N<<20&4294967295|N>>>12),N=w+(D^k^P)+I[5]+4294588738&4294967295,w=D+(N<<4&4294967295|N>>>28),N=P+(w^D^k)+I[8]+2272392833&4294967295,P=w+(N<<11&4294967295|N>>>21),N=k+(P^w^D)+I[11]+1839030562&4294967295,k=P+(N<<16&4294967295|N>>>16),N=D+(k^P^w)+I[14]+4259657740&4294967295,D=k+(N<<23&4294967295|N>>>9),N=w+(D^k^P)+I[1]+2763975236&4294967295,w=D+(N<<4&4294967295|N>>>28),N=P+(w^D^k)+I[4]+1272893353&4294967295,P=w+(N<<11&4294967295|N>>>21),N=k+(P^w^D)+I[7]+4139469664&4294967295,k=P+(N<<16&4294967295|N>>>16),N=D+(k^P^w)+I[10]+3200236656&4294967295,D=k+(N<<23&4294967295|N>>>9),N=w+(D^k^P)+I[13]+681279174&4294967295,w=D+(N<<4&4294967295|N>>>28),N=P+(w^D^k)+I[0]+3936430074&4294967295,P=w+(N<<11&4294967295|N>>>21),N=k+(P^w^D)+I[3]+3572445317&4294967295,k=P+(N<<16&4294967295|N>>>16),N=D+(k^P^w)+I[6]+76029189&4294967295,D=k+(N<<23&4294967295|N>>>9),N=w+(D^k^P)+I[9]+3654602809&4294967295,w=D+(N<<4&4294967295|N>>>28),N=P+(w^D^k)+I[12]+3873151461&4294967295,P=w+(N<<11&4294967295|N>>>21),N=k+(P^w^D)+I[15]+530742520&4294967295,k=P+(N<<16&4294967295|N>>>16),N=D+(k^P^w)+I[2]+3299628645&4294967295,D=k+(N<<23&4294967295|N>>>9),N=w+(k^(D|~P))+I[0]+4096336452&4294967295,w=D+(N<<6&4294967295|N>>>26),N=P+(D^(w|~k))+I[7]+1126891415&4294967295,P=w+(N<<10&4294967295|N>>>22),N=k+(w^(P|~D))+I[14]+2878612391&4294967295,k=P+(N<<15&4294967295|N>>>17),N=D+(P^(k|~w))+I[5]+4237533241&4294967295,D=k+(N<<21&4294967295|N>>>11),N=w+(k^(D|~P))+I[12]+1700485571&4294967295,w=D+(N<<6&4294967295|N>>>26),N=P+(D^(w|~k))+I[3]+2399980690&4294967295,P=w+(N<<10&4294967295|N>>>22),N=k+(w^(P|~D))+I[10]+4293915773&4294967295,k=P+(N<<15&4294967295|N>>>17),N=D+(P^(k|~w))+I[1]+2240044497&4294967295,D=k+(N<<21&4294967295|N>>>11),N=w+(k^(D|~P))+I[8]+1873313359&4294967295,w=D+(N<<6&4294967295|N>>>26),N=P+(D^(w|~k))+I[15]+4264355552&4294967295,P=w+(N<<10&4294967295|N>>>22),N=k+(w^(P|~D))+I[6]+2734768916&4294967295,k=P+(N<<15&4294967295|N>>>17),N=D+(P^(k|~w))+I[13]+1309151649&4294967295,D=k+(N<<21&4294967295|N>>>11),N=w+(k^(D|~P))+I[4]+4149444226&4294967295,w=D+(N<<6&4294967295|N>>>26),N=P+(D^(w|~k))+I[11]+3174756917&4294967295,P=w+(N<<10&4294967295|N>>>22),N=k+(w^(P|~D))+I[2]+718787259&4294967295,k=P+(N<<15&4294967295|N>>>17),N=D+(P^(k|~w))+I[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+P&4294967295}n.prototype.u=function(R,w){w===void 0&&(w=R.length);for(var D=w-this.blockSize,I=this.B,k=this.h,P=0;P<w;){if(k==0)for(;P<=D;)i(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<w;)if(I[k++]=R.charCodeAt(P++),k==this.blockSize){i(this,I),k=0;break}}else for(;P<w;)if(I[k++]=R[P++],k==this.blockSize){i(this,I),k=0;break}}this.h=k,this.o+=w},n.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;var D=8*this.o;for(w=R.length-8;w<R.length;++w)R[w]=D&255,D/=256;for(this.u(R),R=Array(16),w=D=0;4>w;++w)for(var I=0;32>I;I+=8)R[D++]=this.g[w]>>>I&255;return R};function a(R,w){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=w(R)}function u(R,w){this.h=w;for(var D=[],I=!0,k=R.length-1;0<=k;k--){var P=R[k]|0;I&&P==w||(D[k]=P,I=!1)}this.g=D}var c={};function h(R){return-128<=R&&128>R?a(R,function(w){return new u([w|0],0>w?-1:0)}):new u([R|0],0>R?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return g;if(0>R)return C(f(-R));for(var w=[],D=1,I=0;R>=D;I++)w[I]=R/D|0,D*=4294967296;return new u(w,0)}function y(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return C(y(R.substring(1),w));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=f(Math.pow(w,8)),I=g,k=0;k<R.length;k+=8){var P=Math.min(8,R.length-k),N=parseInt(R.substring(k,k+P),w);8>P?(P=f(Math.pow(w,P)),I=I.j(P).add(f(N))):(I=I.j(D),I=I.add(f(N)))}return I}var g=h(0),p=h(1),v=h(16777216);r=u.prototype,r.m=function(){if(b(this))return-C(this).m();for(var R=0,w=1,D=0;D<this.g.length;D++){var I=this.i(D);R+=(0<=I?I:4294967296+I)*w,w*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A(this))return"0";if(b(this))return"-"+C(this).toString(R);for(var w=f(Math.pow(R,6)),D=this,I="";;){var k=x(D,w).g;D=E(D,k.j(w));var P=((0<D.g.length?D.g[0]:D.h)>>>0).toString(R);if(D=k,A(D))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function A(R){if(R.h!=0)return!1;for(var w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function b(R){return R.h==-1}r.l=function(R){return R=E(this,R),b(R)?-1:A(R)?0:1};function C(R){for(var w=R.g.length,D=[],I=0;I<w;I++)D[I]=~R.g[I];return new u(D,~R.h).add(p)}r.abs=function(){return b(this)?C(this):this},r.add=function(R){for(var w=Math.max(this.g.length,R.g.length),D=[],I=0,k=0;k<=w;k++){var P=I+(this.i(k)&65535)+(R.i(k)&65535),N=(P>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);I=N>>>16,P&=65535,N&=65535,D[k]=N<<16|P}return new u(D,D[D.length-1]&-2147483648?-1:0)};function E(R,w){return R.add(C(w))}r.j=function(R){if(A(this)||A(R))return g;if(b(this))return b(R)?C(this).j(C(R)):C(C(this).j(R));if(b(R))return C(this.j(C(R)));if(0>this.l(v)&&0>R.l(v))return f(this.m()*R.m());for(var w=this.g.length+R.g.length,D=[],I=0;I<2*w;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<R.g.length;k++){var P=this.i(I)>>>16,N=this.i(I)&65535,W=R.i(k)>>>16,J=R.i(k)&65535;D[2*I+2*k]+=N*J,T(D,2*I+2*k),D[2*I+2*k+1]+=P*J,T(D,2*I+2*k+1),D[2*I+2*k+1]+=N*W,T(D,2*I+2*k+1),D[2*I+2*k+2]+=P*W,T(D,2*I+2*k+2)}for(I=0;I<w;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=w;I<2*w;I++)D[I]=0;return new u(D,0)};function T(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function L(R,w){this.g=R,this.h=w}function x(R,w){if(A(w))throw Error("division by zero");if(A(R))return new L(g,g);if(b(R))return w=x(C(R),w),new L(C(w.g),C(w.h));if(b(w))return w=x(R,C(w)),new L(C(w.g),w.h);if(30<R.g.length){if(b(R)||b(w))throw Error("slowDivide_ only works with positive integers.");for(var D=p,I=w;0>=I.l(R);)D=j(D),I=j(I);var k=q(D,1),P=q(I,1);for(I=q(I,2),D=q(D,2);!A(I);){var N=P.add(I);0>=N.l(R)&&(k=k.add(D),P=N),I=q(I,1),D=q(D,1)}return w=E(R,k.j(w)),new L(k,w)}for(k=g;0<=R.l(w);){for(D=Math.max(1,Math.floor(R.m()/w.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=f(D),N=P.j(w);b(N)||0<N.l(R);)D-=I,P=f(D),N=P.j(w);A(P)&&(P=p),k=k.add(P),R=E(R,N)}return new L(k,R)}r.A=function(R){return x(this,R).h},r.and=function(R){for(var w=Math.max(this.g.length,R.g.length),D=[],I=0;I<w;I++)D[I]=this.i(I)&R.i(I);return new u(D,this.h&R.h)},r.or=function(R){for(var w=Math.max(this.g.length,R.g.length),D=[],I=0;I<w;I++)D[I]=this.i(I)|R.i(I);return new u(D,this.h|R.h)},r.xor=function(R){for(var w=Math.max(this.g.length,R.g.length),D=[],I=0;I<w;I++)D[I]=this.i(I)^R.i(I);return new u(D,this.h^R.h)};function j(R){for(var w=R.g.length+1,D=[],I=0;I<w;I++)D[I]=R.i(I)<<1|R.i(I-1)>>>31;return new u(D,R.h)}function q(R,w){var D=w>>5;w%=32;for(var I=R.g.length-D,k=[],P=0;P<I;P++)k[P]=0<w?R.i(P+D)>>>w|R.i(P+D+1)<<32-w:R.i(P+D);return new u(k,R.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Uw=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=y,rs=u}).apply(typeof Q2<"u"?Q2:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zw,pu,Hw,Ic,Nm,$w,Gw,Ww;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,O,M){return d==Array.prototype||d==Object.prototype||(d[O]=M.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var O=0;O<d.length;++O){var M=d[O];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var n=t(this);function i(d,O){if(O)e:{var M=n;d=d.split(".");for(var K=0;K<d.length-1;K++){var ae=d[K];if(!(ae in M))break e;M=M[ae]}d=d[d.length-1],K=M[d],O=O(K),O!=K&&O!=null&&e(M,d,{configurable:!0,writable:!0,value:O})}}function a(d,O){d instanceof String&&(d+="");var M=0,K=!1,ae={next:function(){if(!K&&M<d.length){var me=M++;return{value:O(me,d[me]),done:!1}}return K=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(d){return d||function(){return a(this,function(O,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function h(d){var O=typeof d;return O=O!="object"?O:d?Array.isArray(d)?"array":O:"null",O=="array"||O=="object"&&typeof d.length=="number"}function f(d){var O=typeof d;return O=="object"&&d!=null||O=="function"}function y(d,O,M){return d.call.apply(d.bind,arguments)}function g(d,O,M){if(!d)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,K),d.apply(O,ae)}}return function(){return d.apply(O,arguments)}}function p(d,O,M){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:g,p.apply(null,arguments)}function v(d,O){var M=Array.prototype.slice.call(arguments,1);return function(){var K=M.slice();return K.push.apply(K,arguments),d.apply(this,K)}}function A(d,O){function M(){}M.prototype=O.prototype,d.aa=O.prototype,d.prototype=new M,d.prototype.constructor=d,d.Qb=function(K,ae,me){for(var Se=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)Se[pt-2]=arguments[pt];return O.prototype[ae].apply(K,Se)}}function b(d){const O=d.length;if(0<O){const M=Array(O);for(let K=0;K<O;K++)M[K]=d[K];return M}return[]}function C(d,O){for(let M=1;M<arguments.length;M++){const K=arguments[M];if(h(K)){const ae=d.length||0,me=K.length||0;d.length=ae+me;for(let Se=0;Se<me;Se++)d[ae+Se]=K[Se]}else d.push(K)}}class E{constructor(O,M){this.i=O,this.j=M,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function T(d){return/^[\s\xa0]*$/.test(d)}function L(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function x(d){return x[" "](d),d}x[" "]=function(){};var j=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function q(d,O,M){for(const K in d)O.call(M,d[K],K,d)}function R(d,O){for(const M in d)O.call(void 0,d[M],M,d)}function w(d){const O={};for(const M in d)O[M]=d[M];return O}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(d,O){let M,K;for(let ae=1;ae<arguments.length;ae++){K=arguments[ae];for(M in K)d[M]=K[M];for(let me=0;me<D.length;me++)M=D[me],Object.prototype.hasOwnProperty.call(K,M)&&(d[M]=K[M])}}function k(d){var O=1;d=d.split(":");const M=[];for(;0<O&&d.length;)M.push(d.shift()),O--;return d.length&&M.push(d.join(":")),M}function P(d){c.setTimeout(()=>{throw d},0)}function N(){var d=G;let O=null;return d.g&&(O=d.g,d.g=d.g.next,d.g||(d.h=null),O.next=null),O}class W{constructor(){this.h=this.g=null}add(O,M){const K=J.get();K.set(O,M),this.h?this.h.next=K:this.g=K,this.h=K}}var J=new E(()=>new se,d=>d.reset());class se{constructor(){this.next=this.g=this.h=null}set(O,M){this.h=O,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let X,re=!1,G=new W,H=()=>{const d=c.Promise.resolve(void 0);X=()=>{d.then(B)}};var B=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(M){P(M)}var O=J;O.j(d),100>O.h&&(O.h++,d.next=O.g,O.g=d)}re=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(d,O){this.type=d,this.g=this.target=O,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,O=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const M=()=>{};c.addEventListener("test",M,O),c.removeEventListener("test",M,O)}catch{}return d}();function Z(d,O){if(z.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var M=this.type=d.type,K=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=O,O=d.relatedTarget){if(j){e:{try{x(O.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(O=null)}}else M=="mouseover"?O=d.fromElement:M=="mouseout"&&(O=d.toElement);this.relatedTarget=O,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:$[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Z.aa.h.call(this)}}A(Z,z);var $={2:"touch",3:"pen",4:"mouse"};Z.prototype.h=function(){Z.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),te=0;function ie(d,O,M,K,ae){this.listener=d,this.proxy=null,this.src=O,this.type=M,this.capture=!!K,this.ha=ae,this.key=++te,this.da=this.fa=!1}function de(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ge(d){this.src=d,this.g={},this.h=0}ge.prototype.add=function(d,O,M,K,ae){var me=d.toString();d=this.g[me],d||(d=this.g[me]=[],this.h++);var Se=Ie(d,O,K,ae);return-1<Se?(O=d[Se],M||(O.fa=!1)):(O=new ie(O,this.src,me,!!K,ae),O.fa=M,d.push(O)),O};function De(d,O){var M=O.type;if(M in d.g){var K=d.g[M],ae=Array.prototype.indexOf.call(K,O,void 0),me;(me=0<=ae)&&Array.prototype.splice.call(K,ae,1),me&&(de(O),d.g[M].length==0&&(delete d.g[M],d.h--))}}function Ie(d,O,M,K){for(var ae=0;ae<d.length;++ae){var me=d[ae];if(!me.da&&me.listener==O&&me.capture==!!M&&me.ha==K)return ae}return-1}var ke="closure_lm_"+(1e6*Math.random()|0),Re={};function Be(d,O,M,K,ae){if(Array.isArray(O)){for(var me=0;me<O.length;me++)Be(d,O[me],M,K,ae);return null}return M=Ve(M),d&&d[Q]?d.K(O,M,f(K)?!!K.capture:!1,ae):tt(d,O,M,!1,K,ae)}function tt(d,O,M,K,ae,me){if(!O)throw Error("Invalid event type");var Se=f(ae)?!!ae.capture:!!ae,pt=$e(d);if(pt||(d[ke]=pt=new ge(d)),M=pt.add(O,M,K,Se,me),M.proxy)return M;if(K=ce(),M.proxy=K,K.src=d,K.listener=M,d.addEventListener)ee||(ae=Se),ae===void 0&&(ae=!1),d.addEventListener(O.toString(),K,ae);else if(d.attachEvent)d.attachEvent(xe(O.toString()),K);else if(d.addListener&&d.removeListener)d.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return M}function ce(){function d(M){return O.call(d.src,d.listener,M)}const O=ye;return d}function fe(d,O,M,K,ae){if(Array.isArray(O))for(var me=0;me<O.length;me++)fe(d,O[me],M,K,ae);else K=f(K)?!!K.capture:!!K,M=Ve(M),d&&d[Q]?(d=d.i,O=String(O).toString(),O in d.g&&(me=d.g[O],M=Ie(me,M,K,ae),-1<M&&(de(me[M]),Array.prototype.splice.call(me,M,1),me.length==0&&(delete d.g[O],d.h--)))):d&&(d=$e(d))&&(O=d.g[O.toString()],d=-1,O&&(d=Ie(O,M,K,ae)),(M=-1<d?O[d]:null)&&Ee(M))}function Ee(d){if(typeof d!="number"&&d&&!d.da){var O=d.src;if(O&&O[Q])De(O.i,d);else{var M=d.type,K=d.proxy;O.removeEventListener?O.removeEventListener(M,K,d.capture):O.detachEvent?O.detachEvent(xe(M),K):O.addListener&&O.removeListener&&O.removeListener(K),(M=$e(O))?(De(M,d),M.h==0&&(M.src=null,O[ke]=null)):de(d)}}}function xe(d){return d in Re?Re[d]:Re[d]="on"+d}function ye(d,O){if(d.da)d=!0;else{O=new Z(O,this);var M=d.listener,K=d.ha||d.src;d.fa&&Ee(d),d=M.call(K,O)}return d}function $e(d){return d=d[ke],d instanceof ge?d:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(d){return typeof d=="function"?d:(d[je]||(d[je]=function(O){return d.handleEvent(O)}),d[je])}function Ge(){V.call(this),this.i=new ge(this),this.M=this,this.F=null}A(Ge,V),Ge.prototype[Q]=!0,Ge.prototype.removeEventListener=function(d,O,M,K){fe(this,d,O,M,K)};function Xe(d,O){var M,K=d.F;if(K)for(M=[];K;K=K.F)M.push(K);if(d=d.M,K=O.type||O,typeof O=="string")O=new z(O,d);else if(O instanceof z)O.target=O.target||d;else{var ae=O;O=new z(K,d),I(O,ae)}if(ae=!0,M)for(var me=M.length-1;0<=me;me--){var Se=O.g=M[me];ae=et(Se,K,!0,O)&&ae}if(Se=O.g=d,ae=et(Se,K,!0,O)&&ae,ae=et(Se,K,!1,O)&&ae,M)for(me=0;me<M.length;me++)Se=O.g=M[me],ae=et(Se,K,!1,O)&&ae}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var d=this.i,O;for(O in d.g){for(var M=d.g[O],K=0;K<M.length;K++)de(M[K]);delete d.g[O],d.h--}}this.F=null},Ge.prototype.K=function(d,O,M,K){return this.i.add(String(d),O,!1,M,K)},Ge.prototype.L=function(d,O,M,K){return this.i.add(String(d),O,!0,M,K)};function et(d,O,M,K){if(O=d.i.g[String(O)],!O)return!0;O=O.concat();for(var ae=!0,me=0;me<O.length;++me){var Se=O[me];if(Se&&!Se.da&&Se.capture==M){var pt=Se.listener,Ut=Se.ha||Se.src;Se.fa&&De(d.i,Se),ae=pt.call(Ut,K)!==!1&&ae}}return ae&&!K.defaultPrevented}function nr(d,O,M){if(typeof d=="function")M&&(d=p(d,M));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:c.setTimeout(d,O||0)}function ht(d){d.g=nr(()=>{d.g=null,d.i&&(d.i=!1,ht(d))},d.l);const O=d.h;d.h=null,d.m.apply(null,O)}class bt extends V{constructor(O,M){super(),this.m=O,this.l=M,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:ht(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wt(d){V.call(this),this.h=d,this.g={}}A(Wt,V);var rr=[];function Ci(d){q(d.g,function(O,M){this.g.hasOwnProperty(M)&&Ee(O)},d),d.g={}}Wt.prototype.N=function(){Wt.aa.N.call(this),Ci(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ea=c.JSON.stringify,Aa=c.JSON.parse,Ca=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function vs(){}vs.prototype.h=null;function io(d){return d.h||(d.h=d.i())}function so(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){z.call(this,"d")}A(br,z);function oo(){z.call(this,"c")}A(oo,z);var Tr={},ba=null;function _s(){return ba=ba||new Ge}Tr.La="serverreachability";function Ta(d){z.call(this,Tr.La,d)}A(Ta,z);function Wr(d){const O=_s();Xe(O,new Ta(O))}Tr.STAT_EVENT="statevent";function xa(d,O){z.call(this,Tr.STAT_EVENT,d),this.stat=O}A(xa,z);function Pt(d){const O=_s();Xe(O,new xa(O,d))}Tr.Ma="timingevent";function ao(d,O){z.call(this,Tr.Ma,d),this.size=O}A(ao,z);function ir(d,O){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},O)}function ws(){this.g=!0}ws.prototype.xa=function(){this.g=!1};function Es(d,O,M,K,ae,me){d.info(function(){if(d.g)if(me)for(var Se="",pt=me.split("&"),Ut=0;Ut<pt.length;Ut++){var ut=pt[Ut].split("=");if(1<ut.length){var Kt=ut[0];ut=ut[1];var Ft=Kt.split("_");Se=2<=Ft.length&&Ft[1]=="type"?Se+(Kt+"="+ut+"&"):Se+(Kt+"=redacted&")}}else Se=null;else Se=me;return"XMLHTTP REQ ("+K+") [attempt "+ae+"]: "+O+`
`+M+`
`+Se})}function uo(d,O,M,K,ae,me,Se){d.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+ae+"]: "+O+`
`+M+`
`+me+" "+Se})}function sr(d,O,M,K){d.info(function(){return"XMLHTTP TEXT ("+O+"): "+ed(d,M)+(K?" "+K:"")})}function Sa(d,O){d.info(function(){return"TIMEOUT: "+O})}ws.prototype.info=function(){};function ed(d,O){if(!d.g)return O;if(!O)return null;try{var M=JSON.parse(O);if(M){for(d=0;d<M.length;d++)if(Array.isArray(M[d])){var K=M[d];if(!(2>K.length)){var ae=K[1];if(Array.isArray(ae)&&!(1>ae.length)){var me=ae[0];if(me!="noop"&&me!="stop"&&me!="close")for(var Se=1;Se<ae.length;Se++)ae[Se]=""}}}}return Ea(M)}catch{return O}}var lo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},nl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},or;function As(){}A(As,vs),As.prototype.g=function(){return new XMLHttpRequest},As.prototype.i=function(){return{}},or=new As;function ar(d,O,M,K){this.j=d,this.i=O,this.l=M,this.R=K||1,this.U=new Wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rl}function rl(){this.i=null,this.g="",this.h=!1}var Da={},co={};function ho(d,O,M){d.L=1,d.v=Di(Ln(O)),d.m=M,d.P=!0,Ia(d,null)}function Ia(d,O){d.F=Date.now(),gt(d),d.A=Ln(d.v);var M=d.A,K=d.R;Array.isArray(K)||(K=[String(K)]),ki(M.i,"t",K),d.C=0,M=d.j.J,d.h=new rl,d.g=El(d.j,M?O:null,!d.m),0<d.O&&(d.M=new bt(p(d.Y,d,d.g),d.O)),O=d.U,M=d.g,K=d.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(rr[0]=ae.toString()),ae=rr);for(var me=0;me<ae.length;me++){var Se=Be(M,ae[me],K||O.handleEvent,!1,O.h||O);if(!Se)break;O.g[Se.key]=Se}O=d.H?w(d.H):{},d.m?(d.u||(d.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,O)):(d.u="GET",d.g.ea(d.A,d.u,null,O)),Wr(),Es(d.i,d.u,d.A,d.l,d.R,d.m)}ar.prototype.ca=function(d){d=d.target;const O=this.M;O&&Tn(d)==3?O.j():this.Y(d)},ar.prototype.Y=function(d){try{if(d==this.g)e:{const Ft=Tn(this.g);var O=this.g.Ba();const Wn=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||La(this.g)))){this.J||Ft!=4||O==7||(O==8||0>=Wn?Wr(3):Wr(2)),Cs(this);var M=this.g.Z();this.X=M;t:if(il(this)){var K=La(this.g);d="";var ae=K.length,me=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),bi(this);var Se="";break t}this.h.i=new c.TextDecoder}for(O=0;O<ae;O++)this.h.h=!0,d+=this.h.i.decode(K[O],{stream:!(me&&O==ae-1)});K.length=0,this.h.g+=d,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=M==200,uo(this.i,this.u,this.A,this.l,this.R,Ft,M),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Ut=this.g;if((pt=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(pt)){var ut=pt;break t}}ut=null}if(M=ut)sr(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ka(this,M);else{this.o=!1,this.s=3,Pt(12),$n(this),bi(this);break e}}if(this.P){M=!0;let Bn;for(;!this.J&&this.C<Se.length;)if(Bn=td(this,Se),Bn==co){Ft==4&&(this.s=4,Pt(14),M=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==Da){this.s=4,Pt(15),sr(this.i,this.l,Se,"[Invalid Chunk]"),M=!1;break}else sr(this.i,this.l,Bn,null),ka(this,Bn);if(il(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||Se.length!=0||this.h.h||(this.s=1,Pt(16),M=!1),this.o=this.o&&M,!M)sr(this.i,this.l,Se,"[Invalid Chunked Response]"),$n(this),bi(this);else if(0<Se.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),Ba(Kt),Kt.M=!0,Pt(11))}}else sr(this.i,this.l,Se,null),ka(this,Se);Ft==4&&$n(this),this.o&&!this.J&&(Ft==4?Co(this.j,this):(this.o=!1,gt(this)))}else vo(this.g),M==400&&0<Se.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),$n(this),bi(this)}}}catch{}finally{}};function il(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function td(d,O){var M=d.C,K=O.indexOf(`
`,M);return K==-1?co:(M=Number(O.substring(M,K)),isNaN(M)?Da:(K+=1,K+M>O.length?co:(O=O.slice(K,K+M),d.C=K+M,O)))}ar.prototype.cancel=function(){this.J=!0,$n(this)};function gt(d){d.S=Date.now()+d.I,sl(d,d.I)}function sl(d,O){if(d.B!=null)throw Error("WatchDog timer not null");d.B=ir(p(d.ba,d),O)}function Cs(d){d.B&&(c.clearTimeout(d.B),d.B=null)}ar.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Sa(this.i,this.A),this.L!=2&&(Wr(),Pt(17)),$n(this),this.s=2,bi(this)):sl(this,this.S-d)};function bi(d){d.j.G==0||d.J||Co(d.j,d)}function $n(d){Cs(d);var O=d.M;O&&typeof O.ma=="function"&&O.ma(),d.M=null,Ci(d.U),d.g&&(O=d.g,d.g=null,O.abort(),O.ma())}function ka(d,O){try{var M=d.j;if(M.G!=0&&(M.g==d||mn(M.h,d))){if(!d.K&&mn(M.h,d)&&M.G==3){try{var K=M.Da.g.parse(O)}catch{K=null}if(Array.isArray(K)&&K.length==3){var ae=K;if(ae[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<d.F)Ao(M),dr(M);else break e;Eo(M),Pt(18)}}else M.za=ae[1],0<M.za-M.T&&37500>ae[2]&&M.F&&M.v==0&&!M.C&&(M.C=ir(p(M.Za,M),6e3));if(1>=al(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Zr(M,11)}else if((d.K||M.g==d)&&Ao(M),!T(O))for(ae=M.Da.g.parse(O),O=0;O<ae.length;O++){let ut=ae[O];if(M.T=ut[0],ut=ut[1],M.G==2)if(ut[0]=="c"){M.K=ut[1],M.ia=ut[2];const Kt=ut[3];Kt!=null&&(M.la=Kt,M.j.info("VER="+M.la));const Ft=ut[4];Ft!=null&&(M.Aa=Ft,M.j.info("SVER="+M.Aa));const Wn=ut[5];Wn!=null&&typeof Wn=="number"&&0<Wn&&(K=1.5*Wn,M.L=K,M.j.info("backChannelRequestTimeoutMs_="+K)),K=M;const Bn=d.g;if(Bn){const ks=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var me=K.h;me.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(Ra(me,me.h),me.h=null))}if(K.D){const To=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(K.ya=To,mt(K.I,K.D,To))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-d.F,M.j.info("Handshake RTT: "+M.R+"ms")),K=M;var Se=d;if(K.qa=wl(K,K.J?K.ia:null,K.W),Se.K){ul(K.h,Se);var pt=Se,Ut=K.L;Ut&&(pt.I=Ut),pt.B&&(Cs(pt),gt(pt)),K.g=Se}else Is(K);0<M.i.length&&Ir(M)}else ut[0]!="stop"&&ut[0]!="close"||Zr(M,7);else M.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?Zr(M,7):en(M):ut[0]!="noop"&&M.l&&M.l.ta(ut),M.v=0)}}Wr(4)}catch{}}var ol=class{constructor(d,O){this.g=d,this.map=O}};function bs(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function On(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function al(d){return d.h?1:d.g?d.g.size:0}function mn(d,O){return d.h?d.h==O:d.g?d.g.has(O):!1}function Ra(d,O){d.g?d.g.add(O):d.h=O}function ul(d,O){d.h&&d.h==O?d.h=null:d.g&&d.g.has(O)&&d.g.delete(O)}bs.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ll(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let O=d.i;for(const M of d.g.values())O=O.concat(M.D);return O}return b(d.i)}function fo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var O=[],M=d.length,K=0;K<M;K++)O.push(d[K]);return O}O=[],M=0;for(K in d)O[M++]=d[K];return O}function po(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var O=[];d=d.length;for(var M=0;M<d;M++)O.push(M);return O}O=[],M=0;for(const K in d)O[M++]=K;return O}}}function Ti(d,O){if(d.forEach&&typeof d.forEach=="function")d.forEach(O,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,O,void 0);else for(var M=po(d),K=fo(d),ae=K.length,me=0;me<ae;me++)O.call(void 0,K[me],M&&M[me],d)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nd(d,O){if(d){d=d.split("&");for(var M=0;M<d.length;M++){var K=d[M].indexOf("="),ae=null;if(0<=K){var me=d[M].substring(0,K);ae=d[M].substring(K+1)}else me=d[M];O(me,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Kr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Kr){this.h=d.h,xs(this,d.j),this.o=d.o,this.g=d.g,xi(this,d.s),this.l=d.l;var O=d.i,M=new xr;M.i=O.i,O.g&&(M.g=new Map(O.g),M.h=O.h),Si(this,M),this.m=d.m}else d&&(O=String(d).match(Ts))?(this.h=!1,xs(this,O[1]||"",!0),this.o=ot(O[2]||""),this.g=ot(O[3]||"",!0),xi(this,O[4]),this.l=ot(O[5]||"",!0),Si(this,O[6]||"",!0),this.m=ot(O[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}Kr.prototype.toString=function(){var d=[],O=this.j;O&&d.push(Ii(O,mo,!0),":");var M=this.g;return(M||O=="file")&&(d.push("//"),(O=this.o)&&d.push(Ii(O,mo,!0),"@"),d.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&d.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&d.push("/"),d.push(Ii(M,M.charAt(0)=="/"?dl:hl,!0))),(M=this.i.toString())&&d.push("?",M),(M=this.m)&&d.push("#",Ii(M,Pa)),d.join("")};function Ln(d){return new Kr(d)}function xs(d,O,M){d.j=M?ot(O,!0):O,d.j&&(d.j=d.j.replace(/:$/,""))}function xi(d,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);d.s=O}else d.s=null}function Si(d,O,M){O instanceof xr?(d.i=O,Sr(d.i,d.h)):(M||(O=Ii(O,fl)),d.i=new xr(O,d.h))}function mt(d,O,M){d.i.set(O,M)}function Di(d){return mt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ot(d,O){return d?O?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ii(d,O,M){return typeof d=="string"?(d=encodeURI(d).replace(O,cl),M&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function cl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var mo=/[#\/\?@]/g,hl=/[#\?:]/g,dl=/[#\?]/g,fl=/[#\?@]/g,Pa=/#/g;function xr(d,O){this.h=this.g=null,this.i=d||null,this.j=!!O}function Xt(d){d.g||(d.g=new Map,d.h=0,d.i&&nd(d.i,function(O,M){d.add(decodeURIComponent(O.replace(/\+/g," ")),M)}))}r=xr.prototype,r.add=function(d,O){Xt(this),this.i=null,d=Gn(this,d);var M=this.g.get(d);return M||this.g.set(d,M=[]),M.push(O),this.h+=1,this};function ur(d,O){Xt(d),O=Gn(d,O),d.g.has(O)&&(d.i=null,d.h-=d.g.get(O).length,d.g.delete(O))}function lr(d,O){return Xt(d),O=Gn(d,O),d.g.has(O)}r.forEach=function(d,O){Xt(this),this.g.forEach(function(M,K){M.forEach(function(ae){d.call(O,ae,K,this)},this)},this)},r.na=function(){Xt(this);const d=Array.from(this.g.values()),O=Array.from(this.g.keys()),M=[];for(let K=0;K<O.length;K++){const ae=d[K];for(let me=0;me<ae.length;me++)M.push(O[K])}return M},r.V=function(d){Xt(this);let O=[];if(typeof d=="string")lr(this,d)&&(O=O.concat(this.g.get(Gn(this,d))));else{d=Array.from(this.g.values());for(let M=0;M<d.length;M++)O=O.concat(d[M])}return O},r.set=function(d,O){return Xt(this),this.i=null,d=Gn(this,d),lr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[O]),this.h+=1,this},r.get=function(d,O){return d?(d=this.V(d),0<d.length?String(d[0]):O):O};function ki(d,O,M){ur(d,O),0<M.length&&(d.i=null,d.g.set(Gn(d,O),b(M)),d.h+=M.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],O=Array.from(this.g.keys());for(var M=0;M<O.length;M++){var K=O[M];const me=encodeURIComponent(String(K)),Se=this.V(K);for(K=0;K<Se.length;K++){var ae=me;Se[K]!==""&&(ae+="="+encodeURIComponent(String(Se[K]))),d.push(ae)}}return this.i=d.join("&")};function Gn(d,O){return O=String(O),d.j&&(O=O.toLowerCase()),O}function Sr(d,O){O&&!d.j&&(Xt(d),d.i=null,d.g.forEach(function(M,K){var ae=K.toLowerCase();K!=ae&&(ur(this,K),ki(this,ae,M))},d)),d.j=O}function rd(d,O){const M=new ws;if(c.Image){const K=new Image;K.onload=v(bn,M,"TestLoadImage: loaded",!0,O,K),K.onerror=v(bn,M,"TestLoadImage: error",!1,O,K),K.onabort=v(bn,M,"TestLoadImage: abort",!1,O,K),K.ontimeout=v(bn,M,"TestLoadImage: timeout",!1,O,K),c.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=d}else O(!1)}function pl(d,O){const M=new ws,K=new AbortController,ae=setTimeout(()=>{K.abort(),bn(M,"TestPingServer: timeout",!1,O)},1e4);fetch(d,{signal:K.signal}).then(me=>{clearTimeout(ae),me.ok?bn(M,"TestPingServer: ok",!0,O):bn(M,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(ae),bn(M,"TestPingServer: error",!1,O)})}function bn(d,O,M,K,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),K(M)}catch{}}function id(){this.g=new Ca}function ml(d,O,M){const K=M||"";try{Ti(d,function(ae,me){let Se=ae;f(ae)&&(Se=Ea(ae)),O.push(K+me+"="+encodeURIComponent(Se))})}catch(ae){throw O.push(K+"type="+encodeURIComponent("_badmap")),ae}}function Jr(d){this.l=d.Ub||null,this.j=d.eb||!1}A(Jr,vs),Jr.prototype.g=function(){return new Ss(this.l,this.j)},Jr.prototype.i=function(d){return function(){return d}}({});function Ss(d,O){Ge.call(this),this.D=d,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ss,Ge),r=Ss.prototype,r.open=function(d,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=O,this.readyState=1,hr(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(O.body=d),(this.D||c).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},r.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function gl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}r.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var O=d.value?d.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!d.done}))&&(this.response=this.responseText+=O)}d.done?cr(this):hr(this),this.readyState==3&&gl(this)}},r.Ra=function(d){this.g&&(this.response=this.responseText=d,cr(this))},r.Qa=function(d){this.g&&(this.response=d,cr(this))},r.ga=function(){this.g&&cr(this)};function cr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,hr(d)}r.setRequestHeader=function(d,O){this.u.append(d,O)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],O=this.h.entries();for(var M=O.next();!M.done;)M=M.value,d.push(M[0]+": "+M[1]),M=O.next();return d.join(`\r
`)};function hr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Qr(d){let O="";return q(d,function(M,K){O+=K,O+=":",O+=M,O+=`\r
`}),O}function Ri(d,O,M){e:{for(K in M){var K=!1;break e}K=!0}K||(M=Qr(M),typeof d=="string"?M!=null&&encodeURIComponent(String(M)):mt(d,O,M))}function At(d){Ge.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(At,Ge);var sd=/^https?$/i,Na=["POST","PUT"];r=At.prototype,r.Ha=function(d){this.J=d},r.ea=function(d,O,M,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);O=O?O.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():or.g(),this.v=this.o?io(this.o):io(or),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(O,String(d),!0),this.B=!1}catch(me){Ds(this,me);return}if(d=M||"",M=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var ae in K)M.set(ae,K[ae]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const me of K.keys())M.set(me,K.get(me));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(M.keys()).find(me=>me.toLowerCase()=="content-type"),ae=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Na,O,void 0))||K||ae||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,Se]of M)this.g.setRequestHeader(me,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yo(this),this.u=!0,this.g.send(d),this.u=!1}catch(me){Ds(this,me)}};function Ds(d,O){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=O,d.m=5,go(d),Fn(d)}function go(d){d.A||(d.A=!0,Xe(d,"complete"),Xe(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Xe(this,"complete"),Xe(this,"abort"),Fn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),At.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},r.bb=function(){Oa(this)};function Oa(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Tn(d)!=4||d.Z()!=2)){if(d.u&&Tn(d)==4)nr(d.Ea,0,d);else if(Xe(d,"readystatechange"),Tn(d)==4){d.h=!1;try{const Se=d.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var M;if(!(M=O)){var K;if(K=Se===0){var ae=String(d.D).match(Ts)[1]||null;!ae&&c.self&&c.self.location&&(ae=c.self.location.protocol.slice(0,-1)),K=!sd.test(ae?ae.toLowerCase():"")}M=K}if(M)Xe(d,"complete"),Xe(d,"success");else{d.m=6;try{var me=2<Tn(d)?d.g.statusText:""}catch{me=""}d.l=me+" ["+d.Z()+"]",go(d)}}finally{Fn(d)}}}}function Fn(d,O){if(d.g){yo(d);const M=d.g,K=d.v[0]?()=>{}:null;d.g=null,d.v=null,O||Xe(d,"ready");try{M.onreadystatechange=K}catch{}}}function yo(d){d.I&&(c.clearTimeout(d.I),d.I=null)}r.isActive=function(){return!!this.g};function Tn(d){return d.g?d.g.readyState:0}r.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(d){if(this.g){var O=this.g.responseText;return d&&O.indexOf(d)==0&&(O=O.substring(d.length)),Aa(O)}};function La(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function vo(d){const O={};d=(d.g&&2<=Tn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<d.length;K++){if(T(d[K]))continue;var M=k(d[K]);const ae=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const me=O[ae]||[];O[ae]=me,me.push(M)}R(O,function(K){return K.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dr(d,O,M){return M&&M.internalChannelParams&&M.internalChannelParams[d]||O}function Fa(d){this.Aa=0,this.i=[],this.j=new ws,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Dr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Dr("baseRetryDelayMs",5e3,d),this.cb=Dr("retryDelaySeedMs",1e4,d),this.Wa=Dr("forwardChannelMaxRetries",2,d),this.wa=Dr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new bs(d&&d.concurrentRequestLimit),this.Da=new id,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Fa.prototype,r.la=8,r.G=1,r.connect=function(d,O,M,K){Pt(0),this.W=d,this.H=O||{},M&&K!==void 0&&(this.H.OSID=M,this.H.OAID=K),this.F=this.X,this.I=wl(this,null,this.W),Ir(this)};function en(d){if(_o(d),d.G==3){var O=d.U++,M=Ln(d.I);if(mt(M,"SID",d.K),mt(M,"RID",O),mt(M,"TYPE","terminate"),Yr(d,M),O=new ar(d,d.j,O),O.L=2,O.v=Di(Ln(M)),M=!1,c.navigator&&c.navigator.sendBeacon)try{M=c.navigator.sendBeacon(O.v.toString(),"")}catch{}!M&&c.Image&&(new Image().src=O.v,M=!0),M||(O.g=El(O.j,null),O.g.ea(O.v)),O.F=Date.now(),gt(O)}_l(d)}function dr(d){d.g&&(Ba(d),d.g.cancel(),d.g=null)}function _o(d){dr(d),d.u&&(c.clearTimeout(d.u),d.u=null),Ao(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Ir(d){if(!On(d.h)&&!d.s){d.s=!0;var O=d.Ga;X||H(),re||(X(),re=!0),G.add(O,d),d.B=0}}function od(d,O){return al(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=O.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=ir(p(d.Ga,d,O),vl(d,d.B)),d.B++,!0)}r.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const ae=new ar(this,this.j,d);let me=this.o;if(this.S&&(me?(me=w(me),I(me,this.S)):me=this.S),this.m!==null||this.O||(ae.H=me,me=null),this.P)e:{for(var O=0,M=0;M<this.i.length;M++){t:{var K=this.i[M];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(O+=K,4096<O){O=M;break e}if(O===4096||M===this.i.length-1){O=M+1;break e}}O=1e3}else O=1e3;O=Pi(this,ae,O),M=Ln(this.I),mt(M,"RID",d),mt(M,"CVER",22),this.D&&mt(M,"X-HTTP-Session-Id",this.D),Yr(this,M),me&&(this.O?O="headers="+encodeURIComponent(String(Qr(me)))+"&"+O:this.m&&Ri(M,this.m,me)),Ra(this.h,ae),this.Ua&&mt(M,"TYPE","init"),this.P?(mt(M,"$req",O),mt(M,"SID","null"),ae.T=!0,ho(ae,M,null)):ho(ae,M,O),this.G=2}}else this.G==3&&(d?wo(this,d):this.i.length==0||On(this.h)||wo(this))};function wo(d,O){var M;O?M=O.l:M=d.U++;const K=Ln(d.I);mt(K,"SID",d.K),mt(K,"RID",M),mt(K,"AID",d.T),Yr(d,K),d.m&&d.o&&Ri(K,d.m,d.o),M=new ar(d,d.j,M,d.B+1),d.m===null&&(M.H=d.o),O&&(d.i=O.D.concat(d.i)),O=Pi(d,M,1e3),M.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ra(d.h,M),ho(M,K,O)}function Yr(d,O){d.H&&q(d.H,function(M,K){mt(O,K,M)}),d.l&&Ti({},function(M,K){mt(O,K,M)})}function Pi(d,O,M){M=Math.min(d.i.length,M);var K=d.l?p(d.l.Na,d.l,d):null;e:{var ae=d.i;let me=-1;for(;;){const Se=["count="+M];me==-1?0<M?(me=ae[0].g,Se.push("ofs="+me)):me=0:Se.push("ofs="+me);let pt=!0;for(let Ut=0;Ut<M;Ut++){let ut=ae[Ut].g;const Kt=ae[Ut].map;if(ut-=me,0>ut)me=Math.max(0,ae[Ut].g-100),pt=!1;else try{ml(Kt,Se,"req"+ut+"_")}catch{K&&K(Kt)}}if(pt){K=Se.join("&");break e}}}return d=d.i.splice(0,M),O.D=d,K}function Is(d){if(!d.g&&!d.u){d.Y=1;var O=d.Fa;X||H(),re||(X(),re=!0),G.add(O,d),d.v=0}}function Eo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=ir(p(d.Fa,d),vl(d,d.v)),d.v++,!0)}r.Fa=function(){if(this.u=null,yl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=ir(p(this.ab,this),d)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),dr(this),yl(this))};function Ba(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function yl(d){d.g=new ar(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var O=Ln(d.qa);mt(O,"RID","rpc"),mt(O,"SID",d.K),mt(O,"AID",d.T),mt(O,"CI",d.F?"0":"1"),!d.F&&d.ja&&mt(O,"TO",d.ja),mt(O,"TYPE","xmlhttp"),Yr(d,O),d.m&&d.o&&Ri(O,d.m,d.o),d.L&&(d.g.I=d.L);var M=d.g;d=d.ia,M.L=1,M.v=Di(Ln(O)),M.m=null,M.P=!0,Ia(M,d)}r.Za=function(){this.C!=null&&(this.C=null,dr(this),Eo(this),Pt(19))};function Ao(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Co(d,O){var M=null;if(d.g==O){Ao(d),Ba(d),d.g=null;var K=2}else if(mn(d.h,O))M=O.D,ul(d.h,O),K=1;else return;if(d.G!=0){if(O.o)if(K==1){M=O.m?O.m.length:0,O=Date.now()-O.F;var ae=d.B;K=_s(),Xe(K,new ao(K,M)),Ir(d)}else Is(d);else if(ae=O.s,ae==3||ae==0&&0<O.X||!(K==1&&od(d,O)||K==2&&Eo(d)))switch(M&&0<M.length&&(O=d.h,O.i=O.i.concat(M)),ae){case 1:Zr(d,5);break;case 4:Zr(d,10);break;case 3:Zr(d,6);break;default:Zr(d,2)}}}function vl(d,O){let M=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(M*=2),M*O}function Zr(d,O){if(d.j.info("Error code "+O),O==2){var M=p(d.fb,d),K=d.Xa;const ae=!K;K=new Kr(K||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||xs(K,"https"),Di(K),ae?rd(K.toString(),M):pl(K.toString(),M)}else Pt(2);d.G=0,d.l&&d.l.sa(O),_l(d),_o(d)}r.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function _l(d){if(d.G=0,d.ka=[],d.l){const O=ll(d.h);(O.length!=0||d.i.length!=0)&&(C(d.ka,O),C(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function wl(d,O,M){var K=M instanceof Kr?Ln(M):new Kr(M);if(K.g!="")O&&(K.g=O+"."+K.g),xi(K,K.s);else{var ae=c.location;K=ae.protocol,O=O?O+"."+ae.hostname:ae.hostname,ae=+ae.port;var me=new Kr(null);K&&xs(me,K),O&&(me.g=O),ae&&xi(me,ae),M&&(me.l=M),K=me}return M=d.D,O=d.ya,M&&O&&mt(K,M,O),mt(K,"VER",d.la),Yr(d,K),K}function El(d,O,M){if(O&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=d.Ca&&!d.pa?new At(new Jr({eb:M})):new At(d.pa),O.Ha(d.J),O}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ja(){}r=ja.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function bo(){}bo.prototype.g=function(d,O){return new gn(d,O)};function gn(d,O){Ge.call(this),this.g=new Fa(O),this.l=d,this.h=O&&O.messageUrlParams||null,d=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(d?d["X-WebChannel-Content-Type"]=O.messageContentType:d={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(d?d["X-WebChannel-Client-Profile"]=O.va:d={"X-WebChannel-Client-Profile":O.va}),this.g.S=d,(d=O&&O.Sb)&&!T(d)&&(this.g.m=d),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!T(O)&&(this.g.D=O,d=this.h,d!==null&&O in d&&(d=this.h,O in d&&delete d[O])),this.j=new kr(this)}A(gn,Ge),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){en(this.g)},gn.prototype.o=function(d){var O=this.g;if(typeof d=="string"){var M={};M.__data__=d,d=M}else this.u&&(M={},M.__data__=Ea(d),d=M);O.i.push(new ol(O.Ya++,d)),O.G==3&&Ir(O)},gn.prototype.N=function(){this.g.l=null,delete this.j,en(this.g),delete this.g,gn.aa.N.call(this)};function Al(d){br.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var O=d.__sm__;if(O){e:{for(const M in O){d=M;break e}d=void 0}(this.i=d)&&(d=this.i,O=O!==null&&d in O?O[d]:void 0),this.data=O}else this.data=d}A(Al,br);function Cl(){oo.call(this),this.status=1}A(Cl,oo);function kr(d){this.g=d}A(kr,ja),kr.prototype.ua=function(){Xe(this.g,"a")},kr.prototype.ta=function(d){Xe(this.g,new Al(d))},kr.prototype.sa=function(d){Xe(this.g,new Cl)},kr.prototype.ra=function(){Xe(this.g,"b")},bo.prototype.createWebChannel=bo.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Ww=function(){return new bo},Gw=function(){return _s()},$w=Tr,Nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lo.NO_ERROR=0,lo.TIMEOUT=8,lo.HTTP_ERROR=6,Ic=lo,nl.COMPLETE="complete",Hw=nl,so.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,pu=so,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,zw=At}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const Y2="@firebase/firestore",Z2="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new sg("@firebase/firestore");function Go(){return Ks.logLevel}function Ne(r,...e){if(Ks.logLevel<=it.DEBUG){const t=e.map(ug);Ks.debug(`Firestore (${ca}): ${r}`,...t)}}function pi(r,...e){if(Ks.logLevel<=it.ERROR){const t=e.map(ug);Ks.error(`Firestore (${ca}): ${r}`,...t)}}function na(r,...e){if(Ks.logLevel<=it.WARN){const t=e.map(ug);Ks.warn(`Firestore (${ca}): ${r}`,...t)}}function ug(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,Kw(r,n,t)}function Kw(r,e,t){let n=`FIRESTORE (${ca}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw pi(n),new Error(n)}function ft(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||Kw(e,i,n)}function Qe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Hr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(dn.UNAUTHENTICATED))}shutdown(){}}class dS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fS{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ft(this.o===void 0,42304);let n=this.i;const i=h=>this.i!==n?(n=this.i,t(h)):Promise.resolve();let a=new li;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new li,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new li)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ft(typeof n.accessToken=="string",31837,{l:n}),new Jw(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class pS{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mS{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new pS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ft(this.o===void 0,3512);const n=a=>{a.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,Ne("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new X2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ft(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new X2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=yS(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%62))}return n}}function nt(r,e){return r<e?-1:r>e?1:0}function Om(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),i=e.codePointAt(t);if(n!==i){if(n<128&&i<128)return nt(n,i);{const a=Qw(),u=vS(a.encode(e0(r,t)),a.encode(e0(e,t)));return u!==0?u:nt(n,i)}}t+=n>65535?2:1}return nt(r.length,e.length)}function e0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function vS(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return nt(r[t],e[t]);return nt(r.length,e.length)}function ra(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=-62135596800,n0=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*n0);return new Lt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<t0)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n0}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-t0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new Lt(0,0))}static max(){return new Ze(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="__name__";class Lr{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ke(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ke(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Lr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=Lr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return nt(e.length,t.length)}static compareSegments(e,t){const n=Lr.isNumericId(e),i=Lr.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Lr.extractNumericId(e).compare(Lr.extractNumericId(t)):Om(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class Et extends Lr{construct(e,t,n){return new Et(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Oe(_e.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new Et(t)}static emptyPath(){return new Et([])}}const _S=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Lr{construct(e,t,n){return new sn(e,t,n)}static isValidIdentifier(e){return _S.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r0}static keyField(){return new sn([r0])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Oe(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Oe(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Oe(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,i+=2}else c==="`"?(u=!u,i++):c!=="."||u?(n+=c,i++):(a(),i++)}if(a(),u)throw new Oe(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(t)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Et.fromString(e))}static fromName(e){return new Ue(Et.fromString(e).popFirst(5))}static empty(){return new Ue(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=-1;function wS(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(n===1e9?new Lt(t+1,0):new Lt(t,n));return new os(i,Ue.empty(),e)}function ES(r){return new os(r.readTime,r.key,Iu)}class os{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new os(Ze.min(),Ue.empty(),Iu)}static max(){return new os(Ze.max(),Ue.empty(),Iu)}}function AS(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ue.comparator(r.documentKey,e.documentKey),t!==0?t:nt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(r){if(r.code!==_e.FAILED_PRECONDITION||r.message!==CS)throw r;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(t){return we.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):we.reject(t)}static resolve(e){return new we((t,n)=>{t(e)})}static reject(e){return new we((t,n)=>{n(e)})}static waitFor(e){return new we((t,n)=>{let i=0,a=0,u=!1;e.forEach(c=>{++i,c.next(()=>{++a,u&&a===i&&t()},h=>n(h))}),u=!0,a===i&&t()})}static or(e){let t=we.resolve(!1);for(const n of e)t=t.next(i=>i?we.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,a)=>{n.push(t.call(this,i,a))}),this.waitFor(n)}static mapArray(e,t){return new we((n,i)=>{const a=e.length,u=new Array(a);let c=0;for(let h=0;h<a;h++){const f=h;t(e[f]).next(y=>{u[f]=y,++c,c===a&&n(u)},y=>i(y))}})}static doWhile(e,t){return new we((n,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):n()};a()})}}function TS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function da(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>t.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}yh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=-1;function vh(r){return r==null}function Gc(r){return r===0&&1/r==-1/0}function xS(r){return typeof r=="number"&&Number.isInteger(r)&&!Gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="";function SS(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=i0(e)),e=DS(r.get(t),e);return i0(e)}function DS(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const a=r.charAt(i);switch(a){case"\0":t+="";break;case Zw:t+="";break;default:t+=a}}return t}function i0(r){return r+Zw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ps(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function IS(r,e){const t=[];for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(e(r[n],n,r));return t}function Xw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new Dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vc(this.root,e,this.comparator,!0)}}class vc{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??rn.RED,this.left=i??rn.EMPTY,this.right=a??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new rn(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return rn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ke(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke(57766)}get value(){throw Ke(16141)}get color(){throw Ke(16727)}get left(){throw Ke(29726)}get right(){throw Ke(36894)}copy(e,t,n,i,a){return this}insert(e,t,n){return new rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new o0(this.data.getIterator())}getIteratorFrom(e){return new o0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class o0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Un([])}unionWith(e){let t=new $t(sn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Un(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new eE("Invalid base64 string: "+a):a}}(e);return new on(t)}static fromUint8Array(e){const t=function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a}(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const kS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(r){if(ft(!!r,39018),typeof r=="string"){let e=0;const t=kS.exec(r);if(ft(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ot(r.seconds),nanos:Ot(r.nanos)}}function Ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?on.fromBase64String(r):on.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="server_timestamp",nE="__type__",rE="__previous_value__",iE="__local_write_time__";function cg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[nE])===null||t===void 0?void 0:t.stringValue)===tE}function _h(r){const e=r.mapValue.fields[rE];return cg(e)?_h(e):e}function ku(r){const e=as(r.mapValue.fields[iE].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t,n,i,a,u,c,h,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=y}}const Wc="(default)";class Ru{constructor(e,t){this.projectId=e,this.database=t||Wc}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="__type__",PS="__max__",_c={mapValue:{}},oE="__vector__",Kc="value";function ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cg(r)?4:OS(r)?9007199254740991:NS(r)?10:11:Ke(28295,{value:r})}function Ur(r,e){if(r===e)return!0;const t=ls(r);if(t!==ls(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ku(r).isEqual(ku(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=as(i.timestampValue),c=as(a.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,a){return us(i.bytesValue).isEqual(us(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,a){return Ot(i.geoPointValue.latitude)===Ot(a.geoPointValue.latitude)&&Ot(i.geoPointValue.longitude)===Ot(a.geoPointValue.longitude)}(r,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ot(i.integerValue)===Ot(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=Ot(i.doubleValue),c=Ot(a.doubleValue);return u===c?Gc(u)===Gc(c):isNaN(u)&&isNaN(c)}return!1}(r,e);case 9:return ra(r.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(i,a){const u=i.mapValue.fields||{},c=a.mapValue.fields||{};if(s0(u)!==s0(c))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(c[h]===void 0||!Ur(u[h],c[h])))return!1;return!0}(r,e);default:return Ke(52216,{left:r})}}function Pu(r,e){return(r.values||[]).find(t=>Ur(t,e))!==void 0}function ia(r,e){if(r===e)return 0;const t=ls(r),n=ls(e);if(t!==n)return nt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(r.booleanValue,e.booleanValue);case 2:return function(a,u){const c=Ot(a.integerValue||a.doubleValue),h=Ot(u.integerValue||u.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(r,e);case 3:return a0(r.timestampValue,e.timestampValue);case 4:return a0(ku(r),ku(e));case 5:return Om(r.stringValue,e.stringValue);case 6:return function(a,u){const c=us(a),h=us(u);return c.compareTo(h)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const c=a.split("/"),h=u.split("/");for(let f=0;f<c.length&&f<h.length;f++){const y=nt(c[f],h[f]);if(y!==0)return y}return nt(c.length,h.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const c=nt(Ot(a.latitude),Ot(u.latitude));return c!==0?c:nt(Ot(a.longitude),Ot(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return u0(r.arrayValue,e.arrayValue);case 10:return function(a,u){var c,h,f,y;const g=a.fields||{},p=u.fields||{},v=(c=g[Kc])===null||c===void 0?void 0:c.arrayValue,A=(h=p[Kc])===null||h===void 0?void 0:h.arrayValue,b=nt(((f=v==null?void 0:v.values)===null||f===void 0?void 0:f.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return b!==0?b:u0(v,A)}(r.mapValue,e.mapValue);case 11:return function(a,u){if(a===_c.mapValue&&u===_c.mapValue)return 0;if(a===_c.mapValue)return 1;if(u===_c.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),f=u.fields||{},y=Object.keys(f);h.sort(),y.sort();for(let g=0;g<h.length&&g<y.length;++g){const p=Om(h[g],y[g]);if(p!==0)return p;const v=ia(c[h[g]],f[y[g]]);if(v!==0)return v}return nt(h.length,y.length)}(r.mapValue,e.mapValue);default:throw Ke(23264,{Pe:t})}}function a0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return nt(r,e);const t=as(r),n=as(e),i=nt(t.seconds,n.seconds);return i!==0?i:nt(t.nanos,n.nanos)}function u0(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const a=ia(t[i],n[i]);if(a)return a}return nt(t.length,n.length)}function sa(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=as(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return us(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ue.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const a of t.values||[])i?i=!1:n+=",",n+=Lm(a);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of n)a?a=!1:i+=",",i+=`${u}:${Lm(t.fields[u])}`;return i+"}"}(r.mapValue):Ke(61005,{value:r})}function kc(r){switch(ls(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_h(r);return e?16+kc(e):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+kc(a),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return ps(n.fields,(a,u)=>{i+=a.length+kc(u)}),i}(r.mapValue);default:throw Ke(13486,{value:r})}}function l0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Fm(r){return!!r&&"integerValue"in r}function hg(r){return!!r&&"arrayValue"in r}function c0(r){return!!r&&"nullValue"in r}function h0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Rc(r){return!!r&&"mapValue"in r}function NS(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[sE])===null||t===void 0?void 0:t.stringValue)===oE}function Au(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ps(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Au(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Au(r.arrayValue.values[t]);return e}return Object.assign({},r)}function OS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===PS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Rc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(t)}setAll(e){let t=sn.emptyPath(),n={},i=[];e.forEach((u,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,n,i),n={},i=[],t=c.popLast()}u?n[c.lastSegment()]=Au(u):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());Rc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Rc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){ps(t,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Nn(Au(this.value))}}function aE(r){const e=[];return ps(r.fields,(t,n)=>{const i=new sn([t]);if(Rc(n)){const a=aE(n.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,n,i,a,u,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=a,this.data=u,this.documentState=c}static newInvalidDocument(e){return new fn(e,0,Ze.min(),Ze.min(),Ze.min(),Nn.empty(),0)}static newFoundDocument(e,t,n,i){return new fn(e,1,t,Ze.min(),n,i,0)}static newNoDocument(e,t){return new fn(e,2,t,Ze.min(),Ze.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Ze.min(),Ze.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t){this.position=e,this.inclusive=t}}function d0(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const a=e[i],u=r.position[i];if(a.field.isKeyField()?n=Ue.comparator(Ue.fromName(u.referenceValue),t.key):n=ia(u,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function f0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ur(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t="asc"){this.field=e,this.dir=t}}function LS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{}class Mt extends uE{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new BS(e,t,n):t==="array-contains"?new qS(e,n):t==="in"?new VS(e,n):t==="not-in"?new US(e,n):t==="array-contains-any"?new zS(e,n):new Mt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new jS(e,n):new MS(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ia(t,this.value)):t!==null&&ls(this.value)===ls(t)&&this.matchesComparison(ia(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends uE{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ar(e,t)}matches(e){return lE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function lE(r){return r.op==="and"}function cE(r){return FS(r)&&lE(r)}function FS(r){for(const e of r.filters)if(e instanceof Ar)return!1;return!0}function Bm(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+sa(r.value);if(cE(r))return r.filters.map(e=>Bm(e)).join(",");{const e=r.filters.map(t=>Bm(t)).join(",");return`${r.op}(${e})`}}function hE(r,e){return r instanceof Mt?function(n,i){return i instanceof Mt&&n.op===i.op&&n.field.isEqual(i.field)&&Ur(n.value,i.value)}(r,e):r instanceof Ar?function(n,i){return i instanceof Ar&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,u,c)=>a&&hE(u,i.filters[c]),!0):!1}(r,e):void Ke(19439)}function dE(r){return r instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${sa(t.value)}`}(r):r instanceof Ar?function(t){return t.op.toString()+" {"+t.getFilters().map(dE).join(" ,")+"}"}(r):"Filter"}class BS extends Mt{constructor(e,t,n){super(e,t,n),this.key=Ue.fromName(n.referenceValue)}matches(e){const t=Ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class jS extends Mt{constructor(e,t){super(e,"in",t),this.keys=fE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class MS extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=fE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fE(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Ue.fromName(n.referenceValue))}class qS extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hg(t)&&Pu(t.arrayValue,this.value)}}class VS extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pu(this.value.arrayValue,t)}}class US extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Pu(this.value.arrayValue,t)}}class zS extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Pu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,t=null,n=[],i=[],a=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=u,this.endAt=c,this.Ie=null}}function p0(r,e=null,t=[],n=[],i=null,a=null,u=null){return new HS(r,e,t,n,i,a,u)}function dg(r){const e=Qe(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Bm(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),vh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>sa(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>sa(n)).join(",")),e.Ie=t}return e.Ie}function fg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!LS(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!hE(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!f0(r.startAt,e.startAt)&&f0(r.endAt,e.endAt)}function jm(r){return Ue.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t=null,n=[],i=[],a=null,u="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=u,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function $S(r,e,t,n,i,a,u,c){return new fa(r,e,t,n,i,a,u,c)}function pg(r){return new fa(r)}function m0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function pE(r){return r.collectionGroup!==null}function Cu(r){const e=Qe(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new $t(sn.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Nu(a,n))}),t.has(sn.keyField().canonicalString())||e.Ee.push(new Nu(sn.keyField(),n))}return e.Ee}function jr(r){const e=Qe(r);return e.de||(e.de=mE(e,Cu(r))),e.de}function GS(r){const e=Qe(r);return e.Ae||(e.Ae=mE(e,r.explicitOrderBy)),e.Ae}function mE(r,e){if(r.limitType==="F")return p0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Nu(i.field,a)});const t=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return p0(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Mm(r,e){const t=r.filters.concat([e]);return new fa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Qc(r,e,t){return new fa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function wh(r,e){return fg(jr(r),jr(e))&&r.limitType===e.limitType}function gE(r){return`${dg(jr(r))}|lt:${r.limitType}`}function Wo(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>dE(i)).join(", ")}]`),vh(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>sa(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>sa(i)).join(",")),`Target(${n})`}(jr(r))}; limitType=${r.limitType})`}function Eh(r,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ue.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(r,e)&&function(n,i){for(const a of Cu(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(u,c,h){const f=d0(u,c,h);return u.inclusive?f<=0:f<0}(n.startAt,Cu(n),i)||n.endAt&&!function(u,c,h){const f=d0(u,c,h);return u.inclusive?f>=0:f>0}(n.endAt,Cu(n),i))}(r,e)}function WS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function yE(r){return(e,t)=>{let n=!1;for(const i of Cu(r)){const a=KS(i,e,t);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function KS(r,e,t){const n=r.field.isKeyField()?Ue.comparator(e.key,t.key):function(a,u,c){const h=u.data.field(a),f=c.data.field(a);return h!==null&&f!==null?ia(h,f):Ke(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ke(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(t,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return Xw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new Dt(Ue.comparator);function mi(){return JS}const vE=new Dt(Ue.comparator);function mu(...r){let e=vE;for(const t of r)e=e.insert(t.key,t);return e}function _E(r){let e=vE;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Hs(){return bu()}function wE(){return bu()}function bu(){return new to(r=>r.toString(),(r,e)=>r.isEqual(e))}const QS=new Dt(Ue.comparator),YS=new $t(Ue.comparator);function st(...r){let e=YS;for(const t of r)e=e.add(t);return e}const ZS=new $t(nt);function XS(){return ZS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function EE(r){return{integerValue:""+r}}function eD(r,e){return xS(e)?EE(e):mg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(){this._=void 0}}function tD(r,e,t){return r instanceof Ou?function(i,a){const u={fields:{[nE]:{stringValue:tE},[iE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&cg(a)&&(a=_h(a)),a&&(u.fields[rE]=a),{mapValue:u}}(t,e):r instanceof Lu?CE(r,e):r instanceof Fu?bE(r,e):function(i,a){const u=AE(i,a),c=g0(u)+g0(i.Re);return Fm(u)&&Fm(i.Re)?EE(c):mg(i.serializer,c)}(r,e)}function nD(r,e,t){return r instanceof Lu?CE(r,e):r instanceof Fu?bE(r,e):t}function AE(r,e){return r instanceof Yc?function(n){return Fm(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Ou extends Ah{}class Lu extends Ah{constructor(e){super(),this.elements=e}}function CE(r,e){const t=TE(e);for(const n of r.elements)t.some(i=>Ur(i,n))||t.push(n);return{arrayValue:{values:t}}}class Fu extends Ah{constructor(e){super(),this.elements=e}}function bE(r,e){let t=TE(e);for(const n of r.elements)t=t.filter(i=>!Ur(i,n));return{arrayValue:{values:t}}}class Yc extends Ah{constructor(e,t){super(),this.serializer=e,this.Re=t}}function g0(r){return Ot(r.integerValue||r.doubleValue)}function TE(r){return hg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,t){this.field=e,this.transform=t}}function iD(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof Lu&&i instanceof Lu||n instanceof Fu&&i instanceof Fu?ra(n.elements,i.elements,Ur):n instanceof Yc&&i instanceof Yc?Ur(n.Re,i.Re):n instanceof Ou&&i instanceof Ou}(r.transform,e.transform)}class sD{constructor(e,t){this.version=e,this.transformResults=t}}class Er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ch{}function xE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new gg(r.key,Er.none()):new zu(r.key,r.data,Er.none());{const t=r.data,n=Nn.empty();let i=new $t(sn.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?n.delete(a):n.set(a,u),i=i.add(a)}return new ms(r.key,n,new Un(i.toArray()),Er.none())}}function oD(r,e,t){r instanceof zu?function(i,a,u){const c=i.value.clone(),h=v0(i.fieldTransforms,a,u.transformResults);c.setAll(h),a.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(r,e,t):r instanceof ms?function(i,a,u){if(!Pc(i.precondition,a))return void a.convertToUnknownDocument(u.version);const c=v0(i.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(SE(i)),h.setAll(c),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(r,e,t):function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Tu(r,e,t,n){return r instanceof zu?function(a,u,c,h){if(!Pc(a.precondition,u))return c;const f=a.value.clone(),y=_0(a.fieldTransforms,h,u);return f.setAll(y),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null}(r,e,t,n):r instanceof ms?function(a,u,c,h){if(!Pc(a.precondition,u))return c;const f=_0(a.fieldTransforms,h,u),y=u.data;return y.setAll(SE(a)),y.setAll(f),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(r,e,t,n):function(a,u,c){return Pc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(r,e,t)}function aD(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),a=AE(n.transform,i||null);a!=null&&(t===null&&(t=Nn.empty()),t.set(n.field,a))}return t||null}function y0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ra(n,i,(a,u)=>iD(a,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class zu extends Ch{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ms extends Ch{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function SE(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function v0(r,e,t){const n=new Map;ft(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let i=0;i<t.length;i++){const a=r[i],u=a.transform,c=e.data.field(a.field);n.set(a.field,nD(u,c,t[i]))}return n}function _0(r,e,t){const n=new Map;for(const i of r){const a=i.transform,u=t.data.field(i.field);n.set(i.field,tD(a,u,e))}return n}class gg extends Ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uD extends Ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&oD(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Tu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Tu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=wE();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let c=this.applyToLocalView(u,a.mutatedFields);c=t.has(i.key)?null:c;const h=xE(u,c);h!==null&&n.set(i.key,h),u.isValidDocument()||u.convertToNoDocument(Ze.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),st())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(t,n)=>y0(t,n))&&ra(this.baseMutations,e.baseMutations,(t,n)=>y0(t,n))}}class yg{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){ft(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let i=function(){return QS}();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,n[u].version);return new yg(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,lt;function fD(r){switch(r){case _e.OK:return Ke(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return Ke(15467,{code:r})}}function DE(r){if(r===void 0)return pi("GRPC error has no .code"),_e.UNKNOWN;switch(r){case jt.OK:return _e.OK;case jt.CANCELLED:return _e.CANCELLED;case jt.UNKNOWN:return _e.UNKNOWN;case jt.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case jt.INTERNAL:return _e.INTERNAL;case jt.UNAVAILABLE:return _e.UNAVAILABLE;case jt.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case jt.NOT_FOUND:return _e.NOT_FOUND;case jt.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case jt.ABORTED:return _e.ABORTED;case jt.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case jt.DATA_LOSS:return _e.DATA_LOSS;default:return Ke(39323,{code:r})}}(lt=jt||(jt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new rs([4294967295,4294967295],0);function w0(r){const e=Qw().encode(r),t=new Uw;return t.update(e),new Uint8Array(t.digest())}function E0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new rs([t,n],0),new rs([i,a],0)]}class vg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new gu(`Invalid padding: ${t}`);if(n<0)throw new gu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new gu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new gu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=rs.fromNumber(this.pe)}we(e,t,n){let i=e.add(t.multiply(rs.fromNumber(n)));return i.compare(pD)===1&&(i=new rs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=w0(e),[n,i]=E0(t);for(let a=0;a<this.hashCount;a++){const u=this.we(n,i,a);if(!this.Se(u))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new vg(a,i,t);return n.forEach(c=>u.insert(c)),u}insert(e){if(this.pe===0)return;const t=w0(e),[n,i]=E0(t);for(let a=0;a<this.hashCount;a++){const u=this.we(n,i,a);this.be(u)}}be(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new bh(Ze.min(),i,new Dt(nt),mi(),st())}}class Hu{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Hu(n,t,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t,n,i){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=i}}class IE{constructor(e,t){this.targetId=e,this.Ce=t}}class kE{constructor(e,t,n=on.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class A0{constructor(){this.Fe=0,this.Me=C0(),this.xe=on.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=st(),t=st(),n=st();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ke(38017,{changeType:a})}}),new Hu(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=C0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ft(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class mD{constructor(e){this.ze=e,this.je=new Map,this.He=mi(),this.Je=wc(),this.Ye=wc(),this.Ze=new Dt(nt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Ke(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((n,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,n=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(jm(a))if(n===0){const u=new Ue(a.path);this.tt(t,u,fn.newNoDocument(u,Ze.min()))}else ft(n===1,20013,{expectedCount:n});else{const u=this.ut(t);if(u!==n){const c=this.ct(e),h=c?this.lt(c,e,u):1;if(h!==0){this.st(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=t;let u,c;try{u=us(n).toUint8Array()}catch(h){if(h instanceof eE)return na("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new vg(u,i,a)}catch(h){return na(h instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let i=0;return n.forEach(a=>{const u=this.ze.Pt(),c=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,u)=>{const c=this._t(u);if(c){if(a.current&&jm(c.target)){const h=new Ue(c.target.path);this.Et(h).has(u)||this.dt(u,h)||this.tt(u,h,fn.newNoDocument(h,e))}a.Le&&(t.set(u,a.qe()),a.Qe())}});let n=st();this.Ye.forEach((a,u)=>{let c=!0;u.forEachWhile(h=>{const f=this._t(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const i=new bh(e,t,this.Ze,this.He,n);return this.He=mi(),this.Je=wc(),this.Ye=wc(),this.Ze=new Dt(nt),i}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new A0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new $t(nt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new $t(nt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new A0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function wc(){return new Dt(Ue.comparator)}function C0(){return new Dt(Ue.comparator)}const gD={asc:"ASCENDING",desc:"DESCENDING"},yD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vD={and:"AND",or:"OR"};class _D{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qm(r,e){return r.useProto3Json||vh(e)?e:{value:e}}function Zc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function wD(r,e){return Zc(r,e.toTimestamp())}function Mr(r){return ft(!!r,49232),Ze.fromTimestamp(function(t){const n=as(t);return new Lt(n.seconds,n.nanos)}(r))}function _g(r,e){return Vm(r,e).canonicalString()}function Vm(r,e){const t=function(i){return new Et(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function PE(r){const e=Et.fromString(r);return ft(jE(e),10190,{key:e.toString()}),e}function Um(r,e){return _g(r.databaseId,e.path)}function Bf(r,e){const t=PE(e);if(t.get(1)!==r.databaseId.projectId)throw new Oe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Oe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ue(OE(t))}function NE(r,e){return _g(r.databaseId,e)}function ED(r){const e=PE(r);return e.length===4?Et.emptyPath():OE(e)}function zm(r){return new Et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function OE(r){return ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function b0(r,e,t){return{name:Um(r,e),fields:t.value.mapValue.fields}}function AD(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ke(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,y){return f.useProto3Json?(ft(y===void 0||typeof y=="string",58123),on.fromBase64String(y||"")):(ft(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),on.fromUint8Array(y||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(f){const y=f.code===void 0?_e.UNKNOWN:DE(f.code);return new Oe(y,f.message||"")}(u);t=new kE(n,i,a,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Bf(r,n.document.name),a=Mr(n.document.updateTime),u=n.document.createTime?Mr(n.document.createTime):Ze.min(),c=new Nn({mapValue:{fields:n.document.fields}}),h=fn.newFoundDocument(i,a,u,c),f=n.targetIds||[],y=n.removedTargetIds||[];t=new Nc(f,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Bf(r,n.document),a=n.readTime?Mr(n.readTime):Ze.min(),u=fn.newNoDocument(i,a),c=n.removedTargetIds||[];t=new Nc([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Bf(r,n.document),a=n.removedTargetIds||[];t=new Nc([],a,i,null)}else{if(!("filter"in e))return Ke(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,u=new dD(i,a),c=n.targetId;t=new IE(c,u)}}return t}function CD(r,e){let t;if(e instanceof zu)t={update:b0(r,e.key,e.value)};else if(e instanceof gg)t={delete:Um(r,e.key)};else if(e instanceof ms)t={update:b0(r,e.key,e.data),updateMask:PD(e.fieldMask)};else{if(!(e instanceof uD))return Ke(16599,{ft:e.type});t={verify:Um(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(a,u){const c=u.transform;if(c instanceof Ou)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Lu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Fu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Yc)return{fieldPath:u.field.canonicalString(),increment:c.Re};throw Ke(20930,{transform:u.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:wD(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ke(27497)}(r,e.precondition)),t}function bD(r,e){return r&&r.length>0?(ft(e!==void 0,14353),r.map(t=>function(i,a){let u=i.updateTime?Mr(i.updateTime):Mr(a);return u.isEqual(Ze.min())&&(u=Mr(a)),new sD(u,i.transformResults||[])}(t,e))):[]}function TD(r,e){return{documents:[NE(r,e.path)]}}function LE(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=NE(r,i);const a=function(f){if(f.length!==0)return BE(Ar.create(f,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(f){if(f.length!==0)return f.map(y=>function(p){return{field:Ki(p.field),direction:ID(p.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=qm(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:i}}function xD(r,e,t,n){const{gt:i,parent:a}=LE(r,e),u={},c=[];let h=0;return t.forEach(f=>{const y="aggregate_"+h++;u[y]=f.alias,f.aggregateType==="count"?c.push({alias:y,count:{}}):f.aggregateType==="avg"?c.push({alias:y,avg:{field:Ki(f.fieldPath)}}):f.aggregateType==="sum"&&c.push({alias:y,sum:{field:Ki(f.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:c,structuredQuery:i.structuredQuery},parent:i.parent},yt:u,parent:a}}function SD(r){let e=ED(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){ft(n===1,65062);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(g){const p=FE(g);return p instanceof Ar&&cE(p)?p.getFilters():[p]}(t.where));let u=[];t.orderBy&&(u=function(g){return g.map(p=>function(A){return new Nu(Ko(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(p))}(t.orderBy));let c=null;t.limit&&(c=function(g){let p;return p=typeof g=="object"?g.value:g,vh(p)?null:p}(t.limit));let h=null;t.startAt&&(h=function(g){const p=!!g.before,v=g.values||[];return new Jc(v,p)}(t.startAt));let f=null;return t.endAt&&(f=function(g){const p=!g.before,v=g.values||[];return new Jc(v,p)}(t.endAt)),$S(e,i,u,a,c,"F",h,f)}function DD(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FE(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Ko(t.unaryFilter.field);return Mt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ko(t.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ko(t.unaryFilter.field);return Mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ko(t.unaryFilter.field);return Mt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ke(61313);default:return Ke(60726)}}(r):r.fieldFilter!==void 0?function(t){return Mt.create(Ko(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ke(58110);default:return Ke(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Ar.create(t.compositeFilter.filters.map(n=>FE(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke(1026)}}(t.compositeFilter.op))}(r):Ke(30097,{filter:r})}function ID(r){return gD[r]}function kD(r){return yD[r]}function RD(r){return vD[r]}function Ki(r){return{fieldPath:r.canonicalString()}}function Ko(r){return sn.fromServerFormat(r.fieldPath)}function BE(r){return r instanceof Mt?function(t){if(t.op==="=="){if(h0(t.value))return{unaryFilter:{field:Ki(t.field),op:"IS_NAN"}};if(c0(t.value))return{unaryFilter:{field:Ki(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(h0(t.value))return{unaryFilter:{field:Ki(t.field),op:"IS_NOT_NAN"}};if(c0(t.value))return{unaryFilter:{field:Ki(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ki(t.field),op:kD(t.op),value:t.value}}}(r):r instanceof Ar?function(t){const n=t.getFilters().map(i=>BE(i));return n.length===1?n[0]:{compositeFilter:{op:RD(t.op),filters:n}}}(r):Ke(54877,{filter:r})}function PD(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,t,n,i,a=Ze.min(),u=Ze.min(),c=on.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.wt=e}}function OD(r){const e=SD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.Cn=new FD}addToCollectionParentIndex(e,t){return this.Cn.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return we.resolve()}deleteFieldIndex(e,t){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,t){return we.resolve()}getDocumentsMatchingTarget(e,t){return we.resolve(null)}getIndexType(e,t){return we.resolve(0)}getFieldIndexes(e,t){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,t){return we.resolve(os.min())}getMinOffsetFromCollectionGroup(e,t){return we.resolve(os.min())}updateCollectionGroup(e,t,n){return we.resolve()}updateIndexEntries(e,t){return we.resolve()}}class FD{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new $t(Et.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new $t(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ME=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(ME,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new oa(0)}static lr(){return new oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="LruGarbageCollector",BD=1048576;function S0([r,e],[t,n]){const i=nt(r,t);return i===0?nt(e,n):i}class jD{constructor(e){this.Er=e,this.buffer=new $t(S0),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();S0(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MD{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ne(x0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){da(t)?Ne(x0,"Ignoring IndexedDB error during garbage collection: ",t):await ha(t)}await this.mr(3e5)})}}class qD{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return we.resolve(yh.le);const n=new jD(t);return this.gr.forEachTarget(e,i=>n.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>n.Rr(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(T0)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T0):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,i,a,u,c,h,f;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,u=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(n=g,c=Date.now(),this.removeTargets(e,n,t))).next(g=>(a=g,h=Date.now(),this.removeOrphanedDocuments(e,n))).next(g=>(f=Date.now(),Go()<=it.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${i} in `+(c-u)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${g} documents in `+(f-h)+`ms
Total Duration: ${f-y}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g})))}}function VD(r,e){return new qD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.changes=new to(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?we.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&Tu(n.mutation,i,Un.empty(),Lt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,st()).next(()=>n))}getLocalViewOfDocuments(e,t,n=st()){const i=Hs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(a=>{let u=mu();return a.forEach((c,h)=>{u=u.insert(c,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const n=Hs();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,st()))}populateOverlays(e,t,n){const i=[];return n.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,c)=>{t.set(u,c)})})}computeViews(e,t,n,i){let a=mi();const u=bu(),c=function(){return bu()}();return t.forEach((h,f)=>{const y=n.get(f.key);i.has(f.key)&&(y===void 0||y.mutation instanceof ms)?a=a.insert(f.key,f):y!==void 0?(u.set(f.key,y.mutation.getFieldMask()),Tu(y.mutation,f,y.mutation.getFieldMask(),Lt.now())):u.set(f.key,Un.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((f,y)=>u.set(f,y)),t.forEach((f,y)=>{var g;return c.set(f,new zD(y,(g=u.get(f))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){const n=bu();let i=new Dt((u,c)=>u-c),a=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const c of u)c.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let y=n.get(h)||Un.empty();y=c.applyToLocalView(f,y),n.set(h,y);const g=(i.get(c.batchId)||st()).add(h);i=i.insert(c.batchId,g)})}).next(()=>{const u=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,y=h.value,g=wE();y.forEach(p=>{if(!a.has(p)){const v=xE(t.get(p),n.get(p));v!==null&&g.set(p,v),a=a.add(p)}}),u.push(this.documentOverlayCache.saveOverlays(e,f,g))}return we.waitFor(u)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(u){return Ue.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):we.resolve(Hs());let c=Iu,h=a;return u.next(f=>we.forEach(f,(y,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(y)?we.resolve():this.remoteDocumentCache.getEntry(e,y).next(p=>{h=h.insert(y,p)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,h,f,st())).next(y=>({batchId:c,changes:_E(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ue(t)).next(n=>{let i=mu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const a=t.collectionGroup;let u=mu();return this.indexManager.getCollectionParents(e,a).next(c=>we.forEach(c,h=>{const f=function(g,p){return new fa(p,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,n,i).next(y=>{y.forEach((g,p)=>{u=u.insert(g,p)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,i))).next(u=>{a.forEach((h,f)=>{const y=f.getKey();u.get(y)===null&&(u=u.insert(y,fn.newInvalidDocument(y)))});let c=mu();return u.forEach((h,f)=>{const y=a.get(h);y!==void 0&&Tu(y.mutation,f,Un.empty(),Lt.now()),Eh(t,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return we.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Mr(i.createTime)}}(t)),we.resolve()}getNamedQuery(e,t){return we.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:OD(i.bundledQuery),readTime:Mr(i.readTime)}}(t)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.overlays=new Dt(Ue.comparator),this.Qr=new Map}getOverlay(e,t){return we.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Hs();return we.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,a)=>{this.bt(e,t,a)}),we.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(n)),we.resolve()}getOverlaysForCollection(e,t,n){const i=Hs(),a=t.length+1,u=new Ue(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&h.largestBatchId>n&&i.set(h.getKey(),h)}return we.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new Dt((f,y)=>f-y);const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>n){let y=a.get(f.largestBatchId);y===null&&(y=Hs(),a=a.insert(f.largestBatchId,y)),y.set(f.getKey(),f)}}const c=Hs(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,y)=>c.set(f,y)),!(c.size()>=i)););return we.resolve(c)}bt(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const u=this.Qr.get(i.largestBatchId).delete(n.key);this.Qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new cD(t,n));let a=this.Qr.get(t);a===void 0&&(a=st(),this.Qr.set(t,a)),this.Qr.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.$r=new $t(Zt.Ur),this.Kr=new $t(Zt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new Zt(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.zr(new Zt(e,t))}jr(e,t){e.forEach(n=>this.removeReference(n,t))}Hr(e){const t=new Ue(new Et([])),n=new Zt(t,e),i=new Zt(t,e+1),a=[];return this.Kr.forEachInRange([n,i],u=>{this.zr(u),a.push(u.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ue(new Et([])),n=new Zt(t,e),i=new Zt(t,e+1);let a=st();return this.Kr.forEachInRange([n,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Zt(e,0),n=this.$r.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Zt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ue.comparator(e.key,t.key)||nt(e.Zr,t.Zr)}static Wr(e,t){return nt(e.Zr,t.Zr)||Ue.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new $t(Zt.Ur)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new lD(a,t,n,i);this.mutationQueue.push(u);for(const c of i)this.Xr=this.Xr.add(new Zt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return we.resolve(u)}lookupMutationBatch(e,t){return we.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ti(n),a=i<0?0:i;return we.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?lg:this.nr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Zt(t,0),i=new Zt(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([n,i],u=>{const c=this.ei(u.Zr);a.push(c)}),we.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new $t(nt);return t.forEach(i=>{const a=new Zt(i,0),u=new Zt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,u],c=>{n=n.add(c.Zr)})}),we.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;Ue.isDocumentKey(a)||(a=a.child(""));const u=new Zt(new Ue(a),0);let c=new $t(nt);return this.Xr.forEachWhile(h=>{const f=h.key.path;return!!n.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.Zr)),!0)},u),we.resolve(this.ni(c))}ni(e){const t=[];return e.forEach(n=>{const i=this.ei(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ft(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return we.forEach(t.mutations,i=>{const a=new Zt(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,t){const n=new Zt(t,0),i=this.Xr.firstAfterOrEqual(n);return we.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.ii=e,this.docs=function(){return new Dt(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,u=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return we.resolve(n?n.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let n=mi();return t.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():fn.newInvalidDocument(i))}),we.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let a=mi();const u=t.path,c=new Ue(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:y}}=h.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||AS(ES(y),n)<=0||(i.has(y.key)||Eh(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return we.resolve(a)}getAllFromCollectionGroup(e,t,n,i){Ke(9500)}si(e,t){return we.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new QD(this)}getSize(e){return we.resolve(this.size)}}class QD extends UD{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(n)}),we.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.persistence=e,this.oi=new to(t=>dg(t),fg),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this._i=0,this.ai=new wg,this.targetCount=0,this.ui=oa.cr()}forEachTarget(e,t){return this.oi.forEach((n,i)=>t(i)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),we.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new oa(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.Tr(t),we.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.oi.forEach((u,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.oi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),we.waitFor(a).next(()=>i)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return we.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),we.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),we.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),we.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return we.resolve(n)}containsKey(e,t){return we.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t){this.ci={},this.overlays={},this.li=new yh(0),this.hi=!1,this.hi=!0,this.Pi=new WD,this.referenceDelegate=e(this),this.Ti=new YD(this),this.indexManager=new LD,this.remoteDocumentCache=function(i){return new JD(i)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new ND(t),this.Ei=new $D(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new KD(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){Ne("MemoryPersistence","Starting transaction:",e);const i=new ZD(this.li.next());return this.referenceDelegate.di(),n(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return we.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,t)))}}class ZD extends bS{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Vi=new wg,this.mi=null}static fi(e){return new Eg(e)}get gi(){if(this.mi)return this.mi;throw Ke(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),we.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),we.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>n.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.gi,n=>{const i=Ue.fromPath(n);return this.pi(e,i).next(a=>{a||t.removeEntry(i,Ze.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(n=>{n?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return we.or([()=>we.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Xc{constructor(e,t){this.persistence=e,this.yi=new to(n=>SS(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=VD(this,t)}static fi(e,t){return new Xc(e,t)}di(){}Ai(e){return we.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}Sr(e){let t=0;return this.yr(e,n=>{t++}).next(()=>t)}yr(e,t){return we.forEach(this.yi,(n,i)=>this.Dr(e,n,i).next(a=>a?we.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,u=>this.Dr(e,u,t).next(c=>{c||(n++,a.removeEntry(u,Ze.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),we.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),we.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),we.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kc(e.data.value)),t}Dr(e,t,n){return we.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return we.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.ds=n,this.As=i}static Rs(e,t){let n=st(),i=st();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Ag(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return $T()?8:TS(pn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,i){const a={result:null};return this.ws(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Ss(e,t,i,n).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new XD;return this.bs(e,t,u).next(c=>{if(a.result=c,this.fs)return this.Ds(e,t,u,c.size)})}).next(()=>a.result)}Ds(e,t,n,i){return n.documentReadCount<this.gs?(Go()<=it.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Wo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),we.resolve()):(Go()<=it.DEBUG&&Ne("QueryEngine","Query:",Wo(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ps*i?(Go()<=it.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Wo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(t))):we.resolve())}ws(e,t){if(m0(t))return we.resolve(null);let n=jr(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Qc(t,null,"F"),n=jr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const u=st(...a);return this.ys.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,n).next(h=>{const f=this.vs(t,c);return this.Cs(t,f,u,h.readTime)?this.ws(e,Qc(t,null,"F")):this.Fs(e,f,t,h)}))})))}Ss(e,t,n,i){return m0(t)||i.isEqual(Ze.min())?we.resolve(null):this.ys.getDocuments(e,n).next(a=>{const u=this.vs(t,a);return this.Cs(t,u,n,i)?we.resolve(null):(Go()<=it.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wo(t)),this.Fs(e,u,t,wS(i,Iu)).next(c=>c))})}vs(e,t){let n=new $t(yE(e));return t.forEach((i,a)=>{Eh(e,a)&&(n=n.add(a))}),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}bs(e,t,n){return Go()<=it.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Wo(t)),this.ys.getDocumentsMatchingQuery(e,t,os.min(),n)}Fs(e,t,n,i){return this.ys.getDocumentsMatchingQuery(e,n,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="LocalStore",tI=3e8;class nI{constructor(e,t,n,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new Dt(nt),this.Os=new to(a=>dg(a),fg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HD(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function rI(r,e,t,n){return new nI(r,e,t,n)}async function VE(r,e){const t=Qe(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(n))).next(a=>{const u=[],c=[];let h=st();for(const f of i){u.push(f.batchId);for(const y of f.mutations)h=h.add(y.key)}for(const f of a){c.push(f.batchId);for(const y of f.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(n,h).next(f=>({ks:f,removedBatchIds:u,addedBatchIds:c}))})})}function iI(r,e){const t=Qe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,h,f,y){const g=f.batch,p=g.keys();let v=we.resolve();return p.forEach(A=>{v=v.next(()=>y.getEntry(h,A)).next(b=>{const C=f.docVersions.get(A);ft(C!==null,48541),b.version.compareTo(C)<0&&(g.applyToRemoteDocument(b,f),b.isValidDocument()&&(b.setReadTime(f.commitVersion),y.addEntry(b)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(h,g))}(t,n,e,a).next(()=>a.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let h=st();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function UE(r){const e=Qe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function sI(r,e){const t=Qe(r),n=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const c=[];e.targetChanges.forEach((y,g)=>{const p=i.get(g);if(!p)return;c.push(t.Ti.removeMatchingKeys(a,y.removedDocuments,g).next(()=>t.Ti.addMatchingKeys(a,y.addedDocuments,g)));let v=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(on.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):y.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(y.resumeToken,n)),i=i.insert(g,v),function(b,C,E){return b.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=tI?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,v,y)&&c.push(t.Ti.updateTargetData(a,v))});let h=mi(),f=st();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),c.push(oI(a,u,e.documentUpdates).next(y=>{h=y.qs,f=y.Qs})),!n.isEqual(Ze.min())){const y=t.Ti.getLastRemoteSnapshotVersion(a).next(g=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,n));c.push(y)}return we.waitFor(c).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,f)).next(()=>h)}).then(a=>(t.xs=i,a))}function oI(r,e,t){let n=st(),i=st();return t.forEach(a=>n=n.add(a)),e.getEntries(r,n).next(a=>{let u=mi();return t.forEach((c,h)=>{const f=a.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Ze.min())?(e.removeEntry(c,h.readTime),u=u.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),u=u.insert(c,h)):Ne(Cg,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)}),{qs:u,Qs:i}})}function aI(r,e){const t=Qe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=lg),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function uI(r,e){const t=Qe(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Ti.getTargetData(n,e).next(a=>a?(i=a,we.resolve(i)):t.Ti.allocateTargetId(n).next(u=>(i=new es(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.Ti.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.xs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(n.targetId,n),t.Os.set(e,n.targetId)),n})}async function Hm(r,e,t){const n=Qe(r),i=n.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,u=>n.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!da(u))throw u;Ne(Cg,`Failed to update sequence numbers for target ${e}: ${u}`)}n.xs=n.xs.remove(e),n.Os.delete(i.target)}function D0(r,e,t){const n=Qe(r);let i=Ze.min(),a=st();return n.persistence.runTransaction("Execute query","readwrite",u=>function(h,f,y){const g=Qe(h),p=g.Os.get(y);return p!==void 0?we.resolve(g.xs.get(p)):g.Ti.getTargetData(f,y)}(n,u,jr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(u,c.targetId).next(h=>{a=h})}).next(()=>n.Ms.getDocumentsMatchingQuery(u,e,t?i:Ze.min(),t?a:st())).next(c=>(lI(n,WS(e),c),{documents:c,$s:a})))}function lI(r,e,t){let n=r.Ns.get(e)||Ze.min();t.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),r.Ns.set(e,n)}class I0{constructor(){this.activeTargetIds=XS()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cI{constructor(){this.xo=new I0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new I0,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="ConnectivityMonitor";class R0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ne(k0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ne(k0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function $m(){return Ec===null?Ec=function(){return 268435456+Math.round(2147483648*Math.random())}():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RestConnection",dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fI{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${n}/databases/${i}`,this.Go=this.databaseId.database===Wc?`project_id=${n}`:`project_id=${n}&database_id=${i}`}zo(e,t,n,i,a){const u=$m(),c=this.jo(e,t.toUriEncodedString());Ne(jf,`Sending RPC '${e}' ${u}:`,c,n);const h={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(h,i,a);const{host:f}=new URL(c),y=Xs(f);return this.Jo(e,c,h,n,y).then(g=>(Ne(jf,`Received RPC '${e}' ${u}: `,g),g),g=>{throw na(jf,`RPC '${e}' ${u} failed with error: `,g,"url: ",c,"request:",n),g})}Yo(e,t,n,i,a,u){return this.zo(e,t,n,i,a)}Ho(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ca}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const n=dI[e];return`${this.Ko}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="WebChannelConnection";class mI extends fI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,a){const u=$m();return new Promise((c,h)=>{const f=new zw;f.setWithCredentials(!0),f.listenOnce(Hw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ic.NO_ERROR:const g=f.getResponseJson();Ne(hn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(g)),c(g);break;case Ic.TIMEOUT:Ne(hn,`RPC '${e}' ${u} timed out`),h(new Oe(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const p=f.getStatus();if(Ne(hn,`RPC '${e}' ${u} failed with status:`,p,"response text:",f.getResponseText()),p>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const A=v==null?void 0:v.error;if(A&&A.status&&A.message){const b=function(E){const T=E.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(T)>=0?T:_e.UNKNOWN}(A.status);h(new Oe(b,A.message))}else h(new Oe(_e.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Oe(_e.UNAVAILABLE,"Connection failed."));break;default:Ke(9055,{l_:e,streamId:u,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ne(hn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(i);Ne(hn,`RPC '${e}' ${u} sending request:`,i),f.send(t,"POST",y,n,15)})}T_(e,t,n){const i=$m(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Ww(),c=Gw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Ho(h.initMessageHeaders,t,n),h.encodeInitMessageHeaders=!0;const y=a.join("");Ne(hn,`Creating RPC '${e}' stream ${i}: ${y}`,h);const g=u.createWebChannel(y,h);let p=!1,v=!1;const A=new pI({Zo:C=>{v?Ne(hn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(p||(Ne(hn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),p=!0),Ne(hn,`RPC '${e}' stream ${i} sending:`,C),g.send(C))},Xo:()=>g.close()}),b=(C,E,T)=>{C.listen(E,L=>{try{T(L)}catch(x){setTimeout(()=>{throw x},0)}})};return b(g,pu.EventType.OPEN,()=>{v||(Ne(hn,`RPC '${e}' stream ${i} transport opened.`),A.__())}),b(g,pu.EventType.CLOSE,()=>{v||(v=!0,Ne(hn,`RPC '${e}' stream ${i} transport closed`),A.u_())}),b(g,pu.EventType.ERROR,C=>{v||(v=!0,na(hn,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),A.u_(new Oe(_e.UNAVAILABLE,"The operation could not be completed")))}),b(g,pu.EventType.MESSAGE,C=>{var E;if(!v){const T=C.data[0];ft(!!T,16349);const L=T,x=(L==null?void 0:L.error)||((E=L[0])===null||E===void 0?void 0:E.error);if(x){Ne(hn,`RPC '${e}' stream ${i} received error:`,x);const j=x.status;let q=function(D){const I=jt[D];if(I!==void 0)return DE(I)}(j),R=x.message;q===void 0&&(q=_e.INTERNAL,R="Unknown error status: "+j+" with message "+x.message),v=!0,A.u_(new Oe(q,R)),g.close()}else Ne(hn,`RPC '${e}' stream ${i} received:`,T),A.c_(T)}}),b(c,$w.STAT_EVENT,C=>{C.stat===Nm.PROXY?Ne(hn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Nm.NOPROXY&&Ne(hn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(r){return new _D(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t,n=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.I_=n,this.E_=i,this.d_=a,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-n);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="PersistentStream";class HE{constructor(e,t,n,i,a,u,c,h){this.xi=e,this.y_=n,this.w_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new zE(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.S_===t&&this.K_(n,i)},n=>{e(()=>{const i=new Oe(_e.UNKNOWN,"Fetching auth token failed: "+n.message);return this.W_(i)})})}K_(e,t){const n=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{n(()=>this.W_(i))}),this.stream.onMessage(i=>{n(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Ne(P0,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(Ne(P0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gI extends HE{constructor(e,t,n,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,u),this.serializer=a}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=AD(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ze.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ze.min():u.readTime?Mr(u.readTime):Ze.min()}(e);return this.listener.j_(t,n)}H_(e){const t={};t.database=zm(this.serializer),t.addTarget=function(a,u){let c;const h=u.target;if(c=jm(h)?{documents:TD(a,h)}:{query:LE(a,h).gt},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=RE(a,u.resumeToken);const f=qm(a,u.expectedCount);f!==null&&(c.expectedCount=f)}else if(u.snapshotVersion.compareTo(Ze.min())>0){c.readTime=Zc(a,u.snapshotVersion.toTimestamp());const f=qm(a,u.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const n=DD(this.serializer,e);n&&(t.labels=n),this.L_(t)}J_(e){const t={};t.database=zm(this.serializer),t.removeTarget=e,this.L_(t)}}class yI extends HE{constructor(e,t,n,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,u),this.serializer=a}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=bD(e.writeResults,e.commitTime),n=Mr(e.commitTime);return this.listener.ea(n,t)}ta(){const e={};e.database=zm(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>CD(this.serializer,n))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{}class _I extends vI{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Oe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.zo(e,Vm(t,n),i,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(_e.UNKNOWN,a.toString())})}Yo(e,t,n,i,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Yo(e,Vm(t,n),i,u,c,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(_e.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class wI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(pi(t),this.oa=!1):Ne("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class EI{constructor(e,t,n,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=a,this.Ea.No(u=>{n.enqueueAndForget(async()=>{no(this)&&(Ne(Js,"Restarting streams for network reachability change."),await async function(h){const f=Qe(h);f.Ta.add(4),await $u(f),f.da.set("Unknown"),f.Ta.delete(4),await xh(f)}(this))})}),this.da=new wI(n,i)}}async function xh(r){if(no(r))for(const e of r.Ia)await e(!0)}async function $u(r){for(const e of r.Ia)await e(!1)}function $E(r,e){const t=Qe(r);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),Sg(t)?xg(t):pa(t).M_()&&Tg(t,e))}function bg(r,e){const t=Qe(r),n=pa(t);t.Pa.delete(e),n.M_()&&GE(t,e),t.Pa.size===0&&(n.M_()?n.N_():no(t)&&t.da.set("Unknown"))}function Tg(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pa(r).H_(e)}function GE(r,e){r.Aa.Ke(e),pa(r).J_(e)}function xg(r){r.Aa=new mD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),pa(r).start(),r.da._a()}function Sg(r){return no(r)&&!pa(r).F_()&&r.Pa.size>0}function no(r){return Qe(r).Ta.size===0}function WE(r){r.Aa=void 0}async function AI(r){r.da.set("Online")}async function CI(r){r.Pa.forEach((e,t)=>{Tg(r,e)})}async function bI(r,e){WE(r),Sg(r)?(r.da.ca(e),xg(r)):r.da.set("Unknown")}async function TI(r,e,t){if(r.da.set("Online"),e instanceof kE&&e.state===2&&e.cause)try{await async function(i,a){const u=a.cause;for(const c of a.targetIds)i.Pa.has(c)&&(await i.remoteSyncer.rejectListen(c,u),i.Pa.delete(c),i.Aa.removeTarget(c))}(r,e)}catch(n){Ne(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await eh(r,n)}else if(e instanceof Nc?r.Aa.Xe(e):e instanceof IE?r.Aa.ot(e):r.Aa.nt(e),!t.isEqual(Ze.min()))try{const n=await UE(r.localStore);t.compareTo(n)>=0&&await function(a,u){const c=a.Aa.It(u);return c.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const y=a.Pa.get(f);y&&a.Pa.set(f,y.withResumeToken(h.resumeToken,u))}}),c.targetMismatches.forEach((h,f)=>{const y=a.Pa.get(h);if(!y)return;a.Pa.set(h,y.withResumeToken(on.EMPTY_BYTE_STRING,y.snapshotVersion)),GE(a,h);const g=new es(y.target,h,f,y.sequenceNumber);Tg(a,g)}),a.remoteSyncer.applyRemoteEvent(c)}(r,t)}catch(n){Ne(Js,"Failed to raise snapshot:",n),await eh(r,n)}}async function eh(r,e,t){if(!da(e))throw e;r.Ta.add(1),await $u(r),r.da.set("Offline"),t||(t=()=>UE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ne(Js,"Retrying IndexedDB access"),await t(),r.Ta.delete(1),await xh(r)})}function KE(r,e){return e().catch(t=>eh(r,t,e))}async function Sh(r){const e=Qe(r),t=cs(e);let n=e.ha.length>0?e.ha[e.ha.length-1].batchId:lg;for(;xI(e);)try{const i=await aI(e.localStore,n);if(i===null){e.ha.length===0&&t.N_();break}n=i.batchId,SI(e,i)}catch(i){await eh(e,i)}JE(e)&&QE(e)}function xI(r){return no(r)&&r.ha.length<10}function SI(r,e){r.ha.push(e);const t=cs(r);t.M_()&&t.Y_&&t.Z_(e.mutations)}function JE(r){return no(r)&&!cs(r).F_()&&r.ha.length>0}function QE(r){cs(r).start()}async function DI(r){cs(r).ta()}async function II(r){const e=cs(r);for(const t of r.ha)e.Z_(t.mutations)}async function kI(r,e,t){const n=r.ha.shift(),i=yg.from(n,e,t);await KE(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Sh(r)}async function RI(r,e){e&&cs(r).Y_&&await async function(n,i){if(function(u){return fD(u)&&u!==_e.ABORTED}(i.code)){const a=n.ha.shift();cs(n).O_(),await KE(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Sh(n)}}(r,e),JE(r)&&QE(r)}async function N0(r,e){const t=Qe(r);t.asyncQueue.verifyOperationInProgress(),Ne(Js,"RemoteStore received new credentials");const n=no(t);t.Ta.add(3),await $u(t),n&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await xh(t)}async function PI(r,e){const t=Qe(r);e?(t.Ta.delete(2),await xh(t)):e||(t.Ta.add(2),await $u(t),t.da.set("Unknown"))}function pa(r){return r.Ra||(r.Ra=function(t,n,i){const a=Qe(t);return a.ra(),new gI(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{e_:AI.bind(null,r),n_:CI.bind(null,r),i_:bI.bind(null,r),j_:TI.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),Sg(r)?xg(r):r.da.set("Unknown")):(await r.Ra.stop(),WE(r))})),r.Ra}function cs(r){return r.Va||(r.Va=function(t,n,i){const a=Qe(t);return a.ra(),new yI(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:DI.bind(null,r),i_:RI.bind(null,r),X_:II.bind(null,r),ea:kI.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await Sh(r)):(await r.Va.stop(),r.ha.length>0&&(Ne(Js,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,a){const u=Date.now()+n,c=new Dg(e,t,u,i,a);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(r,e){if(pi("AsyncQueue",`${e}: ${r}`),da(r))return new Oe(_e.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{static emptySet(e){return new Zo(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ue.comparator(t.key,n.key):(t,n)=>Ue.comparator(t.key,n.key),this.keyedMap=mu(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Zo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.ma=new Dt(Ue.comparator)}track(e){const t=e.doc.key,n=this.ma.get(t);n?e.type!==0&&n.type===3?this.ma=this.ma.insert(t,e):e.type===3&&n.type!==1?this.ma=this.ma.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ma=this.ma.remove(t):e.type===1&&n.type===2?this.ma=this.ma.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Ke(63341,{Vt:e,fa:n}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,n)=>{e.push(n)}),e}}class aa{constructor(e,t,n,i,a,u,c,h,f){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,n,i,a){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new aa(e,t,Zo.emptySet(t),u,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class OI{constructor(){this.queries=L0(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,n){const i=Qe(t),a=i.queries;i.queries=L0(),a.forEach((u,c)=>{for(const h of c.ya)h.onError(n)})})(this,new Oe(_e.ABORTED,"Firestore shutting down"))}}function L0(){return new to(r=>gE(r),wh)}async function YE(r,e){const t=Qe(r);let n=3;const i=e.query;let a=t.queries.get(i);a?!a.wa()&&e.Sa()&&(n=2):(a=new NI,n=e.Sa()?0:1);try{switch(n){case 0:a.pa=await t.onListen(i,!0);break;case 1:a.pa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const c=Ig(u,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.ya.push(e),e.Da(t.onlineState),a.pa&&e.va(a.pa)&&kg(t)}async function ZE(r,e){const t=Qe(r),n=e.query;let i=3;const a=t.queries.get(n);if(a){const u=a.ya.indexOf(e);u>=0&&(a.ya.splice(u,1),a.ya.length===0?i=e.Sa()?0:1:!a.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function LI(r,e){const t=Qe(r);let n=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const c of u.ya)c.va(i)&&(n=!0);u.pa=i}}n&&kg(t)}function FI(r,e,t){const n=Qe(r),i=n.queries.get(e);if(i)for(const a of i.ya)a.onError(t);n.queries.delete(e)}function kg(r){r.ba.forEach(e=>{e.next()})}var Gm,F0;(F0=Gm||(Gm={})).Ca="default",F0.Cache="cache";class XE{constructor(e,t,n){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=n||{}}va(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new aa(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const n=t!=="Offline";return(!this.options.La||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.key=e}}class tA{constructor(e){this.key=e}}class BI{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=st(),this.mutatedKeys=st(),this.Ha=yE(e),this.Ja=new Zo(this.Ha)}get Ya(){return this.Ga}Za(e,t){const n=t?t.Xa:new O0,i=t?t.Ja:this.Ja;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,g)=>{const p=i.get(y),v=Eh(this.query,g)?g:null,A=!!p&&this.mutatedKeys.has(p.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let C=!1;p&&v?p.data.isEqual(v.data)?A!==b&&(n.track({type:3,doc:v}),C=!0):this.eu(p,v)||(n.track({type:2,doc:v}),C=!0,(h&&this.Ha(v,h)>0||f&&this.Ha(v,f)<0)&&(c=!0)):!p&&v?(n.track({type:0,doc:v}),C=!0):p&&!v&&(n.track({type:1,doc:p}),C=!0,(h||f)&&(c=!0)),C&&(v?(u=u.add(v),a=b?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),n.track({type:1,doc:y})}return{Ja:u,Xa:n,Cs:c,mutatedKeys:a}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const a=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((y,g)=>function(v,A){const b=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke(20277,{Vt:C})}};return b(v)-b(A)}(y.type,g.type)||this.Ha(y.doc,g.doc)),this.tu(n),i=i!=null&&i;const c=t&&!i?this.nu():[],h=this.ja.size===0&&this.current&&!i?1:0,f=h!==this.za;return this.za=h,u.length!==0||f?{snapshot:new aa(this.query,e.Ja,a,u,e.mutatedKeys,h===0,f,!1,!!n&&n.resumeToken.approximateByteSize()>0),ru:c}:{ru:c}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new O0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=st(),this.Ja.forEach(n=>{this.iu(n.key)&&(this.ja=this.ja.add(n.key))});const t=[];return e.forEach(n=>{this.ja.has(n)||t.push(new tA(n))}),this.ja.forEach(n=>{e.has(n)||t.push(new eA(n))}),t}su(e){this.Ga=e.$s,this.ja=st();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return aa.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Rg="SyncEngine";class jI{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class MI{constructor(e){this.key=e,this._u=!1}}class qI{constructor(e,t,n,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new to(c=>gE(c),wh),this.cu=new Map,this.lu=new Set,this.hu=new Dt(Ue.comparator),this.Pu=new Map,this.Tu=new wg,this.Iu={},this.Eu=new Map,this.du=oa.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function VI(r,e,t=!0){const n=aA(r);let i;const a=n.uu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.ou()):i=await nA(n,e,t,!0),i}async function UI(r,e){const t=aA(r);await nA(t,e,!0,!1)}async function nA(r,e,t,n){const i=await uI(r.localStore,jr(e)),a=i.targetId,u=r.sharedClientState.addLocalQueryTarget(a,t);let c;return n&&(c=await zI(r,e,a,u==="current",i.resumeToken)),r.isPrimaryClient&&t&&$E(r.remoteStore,i),c}async function zI(r,e,t,n,i){r.Ru=(g,p,v)=>async function(b,C,E,T){let L=C.view.Za(E);L.Cs&&(L=await D0(b.localStore,C.query,!1).then(({documents:R})=>C.view.Za(R,L)));const x=T&&T.targetChanges.get(C.targetId),j=T&&T.targetMismatches.get(C.targetId)!=null,q=C.view.applyChanges(L,b.isPrimaryClient,x,j);return j0(b,C.targetId,q.ru),q.snapshot}(r,g,p,v);const a=await D0(r.localStore,e,!0),u=new BI(e,a.$s),c=u.Za(a.documents),h=Hu.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),f=u.applyChanges(c,r.isPrimaryClient,h);j0(r,t,f.ru);const y=new jI(e,t,u);return r.uu.set(e,y),r.cu.has(t)?r.cu.get(t).push(e):r.cu.set(t,[e]),f.snapshot}async function HI(r,e,t){const n=Qe(r),i=n.uu.get(e),a=n.cu.get(i.targetId);if(a.length>1)return n.cu.set(i.targetId,a.filter(u=>!wh(u,e))),void n.uu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Hm(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&bg(n.remoteStore,i.targetId),Wm(n,i.targetId)}).catch(ha)):(Wm(n,i.targetId),await Hm(n.localStore,i.targetId,!0))}async function $I(r,e){const t=Qe(r),n=t.uu.get(e),i=t.cu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),bg(t.remoteStore,n.targetId))}async function GI(r,e,t){const n=XI(r);try{const i=await function(u,c){const h=Qe(u),f=Lt.now(),y=c.reduce((v,A)=>v.add(A.key),st());let g,p;return h.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=mi(),b=st();return h.Bs.getEntries(v,y).next(C=>{A=C,A.forEach((E,T)=>{T.isValidDocument()||(b=b.add(E))})}).next(()=>h.localDocuments.getOverlayedDocuments(v,A)).next(C=>{g=C;const E=[];for(const T of c){const L=aD(T,g.get(T.key).overlayedDocument);L!=null&&E.push(new ms(T.key,L,aE(L.value.mapValue),Er.exists(!0)))}return h.mutationQueue.addMutationBatch(v,f,E,c)}).next(C=>{p=C;const E=C.applyToLocalDocumentSet(g,b);return h.documentOverlayCache.saveOverlays(v,C.batchId,E)})}).then(()=>({batchId:p.batchId,changes:_E(g)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(u,c,h){let f=u.Iu[u.currentUser.toKey()];f||(f=new Dt(nt)),f=f.insert(c,h),u.Iu[u.currentUser.toKey()]=f}(n,i.batchId,t),await Gu(n,i.changes),await Sh(n.remoteStore)}catch(i){const a=Ig(i,"Failed to persist write");t.reject(a)}}async function rA(r,e){const t=Qe(r);try{const n=await sI(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.Pu.get(a);u&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u._u=!0:i.modifiedDocuments.size>0?ft(u._u,14607):i.removedDocuments.size>0&&(ft(u._u,42227),u._u=!1))}),await Gu(t,n,e)}catch(n){await ha(n)}}function B0(r,e,t){const n=Qe(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.uu.forEach((a,u)=>{const c=u.view.Da(e);c.snapshot&&i.push(c.snapshot)}),function(u,c){const h=Qe(u);h.onlineState=c;let f=!1;h.queries.forEach((y,g)=>{for(const p of g.ya)p.Da(c)&&(f=!0)}),f&&kg(h)}(n.eventManager,e),i.length&&n.au.j_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function WI(r,e,t){const n=Qe(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Pu.get(e),a=i&&i.key;if(a){let u=new Dt(Ue.comparator);u=u.insert(a,fn.newNoDocument(a,Ze.min()));const c=st().add(a),h=new bh(Ze.min(),new Map,new Dt(nt),u,c);await rA(n,h),n.hu=n.hu.remove(a),n.Pu.delete(e),Pg(n)}else await Hm(n.localStore,e,!1).then(()=>Wm(n,e,t)).catch(ha)}async function KI(r,e){const t=Qe(r),n=e.batch.batchId;try{const i=await iI(t.localStore,e);sA(t,n,null),iA(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Gu(t,i)}catch(i){await ha(i)}}async function JI(r,e,t){const n=Qe(r);try{const i=await function(u,c){const h=Qe(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let y;return h.mutationQueue.lookupMutationBatch(f,c).next(g=>(ft(g!==null,37113),y=g.keys(),h.mutationQueue.removeMutationBatch(f,g))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,y,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,y)).next(()=>h.localDocuments.getDocuments(f,y))})}(n.localStore,e);sA(n,e,t),iA(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Gu(n,i)}catch(i){await ha(i)}}function iA(r,e){(r.Eu.get(e)||[]).forEach(t=>{t.resolve()}),r.Eu.delete(e)}function sA(r,e,t){const n=Qe(r);let i=n.Iu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.Iu[n.currentUser.toKey()]=i}}function Wm(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.cu.get(e))r.uu.delete(n),t&&r.au.Vu(n,t);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(n=>{r.Tu.containsKey(n)||oA(r,n)})}function oA(r,e){r.lu.delete(e.path.canonicalString());const t=r.hu.get(e);t!==null&&(bg(r.remoteStore,t),r.hu=r.hu.remove(e),r.Pu.delete(t),Pg(r))}function j0(r,e,t){for(const n of t)n instanceof eA?(r.Tu.addReference(n.key,e),QI(r,n)):n instanceof tA?(Ne(Rg,"Document no longer in limbo: "+n.key),r.Tu.removeReference(n.key,e),r.Tu.containsKey(n.key)||oA(r,n.key)):Ke(19791,{mu:n})}function QI(r,e){const t=e.key,n=t.path.canonicalString();r.hu.get(t)||r.lu.has(n)||(Ne(Rg,"New document in limbo: "+t),r.lu.add(n),Pg(r))}function Pg(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const t=new Ue(Et.fromString(e)),n=r.du.next();r.Pu.set(n,new MI(t)),r.hu=r.hu.insert(t,n),$E(r.remoteStore,new es(jr(pg(t.path)),n,"TargetPurposeLimboResolution",yh.le))}}async function Gu(r,e,t){const n=Qe(r),i=[],a=[],u=[];n.uu.isEmpty()||(n.uu.forEach((c,h)=>{u.push(n.Ru(h,e,t).then(f=>{var y;if((f||t)&&n.isPrimaryClient){const g=f?!f.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;n.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){i.push(f);const g=Ag.Rs(h.targetId,f);a.push(g)}}))}),await Promise.all(u),n.au.j_(i),await async function(h,f){const y=Qe(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>we.forEach(f,p=>we.forEach(p.ds,v=>y.persistence.referenceDelegate.addReference(g,p.targetId,v)).next(()=>we.forEach(p.As,v=>y.persistence.referenceDelegate.removeReference(g,p.targetId,v)))))}catch(g){if(!da(g))throw g;Ne(Cg,"Failed to update sequence numbers: "+g)}for(const g of f){const p=g.targetId;if(!g.fromCache){const v=y.xs.get(p),A=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(A);y.xs=y.xs.insert(p,b)}}}(n.localStore,a))}async function YI(r,e){const t=Qe(r);if(!t.currentUser.isEqual(e)){Ne(Rg,"User change. New user:",e.toKey());const n=await VE(t.localStore,e);t.currentUser=e,function(a,u){a.Eu.forEach(c=>{c.forEach(h=>{h.reject(new Oe(_e.CANCELLED,u))})}),a.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Gu(t,n.ks)}}function ZI(r,e){const t=Qe(r),n=t.Pu.get(e);if(n&&n._u)return st().add(n.key);{let i=st();const a=t.cu.get(e);if(!a)return i;for(const u of a){const c=t.uu.get(u);i=i.unionWith(c.view.Ya)}return i}}function aA(r){const e=Qe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=rA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WI.bind(null,e),e.au.j_=LI.bind(null,e.eventManager),e.au.Vu=FI.bind(null,e.eventManager),e}function XI(r){const e=Qe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JI.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return rI(this.persistence,new eI,e.initialUser,this.serializer)}yu(e){return new qE(Eg.fi,this.serializer)}pu(e){return new cI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class ek extends th{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){ft(this.persistence.referenceDelegate instanceof Xc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new MD(n,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new qE(n=>Xc.fi(n,t),this.serializer)}}class Km{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>B0(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=YI.bind(null,this.syncEngine),await PI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OI}()}createDatastore(e){const t=Th(e.databaseInfo.databaseId),n=function(a){return new mI(a)}(e.databaseInfo);return function(a,u,c,h){return new _I(a,u,c,h)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,a,u,c){return new EI(n,i,a,u,c)}(this.localStore,this.datastore,e.asyncQueue,t=>B0(this.syncEngine,t,0),function(){return R0.C()?new R0:new hI}())}createSyncEngine(e,t){return function(i,a,u,c,h,f,y){const g=new qI(i,a,u,c,h,f);return y&&(g.Au=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Qe(i);Ne(Js,"RemoteStore shutting down."),a.Ta.add(5),await $u(a),a.Ea.shutdown(),a.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Km.provider={build:()=>new Km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="FirestoreClient";class tk{constructor(e,t,n,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=dn.UNAUTHENTICATED,this.clientId=Yw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async u=>{Ne(hs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(n,u=>(Ne(hs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ig(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function qf(r,e){r.asyncQueue.verifyOperationInProgress(),Ne(hs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await VE(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function M0(r,e){r.asyncQueue.verifyOperationInProgress();const t=await nk(r);Ne(hs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>N0(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>N0(e.remoteStore,i)),r._onlineComponents=e}async function nk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ne(hs,"Using user provided OfflineComponentProvider");try{await qf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===_e.FAILED_PRECONDITION||i.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;na("Error using user provided cache. Falling back to memory cache: "+t),await qf(r,new th)}}else Ne(hs,"Using default OfflineComponentProvider"),await qf(r,new ek(void 0));return r._offlineComponents}async function Ng(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ne(hs,"Using user provided OnlineComponentProvider"),await M0(r,r._uninitializedComponentsProvider._online)):(Ne(hs,"Using default OnlineComponentProvider"),await M0(r,new Km))),r._onlineComponents}function rk(r){return Ng(r).then(e=>e.syncEngine)}function ik(r){return Ng(r).then(e=>e.datastore)}async function Jm(r){const e=await Ng(r),t=e.eventManager;return t.onListen=VI.bind(null,e.syncEngine),t.onUnlisten=HI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$I.bind(null,e.syncEngine),t}function sk(r,e,t={}){const n=new li;return r.asyncQueue.enqueueAndForget(async()=>function(a,u,c,h,f){const y=new uA({next:p=>{y.Cu(),u.enqueueAndForget(()=>ZE(a,g)),p.fromCache&&h.source==="server"?f.reject(new Oe(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(p)},error:p=>f.reject(p)}),g=new XE(c,y,{includeMetadataChanges:!0,La:!0});return YE(a,g)}(await Jm(r),r.asyncQueue,e,t,n)),n.promise}function ok(r,e,t){const n=new li;return r.asyncQueue.enqueueAndForget(async()=>{try{const i=await ik(r);n.resolve(async function(u,c,h){var f;const y=Qe(u),{request:g,yt:p,parent:v}=xD(y.serializer,GS(c),h);y.connection.Uo||delete g.parent;const A=(await y.Yo("RunAggregationQuery",y.serializer.databaseId,v,g,1)).filter(C=>!!C.result);ft(A.length===1,64727);const b=(f=A[0].result)===null||f===void 0?void 0:f.aggregateFields;return Object.keys(b).reduce((C,E)=>(C[p[E]]=b[E],C),{})}(i,e,t))}catch(i){n.reject(i)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(r,e,t){if(!t)throw new Oe(_e.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ak(r,e,t,n){if(e===!0&&n===!0)throw new Oe(_e.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function V0(r){if(!Ue.isDocumentKey(r))throw new Oe(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function U0(r){if(Ue.isDocumentKey(r))throw new Oe(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ke(12329,{type:typeof r})}function er(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Oe(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Dh(r);throw new Oe(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function uk(r,e){if(e<=0)throw new Oe(_e.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firestore.googleapis.com",z0=!0;class H0{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hA,this.ssl=z0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:z0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ME;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BD)throw new Oe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ak("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lA((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Oe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Oe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Oe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new hS;switch(n.type){case"firstParty":return new mS(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Oe(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=q0.get(t);n&&(Ne("ComponentProvider","Removing Datastore"),q0.delete(t),n.terminate())}(this),Promise.resolve()}}function lk(r,e,t,n={}){var i;r=er(r,Ih);const a=Xs(e),u=r._getSettings(),c=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),h=`${e}:${t}`;a&&(rg(`https://${h}`),ig("Firestore",!0)),u.host!==hA&&u.host!==h&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},u),{host:h,ssl:a,emulatorOptions:n});if(!Gs(f,c)&&(r._setSettings(f),n.mockUserToken)){let y,g;if(typeof n.mockUserToken=="string")y=n.mockUserToken,g=dn.MOCK_USER;else{y=Fw(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Oe(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new dn(p)}r._authCredentials=new dS(new Jw(y,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vi(this.firestore,e,this._query)}}class wn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class is extends vi{constructor(e,t,n){super(e,t,pg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new Ue(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function ck(r,e,...t){if(r=vt(r),cA("collection","path",e),r instanceof Ih){const n=Et.fromString(e,...t);return U0(n),new is(r,null,n)}{if(!(r instanceof wn||r instanceof is))throw new Oe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Et.fromString(e,...t));return U0(n),new is(r.firestore,null,n)}}function hk(r,e,...t){if(r=vt(r),arguments.length===1&&(e=Yw.newId()),cA("doc","path",e),r instanceof Ih){const n=Et.fromString(e,...t);return V0(n),new wn(r,null,new Ue(n))}{if(!(r instanceof wn||r instanceof is))throw new Oe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Et.fromString(e,...t));return V0(n),new wn(r.firestore,r instanceof is?r.converter:null,new Ue(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="AsyncQueue";class G0{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new zE(this,"async_queue_retry"),this.ec=()=>{const n=Mf();n&&Ne($0,"Visibility state changed to "+n.visibilityState),this.C_.p_()},this.tc=e;const t=Mf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Mf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new li;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!da(e))throw e;Ne($0,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(n=>{throw this.Ju=n,this.Yu=!1,pi("INTERNAL UNHANDLED ERROR: ",W0(n)),n}).then(n=>(this.Yu=!1,n))));return this.tc=t,t}enqueueAfterDelay(e,t,n){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const i=Dg.createAndSchedule(this,e,t,n,a=>this.oc(a));return this.Hu.push(i),i}nc(){this.Ju&&Ke(47125,{_c:W0(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function W0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(r,["next","error","complete"])}class ds extends Ih{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new G0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G0(e),this._firestoreClient=void 0,await e}}}function dk(r,e){const t=typeof r=="object"?r:ag(),n=typeof r=="string"?r:Wc,i=gh(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Nw("firestore");a&&lk(i,...a)}return i}function kh(r){if(r._terminated)throw new Oe(_e.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||fk(r),r._firestoreClient}function fk(r){var e,t,n;const i=r._freezeSettings(),a=function(c,h,f,y){return new RS(c,h,f,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,lA(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new tk(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class mk{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(on.fromBase64String(e))}catch(t){throw new Oe(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ua(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Oe(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=/^__.*__$/;class yk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new zu(e,this.data,t,this.fieldTransforms)}}class dA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ms(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke(40011,{hc:r})}}class Fg{constructor(e,t,n,i,a,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Pc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:n,Ec:!1});return i.dc(e),i}Ac(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:n,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return nh(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(fA(this.hc)&&gk.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class vk{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Th(e)}gc(e,t,n,i=!1){return new Fg({hc:e,methodName:t,fc:n,path:sn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bg(r){const e=r._freezeSettings(),t=Th(r._databaseId);return new vk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function _k(r,e,t,n,i,a={}){const u=r.gc(a.merge||a.mergeFields?2:0,e,t,i);Mg("Data must be an object, but it was:",u,n);const c=pA(n,u);let h,f;if(a.merge)h=new Un(u.fieldMask),f=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const g of a.mergeFields){const p=Qm(e,g,t);if(!u.contains(p))throw new Oe(_e.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);gA(y,p)||y.push(p)}h=new Un(y),f=u.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,f=u.fieldTransforms;return new yk(new Nn(c),h,f)}class Nh extends Ph{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}class jg extends Ph{_toFieldTransform(e){return new rD(e.path,new Ou)}isEqual(e){return e instanceof jg}}function wk(r,e,t,n){const i=r.gc(1,e,t);Mg("Data must be an object, but it was:",i,n);const a=[],u=Nn.empty();ps(n,(h,f)=>{const y=qg(e,h,t);f=vt(f);const g=i.Ac(y);if(f instanceof Nh)a.push(y);else{const p=Wu(f,g);p!=null&&(a.push(y),u.set(y,p))}});const c=new Un(a);return new dA(u,c,i.fieldTransforms)}function Ek(r,e,t,n,i,a){const u=r.gc(1,e,t),c=[Qm(e,n,t)],h=[i];if(a.length%2!=0)throw new Oe(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)c.push(Qm(e,a[p])),h.push(a[p+1]);const f=[],y=Nn.empty();for(let p=c.length-1;p>=0;--p)if(!gA(f,c[p])){const v=c[p];let A=h[p];A=vt(A);const b=u.Ac(v);if(A instanceof Nh)f.push(v);else{const C=Wu(A,b);C!=null&&(f.push(v),y.set(v,C))}}const g=new Un(f);return new dA(y,g,u.fieldTransforms)}function Ak(r,e,t,n=!1){return Wu(t,r.gc(n?4:3,e))}function Wu(r,e){if(mA(r=vt(r)))return Mg("Unsupported field value:",e,r),pA(r,e);if(r instanceof Ph)return function(n,i){if(!fA(i.hc))throw i.Vc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(n,i){const a=[];let u=0;for(const c of n){let h=Wu(c,i.Rc(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(r,e)}return function(n,i){if((n=vt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return eD(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Lt.fromDate(n);return{timestampValue:Zc(i.serializer,a)}}if(n instanceof Lt){const a=new Lt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Zc(i.serializer,a)}}if(n instanceof Og)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ua)return{bytesValue:RE(i.serializer,n._byteString)};if(n instanceof wn){const a=i.databaseId,u=n.firestore._databaseId;if(!u.isEqual(a))throw i.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_g(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Lg)return function(u,c){return{mapValue:{fields:{[sE]:{stringValue:oE},[Kc]:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw c.Vc("VectorValues must only contain numeric values.");return mg(c.serializer,f)})}}}}}}(n,i);throw i.Vc(`Unsupported field value: ${Dh(n)}`)}(r,e)}function pA(r,e){const t={};return Xw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(r,(n,i)=>{const a=Wu(i,e.Ic(n));a!=null&&(t[n]=a)}),{mapValue:{fields:t}}}function mA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Lt||r instanceof Og||r instanceof ua||r instanceof wn||r instanceof Ph||r instanceof Lg)}function Mg(r,e,t){if(!mA(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=Dh(t);throw n==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+n)}}function Qm(r,e,t){if((e=vt(e))instanceof Rh)return e._internalPath;if(typeof e=="string")return qg(r,e);throw nh("Field path arguments must be of type string or ",r,!1,void 0,t)}const Ck=new RegExp("[~\\*/\\[\\]]");function qg(r,e,t){if(e.search(Ck)>=0)throw nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Rh(...e.split("."))._internalPath}catch{throw nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function nh(r,e,t,n,i){const a=n&&!n.isEmpty(),u=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${n}`),u&&(h+=` in document ${i}`),h+=")"),new Oe(_e.INVALID_ARGUMENT,c+r+h)}function gA(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Oh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bk extends yA{data(){return super.data()}}function Oh(r,e){return typeof e=="string"?qg(r,e):e instanceof Rh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Oe(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vg{}class Ug extends Vg{}function Tk(r,e,...t){let n=[];e instanceof Vg&&n.push(e),n=n.concat(t),function(a){const u=a.filter(h=>h instanceof zg).length,c=a.filter(h=>h instanceof Lh).length;if(u>1||u>0&&c>0)throw new Oe(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class Lh extends Ug{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Lh(e,t,n)}_apply(e){const t=this._parse(e);return _A(e._query,t),new vi(e.firestore,e.converter,Mm(e._query,t))}_parse(e){const t=Bg(e.firestore);return function(a,u,c,h,f,y,g){let p;if(f.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Oe(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Y0(g,y);const A=[];for(const b of g)A.push(Q0(h,a,b));p={arrayValue:{values:A}}}else p=Q0(h,a,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Y0(g,y),p=Ak(c,u,g,y==="in"||y==="not-in");return Mt.create(f,y,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function J0(r,e,t){const n=e,i=Oh("where",r);return Lh._create(i,n,t)}class zg extends Vg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zg(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let u=i;const c=a.getFlattenedFilters();for(const h of c)_A(u,h),u=Mm(u,h)}(e._query,t),new vi(e.firestore,e.converter,Mm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hg extends Ug{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Hg(e,t)}_apply(e){const t=function(i,a,u){if(i.startAt!==null)throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nu(a,u)}(e._query,this._field,this._direction);return new vi(e.firestore,e.converter,function(i,a){const u=i.explicitOrderBy.concat([a]);return new fa(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function xk(r,e="asc"){const t=e,n=Oh("orderBy",r);return Hg._create(n,t)}class $g extends Ug{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new $g(e,t,n)}_apply(e){return new vi(e.firestore,e.converter,Qc(e._query,this._limit,this._limitType))}}function Sk(r){return uk("limit",r),$g._create("limit",r,"F")}function Q0(r,e,t){if(typeof(t=vt(t))=="string"){if(t==="")throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pE(e)&&t.indexOf("/")!==-1)throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Et.fromString(t));if(!Ue.isDocumentKey(n))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return l0(r,new Ue(n))}if(t instanceof wn)return l0(r,t._key);throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dh(t)}.`)}function Y0(r,e){if(!Array.isArray(r)||r.length===0)throw new Oe(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _A(r,e){const t=function(i,a){for(const u of i)for(const c of u.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Oe(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Dk{convertValue(e,t="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ps(e,(i,a)=>{n[i]=this.convertValue(a,t)}),n}convertVectorValue(e){var t,n,i;const a=(i=(n=(t=e.fields)===null||t===void 0?void 0:t[Kc].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(u=>Ot(u.doubleValue));return new Lg(a)}convertGeoPoint(e){return new Og(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_h(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const t=as(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Et.fromString(e);ft(jE(n),9688,{name:e});const i=new Ru(n.get(1),n.get(3)),a=new Ue(n.popFirst(5));return i.isEqual(t)||pi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}function kk(){return new pk("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wA extends yA{constructor(e,t,n,i,a,u){super(e,t,n,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Oh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Oc extends wA{data(e={}){return super.data(e)}}class EA{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new yu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Oc(this._firestore,this._userDataWriter,n.key,n,new yu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(c=>{const h=new Oc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new Oc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,y=-1;return c.type!==0&&(f=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),y=u.indexOf(c.doc.key)),{type:Rk(c.type),doc:h,oldIndex:f,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Rk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke(61501,{type:r})}}class Fh extends Dk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function Pk(r){r=er(r,vi);const e=er(r.firestore,ds),t=kh(e),n=new Fh(e);return vA(r._query),sk(t,r._query).then(i=>new EA(e,n,r,i))}function Nk(r,e,t){r=er(r,wn);const n=er(r.firestore,ds),i=Ik(r.converter,e,t);return Gg(n,[_k(Bg(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,Er.none())])}function Ok(r,e,t,...n){r=er(r,wn);const i=er(r.firestore,ds),a=Bg(i);let u;return u=typeof(e=vt(e))=="string"||e instanceof Rh?Ek(a,"updateDoc",r._key,e,t,n):wk(a,"updateDoc",r._key,e),Gg(i,[u.toMutation(r._key,Er.exists(!0))])}function Z0(r){return Gg(er(r.firestore,ds),[new gg(r._key,Er.none())])}function Lk(r,...e){var t,n,i;r=vt(r);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||K0(e[u])||(a=e[u],u++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(K0(e[u])){const g=e[u];e[u]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[u+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),e[u+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let h,f,y;if(r instanceof wn)f=er(r.firestore,ds),y=pg(r._key.path),h={next:g=>{e[u]&&e[u](Fk(f,r,g))},error:e[u+1],complete:e[u+2]};else{const g=er(r,vi);f=er(g.firestore,ds),y=g._query;const p=new Fh(f);h={next:v=>{e[u]&&e[u](new EA(f,p,g,v))},error:e[u+1],complete:e[u+2]},vA(r._query)}return function(p,v,A,b){const C=new uA(b),E=new XE(v,C,A);return p.asyncQueue.enqueueAndForget(async()=>YE(await Jm(p),E)),()=>{C.Cu(),p.asyncQueue.enqueueAndForget(async()=>ZE(await Jm(p),E))}}(kh(f),y,c,h)}function Gg(r,e){return function(n,i){const a=new li;return n.asyncQueue.enqueueAndForget(async()=>GI(await rk(n),i,a)),a.promise}(kh(r),e)}function Fk(r,e,t){const n=t.docs.get(e._key),i=new Fh(r);return new wA(r,i,e._key,n,new yu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(r){return jk(r,{count:kk()})}function jk(r,e){const t=er(r.firestore,ds),n=kh(t),i=IS(e,(a,u)=>new hD(u,a.aggregateType,a._internalFieldPath));return ok(n,r._query,i).then(a=>function(c,h,f){const y=new Fh(c);return new mk(h,y,f)}(t,r,a))}function Mk(){return new jg("serverTimestamp")}(function(e,t=!0){(function(i){ca=i})(eo),Ws(new ss("firestore",(n,{instanceIdentifier:i,options:a})=>{const u=n.getProvider("app").getImmediate(),c=new ds(new fS(n.getProvider("auth-internal")),new gS(u,n.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Oe(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(f.options.projectId,y)}(u,i),u);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Br(Y2,Z2,e),Br(Y2,Z2,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firebasestorage.googleapis.com",CA="storageBucket",qk=2*60*1e3,Vk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends Hr{constructor(e,t,n=0){super(Vf(e),`Firebase Storage: ${t} (${Vf(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kt||(kt={}));function Vf(r){return"storage/"+r}function Wg(){const r="An unknown error occurred, please check the error payload for server response.";return new Rt(kt.UNKNOWN,r)}function Uk(r){return new Rt(kt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function zk(r){return new Rt(kt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Hk(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rt(kt.UNAUTHENTICATED,r)}function $k(){return new Rt(kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Gk(r){return new Rt(kt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Wk(){return new Rt(kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Kk(){return new Rt(kt.CANCELED,"User canceled the upload/download.")}function Jk(r){return new Rt(kt.INVALID_URL,"Invalid URL '"+r+"'.")}function Qk(r){return new Rt(kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Yk(){return new Rt(kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CA+"' property when initializing the app?")}function Zk(){return new Rt(kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Xk(){return new Rt(kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function eR(r){return new Rt(kt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ym(r){return new Rt(kt.INVALID_ARGUMENT,r)}function bA(){return new Rt(kt.APP_DELETED,"The Firebase app was deleted.")}function tR(r){return new Rt(kt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xu(r,e){return new Rt(kt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function lu(r){throw new Rt(kt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=zn.makeFromUrl(e,t)}catch{return new zn(e,"")}if(n.path==="")return n;throw Qk(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const u="(/(.*))?$",c=new RegExp("^gs://"+i+u,"i"),h={bucket:1,path:3};function f(x){x.path_=decodeURIComponent(x.path)}const y="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${y}/b/${i}/o${p}`,"i"),A={bucket:1,path:3},b=t===AA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,C="([^?#]*)",E=new RegExp(`^https?://${b}/${i}/${C}`,"i"),L=[{regex:c,indices:h,postModify:a},{regex:v,indices:A,postModify:f},{regex:E,indices:{bucket:1,path:2},postModify:f}];for(let x=0;x<L.length;x++){const j=L[x],q=j.regex.exec(e);if(q){const R=q[j.indices.bucket];let w=q[j.indices.path];w||(w=""),n=new zn(R,w),j.postModify(n);break}}if(n==null)throw Jk(e);return n}}class nR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(r,e,t){let n=1,i=null,a=null,u=!1,c=0;function h(){return c===2}let f=!1;function y(...C){f||(f=!0,e.apply(null,C))}function g(C){i=setTimeout(()=>{i=null,r(v,h())},C)}function p(){a&&clearTimeout(a)}function v(C,...E){if(f){p();return}if(C){p(),y.call(null,C,...E);return}if(h()||u){p(),y.call(null,C,...E);return}n<64&&(n*=2);let L;c===1?(c=2,L=0):L=(n+Math.random())*1e3,g(L)}let A=!1;function b(C){A||(A=!0,p(),!f&&(i!==null?(C||(c=2),clearTimeout(i),g(0)):C||(c=1)))}return g(0),a=setTimeout(()=>{u=!0,b(!0)},t),b}function iR(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(r){return r!==void 0}function oR(r){return typeof r=="object"&&!Array.isArray(r)}function Kg(r){return typeof r=="string"||r instanceof String}function X0(r){return Jg()&&r instanceof Blob}function Jg(){return typeof Blob<"u"}function e1(r,e,t,n){if(n<e)throw Ym(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw Ym(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function TA(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var $s;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})($s||($s={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,a=e.indexOf(r)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,t,n,i,a,u,c,h,f,y,g,p=!0,v=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=y,this.connectionFactory_=g,this.retry=p,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,b)=>{this.resolve_=A,this.reject_=b,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Ac(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const c=a.getErrorCode()===$s.NO_ERROR,h=a.getStatus();if(!c||aR(h,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===$s.ABORT;n(!1,new Ac(!1,null,y));return}const f=this.successCodes_.indexOf(h)!==-1;n(!0,new Ac(f,a))})},t=(n,i)=>{const a=this.resolve_,u=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());sR(h)?a(h):a()}catch(h){u(h)}else if(c!==null){const h=Wg();h.serverResponse=c.getErrorText(),this.errorCallback_?u(this.errorCallback_(c,h)):u(h)}else if(i.canceled){const h=this.appDelete_?bA():Kk();u(h)}else{const h=Wk();u(h)}};this.canceled_?t(!1,new Ac(!1,null,!0)):this.backoffId_=rR(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&iR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ac{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function lR(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function cR(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hR(r,e){e&&(r["X-Firebase-GMPID"]=e)}function dR(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function fR(r,e,t,n,i,a,u=!0,c=!1){const h=TA(r.urlParams),f=r.url+h,y=Object.assign({},r.headers);return hR(y,e),lR(y,t),cR(y,a),dR(y,n),new uR(f,r.method,y,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,u,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mR(...r){const e=pR();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(Jg())return new Blob(r);throw new Rt(kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gR(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(r){if(typeof atob>"u")throw eR("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Uf{constructor(e,t){this.data=e,this.contentType=t||null}}function vR(r,e){switch(r){case Fr.RAW:return new Uf(xA(e));case Fr.BASE64:case Fr.BASE64URL:return new Uf(SA(r,e));case Fr.DATA_URL:return new Uf(wR(e),ER(e))}throw Wg()}function xA(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=n,u=r.charCodeAt(++t);n=65536|(a&1023)<<10|u&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function _R(r){let e;try{e=decodeURIComponent(r)}catch{throw xu(Fr.DATA_URL,"Malformed data URL.")}return xA(e)}function SA(r,e){switch(r){case Fr.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw xu(r,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Fr.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw xu(r,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=yR(e)}catch(i){throw i.message.includes("polyfill")?i:xu(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}class DA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw xu(Fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=AR(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function wR(r){const e=new DA(r);return e.base64?SA(Fr.BASE64,e.rest):_R(e.rest)}function ER(r){return new DA(r).contentType}function AR(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t){let n=0,i="";X0(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(X0(this.data_)){const n=this.data_,i=gR(n,e,t);return i===null?null:new Ji(i)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Ji(n,!0)}}static getBlob(...e){if(Jg()){const t=e.map(n=>n instanceof Ji?n.data_:n);return new Ji(mR.apply(null,t))}else{const t=e.map(u=>Kg(u)?vR(Fr.RAW,u).data:u.data_);let n=0;t.forEach(u=>{n+=u.byteLength});const i=new Uint8Array(n);let a=0;return t.forEach(u=>{for(let c=0;c<u.length;c++)i[a++]=u[c]}),new Ji(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(r){let e;try{e=JSON.parse(r)}catch{return null}return oR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function bR(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function kA(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r,e){return e}class _n{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||TR}}let Cc=null;function xR(r){return!Kg(r)||r.length<2?r:kA(r)}function RA(){if(Cc)return Cc;const r=[];r.push(new _n("bucket")),r.push(new _n("generation")),r.push(new _n("metageneration")),r.push(new _n("name","fullPath",!0));function e(a,u){return xR(u)}const t=new _n("name");t.xform=e,r.push(t);function n(a,u){return u!==void 0?Number(u):u}const i=new _n("size");return i.xform=n,r.push(i),r.push(new _n("timeCreated")),r.push(new _n("updated")),r.push(new _n("md5Hash",null,!0)),r.push(new _n("cacheControl",null,!0)),r.push(new _n("contentDisposition",null,!0)),r.push(new _n("contentEncoding",null,!0)),r.push(new _n("contentLanguage",null,!0)),r.push(new _n("contentType",null,!0)),r.push(new _n("metadata","customMetadata",!0)),Cc=r,Cc}function SR(r,e){function t(){const n=r.bucket,i=r.fullPath,a=new zn(n,i);return e._makeStorageReference(a)}Object.defineProperty(r,"ref",{get:t})}function DR(r,e,t){const n={};n.type="file";const i=t.length;for(let a=0;a<i;a++){const u=t[a];n[u.local]=u.xform(n,e[u.server])}return SR(n,r),n}function PA(r,e,t){const n=IA(e);return n===null?null:DR(r,n,t)}function IR(r,e,t,n){const i=IA(e);if(i===null||!Kg(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(f=>{const y=r.bucket,g=r.fullPath,p="/b/"+u(y)+"/o/"+u(g),v=Bh(p,t,n),A=TA({alt:"media",token:f});return v+A})[0]}function kR(r,e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(t[a.server]=r[a.local])}return JSON.stringify(t)}class Qg{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(r){if(!r)throw Wg()}function RR(r,e){function t(n,i){const a=PA(r,i,e);return NA(a!==null),a}return t}function PR(r,e){function t(n,i){const a=PA(r,i,e);return NA(a!==null),IR(a,i,r.host,r._protocol)}return t}function OA(r){function e(t,n){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=$k():i=Hk():t.getStatus()===402?i=zk(r.bucket):t.getStatus()===403?i=Gk(r.path):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}return e}function LA(r){const e=OA(r);function t(n,i){let a=e(n,i);return n.getStatus()===404&&(a=Uk(r.path)),a.serverResponse=i.serverResponse,a}return t}function NR(r,e,t){const n=e.fullServerUrl(),i=Bh(n,r.host,r._protocol),a="GET",u=r.maxOperationRetryTime,c=new Qg(i,a,PR(r,t),u);return c.errorHandler=LA(e),c}function OR(r,e){const t=e.fullServerUrl(),n=Bh(t,r.host,r._protocol),i="DELETE",a=r.maxOperationRetryTime;function u(h,f){}const c=new Qg(n,i,u,a);return c.successCodes=[200,204],c.errorHandler=LA(e),c}function LR(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function FR(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=LR(null,e)),n}function BR(r,e,t,n,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function c(){let L="";for(let x=0;x<2;x++)L=L+Math.random().toString().slice(2);return L}const h=c();u["Content-Type"]="multipart/related; boundary="+h;const f=FR(e,n,i),y=kR(f,t),g="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,p=`\r
--`+h+"--",v=Ji.getBlob(g,n,p);if(v===null)throw Zk();const A={name:f.fullPath},b=Bh(a,r.host,r._protocol),C="POST",E=r.maxUploadRetryTime,T=new Qg(b,C,RR(r,t),E);return T.urlParams=A,T.headers=u,T.body=v.uploadData(),T.errorHandler=OA(e),T}class jR{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$s.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$s.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$s.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,i,a){if(this.sent_)throw lu("cannot .send() more than once");if(Xs(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw lu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class MR extends jR{initXhr(){this.xhr_.responseType="text"}}function Yg(){return new MR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t){this._service=e,t instanceof zn?this._location=t:this._location=zn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Qs(e,t)}get root(){const e=new zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kA(this._location.path)}get storage(){return this._service}get parent(){const e=CR(this._location.path);if(e===null)return null;const t=new zn(this._location.bucket,e);return new Qs(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw tR(e)}}function qR(r,e,t){r._throwIfRoot("uploadBytes");const n=BR(r.storage,r._location,RA(),new Ji(e,!0),t);return r.storage.makeRequestWithTokens(n,Yg).then(i=>({metadata:i,ref:r}))}function VR(r){r._throwIfRoot("getDownloadURL");const e=NR(r.storage,r._location,RA());return r.storage.makeRequestWithTokens(e,Yg).then(t=>{if(t===null)throw Xk();return t})}function UR(r){r._throwIfRoot("deleteObject");const e=OR(r.storage,r._location);return r.storage.makeRequestWithTokens(e,Yg)}function zR(r,e){const t=bR(r._location.path,e),n=new zn(r._location.bucket,t);return new Qs(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(r){return/^[A-Za-z]+:\/\//.test(r)}function $R(r,e){return new Qs(r,e)}function FA(r,e){if(r instanceof Zg){const t=r;if(t._bucket==null)throw Yk();const n=new Qs(t,t._bucket);return e!=null?FA(n,e):n}else return e!==void 0?zR(r,e):r}function GR(r,e){if(e&&HR(e)){if(r instanceof Zg)return $R(r,e);throw Ym("To use ref(service, url), the first argument must be a Storage instance.")}else return FA(r,e)}function t1(r,e){const t=e==null?void 0:e[CA];return t==null?null:zn.makeFromBucketSpec(t,r)}function WR(r,e,t,n={}){r.host=`${e}:${t}`;const i=Xs(e);i&&(rg(`https://${r.host}`),ig("Storage",!0)),r._isUsingEmulator=!0,r._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(r._overrideAuthToken=typeof a=="string"?a:Fw(a,r.app.options.projectId))}class Zg{constructor(e,t,n,i,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=AA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qk,this._maxUploadRetryTime=Vk,this._requests=new Set,i!=null?this._bucket=zn.makeFromBucketSpec(i,this._host):this._bucket=t1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zn.makeFromBucketSpec(this._url,e):this._bucket=t1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){e1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){e1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qs(this,e)}_makeRequest(e,t,n,i,a=!0){if(this._deleted)return new nR(bA());{const u=fR(e,this._appId,n,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const n1="@firebase/storage",r1="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="storage";function KR(r,e,t){return r=vt(r),qR(r,e,t)}function JR(r){return r=vt(r),VR(r)}function QR(r){return r=vt(r),UR(r)}function zf(r,e){return r=vt(r),GR(r,e)}function YR(r=ag(),e){r=vt(r);const n=gh(r,BA).getImmediate({identifier:e}),i=Nw("storage");return i&&ZR(n,...i),n}function ZR(r,e,t,n={}){WR(r,e,t,n)}function XR(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new Zg(t,n,i,e,eo)}function eP(){Ws(new ss(BA,XR,"PUBLIC").setMultipleInstances(!0)),Br(n1,r1,""),Br(n1,r1,"esm2017")}eP();function Xg(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function jA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tP=jA,MA=new Vu("auth","Firebase",jA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new sg("@firebase/auth");function nP(r,...e){rh.logLevel<=it.WARN&&rh.warn(`Auth (${eo}): ${r}`,...e)}function Lc(r,...e){rh.logLevel<=it.ERROR&&rh.error(`Auth (${eo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(r,...e){throw ey(r,...e)}function qr(r,...e){return ey(r,...e)}function qA(r,e,t){const n=Object.assign(Object.assign({},tP()),{[e]:t});return new Vu("auth","Firebase",n).create(e,{appName:r.name})}function ci(r){return qA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ey(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return MA.create(r,...e)}function We(r,e,...t){if(!r)throw ey(e,...t)}function ai(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Lc(e),new Error(e)}function gi(r,e){r||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function rP(){return i1()==="http:"||i1()==="https:"}function i1(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rP()||UT()||"connection"in navigator)?navigator.onLine:!0}function sP(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,gi(t>e,"Short delay should be less than long delay!"),this.isMobile=MT()||zT()}get(){return iP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(r,e){gi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uP=new Ku(3e4,6e4);function _i(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function $r(r,e,t,n,i={}){return UA(r,i,async()=>{let a={},u={};n&&(e==="GET"?u=n:a={body:JSON.stringify(n)});const c=Uu(Object.assign({key:r.config.apiKey},u)).slice(1),h=await r._getAdditionalHeaders();h["Content-Type"]="application/json",r.languageCode&&(h["X-Firebase-Locale"]=r.languageCode);const f=Object.assign({method:e,headers:h},a);return VT()||(f.referrerPolicy="no-referrer"),r.emulatorConfig&&Xs(r.emulatorConfig.host)&&(f.credentials="include"),VA.fetch()(await zA(r,r.config.apiHost,t,c),f)})}async function UA(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},oP),e);try{const i=new cP(r),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw bc(r,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const c=a.ok?u.errorMessage:u.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(r,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw bc(r,"email-already-in-use",u);if(h==="USER_DISABLED")throw bc(r,"user-disabled",u);const y=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw qA(r,y,f);Cr(r,y)}}catch(i){if(i instanceof Hr)throw i;Cr(r,"network-request-failed",{message:String(i)})}}async function Ju(r,e,t,n,i={}){const a=await $r(r,e,t,n,i);return"mfaPendingCredential"in a&&Cr(r,"multi-factor-auth-required",{_serverResponse:a}),a}async function zA(r,e,t,n){const i=`${e}${t}?${n}`,a=r,u=a.config.emulator?ty(r.config,i):`${r.config.apiScheme}://${i}`;return aP.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function lP(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(qr(this.auth,"network-request-failed")),uP.get())})}}function bc(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=qr(r,e,n);return i.customData._tokenResponse=t,i}function s1(r){return r!==void 0&&r.enterprise!==void 0}class hP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dP(r,e){return $r(r,"GET","/v2/recaptchaConfig",_i(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fP(r,e){return $r(r,"POST","/v1/accounts:delete",e)}async function ih(r,e){return $r(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pP(r,e=!1){const t=vt(r),n=await t.getIdToken(e),i=ny(n);We(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Su(Hf(i.auth_time)),issuedAtTime:Su(Hf(i.iat)),expirationTime:Su(Hf(i.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Hf(r){return Number(r)*1e3}function ny(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Rw(t);return i?JSON.parse(i):(Lc("Failed to decode base64 JWT payload"),null)}catch(i){return Lc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function o1(r){const e=ny(r);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Hr&&mP(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function mP({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(r){var e;const t=r.auth,n=await r.getIdToken(),i=await la(r,ih(t,{idToken:n}));We(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?HA(a.providerUserInfo):[],c=vP(r.providerData,u),h=r.isAnonymous,f=!(r.email&&a.passwordHash)&&!(c!=null&&c.length),y=h?f:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Xm(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(r,g)}async function yP(r){const e=vt(r);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vP(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function HA(r){return r.map(e=>{var{providerId:t}=e,n=Xg(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(r,e){const t=await UA(r,{},async()=>{const n=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=r.config,u=await zA(r,i,"/v1/token",`key=${a}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",VA.fetch()(u,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wP(r,e){return $r(r,"POST","/v2/accounts:revokeToken",_i(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){We(e.length!==0,"internal-error");const t=o1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:a}=await _P(e,t);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:a}=t,u=new Xo;return n&&(We(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),i&&(We(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(We(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(r,e){We(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class wr{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,a=Xg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await la(this,this.stsTokenManager.getToken(this.auth,e));return We(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pP(this,e)}reload(){return yP(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await sh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(ci(this.auth));const e=await this.getIdToken();return await la(this,fP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,a,u,c,h,f,y;const g=(n=t.displayName)!==null&&n!==void 0?n:void 0,p=(i=t.email)!==null&&i!==void 0?i:void 0,v=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,b=(c=t.tenantId)!==null&&c!==void 0?c:void 0,C=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,E=(f=t.createdAt)!==null&&f!==void 0?f:void 0,T=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:L,emailVerified:x,isAnonymous:j,providerData:q,stsTokenManager:R}=t;We(L&&R,e,"internal-error");const w=Xo.fromJSON(this.name,R);We(typeof L=="string",e,"internal-error"),Wi(g,e.name),Wi(p,e.name),We(typeof x=="boolean",e,"internal-error"),We(typeof j=="boolean",e,"internal-error"),Wi(v,e.name),Wi(A,e.name),Wi(b,e.name),Wi(C,e.name),Wi(E,e.name),Wi(T,e.name);const D=new wr({uid:L,auth:e,email:p,emailVerified:x,displayName:g,isAnonymous:j,photoURL:A,phoneNumber:v,tenantId:b,stsTokenManager:w,createdAt:E,lastLoginAt:T});return q&&Array.isArray(q)&&(D.providerData=q.map(I=>Object.assign({},I))),C&&(D._redirectEventId=C),D}static async _fromIdTokenResponse(e,t,n=!1){const i=new Xo;i.updateFromServerResponse(t);const a=new wr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await sh(a),a}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];We(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?HA(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Xo;c.updateFromIdToken(n);const h=new wr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:u}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Xm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=new Map;function ui(r){gi(r instanceof Function,"Expected a class definition");let e=a1.get(r);return e?(gi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,a1.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$A.type="NONE";const u1=$A;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(r,e,t){return`firebase:${r}:${e}:${t}`}class ea{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Fc(this.userKey,i.apiKey,a),this.fullPersistenceKey=Fc("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ih(this.auth,{idToken:e}).catch(()=>{});return t?wr._fromGetAccountInfoResponse(this.auth,t,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ea(ui(u1),e,n);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||ui(u1);const u=Fc(n,e.config.apiKey,e.name);let c=null;for(const f of t)try{const y=await f._get(u);if(y){let g;if(typeof y=="string"){const p=await ih(e,{idToken:y}).catch(()=>{});if(!p)break;g=await wr._fromGetAccountInfoResponse(e,p,y)}else g=wr._fromJSON(e,y);f!==a&&(c=g),a=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new ea(a,e,n):(a=h[0],c&&await a._set(u,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(u)}catch{}})),new ea(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YA(e))return"Blackberry";if(ZA(e))return"Webos";if(WA(e))return"Safari";if((e.includes("chrome/")||KA(e))&&!e.includes("edge/"))return"Chrome";if(QA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function GA(r=pn()){return/firefox\//i.test(r)}function WA(r=pn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KA(r=pn()){return/crios\//i.test(r)}function JA(r=pn()){return/iemobile/i.test(r)}function QA(r=pn()){return/android/i.test(r)}function YA(r=pn()){return/blackberry/i.test(r)}function ZA(r=pn()){return/webos/i.test(r)}function ry(r=pn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function EP(r=pn()){var e;return ry(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AP(){return HT()&&document.documentMode===10}function XA(r=pn()){return ry(r)||QA(r)||ZA(r)||YA(r)||/windows phone/i.test(r)||JA(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(r,e=[]){let t;switch(r){case"Browser":t=l1(pn());break;case"Worker":t=`${l1(pn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${eo}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((u,c)=>{try{const h=e(a);u(h)}catch(h){c(h)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(r,e={}){return $r(r,"GET","/v2/passwordPolicy",_i(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=6;class xP{constructor(e){var t,n,i,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:TP,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,a,u,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(n=h.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new c1(this),this.idTokenSubscription=new c1(this),this.beforeStateQueue=new CP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ui(t)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ih(this,{idToken:e}),n=await wr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===c)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(ci(this));const t=e?vt(e):null;return t&&We(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bP(this),t=new xP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vu("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await wP(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ui(e)||this._popupRedirectResolver;We(t,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[ui(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(c,this,"internal-error"),c.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,n,i);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&nP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function gs(r){return vt(r)}class c1{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZT(t=>this.observer=t)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DP(r){jh=r}function tC(r){return jh.loadJS(r)}function IP(){return jh.recaptchaEnterpriseScript}function kP(){return jh.gapiScript}function RP(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class PP{constructor(){this.enterprise=new NP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class NP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const OP="recaptcha-enterprise",nC="NO_RECAPTCHA";class LP{constructor(e){this.type=OP,this.auth=gs(e)}async verify(e="verify",t=!1){async function n(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,c)=>{dP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new hP(h);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,u(f.siteKey)}}).catch(h=>{c(h)})})}function i(a,u,c){const h=window.grecaptcha;s1(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(f=>{u(f)}).catch(()=>{u(nC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PP().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{n(this.auth).then(c=>{if(!t&&s1(window.grecaptcha))i(c,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=IP();h.length!==0&&(h+=c),tC(h).then(()=>{i(c,a,u)}).catch(f=>{u(f)})}}).catch(c=>{u(c)})})}}async function h1(r,e,t,n=!1,i=!1){const a=new LP(r);let u;if(i)u=nC;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function oh(r,e,t,n,i){var a;if(!((a=r._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await h1(r,e,t,t==="getOobCode");return n(r,u)}else return n(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await h1(r,e,t,t==="getOobCode");return n(r,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(r,e){const t=gh(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Gs(a,e??{}))return i;Cr(i,"already-initialized")}return t.initialize({options:e})}function BP(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(ui);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function jP(r,e,t){const n=gs(r);We(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=rC(e),{host:u,port:c}=MP(e),h=c===null?"":`:${c}`,f={url:`${a}//${u}${h}/`},y=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){We(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),We(Gs(f,n.config.emulator)&&Gs(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=f,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,Xs(u)?(rg(`${a}//${u}${h}`),ig("Auth",!0)):qP()}function rC(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function MP(r){const e=rC(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:d1(n.substr(a.length+1))}}else{const[a,u]=n.split(":");return{host:a,port:d1(u)}}}function d1(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function qP(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,t){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function VP(r,e){return $r(r,"POST","/v1/accounts:update",e)}async function UP(r,e){return $r(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(r,e){return Ju(r,"POST","/v1/accounts:signInWithPassword",_i(r,e))}async function HP(r,e){return $r(r,"POST","/v1/accounts:sendOobCode",_i(r,e))}async function $P(r,e){return HP(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(r,e){return Ju(r,"POST","/v1/accounts:signInWithEmailLink",_i(r,e))}async function WP(r,e){return Ju(r,"POST","/v1/accounts:signInWithEmailLink",_i(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends iy{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Bu(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Bu(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oh(e,t,"signInWithPassword",zP);case"emailLink":return GP(e,{email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oh(e,n,"signUpPassword",UP);case"emailLink":return WP(e,{idToken:t,email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(r,e){return Ju(r,"POST","/v1/accounts:signInWithIdp",_i(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="http://localhost";class Ys extends iy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,a=Xg(t,["providerId","signInMethod"]);if(!n||!i)return null;const u=new Ys(n,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ta(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ta(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ta(e,t)}buildRequest(){const e={requestUri:KP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Uu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QP(r){const e=du(fu(r)).link,t=e?du(fu(e)).deep_link_id:null,n=du(fu(r)).deep_link_id;return(n?du(fu(n)).link:null)||n||t||e||r}class sy{constructor(e){var t,n,i,a,u,c;const h=du(fu(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(n=h.oobCode)!==null&&n!==void 0?n:null,g=JP((i=h.mode)!==null&&i!==void 0?i:null);We(f&&y&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=y,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=QP(e);try{return new sy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.providerId=ma.PROVIDER_ID}static credential(e,t){return Bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=sy.parseLink(t);return We(n,"argument-error"),Bu._fromEmailAndCode(e,n.code,n.tenantId)}}ma.PROVIDER_ID="password";ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends iC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Qu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ys._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Yi.credential(t,n)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Qu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Qu{constructor(){super("twitter.com")}static credential(e,t){return Ys._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Xi.credential(t,n)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(r,e){return Ju(r,"POST","/v1/accounts:signUp",_i(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const a=await wr._fromIdTokenResponse(e,n,i),u=f1(n);return new Zs({user:a,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=f1(n);return new Zs({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function f1(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends Hr{constructor(e,t,n,i){var a;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new ah(e,t,n,i)}}function sC(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(r,a,e,n):a})}async function ZP(r,e,t=!1){const n=await la(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Zs._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(r,e,t=!1){const{auth:n}=r;if(Vn(n.app))return Promise.reject(ci(n));const i="reauthenticate";try{const a=await la(r,sC(n,i,e,r),t);We(a.idToken,n,"internal-error");const u=ny(a.idToken);We(u,n,"internal-error");const{sub:c}=u;return We(r.uid===c,n,"user-mismatch"),Zs._forOperation(r,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Cr(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(r,e,t=!1){if(Vn(r.app))return Promise.reject(ci(r));const n="signIn",i=await sC(r,n,e),a=await Zs._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(a.user),a}async function e3(r,e){return oC(gs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(r){const e=gs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function t3(r,e,t){const n=gs(r);await oh(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$P)}async function n3(r,e,t){if(Vn(r.app))return Promise.reject(ci(r));const n=gs(r),u=await oh(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YP).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&aC(r),h}),c=await Zs._fromIdTokenResponse(n,"signIn",u);return await n._updateCurrentUser(c.user),c}function p1(r,e,t){return Vn(r.app)?Promise.reject(ci(r)):e3(vt(r),ma.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&aC(r),n})}function r3(r,e){return i3(vt(r),null,e)}async function i3(r,e,t){const{auth:n}=r,a={idToken:await r.getIdToken(),returnSecureToken:!0};t&&(a.password=t);const u=await la(r,VP(n,a));await r._updateTokensIfNecessary(u,!0)}function s3(r,e,t,n){return vt(r).onIdTokenChanged(e,t,n)}function o3(r,e,t){return vt(r).beforeAuthStateChanged(e,t)}function $f(r,e,t,n){return vt(r).onAuthStateChanged(e,t,n)}function m1(r){return vt(r).signOut()}async function a3(r){return vt(r).delete()}const uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=1e3,l3=10;class lC extends uC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,h)=>{this.notifyListeners(u,h)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},a=this.storage.getItem(n);AP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,l3):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},u3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}lC.type="LOCAL";const c3=lC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC extends uC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}cC.type="SESSION";const hC=cC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Mh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(u).map(async f=>f(t.origin,a)),h=await h3(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((c,h)=>{const f=oy("",20);i.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},n);u={messageChannel:i,onMessage(g){const p=g;if(p.data.eventId===f)switch(p.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(p.data.response);break;default:clearTimeout(y),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function f3(r){Vr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function p3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function m3(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function g3(){return dC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firebaseLocalStorageDb",y3=1,lh="firebaseLocalStorage",pC="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qh(r,e){return r.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function v3(){const r=indexedDB.deleteDatabase(fC);return new Yu(r).toPromise()}function eg(){const r=indexedDB.open(fC,y3);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(lh,{keyPath:pC})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(lh)?e(n):(n.close(),await v3(),e(await eg()))})})}async function g1(r,e,t){const n=qh(r,!0).put({[pC]:e,value:t});return new Yu(n).toPromise()}async function _3(r,e){const t=qh(r,!1).get(e),n=await new Yu(t).toPromise();return n===void 0?null:n.value}function y1(r,e){const t=qh(r,!0).delete(e);return new Yu(t).toPromise()}const w3=800,E3=3;class mC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>E3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(g3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await p3(),!this.activeServiceWorker)return;this.sender=new d3(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||m3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eg();return await g1(e,uh,"1"),await y1(e,uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>g1(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>_3(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>y1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=qh(i,!1).getAll();return new Yu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mC.type="LOCAL";const A3=mC;new Ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(r,e){return e?ui(e):(We(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay extends iy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ta(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ta(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function b3(r){return oC(r.auth,new ay(r),r.bypassAuthState)}function T3(r){const{auth:e,user:t}=r;return We(t,e,"internal-error"),XP(t,new ay(r),r.bypassAuthState)}async function x3(r){const{auth:e,user:t}=r;return We(t,e,"internal-error"),ZP(t,new ay(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:a,error:u,type:c}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b3;case"linkViaPopup":case"linkViaRedirect":return x3;case"reauthViaPopup":case"reauthViaRedirect":return T3;default:Cr(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=new Ku(2e3,1e4);class Yo extends gC{constructor(e,t,n,i,a){super(e,t,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Yo.currentPopupAction&&Yo.currentPopupAction.cancel(),Yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S3.get())};e()}}Yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="pendingRedirect",Bc=new Map;class I3 extends gC{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const n=await k3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k3(r,e){const t=N3(e),n=P3(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function R3(r,e){Bc.set(r._key(),e)}function P3(r){return ui(r._redirectPersistence)}function N3(r){return Fc(D3,r.config.apiKey,r.name)}async function O3(r,e,t=!1){if(Vn(r.app))return Promise.reject(ci(r));const n=gs(r),i=C3(n,e),u=await new I3(n,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=10*60*1e3;class F3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!yC(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(qr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L3&&this.cachedEventUids.clear(),this.cachedEventUids.has(v1(e))}saveEventToCache(e){this.cachedEventUids.add(v1(e)),this.lastProcessedEventTime=Date.now()}}function v1(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function yC({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function B3(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yC(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(r,e={}){return $r(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q3=/^https?/;async function V3(r){if(r.config.emulator)return;const{authorizedDomains:e}=await j3(r);for(const t of e)try{if(U3(t))return}catch{}Cr(r,"unauthorized-domain")}function U3(r){const e=Zm(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!q3.test(t))return!1;if(M3.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new Ku(3e4,6e4);function _1(){const r=Vr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function H3(r){return new Promise((e,t)=>{var n,i,a;function u(){_1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_1(),t(qr(r,"network-request-failed"))},timeout:z3.get()})}if(!((i=(n=Vr().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Vr().gapi)===null||a===void 0)&&a.load)u();else{const c=RP("iframefcb");return Vr()[c]=()=>{gapi.load?u():t(qr(r,"network-request-failed"))},tC(`${kP()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw jc=null,e})}let jc=null;function $3(r){return jc=jc||H3(r),jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=new Ku(5e3,15e3),W3="__/auth/iframe",K3="emulator/auth/iframe",J3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y3(r){const e=r.config;We(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?ty(e,K3):`https://${r.config.authDomain}/${W3}`,n={apiKey:e.apiKey,appName:r.name,v:eo},i=Q3.get(r.config.apiHost);i&&(n.eid=i);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${Uu(n).slice(1)}`}async function Z3(r){const e=await $3(r),t=Vr().gapi;return We(t,r,"internal-error"),e.open({where:document.body,url:Y3(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J3,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const u=qr(r,"network-request-failed"),c=Vr().setTimeout(()=>{a(u)},G3.get());function h(){Vr().clearTimeout(c),i(n)}n.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eN=500,tN=600,nN="_blank",rN="http://localhost";class w1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iN(r,e,t,n=eN,i=tN){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const h=Object.assign(Object.assign({},X3),{width:n.toString(),height:i.toString(),top:a,left:u}),f=pn().toLowerCase();t&&(c=KA(f)?nN:t),GA(f)&&(e=e||rN,h.scrollbars="yes");const y=Object.entries(h).reduce((p,[v,A])=>`${p}${v}=${A},`,"");if(EP(f)&&c!=="_self")return sN(e||"",c),new w1(null);const g=window.open(e||"",c,y);We(g,r,"popup-blocked");try{g.focus()}catch{}return new w1(g)}function sN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="__/auth/handler",aN="emulator/auth/handler",uN=encodeURIComponent("fac");async function E1(r,e,t,n,i,a){We(r.config.authDomain,r,"auth-domain-config-required"),We(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:eo,eventId:i};if(e instanceof iC){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",YT(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,g]of Object.entries({}))u[y]=g}if(e instanceof Qu){const y=e.getScopes().filter(g=>g!=="");y.length>0&&(u.scopes=y.join(","))}r.tenantId&&(u.tid=r.tenantId);const c=u;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const h=await r._getAppCheckToken(),f=h?`#${uN}=${encodeURIComponent(h)}`:"";return`${lN(r)}?${Uu(c).slice(1)}${f}`}function lN({config:r}){return r.emulator?ty(r,aN):`https://${r.authDomain}/${oN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="webStorageSupport";class cN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hC,this._completeRedirectFn=O3,this._overrideRedirectResult=R3}async _openPopup(e,t,n,i){var a;gi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await E1(e,t,n,Zm(),i);return iN(e,u,oy())}async _openRedirect(e,t,n,i){await this._originValidation(e);const a=await E1(e,t,n,Zm(),i);return f3(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(gi(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Z3(e),n=new F3(e);return t.register("authEvent",i=>(We(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gf,{type:Gf},i=>{var a;const u=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Gf];u!==void 0&&t(!!u),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=V3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return XA()||WA()||ry()}}const hN=cN;var A1="@firebase/auth",C1="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pN(r){Ws(new ss("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=n.options;We(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:u,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eC(r)},f=new SP(n,i,a,h);return BP(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ws(new ss("auth-internal",e=>{const t=gs(e.getProvider("auth").getImmediate());return(n=>new dN(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(A1,C1,fN(r)),Br(A1,C1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=5*60,gN=Lw("authIdTokenMaxAge")||mN;let b1=null;const yN=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>gN)return;const i=t==null?void 0:t.token;b1!==i&&(b1=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Mc(r=ag()){const e=gh(r,"auth");if(e.isInitialized())return e.getImmediate();const t=FP(r,{popupRedirectResolver:hN,persistence:[A3,c3,hC]}),n=Lw("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const u=yN(a.toString());o3(t,u,()=>u(t.currentUser)),s3(t,c=>u(c))}}const i=Pw("auth");return i&&jP(t,`http://${i}`),t}function vN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}DP({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const a=qr("internal-error");a.customData=i,t(a)},n.type="text/javascript",n.charset="UTF-8",vN().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pN("Browser");const _N={apiKey:"AIzaSyC1ejMnWWe98bFa29RwIiBBB7UndNdJ1cA",authDomain:"salescaptureai.firebaseapp.com",projectId:"salescaptureai",storageBucket:"salescaptureai.firebasestorage.app",messagingSenderId:"392166418592",appId:"1:392166418592:web:7807d9aafec37b8c0581c5",measurementId:"G-BTPP6403LT"},vC=Mw(_N),wN=YR(),EN=dk(vC),AN=Mc(vC);class CN{constructor(){le(this,"doNotInclude",["render","forceUpdate","setState"])}bind(e){var n;let t=Object.getPrototypeOf(e);for(;t&&t!==Object.prototype;){const i=Object.getOwnPropertyNames(t).filter(a=>typeof t[a]=="function"&&a!=="constructor");for(let a of i)this.doNotInclude.includes(a)||(e[a]=(n=e[a])==null?void 0:n.bind(e));t=Object.getPrototypeOf(t)}}setDoNotIncludeList(e){this.doNotInclude=e}leaveOut(e){this.doNotInclude.push(e)}include(e){this.doNotInclude=this.doNotInclude.filter(t=>t!==e)}}let En=new CN;class hi{constructor(){le(this,"list",[]);En.bind(this)}setList(e){e=e.filter(t=>t!==void 0),this.list=e}getList(){return this.list}subscribe(e){e&&this.list.push(e)}unsubscribe(e){this.list=this.list.filter(t=>t!==e)}run(...e){for(let t of this.list)t&&t(...e)}}var cu={},T1;function bN(){if(T1)return cu;T1=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.parse=u,cu.serialize=f;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function u(p,v){const A=new a,b=p.length;if(b<2)return A;const C=(v==null?void 0:v.decode)||y;let E=0;do{const T=p.indexOf("=",E);if(T===-1)break;const L=p.indexOf(";",E),x=L===-1?b:L;if(T>x){E=p.lastIndexOf(";",T-1)+1;continue}const j=c(p,E,T),q=h(p,T,j),R=p.slice(j,q);if(A[R]===void 0){let w=c(p,T+1,x),D=h(p,x,w);const I=C(p.slice(w,D));A[R]=I}E=x+1}while(E<b);return A}function c(p,v,A){do{const b=p.charCodeAt(v);if(b!==32&&b!==9)return v}while(++v<A);return A}function h(p,v,A){for(;v>A;){const b=p.charCodeAt(--v);if(b!==32&&b!==9)return v+1}return A}function f(p,v,A){const b=(A==null?void 0:A.encode)||encodeURIComponent;if(!r.test(p))throw new TypeError(`argument name is invalid: ${p}`);const C=b(v);if(!e.test(C))throw new TypeError(`argument val is invalid: ${v}`);let E=p+"="+C;if(!A)return E;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);E+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);E+="; Domain="+A.domain}if(A.path){if(!n.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);E+="; Path="+A.path}if(A.expires){if(!g(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);E+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(E+="; HttpOnly"),A.secure&&(E+="; Secure"),A.partitioned&&(E+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return E}function y(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function g(p){return i.call(p)==="[object Date]"}return cu}bN();var x1="popstate";function TN(r={}){function e(n,i){let{pathname:a,search:u,hash:c}=n.location;return tg("",{pathname:a,search:u,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:ju(i)}return SN(e,t,null,r)}function St(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xN(){return Math.random().toString(36).substring(2,10)}function S1(r,e){return{usr:r.state,key:r.key,idx:e}}function tg(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ga(e):e,state:t,key:e&&e.key||n||xN()}}function ju({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ga(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function SN(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,u=i.history,c="POP",h=null,f=y();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function y(){return(u.state||{idx:null}).idx}function g(){c="POP";let C=y(),E=C==null?null:C-f;f=C,h&&h({action:c,location:b.location,delta:E})}function p(C,E){c="PUSH";let T=tg(b.location,C,E);f=y()+1;let L=S1(T,f),x=b.createHref(T);try{u.pushState(L,"",x)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(x)}a&&h&&h({action:c,location:b.location,delta:1})}function v(C,E){c="REPLACE";let T=tg(b.location,C,E);f=y();let L=S1(T,f),x=b.createHref(T);u.replaceState(L,"",x),a&&h&&h({action:c,location:b.location,delta:0})}function A(C){return DN(C)}let b={get action(){return c},get location(){return r(i,u)},listen(C){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(x1,g),h=C,()=>{i.removeEventListener(x1,g),h=null}},createHref(C){return e(i,C)},createURL:A,encodeLocation(C){let E=A(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:v,go(C){return u.go(C)}};return b}function DN(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),St(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:ju(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function _C(r,e,t="/"){return IN(r,e,t,!1)}function IN(r,e,t,n){let i=typeof e=="string"?ga(e):e,a=yi(i.pathname||"/",t);if(a==null)return null;let u=wC(r);kN(u);let c=null;for(let h=0;c==null&&h<u.length;++h){let f=VN(a);c=MN(u[h],f,n)}return c}function wC(r,e=[],t=[],n=""){let i=(a,u,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(St(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let f=di([n,h.relativePath]),y=t.concat(h);a.children&&a.children.length>0&&(St(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),wC(a.children,e,y,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:BN(f,a.index),routesMeta:y})};return r.forEach((a,u)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,u);else for(let h of EC(a.path))i(a,u,h)}),e}function EC(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let u=EC(n.join("/")),c=[];return c.push(...u.map(h=>h===""?a:[a,h].join("/"))),i&&c.push(...u),c.map(h=>r.startsWith("/")&&h===""?"/":h)}function kN(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:jN(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var RN=/^:[\w-]+$/,PN=3,NN=2,ON=1,LN=10,FN=-2,D1=r=>r==="*";function BN(r,e){let t=r.split("/"),n=t.length;return t.some(D1)&&(n+=FN),e&&(n+=NN),t.filter(i=>!D1(i)).reduce((i,a)=>i+(RN.test(a)?PN:a===""?ON:LN),n)}function jN(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function MN(r,e,t=!1){let{routesMeta:n}=r,i={},a="/",u=[];for(let c=0;c<n.length;++c){let h=n[c],f=c===n.length-1,y=a==="/"?e:e.slice(a.length)||"/",g=ch({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},y),p=h.route;if(!g&&f&&t&&!n[n.length-1].route.index&&(g=ch({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!g)return null;Object.assign(i,g.params),u.push({params:i,pathname:di([a,g.pathname]),pathnameBase:$N(di([a,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(a=di([a,g.pathnameBase]))}return u}function ch(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=qN(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((f,{paramName:y,isOptional:g},p)=>{if(y==="*"){let A=c[p]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const v=c[p];return g&&!v?f[y]=void 0:f[y]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:u,pattern:r}}function qN(r,e=!1,t=!0){zr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function VN(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function yi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function UN(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?ga(r):r;return{pathname:t?t.startsWith("/")?t:zN(t,e):e,search:GN(n),hash:WN(i)}}function zN(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Wf(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HN(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function AC(r){let e=HN(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function CC(r,e,t,n=!1){let i;typeof r=="string"?i=ga(r):(i={...r},St(!i.pathname||!i.pathname.includes("?"),Wf("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),Wf("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),Wf("#","search","hash",i)));let a=r===""||i.pathname==="",u=a?"/":i.pathname,c;if(u==null)c=t;else{let g=e.length-1;if(!n&&u.startsWith("..")){let p=u.split("/");for(;p[0]==="..";)p.shift(),g-=1;i.pathname=p.join("/")}c=g>=0?e[g]:"/"}let h=UN(i,c),f=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||y)&&(h.pathname+="/"),h}var di=r=>r.join("/").replace(/\/\/+/g,"/"),$N=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),GN=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,WN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function KN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var bC=["POST","PUT","PATCH","DELETE"];new Set(bC);var JN=["GET",...bC];new Set(JN);var ya=ve.createContext(null);ya.displayName="DataRouter";var Vh=ve.createContext(null);Vh.displayName="DataRouterState";var TC=ve.createContext({isTransitioning:!1});TC.displayName="ViewTransition";var QN=ve.createContext(new Map);QN.displayName="Fetchers";var YN=ve.createContext(null);YN.displayName="Await";var Gr=ve.createContext(null);Gr.displayName="Navigation";var Zu=ve.createContext(null);Zu.displayName="Location";var wi=ve.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var uy=ve.createContext(null);uy.displayName="RouteError";function ZN(r,{relative:e}={}){St(Xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=ve.useContext(Gr),{hash:i,pathname:a,search:u}=el(r,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:di([t,a])),n.createHref({pathname:c,search:u,hash:i})}function Xu(){return ve.useContext(Zu)!=null}function ro(){return St(Xu(),"useLocation() may be used only in the context of a <Router> component."),ve.useContext(Zu).location}var xC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SC(r){ve.useContext(Gr).static||ve.useLayoutEffect(r)}function XN(){let{isDataRoute:r}=ve.useContext(wi);return r?dO():eO()}function eO(){St(Xu(),"useNavigate() may be used only in the context of a <Router> component.");let r=ve.useContext(ya),{basename:e,navigator:t}=ve.useContext(Gr),{matches:n}=ve.useContext(wi),{pathname:i}=ro(),a=JSON.stringify(AC(n)),u=ve.useRef(!1);return SC(()=>{u.current=!0}),ve.useCallback((h,f={})=>{if(zr(u.current,xC),!u.current)return;if(typeof h=="number"){t.go(h);return}let y=CC(h,JSON.parse(a),i,f.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:di([e,y.pathname])),(f.replace?t.replace:t.push)(y,f.state,f)},[e,t,a,i,r])}ve.createContext(null);function el(r,{relative:e}={}){let{matches:t}=ve.useContext(wi),{pathname:n}=ro(),i=JSON.stringify(AC(t));return ve.useMemo(()=>CC(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function tO(r,e){return DC(r,e)}function DC(r,e,t,n){var E;St(Xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=ve.useContext(Gr),{matches:a}=ve.useContext(wi),u=a[a.length-1],c=u?u.params:{},h=u?u.pathname:"/",f=u?u.pathnameBase:"/",y=u&&u.route;{let T=y&&y.path||"";IC(h,!y||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let g=ro(),p;if(e){let T=typeof e=="string"?ga(e):e;St(f==="/"||((E=T.pathname)==null?void 0:E.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${T.pathname}" was given in the \`location\` prop.`),p=T}else p=g;let v=p.pathname||"/",A=v;if(f!=="/"){let T=f.replace(/^\//,"").split("/");A="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let b=_C(r,{pathname:A});zr(y||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),zr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=oO(b&&b.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:di([f,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?f:di([f,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,t,n);return e&&C?ve.createElement(Zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},C):C}function nO(){let r=hO(),e=KN(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=ve.createElement(ve.Fragment,null,ve.createElement("p",null,"💿 Hey developer 👋"),ve.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ve.createElement("code",{style:a},"ErrorBoundary")," or"," ",ve.createElement("code",{style:a},"errorElement")," prop on your route.")),ve.createElement(ve.Fragment,null,ve.createElement("h2",null,"Unexpected Application Error!"),ve.createElement("h3",{style:{fontStyle:"italic"}},e),t?ve.createElement("pre",{style:i},t):null,u)}var rO=ve.createElement(nO,null),iO=class extends ve.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?ve.createElement(wi.Provider,{value:this.props.routeContext},ve.createElement(uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sO({routeContext:r,match:e,children:t}){let n=ve.useContext(ya);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ve.createElement(wi.Provider,{value:r},t)}function oO(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,a=t==null?void 0:t.errors;if(a!=null){let h=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);St(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let u=!1,c=-1;if(t)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:y,errors:g}=t,p=f.route.loader&&!y.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||p){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,f,y)=>{let g,p=!1,v=null,A=null;t&&(g=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||rO,u&&(c<0&&y===0?(IC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,A=null):c===y&&(p=!0,A=f.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,y+1)),C=()=>{let E;return g?E=v:p?E=A:f.route.Component?E=ve.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,ve.createElement(sO,{match:f,routeContext:{outlet:h,matches:b,isDataRoute:t!=null},children:E})};return t&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?ve.createElement(iO,{location:t.location,revalidation:t.revalidation,component:v,error:g,children:C(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):C()},null)}function ly(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aO(r){let e=ve.useContext(ya);return St(e,ly(r)),e}function uO(r){let e=ve.useContext(Vh);return St(e,ly(r)),e}function lO(r){let e=ve.useContext(wi);return St(e,ly(r)),e}function cy(r){let e=lO(r),t=e.matches[e.matches.length-1];return St(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function cO(){return cy("useRouteId")}function hO(){var n;let r=ve.useContext(uy),e=uO("useRouteError"),t=cy("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function dO(){let{router:r}=aO("useNavigate"),e=cy("useNavigate"),t=ve.useRef(!1);return SC(()=>{t.current=!0}),ve.useCallback(async(i,a={})=>{zr(t.current,xC),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...a}))},[r,e])}var I1={};function IC(r,e,t){!e&&!I1[r]&&(I1[r]=!0,zr(!1,t))}ve.memo(fO);function fO({routes:r,future:e,state:t}){return DC(r,void 0,t,e)}function Jo(r){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pO({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){St(!Xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),c=ve.useMemo(()=>({basename:u,navigator:i,static:a,future:{}}),[u,i,a]);typeof t=="string"&&(t=ga(t));let{pathname:h="/",search:f="",hash:y="",state:g=null,key:p="default"}=t,v=ve.useMemo(()=>{let A=yi(h,u);return A==null?null:{location:{pathname:A,search:f,hash:y,state:g,key:p},navigationType:n}},[u,h,f,y,g,p,n]);return zr(v!=null,`<Router basename="${u}"> is not able to match the URL "${h}${f}${y}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:ve.createElement(Gr.Provider,{value:c},ve.createElement(Zu.Provider,{children:e,value:v}))}function k1({children:r,location:e}){return tO(ng(r),e)}function ng(r,e=[]){let t=[];return ve.Children.forEach(r,(n,i)=>{if(!ve.isValidElement(n))return;let a=[...e,i];if(n.type===ve.Fragment){t.push.apply(t,ng(n.props.children,a));return}St(n.type===Jo,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=ng(n.props.children,a)),t.push(u)}),t}var qc="get",Vc="application/x-www-form-urlencoded";function Uh(r){return r!=null&&typeof r.tagName=="string"}function mO(r){return Uh(r)&&r.tagName.toLowerCase()==="button"}function gO(r){return Uh(r)&&r.tagName.toLowerCase()==="form"}function yO(r){return Uh(r)&&r.tagName.toLowerCase()==="input"}function vO(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function _O(r,e){return r.button===0&&(!e||e==="_self")&&!vO(r)}var Tc=null;function wO(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var EO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kf(r){return r!=null&&!EO.has(r)?(zr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vc}"`),null):r}function AO(r,e){let t,n,i,a,u;if(gO(r)){let c=r.getAttribute("action");n=c?yi(c,e):null,t=r.getAttribute("method")||qc,i=Kf(r.getAttribute("enctype"))||Vc,a=new FormData(r)}else if(mO(r)||yO(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||c.getAttribute("action");if(n=h?yi(h,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||qc,i=Kf(r.getAttribute("formenctype"))||Kf(c.getAttribute("enctype"))||Vc,a=new FormData(c,r),!wO()){let{name:f,type:y,value:g}=r;if(y==="image"){let p=f?`${f}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else f&&a.append(f,g)}}else{if(Uh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qc,n=null,i=Vc,u=r}return a&&i==="text/plain"&&(u=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:u}}function hy(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function CO(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bO(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function TO(r,e,t){let n=await Promise.all(r.map(async i=>{let a=e.routes[i.route.id];if(a){let u=await CO(a,t);return u.links?u.links():[]}return[]}));return IO(n.flat(1).filter(bO).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function R1(r,e,t,n,i,a){let u=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>{var y;return t[f].pathname!==h.pathname||((y=t[f].route.path)==null?void 0:y.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,f)=>u(h,f)||c(h,f)):a==="data"?e.filter((h,f)=>{var g;let y=n.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let p=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function xO(r,e,{includeHydrateFallback:t}={}){return SO(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function SO(r){return[...new Set(r)]}function DO(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function IO(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let a=JSON.stringify(DO(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kO=new Set([100,101,204,205]);function RO(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&yi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function kC(){let r=ve.useContext(ya);return hy(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function PO(){let r=ve.useContext(Vh);return hy(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var dy=ve.createContext(void 0);dy.displayName="FrameworkContext";function RC(){let r=ve.useContext(dy);return hy(r,"You must render this element inside a <HydratedRouter> element"),r}function NO(r,e){let t=ve.useContext(dy),[n,i]=ve.useState(!1),[a,u]=ve.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:y,onTouchStart:g}=e,p=ve.useRef(null);ve.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let b=E=>{E.forEach(T=>{u(T.isIntersecting)})},C=new IntersectionObserver(b,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[r]),ve.useEffect(()=>{if(n){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[n]);let v=()=>{i(!0)},A=()=>{i(!1),u(!1)};return t?r!=="intent"?[a,p,{}]:[a,p,{onFocus:hu(c,v),onBlur:hu(h,A),onMouseEnter:hu(f,v),onMouseLeave:hu(y,A),onTouchStart:hu(g,v)}]:[!1,p,{}]}function hu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function OO({page:r,...e}){let{router:t}=kC(),n=ve.useMemo(()=>_C(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?ve.createElement(FO,{page:r,matches:n,...e}):null}function LO(r){let{manifest:e,routeModules:t}=RC(),[n,i]=ve.useState([]);return ve.useEffect(()=>{let a=!1;return TO(r,e,t).then(u=>{a||i(u)}),()=>{a=!0}},[r,e,t]),n}function FO({page:r,matches:e,...t}){let n=ro(),{manifest:i,routeModules:a}=RC(),{basename:u}=kC(),{loaderData:c,matches:h}=PO(),f=ve.useMemo(()=>R1(r,e,h,i,n,"data"),[r,e,h,i,n]),y=ve.useMemo(()=>R1(r,e,h,i,n,"assets"),[r,e,h,i,n]),g=ve.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let A=new Set,b=!1;if(e.forEach(E=>{var L;let T=i.routes[E.route.id];!T||!T.hasLoader||(!f.some(x=>x.route.id===E.route.id)&&E.route.id in c&&((L=a[E.route.id])!=null&&L.shouldRevalidate)||T.hasClientLoader?b=!0:A.add(E.route.id))}),A.size===0)return[];let C=RO(r,u);return b&&A.size>0&&C.searchParams.set("_routes",e.filter(E=>A.has(E.route.id)).map(E=>E.route.id).join(",")),[C.pathname+C.search]},[u,c,n,i,f,e,r,a]),p=ve.useMemo(()=>xO(y,i),[y,i]),v=LO(y);return ve.createElement(ve.Fragment,null,g.map(A=>ve.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),p.map(A=>ve.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),v.map(({key:A,link:b})=>ve.createElement("link",{key:A,...b})))}function BO(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var PC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PC&&(window.__reactRouterVersion="7.6.1")}catch{}function jO({basename:r,children:e,window:t}){let n=ve.useRef();n.current==null&&(n.current=TN({window:t,v5Compat:!0}));let i=n.current,[a,u]=ve.useState({action:i.action,location:i.location}),c=ve.useCallback(h=>{ve.startTransition(()=>u(h))},[u]);return ve.useLayoutEffect(()=>i.listen(c),[i,c]),ve.createElement(pO,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:i})}var NC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qt=ve.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:u,state:c,target:h,to:f,preventScrollReset:y,viewTransition:g,...p},v){let{basename:A}=ve.useContext(Gr),b=typeof f=="string"&&NC.test(f),C,E=!1;if(typeof f=="string"&&b&&(C=f,PC))try{let D=new URL(window.location.href),I=f.startsWith("//")?new URL(D.protocol+f):new URL(f),k=yi(I.pathname,A);I.origin===D.origin&&k!=null?f=k+I.search+I.hash:E=!0}catch{zr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=ZN(f,{relative:i}),[L,x,j]=NO(n,p),q=UO(f,{replace:u,state:c,target:h,preventScrollReset:y,relative:i,viewTransition:g});function R(D){e&&e(D),D.defaultPrevented||q(D)}let w=ve.createElement("a",{...p,...j,href:C||T,onClick:E||a?e:R,ref:BO(v,x),target:h,"data-discover":!b&&t==="render"?"true":void 0});return L&&!b?ve.createElement(ve.Fragment,null,w,ve.createElement(OO,{page:T})):w});qt.displayName="Link";var MO=ve.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:u,viewTransition:c,children:h,...f},y){let g=el(u,{relative:f.relative}),p=ro(),v=ve.useContext(Vh),{navigator:A,basename:b}=ve.useContext(Gr),C=v!=null&&WO(g)&&c===!0,E=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,T=p.pathname,L=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(T=T.toLowerCase(),L=L?L.toLowerCase():null,E=E.toLowerCase()),L&&b&&(L=yi(L,b)||L);const x=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let j=T===E||!i&&T.startsWith(E)&&T.charAt(x)==="/",q=L!=null&&(L===E||!i&&L.startsWith(E)&&L.charAt(E.length)==="/"),R={isActive:j,isPending:q,isTransitioning:C},w=j?e:void 0,D;typeof n=="function"?D=n(R):D=[n,j?"active":null,q?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(R):a;return ve.createElement(qt,{...f,"aria-current":w,className:D,ref:y,style:I,to:u,viewTransition:c},typeof h=="function"?h(R):h)});MO.displayName="NavLink";var qO=ve.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:u=qc,action:c,onSubmit:h,relative:f,preventScrollReset:y,viewTransition:g,...p},v)=>{let A=$O(),b=GO(c,{relative:f}),C=u.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&NC.test(c),T=L=>{if(h&&h(L),L.defaultPrevented)return;L.preventDefault();let x=L.nativeEvent.submitter,j=(x==null?void 0:x.getAttribute("formmethod"))||u;A(x||L.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:a,relative:f,preventScrollReset:y,viewTransition:g})};return ve.createElement("form",{ref:v,method:C,action:b,onSubmit:n?h:T,...p,"data-discover":!E&&r==="render"?"true":void 0})});qO.displayName="Form";function VO(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OC(r){let e=ve.useContext(ya);return St(e,VO(r)),e}function UO(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:u}={}){let c=XN(),h=ro(),f=el(r,{relative:a});return ve.useCallback(y=>{if(_O(y,e)){y.preventDefault();let g=t!==void 0?t:ju(h)===ju(f);c(r,{replace:g,state:n,preventScrollReset:i,relative:a,viewTransition:u})}},[h,c,f,t,n,e,r,i,a,u])}var zO=0,HO=()=>`__${String(++zO)}__`;function $O(){let{router:r}=OC("useSubmit"),{basename:e}=ve.useContext(Gr),t=cO();return ve.useCallback(async(n,i={})=>{let{action:a,method:u,encType:c,formData:h,body:f}=AO(n,e);if(i.navigate===!1){let y=i.fetcherKey||HO();await r.fetch(y,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||u,formEncType:i.encType||c,flushSync:i.flushSync})}else await r.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||u,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function GO(r,{relative:e}={}){let{basename:t}=ve.useContext(Gr),n=ve.useContext(wi);St(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...el(r||".",{relative:e})},u=ro();if(r==null){a.search=u.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(y=>y==="")){c.delete("index"),h.filter(g=>g).forEach(g=>c.append("index",g));let y=c.toString();a.search=y?`?${y}`:""}}return(!r||r===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:di([t,a.pathname])),ju(a)}function WO(r,e={}){let t=ve.useContext(TC);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=OC("useViewTransitionState"),i=el(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=yi(t.currentLocation.pathname,n)||t.currentLocation.pathname,u=yi(t.nextLocation.pathname,n)||t.nextLocation.pathname;return ch(i.pathname,u)!=null||ch(i.pathname,a)!=null}[...kO];class KO{constructor(e){En.bind(this),this.props={...e},this.content=e.content||"",this.type="div"}setHtmlType(e){this.type=e}getHtmlType(){return this.type}setProp(e,t){this.props[e]=t}setProps(e){this.props={...e},e.content&&(this.content=e.content)}updateProps(e){this.props={...this.props,...e},e.content&&(this.content=e.content)}addProps(e){this.props={...this.props,...e},e.content&&(this.content=e.content)}getProps(){return this.props}getProp(e){return this.props[e]}setStyle(e){this.props.style=e}updateStyle(e){this.props.style={...this.props.style,...e}}getStyle(){return this.props.style}setClass(e){this.props.className=e}getClass(){return this.props.className}setOnChange(e){this.props.onChange=e}setOnClick(e){this.props.onClick=e}getOnClick(){return this.props.onClick}setContent(e){this.content=e}getContent(){return this.content}getHtml(e){let{content:t,props:n}=e,i=e==null?void 0:e.type;t&&(this.content=t),n={...this.props,...n};const a={a:_.jsx("a",{...n,children:this.content}),button:_.jsx("button",{...n,children:this.content}),div:_.jsx("div",{...n,children:this.content}),h1:_.jsx("h1",{...n,children:this.content}),h2:_.jsx("h2",{...n,children:this.content}),h3:_.jsx("h3",{...n,children:this.content}),h4:_.jsx("h4",{...n,children:this.content}),h5:_.jsx("h5",{...n,children:this.content}),h6:_.jsx("h6",{...n,children:this.content}),img:_.jsx("img",{...n}),input:_.jsx("input",{...n}),p:_.jsx("p",{...n,children:this.content}),span:_.jsx("span",{...n,children:this.content}),table:_.jsx("table",{...n,children:this.content}),tr:_.jsx("tr",{...n,children:this.content}),td:_.jsx("td",{...n,children:this.content}),th:_.jsx("th",{...n,children:this.content}),ul:_.jsx("ul",{...n,children:this.content}),li:_.jsx("li",{...n,children:this.content}),ol:_.jsx("ol",{...n,children:this.content}),form:_.jsx("form",{...n,children:this.content}),textarea:_.jsx("textarea",{...n,children:this.content}),select:_.jsx("select",{...n,children:this.content}),option:_.jsx("option",{...n,children:this.content}),label:_.jsx("label",{...n,children:this.content}),nav:_.jsx("nav",{...n,children:this.content}),footer:_.jsx("footer",{...n,children:this.content}),header:_.jsx("header",{...n,children:this.content}),article:_.jsx("article",{...n,children:this.content}),section:_.jsx("section",{...n,children:this.content}),aside:_.jsx("aside",{...n,children:this.content}),main:_.jsx("main",{...n,children:this.content}),video:_.jsx("video",{...n,children:this.content}),audio:_.jsx("audio",{...n,children:this.content}),iframe:_.jsx("iframe",{...n,children:this.content}),canvas:_.jsx("canvas",{...n,children:this.content}),content:_.jsx(_.Fragment,{}),fragment:_.jsx(_.Fragment,{children:this.content}),link:_.jsx(qt,{...n,children:this.content})};if(i==="content"||this.type==="conent"){let c=this.content;a.content=_.jsx(c,{...n})}return i?a[i]:a[this.type]}}class JO extends hi{constructor(){super(...arguments);le(this,"component");le(this,"setAttribute")}setObserverFunction(t){this.setAttribute=t}setComponent(t){this.component=t}getComponent(){return this.component}run(){for(let t of this.list)this.setAttribute(t.name,new KO(t))}}class va{constructor(){le(this,"factory");le(this,"componentList");le(this,"themeFactory");le(this,"appComponent");le(this,"mainFunc");le(this,"appObserver",new hi);En.bind(this),this.getFactory(),this.getThemeFactory()}subscribeToAppObserver(e){this.appObserver.subscribe(e)}getMainFunc(){return this.mainFunc}getFactory(){}getThemeFactory(){}getAppComponent(){return this.appComponent}setAppComponent(e){this.appComponent=e,this.appObserver.run(e)}getComponentList(){var e,t;return this.componentList||(this.componentList=(t=(e=this.appComponent)==null?void 0:e.state)==null?void 0:t.componentList),this.componentList}}class QO extends va{constructor(){super(...arguments);le(this,"type","appInterface")}}const LC=new QO;class Ye extends ve.Component{constructor(t){super(t);le(this,"resize");En.bind(this),this.initialBuilderSetupFunctions=[],this.setInterface(),this.setInitialApp(),this.initialPropsSetupFunctions=[this.setInterface,this.setAppOnInterace,this.setInitialApp,this.setObj,this.setThemeFactory,this.setTheme,this.createReactRefsForComponents],this.setupObserver=new hi,this.builderObserver=new JO,this.ObserverForSetupFunction=new hi,this.builderObserver.setComponent(this),this.builderObserver.setObserverFunction(this.setHtmlBuilderSingleton),this.initialSetupFunctions=[this.builderObserver.run,this.additionalSetup],this.components=[]}setInitialApp(){var n,i,a,u,c,h;this.interface||(this.app=(n=this.props)==null?void 0:n.app);let t=this.interface.getAppComponent();t&&(this.app=t),this.app&&(this.propsState=(i=this.app)==null?void 0:i.state,this.dispatch=(a=this.app)==null?void 0:a.dispatch,this.componentList=(u=this.propsState)==null?void 0:u.componentList,this.APIService=(c=this.componentList)==null?void 0:c.getAPIService(),this.operationsFactory=(h=this.componentList)==null?void 0:h.getOperationsFactory())}setInterface(t){var n;this.interface=t||((n=this.props)==null?void 0:n.interface)||this.interface||LC,this.interface.type==="appInterface"&&this.subscribeToAppObserverBool===void 0&&(this.subscribeToAppObserverBool=!0,this.interface.subscribeToAppObserver(this.setInitialApp))}setAppOnInterace(){this.interface&&(this.props.app&&this.interface.setAppComponent(this.props.app),this.app=this.interface.getAppComponent())}setComponents(t){this.components=t}getComponents(){return this.components}createReactRefsForComponents(){for(let t of this.components)this[t+"Ref"]||(this[t+"Ref"]=ph.createRef())}createPropObj(t,n){n=n||this.state.propType;let i,a=this[n||"props"][t+"Class"];return a||(a=this.theme&&typeof this.theme!="string"?this.theme[this.state[t+"Class"]]:this["default"+t+"Class"]||""),i={name:t,ref:this[t+"Ref"],style:this[t+"Click"]?{...this[n||"props"][t+"Style"],cursor:"pointer"}:this[n||"props"][t+"Style"],className:a,content:this[n||"props"][t],onClick:this[n||"props"][t+"Click"]||this[t+"Click"],obj:this.obj},i.onClick&&(i.onClick=i.onClick.bind(this,this.obj)),i}builderPropsSubscribe(t){this[t+"Props"]=this.createPropObj(t),this.builderObserver.subscribe(this[t+"Props"])}setInitialBuilderPropFunctions(){for(let t of this.components)this["set"+t+"props"]||(this["set"+t+"props"]=this.builderPropsSubscribe(t)),this.initialBuilderSetupFunctions.push(this["set"+t+"props"]);return this.initialBuilderSetupFunctions}loadObserver(){this.setupObserver.setList(this.initialSetupFunctions)}setInitialSetupFunctions(){const t=[...this.initialPropsSetupFunctions,...this.initialBuilderSetupFunctions,...this.initialSetupFunctions,this.additionalPostSetup],n=[...new Set(t)];return this.initialSetupFunctions=n,this.initialSetupFunctions}runInitialPropsSetup(){for(let t of this.initialPropsSetupFunctions)t&&t()}isArray(t){return Array.isArray(t)?t:[t]}setObj(){this.obj=this.props.obj}setThemeFactory(){this.interface!==void 0&&(this.themeFactory=this.interface.getThemeFactory())}setTheme(){var t,n;this.themeFactory&&(this.theme=this.themeFactory.getComponent(((t=this.props)==null?void 0:t.theme)||((n=this.state)==null?void 0:n.defaultTheme)||"default"))}clearLists(){this.setupObserver.setList([]),this.builderObserver.setList([])}setupItem(...t){this.clearLists(),this.preSetup(),this.runInitialPropsSetup(),this.setInitialBuilderPropFunctions(),this.setInitialSetupFunctions(),this.loadObserver(),this.setupObserver.run(...t)}preSetup(){}setAttribute(t,n){this[t]=n}setHtmlBuilderSingleton(t,n){this[t]||(this[t]=n)}getInnerContent(){return this.innerContent}getAdditionalInnerContent(){return this.innerContent}mapList(t){return _.jsx(_.Fragment,{children:t.filter(n=>n!==void 0&&n!==!1).map(n=>n)})}additionalSetup(){}additionalPostSetup(){}mapInnerContent(){return this.getInnerContent(),this.getAdditionalInnerContent(),this.innerContent=this.mapList(this.innerContent),this.innerContent}getHtml(){return this.html}getFactoryTypeString(t){let n=this.propsState.componentListInterface.getFactory().getRegistry(),i=n.find(a=>t.toLowerCase()===a);return i=i||n.find(a=>t.toLowerCase().includes(a)),i}getCapitalFirstLetter(t){var n;return((n=t==null?void 0:t.charAt(0))==null?void 0:n.toUpperCase())+(t==null?void 0:t.slice(1))}classNameToString(t){let n=t.name;return n.charAt(0).toLowerCase()+n.slice(1)}render(){return this.setupItem(),this.html=this.getHtml(),this.html}}class YO extends va{}const FC=new YO;class Gt extends Ye{constructor(t){super(t);le(this,"type");le(this,"theme");le(this,"interface");this.wrapperRef=ph.createRef(),this.setWrapperRef=this.setWrapperRef,this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setApp,this.setType,this.setClassStr],this.state={defaultType:this.props.type?this.props.type:"fit",defaultTheme:this.props.theme?this.props.theme:"Default",typeKey:"type",themeKey:"theme"},this.interface=FC}componentDidMount(){this.props.popup&&document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){this.props.popup&&document.removeEventListener("mousedown",this.handleClickOutside)}handleClickOutside(t){this.wrapperRef&&!this.wrapperRef.current.contains(t.target)&&this.props.handleClose&&this.props.handleClose()}isPopup(t){if(this.props.popup){let n=this.closePopup.getHtml({content:this.props.closeUI||_.jsx(_.Fragment,{children:"X"}),props:{onClick:()=>{this.props.handleClose&&this.props.handleClose()}}}),i=this.popupContent.getHtml({content:_.jsxs(_.Fragment,{children:[n,t]}),props:{ref:this.wrapperRef}});t=this.backDrop.getHtml({content:i})}return t}setTheme(){this.theme=this.props[this.state.themeKey]?this.props[this.state.themeKey]:this.state.defaultTheme}setType(){this.type=this.props[this.state.typeKey]?this.props[this.state.typeKey]:this.state.defaultType}setClassStr(){this.defaultcardClass=this.type+this.theme+" scroller",this.defaultcardClass=this.props.popup?this.defaultcardClass+" cardPopup":this.defaultcardClass,this.props.popup&&(this.defaultbackDropClass="backDropPopup",this.defaultpopupContentClass="popupContent",this.defaultclosePopupClass="closePopup")}getHtml(){let t=this.getContent();return this.html=this.card.getHtml({content:t}),this.html=this.isPopup(this.html),this.html}getContent(){return this.content=this.props.content,this.content}preSetup(){let t=["card"];this.props.popup&&(t=[...t,"backDrop","popupContent","closePopup"]),this.setComponents(t)}}let ZO=class{constructor(e){le(this,"operationsFactory");le(this,"dispatch");le(this,"json",{_id:"",backendKeys:[],backendAttributes:[],backendFilterKeys:[],orderMatters:!1,orderFilterKey:"",filterKey:"",removeOwnerQuery:[]});le(this,"componentList");le(this,"APIService");En.bind(this),this.operationsFactory=e,this.json._id=this.createId()}getAssociatedItemsHelper(e){let t=this.json._id,n=this.json.type+"Id";return this.json.backendAttributes.length>0&&(t=this.json[this.json.backendAttributes[e]]),this.json.backendFilterKeys.length>0&&(n=this.json.backendFilterKeys[e]),{attribute:t,filterKey:n}}async getAssociatedItems(e){e=e||this.json.backendKeys;const t=e==null?void 0:e.map((n,i)=>{let{attribute:a,filterKey:u}=this.getAssociatedItemsHelper(i);return this.componentList.getList(n,a,u)});return await Promise.all(t)}async getAssociatedItemsFromBackend(e,t){e=e||this.json.backendKeys;let n=!0;const i=e==null?void 0:e.map((a,u)=>{this.json.removeOwnerQuery.includes(a)&&(n=!1);let{attribute:c,filterKey:h}=this.getAssociatedItemsHelper(u);return this.componentList.getComponentsFromBackend({type:a,ids:c,filterKeys:h,owner:n,...t})});return await Promise.all(i)}setComponentList(e){this.componentList=e,this.componentList.getAPIService&&this.setAPIService(this.componentList.getAPIService()),this.componentList.getDispatch&&this.setDispatch(this.componentList.getDispatch())}setDispatch(e){this.dispatch=e}getDispatch(){return this.dispatch}getComponentList(){return this.componentList}setAPIService(e){this.APIService=e}getAPIService(){return this.APIService}update(...e){this.APIService&&this.APIService.update([this],...e)}del(...e){this.componentList.del(this,{...e})}updateOrder(e,t){e=e||-1,e===!0&&(e=1);let n=this.componentList.getList(this.json.type,this.json[this.json.orderFilterKey],this.json.orderFilterKey);t=t||(this.json.orderKey?this.json[this.json.orderKey]:"order");let i=n.indexOf(this),a;e<0&&i===0?this.json[t]=n.length:e>0&&i===n.length-1?(this.json[t]=0,this.componentList.shiftOrderedList(this,t)):(a=n[i+e],a.setCompState({[t]:i},{run:!0,clean:!0}),this.json[t]=i+e),this.componentList.sortSelectedList(this.json.type,this.json.orderKey||"order"),this.componentList.resetOrder(this,t),this.update()}prepare(){this.operationsFactory.prepare({prepare:this})}setAttribute(e,t){this[e]=t}setAttributes(e){for(let t in e)this[t]=e[t]}getAttribute(e){return this[e]}getJsonAttribute(e){return this.json[e]}setCompState(e,t,n,i){this.subscribeToOperations(t),this.json={...this.json,...e},n&&this.dispatch({updated:this}),i&&i(e),t!=null&&t.run&&this.operationsFactory.runOperations()}getOperationsFactory(){return this.operationsFactory}setJson(e,t,n,i){this.subscribeToOperations(t),this.json=e,n&&this.dispatch({updated:this}),i&&i(this),t!=null&&t.run&&this.operationsFactory.runOperations()}getJson(){return this.json}subscribeToOperations(e){e&&this.operationsFactory.subscribeToOperations(e.operation||this.update,e.clean)}copyJson(e){return{...this.json,_id:"",...e}}copy(e){let t=this.copyJson(e);this.componentList.addComponents(t)}updateObjInsideJson(e,t){this.json[e]={...this.json[e],...t}}removeObjInsideJson(e,t){let n={};for(const i in this.json[e])t.includes(i)||(n[i]=this.json[e][i]);this.json[e]=n}randomFiveDigitNumber(){let e=Math.floor(Math.random()*9e4)+1e4;e=e.toString();let t=String.fromCharCode(97+Math.floor(Math.random()*26)),n=Math.floor(Math.random()*5);if(e=e.substring(0,n)+t+e.substring(n+1),Math.floor(Math.random()*2)===1){let a=String.fromCharCode(97+Math.floor(Math.random()*26)),u;do u=Math.floor(Math.random()*5);while(u===n);e=e.substring(0,u)+a+e.substring(u+1)}return e}createId(){const e=new Date,t=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=e.getFullYear().toString().slice(-2);return this.randomFiveDigitNumber().toString()+t+n+i}createUUID(e){let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz123456789",i=n.length;for(let a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*i));return t}};class XO{constructor(){le(this,"operationsFactory");le(this,"factory",{})}registerComponents(e){this.factory[e.name]=e.component}setOperationsFactory(e){this.operationsFactory=e}getRegistry(){return Object.keys(this.factory)}async getComponent(e){if(Object.keys(this.factory).includes(e.type)){let t=e.type,n=new this.factory[t](this.operationsFactory);return[void 0,"",!1].includes(e._id)&&(e._id=n.getJson()._id),n.setCompState({...e}),n}}}class e5 extends hi{clear(){this.list=[]}cleanSubscibe(e){this.clear(),this.subscribe(e)}run(...e){for(let t of this.list)t&&t(...e);this.clear()}}class P1{constructor(e){le(this,"register");le(this,"factory");le(this,"operationsObserver");En.bind(this),this.add=[],this.lastChange=[],this.factory=e.getFactory(),this.operationsObserver=new e5}removeFromList(e){this.add=this.add.filter(t=>t!==e)}getOperationsObserver(){return this.operationsObserver}setOperationsObserver(e){this.operationsObserver=e}subscribeToOperations(e,t){t&&this.operationsObserver.clear(),this.operationsObserver.subscribe(e)}runOperations(...e){this.operationsObserver.run(...e)}setAddList(e){this.add=[...e],this.lastChange=[...this.add]}getAddList(){return this.add}getLastPrepare(){return this.lastChange}async prepare(e,t){let{prepare:n,amount:i,clean:a}=e;i=i||1;let u=Array.isArray(n)?n:[n];u=u.flatMap(h=>Array(i).fill(h));let c=[];for(let h of u){let f=await this.factory.getComponent({...h});c.push(f)}return u=[...c],this.setAddList(a?[...u]:[...this.add,...u]),t&&t(this.add),e.run&&await this.addToComponentList(),this.add}clear(){this.setAddList([])}removeFromRegister(e){this.setAddList(this.add.filter(t=>t!==e))}run(e){this.addToComponentList(e)}addToComponentList(e){let t=[...this.add];return this.clear(),this.register(t,{skipBackendUpdate:e}),t}setRegister(e){this.register=e}}class t5{constructor(e){le(this,"components",[]);le(this,"dispatch");le(this,"backArray",{});le(this,"operationsFactory");le(this,"componentListInterface");le(this,"componentsList",{});le(this,"completionObserver",new hi);le(this,"factory");le(this,"APIService");En.bind(this),this.operationsFactory=e.getOperationsFactory(),this.operationsFactory.setRegister(this.add),this.componentListInterface=e,this.factory=e.getFactory(),this.dispatch=e.dispatch,this.APIService=e.getAPIService(),this.APIService.setComponentList(this),this.completionObserver.subscribe(this.setComponentsList),this.completionObserver.subscribe(this.setOrderAfterAddorDel)}getFactory(){return this.factory}getDispatch(){return this.dispatch}setDispatch(e){this.dispatch=e}getCompletionObserver(){return this.completionObserver}setCompoletionObserver(e){this.completionObserver=e}subscribeToOperationCompletion(e){this.completionObserver.subscribe(e)}getAPIService(){return this.APIService}setAPIService(e){this.APIService=e}getComponents(){return this.components}filterOutErrors(e){let t=this.components.map(i=>i.getJson()._id);e=e.filter(i=>i!==void 0),e=e.map(i=>{if(i!==void 0&&t.includes(i.getJson()._id)){let a=this.components.find(u=>u.getJson()._id===i.getJson()._id);i.setJson({...a.getJson(),...i.getJson()})}return i}),e=e.filter(i=>!t.includes(i.getJson()._id));let n=this.factory.getRegistry();return e=e.filter(i=>n.includes(i.getJson().type)),e}add(e,t){return e=Array.isArray(e)?e:[e],e=this.filterOutErrors(e),e.forEach(n=>{n.setComponentList(this)}),this.components=[...this.components,...e],this.operationComplete(e,"add",t)}setComponentsList(){let e={};this.componentListInterface.getFactory().getRegistry().forEach(n=>{e[n]=[]});for(let n of this.components){let i=n.getJson().type;e[i].push(n)}this.componentsList=e}async addComponents(e,t){e.prepare||(e={prepare:Array.isArray(e)?e:[e]}),await this.operationsFactory.prepare({...e}),this.operationsFactory.addToComponentList(t);let n=e==null?void 0:e.prepare.map(a=>a._id);return await this.components.filter(a=>n.includes(a.getJson()._id))}del(e,t){return e=Array.isArray(e)?e:[e],this.components=this.components.filter(n=>!e.includes(n)),this.operationComplete(e,"del",t)}setOrderAfterAddorDel(e){for(let t of e){let n=t.getJson();if(n.orderMatters){let i=this.getList(n.type,n[n.orderFilterKey],n.orderFilterKey),a=n.orderKey?n[n.orderKey]:"order",u=t.getJson()[a],h=i.filter(y=>{let g=parseInt(y.getJson()[a]);return u=parseInt(u),g===u}).find(y=>!e.includes(y)),f=i.indexOf(t);h&&h!==t&&t.setCompState({[a]:f}),this.sortSelectedList(n.type,n.orderKey||"order"),this.resetOrder(t,a)}}}shiftOrderedList(e,t){let n=e.getJson();this.sortSelectedList(n.type,n.orderKey||"order");let i=this.getList(n.type,n[n.orderFilterKey],n.orderFilterKey);t=t||(n.orderKey?n[n.orderKey]:"order"),i=i.filter(a=>a!==e);for(let a=1;a<i.length;a++)i[a-1].setCompState({[t]:a},{run:!0,clean:!0})}resetOrder(e,t){let n=e.getJson();t=t||(n.orderKey?n[n.orderKey]:n.order);let i=this.getList(n.type,n[n.orderFilterKey],n.orderFilterKey);for(let a=0;a<i.length;a++)i[a][t]!==a&&(i[a].setCompState({[t]:a}),i[a]!==e&&i[a].update())}operationComplete(e,t,n){return this.completionObserver.run(e,t,n),this.backArray={[t]:e},n.skipBackendUpdate||this.updateBackend(e,t,n),e}updateBackend(e,t,n){this.dispatch({backend:!0,backendUpdate:{...this.backArray}});let i=[n.path,n.dispatchKey];t==="add"&&i.push(n.timeKey),this.APIService[t](e,...i),this.backArray={}}getOperationsFactory(){return this.operationsFactory}createQueryJson(e,t,n,i,a="type"){i=i||{},n===void 0&&t&&(n="_id"),t=Array.isArray(t)?t:[t],n=Array.isArray(n)?n:[n];let u={where:[{attribute:a,val:e}],...i};return t.length>0&&t[0]!==void 0&&(u.where=[...u.where,...t.map((c,h)=>({attribute:n[h]||n[0],val:c}))]),u}async getComponentsFromBackend(e,t){typeof e=="string"&&(e={type:e,owner:t===!1?t:!0});let n=await this.createQueryJson(e.type,e.ids,e.filterKeys,e.obj,e.typeAttribute);return await this.APIService[e.snapshot?"firebaseGetterSnapshot":"firebaseGetter"](n,e.path,e.owner)}async getComponentFromBackend(e){return(await this.getComponentsFromBackend(e))[0]}getList(e,t,n){n=n||"owner",e=Array.isArray(e)?e:[e];let i=[];for(let a of e){let u=this.componentsList[a]||[];i=[...i,...u]}return Array.isArray(t)||(t=t?[t]:[]),Array.isArray(n)||(n=[n]),t.length>0&&(i=i.filter(a=>n.some((u,c)=>{var y;const h=(y=a.getJson())==null?void 0:y[u],f=t[c]||t[0];return typeof h=="object"?Object.keys(h).includes(f):h===f}))),i}getComponent(e,t,n){return this.getList(e,t,n||"_id")[0]}clearList(){this.components=[],this.componentsList={}}clearSelectedList(e,t){let n=[...this.components],i=[];for(const a in n)n[a].getJson()[t]!==e&&i.push(n[a]);this.components=[...i],this.setComponentsList()}setComponentList(e){this.componentsList=e}setSelectedList(e,t){this.componentsList[e]=t}sortSelectedList(e,t,n){if(t&&this.componentsList[e]){let i=[...this.componentsList[e]];i=i.sort(function(a,u){const c=a.getJson()[t],h=u.getJson()[t],f=isNaN(Number(c))?c:Number(c),y=isNaN(Number(h))?h:Number(h);return typeof f=="number"&&typeof y=="number"?n?y-f:f-y:n?(""+y).localeCompare(""+f):(""+f).localeCompare(""+y)}),this.setSelectedList(e,i)}}sortSelectedListbyFirebaseDate(e,t){if(this.componentsList[e]){let n=[...this.componentsList[e]];n=n.sort(function(i,a){var h,f;let u=i.getJson().date||i.getJson().date!==""?(h=i.getJson().date)==null?void 0:h.seconds:new Date(0),c=a.getJson().date||a.getJson().date!==""?(f=a.getJson().date)==null?void 0:f.seconds:new Date(0);return t?c-u:u-c}),this.setSelectedList(e,n)}}}class n5{constructor(e,t){le(this,"DB");le(this,"url");le(this,"path",[]);le(this,"orderStr","date");En.bind(this),this.setDB(e),this.setUrl(t),this.path=[this.DB,this.url+"users",this.url+"APP","components"]}setDB(e){this.DB=e}setUrl(e){this.url=e}setPath(e){this.path=e}setOrderStr(e){this.orderStr=e}async generateQueary(e,t,n){let i=e.where.map(h=>{if(h.attribute!==void 0)return J0(h.attribute,h.type||"==",h.val)}).filter(h=>h!==void 0);n&&i.push(J0("owner","==",n)),t=t||this.path;let a=[...i],u=e.order||this.orderStr;return u!=="noOrder"&&u!==void 0&&a.push(xk(u)),e.limit&&a.push(Sk(e.limit)),Tk(ck(...t),...a)}}class r5{constructor(e,t,n,i,a){le(this,"urlEndpoint","");le(this,"dispatch");le(this,"componentList");le(this,"userStr","flinnappsUser");le(this,"QuearyGenerator");le(this,"DB");le(this,"storage");le(this,"auth");le(this,"userEmail");le(this,"path",[]);le(this,"postObserver",new hi);le(this,"dispatchObserver",new hi);le(this,"readObserver",new hi);En.bind(this),this.urlEndpoint=e,this.DB=t,this.storage=n,this.auth=i,this.dispatch=a,this.path=[this.DB,`${this.urlEndpoint}users`,`${this.urlEndpoint}APP`,"components"],this.QuearyGenerator=new n5(this.DB,this.urlEndpoint)}setAuth(e){this.auth=e}setStorage(e){this.storage=e}setPath(e){this.path=e}setDB(e){this.DB=e,this.QuearyGenerator.setDB(e)}setDispatch(e){this.dispatch=e}setComponentList(e){this.componentList=e}setUserStr(e){this.userStr=e,this.QuearyGenerator.setUrl(e)}getPostObserver(){return this.postObserver}setPostObserver(e){this.postObserver=e}subscribeToPostObserver(e){this.postObserver.subscribe(e)}getReadObserver(){return this.readObserver}setReadObserver(e){this.readObserver=e}subscribeToReadObserver(e){this.readObserver.subscribe(e)}getPath(){return this.path}getDispatchObserver(){return this.dispatchObserver}setDispatchObserver(e){this.dispatchObserver=e}subscribeToDispatchObserver(e){this.dispatchObserver.subscribe(e)}getQueryGenerator(){return this.QuearyGenerator}setQueryGenerator(e){this.QuearyGenerator=e}async login(e,t){let n,i;if(await p1(this.auth,e,t).then(a=>{n=a.user}).catch(a=>{const u=a.message;i={error:u.slice(9,u.length-1)},console.log(i)}),n){let a=n;this.dispatch({login:!0}),await localStorage.setItem(this.userStr,JSON.stringify(a)),this.componentList!==void 0&&this.dispatch!==void 0&&(n=await this.getuser(e))}else n=i;return n}async register(e,t,n){let i;return await n3(this.auth,e,t).then(a=>{i=a.user}).catch(a=>{a.code;let u=a.message,c=u.length-1;i={error:u.slice(9,c)}}),i.error||(this.userEmail=i.email,localStorage.setItem(this.userStr,JSON.stringify(i))),i}async logout(){await localStorage.clear(),localStorage.setItem(this.userStr,void 0);let e;await $f(this.auth,t=>{t&&(e=t.uid)}),e&&await m1(this.auth),await localStorage.setItem(this.userStr,null),window.location.href="/"}sendForgotPasswordChange(e){const t=Mc();t3(t,e).then(()=>{}).catch(n=>{n.code,n.message})}async checkIfLoggedIn(){return new Promise((e,t)=>{$f(this.auth,async n=>{if(n)e(n);else{await localStorage.setItem(this.userStr,null),await localStorage.clear(),localStorage.setItem(this.userStr,void 0);let i;await $f(this.auth,a=>{a&&(i=a.uid)}),i&&await m1(this.auth),await window.location.reload()}})})}async getCurrentUser(){let e=await localStorage.getItem(this.userStr);return e=await JSON.parse(e),e}async setCurrentUser(e){await localStorage.setItem(this.userStr,JSON.stringify(e))}async loginToDel(e,t){await p1(this.auth,e,t).then(n=>{}).catch(n=>{n.code,n.message})}async delAccount(){const t=Mc().currentUser;await a3(t).then(()=>{}).catch(n=>{})}async notify(e,t){fetch(t,{method:"POST",mode:"no-cors",body:JSON.stringify(e),headers:{"Conent-Type":"application/json"}})}async changePassword(e){const n=Mc().currentUser;return await r3(n,e).then(()=>{}).catch(a=>{}),!0}async firebaseGetterSnapshot(e,t,n){n=n===!0?this.userEmail:void 0;let i=await this.QuearyGenerator.generateQueary(e,t,n),a=[];return await Lk(i,async u=>{a=await this.getRawData(u)}),a}async firebaseGetter(e,t,n){n=n===!0?this.userEmail:void 0;let i=await this.QuearyGenerator.generateQueary(e,t,n),a=await Pk(i);return await this.getRawData(a)}async getRawData(e){let t=[];for(const i in e.docs){let a=e.docs[i].data();t.push(a)}let n=await this.componentList.addComponents(t,!0);return this.dispatch&&await this.dispatch({snapShot:{dataRetrieved:n}}),this.readObserver.run(n,t),n}async getCount(e,t,n){n=n===!0?this.userEmail:void 0;let i=await this.QuearyGenerator.generateQueary(e,t,n);return(await Bk(i)).data().count}async getuser(e){this.userEmail=e;let t=await this.componentList.getComponentFromBackend({type:"user",ids:e});return t&&this.dispatch({currentUser:t,email:e,gotUser:!0}),t}async GetAllData(e,t){t=t||[this.db,this.urlEndpoint+"users"],this.firebaseGetter(e,t)}async uploadPics(e,t){const n=zf(this.storage,t);await KR(n,e).then(i=>{console.log("Uploaded a file!")})}async downloadPics(e){let t;return await JR(zf(this.storage,e)).then(n=>{t=n}),t}deletePics(e){const t=zf(this.storage,e);QR(t).then(()=>{}).catch(n=>{})}prep(e){return e=Array.isArray(e)?e:[e],e=e.map(t=>{let n=t;return t.getJson&&(n=t.getJson()),n}),e=e.filter(t=>t!==void 0),e}async add(e,t,n,i){return e=await e.map(a=>((a.getJson().owner===""||a.getJson().owner===void 0)&&a.setCompState({owner:this.userEmail}),a)),await this.operate(e,Nk,t,n||"added",i||"date")}async update(e,t,n,i){return await this.operate(e,Ok,t,i||"updated",n||"lastUpdated")}async del(e,t,n){return await this.operate(e,Z0,t,n||"deleted")}async operate(e,t,n,i,a){try{e=await this.prep(e),n=n||this.path;for(let u of e){a&&(u[a]=await Mk()),await this.postObserver.run([u]);let c=[hk(...n,u._id)];t!==Z0&&c.push(u),await t(...c)}return this.dispatch&&this.dispatch({[i]:e,dispatchComplete:!0}),this.dispatchObserver.run([{[i]:e}]),e}catch(u){console.log(u),console.error(e,"something went wrong with this operation")}}}class i5{constructor(e,t,n,i,a){le(this,"factory");le(this,"updater");le(this,"operationsFactory");le(this,"dispatch");le(this,"APIService");En.bind(this),this.dispatch=e,this.getFactory(),this.getAPIService(t,n,i,a,e)}getFactory(){return this.factory===void 0&&(this.factory=new XO(this)),this.factory}getAPIService(e,t,n,i,a){return this.APIService===void 0&&(this.APIService=new r5(e,t,n,i,a)),this.APIService}createComponentList(){return new t5(this)}getOperationsFactory(){return this.operationsFactory===void 0&&(this.operationsFactory=new P1(this),this.factory.setOperationsFactory(this.operationsFactory)),this.operationsFactory}getNewOperationsFactory(){return new P1(this)}}class Mu extends Ye{constructor(e){super(e),this.domList=["a","button","div","h1","h2","h3","h4","h5","h6","img","input","p","span","table","tr","td","th","ul","li","ol","form","textarea","select","option","label","nav","footer","header","article","section","aside","main","video","audio","iframe","canvas"],this.state={...this.state,wrapperClass:"FCWrapper",formClass:"FCInputForm",labelClass:"defaultLabel",errorClass:"defaultErrorMessage",interface:"form"}}setObj(){var e,t;if(!this.props.prepareOnClick){let n=this.props.obj||(this.props.inPopup?(e=this.propsState)==null?void 0:e.currentPopupComponent:(t=this.propsState)==null?void 0:t.currentComponent);this.obj=this.isArray(n)}}preSetup(){this.setComponents(["wrapper","form","label","error"])}getInnerContent(){return this.innerContent=[this.props.label&&this.label.getHtml(),this.getFormHtml(),this.props.errorText&&this.error.getHtml()],this.innerContent}getHtml(){this.mapInnerContent();let e=this.wrapper.getHtml({type:"div",content:this.innerContent});return this.html=_.jsx(_.Fragment,{children:e}),this.html}getFormHtml(){return this.getInputProps(this.props.type||"input"),this.additionalPropsSetup(),this.form.getHtml({type:this.props.type?this.props.type:"input",content:this.content,props:this.inputProps})}additionalPropsSetup(){}handleChange(e){let{name:t,value:n}=e.target;for(let i of this.obj){if(this.props.isPropArray){let a=i.getJson()[this.props.name]||[];Array.isArray(a)||(a=[a]),Array.isArray(a[0])||(a[0]=[a[0]]),a[0]=n,n=a}i.setCompState({[this.props.name]:n})}this.afterChange(e)}afterChange(e){if(this.props.update)for(let t of this.obj){let n=this.props.update===!0?void 0:{...this.props.update};t==null||t.update(n)}this.props.sendUpdate&&this.props.app&&this.app.dispatch({formUpdate:this.props.type}),this.props.callbackFunc&&this.props.callbackFunc(this.obj),this.additionalChanges(e),this.setState({})}additionalChanges(e){}async prepareOnClick(){var e;if(this.props.prepareOnClick&&this.props.app){let t=this.props.obj;t&&(t=this.isArray(t)),t=await((e=this.props.app)==null?void 0:e.state.componentList.getOperationsFactory().prepare({...t})),t&&(t=this.isArray(t)),this.obj=t}}objDispatch(e){for(let t of this.obj)t.setCompState({[this.props.name]:e});this.afterChange()}handleChangeWithoutEvent(e){for(let t in this.obj)t.setCompState({[e.name]:e.value});this.afterChange()}getInputProps(e){var t;return this.inputProps={onChange:this.props.handleChange?n=>{this.props.handleChange(n,this.obj)}:this.handleChange,value:this.obj[0]?(t=this.obj[0])==null?void 0:t.getJson()[this.props.name]:this.props.value,type:this.props.inputType||this.props.type,onFocus:this.props.onFocus||this.onFocus,placeholder:this.props.placeholder,name:this.props.name,min:this.props.min,max:this.props.max,cols:this.props.cols||"",rows:this.props.rows||5,resize:this.props.resize||"true",autoComplete:this.props.autoComplete?this.props.autoComplete:"off",id:this.props.id,checked:this.props.checked,spellCheck:this.props.type==="password"||this.props.spellCheck===void 0?!1:this.props.spellCheck,minLength:this.props.minLength,maxLength:this.props.maxLength},this.domList.includes(e)||(this.inputProps.handleChangeWithoutEvent=this.props.update?()=>{console.log("")}:this.props.handleChangeWithoutEvent?this.props.handleChangeWithoutEvent:this.handleChangeWithoutEvent,this.inputProps.selectOptions=this.props.selectOptions,this.inputProps.textOptions=this.props.textOptions,this.inputProps.unit=this.props.unit?this.props.unit:"$",this.inputProps.tickClass=this.props.tickClass,this.inputProps.handleHTMLChange=this.props.handleHTMLChange||this.objDispatch,this.inputProps.doesMath=this.props.doesMath,this.inputProps.objDispatch=this.objDispatch,this.inputProps.emitClickedOutside=this.props.emitClickedOutside,this.inputProps.updateOnClickOutside=this.props.updateOnClickOutside),this.props.required&&(this.inputProps.required=!0),this.props.disabled&&(this.inputProps.disabled=!0),this.inputProps}}class ys extends Mu{constructor(e){super(e),this.state.formClass="FCDefaultButton"}buttonClick(){this.props.buttonClick?this.props.buttonClick(this.obj):this.buttonClickFunc(),this.props.callbackFunc&&this.props.callbackFunc(this.obj)}buttonClickFunc(){}additionalSetup(){this.form.setOnClick(this.buttonClick)}getFormHtml(){return this.form.setStyle({cursor:"pointer"}),this.content=this.props.content||this.content||_.jsx(_.Fragment,{children:"button"}),this.form.getHtml({type:"div",content:this.content})}}let BC=class{constructor(){le(this,"FCInputForm","defaultInputForm");le(this,"FCWrapper","defaultWrapper");le(this,"FCError","defaultErrorMessage");le(this,"FCLabel","defaultLabel");le(this,"FCDefaultButton","defaultButton");le(this,"FCDefaultDelButton","delButton");le(this,"FCImgButton","imgButton")}};const s5=Object.freeze(Object.defineProperty({__proto__:null,DefaultRegistry:BC},Symbol.toStringTag,{value:"Module"}));class fy{constructor(e){le(this,"factory",{});En.bind(this),e&&(this.registry=e,this.registerListWithFactory())}registerListWithFactory(){for(const e in this.registry)if(Object.prototype.hasOwnProperty.call(this.registry,e)){const t=e.charAt(0).toLowerCase()+e.slice(1);this.factory[t]=this.registry[e]}}getComponent(e){let t;return this.factory[e]&&(t=new this.factory[e]),t}registerComponent(e,t){this.factory[e]=t}}let o5=class extends fy{constructor(){super(s5),this.factory.default=BC}};class jC{constructor(){le(this,"factory",{})}getComponent(e,t){let n;return this.factory[e]&&(n=this.factory[e]),_.jsx(n,{...t})}registerComponent(e,t){this.factory[e]=t}}class a5 extends ys{buttonClickFunc(){let e=this.props.add;this.componentList.addComponents(e)}}class u5{constructor(){En.bind(this)}doMath(e){e=e.replace(/\s+/g,"");const t=/(\d+)([+\-*/])(\d+)/,n=e.match(t);if(!n)throw new Error("Invalid input");const i=parseFloat(n[1]),a=n[2],u=parseFloat(n[3]);return{"+":i+u,"-":i-u,"*":i*u,"/":i/u}[a]}}let l5=new u5;class c5 extends Mu{constructor(e){super(e)}componentDidMount(){document.addEventListener("keyup",this.doMath)}componentWillUnmount(){document.removeEventListener("keyup",this.doMath)}additionalChanges(e){let{name:t,value:n}=e.target;this.setState({val:n})}async doMath(e){if(e.key==="Enter"&&this.state.val!==void 0){let t=this.obj[0],n=await l5.doMath(this.state.val).toString();await t.setCompState({[this.props.name]:n}),t.update(),await this.setState({val:void 0})}}}let h5=class extends ys{async buttonClickFunc(){let e=this.obj,t=e.type;this.props.popupSwitch.includes("add")&&(e=e[0]?e[0]:{type:this.getFactoryTypeString(this.props.popupSwitch.slice(3))},e={prepare:{...e},amount:this.props.amount,clean:this.props.clean},e=await this.operationsFactory.prepare(e),e.length===1&&(e=e[0],t=e.getJson().type)),Array.isArray(e)&&e.length===1&&(e=e[0]);let n=this.props.setCurrnetItem&&{["current"+this.getCapitalFirstLetter(t)]:e},i={popupSwitch:this.props.popupSwitch,currentPopupComponent:e,...n};await this.dispatch({...i})}},d5=class extends ys{buttonClickFunc(){for(let e of this.obj)e.update(this.props.updateParams);this.props.isPopup&&this.dispatch({popupSwitch:"",currentPopupComponent:void 0})}},f5=class extends ys{buttonClickFunc(){let e=this.operationsFactory.addToComponentList(this.props.skipBackendUpdate),t=this.props.setCurrnetItem&&{["current"+this.getCapitalFirstLetter(e[0].getJson().type)]:e[0]},n={};this.props.isPopup&&(n={popupSwitch:"",currentPopupComponent:void 0}),this.dispatch({...n,...t})}};var Jf,N1;function p5(){if(N1)return Jf;N1=1;function r(){this.__data__=[],this.size=0}return Jf=r,Jf}var Qf,O1;function MC(){if(O1)return Qf;O1=1;function r(e,t){return e===t||e!==e&&t!==t}return Qf=r,Qf}var Yf,L1;function zh(){if(L1)return Yf;L1=1;var r=MC();function e(t,n){for(var i=t.length;i--;)if(r(t[i][0],n))return i;return-1}return Yf=e,Yf}var Zf,F1;function m5(){if(F1)return Zf;F1=1;var r=zh(),e=Array.prototype,t=e.splice;function n(i){var a=this.__data__,u=r(a,i);if(u<0)return!1;var c=a.length-1;return u==c?a.pop():t.call(a,u,1),--this.size,!0}return Zf=n,Zf}var Xf,B1;function g5(){if(B1)return Xf;B1=1;var r=zh();function e(t){var n=this.__data__,i=r(n,t);return i<0?void 0:n[i][1]}return Xf=e,Xf}var ep,j1;function y5(){if(j1)return ep;j1=1;var r=zh();function e(t){return r(this.__data__,t)>-1}return ep=e,ep}var tp,M1;function v5(){if(M1)return tp;M1=1;var r=zh();function e(t,n){var i=this.__data__,a=r(i,t);return a<0?(++this.size,i.push([t,n])):i[a][1]=n,this}return tp=e,tp}var np,q1;function Hh(){if(q1)return np;q1=1;var r=p5(),e=m5(),t=g5(),n=y5(),i=v5();function a(u){var c=-1,h=u==null?0:u.length;for(this.clear();++c<h;){var f=u[c];this.set(f[0],f[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,np=a,np}var rp,V1;function _5(){if(V1)return rp;V1=1;var r=Hh();function e(){this.__data__=new r,this.size=0}return rp=e,rp}var ip,U1;function w5(){if(U1)return ip;U1=1;function r(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return ip=r,ip}var sp,z1;function E5(){if(z1)return sp;z1=1;function r(e){return this.__data__.get(e)}return sp=r,sp}var op,H1;function A5(){if(H1)return op;H1=1;function r(e){return this.__data__.has(e)}return op=r,op}var ap,$1;function qC(){if($1)return ap;$1=1;var r=typeof Qo=="object"&&Qo&&Qo.Object===Object&&Qo;return ap=r,ap}var up,G1;function Ei(){if(G1)return up;G1=1;var r=qC(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return up=t,up}var lp,W1;function py(){if(W1)return lp;W1=1;var r=Ei(),e=r.Symbol;return lp=e,lp}var cp,K1;function C5(){if(K1)return cp;K1=1;var r=py(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,i=r?r.toStringTag:void 0;function a(u){var c=t.call(u,i),h=u[i];try{u[i]=void 0;var f=!0}catch{}var y=n.call(u);return f&&(c?u[i]=h:delete u[i]),y}return cp=a,cp}var hp,J1;function b5(){if(J1)return hp;J1=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return hp=t,hp}var dp,Q1;function $h(){if(Q1)return dp;Q1=1;var r=py(),e=C5(),t=b5(),n="[object Null]",i="[object Undefined]",a=r?r.toStringTag:void 0;function u(c){return c==null?c===void 0?i:n:a&&a in Object(c)?e(c):t(c)}return dp=u,dp}var fp,Y1;function VC(){if(Y1)return fp;Y1=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return fp=r,fp}var pp,Z1;function UC(){if(Z1)return pp;Z1=1;var r=$h(),e=VC(),t="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function u(c){if(!e(c))return!1;var h=r(c);return h==n||h==i||h==t||h==a}return pp=u,pp}var mp,X1;function T5(){if(X1)return mp;X1=1;var r=Ei(),e=r["__core-js_shared__"];return mp=e,mp}var gp,e_;function x5(){if(e_)return gp;e_=1;var r=T5(),e=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!e&&e in n}return gp=t,gp}var yp,t_;function zC(){if(t_)return yp;t_=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return yp=t,yp}var vp,n_;function S5(){if(n_)return vp;n_=1;var r=UC(),e=x5(),t=VC(),n=zC(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,h=u.toString,f=c.hasOwnProperty,y=RegExp("^"+h.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(p){if(!t(p)||e(p))return!1;var v=r(p)?y:a;return v.test(n(p))}return vp=g,vp}var _p,r_;function D5(){if(r_)return _p;r_=1;function r(e,t){return e==null?void 0:e[t]}return _p=r,_p}var wp,i_;function _a(){if(i_)return wp;i_=1;var r=S5(),e=D5();function t(n,i){var a=e(n,i);return r(a)?a:void 0}return wp=t,wp}var Ep,s_;function my(){if(s_)return Ep;s_=1;var r=_a(),e=Ei(),t=r(e,"Map");return Ep=t,Ep}var Ap,o_;function Gh(){if(o_)return Ap;o_=1;var r=_a(),e=r(Object,"create");return Ap=e,Ap}var Cp,a_;function I5(){if(a_)return Cp;a_=1;var r=Gh();function e(){this.__data__=r?r(null):{},this.size=0}return Cp=e,Cp}var bp,u_;function k5(){if(u_)return bp;u_=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return bp=r,bp}var Tp,l_;function R5(){if(l_)return Tp;l_=1;var r=Gh(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function i(a){var u=this.__data__;if(r){var c=u[a];return c===e?void 0:c}return n.call(u,a)?u[a]:void 0}return Tp=i,Tp}var xp,c_;function P5(){if(c_)return xp;c_=1;var r=Gh(),e=Object.prototype,t=e.hasOwnProperty;function n(i){var a=this.__data__;return r?a[i]!==void 0:t.call(a,i)}return xp=n,xp}var Sp,h_;function N5(){if(h_)return Sp;h_=1;var r=Gh(),e="__lodash_hash_undefined__";function t(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&i===void 0?e:i,this}return Sp=t,Sp}var Dp,d_;function O5(){if(d_)return Dp;d_=1;var r=I5(),e=k5(),t=R5(),n=P5(),i=N5();function a(u){var c=-1,h=u==null?0:u.length;for(this.clear();++c<h;){var f=u[c];this.set(f[0],f[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,Dp=a,Dp}var Ip,f_;function L5(){if(f_)return Ip;f_=1;var r=O5(),e=Hh(),t=my();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return Ip=n,Ip}var kp,p_;function F5(){if(p_)return kp;p_=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return kp=r,kp}var Rp,m_;function Wh(){if(m_)return Rp;m_=1;var r=F5();function e(t,n){var i=t.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Rp=e,Rp}var Pp,g_;function B5(){if(g_)return Pp;g_=1;var r=Wh();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return Pp=e,Pp}var Np,y_;function j5(){if(y_)return Np;y_=1;var r=Wh();function e(t){return r(this,t).get(t)}return Np=e,Np}var Op,v_;function M5(){if(v_)return Op;v_=1;var r=Wh();function e(t){return r(this,t).has(t)}return Op=e,Op}var Lp,__;function q5(){if(__)return Lp;__=1;var r=Wh();function e(t,n){var i=r(this,t),a=i.size;return i.set(t,n),this.size+=i.size==a?0:1,this}return Lp=e,Lp}var Fp,w_;function HC(){if(w_)return Fp;w_=1;var r=L5(),e=B5(),t=j5(),n=M5(),i=q5();function a(u){var c=-1,h=u==null?0:u.length;for(this.clear();++c<h;){var f=u[c];this.set(f[0],f[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,Fp=a,Fp}var Bp,E_;function V5(){if(E_)return Bp;E_=1;var r=Hh(),e=my(),t=HC(),n=200;function i(a,u){var c=this.__data__;if(c instanceof r){var h=c.__data__;if(!e||h.length<n-1)return h.push([a,u]),this.size=++c.size,this;c=this.__data__=new t(h)}return c.set(a,u),this.size=c.size,this}return Bp=i,Bp}var jp,A_;function U5(){if(A_)return jp;A_=1;var r=Hh(),e=_5(),t=w5(),n=E5(),i=A5(),a=V5();function u(c){var h=this.__data__=new r(c);this.size=h.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=n,u.prototype.has=i,u.prototype.set=a,jp=u,jp}var Mp,C_;function z5(){if(C_)return Mp;C_=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return Mp=e,Mp}var qp,b_;function H5(){if(b_)return qp;b_=1;function r(e){return this.__data__.has(e)}return qp=r,qp}var Vp,T_;function $5(){if(T_)return Vp;T_=1;var r=HC(),e=z5(),t=H5();function n(i){var a=-1,u=i==null?0:i.length;for(this.__data__=new r;++a<u;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,Vp=n,Vp}var Up,x_;function G5(){if(x_)return Up;x_=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}return Up=r,Up}var zp,S_;function W5(){if(S_)return zp;S_=1;function r(e,t){return e.has(t)}return zp=r,zp}var Hp,D_;function $C(){if(D_)return Hp;D_=1;var r=$5(),e=G5(),t=W5(),n=1,i=2;function a(u,c,h,f,y,g){var p=h&n,v=u.length,A=c.length;if(v!=A&&!(p&&A>v))return!1;var b=g.get(u),C=g.get(c);if(b&&C)return b==c&&C==u;var E=-1,T=!0,L=h&i?new r:void 0;for(g.set(u,c),g.set(c,u);++E<v;){var x=u[E],j=c[E];if(f)var q=p?f(j,x,E,c,u,g):f(x,j,E,u,c,g);if(q!==void 0){if(q)continue;T=!1;break}if(L){if(!e(c,function(R,w){if(!t(L,w)&&(x===R||y(x,R,h,f,g)))return L.push(w)})){T=!1;break}}else if(!(x===j||y(x,j,h,f,g))){T=!1;break}}return g.delete(u),g.delete(c),T}return Hp=a,Hp}var $p,I_;function K5(){if(I_)return $p;I_=1;var r=Ei(),e=r.Uint8Array;return $p=e,$p}var Gp,k_;function J5(){if(k_)return Gp;k_=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i,a){n[++t]=[a,i]}),n}return Gp=r,Gp}var Wp,R_;function Q5(){if(R_)return Wp;R_=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}return Wp=r,Wp}var Kp,P_;function Y5(){if(P_)return Kp;P_=1;var r=py(),e=K5(),t=MC(),n=$C(),i=J5(),a=Q5(),u=1,c=2,h="[object Boolean]",f="[object Date]",y="[object Error]",g="[object Map]",p="[object Number]",v="[object RegExp]",A="[object Set]",b="[object String]",C="[object Symbol]",E="[object ArrayBuffer]",T="[object DataView]",L=r?r.prototype:void 0,x=L?L.valueOf:void 0;function j(q,R,w,D,I,k,P){switch(w){case T:if(q.byteLength!=R.byteLength||q.byteOffset!=R.byteOffset)return!1;q=q.buffer,R=R.buffer;case E:return!(q.byteLength!=R.byteLength||!k(new e(q),new e(R)));case h:case f:case p:return t(+q,+R);case y:return q.name==R.name&&q.message==R.message;case v:case b:return q==R+"";case g:var N=i;case A:var W=D&u;if(N||(N=a),q.size!=R.size&&!W)return!1;var J=P.get(q);if(J)return J==R;D|=c,P.set(q,R);var se=n(N(q),N(R),D,I,k,P);return P.delete(q),se;case C:if(x)return x.call(q)==x.call(R)}return!1}return Kp=j,Kp}var Jp,N_;function Z5(){if(N_)return Jp;N_=1;function r(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}return Jp=r,Jp}var Qp,O_;function gy(){if(O_)return Qp;O_=1;var r=Array.isArray;return Qp=r,Qp}var Yp,L_;function X5(){if(L_)return Yp;L_=1;var r=Z5(),e=gy();function t(n,i,a){var u=i(n);return e(n)?u:r(u,a(n))}return Yp=t,Yp}var Zp,F_;function eL(){if(F_)return Zp;F_=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,a=0,u=[];++n<i;){var c=e[n];t(c,n,e)&&(u[a++]=c)}return u}return Zp=r,Zp}var Xp,B_;function tL(){if(B_)return Xp;B_=1;function r(){return[]}return Xp=r,Xp}var em,j_;function nL(){if(j_)return em;j_=1;var r=eL(),e=tL(),t=Object.prototype,n=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(u){return u==null?[]:(u=Object(u),r(i(u),function(c){return n.call(u,c)}))}:e;return em=a,em}var tm,M_;function rL(){if(M_)return tm;M_=1;function r(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}return tm=r,tm}var nm,q_;function Kh(){if(q_)return nm;q_=1;function r(e){return e!=null&&typeof e=="object"}return nm=r,nm}var rm,V_;function iL(){if(V_)return rm;V_=1;var r=$h(),e=Kh(),t="[object Arguments]";function n(i){return e(i)&&r(i)==t}return rm=n,rm}var im,U_;function sL(){if(U_)return im;U_=1;var r=iL(),e=Kh(),t=Object.prototype,n=t.hasOwnProperty,i=t.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(u){return e(u)&&n.call(u,"callee")&&!i.call(u,"callee")};return im=a,im}var vu={exports:{}},sm,z_;function oL(){if(z_)return sm;z_=1;function r(){return!1}return sm=r,sm}vu.exports;var H_;function GC(){return H_||(H_=1,function(r,e){var t=Ei(),n=oL(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,u=a&&a.exports===i,c=u?t.Buffer:void 0,h=c?c.isBuffer:void 0,f=h||n;r.exports=f}(vu,vu.exports)),vu.exports}var om,$_;function aL(){if($_)return om;$_=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,i){var a=typeof n;return i=i??r,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return om=t,om}var am,G_;function WC(){if(G_)return am;G_=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return am=e,am}var um,W_;function uL(){if(W_)return um;W_=1;var r=$h(),e=WC(),t=Kh(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",h="[object Function]",f="[object Map]",y="[object Number]",g="[object Object]",p="[object RegExp]",v="[object Set]",A="[object String]",b="[object WeakMap]",C="[object ArrayBuffer]",E="[object DataView]",T="[object Float32Array]",L="[object Float64Array]",x="[object Int8Array]",j="[object Int16Array]",q="[object Int32Array]",R="[object Uint8Array]",w="[object Uint8ClampedArray]",D="[object Uint16Array]",I="[object Uint32Array]",k={};k[T]=k[L]=k[x]=k[j]=k[q]=k[R]=k[w]=k[D]=k[I]=!0,k[n]=k[i]=k[C]=k[a]=k[E]=k[u]=k[c]=k[h]=k[f]=k[y]=k[g]=k[p]=k[v]=k[A]=k[b]=!1;function P(N){return t(N)&&e(N.length)&&!!k[r(N)]}return um=P,um}var lm,K_;function lL(){if(K_)return lm;K_=1;function r(e){return function(t){return e(t)}}return lm=r,lm}var _u={exports:{}};_u.exports;var J_;function cL(){return J_||(J_=1,function(r,e){var t=qC(),n=e&&!e.nodeType&&e,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,u=a&&t.process,c=function(){try{var h=i&&i.require&&i.require("util").types;return h||u&&u.binding&&u.binding("util")}catch{}}();r.exports=c}(_u,_u.exports)),_u.exports}var cm,Q_;function KC(){if(Q_)return cm;Q_=1;var r=uL(),e=lL(),t=cL(),n=t&&t.isTypedArray,i=n?e(n):r;return cm=i,cm}var hm,Y_;function hL(){if(Y_)return hm;Y_=1;var r=rL(),e=sL(),t=gy(),n=GC(),i=aL(),a=KC(),u=Object.prototype,c=u.hasOwnProperty;function h(f,y){var g=t(f),p=!g&&e(f),v=!g&&!p&&n(f),A=!g&&!p&&!v&&a(f),b=g||p||v||A,C=b?r(f.length,String):[],E=C.length;for(var T in f)(y||c.call(f,T))&&!(b&&(T=="length"||v&&(T=="offset"||T=="parent")||A&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||i(T,E)))&&C.push(T);return C}return hm=h,hm}var dm,Z_;function dL(){if(Z_)return dm;Z_=1;var r=Object.prototype;function e(t){var n=t&&t.constructor,i=typeof n=="function"&&n.prototype||r;return t===i}return dm=e,dm}var fm,X_;function fL(){if(X_)return fm;X_=1;function r(e,t){return function(n){return e(t(n))}}return fm=r,fm}var pm,ew;function pL(){if(ew)return pm;ew=1;var r=fL(),e=r(Object.keys,Object);return pm=e,pm}var mm,tw;function mL(){if(tw)return mm;tw=1;var r=dL(),e=pL(),t=Object.prototype,n=t.hasOwnProperty;function i(a){if(!r(a))return e(a);var u=[];for(var c in Object(a))n.call(a,c)&&c!="constructor"&&u.push(c);return u}return mm=i,mm}var gm,nw;function gL(){if(nw)return gm;nw=1;var r=UC(),e=WC();function t(n){return n!=null&&e(n.length)&&!r(n)}return gm=t,gm}var ym,rw;function yL(){if(rw)return ym;rw=1;var r=hL(),e=mL(),t=gL();function n(i){return t(i)?r(i):e(i)}return ym=n,ym}var vm,iw;function vL(){if(iw)return vm;iw=1;var r=X5(),e=nL(),t=yL();function n(i){return r(i,t,e)}return vm=n,vm}var _m,sw;function _L(){if(sw)return _m;sw=1;var r=vL(),e=1,t=Object.prototype,n=t.hasOwnProperty;function i(a,u,c,h,f,y){var g=c&e,p=r(a),v=p.length,A=r(u),b=A.length;if(v!=b&&!g)return!1;for(var C=v;C--;){var E=p[C];if(!(g?E in u:n.call(u,E)))return!1}var T=y.get(a),L=y.get(u);if(T&&L)return T==u&&L==a;var x=!0;y.set(a,u),y.set(u,a);for(var j=g;++C<v;){E=p[C];var q=a[E],R=u[E];if(h)var w=g?h(R,q,E,u,a,y):h(q,R,E,a,u,y);if(!(w===void 0?q===R||f(q,R,c,h,y):w)){x=!1;break}j||(j=E=="constructor")}if(x&&!j){var D=a.constructor,I=u.constructor;D!=I&&"constructor"in a&&"constructor"in u&&!(typeof D=="function"&&D instanceof D&&typeof I=="function"&&I instanceof I)&&(x=!1)}return y.delete(a),y.delete(u),x}return _m=i,_m}var wm,ow;function wL(){if(ow)return wm;ow=1;var r=_a(),e=Ei(),t=r(e,"DataView");return wm=t,wm}var Em,aw;function EL(){if(aw)return Em;aw=1;var r=_a(),e=Ei(),t=r(e,"Promise");return Em=t,Em}var Am,uw;function AL(){if(uw)return Am;uw=1;var r=_a(),e=Ei(),t=r(e,"Set");return Am=t,Am}var Cm,lw;function CL(){if(lw)return Cm;lw=1;var r=_a(),e=Ei(),t=r(e,"WeakMap");return Cm=t,Cm}var bm,cw;function bL(){if(cw)return bm;cw=1;var r=wL(),e=my(),t=EL(),n=AL(),i=CL(),a=$h(),u=zC(),c="[object Map]",h="[object Object]",f="[object Promise]",y="[object Set]",g="[object WeakMap]",p="[object DataView]",v=u(r),A=u(e),b=u(t),C=u(n),E=u(i),T=a;return(r&&T(new r(new ArrayBuffer(1)))!=p||e&&T(new e)!=c||t&&T(t.resolve())!=f||n&&T(new n)!=y||i&&T(new i)!=g)&&(T=function(L){var x=a(L),j=x==h?L.constructor:void 0,q=j?u(j):"";if(q)switch(q){case v:return p;case A:return c;case b:return f;case C:return y;case E:return g}return x}),bm=T,bm}var Tm,hw;function TL(){if(hw)return Tm;hw=1;var r=U5(),e=$C(),t=Y5(),n=_L(),i=bL(),a=gy(),u=GC(),c=KC(),h=1,f="[object Arguments]",y="[object Array]",g="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function A(b,C,E,T,L,x){var j=a(b),q=a(C),R=j?y:i(b),w=q?y:i(C);R=R==f?g:R,w=w==f?g:w;var D=R==g,I=w==g,k=R==w;if(k&&u(b)){if(!u(C))return!1;j=!0,D=!1}if(k&&!D)return x||(x=new r),j||c(b)?e(b,C,E,T,L,x):t(b,C,R,E,T,L,x);if(!(E&h)){var P=D&&v.call(b,"__wrapped__"),N=I&&v.call(C,"__wrapped__");if(P||N){var W=P?b.value():b,J=N?C.value():C;return x||(x=new r),L(W,J,E,T,x)}}return k?(x||(x=new r),n(b,C,E,T,L,x)):!1}return Tm=A,Tm}var xm,dw;function xL(){if(dw)return xm;dw=1;var r=TL(),e=Kh();function t(n,i,a,u,c){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:r(n,i,a,u,t,c)}return xm=t,xm}var Sm,fw;function SL(){if(fw)return Sm;fw=1;var r=xL();function e(t,n){return r(t,n)}return Sm=e,Sm}var Uc={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var DL=Uc.exports,pw;function IL(){return pw||(pw=1,function(r,e){(function(n,i){r.exports=i()})(typeof self<"u"?self:DL,function(){return function(t){var n={};function i(a){if(n[a])return n[a].exports;var u=n[a]={i:a,l:!1,exports:{}};return t[a].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=t,i.c=n,i.d=function(a,u,c){i.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:c})},i.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(u,"a",u),u},i.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},i.p="",i(i.s=109)}([function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),u=i(18),c=i(19),h=i(45),f=i(46),y=i(47),g=i(48),p=i(49),v=i(12),A=i(32),b=i(33),C=i(31),E=i(1),T={Scope:E.Scope,create:E.create,find:E.find,query:E.query,register:E.register,Container:a.default,Format:u.default,Leaf:c.default,Embed:g.default,Scroll:h.default,Block:y.default,Inline:f.default,Text:p.default,Attributor:{Attribute:v.default,Class:A.default,Style:b.default,Store:C.default}};n.default=T},function(t,n,i){var a=this&&this.__extends||function(){var C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,T){E.__proto__=T}||function(E,T){for(var L in T)T.hasOwnProperty(L)&&(E[L]=T[L])};return function(E,T){C(E,T);function L(){this.constructor=E}E.prototype=T===null?Object.create(T):(L.prototype=T.prototype,new L)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=function(C){a(E,C);function E(T){var L=this;return T="[Parchment] "+T,L=C.call(this,T)||this,L.message=T,L.name=L.constructor.name,L}return E}(Error);n.ParchmentError=u;var c={},h={},f={},y={};n.DATA_KEY="__blot";var g;(function(C){C[C.TYPE=3]="TYPE",C[C.LEVEL=12]="LEVEL",C[C.ATTRIBUTE=13]="ATTRIBUTE",C[C.BLOT=14]="BLOT",C[C.INLINE=7]="INLINE",C[C.BLOCK=11]="BLOCK",C[C.BLOCK_BLOT=10]="BLOCK_BLOT",C[C.INLINE_BLOT=6]="INLINE_BLOT",C[C.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",C[C.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",C[C.ANY=15]="ANY"})(g=n.Scope||(n.Scope={}));function p(C,E){var T=A(C);if(T==null)throw new u("Unable to create "+C+" blot");var L=T,x=C instanceof Node||C.nodeType===Node.TEXT_NODE?C:L.create(E);return new L(x,E)}n.create=p;function v(C,E){return E===void 0&&(E=!1),C==null?null:C[n.DATA_KEY]!=null?C[n.DATA_KEY].blot:E?v(C.parentNode,E):null}n.find=v;function A(C,E){E===void 0&&(E=g.ANY);var T;if(typeof C=="string")T=y[C]||c[C];else if(C instanceof Text||C.nodeType===Node.TEXT_NODE)T=y.text;else if(typeof C=="number")C&g.LEVEL&g.BLOCK?T=y.block:C&g.LEVEL&g.INLINE&&(T=y.inline);else if(C instanceof HTMLElement){var L=(C.getAttribute("class")||"").split(/\s+/);for(var x in L)if(T=h[L[x]],T)break;T=T||f[C.tagName]}return T==null?null:E&g.LEVEL&T.scope&&E&g.TYPE&T.scope?T:null}n.query=A;function b(){for(var C=[],E=0;E<arguments.length;E++)C[E]=arguments[E];if(C.length>1)return C.map(function(x){return b(x)});var T=C[0];if(typeof T.blotName!="string"&&typeof T.attrName!="string")throw new u("Invalid definition");if(T.blotName==="abstract")throw new u("Cannot register abstract class");if(y[T.blotName||T.attrName]=T,typeof T.keyName=="string")c[T.keyName]=T;else if(T.className!=null&&(h[T.className]=T),T.tagName!=null){Array.isArray(T.tagName)?T.tagName=T.tagName.map(function(x){return x.toUpperCase()}):T.tagName=T.tagName.toUpperCase();var L=Array.isArray(T.tagName)?T.tagName:[T.tagName];L.forEach(function(x){(f[x]==null||T.className==null)&&(f[x]=T)})}return T}n.register=b},function(t,n,i){var a=i(51),u=i(11),c=i(3),h=i(20),f="\0",y=function(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]};y.prototype.insert=function(g,p){var v={};return g.length===0?this:(v.insert=g,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(v.attributes=p),this.push(v))},y.prototype.delete=function(g){return g<=0?this:this.push({delete:g})},y.prototype.retain=function(g,p){if(g<=0)return this;var v={retain:g};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(v.attributes=p),this.push(v)},y.prototype.push=function(g){var p=this.ops.length,v=this.ops[p-1];if(g=c(!0,{},g),typeof v=="object"){if(typeof g.delete=="number"&&typeof v.delete=="number")return this.ops[p-1]={delete:v.delete+g.delete},this;if(typeof v.delete=="number"&&g.insert!=null&&(p-=1,v=this.ops[p-1],typeof v!="object"))return this.ops.unshift(g),this;if(u(g.attributes,v.attributes)){if(typeof g.insert=="string"&&typeof v.insert=="string")return this.ops[p-1]={insert:v.insert+g.insert},typeof g.attributes=="object"&&(this.ops[p-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof v.retain=="number")return this.ops[p-1]={retain:v.retain+g.retain},typeof g.attributes=="object"&&(this.ops[p-1].attributes=g.attributes),this}}return p===this.ops.length?this.ops.push(g):this.ops.splice(p,0,g),this},y.prototype.chop=function(){var g=this.ops[this.ops.length-1];return g&&g.retain&&!g.attributes&&this.ops.pop(),this},y.prototype.filter=function(g){return this.ops.filter(g)},y.prototype.forEach=function(g){this.ops.forEach(g)},y.prototype.map=function(g){return this.ops.map(g)},y.prototype.partition=function(g){var p=[],v=[];return this.forEach(function(A){var b=g(A)?p:v;b.push(A)}),[p,v]},y.prototype.reduce=function(g,p){return this.ops.reduce(g,p)},y.prototype.changeLength=function(){return this.reduce(function(g,p){return p.insert?g+h.length(p):p.delete?g-p.delete:g},0)},y.prototype.length=function(){return this.reduce(function(g,p){return g+h.length(p)},0)},y.prototype.slice=function(g,p){g=g||0,typeof p!="number"&&(p=1/0);for(var v=[],A=h.iterator(this.ops),b=0;b<p&&A.hasNext();){var C;b<g?C=A.next(g-b):(C=A.next(p-b),v.push(C)),b+=h.length(C)}return new y(v)},y.prototype.compose=function(g){var p=h.iterator(this.ops),v=h.iterator(g.ops),A=[],b=v.peek();if(b!=null&&typeof b.retain=="number"&&b.attributes==null){for(var C=b.retain;p.peekType()==="insert"&&p.peekLength()<=C;)C-=p.peekLength(),A.push(p.next());b.retain-C>0&&v.next(b.retain-C)}for(var E=new y(A);p.hasNext()||v.hasNext();)if(v.peekType()==="insert")E.push(v.next());else if(p.peekType()==="delete")E.push(p.next());else{var T=Math.min(p.peekLength(),v.peekLength()),L=p.next(T),x=v.next(T);if(typeof x.retain=="number"){var j={};typeof L.retain=="number"?j.retain=T:j.insert=L.insert;var q=h.attributes.compose(L.attributes,x.attributes,typeof L.retain=="number");if(q&&(j.attributes=q),E.push(j),!v.hasNext()&&u(E.ops[E.ops.length-1],j)){var R=new y(p.rest());return E.concat(R).chop()}}else typeof x.delete=="number"&&typeof L.retain=="number"&&E.push(x)}return E.chop()},y.prototype.concat=function(g){var p=new y(this.ops.slice());return g.ops.length>0&&(p.push(g.ops[0]),p.ops=p.ops.concat(g.ops.slice(1))),p},y.prototype.diff=function(g,p){if(this.ops===g.ops)return new y;var v=[this,g].map(function(T){return T.map(function(L){if(L.insert!=null)return typeof L.insert=="string"?L.insert:f;var x=T===g?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),A=new y,b=a(v[0],v[1],p),C=h.iterator(this.ops),E=h.iterator(g.ops);return b.forEach(function(T){for(var L=T[1].length;L>0;){var x=0;switch(T[0]){case a.INSERT:x=Math.min(E.peekLength(),L),A.push(E.next(x));break;case a.DELETE:x=Math.min(L,C.peekLength()),C.next(x),A.delete(x);break;case a.EQUAL:x=Math.min(C.peekLength(),E.peekLength(),L);var j=C.next(x),q=E.next(x);u(j.insert,q.insert)?A.retain(x,h.attributes.diff(j.attributes,q.attributes)):A.push(q).delete(x);break}L-=x}}),A.chop()},y.prototype.eachLine=function(g,p){p=p||`
`;for(var v=h.iterator(this.ops),A=new y,b=0;v.hasNext();){if(v.peekType()!=="insert")return;var C=v.peek(),E=h.length(C)-v.peekLength(),T=typeof C.insert=="string"?C.insert.indexOf(p,E)-E:-1;if(T<0)A.push(v.next());else if(T>0)A.push(v.next(T));else{if(g(A,v.next(1).attributes||{},b)===!1)return;b+=1,A=new y}}A.length()>0&&g(A,{},b)},y.prototype.transform=function(g,p){if(p=!!p,typeof g=="number")return this.transformPosition(g,p);for(var v=h.iterator(this.ops),A=h.iterator(g.ops),b=new y;v.hasNext()||A.hasNext();)if(v.peekType()==="insert"&&(p||A.peekType()!=="insert"))b.retain(h.length(v.next()));else if(A.peekType()==="insert")b.push(A.next());else{var C=Math.min(v.peekLength(),A.peekLength()),E=v.next(C),T=A.next(C);if(E.delete)continue;T.delete?b.push(T):b.retain(C,h.attributes.transform(E.attributes,T.attributes,p))}return b.chop()},y.prototype.transformPosition=function(g,p){p=!!p;for(var v=h.iterator(this.ops),A=0;v.hasNext()&&A<=g;){var b=v.peekLength(),C=v.peekType();if(v.next(),C==="delete"){g-=Math.min(b,g-A);continue}else C==="insert"&&(A<g||!p)&&(g+=b);A+=b}return g},t.exports=y},function(t,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h=function(v){return typeof Array.isArray=="function"?Array.isArray(v):a.call(v)==="[object Array]"},f=function(v){if(!v||a.call(v)!=="[object Object]")return!1;var A=i.call(v,"constructor"),b=v.constructor&&v.constructor.prototype&&i.call(v.constructor.prototype,"isPrototypeOf");if(v.constructor&&!A&&!b)return!1;var C;for(C in v);return typeof C>"u"||i.call(v,C)},y=function(v,A){u&&A.name==="__proto__"?u(v,A.name,{enumerable:!0,configurable:!0,value:A.newValue,writable:!0}):v[A.name]=A.newValue},g=function(v,A){if(A==="__proto__")if(i.call(v,A)){if(c)return c(v,A).value}else return;return v[A]};t.exports=function p(){var v,A,b,C,E,T,L=arguments[0],x=1,j=arguments.length,q=!1;for(typeof L=="boolean"&&(q=L,L=arguments[1]||{},x=2),(L==null||typeof L!="object"&&typeof L!="function")&&(L={});x<j;++x)if(v=arguments[x],v!=null)for(A in v)b=g(L,A),C=g(v,A),L!==C&&(q&&C&&(f(C)||(E=h(C)))?(E?(E=!1,T=b&&h(b)?b:[]):T=b&&f(b)?b:{},y(L,{name:A,newValue:p(q,T,C)})):typeof C<"u"&&y(L,{name:A,newValue:C}));return L}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function k(P,N){for(var W=0;W<N.length;W++){var J=N[W];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(P,J.key,J)}}return function(P,N,W){return N&&k(P.prototype,N),W&&k(P,W),P}}(),u=function k(P,N,W){P===null&&(P=Function.prototype);var J=Object.getOwnPropertyDescriptor(P,N);if(J===void 0){var se=Object.getPrototypeOf(P);return se===null?void 0:k(se,N,W)}else{if("value"in J)return J.value;var X=J.get;return X===void 0?void 0:X.call(W)}},c=i(3),h=L(c),f=i(2),y=L(f),g=i(0),p=L(g),v=i(16),A=L(v),b=i(6),C=L(b),E=i(7),T=L(E);function L(k){return k&&k.__esModule?k:{default:k}}function x(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}function j(k,P){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:k}function q(k,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(k,P):k.__proto__=P)}var R=1,w=function(k){q(P,k);function P(){return x(this,P),j(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return a(P,[{key:"attach",value:function(){u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new y.default().insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(W,J){var se=p.default.query(W,p.default.Scope.BLOCK_ATTRIBUTE);se!=null&&this.attributes.attribute(se,J)}},{key:"formatAt",value:function(W,J,se,X){this.format(se,X)}},{key:"insertAt",value:function(W,J,se){if(typeof J=="string"&&J.endsWith(`
`)){var X=p.default.create(D.blotName);this.parent.insertBefore(X,W===0?this:this.next),X.insertAt(0,J.slice(0,-1))}else u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,W,J,se)}}]),P}(p.default.Embed);w.scope=p.default.Scope.BLOCK_BLOT;var D=function(k){q(P,k);function P(N){x(this,P);var W=j(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,N));return W.cache={},W}return a(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function(W,J){return J.length()===0?W:W.insert(J.value(),I(J))},new y.default).insert(`
`,I(this))),this.cache.delta}},{key:"deleteAt",value:function(W,J){u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,W,J),this.cache={}}},{key:"formatAt",value:function(W,J,se,X){J<=0||(p.default.query(se,p.default.Scope.BLOCK)?W+J===this.length()&&this.format(se,X):u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,W,Math.min(J,this.length()-W-1),se,X),this.cache={})}},{key:"insertAt",value:function(W,J,se){if(se!=null)return u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,W,J,se);if(J.length!==0){var X=J.split(`
`),re=X.shift();re.length>0&&(W<this.length()-1||this.children.tail==null?u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(W,this.length()-1),re):this.children.tail.insertAt(this.children.tail.length(),re),this.cache={});var G=this;X.reduce(function(H,B){return G=G.split(H,!0),G.insertAt(0,B),B.length},W+re.length)}}},{key:"insertBefore",value:function(W,J){var se=this.children.head;u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,W,J),se instanceof A.default&&se.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+R),this.cache.length}},{key:"moveChildren",value:function(W,J){u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,W,J),this.cache={}}},{key:"optimize",value:function(W){u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,W),this.cache={}}},{key:"path",value:function(W){return u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,W,!0)}},{key:"removeChild",value:function(W){u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,W),this.cache={}}},{key:"split",value:function(W){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(J&&(W===0||W>=this.length()-R)){var se=this.clone();return W===0?(this.parent.insertBefore(se,this),this):(this.parent.insertBefore(se,this.next),se)}else{var X=u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,W,J);return this.cache={},X}}}]),P}(p.default.Block);D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[C.default,p.default.Embed,T.default];function I(k){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(P=(0,h.default)(P,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?P:I(k.parent,P)}n.bubbleFormats=I,n.BlockEmbed=w,n.default=D},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},u=function(){function G(H,B){var V=[],z=!0,ee=!1,Z=void 0;try{for(var $=H[Symbol.iterator](),Q;!(z=(Q=$.next()).done)&&(V.push(Q.value),!(B&&V.length===B));z=!0);}catch(te){ee=!0,Z=te}finally{try{!z&&$.return&&$.return()}finally{if(ee)throw Z}}return V}return function(H,B){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return G(H,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function G(H,B){for(var V=0;V<B.length;V++){var z=B[V];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(H,z.key,z)}}return function(H,B,V){return B&&G(H.prototype,B),V&&G(H,V),H}}();i(50);var h=i(2),f=I(h),y=i(14),g=I(y),p=i(8),v=I(p),A=i(9),b=I(A),C=i(0),E=I(C),T=i(15),L=I(T),x=i(3),j=I(x),q=i(10),R=I(q),w=i(34),D=I(w);function I(G){return G&&G.__esModule?G:{default:G}}function k(G,H,B){return H in G?Object.defineProperty(G,H,{value:B,enumerable:!0,configurable:!0,writable:!0}):G[H]=B,G}function P(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}var N=(0,R.default)("quill"),W=function(){c(G,null,[{key:"debug",value:function(B){B===!0&&(B="log"),R.default.level(B)}},{key:"find",value:function(B){return B.__quill||E.default.find(B)}},{key:"import",value:function(B){return this.imports[B]==null&&N.error("Cannot import "+B+". Are you sure it was registered?"),this.imports[B]}},{key:"register",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof B!="string"){var Z=B.attrName||B.blotName;typeof Z=="string"?this.register("formats/"+Z,B,V):Object.keys(B).forEach(function($){z.register($,B[$],V)})}else this.imports[B]!=null&&!ee&&N.warn("Overwriting "+B+" with",V),this.imports[B]=V,(B.startsWith("blots/")||B.startsWith("formats/"))&&V.blotName!=="abstract"?E.default.register(V):B.startsWith("modules")&&typeof V.register=="function"&&V.register()}}]);function G(H){var B=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(P(this,G),this.options=J(H,V),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",H);this.options.debug&&G.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new v.default,this.scroll=E.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new L.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(v.default.events.EDITOR_CHANGE,function(Z){Z===v.default.events.TEXT_CHANGE&&B.root.classList.toggle("ql-blank",B.editor.isBlank())}),this.emitter.on(v.default.events.SCROLL_UPDATE,function(Z,$){var Q=B.selection.lastRange,te=Q&&Q.length===0?Q.index:void 0;se.call(B,function(){return B.editor.update(null,$,te)},Z)});var ee=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(ee),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(G,[{key:"addContainer",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof B=="string"){var z=B;B=document.createElement("div"),B.classList.add(z)}return this.container.insertBefore(B,V),B}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(B,V,z){var ee=this,Z=X(B,V,z),$=u(Z,4);return B=$[0],V=$[1],z=$[3],se.call(this,function(){return ee.editor.deleteText(B,V)},z,B,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(B),this.container.classList.toggle("ql-disabled",!B)}},{key:"focus",value:function(){var B=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=B,this.scrollIntoView()}},{key:"format",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;return se.call(this,function(){var Z=z.getSelection(!0),$=new f.default;if(Z==null)return $;if(E.default.query(B,E.default.Scope.BLOCK))$=z.editor.formatLine(Z.index,Z.length,k({},B,V));else{if(Z.length===0)return z.selection.format(B,V),$;$=z.editor.formatText(Z.index,Z.length,k({},B,V))}return z.setSelection(Z,v.default.sources.SILENT),$},ee)}},{key:"formatLine",value:function(B,V,z,ee,Z){var $=this,Q=void 0,te=X(B,V,z,ee,Z),ie=u(te,4);return B=ie[0],V=ie[1],Q=ie[2],Z=ie[3],se.call(this,function(){return $.editor.formatLine(B,V,Q)},Z,B,0)}},{key:"formatText",value:function(B,V,z,ee,Z){var $=this,Q=void 0,te=X(B,V,z,ee,Z),ie=u(te,4);return B=ie[0],V=ie[1],Q=ie[2],Z=ie[3],se.call(this,function(){return $.editor.formatText(B,V,Q)},Z,B,0)}},{key:"getBounds",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof B=="number"?z=this.selection.getBounds(B,V):z=this.selection.getBounds(B.index,B.length);var ee=this.container.getBoundingClientRect();return{bottom:z.bottom-ee.top,height:z.height,left:z.left-ee.left,right:z.right-ee.left,top:z.top-ee.top,width:z.width}}},{key:"getContents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,z=X(B,V),ee=u(z,2);return B=ee[0],V=ee[1],this.editor.getContents(B,V)}},{key:"getFormat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof B=="number"?this.editor.getFormat(B,V):this.editor.getFormat(B.index,B.length)}},{key:"getIndex",value:function(B){return B.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(B){return this.scroll.leaf(B)}},{key:"getLine",value:function(B){return this.scroll.line(B)}},{key:"getLines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof B!="number"?this.scroll.lines(B.index,B.length):this.scroll.lines(B,V)}},{key:"getModule",value:function(B){return this.theme.modules[B]}},{key:"getSelection",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return B&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,z=X(B,V),ee=u(z,2);return B=ee[0],V=ee[1],this.editor.getText(B,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(B,V,z){var ee=this,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:G.sources.API;return se.call(this,function(){return ee.editor.insertEmbed(B,V,z)},Z,B)}},{key:"insertText",value:function(B,V,z,ee,Z){var $=this,Q=void 0,te=X(B,0,z,ee,Z),ie=u(te,4);return B=ie[0],Q=ie[2],Z=ie[3],se.call(this,function(){return $.editor.insertText(B,V,Q)},Z,B,V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(B,V,z){this.clipboard.dangerouslyPasteHTML(B,V,z)}},{key:"removeFormat",value:function(B,V,z){var ee=this,Z=X(B,V,z),$=u(Z,4);return B=$[0],V=$[1],z=$[3],se.call(this,function(){return ee.editor.removeFormat(B,V)},z,B)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(B){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API;return se.call(this,function(){B=new f.default(B);var ee=V.getLength(),Z=V.editor.deleteText(0,ee),$=V.editor.applyDelta(B),Q=$.ops[$.ops.length-1];Q!=null&&typeof Q.insert=="string"&&Q.insert[Q.insert.length-1]===`
`&&(V.editor.deleteText(V.getLength()-1,1),$.delete(1));var te=Z.compose($);return te},z)}},{key:"setSelection",value:function(B,V,z){if(B==null)this.selection.setRange(null,V||G.sources.API);else{var ee=X(B,V,z),Z=u(ee,4);B=Z[0],V=Z[1],z=Z[3],this.selection.setRange(new T.Range(B,V),z),z!==v.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API,z=new f.default().insert(B);return this.setContents(z,V)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,V=this.scroll.update(B);return this.selection.update(B),V}},{key:"updateContents",value:function(B){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API;return se.call(this,function(){return B=new f.default(B),V.editor.applyDelta(B,z)},z,!0)}}]),G}();W.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},W.events=v.default.events,W.sources=v.default.sources,W.version="1.3.7",W.imports={delta:f.default,parchment:E.default,"core/module":b.default,"core/theme":D.default};function J(G,H){if(H=(0,j.default)(!0,{container:G,modules:{clipboard:!0,keyboard:!0,history:!0}},H),!H.theme||H.theme===W.DEFAULTS.theme)H.theme=D.default;else if(H.theme=W.import("themes/"+H.theme),H.theme==null)throw new Error("Invalid theme "+H.theme+". Did you register it?");var B=(0,j.default)(!0,{},H.theme.DEFAULTS);[B,H].forEach(function(ee){ee.modules=ee.modules||{},Object.keys(ee.modules).forEach(function(Z){ee.modules[Z]===!0&&(ee.modules[Z]={})})});var V=Object.keys(B.modules).concat(Object.keys(H.modules)),z=V.reduce(function(ee,Z){var $=W.import("modules/"+Z);return $==null?N.error("Cannot load "+Z+" module. Are you sure you registered it?"):ee[Z]=$.DEFAULTS||{},ee},{});return H.modules!=null&&H.modules.toolbar&&H.modules.toolbar.constructor!==Object&&(H.modules.toolbar={container:H.modules.toolbar}),H=(0,j.default)(!0,{},W.DEFAULTS,{modules:z},B,H),["bounds","container","scrollingContainer"].forEach(function(ee){typeof H[ee]=="string"&&(H[ee]=document.querySelector(H[ee]))}),H.modules=Object.keys(H.modules).reduce(function(ee,Z){return H.modules[Z]&&(ee[Z]=H.modules[Z]),ee},{}),H}function se(G,H,B,V){if(this.options.strict&&!this.isEnabled()&&H===v.default.sources.USER)return new f.default;var z=B==null?null:this.getSelection(),ee=this.editor.delta,Z=G();if(z!=null&&(B===!0&&(B=z.index),V==null?z=re(z,Z,H):V!==0&&(z=re(z,B,V,H)),this.setSelection(z,v.default.sources.SILENT)),Z.length()>0){var $,Q=[v.default.events.TEXT_CHANGE,Z,ee,H];if(($=this.emitter).emit.apply($,[v.default.events.EDITOR_CHANGE].concat(Q)),H!==v.default.sources.SILENT){var te;(te=this.emitter).emit.apply(te,Q)}}return Z}function X(G,H,B,V,z){var ee={};return typeof G.index=="number"&&typeof G.length=="number"?typeof H!="number"?(z=V,V=B,B=H,H=G.length,G=G.index):(H=G.length,G=G.index):typeof H!="number"&&(z=V,V=B,B=H,H=0),(typeof B>"u"?"undefined":a(B))==="object"?(ee=B,z=V):typeof B=="string"&&(V!=null?ee[B]=V:z=B),z=z||v.default.sources.API,[G,H,ee,z]}function re(G,H,B,V){if(G==null)return null;var z=void 0,ee=void 0;if(H instanceof f.default){var Z=[G.index,G.index+G.length].map(function(ie){return H.transformPosition(ie,V!==v.default.sources.USER)}),$=u(Z,2);z=$[0],ee=$[1]}else{var Q=[G.index,G.index+G.length].map(function(ie){return ie<H||ie===H&&V===v.default.sources.USER?ie:B>=0?ie+B:Math.max(H,ie+B)}),te=u(Q,2);z=te[0],ee=te[1]}return new T.Range(z,ee-z)}n.expandConfig=J,n.overload=X,n.default=W},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function C(E,T){for(var L=0;L<T.length;L++){var x=T[L];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,T,L){return T&&C(E.prototype,T),L&&C(E,L),E}}(),u=function C(E,T,L){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,T);if(x===void 0){var j=Object.getPrototypeOf(E);return j===null?void 0:C(j,T,L)}else{if("value"in x)return x.value;var q=x.get;return q===void 0?void 0:q.call(L)}},c=i(7),h=g(c),f=i(0),y=g(f);function g(C){return C&&C.__esModule?C:{default:C}}function p(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function v(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function A(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var b=function(C){A(E,C);function E(){return p(this,E),v(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"formatAt",value:function(L,x,j,q){if(E.compare(this.statics.blotName,j)<0&&y.default.query(j,y.default.Scope.BLOT)){var R=this.isolate(L,x);q&&R.wrap(j,q)}else u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,L,x,j,q)}},{key:"optimize",value:function(L){if(u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,L),this.parent instanceof E&&E.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(L,x){var j=E.order.indexOf(L),q=E.order.indexOf(x);return j>=0||q>=0?j-q:L===x?0:L<x?-1:1}}]),E}(y.default.Inline);b.allowedChildren=[b,y.default.Embed,h.default],b.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function f(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default.Text);n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function T(L,x){for(var j=0;j<x.length;j++){var q=x[j];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(L,q.key,q)}}return function(L,x,j){return x&&T(L.prototype,x),j&&T(L,j),L}}(),u=function T(L,x,j){L===null&&(L=Function.prototype);var q=Object.getOwnPropertyDescriptor(L,x);if(q===void 0){var R=Object.getPrototypeOf(L);return R===null?void 0:T(R,x,j)}else{if("value"in q)return q.value;var w=q.get;return w===void 0?void 0:w.call(j)}},c=i(54),h=g(c),f=i(10),y=g(f);function g(T){return T&&T.__esModule?T:{default:T}}function p(T,L){if(!(T instanceof L))throw new TypeError("Cannot call a class as a function")}function v(T,L){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:T}function A(T,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);T.prototype=Object.create(L&&L.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(T,L):T.__proto__=L)}var b=(0,y.default)("quill:events"),C=["selectionchange","mousedown","mouseup","click"];C.forEach(function(T){document.addEventListener(T,function(){for(var L=arguments.length,x=Array(L),j=0;j<L;j++)x[j]=arguments[j];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(q){if(q.__quill&&q.__quill.emitter){var R;(R=q.__quill.emitter).handleDOM.apply(R,x)}})})});var E=function(T){A(L,T);function L(){p(this,L);var x=v(this,(L.__proto__||Object.getPrototypeOf(L)).call(this));return x.listeners={},x.on("error",b.error),x}return a(L,[{key:"emit",value:function(){b.log.apply(b,arguments),u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(j){for(var q=arguments.length,R=Array(q>1?q-1:0),w=1;w<q;w++)R[w-1]=arguments[w];(this.listeners[j.type]||[]).forEach(function(D){var I=D.node,k=D.handler;(j.target===I||I.contains(j.target))&&k.apply(void 0,[j].concat(R))})}},{key:"listenDOM",value:function(j,q,R){this.listeners[j]||(this.listeners[j]=[]),this.listeners[j].push({node:q,handler:R})}}]),L}(h.default);E.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},E.sources={API:"api",SILENT:"silent",USER:"user"},n.default=E},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}var u=function c(h){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,c),this.quill=h,this.options=f};u.DEFAULTS={},n.default=u},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],u="warn";function c(f){if(a.indexOf(f)<=a.indexOf(u)){for(var y,g=arguments.length,p=Array(g>1?g-1:0),v=1;v<g;v++)p[v-1]=arguments[v];(y=console)[f].apply(y,p)}}function h(f){return a.reduce(function(y,g){return y[g]=c.bind(console,g,f),y},{})}c.level=h.level=function(f){u=f},n.default=h},function(t,n,i){var a=Array.prototype.slice,u=i(52),c=i(53),h=t.exports=function(p,v,A){return A||(A={}),p===v?!0:p instanceof Date&&v instanceof Date?p.getTime()===v.getTime():!p||!v||typeof p!="object"&&typeof v!="object"?A.strict?p===v:p==v:g(p,v,A)};function f(p){return p==null}function y(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function g(p,v,A){var b,C;if(f(p)||f(v)||p.prototype!==v.prototype)return!1;if(c(p))return c(v)?(p=a.call(p),v=a.call(v),h(p,v,A)):!1;if(y(p)){if(!y(v)||p.length!==v.length)return!1;for(b=0;b<p.length;b++)if(p[b]!==v[b])return!1;return!0}try{var E=u(p),T=u(v)}catch{return!1}if(E.length!=T.length)return!1;for(E.sort(),T.sort(),b=E.length-1;b>=0;b--)if(E[b]!=T[b])return!1;for(b=E.length-1;b>=0;b--)if(C=E[b],!h(p[C],v[C],A))return!1;return typeof p==typeof v}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),u=function(){function c(h,f,y){y===void 0&&(y={}),this.attrName=h,this.keyName=f;var g=a.Scope.TYPE&a.Scope.ATTRIBUTE;y.scope!=null?this.scope=y.scope&a.Scope.LEVEL|g:this.scope=a.Scope.ATTRIBUTE,y.whitelist!=null&&(this.whitelist=y.whitelist)}return c.keys=function(h){return[].map.call(h.attributes,function(f){return f.name})},c.prototype.add=function(h,f){return this.canAdd(h,f)?(h.setAttribute(this.keyName,f),!0):!1},c.prototype.canAdd=function(h,f){var y=a.query(h,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return y==null?!1:this.whitelist==null?!0:typeof f=="string"?this.whitelist.indexOf(f.replace(/["']/g,""))>-1:this.whitelist.indexOf(f)>-1},c.prototype.remove=function(h){h.removeAttribute(this.keyName)},c.prototype.value=function(h){var f=h.getAttribute(this.keyName);return this.canAdd(h,f)&&f?f:""},c}();n.default=u},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function w(D,I){var k=[],P=!0,N=!1,W=void 0;try{for(var J=D[Symbol.iterator](),se;!(P=(se=J.next()).done)&&(k.push(se.value),!(I&&k.length===I));P=!0);}catch(X){N=!0,W=X}finally{try{!P&&J.return&&J.return()}finally{if(N)throw W}}return k}return function(D,I){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return w(D,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function w(D,I){for(var k=0;k<I.length;k++){var P=I[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}return function(D,I,k){return I&&w(D.prototype,I),k&&w(D,k),D}}(),c=function w(D,I,k){D===null&&(D=Function.prototype);var P=Object.getOwnPropertyDescriptor(D,I);if(P===void 0){var N=Object.getPrototypeOf(D);return N===null?void 0:w(N,I,k)}else{if("value"in P)return P.value;var W=P.get;return W===void 0?void 0:W.call(k)}},h=i(2),f=T(h),y=i(0),g=T(y),p=i(4),v=T(p),A=i(6),b=T(A),C=i(7),E=T(C);function T(w){return w&&w.__esModule?w:{default:w}}function L(w,D){if(!(w instanceof D))throw new TypeError("Cannot call a class as a function")}function x(w,D){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:w}function j(w,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);w.prototype=Object.create(D&&D.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(w,D):w.__proto__=D)}var q=function(w){j(D,w);function D(){return L(this,D),x(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return D}(b.default);q.blotName="code",q.tagName="CODE";var R=function(w){j(D,w);function D(){return L(this,D),x(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return u(D,[{key:"delta",value:function(){var k=this,P=this.domNode.textContent;return P.endsWith(`
`)&&(P=P.slice(0,-1)),P.split(`
`).reduce(function(N,W){return N.insert(W).insert(`
`,k.formats())},new f.default)}},{key:"format",value:function(k,P){if(!(k===this.statics.blotName&&P)){var N=this.descendant(E.default,this.length()-1),W=a(N,1),J=W[0];J!=null&&J.deleteAt(J.length()-1,1),c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,k,P)}}},{key:"formatAt",value:function(k,P,N,W){if(P!==0&&!(g.default.query(N,g.default.Scope.BLOCK)==null||N===this.statics.blotName&&W===this.statics.formats(this.domNode))){var J=this.newlineIndex(k);if(!(J<0||J>=k+P)){var se=this.newlineIndex(k,!0)+1,X=J-se+1,re=this.isolate(se,X),G=re.next;re.format(N,W),G instanceof D&&G.formatAt(0,k-se+P-X,N,W)}}}},{key:"insertAt",value:function(k,P,N){if(N==null){var W=this.descendant(E.default,k),J=a(W,2),se=J[0],X=J[1];se.insertAt(X,P)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var N=this.domNode.textContent.slice(k).indexOf(`
`);return N>-1?k+N:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(g.default.create("text",`
`)),c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,k);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===P.statics.formats(P.domNode)&&(P.optimize(k),P.moveChildren(this),P.remove())}},{key:"replace",value:function(k){c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(P){var N=g.default.find(P);N==null?P.parentNode.removeChild(P):N instanceof g.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(k){var P=c(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,k);return P.setAttribute("spellcheck",!1),P}},{key:"formats",value:function(){return!0}}]),D}(v.default);R.blotName="code-block",R.tagName="PRE",R.TAB="  ",n.Code=q,n.default=R},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},u=function(){function G(H,B){var V=[],z=!0,ee=!1,Z=void 0;try{for(var $=H[Symbol.iterator](),Q;!(z=(Q=$.next()).done)&&(V.push(Q.value),!(B&&V.length===B));z=!0);}catch(te){ee=!0,Z=te}finally{try{!z&&$.return&&$.return()}finally{if(ee)throw Z}}return V}return function(H,B){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return G(H,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function G(H,B){for(var V=0;V<B.length;V++){var z=B[V];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(H,z.key,z)}}return function(H,B,V){return B&&G(H.prototype,B),V&&G(H,V),H}}(),h=i(2),f=P(h),y=i(20),g=P(y),p=i(0),v=P(p),A=i(13),b=P(A),C=i(24),E=P(C),T=i(4),L=P(T),x=i(16),j=P(x),q=i(21),R=P(q),w=i(11),D=P(w),I=i(3),k=P(I);function P(G){return G&&G.__esModule?G:{default:G}}function N(G,H,B){return H in G?Object.defineProperty(G,H,{value:B,enumerable:!0,configurable:!0,writable:!0}):G[H]=B,G}function W(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}var J=/^[ -~]*$/,se=function(){function G(H){W(this,G),this.scroll=H,this.delta=this.getDelta()}return c(G,[{key:"applyDelta",value:function(B){var V=this,z=!1;this.scroll.update();var ee=this.scroll.length();return this.scroll.batchStart(),B=re(B),B.reduce(function(Z,$){var Q=$.retain||$.delete||$.insert.length||1,te=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var ie=$.insert;ie.endsWith(`
`)&&z&&(z=!1,ie=ie.slice(0,-1)),Z>=ee&&!ie.endsWith(`
`)&&(z=!0),V.scroll.insertAt(Z,ie);var de=V.scroll.line(Z),ge=u(de,2),De=ge[0],Ie=ge[1],ke=(0,k.default)({},(0,T.bubbleFormats)(De));if(De instanceof L.default){var Re=De.descendant(v.default.Leaf,Ie),Be=u(Re,1),tt=Be[0];ke=(0,k.default)(ke,(0,T.bubbleFormats)(tt))}te=g.default.attributes.diff(ke,te)||{}}else if(a($.insert)==="object"){var ce=Object.keys($.insert)[0];if(ce==null)return Z;V.scroll.insertAt(Z,ce,$.insert[ce])}ee+=Q}return Object.keys(te).forEach(function(fe){V.scroll.formatAt(Z,Q,fe,te[fe])}),Z+Q},0),B.reduce(function(Z,$){return typeof $.delete=="number"?(V.scroll.deleteAt(Z,$.delete),Z):Z+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(B)}},{key:"deleteText",value:function(B,V){return this.scroll.deleteAt(B,V),this.update(new f.default().retain(B).delete(V))}},{key:"formatLine",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ee).forEach(function(Z){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[Z])){var $=z.scroll.lines(B,Math.max(V,1)),Q=V;$.forEach(function(te){var ie=te.length();if(!(te instanceof b.default))te.format(Z,ee[Z]);else{var de=B-te.offset(z.scroll),ge=te.newlineIndex(de+Q)-de+1;te.formatAt(de,ge,Z,ee[Z])}Q-=ie})}}),this.scroll.optimize(),this.update(new f.default().retain(B).retain(V,(0,R.default)(ee)))}},{key:"formatText",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ee).forEach(function(Z){z.scroll.formatAt(B,V,Z,ee[Z])}),this.update(new f.default().retain(B).retain(V,(0,R.default)(ee)))}},{key:"getContents",value:function(B,V){return this.delta.slice(B,B+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(B,V){return B.concat(V.delta())},new f.default)}},{key:"getFormat",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],ee=[];V===0?this.scroll.path(B).forEach(function($){var Q=u($,1),te=Q[0];te instanceof L.default?z.push(te):te instanceof v.default.Leaf&&ee.push(te)}):(z=this.scroll.lines(B,V),ee=this.scroll.descendants(v.default.Leaf,B,V));var Z=[z,ee].map(function($){if($.length===0)return{};for(var Q=(0,T.bubbleFormats)($.shift());Object.keys(Q).length>0;){var te=$.shift();if(te==null)return Q;Q=X((0,T.bubbleFormats)(te),Q)}return Q});return k.default.apply(k.default,Z)}},{key:"getText",value:function(B,V){return this.getContents(B,V).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(B,V,z){return this.scroll.insertAt(B,V,z),this.update(new f.default().retain(B).insert(N({},V,z)))}},{key:"insertText",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V=V.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(B,V),Object.keys(ee).forEach(function(Z){z.scroll.formatAt(B,V.length,Z,ee[Z])}),this.update(new f.default().retain(B).insert(V,(0,R.default)(ee)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var B=this.scroll.children.head;return B.statics.blotName!==L.default.blotName||B.children.length>1?!1:B.children.head instanceof j.default}},{key:"removeFormat",value:function(B,V){var z=this.getText(B,V),ee=this.scroll.line(B+V),Z=u(ee,2),$=Z[0],Q=Z[1],te=0,ie=new f.default;$!=null&&($ instanceof b.default?te=$.newlineIndex(Q)-Q+1:te=$.length()-Q,ie=$.delta().slice(Q,Q+te-1).insert(`
`));var de=this.getContents(B,V+te),ge=de.diff(new f.default().insert(z).concat(ie)),De=new f.default().retain(B).concat(ge);return this.applyDelta(De)}},{key:"update",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ee=this.delta;if(V.length===1&&V[0].type==="characterData"&&V[0].target.data.match(J)&&v.default.find(V[0].target)){var Z=v.default.find(V[0].target),$=(0,T.bubbleFormats)(Z),Q=Z.offset(this.scroll),te=V[0].oldValue.replace(E.default.CONTENTS,""),ie=new f.default().insert(te),de=new f.default().insert(Z.value()),ge=new f.default().retain(Q).concat(ie.diff(de,z));B=ge.reduce(function(De,Ie){return Ie.insert?De.insert(Ie.insert,$):De.push(Ie)},new f.default),this.delta=ee.compose(B)}else this.delta=this.getDelta(),(!B||!(0,D.default)(ee.compose(B),this.delta))&&(B=ee.diff(this.delta,z));return B}}]),G}();function X(G,H){return Object.keys(H).reduce(function(B,V){return G[V]==null||(H[V]===G[V]?B[V]=H[V]:Array.isArray(H[V])?H[V].indexOf(G[V])<0&&(B[V]=H[V].concat([G[V]])):B[V]=[H[V],G[V]]),B},{})}function re(G){return G.reduce(function(H,B){if(B.insert===1){var V=(0,R.default)(B.attributes);return delete V.image,H.insert({image:B.attributes.image},V)}if(B.attributes!=null&&(B.attributes.list===!0||B.attributes.bullet===!0)&&(B=(0,R.default)(B),B.attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var z=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return H.insert(z,B.attributes)}return H.push(B)},new f.default)}n.default=se},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function w(D,I){var k=[],P=!0,N=!1,W=void 0;try{for(var J=D[Symbol.iterator](),se;!(P=(se=J.next()).done)&&(k.push(se.value),!(I&&k.length===I));P=!0);}catch(X){N=!0,W=X}finally{try{!P&&J.return&&J.return()}finally{if(N)throw W}}return k}return function(D,I){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return w(D,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function w(D,I){for(var k=0;k<I.length;k++){var P=I[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}return function(D,I,k){return I&&w(D.prototype,I),k&&w(D,k),D}}(),c=i(0),h=E(c),f=i(21),y=E(f),g=i(11),p=E(g),v=i(8),A=E(v),b=i(10),C=E(b);function E(w){return w&&w.__esModule?w:{default:w}}function T(w){if(Array.isArray(w)){for(var D=0,I=Array(w.length);D<w.length;D++)I[D]=w[D];return I}else return Array.from(w)}function L(w,D){if(!(w instanceof D))throw new TypeError("Cannot call a class as a function")}var x=(0,C.default)("quill:selection"),j=function w(D){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;L(this,w),this.index=D,this.length=I},q=function(){function w(D,I){var k=this;L(this,w),this.emitter=I,this.scroll=D,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=h.default.create("cursor",this),this.lastRange=this.savedRange=new j(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,A.default.sources.USER),1)}),this.emitter.on(A.default.events.EDITOR_CHANGE,function(P,N){P===A.default.events.TEXT_CHANGE&&N.length()>0&&k.update(A.default.sources.SILENT)}),this.emitter.on(A.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var P=k.getNativeRange();P!=null&&P.start.node!==k.cursor.textNode&&k.emitter.once(A.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(P.start.node,P.start.offset,P.end.node,P.end.offset)}catch{}})}}),this.emitter.on(A.default.events.SCROLL_OPTIMIZE,function(P,N){if(N.range){var W=N.range,J=W.startNode,se=W.startOffset,X=W.endNode,re=W.endOffset;k.setNativeRange(J,se,X,re)}}),this.update(A.default.sources.SILENT)}return u(w,[{key:"handleComposition",value:function(){var I=this;this.root.addEventListener("compositionstart",function(){I.composing=!0}),this.root.addEventListener("compositionend",function(){if(I.composing=!1,I.cursor.parent){var k=I.cursor.restore();if(!k)return;setTimeout(function(){I.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var I=this;this.emitter.listenDOM("mousedown",document.body,function(){I.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){I.mouseDown=!1,I.update(A.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(I,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[I])){this.scroll.update();var P=this.getNativeRange();if(!(P==null||!P.native.collapsed||h.default.query(I,h.default.Scope.BLOCK))){if(P.start.node!==this.cursor.textNode){var N=h.default.find(P.start.node,!1);if(N==null)return;if(N instanceof h.default.Leaf){var W=N.split(P.start.offset);N.parent.insertBefore(this.cursor,W)}else N.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(I,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();I=Math.min(I,P-1),k=Math.min(I+k,P-1)-I;var N=void 0,W=this.scroll.leaf(I),J=a(W,2),se=J[0],X=J[1];if(se==null)return null;var re=se.position(X,!0),G=a(re,2);N=G[0],X=G[1];var H=document.createRange();if(k>0){H.setStart(N,X);var B=this.scroll.leaf(I+k),V=a(B,2);if(se=V[0],X=V[1],se==null)return null;var z=se.position(X,!0),ee=a(z,2);return N=ee[0],X=ee[1],H.setEnd(N,X),H.getBoundingClientRect()}else{var Z="left",$=void 0;return N instanceof Text?(X<N.data.length?(H.setStart(N,X),H.setEnd(N,X+1)):(H.setStart(N,X-1),H.setEnd(N,X),Z="right"),$=H.getBoundingClientRect()):($=se.domNode.getBoundingClientRect(),X>0&&(Z="right")),{bottom:$.top+$.height,height:$.height,left:$[Z],right:$[Z],top:$.top,width:0}}}},{key:"getNativeRange",value:function(){var I=document.getSelection();if(I==null||I.rangeCount<=0)return null;var k=I.getRangeAt(0);if(k==null)return null;var P=this.normalizeNative(k);return x.info("getNativeRange",P),P}},{key:"getRange",value:function(){var I=this.getNativeRange();if(I==null)return[null,null];var k=this.normalizedToRange(I);return[k,I]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(I){var k=this,P=[[I.start.node,I.start.offset]];I.native.collapsed||P.push([I.end.node,I.end.offset]);var N=P.map(function(se){var X=a(se,2),re=X[0],G=X[1],H=h.default.find(re,!0),B=H.offset(k.scroll);return G===0?B:H instanceof h.default.Container?B+H.length():B+H.index(re,G)}),W=Math.min(Math.max.apply(Math,T(N)),this.scroll.length()-1),J=Math.min.apply(Math,[W].concat(T(N)));return new j(J,W-J)}},{key:"normalizeNative",value:function(I){if(!R(this.root,I.startContainer)||!I.collapsed&&!R(this.root,I.endContainer))return null;var k={start:{node:I.startContainer,offset:I.startOffset},end:{node:I.endContainer,offset:I.endOffset},native:I};return[k.start,k.end].forEach(function(P){for(var N=P.node,W=P.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>W)N=N.childNodes[W],W=0;else if(N.childNodes.length===W)N=N.lastChild,W=N instanceof Text?N.data.length:N.childNodes.length+1;else break;P.node=N,P.offset=W}),k}},{key:"rangeToNative",value:function(I){var k=this,P=I.collapsed?[I.index]:[I.index,I.index+I.length],N=[],W=this.scroll.length();return P.forEach(function(J,se){J=Math.min(W-1,J);var X=void 0,re=k.scroll.leaf(J),G=a(re,2),H=G[0],B=G[1],V=H.position(B,se!==0),z=a(V,2);X=z[0],B=z[1],N.push(X,B)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(I){var k=this.lastRange;if(k!=null){var P=this.getBounds(k.index,k.length);if(P!=null){var N=this.scroll.length()-1,W=this.scroll.line(Math.min(k.index,N)),J=a(W,1),se=J[0],X=se;if(k.length>0){var re=this.scroll.line(Math.min(k.index+k.length,N)),G=a(re,1);X=G[0]}if(!(se==null||X==null)){var H=I.getBoundingClientRect();P.top<H.top?I.scrollTop-=H.top-P.top:P.bottom>H.bottom&&(I.scrollTop+=P.bottom-H.bottom)}}}}},{key:"setNativeRange",value:function(I,k){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,W=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",I,k,P,N),!(I!=null&&(this.root.parentNode==null||I.parentNode==null||P.parentNode==null))){var J=document.getSelection();if(J!=null)if(I!=null){this.hasFocus()||this.root.focus();var se=(this.getNativeRange()||{}).native;if(se==null||W||I!==se.startContainer||k!==se.startOffset||P!==se.endContainer||N!==se.endOffset){I.tagName=="BR"&&(k=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode),P.tagName=="BR"&&(N=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var X=document.createRange();X.setStart(I,k),X.setEnd(P,N),J.removeAllRanges(),J.addRange(X)}}else J.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.default.sources.API;if(typeof k=="string"&&(P=k,k=!1),x.info("setRange",I),I!=null){var N=this.rangeToNative(I);this.setNativeRange.apply(this,T(N).concat([k]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.default.sources.USER,k=this.lastRange,P=this.getRange(),N=a(P,2),W=N[0],J=N[1];if(this.lastRange=W,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(k,this.lastRange)){var se;!this.composing&&J!=null&&J.native.collapsed&&J.start.node!==this.cursor.textNode&&this.cursor.restore();var X=[A.default.events.SELECTION_CHANGE,(0,y.default)(this.lastRange),(0,y.default)(k),I];if((se=this.emitter).emit.apply(se,[A.default.events.EDITOR_CHANGE].concat(X)),I!==A.default.sources.SILENT){var re;(re=this.emitter).emit.apply(re,X)}}}}]),w}();function R(w,D){try{D.parentNode}catch{return!1}return D instanceof Text&&(D=D.parentNode),w.contains(D)}n.Range=j,n.default=q},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(b,C){for(var E=0;E<C.length;E++){var T=C[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,C,E){return C&&A(b.prototype,C),E&&A(b,E),b}}(),u=function A(b,C,E){b===null&&(b=Function.prototype);var T=Object.getOwnPropertyDescriptor(b,C);if(T===void 0){var L=Object.getPrototypeOf(b);return L===null?void 0:A(L,C,E)}else{if("value"in T)return T.value;var x=T.get;return x===void 0?void 0:x.call(E)}},c=i(0),h=f(c);function f(A){return A&&A.__esModule?A:{default:A}}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function g(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function p(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var v=function(A){p(b,A);function b(){return y(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"insertInto",value:function(E,T){E.children.length===0?u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertInto",this).call(this,E,T):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),b}(h.default.Embed);v.blotName="break",v.tagName="BR",n.default=v},function(t,n,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var A in v)v.hasOwnProperty(A)&&(p[A]=v[A])};return function(p,v){g(p,v);function A(){this.constructor=p}p.prototype=v===null?Object.create(v):(A.prototype=v.prototype,new A)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(44),c=i(30),h=i(1),f=function(g){a(p,g);function p(v){var A=g.call(this,v)||this;return A.build(),A}return p.prototype.appendChild=function(v){this.insertBefore(v)},p.prototype.attach=function(){g.prototype.attach.call(this),this.children.forEach(function(v){v.attach()})},p.prototype.build=function(){var v=this;this.children=new u.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(A){try{var b=y(A);v.insertBefore(b,v.children.head||void 0)}catch(C){if(C instanceof h.ParchmentError)return;throw C}})},p.prototype.deleteAt=function(v,A){if(v===0&&A===this.length())return this.remove();this.children.forEachAt(v,A,function(b,C,E){b.deleteAt(C,E)})},p.prototype.descendant=function(v,A){var b=this.children.find(A),C=b[0],E=b[1];return v.blotName==null&&v(C)||v.blotName!=null&&C instanceof v?[C,E]:C instanceof p?C.descendant(v,E):[null,-1]},p.prototype.descendants=function(v,A,b){A===void 0&&(A=0),b===void 0&&(b=Number.MAX_VALUE);var C=[],E=b;return this.children.forEachAt(A,b,function(T,L,x){(v.blotName==null&&v(T)||v.blotName!=null&&T instanceof v)&&C.push(T),T instanceof p&&(C=C.concat(T.descendants(v,L,E))),E-=x}),C},p.prototype.detach=function(){this.children.forEach(function(v){v.detach()}),g.prototype.detach.call(this)},p.prototype.formatAt=function(v,A,b,C){this.children.forEachAt(v,A,function(E,T,L){E.formatAt(T,L,b,C)})},p.prototype.insertAt=function(v,A,b){var C=this.children.find(v),E=C[0],T=C[1];if(E)E.insertAt(T,A,b);else{var L=b==null?h.create("text",A):h.create(A,b);this.appendChild(L)}},p.prototype.insertBefore=function(v,A){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(b){return v instanceof b}))throw new h.ParchmentError("Cannot insert "+v.statics.blotName+" into "+this.statics.blotName);v.insertInto(this,A)},p.prototype.length=function(){return this.children.reduce(function(v,A){return v+A.length()},0)},p.prototype.moveChildren=function(v,A){this.children.forEach(function(b){v.insertBefore(b,A)})},p.prototype.optimize=function(v){if(g.prototype.optimize.call(this,v),this.children.length===0)if(this.statics.defaultChild!=null){var A=h.create(this.statics.defaultChild);this.appendChild(A),A.optimize(v)}else this.remove()},p.prototype.path=function(v,A){A===void 0&&(A=!1);var b=this.children.find(v,A),C=b[0],E=b[1],T=[[this,v]];return C instanceof p?T.concat(C.path(E,A)):(C!=null&&T.push([C,E]),T)},p.prototype.removeChild=function(v){this.children.remove(v)},p.prototype.replace=function(v){v instanceof p&&v.moveChildren(this),g.prototype.replace.call(this,v)},p.prototype.split=function(v,A){if(A===void 0&&(A=!1),!A){if(v===0)return this;if(v===this.length())return this.next}var b=this.clone();return this.parent.insertBefore(b,this.next),this.children.forEachAt(v,this.length(),function(C,E,T){C=C.split(E,A),b.appendChild(C)}),b},p.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},p.prototype.update=function(v,A){var b=this,C=[],E=[];v.forEach(function(T){T.target===b.domNode&&T.type==="childList"&&(C.push.apply(C,T.addedNodes),E.push.apply(E,T.removedNodes))}),E.forEach(function(T){if(!(T.parentNode!=null&&T.tagName!=="IFRAME"&&document.body.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var L=h.find(T);L!=null&&(L.domNode.parentNode==null||L.domNode.parentNode===b.domNode)&&L.detach()}}),C.filter(function(T){return T.parentNode==b.domNode}).sort(function(T,L){return T===L?0:T.compareDocumentPosition(L)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(T){var L=null;T.nextSibling!=null&&(L=h.find(T.nextSibling));var x=y(T);(x.next!=L||x.next==null)&&(x.parent!=null&&x.parent.removeChild(b),b.insertBefore(x,L||void 0))})},p}(c.default);function y(g){var p=h.find(g);if(p==null)try{p=h.create(g)}catch{p=h.create(h.Scope.INLINE),[].slice.call(g.childNodes).forEach(function(A){p.domNode.appendChild(A)}),g.parentNode&&g.parentNode.replaceChild(p.domNode,g),p.attach()}return p}n.default=f},function(t,n,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var A in v)v.hasOwnProperty(A)&&(p[A]=v[A])};return function(p,v){g(p,v);function A(){this.constructor=p}p.prototype=v===null?Object.create(v):(A.prototype=v.prototype,new A)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(12),c=i(31),h=i(17),f=i(1),y=function(g){a(p,g);function p(v){var A=g.call(this,v)||this;return A.attributes=new c.default(A.domNode),A}return p.formats=function(v){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return v.tagName.toLowerCase()},p.prototype.format=function(v,A){var b=f.query(v);b instanceof u.default?this.attributes.attribute(b,A):A&&b!=null&&(v!==this.statics.blotName||this.formats()[v]!==A)&&this.replaceWith(v,A)},p.prototype.formats=function(){var v=this.attributes.values(),A=this.statics.formats(this.domNode);return A!=null&&(v[this.statics.blotName]=A),v},p.prototype.replaceWith=function(v,A){var b=g.prototype.replaceWith.call(this,v,A);return this.attributes.copy(b),b},p.prototype.update=function(v,A){var b=this;g.prototype.update.call(this,v,A),v.some(function(C){return C.target===b.domNode&&C.type==="attributes"})&&this.attributes.build()},p.prototype.wrap=function(v,A){var b=g.prototype.wrap.call(this,v,A);return b instanceof p&&b.statics.scope===this.statics.scope&&this.attributes.move(b),b},p}(h.default);n.default=y},function(t,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){f(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(30),c=i(1),h=function(f){a(y,f);function y(){return f!==null&&f.apply(this,arguments)||this}return y.value=function(g){return!0},y.prototype.index=function(g,p){return this.domNode===g||this.domNode.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(p,1):-1},y.prototype.position=function(g,p){var v=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return g>0&&(v+=1),[this.parent.domNode,v]},y.prototype.value=function(){var g;return g={},g[this.statics.blotName]=this.statics.value(this.domNode)||!0,g},y.scope=c.Scope.INLINE_BLOT,y}(u.default);n.default=h},function(t,n,i){var a=i(11),u=i(3),c={attributes:{compose:function(f,y,g){typeof f!="object"&&(f={}),typeof y!="object"&&(y={});var p=u(!0,{},y);g||(p=Object.keys(p).reduce(function(A,b){return p[b]!=null&&(A[b]=p[b]),A},{}));for(var v in f)f[v]!==void 0&&y[v]===void 0&&(p[v]=f[v]);return Object.keys(p).length>0?p:void 0},diff:function(f,y){typeof f!="object"&&(f={}),typeof y!="object"&&(y={});var g=Object.keys(f).concat(Object.keys(y)).reduce(function(p,v){return a(f[v],y[v])||(p[v]=y[v]===void 0?null:y[v]),p},{});return Object.keys(g).length>0?g:void 0},transform:function(f,y,g){if(typeof f!="object")return y;if(typeof y=="object"){if(!g)return y;var p=Object.keys(y).reduce(function(v,A){return f[A]===void 0&&(v[A]=y[A]),v},{});return Object.keys(p).length>0?p:void 0}}},iterator:function(f){return new h(f)},length:function(f){return typeof f.delete=="number"?f.delete:typeof f.retain=="number"?f.retain:typeof f.insert=="string"?f.insert.length:1}};function h(f){this.ops=f,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(f){f||(f=1/0);var y=this.ops[this.index];if(y){var g=this.offset,p=c.length(y);if(f>=p-g?(f=p-g,this.index+=1,this.offset=0):this.offset+=f,typeof y.delete=="number")return{delete:f};var v={};return y.attributes&&(v.attributes=y.attributes),typeof y.retain=="number"?v.retain=f:typeof y.insert=="string"?v.insert=y.insert.substr(g,f):v.insert=y.insert,v}else return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var f=this.offset,y=this.index,g=this.next(),p=this.ops.slice(this.index);return this.offset=f,this.index=y,[g].concat(p)}else return[]},t.exports=c},function(t,n){var i=function(){function a(b,C){return C!=null&&b instanceof C}var u;try{u=Map}catch{u=function(){}}var c;try{c=Set}catch{c=function(){}}var h;try{h=Promise}catch{h=function(){}}function f(b,C,E,T,L){typeof C=="object"&&(E=C.depth,T=C.prototype,L=C.includeNonEnumerable,C=C.circular);var x=[],j=[],q=typeof Buffer<"u";typeof C>"u"&&(C=!0),typeof E>"u"&&(E=1/0);function R(w,D){if(w===null)return null;if(D===0)return w;var I,k;if(typeof w!="object")return w;if(a(w,u))I=new u;else if(a(w,c))I=new c;else if(a(w,h))I=new h(function(H,B){w.then(function(V){H(R(V,D-1))},function(V){B(R(V,D-1))})});else if(f.__isArray(w))I=[];else if(f.__isRegExp(w))I=new RegExp(w.source,A(w)),w.lastIndex&&(I.lastIndex=w.lastIndex);else if(f.__isDate(w))I=new Date(w.getTime());else{if(q&&Buffer.isBuffer(w))return Buffer.allocUnsafe?I=Buffer.allocUnsafe(w.length):I=new Buffer(w.length),w.copy(I),I;a(w,Error)?I=Object.create(w):typeof T>"u"?(k=Object.getPrototypeOf(w),I=Object.create(k)):(I=Object.create(T),k=T)}if(C){var P=x.indexOf(w);if(P!=-1)return j[P];x.push(w),j.push(I)}a(w,u)&&w.forEach(function(H,B){var V=R(B,D-1),z=R(H,D-1);I.set(V,z)}),a(w,c)&&w.forEach(function(H){var B=R(H,D-1);I.add(B)});for(var N in w){var W;k&&(W=Object.getOwnPropertyDescriptor(k,N)),!(W&&W.set==null)&&(I[N]=R(w[N],D-1))}if(Object.getOwnPropertySymbols)for(var J=Object.getOwnPropertySymbols(w),N=0;N<J.length;N++){var se=J[N],X=Object.getOwnPropertyDescriptor(w,se);X&&!X.enumerable&&!L||(I[se]=R(w[se],D-1),X.enumerable||Object.defineProperty(I,se,{enumerable:!1}))}if(L)for(var re=Object.getOwnPropertyNames(w),N=0;N<re.length;N++){var G=re[N],X=Object.getOwnPropertyDescriptor(w,G);X&&X.enumerable||(I[G]=R(w[G],D-1),Object.defineProperty(I,G,{enumerable:!1}))}return I}return R(b,E)}f.clonePrototype=function(C){if(C===null)return null;var E=function(){};return E.prototype=C,new E};function y(b){return Object.prototype.toString.call(b)}f.__objToStr=y;function g(b){return typeof b=="object"&&y(b)==="[object Date]"}f.__isDate=g;function p(b){return typeof b=="object"&&y(b)==="[object Array]"}f.__isArray=p;function v(b){return typeof b=="object"&&y(b)==="[object RegExp]"}f.__isRegExp=v;function A(b){var C="";return b.global&&(C+="g"),b.ignoreCase&&(C+="i"),b.multiline&&(C+="m"),C}return f.__getRegExpFlags=A,f}();typeof t=="object"&&t.exports&&(t.exports=i)},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function I(k,P){var N=[],W=!0,J=!1,se=void 0;try{for(var X=k[Symbol.iterator](),re;!(W=(re=X.next()).done)&&(N.push(re.value),!(P&&N.length===P));W=!0);}catch(G){J=!0,se=G}finally{try{!W&&X.return&&X.return()}finally{if(J)throw se}}return N}return function(k,P){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return I(k,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function I(k,P){for(var N=0;N<P.length;N++){var W=P[N];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(k,W.key,W)}}return function(k,P,N){return P&&I(k.prototype,P),N&&I(k,N),k}}(),c=function I(k,P,N){k===null&&(k=Function.prototype);var W=Object.getOwnPropertyDescriptor(k,P);if(W===void 0){var J=Object.getPrototypeOf(k);return J===null?void 0:I(J,P,N)}else{if("value"in W)return W.value;var se=W.get;return se===void 0?void 0:se.call(N)}},h=i(0),f=x(h),y=i(8),g=x(y),p=i(4),v=x(p),A=i(16),b=x(A),C=i(13),E=x(C),T=i(25),L=x(T);function x(I){return I&&I.__esModule?I:{default:I}}function j(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}function q(I,k){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:I}function R(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(I,k):I.__proto__=k)}function w(I){return I instanceof v.default||I instanceof p.BlockEmbed}var D=function(I){R(k,I);function k(P,N){j(this,k);var W=q(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,P));return W.emitter=N.emitter,Array.isArray(N.whitelist)&&(W.whitelist=N.whitelist.reduce(function(J,se){return J[se]=!0,J},{})),W.domNode.addEventListener("DOMNodeInserted",function(){}),W.optimize(),W.enable(),W}return u(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,W){var J=this.line(N),se=a(J,2),X=se[0],re=se[1],G=this.line(N+W),H=a(G,1),B=H[0];if(c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,N,W),B!=null&&X!==B&&re>0){if(X instanceof p.BlockEmbed||B instanceof p.BlockEmbed){this.optimize();return}if(X instanceof E.default){var V=X.newlineIndex(X.length(),!0);if(V>-1&&(X=X.split(V+1),X===B)){this.optimize();return}}else if(B instanceof E.default){var z=B.newlineIndex(0);z>-1&&B.split(z+1)}var ee=B.children.head instanceof b.default?null:B.children.head;X.moveChildren(B,ee),X.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,W,J,se){this.whitelist!=null&&!this.whitelist[J]||(c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,N,W,J,se),this.optimize())}},{key:"insertAt",value:function(N,W,J){if(!(J!=null&&this.whitelist!=null&&!this.whitelist[W])){if(N>=this.length())if(J==null||f.default.query(W,f.default.Scope.BLOCK)==null){var se=f.default.create(this.statics.defaultChild);this.appendChild(se),J==null&&W.endsWith(`
`)&&(W=W.slice(0,-1)),se.insertAt(0,W,J)}else{var X=f.default.create(W,J);this.appendChild(X)}else c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,N,W,J);this.optimize()}}},{key:"insertBefore",value:function(N,W){if(N.statics.scope===f.default.Scope.INLINE_BLOT){var J=f.default.create(this.statics.defaultChild);J.appendChild(N),N=J}c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,N,W)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(w,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,J=function se(X,re,G){var H=[],B=G;return X.children.forEachAt(re,G,function(V,z,ee){w(V)?H.push(V):V instanceof f.default.Container&&(H=H.concat(se(V,z,B))),B-=ee}),H};return J(this,N,W)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,N,W),N.length>0&&this.emitter.emit(g.default.events.SCROLL_OPTIMIZE,N,W))}},{key:"path",value:function(N){return c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var W=g.default.sources.USER;typeof N=="string"&&(W=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(g.default.events.SCROLL_BEFORE_UPDATE,W,N),c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(g.default.events.SCROLL_UPDATE,W,N)}}}]),k}(f.default.Scroll);D.blotName="scroll",D.className="ql-editor",D.tagName="DIV",D.defaultChild="block",D.allowedChildren=[v.default,p.BlockEmbed,L.default],n.default=D},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},u=function(){function $(Q,te){var ie=[],de=!0,ge=!1,De=void 0;try{for(var Ie=Q[Symbol.iterator](),ke;!(de=(ke=Ie.next()).done)&&(ie.push(ke.value),!(te&&ie.length===te));de=!0);}catch(Re){ge=!0,De=Re}finally{try{!de&&Ie.return&&Ie.return()}finally{if(ge)throw De}}return ie}return function(Q,te){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return $(Q,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function $(Q,te){for(var ie=0;ie<te.length;ie++){var de=te[ie];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(Q,de.key,de)}}return function(Q,te,ie){return te&&$(Q.prototype,te),ie&&$(Q,ie),Q}}(),h=i(21),f=I(h),y=i(11),g=I(y),p=i(3),v=I(p),A=i(2),b=I(A),C=i(20),E=I(C),T=i(0),L=I(T),x=i(5),j=I(x),q=i(10),R=I(q),w=i(9),D=I(w);function I($){return $&&$.__esModule?$:{default:$}}function k($,Q,te){return Q in $?Object.defineProperty($,Q,{value:te,enumerable:!0,configurable:!0,writable:!0}):$[Q]=te,$}function P($,Q){if(!($ instanceof Q))throw new TypeError("Cannot call a class as a function")}function N($,Q){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:$}function W($,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);$.prototype=Object.create(Q&&Q.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf($,Q):$.__proto__=Q)}var J=(0,R.default)("quill:keyboard"),se=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",X=function($){W(Q,$),c(Q,null,[{key:"match",value:function(ie,de){return de=Z(de),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ge){return!!de[ge]!==ie[ge]&&de[ge]!==null})?!1:de.key===(ie.which||ie.keyCode)}}]);function Q(te,ie){P(this,Q);var de=N(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,te,ie));return de.bindings={},Object.keys(de.options.bindings).forEach(function(ge){ge==="list autofill"&&te.scroll.whitelist!=null&&!te.scroll.whitelist.list||de.options.bindings[ge]&&de.addBinding(de.options.bindings[ge])}),de.addBinding({key:Q.keys.ENTER,shiftKey:null},V),de.addBinding({key:Q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(de.addBinding({key:Q.keys.BACKSPACE},{collapsed:!0},G),de.addBinding({key:Q.keys.DELETE},{collapsed:!0},H)):(de.addBinding({key:Q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},G),de.addBinding({key:Q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},H)),de.addBinding({key:Q.keys.BACKSPACE},{collapsed:!1},B),de.addBinding({key:Q.keys.DELETE},{collapsed:!1},B),de.addBinding({key:Q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},G),de.listen(),de}return c(Q,[{key:"addBinding",value:function(ie){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=Z(ie);if(De==null||De.key==null)return J.warn("Attempted to add invalid keyboard binding",De);typeof de=="function"&&(de={handler:de}),typeof ge=="function"&&(ge={handler:ge}),De=(0,v.default)(De,de,ge),this.bindings[De.key]=this.bindings[De.key]||[],this.bindings[De.key].push(De)}},{key:"listen",value:function(){var ie=this;this.quill.root.addEventListener("keydown",function(de){if(!de.defaultPrevented){var ge=de.which||de.keyCode,De=(ie.bindings[ge]||[]).filter(function(ht){return Q.match(de,ht)});if(De.length!==0){var Ie=ie.quill.getSelection();if(!(Ie==null||!ie.quill.hasFocus())){var ke=ie.quill.getLine(Ie.index),Re=u(ke,2),Be=Re[0],tt=Re[1],ce=ie.quill.getLeaf(Ie.index),fe=u(ce,2),Ee=fe[0],xe=fe[1],ye=Ie.length===0?[Ee,xe]:ie.quill.getLeaf(Ie.index+Ie.length),$e=u(ye,2),je=$e[0],Ve=$e[1],Ge=Ee instanceof L.default.Text?Ee.value().slice(0,xe):"",Xe=je instanceof L.default.Text?je.value().slice(Ve):"",et={collapsed:Ie.length===0,empty:Ie.length===0&&Be.length()<=1,format:ie.quill.getFormat(Ie),offset:tt,prefix:Ge,suffix:Xe},nr=De.some(function(ht){if(ht.collapsed!=null&&ht.collapsed!==et.collapsed||ht.empty!=null&&ht.empty!==et.empty||ht.offset!=null&&ht.offset!==et.offset)return!1;if(Array.isArray(ht.format)){if(ht.format.every(function(bt){return et.format[bt]==null}))return!1}else if(a(ht.format)==="object"&&!Object.keys(ht.format).every(function(bt){return ht.format[bt]===!0?et.format[bt]!=null:ht.format[bt]===!1?et.format[bt]==null:(0,g.default)(ht.format[bt],et.format[bt])}))return!1;return ht.prefix!=null&&!ht.prefix.test(et.prefix)||ht.suffix!=null&&!ht.suffix.test(et.suffix)?!1:ht.handler.call(ie,Ie,et)!==!0});nr&&de.preventDefault()}}}})}}]),Q}(D.default);X.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},X.DEFAULTS={bindings:{bold:ee("bold"),italic:ee("italic"),underline:ee("underline"),indent:{key:X.keys.TAB,format:["blockquote","indent","list"],handler:function(Q,te){if(te.collapsed&&te.offset!==0)return!0;this.quill.format("indent","+1",j.default.sources.USER)}},outdent:{key:X.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Q,te){if(te.collapsed&&te.offset!==0)return!0;this.quill.format("indent","-1",j.default.sources.USER)}},"outdent backspace":{key:X.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Q,te){te.format.indent!=null?this.quill.format("indent","-1",j.default.sources.USER):te.format.list!=null&&this.quill.format("list",!1,j.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:X.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Q){this.quill.deleteText(Q.index-1,1,j.default.sources.USER)}},tab:{key:X.keys.TAB,handler:function(Q){this.quill.history.cutoff();var te=new b.default().retain(Q.index).delete(Q.length).insert("	");this.quill.updateContents(te,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index+1,j.default.sources.SILENT)}},"list empty enter":{key:X.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Q,te){this.quill.format("list",!1,j.default.sources.USER),te.format.indent&&this.quill.format("indent",!1,j.default.sources.USER)}},"checklist enter":{key:X.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Q){var te=this.quill.getLine(Q.index),ie=u(te,2),de=ie[0],ge=ie[1],De=(0,v.default)({},de.formats(),{list:"checked"}),Ie=new b.default().retain(Q.index).insert(`
`,De).retain(de.length()-ge-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ie,j.default.sources.USER),this.quill.setSelection(Q.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:X.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Q,te){var ie=this.quill.getLine(Q.index),de=u(ie,2),ge=de[0],De=de[1],Ie=new b.default().retain(Q.index).insert(`
`,te.format).retain(ge.length()-De-1).retain(1,{header:null});this.quill.updateContents(Ie,j.default.sources.USER),this.quill.setSelection(Q.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Q,te){var ie=te.prefix.length,de=this.quill.getLine(Q.index),ge=u(de,2),De=ge[0],Ie=ge[1];if(Ie>ie)return!0;var ke=void 0;switch(te.prefix.trim()){case"[]":case"[ ]":ke="unchecked";break;case"[x]":ke="checked";break;case"-":case"*":ke="bullet";break;default:ke="ordered"}this.quill.insertText(Q.index," ",j.default.sources.USER),this.quill.history.cutoff();var Re=new b.default().retain(Q.index-Ie).delete(ie+1).retain(De.length()-2-Ie).retain(1,{list:ke});this.quill.updateContents(Re,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index-ie,j.default.sources.SILENT)}},"code exit":{key:X.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Q){var te=this.quill.getLine(Q.index),ie=u(te,2),de=ie[0],ge=ie[1],De=new b.default().retain(Q.index+de.length()-ge-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(De,j.default.sources.USER)}},"embed left":re(X.keys.LEFT,!1),"embed left shift":re(X.keys.LEFT,!0),"embed right":re(X.keys.RIGHT,!1),"embed right shift":re(X.keys.RIGHT,!0)}};function re($,Q){var te,ie=$===X.keys.LEFT?"prefix":"suffix";return te={key:$,shiftKey:Q,altKey:null},k(te,ie,/^$/),k(te,"handler",function(ge){var De=ge.index;$===X.keys.RIGHT&&(De+=ge.length+1);var Ie=this.quill.getLeaf(De),ke=u(Ie,1),Re=ke[0];return Re instanceof L.default.Embed?($===X.keys.LEFT?Q?this.quill.setSelection(ge.index-1,ge.length+1,j.default.sources.USER):this.quill.setSelection(ge.index-1,j.default.sources.USER):Q?this.quill.setSelection(ge.index,ge.length+1,j.default.sources.USER):this.quill.setSelection(ge.index+ge.length+1,j.default.sources.USER),!1):!0}),te}function G($,Q){if(!($.index===0||this.quill.getLength()<=1)){var te=this.quill.getLine($.index),ie=u(te,1),de=ie[0],ge={};if(Q.offset===0){var De=this.quill.getLine($.index-1),Ie=u(De,1),ke=Ie[0];if(ke!=null&&ke.length()>1){var Re=de.formats(),Be=this.quill.getFormat($.index-1,1);ge=E.default.attributes.diff(Re,Be)||{}}}var tt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Q.prefix)?2:1;this.quill.deleteText($.index-tt,tt,j.default.sources.USER),Object.keys(ge).length>0&&this.quill.formatLine($.index-tt,tt,ge,j.default.sources.USER),this.quill.focus()}}function H($,Q){var te=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Q.suffix)?2:1;if(!($.index>=this.quill.getLength()-te)){var ie={},de=0,ge=this.quill.getLine($.index),De=u(ge,1),Ie=De[0];if(Q.offset>=Ie.length()-1){var ke=this.quill.getLine($.index+1),Re=u(ke,1),Be=Re[0];if(Be){var tt=Ie.formats(),ce=this.quill.getFormat($.index,1);ie=E.default.attributes.diff(tt,ce)||{},de=Be.length()}}this.quill.deleteText($.index,te,j.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine($.index+de-1,te,ie,j.default.sources.USER)}}function B($){var Q=this.quill.getLines($),te={};if(Q.length>1){var ie=Q[0].formats(),de=Q[Q.length-1].formats();te=E.default.attributes.diff(de,ie)||{}}this.quill.deleteText($,j.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine($.index,1,te,j.default.sources.USER),this.quill.setSelection($.index,j.default.sources.SILENT),this.quill.focus()}function V($,Q){var te=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var ie=Object.keys(Q.format).reduce(function(de,ge){return L.default.query(ge,L.default.Scope.BLOCK)&&!Array.isArray(Q.format[ge])&&(de[ge]=Q.format[ge]),de},{});this.quill.insertText($.index,`
`,ie,j.default.sources.USER),this.quill.setSelection($.index+1,j.default.sources.SILENT),this.quill.focus(),Object.keys(Q.format).forEach(function(de){ie[de]==null&&(Array.isArray(Q.format[de])||de!=="link"&&te.quill.format(de,Q.format[de],j.default.sources.USER))})}function z($){return{key:X.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(te){var ie=L.default.query("code-block"),de=te.index,ge=te.length,De=this.quill.scroll.descendant(ie,de),Ie=u(De,2),ke=Ie[0],Re=Ie[1];if(ke!=null){var Be=this.quill.getIndex(ke),tt=ke.newlineIndex(Re,!0)+1,ce=ke.newlineIndex(Be+Re+ge),fe=ke.domNode.textContent.slice(tt,ce).split(`
`);Re=0,fe.forEach(function(Ee,xe){$?(ke.insertAt(tt+Re,ie.TAB),Re+=ie.TAB.length,xe===0?de+=ie.TAB.length:ge+=ie.TAB.length):Ee.startsWith(ie.TAB)&&(ke.deleteAt(tt+Re,ie.TAB.length),Re-=ie.TAB.length,xe===0?de-=ie.TAB.length:ge-=ie.TAB.length),Re+=Ee.length+1}),this.quill.update(j.default.sources.USER),this.quill.setSelection(de,ge,j.default.sources.SILENT)}}}}function ee($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(te,ie){this.quill.format($,!ie.format[$],j.default.sources.USER)}}}function Z($){if(typeof $=="string"||typeof $=="number")return Z({key:$});if((typeof $>"u"?"undefined":a($))==="object"&&($=(0,f.default)($,!1)),typeof $.key=="string")if(X.keys[$.key.toUpperCase()]!=null)$.key=X.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[se]=$.shortKey,delete $.shortKey),$}n.default=X,n.SHORTKEY=se},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function E(T,L){var x=[],j=!0,q=!1,R=void 0;try{for(var w=T[Symbol.iterator](),D;!(j=(D=w.next()).done)&&(x.push(D.value),!(L&&x.length===L));j=!0);}catch(I){q=!0,R=I}finally{try{!j&&w.return&&w.return()}finally{if(q)throw R}}return x}return function(T,L){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return E(T,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function E(T,L,x){T===null&&(T=Function.prototype);var j=Object.getOwnPropertyDescriptor(T,L);if(j===void 0){var q=Object.getPrototypeOf(T);return q===null?void 0:E(q,L,x)}else{if("value"in j)return j.value;var R=j.get;return R===void 0?void 0:R.call(x)}},c=function(){function E(T,L){for(var x=0;x<L.length;x++){var j=L[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(T,j.key,j)}}return function(T,L,x){return L&&E(T.prototype,L),x&&E(T,x),T}}(),h=i(0),f=p(h),y=i(7),g=p(y);function p(E){return E&&E.__esModule?E:{default:E}}function v(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function A(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function b(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var C=function(E){b(T,E),c(T,null,[{key:"value",value:function(){}}]);function T(L,x){v(this,T);var j=A(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,L));return j.selection=x,j.textNode=document.createTextNode(T.CONTENTS),j.domNode.appendChild(j.textNode),j._length=0,j}return c(T,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,j){if(this._length!==0)return u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,x,j);for(var q=this,R=0;q!=null&&q.statics.scope!==f.default.Scope.BLOCK_BLOT;)R+=q.offset(q.parent),q=q.parent;q!=null&&(this._length=T.CONTENTS.length,q.optimize(),q.formatAt(R,T.CONTENTS.length,x,j),this._length=0)}},{key:"index",value:function(x,j){return x===this.textNode?0:u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"index",this).call(this,x,j)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,j=this.selection.getNativeRange(),q=void 0,R=void 0,w=void 0;if(j!=null&&j.start.node===x&&j.end.node===x){var D=[x,j.start.offset,j.end.offset];q=D[0],R=D[1],w=D[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==T.CONTENTS){var I=this.textNode.data.split(T.CONTENTS).join("");this.next instanceof g.default?(q=this.next.domNode,this.next.insertAt(0,I),this.textNode.data=T.CONTENTS):(this.textNode.data=I,this.parent.insertBefore(f.default.create(this.textNode),this),this.textNode=document.createTextNode(T.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),R!=null){var k=[R,w].map(function(N){return Math.max(0,Math.min(q.data.length,N-1))}),P=a(k,2);return R=P[0],w=P[1],{startNode:q,startOffset:R,endNode:q,endOffset:w}}}}},{key:"update",value:function(x,j){var q=this;if(x.some(function(w){return w.type==="characterData"&&w.target===q.textNode})){var R=this.restore();R&&(j.range=R)}}},{key:"value",value:function(){return""}}]),T}(f.default.Embed);C.blotName="cursor",C.className="ql-cursor",C.tagName="span",C.CONTENTS="\uFEFF",n.default=C},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),u=f(a),c=i(4),h=f(c);function f(A){return A&&A.__esModule?A:{default:A}}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function g(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function p(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var v=function(A){p(b,A);function b(){return y(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return b}(u.default.Container);v.allowedChildren=[h.default,c.BlockEmbed,v],n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function C(E,T){for(var L=0;L<T.length;L++){var x=T[L];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,T,L){return T&&C(E.prototype,T),L&&C(E,L),E}}(),u=function C(E,T,L){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,T);if(x===void 0){var j=Object.getPrototypeOf(E);return j===null?void 0:C(j,T,L)}else{if("value"in x)return x.value;var q=x.get;return q===void 0?void 0:q.call(L)}},c=i(0),h=f(c);function f(C){return C&&C.__esModule?C:{default:C}}function y(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function g(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function p(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var v=function(C){p(E,C);function E(){return y(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"value",value:function(L){var x=u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,L);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(j){return("00"+parseInt(j).toString(16)).slice(-2)}).join("")):x}}]),E}(h.default.Attributor.Style),A=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),b=new v("color","color",{scope:h.default.Scope.INLINE});n.ColorAttributor=v,n.ColorClass=A,n.ColorStyle=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function b(C,E){for(var T=0;T<E.length;T++){var L=E[T];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(C,L.key,L)}}return function(C,E,T){return E&&b(C.prototype,E),T&&b(C,T),C}}(),u=function b(C,E,T){C===null&&(C=Function.prototype);var L=Object.getOwnPropertyDescriptor(C,E);if(L===void 0){var x=Object.getPrototypeOf(C);return x===null?void 0:b(x,E,T)}else{if("value"in L)return L.value;var j=L.get;return j===void 0?void 0:j.call(T)}},c=i(6),h=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function y(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function g(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:b}function p(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}var v=function(b){p(C,b);function C(){return y(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return a(C,[{key:"format",value:function(T,L){if(T!==this.statics.blotName||!L)return u(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,T,L);L=this.constructor.sanitize(L),this.domNode.setAttribute("href",L)}}],[{key:"create",value:function(T){var L=u(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,T);return T=this.sanitize(T),L.setAttribute("href",T),L.setAttribute("rel","noopener noreferrer"),L.setAttribute("target","_blank"),L}},{key:"formats",value:function(T){return T.getAttribute("href")}},{key:"sanitize",value:function(T){return A(T,this.PROTOCOL_WHITELIST)?T:this.SANITIZED_URL}}]),C}(h.default);v.blotName="link",v.tagName="A",v.SANITIZED_URL="about:blank",v.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function A(b,C){var E=document.createElement("a");E.href=b;var T=E.href.slice(0,E.href.indexOf(":"));return C.indexOf(T)>-1}n.default=v,n.sanitize=A},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},u=function(){function C(E,T){for(var L=0;L<T.length;L++){var x=T[L];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,T,L){return T&&C(E.prototype,T),L&&C(E,L),E}}(),c=i(23),h=g(c),f=i(107),y=g(f);function g(C){return C&&C.__esModule?C:{default:C}}function p(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}var v=0;function A(C,E){C.setAttribute(E,C.getAttribute(E)!=="true")}var b=function(){function C(E){var T=this;p(this,C),this.select=E,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){T.togglePicker()}),this.label.addEventListener("keydown",function(L){switch(L.keyCode){case h.default.keys.ENTER:T.togglePicker();break;case h.default.keys.ESCAPE:T.escape(),L.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return u(C,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),A(this.label,"aria-expanded"),A(this.options,"aria-hidden")}},{key:"buildItem",value:function(T){var L=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),T.hasAttribute("value")&&x.setAttribute("data-value",T.getAttribute("value")),T.textContent&&x.setAttribute("data-label",T.textContent),x.addEventListener("click",function(){L.selectItem(x,!0)}),x.addEventListener("keydown",function(j){switch(j.keyCode){case h.default.keys.ENTER:L.selectItem(x,!0),j.preventDefault();break;case h.default.keys.ESCAPE:L.escape(),j.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var T=document.createElement("span");return T.classList.add("ql-picker-label"),T.innerHTML=y.default,T.tabIndex="0",T.setAttribute("role","button"),T.setAttribute("aria-expanded","false"),this.container.appendChild(T),T}},{key:"buildOptions",value:function(){var T=this,L=document.createElement("span");L.classList.add("ql-picker-options"),L.setAttribute("aria-hidden","true"),L.tabIndex="-1",L.id="ql-picker-options-"+v,v+=1,this.label.setAttribute("aria-controls",L.id),this.options=L,[].slice.call(this.select.options).forEach(function(x){var j=T.buildItem(x);L.appendChild(j),x.selected===!0&&T.selectItem(j)}),this.container.appendChild(L)}},{key:"buildPicker",value:function(){var T=this;[].slice.call(this.select.attributes).forEach(function(L){T.container.setAttribute(L.name,L.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var T=this;this.close(),setTimeout(function(){return T.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(T){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(T!==x&&(x!=null&&x.classList.remove("ql-selected"),T!=null&&(T.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(T.parentNode.children,T),T.hasAttribute("data-value")?this.label.setAttribute("data-value",T.getAttribute("data-value")):this.label.removeAttribute("data-value"),T.hasAttribute("data-label")?this.label.setAttribute("data-label",T.getAttribute("data-label")):this.label.removeAttribute("data-label"),L))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var j=document.createEvent("Event");j.initEvent("change",!0,!0),this.select.dispatchEvent(j)}this.close()}}},{key:"update",value:function(){var T=void 0;if(this.select.selectedIndex>-1){var L=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];T=this.select.options[this.select.selectedIndex],this.selectItem(L)}else this.selectItem(null);var x=T!=null&&T!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),C}();n.default=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),u=J(a),c=i(5),h=J(c),f=i(4),y=J(f),g=i(16),p=J(g),v=i(25),A=J(v),b=i(24),C=J(b),E=i(35),T=J(E),L=i(6),x=J(L),j=i(22),q=J(j),R=i(7),w=J(R),D=i(55),I=J(D),k=i(42),P=J(k),N=i(23),W=J(N);function J(se){return se&&se.__esModule?se:{default:se}}h.default.register({"blots/block":y.default,"blots/block/embed":f.BlockEmbed,"blots/break":p.default,"blots/container":A.default,"blots/cursor":C.default,"blots/embed":T.default,"blots/inline":x.default,"blots/scroll":q.default,"blots/text":w.default,"modules/clipboard":I.default,"modules/history":P.default,"modules/keyboard":W.default}),u.default.register(y.default,p.default,C.default,x.default,q.default,w.default),n.default=h.default},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),u=function(){function c(h){this.domNode=h,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(h){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var f;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),typeof h=="number"?f=document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?f=document.createElement(h):f=document.createElement(this.tagName[0])):f=document.createElement(this.tagName),this.className&&f.classList.add(this.className),f},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return a.create(h)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},c.prototype.deleteAt=function(h,f){var y=this.isolate(h,f);y.remove()},c.prototype.formatAt=function(h,f,y,g){var p=this.isolate(h,f);if(a.query(y,a.Scope.BLOT)!=null&&g)p.wrap(y,g);else if(a.query(y,a.Scope.ATTRIBUTE)!=null){var v=a.create(this.statics.scope);p.wrap(v),v.format(y,g)}},c.prototype.insertAt=function(h,f,y){var g=y==null?a.create("text",f):a.create(f,y),p=this.split(h);this.parent.insertBefore(g,p)},c.prototype.insertInto=function(h,f){f===void 0&&(f=null),this.parent!=null&&this.parent.children.remove(this);var y=null;h.children.insertBefore(this,f),f!=null&&(y=f.domNode),(this.domNode.parentNode!=h.domNode||this.domNode.nextSibling!=y)&&h.domNode.insertBefore(this.domNode,y),this.parent=h,this.attach()},c.prototype.isolate=function(h,f){var y=this.split(h);return y.split(f),y},c.prototype.length=function(){return 1},c.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},c.prototype.optimize=function(h){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},c.prototype.replaceWith=function(h,f){var y=typeof h=="string"?a.create(h,f):h;return y.replace(this),y},c.prototype.split=function(h,f){return h===0?this:this.next},c.prototype.update=function(h,f){},c.prototype.wrap=function(h,f){var y=typeof h=="string"?a.create(h,f):h;return this.parent!=null&&this.parent.insertBefore(y,this.next),y.appendChild(this),y},c.blotName="abstract",c}();n.default=u},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),u=i(32),c=i(33),h=i(1),f=function(){function y(g){this.attributes={},this.domNode=g,this.build()}return y.prototype.attribute=function(g,p){p?g.add(this.domNode,p)&&(g.value(this.domNode)!=null?this.attributes[g.attrName]=g:delete this.attributes[g.attrName]):(g.remove(this.domNode),delete this.attributes[g.attrName])},y.prototype.build=function(){var g=this;this.attributes={};var p=a.default.keys(this.domNode),v=u.default.keys(this.domNode),A=c.default.keys(this.domNode);p.concat(v).concat(A).forEach(function(b){var C=h.query(b,h.Scope.ATTRIBUTE);C instanceof a.default&&(g.attributes[C.attrName]=C)})},y.prototype.copy=function(g){var p=this;Object.keys(this.attributes).forEach(function(v){var A=p.attributes[v].value(p.domNode);g.format(v,A)})},y.prototype.move=function(g){var p=this;this.copy(g),Object.keys(this.attributes).forEach(function(v){p.attributes[v].remove(p.domNode)}),this.attributes={}},y.prototype.values=function(){var g=this;return Object.keys(this.attributes).reduce(function(p,v){return p[v]=g.attributes[v].value(g.domNode),p},{})},y}();n.default=f},function(t,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){f(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(12);function c(f,y){var g=f.getAttribute("class")||"";return g.split(/\s+/).filter(function(p){return p.indexOf(y+"-")===0})}var h=function(f){a(y,f);function y(){return f!==null&&f.apply(this,arguments)||this}return y.keys=function(g){return(g.getAttribute("class")||"").split(/\s+/).map(function(p){return p.split("-").slice(0,-1).join("-")})},y.prototype.add=function(g,p){return this.canAdd(g,p)?(this.remove(g),g.classList.add(this.keyName+"-"+p),!0):!1},y.prototype.remove=function(g){var p=c(g,this.keyName);p.forEach(function(v){g.classList.remove(v)}),g.classList.length===0&&g.removeAttribute("class")},y.prototype.value=function(g){var p=c(g,this.keyName)[0]||"",v=p.slice(this.keyName.length+1);return this.canAdd(g,v)?v:""},y}(u.default);n.default=h},function(t,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){f(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(12);function c(f){var y=f.split("-"),g=y.slice(1).map(function(p){return p[0].toUpperCase()+p.slice(1)}).join("");return y[0]+g}var h=function(f){a(y,f);function y(){return f!==null&&f.apply(this,arguments)||this}return y.keys=function(g){return(g.getAttribute("style")||"").split(";").map(function(p){var v=p.split(":");return v[0].trim()})},y.prototype.add=function(g,p){return this.canAdd(g,p)?(g.style[c(this.keyName)]=p,!0):!1},y.prototype.remove=function(g){g.style[c(this.keyName)]="",g.getAttribute("style")||g.removeAttribute("style")},y.prototype.value=function(g){var p=g.style[c(this.keyName)];return this.canAdd(g,p)?p:""},y}(u.default);n.default=h},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(f,y){for(var g=0;g<y.length;g++){var p=y[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}return function(f,y,g){return y&&h(f.prototype,y),g&&h(f,g),f}}();function u(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}var c=function(){function h(f,y){u(this,h),this.quill=f,this.options=y,this.modules={}}return a(h,[{key:"init",value:function(){var y=this;Object.keys(this.options.modules).forEach(function(g){y.modules[g]==null&&y.addModule(g)})}},{key:"addModule",value:function(y){var g=this.quill.constructor.import("modules/"+y);return this.modules[y]=new g(this.quill,this.options.modules[y]||{}),this.modules[y]}}]),h}();c.DEFAULTS={modules:{}},c.themes={default:c},n.default=c},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function E(T,L){for(var x=0;x<L.length;x++){var j=L[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(T,j.key,j)}}return function(T,L,x){return L&&E(T.prototype,L),x&&E(T,x),T}}(),u=function E(T,L,x){T===null&&(T=Function.prototype);var j=Object.getOwnPropertyDescriptor(T,L);if(j===void 0){var q=Object.getPrototypeOf(T);return q===null?void 0:E(q,L,x)}else{if("value"in j)return j.value;var R=j.get;return R===void 0?void 0:R.call(x)}},c=i(0),h=g(c),f=i(7),y=g(f);function g(E){return E&&E.__esModule?E:{default:E}}function p(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function v(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function A(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var b="\uFEFF",C=function(E){A(T,E);function T(L){p(this,T);var x=v(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,L));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(j){x.contentNode.appendChild(j)}),x.leftGuard=document.createTextNode(b),x.rightGuard=document.createTextNode(b),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return a(T,[{key:"index",value:function(x,j){return x===this.leftGuard?0:x===this.rightGuard?1:u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"index",this).call(this,x,j)}},{key:"restore",value:function(x){var j=void 0,q=void 0,R=x.data.split(b).join("");if(x===this.leftGuard)if(this.prev instanceof y.default){var w=this.prev.length();this.prev.insertAt(w,R),j={startNode:this.prev.domNode,startOffset:w+R.length}}else q=document.createTextNode(R),this.parent.insertBefore(h.default.create(q),this),j={startNode:q,startOffset:R.length};else x===this.rightGuard&&(this.next instanceof y.default?(this.next.insertAt(0,R),j={startNode:this.next.domNode,startOffset:R.length}):(q=document.createTextNode(R),this.parent.insertBefore(h.default.create(q),this.next),j={startNode:q,startOffset:R.length}));return x.data=b,j}},{key:"update",value:function(x,j){var q=this;x.forEach(function(R){if(R.type==="characterData"&&(R.target===q.leftGuard||R.target===q.rightGuard)){var w=q.restore(R.target);w&&(j.range=w)}})}}]),T}(h.default.Embed);n.default=C},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}var h={scope:u.default.Scope.BLOCK,whitelist:["right","center","justify"]},f=new u.default.Attributor.Attribute("align","align",h),y=new u.default.Attributor.Class("align","ql-align",h),g=new u.default.Attributor.Style("align","text-align",h);n.AlignAttribute=f,n.AlignClass=y,n.AlignStyle=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),u=h(a),c=i(26);function h(g){return g&&g.__esModule?g:{default:g}}var f=new u.default.Attributor.Class("background","ql-bg",{scope:u.default.Scope.INLINE}),y=new c.ColorAttributor("background","background-color",{scope:u.default.Scope.INLINE});n.BackgroundClass=f,n.BackgroundStyle=y},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}var h={scope:u.default.Scope.BLOCK,whitelist:["rtl"]},f=new u.default.Attributor.Attribute("direction","dir",h),y=new u.default.Attributor.Class("direction","ql-direction",h),g=new u.default.Attributor.Style("direction","direction",h);n.DirectionAttribute=f,n.DirectionClass=y,n.DirectionStyle=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function E(T,L){for(var x=0;x<L.length;x++){var j=L[x];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(T,j.key,j)}}return function(T,L,x){return L&&E(T.prototype,L),x&&E(T,x),T}}(),u=function E(T,L,x){T===null&&(T=Function.prototype);var j=Object.getOwnPropertyDescriptor(T,L);if(j===void 0){var q=Object.getPrototypeOf(T);return q===null?void 0:E(q,L,x)}else{if("value"in j)return j.value;var R=j.get;return R===void 0?void 0:R.call(x)}},c=i(0),h=f(c);function f(E){return E&&E.__esModule?E:{default:E}}function y(E,T){if(!(E instanceof T))throw new TypeError("Cannot call a class as a function")}function g(E,T){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:E}function p(E,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);E.prototype=Object.create(T&&T.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(E,T):E.__proto__=T)}var v={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},A=new h.default.Attributor.Class("font","ql-font",v),b=function(E){p(T,E);function T(){return y(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"value",value:function(x){return u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),T}(h.default.Attributor.Style),C=new b("font","font-family",v);n.FontStyle=C,n.FontClass=A},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),u=c(a);function c(y){return y&&y.__esModule?y:{default:y}}var h=new u.default.Attributor.Class("size","ql-size",{scope:u.default.Scope.INLINE,whitelist:["small","large","huge"]}),f=new u.default.Attributor.Style("size","font-size",{scope:u.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=h,n.SizeStyle=f},function(t,n,i){t.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function L(x,j){for(var q=0;q<j.length;q++){var R=j[q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(x,R.key,R)}}return function(x,j,q){return j&&L(x.prototype,j),q&&L(x,q),x}}(),u=i(0),c=p(u),h=i(5),f=p(h),y=i(9),g=p(y);function p(L){return L&&L.__esModule?L:{default:L}}function v(L,x){if(!(L instanceof x))throw new TypeError("Cannot call a class as a function")}function A(L,x){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:L}function b(L,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);L.prototype=Object.create(x&&x.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(L,x):L.__proto__=x)}var C=function(L){b(x,L);function x(j,q){v(this,x);var R=A(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,j,q));return R.lastRecorded=0,R.ignoreChange=!1,R.clear(),R.quill.on(f.default.events.EDITOR_CHANGE,function(w,D,I,k){w!==f.default.events.TEXT_CHANGE||R.ignoreChange||(!R.options.userOnly||k===f.default.sources.USER?R.record(D,I):R.transform(D))}),R.quill.keyboard.addBinding({key:"Z",shortKey:!0},R.undo.bind(R)),R.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},R.redo.bind(R)),/Win/i.test(navigator.platform)&&R.quill.keyboard.addBinding({key:"Y",shortKey:!0},R.redo.bind(R)),R}return a(x,[{key:"change",value:function(q,R){if(this.stack[q].length!==0){var w=this.stack[q].pop();this.stack[R].push(w),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(w[q],f.default.sources.USER),this.ignoreChange=!1;var D=T(w[q]);this.quill.setSelection(D)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(q,R){if(q.ops.length!==0){this.stack.redo=[];var w=this.quill.getContents().diff(R),D=Date.now();if(this.lastRecorded+this.options.delay>D&&this.stack.undo.length>0){var I=this.stack.undo.pop();w=w.compose(I.undo),q=I.redo.compose(q)}else this.lastRecorded=D;this.stack.undo.push({redo:q,undo:w}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(q){this.stack.undo.forEach(function(R){R.undo=q.transform(R.undo,!0),R.redo=q.transform(R.redo,!0)}),this.stack.redo.forEach(function(R){R.undo=q.transform(R.undo,!0),R.redo=q.transform(R.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(g.default);C.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function E(L){var x=L.ops[L.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(j){return c.default.query(j,c.default.Scope.BLOCK)!=null}):!1}function T(L){var x=L.reduce(function(q,R){return q+=R.delete||0,q},0),j=L.length()-x;return E(L)&&(j-=1),j}n.default=C,n.getLastChangeIndex=T},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function V(z,ee){for(var Z=0;Z<ee.length;Z++){var $=ee[Z];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(z,$.key,$)}}return function(z,ee,Z){return ee&&V(z.prototype,ee),Z&&V(z,Z),z}}(),u=function V(z,ee,Z){z===null&&(z=Function.prototype);var $=Object.getOwnPropertyDescriptor(z,ee);if($===void 0){var Q=Object.getPrototypeOf(z);return Q===null?void 0:V(Q,ee,Z)}else{if("value"in $)return $.value;var te=$.get;return te===void 0?void 0:te.call(Z)}},c=i(3),h=D(c),f=i(2),y=D(f),g=i(8),p=D(g),v=i(23),A=D(v),b=i(34),C=D(b),E=i(59),T=D(E),L=i(60),x=D(L),j=i(28),q=D(j),R=i(61),w=D(R);function D(V){return V&&V.__esModule?V:{default:V}}function I(V,z){if(!(V instanceof z))throw new TypeError("Cannot call a class as a function")}function k(V,z){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:V}function P(V,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);V.prototype=Object.create(z&&z.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(V,z):V.__proto__=z)}var N=[!1,"center","right","justify"],W=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],J=[!1,"serif","monospace"],se=["1","2","3",!1],X=["small",!1,"large","huge"],re=function(V){P(z,V);function z(ee,Z){I(this,z);var $=k(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,ee,Z)),Q=function te(ie){if(!document.body.contains(ee.root))return document.body.removeEventListener("click",te);$.tooltip!=null&&!$.tooltip.root.contains(ie.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(de){de.container.contains(ie.target)||de.close()})};return ee.emitter.listenDOM("click",document.body,Q),$}return a(z,[{key:"addModule",value:function(Z){var $=u(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,Z);return Z==="toolbar"&&this.extendToolbar($),$}},{key:"buildButtons",value:function(Z,$){Z.forEach(function(Q){var te=Q.getAttribute("class")||"";te.split(/\s+/).forEach(function(ie){if(ie.startsWith("ql-")&&(ie=ie.slice(3),$[ie]!=null))if(ie==="direction")Q.innerHTML=$[ie][""]+$[ie].rtl;else if(typeof $[ie]=="string")Q.innerHTML=$[ie];else{var de=Q.value||"";de!=null&&$[ie][de]&&(Q.innerHTML=$[ie][de])}})})}},{key:"buildPickers",value:function(Z,$){var Q=this;this.pickers=Z.map(function(ie){if(ie.classList.contains("ql-align"))return ie.querySelector("option")==null&&B(ie,N),new x.default(ie,$.align);if(ie.classList.contains("ql-background")||ie.classList.contains("ql-color")){var de=ie.classList.contains("ql-background")?"background":"color";return ie.querySelector("option")==null&&B(ie,W,de==="background"?"#ffffff":"#000000"),new T.default(ie,$[de])}else return ie.querySelector("option")==null&&(ie.classList.contains("ql-font")?B(ie,J):ie.classList.contains("ql-header")?B(ie,se):ie.classList.contains("ql-size")&&B(ie,X)),new q.default(ie)});var te=function(){Q.pickers.forEach(function(de){de.update()})};this.quill.on(p.default.events.EDITOR_CHANGE,te)}}]),z}(C.default);re.DEFAULTS=(0,h.default)(!0,{},C.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,ee=this.container.querySelector("input.ql-image[type=file]");ee==null&&(ee=document.createElement("input"),ee.setAttribute("type","file"),ee.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ee.classList.add("ql-image"),ee.addEventListener("change",function(){if(ee.files!=null&&ee.files[0]!=null){var Z=new FileReader;Z.onload=function($){var Q=z.quill.getSelection(!0);z.quill.updateContents(new y.default().retain(Q.index).delete(Q.length).insert({image:$.target.result}),p.default.sources.USER),z.quill.setSelection(Q.index+1,p.default.sources.SILENT),ee.value=""},Z.readAsDataURL(ee.files[0])}}),this.container.appendChild(ee)),ee.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var G=function(V){P(z,V);function z(ee,Z){I(this,z);var $=k(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,ee,Z));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return a(z,[{key:"listen",value:function(){var Z=this;this.textbox.addEventListener("keydown",function($){A.default.match($,"enter")?(Z.save(),$.preventDefault()):A.default.match($,"escape")&&(Z.cancel(),$.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$!=null?this.textbox.value=$:Z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Z)||""),this.root.setAttribute("data-mode",Z)}},{key:"restoreFocus",value:function(){var Z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Z}},{key:"save",value:function(){var Z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var $=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Z,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Z,p.default.sources.USER)),this.quill.root.scrollTop=$;break}case"video":Z=H(Z);case"formula":{if(!Z)break;var Q=this.quill.getSelection(!0);if(Q!=null){var te=Q.index+Q.length;this.quill.insertEmbed(te,this.root.getAttribute("data-mode"),Z,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(te+1," ",p.default.sources.USER),this.quill.setSelection(te+2,p.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z}(w.default);function H(V){var z=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":V}function B(V,z){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(Z){var $=document.createElement("option");Z===ee?$.setAttribute("selected","selected"):$.setAttribute("value",Z),V.appendChild($)})}n.BaseTooltip=G,n.default=re},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function u(){this.head=this.tail=null,this.length=0}return u.prototype.append=function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},u.prototype.contains=function(c){for(var h,f=this.iterator();h=f();)if(h===c)return!0;return!1},u.prototype.insertBefore=function(c,h){c&&(c.next=h,h!=null?(c.prev=h.prev,h.prev!=null&&(h.prev.next=c),h.prev=c,h===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},u.prototype.offset=function(c){for(var h=0,f=this.head;f!=null;){if(f===c)return h;h+=f.length(),f=f.next}return-1},u.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},u.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var h=c;return c!=null&&(c=c.next),h}},u.prototype.find=function(c,h){h===void 0&&(h=!1);for(var f,y=this.iterator();f=y();){var g=f.length();if(c<g||h&&c===g&&(f.next==null||f.next.length()!==0))return[f,c];c-=g}return[null,0]},u.prototype.forEach=function(c){for(var h,f=this.iterator();h=f();)c(h)},u.prototype.forEachAt=function(c,h,f){if(!(h<=0))for(var y=this.find(c),g=y[0],p=y[1],v,A=c-p,b=this.iterator(g);(v=b())&&A<c+h;){var C=v.length();c>A?f(v,c-A,Math.min(h,A+C-c)):f(v,0,Math.min(C,c+h-A)),A+=C}},u.prototype.map=function(c){return this.reduce(function(h,f){return h.push(c(f)),h},[])},u.prototype.reduce=function(c,h){for(var f,y=this.iterator();f=y();)h=c(h,f);return h},u}();n.default=a},function(t,n,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var A in v)v.hasOwnProperty(A)&&(p[A]=v[A])};return function(p,v){g(p,v);function A(){this.constructor=p}p.prototype=v===null?Object.create(v):(A.prototype=v.prototype,new A)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(17),c=i(1),h={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},f=100,y=function(g){a(p,g);function p(v){var A=g.call(this,v)||this;return A.scroll=A,A.observer=new MutationObserver(function(b){A.update(b)}),A.observer.observe(A.domNode,h),A.attach(),A}return p.prototype.detach=function(){g.prototype.detach.call(this),this.observer.disconnect()},p.prototype.deleteAt=function(v,A){this.update(),v===0&&A===this.length()?this.children.forEach(function(b){b.remove()}):g.prototype.deleteAt.call(this,v,A)},p.prototype.formatAt=function(v,A,b,C){this.update(),g.prototype.formatAt.call(this,v,A,b,C)},p.prototype.insertAt=function(v,A,b){this.update(),g.prototype.insertAt.call(this,v,A,b)},p.prototype.optimize=function(v,A){var b=this;v===void 0&&(v=[]),A===void 0&&(A={}),g.prototype.optimize.call(this,A);for(var C=[].slice.call(this.observer.takeRecords());C.length>0;)v.push(C.pop());for(var E=function(j,q){q===void 0&&(q=!0),!(j==null||j===b)&&j.domNode.parentNode!=null&&(j.domNode[c.DATA_KEY].mutations==null&&(j.domNode[c.DATA_KEY].mutations=[]),q&&E(j.parent))},T=function(j){j.domNode[c.DATA_KEY]==null||j.domNode[c.DATA_KEY].mutations==null||(j instanceof u.default&&j.children.forEach(T),j.optimize(A))},L=v,x=0;L.length>0;x+=1){if(x>=f)throw new Error("[Parchment] Maximum optimize iterations reached");for(L.forEach(function(j){var q=c.find(j.target,!0);q!=null&&(q.domNode===j.target&&(j.type==="childList"?(E(c.find(j.previousSibling,!1)),[].forEach.call(j.addedNodes,function(R){var w=c.find(R,!1);E(w,!1),w instanceof u.default&&w.children.forEach(function(D){E(D,!1)})})):j.type==="attributes"&&E(q.prev)),E(q))}),this.children.forEach(T),L=[].slice.call(this.observer.takeRecords()),C=L.slice();C.length>0;)v.push(C.pop())}},p.prototype.update=function(v,A){var b=this;A===void 0&&(A={}),v=v||this.observer.takeRecords(),v.map(function(C){var E=c.find(C.target,!0);return E==null?null:E.domNode[c.DATA_KEY].mutations==null?(E.domNode[c.DATA_KEY].mutations=[C],E):(E.domNode[c.DATA_KEY].mutations.push(C),null)}).forEach(function(C){C==null||C===b||C.domNode[c.DATA_KEY]==null||C.update(C.domNode[c.DATA_KEY].mutations||[],A)}),this.domNode[c.DATA_KEY].mutations!=null&&g.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,A),this.optimize(v,A)},p.blotName="scroll",p.defaultChild="block",p.scope=c.Scope.BLOCK_BLOT,p.tagName="DIV",p}(u.default);n.default=y},function(t,n,i){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var v in p)p.hasOwnProperty(v)&&(g[v]=p[v])};return function(g,p){y(g,p);function v(){this.constructor=g}g.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(18),c=i(1);function h(y,g){if(Object.keys(y).length!==Object.keys(g).length)return!1;for(var p in y)if(y[p]!==g[p])return!1;return!0}var f=function(y){a(g,y);function g(){return y!==null&&y.apply(this,arguments)||this}return g.formats=function(p){if(p.tagName!==g.tagName)return y.formats.call(this,p)},g.prototype.format=function(p,v){var A=this;p===this.statics.blotName&&!v?(this.children.forEach(function(b){b instanceof u.default||(b=b.wrap(g.blotName,!0)),A.attributes.copy(b)}),this.unwrap()):y.prototype.format.call(this,p,v)},g.prototype.formatAt=function(p,v,A,b){if(this.formats()[A]!=null||c.query(A,c.Scope.ATTRIBUTE)){var C=this.isolate(p,v);C.format(A,b)}else y.prototype.formatAt.call(this,p,v,A,b)},g.prototype.optimize=function(p){y.prototype.optimize.call(this,p);var v=this.formats();if(Object.keys(v).length===0)return this.unwrap();var A=this.next;A instanceof g&&A.prev===this&&h(v,A.formats())&&(A.moveChildren(this),A.remove())},g.blotName="inline",g.scope=c.Scope.INLINE_BLOT,g.tagName="SPAN",g}(u.default);n.default=f},function(t,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){f(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(18),c=i(1),h=function(f){a(y,f);function y(){return f!==null&&f.apply(this,arguments)||this}return y.formats=function(g){var p=c.query(y.blotName).tagName;if(g.tagName!==p)return f.formats.call(this,g)},y.prototype.format=function(g,p){c.query(g,c.Scope.BLOCK)!=null&&(g===this.statics.blotName&&!p?this.replaceWith(y.blotName):f.prototype.format.call(this,g,p))},y.prototype.formatAt=function(g,p,v,A){c.query(v,c.Scope.BLOCK)!=null?this.format(v,A):f.prototype.formatAt.call(this,g,p,v,A)},y.prototype.insertAt=function(g,p,v){if(v==null||c.query(p,c.Scope.INLINE)!=null)f.prototype.insertAt.call(this,g,p,v);else{var A=this.split(g),b=c.create(p,v);A.parent.insertBefore(b,A)}},y.prototype.update=function(g,p){navigator.userAgent.match(/Trident/)?this.build():f.prototype.update.call(this,g,p)},y.blotName="block",y.scope=c.Scope.BLOCK_BLOT,y.tagName="P",y}(u.default);n.default=h},function(t,n,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,y){f.__proto__=y}||function(f,y){for(var g in y)y.hasOwnProperty(g)&&(f[g]=y[g])};return function(f,y){h(f,y);function g(){this.constructor=f}f.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(19),c=function(h){a(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.formats=function(y){},f.prototype.format=function(y,g){h.prototype.formatAt.call(this,0,this.length(),y,g)},f.prototype.formatAt=function(y,g,p,v){y===0&&g===this.length()?this.format(p,v):h.prototype.formatAt.call(this,y,g,p,v)},f.prototype.formats=function(){return this.statics.formats(this.domNode)},f}(u.default);n.default=c},function(t,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){f(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(19),c=i(1),h=function(f){a(y,f);function y(g){var p=f.call(this,g)||this;return p.text=p.statics.value(p.domNode),p}return y.create=function(g){return document.createTextNode(g)},y.value=function(g){var p=g.data;return p.normalize&&(p=p.normalize()),p},y.prototype.deleteAt=function(g,p){this.domNode.data=this.text=this.text.slice(0,g)+this.text.slice(g+p)},y.prototype.index=function(g,p){return this.domNode===g?p:-1},y.prototype.insertAt=function(g,p,v){v==null?(this.text=this.text.slice(0,g)+p+this.text.slice(g),this.domNode.data=this.text):f.prototype.insertAt.call(this,g,p,v)},y.prototype.length=function(){return this.text.length},y.prototype.optimize=function(g){f.prototype.optimize.call(this,g),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof y&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},y.prototype.position=function(g,p){return[this.domNode,g]},y.prototype.split=function(g,p){if(p===void 0&&(p=!1),!p){if(g===0)return this;if(g===this.length())return this.next}var v=c.create(this.domNode.splitText(g));return this.parent.insertBefore(v,this.next),this.text=this.statics.value(this.domNode),v},y.prototype.update=function(g,p){var v=this;g.some(function(A){return A.type==="characterData"&&A.target===v.domNode})&&(this.text=this.statics.value(this.domNode))},y.prototype.value=function(){return this.text},y.blotName="text",y.scope=c.Scope.INLINE_BLOT,y}(u.default);n.default=h},function(t,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,h){return arguments.length>1&&!this.contains(c)==!h?h:u.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,h){return h=h||0,this.substr(h,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,h){var f=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>f.length)&&(h=f.length),h-=c.length;var y=f.indexOf(c,h);return y!==-1&&y===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(h){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof h!="function")throw new TypeError("predicate must be a function");for(var f=Object(this),y=f.length>>>0,g=arguments[1],p,v=0;v<y;v++)if(p=f[v],h.call(g,p,v,f))return p}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,n){var i=-1,a=1,u=0;function c(x,j,q){if(x==j)return x?[[u,x]]:[];(q<0||x.length<q)&&(q=null);var R=g(x,j),w=x.substring(0,R);x=x.substring(R),j=j.substring(R),R=p(x,j);var D=x.substring(x.length-R);x=x.substring(0,x.length-R),j=j.substring(0,j.length-R);var I=h(x,j);return w&&I.unshift([u,w]),D&&I.push([u,D]),A(I),q!=null&&(I=E(I,q)),I=T(I),I}function h(x,j){var q;if(!x)return[[a,j]];if(!j)return[[i,x]];var R=x.length>j.length?x:j,w=x.length>j.length?j:x,D=R.indexOf(w);if(D!=-1)return q=[[a,R.substring(0,D)],[u,w],[a,R.substring(D+w.length)]],x.length>j.length&&(q[0][0]=q[2][0]=i),q;if(w.length==1)return[[i,x],[a,j]];var I=v(x,j);if(I){var k=I[0],P=I[1],N=I[2],W=I[3],J=I[4],se=c(k,N),X=c(P,W);return se.concat([[u,J]],X)}return f(x,j)}function f(x,j){for(var q=x.length,R=j.length,w=Math.ceil((q+R)/2),D=w,I=2*w,k=new Array(I),P=new Array(I),N=0;N<I;N++)k[N]=-1,P[N]=-1;k[D+1]=0,P[D+1]=0;for(var W=q-R,J=W%2!=0,se=0,X=0,re=0,G=0,H=0;H<w;H++){for(var B=-H+se;B<=H-X;B+=2){var V=D+B,z;B==-H||B!=H&&k[V-1]<k[V+1]?z=k[V+1]:z=k[V-1]+1;for(var ee=z-B;z<q&&ee<R&&x.charAt(z)==j.charAt(ee);)z++,ee++;if(k[V]=z,z>q)X+=2;else if(ee>R)se+=2;else if(J){var Z=D+W-B;if(Z>=0&&Z<I&&P[Z]!=-1){var $=q-P[Z];if(z>=$)return y(x,j,z,ee)}}}for(var Q=-H+re;Q<=H-G;Q+=2){var Z=D+Q,$;Q==-H||Q!=H&&P[Z-1]<P[Z+1]?$=P[Z+1]:$=P[Z-1]+1;for(var te=$-Q;$<q&&te<R&&x.charAt(q-$-1)==j.charAt(R-te-1);)$++,te++;if(P[Z]=$,$>q)G+=2;else if(te>R)re+=2;else if(!J){var V=D+W-Q;if(V>=0&&V<I&&k[V]!=-1){var z=k[V],ee=D+z-V;if($=q-$,z>=$)return y(x,j,z,ee)}}}}return[[i,x],[a,j]]}function y(x,j,q,R){var w=x.substring(0,q),D=j.substring(0,R),I=x.substring(q),k=j.substring(R),P=c(w,D),N=c(I,k);return P.concat(N)}function g(x,j){if(!x||!j||x.charAt(0)!=j.charAt(0))return 0;for(var q=0,R=Math.min(x.length,j.length),w=R,D=0;q<w;)x.substring(D,w)==j.substring(D,w)?(q=w,D=q):R=w,w=Math.floor((R-q)/2+q);return w}function p(x,j){if(!x||!j||x.charAt(x.length-1)!=j.charAt(j.length-1))return 0;for(var q=0,R=Math.min(x.length,j.length),w=R,D=0;q<w;)x.substring(x.length-w,x.length-D)==j.substring(j.length-w,j.length-D)?(q=w,D=q):R=w,w=Math.floor((R-q)/2+q);return w}function v(x,j){var q=x.length>j.length?x:j,R=x.length>j.length?j:x;if(q.length<4||R.length*2<q.length)return null;function w(X,re,G){for(var H=X.substring(G,G+Math.floor(X.length/4)),B=-1,V="",z,ee,Z,$;(B=re.indexOf(H,B+1))!=-1;){var Q=g(X.substring(G),re.substring(B)),te=p(X.substring(0,G),re.substring(0,B));V.length<te+Q&&(V=re.substring(B-te,B)+re.substring(B,B+Q),z=X.substring(0,G-te),ee=X.substring(G+Q),Z=re.substring(0,B-te),$=re.substring(B+Q))}return V.length*2>=X.length?[z,ee,Z,$,V]:null}var D=w(q,R,Math.ceil(q.length/4)),I=w(q,R,Math.ceil(q.length/2)),k;if(!D&&!I)return null;I?D?k=D[4].length>I[4].length?D:I:k=I:k=D;var P,N,W,J;x.length>j.length?(P=k[0],N=k[1],W=k[2],J=k[3]):(W=k[0],J=k[1],P=k[2],N=k[3]);var se=k[4];return[P,N,W,J,se]}function A(x){x.push([u,""]);for(var j=0,q=0,R=0,w="",D="",I;j<x.length;)switch(x[j][0]){case a:R++,D+=x[j][1],j++;break;case i:q++,w+=x[j][1],j++;break;case u:q+R>1?(q!==0&&R!==0&&(I=g(D,w),I!==0&&(j-q-R>0&&x[j-q-R-1][0]==u?x[j-q-R-1][1]+=D.substring(0,I):(x.splice(0,0,[u,D.substring(0,I)]),j++),D=D.substring(I),w=w.substring(I)),I=p(D,w),I!==0&&(x[j][1]=D.substring(D.length-I)+x[j][1],D=D.substring(0,D.length-I),w=w.substring(0,w.length-I))),q===0?x.splice(j-R,q+R,[a,D]):R===0?x.splice(j-q,q+R,[i,w]):x.splice(j-q-R,q+R,[i,w],[a,D]),j=j-q-R+(q?1:0)+(R?1:0)+1):j!==0&&x[j-1][0]==u?(x[j-1][1]+=x[j][1],x.splice(j,1)):j++,R=0,q=0,w="",D="";break}x[x.length-1][1]===""&&x.pop();var k=!1;for(j=1;j<x.length-1;)x[j-1][0]==u&&x[j+1][0]==u&&(x[j][1].substring(x[j][1].length-x[j-1][1].length)==x[j-1][1]?(x[j][1]=x[j-1][1]+x[j][1].substring(0,x[j][1].length-x[j-1][1].length),x[j+1][1]=x[j-1][1]+x[j+1][1],x.splice(j-1,1),k=!0):x[j][1].substring(0,x[j+1][1].length)==x[j+1][1]&&(x[j-1][1]+=x[j+1][1],x[j][1]=x[j][1].substring(x[j+1][1].length)+x[j+1][1],x.splice(j+1,1),k=!0)),j++;k&&A(x)}var b=c;b.INSERT=a,b.DELETE=i,b.EQUAL=u,t.exports=b;function C(x,j){if(j===0)return[u,x];for(var q=0,R=0;R<x.length;R++){var w=x[R];if(w[0]===i||w[0]===u){var D=q+w[1].length;if(j===D)return[R+1,x];if(j<D){x=x.slice();var I=j-q,k=[w[0],w[1].slice(0,I)],P=[w[0],w[1].slice(I)];return x.splice(R,1,k,P),[R+1,x]}else q=D}}throw new Error("cursor_pos is out of bounds!")}function E(x,j){var q=C(x,j),R=q[1],w=q[0],D=R[w],I=R[w+1];if(D==null)return x;if(D[0]!==u)return x;if(I!=null&&D[1]+I[1]===I[1]+D[1])return R.splice(w,2,I,D),L(R,w,2);if(I!=null&&I[1].indexOf(D[1])===0){R.splice(w,2,[I[0],D[1]],[0,D[1]]);var k=I[1].slice(D[1].length);return k.length>0&&R.splice(w+2,0,[I[0],k]),L(R,w,3)}else return x}function T(x){for(var j=!1,q=function(I){return I.charCodeAt(0)>=56320&&I.charCodeAt(0)<=57343},R=function(I){return I.charCodeAt(I.length-1)>=55296&&I.charCodeAt(I.length-1)<=56319},w=2;w<x.length;w+=1)x[w-2][0]===u&&R(x[w-2][1])&&x[w-1][0]===i&&q(x[w-1][1])&&x[w][0]===a&&q(x[w][1])&&(j=!0,x[w-1][1]=x[w-2][1].slice(-1)+x[w-1][1],x[w][1]=x[w-2][1].slice(-1)+x[w][1],x[w-2][1]=x[w-2][1].slice(0,-1));if(!j)return x;for(var D=[],w=0;w<x.length;w+=1)x[w][1].length>0&&D.push(x[w]);return D}function L(x,j,q){for(var R=j+q-1;R>=0&&R>=j-1;R--)if(R+1<x.length){var w=x[R],D=x[R+1];w[0]===D[1]&&x.splice(R,2,[w[0],w[1]+D[1]])}return x}},function(t,n){n=t.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var u=[];for(var c in a)u.push(c);return u}},function(t,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=t.exports=i?a:u,n.supported=a;function a(c){return Object.prototype.toString.call(c)=="[object Arguments]"}n.unsupported=u;function u(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(t,n){var i=Object.prototype.hasOwnProperty,a="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(a=!1));function c(f,y,g){this.fn=f,this.context=y,this.once=g||!1}function h(){this._events=new u,this._eventsCount=0}h.prototype.eventNames=function(){var y=[],g,p;if(this._eventsCount===0)return y;for(p in g=this._events)i.call(g,p)&&y.push(a?p.slice(1):p);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(g)):y},h.prototype.listeners=function(y,g){var p=a?a+y:y,v=this._events[p];if(g)return!!v;if(!v)return[];if(v.fn)return[v.fn];for(var A=0,b=v.length,C=new Array(b);A<b;A++)C[A]=v[A].fn;return C},h.prototype.emit=function(y,g,p,v,A,b){var C=a?a+y:y;if(!this._events[C])return!1;var E=this._events[C],T=arguments.length,L,x;if(E.fn){switch(E.once&&this.removeListener(y,E.fn,void 0,!0),T){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,g),!0;case 3:return E.fn.call(E.context,g,p),!0;case 4:return E.fn.call(E.context,g,p,v),!0;case 5:return E.fn.call(E.context,g,p,v,A),!0;case 6:return E.fn.call(E.context,g,p,v,A,b),!0}for(x=1,L=new Array(T-1);x<T;x++)L[x-1]=arguments[x];E.fn.apply(E.context,L)}else{var j=E.length,q;for(x=0;x<j;x++)switch(E[x].once&&this.removeListener(y,E[x].fn,void 0,!0),T){case 1:E[x].fn.call(E[x].context);break;case 2:E[x].fn.call(E[x].context,g);break;case 3:E[x].fn.call(E[x].context,g,p);break;case 4:E[x].fn.call(E[x].context,g,p,v);break;default:if(!L)for(q=1,L=new Array(T-1);q<T;q++)L[q-1]=arguments[q];E[x].fn.apply(E[x].context,L)}}return!0},h.prototype.on=function(y,g,p){var v=new c(g,p||this),A=a?a+y:y;return this._events[A]?this._events[A].fn?this._events[A]=[this._events[A],v]:this._events[A].push(v):(this._events[A]=v,this._eventsCount++),this},h.prototype.once=function(y,g,p){var v=new c(g,p||this,!0),A=a?a+y:y;return this._events[A]?this._events[A].fn?this._events[A]=[this._events[A],v]:this._events[A].push(v):(this._events[A]=v,this._eventsCount++),this},h.prototype.removeListener=function(y,g,p,v){var A=a?a+y:y;if(!this._events[A])return this;if(!g)return--this._eventsCount===0?this._events=new u:delete this._events[A],this;var b=this._events[A];if(b.fn)b.fn===g&&(!v||b.once)&&(!p||b.context===p)&&(--this._eventsCount===0?this._events=new u:delete this._events[A]);else{for(var C=0,E=[],T=b.length;C<T;C++)(b[C].fn!==g||v&&!b[C].once||p&&b[C].context!==p)&&E.push(b[C]);E.length?this._events[A]=E.length===1?E[0]:E:--this._eventsCount===0?this._events=new u:delete this._events[A]}return this},h.prototype.removeAllListeners=function(y){var g;return y?(g=a?a+y:y,this._events[g]&&(--this._eventsCount===0?this._events=new u:delete this._events[g])):(this._events=new u,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=a,h.EventEmitter=h,typeof t<"u"&&(t.exports=h)},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},u=function(){function ce(fe,Ee){var xe=[],ye=!0,$e=!1,je=void 0;try{for(var Ve=fe[Symbol.iterator](),Ge;!(ye=(Ge=Ve.next()).done)&&(xe.push(Ge.value),!(Ee&&xe.length===Ee));ye=!0);}catch(Xe){$e=!0,je=Xe}finally{try{!ye&&Ve.return&&Ve.return()}finally{if($e)throw je}}return xe}return function(fe,Ee){if(Array.isArray(fe))return fe;if(Symbol.iterator in Object(fe))return ce(fe,Ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function ce(fe,Ee){for(var xe=0;xe<Ee.length;xe++){var ye=Ee[xe];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(fe,ye.key,ye)}}return function(fe,Ee,xe){return Ee&&ce(fe.prototype,Ee),xe&&ce(fe,xe),fe}}(),h=i(3),f=P(h),y=i(2),g=P(y),p=i(0),v=P(p),A=i(5),b=P(A),C=i(10),E=P(C),T=i(9),L=P(T),x=i(36),j=i(37),q=i(13),R=P(q),w=i(26),D=i(38),I=i(39),k=i(40);function P(ce){return ce&&ce.__esModule?ce:{default:ce}}function N(ce,fe,Ee){return fe in ce?Object.defineProperty(ce,fe,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):ce[fe]=Ee,ce}function W(ce,fe){if(!(ce instanceof fe))throw new TypeError("Cannot call a class as a function")}function J(ce,fe){if(!ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return fe&&(typeof fe=="object"||typeof fe=="function")?fe:ce}function se(ce,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);ce.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,fe):ce.__proto__=fe)}var X=(0,E.default)("quill:clipboard"),re="__ql-matcher",G=[[Node.TEXT_NODE,tt],[Node.TEXT_NODE,ke],["br",ge],[Node.ELEMENT_NODE,ke],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,Re],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,Be],["li",Ie],["b",te.bind(te,"bold")],["i",te.bind(te,"italic")],["style",De]],H=[x.AlignAttribute,D.DirectionAttribute].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),B=[x.AlignStyle,j.BackgroundStyle,w.ColorStyle,D.DirectionStyle,I.FontStyle,k.SizeStyle].reduce(function(ce,fe){return ce[fe.keyName]=fe,ce},{}),V=function(ce){se(fe,ce);function fe(Ee,xe){W(this,fe);var ye=J(this,(fe.__proto__||Object.getPrototypeOf(fe)).call(this,Ee,xe));return ye.quill.root.addEventListener("paste",ye.onPaste.bind(ye)),ye.container=ye.quill.addContainer("ql-clipboard"),ye.container.setAttribute("contenteditable",!0),ye.container.setAttribute("tabindex",-1),ye.matchers=[],G.concat(ye.options.matchers).forEach(function($e){var je=u($e,2),Ve=je[0],Ge=je[1];!xe.matchVisual&&Ge===Re||ye.addMatcher(Ve,Ge)}),ye}return c(fe,[{key:"addMatcher",value:function(xe,ye){this.matchers.push([xe,ye])}},{key:"convert",value:function(xe){if(typeof xe=="string")return this.container.innerHTML=xe.replace(/\>\r?\n +\</g,"><"),this.convert();var ye=this.quill.getFormat(this.quill.selection.savedRange.index);if(ye[R.default.blotName]){var $e=this.container.innerText;return this.container.innerHTML="",new g.default().insert($e,N({},R.default.blotName,ye[R.default.blotName]))}var je=this.prepareMatching(),Ve=u(je,2),Ge=Ve[0],Xe=Ve[1],et=Q(this.container,Ge,Xe);return Z(et,`
`)&&et.ops[et.ops.length-1].attributes==null&&(et=et.compose(new g.default().retain(et.length()-1).delete(1))),X.log("convert",this.container.innerHTML,et),this.container.innerHTML="",et}},{key:"dangerouslyPasteHTML",value:function(xe,ye){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof xe=="string")this.quill.setContents(this.convert(xe),ye),this.quill.setSelection(0,b.default.sources.SILENT);else{var je=this.convert(ye);this.quill.updateContents(new g.default().retain(xe).concat(je),$e),this.quill.setSelection(xe+je.length(),b.default.sources.SILENT)}}},{key:"onPaste",value:function(xe){var ye=this;if(!(xe.defaultPrevented||!this.quill.isEnabled())){var $e=this.quill.getSelection(),je=new g.default().retain($e.index),Ve=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(b.default.sources.SILENT),setTimeout(function(){je=je.concat(ye.convert()).delete($e.length),ye.quill.updateContents(je,b.default.sources.USER),ye.quill.setSelection(je.length()-$e.length,b.default.sources.SILENT),ye.quill.scrollingContainer.scrollTop=Ve,ye.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var xe=this,ye=[],$e=[];return this.matchers.forEach(function(je){var Ve=u(je,2),Ge=Ve[0],Xe=Ve[1];switch(Ge){case Node.TEXT_NODE:$e.push(Xe);break;case Node.ELEMENT_NODE:ye.push(Xe);break;default:[].forEach.call(xe.container.querySelectorAll(Ge),function(et){et[re]=et[re]||[],et[re].push(Xe)});break}}),[ye,$e]}}]),fe}(L.default);V.DEFAULTS={matchers:[],matchVisual:!0};function z(ce,fe,Ee){return(typeof fe>"u"?"undefined":a(fe))==="object"?Object.keys(fe).reduce(function(xe,ye){return z(xe,ye,fe[ye])},ce):ce.reduce(function(xe,ye){return ye.attributes&&ye.attributes[fe]?xe.push(ye):xe.insert(ye.insert,(0,f.default)({},N({},fe,Ee),ye.attributes))},new g.default)}function ee(ce){if(ce.nodeType!==Node.ELEMENT_NODE)return{};var fe="__ql-computed-style";return ce[fe]||(ce[fe]=window.getComputedStyle(ce))}function Z(ce,fe){for(var Ee="",xe=ce.ops.length-1;xe>=0&&Ee.length<fe.length;--xe){var ye=ce.ops[xe];if(typeof ye.insert!="string")break;Ee=ye.insert+Ee}return Ee.slice(-1*fe.length)===fe}function $(ce){if(ce.childNodes.length===0)return!1;var fe=ee(ce);return["block","list-item"].indexOf(fe.display)>-1}function Q(ce,fe,Ee){return ce.nodeType===ce.TEXT_NODE?Ee.reduce(function(xe,ye){return ye(ce,xe)},new g.default):ce.nodeType===ce.ELEMENT_NODE?[].reduce.call(ce.childNodes||[],function(xe,ye){var $e=Q(ye,fe,Ee);return ye.nodeType===ce.ELEMENT_NODE&&($e=fe.reduce(function(je,Ve){return Ve(ye,je)},$e),$e=(ye[re]||[]).reduce(function(je,Ve){return Ve(ye,je)},$e)),xe.concat($e)},new g.default):new g.default}function te(ce,fe,Ee){return z(Ee,ce,!0)}function ie(ce,fe){var Ee=v.default.Attributor.Attribute.keys(ce),xe=v.default.Attributor.Class.keys(ce),ye=v.default.Attributor.Style.keys(ce),$e={};return Ee.concat(xe).concat(ye).forEach(function(je){var Ve=v.default.query(je,v.default.Scope.ATTRIBUTE);Ve!=null&&($e[Ve.attrName]=Ve.value(ce),$e[Ve.attrName])||(Ve=H[je],Ve!=null&&(Ve.attrName===je||Ve.keyName===je)&&($e[Ve.attrName]=Ve.value(ce)||void 0),Ve=B[je],Ve!=null&&(Ve.attrName===je||Ve.keyName===je)&&(Ve=B[je],$e[Ve.attrName]=Ve.value(ce)||void 0))}),Object.keys($e).length>0&&(fe=z(fe,$e)),fe}function de(ce,fe){var Ee=v.default.query(ce);if(Ee==null)return fe;if(Ee.prototype instanceof v.default.Embed){var xe={},ye=Ee.value(ce);ye!=null&&(xe[Ee.blotName]=ye,fe=new g.default().insert(xe,Ee.formats(ce)))}else typeof Ee.formats=="function"&&(fe=z(fe,Ee.blotName,Ee.formats(ce)));return fe}function ge(ce,fe){return Z(fe,`
`)||fe.insert(`
`),fe}function De(){return new g.default}function Ie(ce,fe){var Ee=v.default.query(ce);if(Ee==null||Ee.blotName!=="list-item"||!Z(fe,`
`))return fe;for(var xe=-1,ye=ce.parentNode;!ye.classList.contains("ql-clipboard");)(v.default.query(ye)||{}).blotName==="list"&&(xe+=1),ye=ye.parentNode;return xe<=0?fe:fe.compose(new g.default().retain(fe.length()-1).retain(1,{indent:xe}))}function ke(ce,fe){return Z(fe,`
`)||($(ce)||fe.length()>0&&ce.nextSibling&&$(ce.nextSibling))&&fe.insert(`
`),fe}function Re(ce,fe){if($(ce)&&ce.nextElementSibling!=null&&!Z(fe,`

`)){var Ee=ce.offsetHeight+parseFloat(ee(ce).marginTop)+parseFloat(ee(ce).marginBottom);ce.nextElementSibling.offsetTop>ce.offsetTop+Ee*1.5&&fe.insert(`
`)}return fe}function Be(ce,fe){var Ee={},xe=ce.style||{};return xe.fontStyle&&ee(ce).fontStyle==="italic"&&(Ee.italic=!0),xe.fontWeight&&(ee(ce).fontWeight.startsWith("bold")||parseInt(ee(ce).fontWeight)>=700)&&(Ee.bold=!0),Object.keys(Ee).length>0&&(fe=z(fe,Ee)),parseFloat(xe.textIndent||0)>0&&(fe=new g.default().insert("	").concat(fe)),fe}function tt(ce,fe){var Ee=ce.data;if(ce.parentNode.tagName==="O:P")return fe.insert(Ee.trim());if(Ee.trim().length===0&&ce.parentNode.classList.contains("ql-clipboard"))return fe;if(!ee(ce.parentNode).whiteSpace.startsWith("pre")){var xe=function($e,je){return je=je.replace(/[^\u00a0]/g,""),je.length<1&&$e?" ":je};Ee=Ee.replace(/\r\n/g," ").replace(/\n/g," "),Ee=Ee.replace(/\s\s+/g,xe.bind(xe,!0)),(ce.previousSibling==null&&$(ce.parentNode)||ce.previousSibling!=null&&$(ce.previousSibling))&&(Ee=Ee.replace(/^\s+/,xe.bind(xe,!1))),(ce.nextSibling==null&&$(ce.parentNode)||ce.nextSibling!=null&&$(ce.nextSibling))&&(Ee=Ee.replace(/\s+$/,xe.bind(xe,!1)))}return fe.insert(Ee)}n.default=V,n.matchAttributor=ie,n.matchBlot=de,n.matchNewline=ke,n.matchSpacing=Re,n.matchText=tt},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(b,C){for(var E=0;E<C.length;E++){var T=C[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,C,E){return C&&A(b.prototype,C),E&&A(b,E),b}}(),u=function A(b,C,E){b===null&&(b=Function.prototype);var T=Object.getOwnPropertyDescriptor(b,C);if(T===void 0){var L=Object.getPrototypeOf(b);return L===null?void 0:A(L,C,E)}else{if("value"in T)return T.value;var x=T.get;return x===void 0?void 0:x.call(E)}},c=i(6),h=f(c);function f(A){return A&&A.__esModule?A:{default:A}}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function g(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function p(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var v=function(A){p(b,A);function b(){return y(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"optimize",value:function(E){u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,E),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return u(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),b}(h.default);v.blotName="bold",v.tagName=["STRONG","B"],n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function k(P,N){var W=[],J=!0,se=!1,X=void 0;try{for(var re=P[Symbol.iterator](),G;!(J=(G=re.next()).done)&&(W.push(G.value),!(N&&W.length===N));J=!0);}catch(H){se=!0,X=H}finally{try{!J&&re.return&&re.return()}finally{if(se)throw X}}return W}return function(P,N){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return k(P,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function k(P,N){for(var W=0;W<N.length;W++){var J=N[W];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(P,J.key,J)}}return function(P,N,W){return N&&k(P.prototype,N),W&&k(P,W),P}}(),c=i(2),h=E(c),f=i(0),y=E(f),g=i(5),p=E(g),v=i(10),A=E(v),b=i(9),C=E(b);function E(k){return k&&k.__esModule?k:{default:k}}function T(k,P,N){return P in k?Object.defineProperty(k,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):k[P]=N,k}function L(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}function x(k,P){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:k}function j(k,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);k.prototype=Object.create(P&&P.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(k,P):k.__proto__=P)}var q=(0,A.default)("quill:toolbar"),R=function(k){j(P,k);function P(N,W){L(this,P);var J=x(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,N,W));if(Array.isArray(J.options.container)){var se=document.createElement("div");D(se,J.options.container),N.container.parentNode.insertBefore(se,N.container),J.container=se}else typeof J.options.container=="string"?J.container=document.querySelector(J.options.container):J.container=J.options.container;if(!(J.container instanceof HTMLElement)){var X;return X=q.error("Container required for toolbar",J.options),x(J,X)}return J.container.classList.add("ql-toolbar"),J.controls=[],J.handlers={},Object.keys(J.options.handlers).forEach(function(re){J.addHandler(re,J.options.handlers[re])}),[].forEach.call(J.container.querySelectorAll("button, select"),function(re){J.attach(re)}),J.quill.on(p.default.events.EDITOR_CHANGE,function(re,G){re===p.default.events.SELECTION_CHANGE&&J.update(G)}),J.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var re=J.quill.selection.getRange(),G=a(re,1),H=G[0];J.update(H)}),J}return u(P,[{key:"addHandler",value:function(W,J){this.handlers[W]=J}},{key:"attach",value:function(W){var J=this,se=[].find.call(W.classList,function(re){return re.indexOf("ql-")===0});if(se){if(se=se.slice(3),W.tagName==="BUTTON"&&W.setAttribute("type","button"),this.handlers[se]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[se]==null){q.warn("ignoring attaching to disabled format",se,W);return}if(y.default.query(se)==null){q.warn("ignoring attaching to nonexistent format",se,W);return}}var X=W.tagName==="SELECT"?"change":"click";W.addEventListener(X,function(re){var G=void 0;if(W.tagName==="SELECT"){if(W.selectedIndex<0)return;var H=W.options[W.selectedIndex];H.hasAttribute("selected")?G=!1:G=H.value||!1}else W.classList.contains("ql-active")?G=!1:G=W.value||!W.hasAttribute("value"),re.preventDefault();J.quill.focus();var B=J.quill.selection.getRange(),V=a(B,1),z=V[0];if(J.handlers[se]!=null)J.handlers[se].call(J,G);else if(y.default.query(se).prototype instanceof y.default.Embed){if(G=prompt("Enter "+se),!G)return;J.quill.updateContents(new h.default().retain(z.index).delete(z.length).insert(T({},se,G)),p.default.sources.USER)}else J.quill.format(se,G,p.default.sources.USER);J.update(z)}),this.controls.push([se,W])}}},{key:"update",value:function(W){var J=W==null?{}:this.quill.getFormat(W);this.controls.forEach(function(se){var X=a(se,2),re=X[0],G=X[1];if(G.tagName==="SELECT"){var H=void 0;if(W==null)H=null;else if(J[re]==null)H=G.querySelector("option[selected]");else if(!Array.isArray(J[re])){var B=J[re];typeof B=="string"&&(B=B.replace(/\"/g,'\\"')),H=G.querySelector('option[value="'+B+'"]')}H==null?(G.value="",G.selectedIndex=-1):H.selected=!0}else if(W==null)G.classList.remove("ql-active");else if(G.hasAttribute("value")){var V=J[re]===G.getAttribute("value")||J[re]!=null&&J[re].toString()===G.getAttribute("value")||J[re]==null&&!G.getAttribute("value");G.classList.toggle("ql-active",V)}else G.classList.toggle("ql-active",J[re]!=null)})}}]),P}(C.default);R.DEFAULTS={};function w(k,P,N){var W=document.createElement("button");W.setAttribute("type","button"),W.classList.add("ql-"+P),N!=null&&(W.value=N),k.appendChild(W)}function D(k,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(N){var W=document.createElement("span");W.classList.add("ql-formats"),N.forEach(function(J){if(typeof J=="string")w(W,J);else{var se=Object.keys(J)[0],X=J[se];Array.isArray(X)?I(W,se,X):w(W,se,X)}}),k.appendChild(W)})}function I(k,P,N){var W=document.createElement("select");W.classList.add("ql-"+P),N.forEach(function(J){var se=document.createElement("option");J!==!1?se.setAttribute("value",J):se.setAttribute("selected","selected"),W.appendChild(se)}),k.appendChild(W)}R.DEFAULTS={container:null,handlers:{clean:function(){var P=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var W=this.quill.getFormat();Object.keys(W).forEach(function(J){y.default.query(J,y.default.Scope.INLINE)!=null&&P.quill.format(J,!1)})}else this.quill.removeFormat(N,p.default.sources.USER)},direction:function(P){var N=this.quill.getFormat().align;P==="rtl"&&N==null?this.quill.format("align","right",p.default.sources.USER):!P&&N==="right"&&this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",P,p.default.sources.USER)},indent:function(P){var N=this.quill.getSelection(),W=this.quill.getFormat(N),J=parseInt(W.indent||0);if(P==="+1"||P==="-1"){var se=P==="+1"?1:-1;W.direction==="rtl"&&(se*=-1),this.quill.format("indent",J+se,p.default.sources.USER)}},link:function(P){P===!0&&(P=prompt("Enter link URL:")),this.quill.format("link",P,p.default.sources.USER)},list:function(P){var N=this.quill.getSelection(),W=this.quill.getFormat(N);P==="check"?W.list==="checked"||W.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",P,p.default.sources.USER)}}},n.default=R,n.addControls=D},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(b,C){for(var E=0;E<C.length;E++){var T=C[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,C,E){return C&&A(b.prototype,C),E&&A(b,E),b}}(),u=function A(b,C,E){b===null&&(b=Function.prototype);var T=Object.getOwnPropertyDescriptor(b,C);if(T===void 0){var L=Object.getPrototypeOf(b);return L===null?void 0:A(L,C,E)}else{if("value"in T)return T.value;var x=T.get;return x===void 0?void 0:x.call(E)}},c=i(28),h=f(c);function f(A){return A&&A.__esModule?A:{default:A}}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function g(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function p(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var v=function(A){p(b,A);function b(C,E){y(this,b);var T=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,C));return T.label.innerHTML=E,T.container.classList.add("ql-color-picker"),[].slice.call(T.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(L){L.classList.add("ql-primary")}),T}return a(b,[{key:"buildItem",value:function(E){var T=u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"buildItem",this).call(this,E);return T.style.backgroundColor=E.getAttribute("value")||"",T}},{key:"selectItem",value:function(E,T){u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"selectItem",this).call(this,E,T);var L=this.label.querySelector(".ql-color-label"),x=E&&E.getAttribute("data-value")||"";L&&(L.tagName==="line"?L.style.stroke=x:L.style.fill=x)}}]),b}(h.default);n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(b,C){for(var E=0;E<C.length;E++){var T=C[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,C,E){return C&&A(b.prototype,C),E&&A(b,E),b}}(),u=function A(b,C,E){b===null&&(b=Function.prototype);var T=Object.getOwnPropertyDescriptor(b,C);if(T===void 0){var L=Object.getPrototypeOf(b);return L===null?void 0:A(L,C,E)}else{if("value"in T)return T.value;var x=T.get;return x===void 0?void 0:x.call(E)}},c=i(28),h=f(c);function f(A){return A&&A.__esModule?A:{default:A}}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function g(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function p(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var v=function(A){p(b,A);function b(C,E){y(this,b);var T=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,C));return T.container.classList.add("ql-icon-picker"),[].forEach.call(T.container.querySelectorAll(".ql-picker-item"),function(L){L.innerHTML=E[L.getAttribute("data-value")||""]}),T.defaultItem=T.container.querySelector(".ql-selected"),T.selectItem(T.defaultItem),T}return a(b,[{key:"selectItem",value:function(E,T){u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"selectItem",this).call(this,E,T),E=E||this.defaultItem,this.label.innerHTML=E.innerHTML}}]),b}(h.default);n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(f,y){for(var g=0;g<y.length;g++){var p=y[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(f,p.key,p)}}return function(f,y,g){return y&&h(f.prototype,y),g&&h(f,g),f}}();function u(h,f){if(!(h instanceof f))throw new TypeError("Cannot call a class as a function")}var c=function(){function h(f,y){var g=this;u(this,h),this.quill=f,this.boundsContainer=y||document.body,this.root=f.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){g.root.style.marginTop=-1*g.quill.root.scrollTop+"px"}),this.hide()}return a(h,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(y){var g=y.left+y.width/2-this.root.offsetWidth/2,p=y.bottom+this.quill.root.scrollTop;this.root.style.left=g+"px",this.root.style.top=p+"px",this.root.classList.remove("ql-flip");var v=this.boundsContainer.getBoundingClientRect(),A=this.root.getBoundingClientRect(),b=0;if(A.right>v.right&&(b=v.right-A.right,this.root.style.left=g+b+"px"),A.left<v.left&&(b=v.left-A.left,this.root.style.left=g+b+"px"),A.bottom>v.bottom){var C=A.bottom-A.top,E=y.bottom-y.top+C;this.root.style.top=p-E+"px",this.root.classList.add("ql-flip")}return b}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),h}();n.default=c},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function I(k,P){var N=[],W=!0,J=!1,se=void 0;try{for(var X=k[Symbol.iterator](),re;!(W=(re=X.next()).done)&&(N.push(re.value),!(P&&N.length===P));W=!0);}catch(G){J=!0,se=G}finally{try{!W&&X.return&&X.return()}finally{if(J)throw se}}return N}return function(k,P){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return I(k,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function I(k,P,N){k===null&&(k=Function.prototype);var W=Object.getOwnPropertyDescriptor(k,P);if(W===void 0){var J=Object.getPrototypeOf(k);return J===null?void 0:I(J,P,N)}else{if("value"in W)return W.value;var se=W.get;return se===void 0?void 0:se.call(N)}},c=function(){function I(k,P){for(var N=0;N<P.length;N++){var W=P[N];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(k,W.key,W)}}return function(k,P,N){return P&&I(k.prototype,P),N&&I(k,N),k}}(),h=i(3),f=L(h),y=i(8),g=L(y),p=i(43),v=L(p),A=i(27),b=L(A),C=i(15),E=i(41),T=L(E);function L(I){return I&&I.__esModule?I:{default:I}}function x(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}function j(I,k){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:I}function q(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(I,k):I.__proto__=k)}var R=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],w=function(I){q(k,I);function k(P,N){x(this,k),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=R);var W=j(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,P,N));return W.quill.container.classList.add("ql-snow"),W}return c(k,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),T.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),T.default),this.tooltip=new D(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(W,J){N.handlers.link.call(N,!J.format.link)})}}]),k}(v.default);w.DEFAULTS=(0,f.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var P=this.quill.getSelection();if(P==null||P.length==0)return;var N=this.quill.getText(P);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var W=this.quill.theme.tooltip;W.edit("link",N)}else this.quill.format("link",!1)}}}}});var D=function(I){q(k,I);function k(P,N){x(this,k);var W=j(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,P,N));return W.preview=W.root.querySelector("a.ql-preview"),W}return c(k,[{key:"listen",value:function(){var N=this;u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(W){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),W.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(W){if(N.linkRange!=null){var J=N.linkRange;N.restoreFocus(),N.quill.formatText(J,"link",!1,g.default.sources.USER),delete N.linkRange}W.preventDefault(),N.hide()}),this.quill.on(g.default.events.SELECTION_CHANGE,function(W,J,se){if(W!=null){if(W.length===0&&se===g.default.sources.USER){var X=N.quill.scroll.descendant(b.default,W.index),re=a(X,2),G=re[0],H=re[1];if(G!=null){N.linkRange=new C.Range(W.index-H,G.length());var B=b.default.formats(G.domNode);N.preview.textContent=B,N.preview.setAttribute("href",B),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(p.BaseTooltip);D.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=w},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),u=ye(a),c=i(36),h=i(38),f=i(64),y=i(65),g=ye(y),p=i(66),v=ye(p),A=i(67),b=ye(A),C=i(37),E=i(26),T=i(39),L=i(40),x=i(56),j=ye(x),q=i(68),R=ye(q),w=i(27),D=ye(w),I=i(69),k=ye(I),P=i(70),N=ye(P),W=i(71),J=ye(W),se=i(72),X=ye(se),re=i(73),G=ye(re),H=i(13),B=ye(H),V=i(74),z=ye(V),ee=i(75),Z=ye(ee),$=i(57),Q=ye($),te=i(41),ie=ye(te),de=i(28),ge=ye(de),De=i(59),Ie=ye(De),ke=i(60),Re=ye(ke),Be=i(61),tt=ye(Be),ce=i(108),fe=ye(ce),Ee=i(62),xe=ye(Ee);function ye($e){return $e&&$e.__esModule?$e:{default:$e}}u.default.register({"attributors/attribute/direction":h.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":C.BackgroundClass,"attributors/class/color":E.ColorClass,"attributors/class/direction":h.DirectionClass,"attributors/class/font":T.FontClass,"attributors/class/size":L.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":C.BackgroundStyle,"attributors/style/color":E.ColorStyle,"attributors/style/direction":h.DirectionStyle,"attributors/style/font":T.FontStyle,"attributors/style/size":L.SizeStyle},!0),u.default.register({"formats/align":c.AlignClass,"formats/direction":h.DirectionClass,"formats/indent":f.IndentClass,"formats/background":C.BackgroundStyle,"formats/color":E.ColorStyle,"formats/font":T.FontClass,"formats/size":L.SizeClass,"formats/blockquote":g.default,"formats/code-block":B.default,"formats/header":v.default,"formats/list":b.default,"formats/bold":j.default,"formats/code":H.Code,"formats/italic":R.default,"formats/link":D.default,"formats/script":k.default,"formats/strike":N.default,"formats/underline":J.default,"formats/image":X.default,"formats/video":G.default,"formats/list/item":A.ListItem,"modules/formula":z.default,"modules/syntax":Z.default,"modules/toolbar":Q.default,"themes/bubble":fe.default,"themes/snow":xe.default,"ui/icons":ie.default,"ui/picker":ge.default,"ui/icon-picker":Re.default,"ui/color-picker":Ie.default,"ui/tooltip":tt.default},!0),n.default=u.default},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function b(C,E){for(var T=0;T<E.length;T++){var L=E[T];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(C,L.key,L)}}return function(C,E,T){return E&&b(C.prototype,E),T&&b(C,T),C}}(),u=function b(C,E,T){C===null&&(C=Function.prototype);var L=Object.getOwnPropertyDescriptor(C,E);if(L===void 0){var x=Object.getPrototypeOf(C);return x===null?void 0:b(x,E,T)}else{if("value"in L)return L.value;var j=L.get;return j===void 0?void 0:j.call(T)}},c=i(0),h=f(c);function f(b){return b&&b.__esModule?b:{default:b}}function y(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}function g(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:b}function p(b,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}var v=function(b){p(C,b);function C(){return y(this,C),g(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return a(C,[{key:"add",value:function(T,L){if(L==="+1"||L==="-1"){var x=this.value(T)||0;L=L==="+1"?x+1:x-1}return L===0?(this.remove(T),!0):u(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"add",this).call(this,T,L)}},{key:"canAdd",value:function(T,L){return u(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"canAdd",this).call(this,T,L)||u(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"canAdd",this).call(this,T,parseInt(L))}},{key:"value",value:function(T){return parseInt(u(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"value",this).call(this,T))||void 0}}]),C}(h.default.Attributor.Class),A=new v("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=A},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function f(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default);g.blotName="blockquote",g.tagName="blockquote",n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(A,b){for(var C=0;C<b.length;C++){var E=b[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(A,E.key,E)}}return function(A,b,C){return b&&v(A.prototype,b),C&&v(A,C),A}}(),u=i(4),c=h(u);function h(v){return v&&v.__esModule?v:{default:v}}function f(v,A){if(!(v instanceof A))throw new TypeError("Cannot call a class as a function")}function y(v,A){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:v}function g(v,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);v.prototype=Object.create(A&&A.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(v,A):v.__proto__=A)}var p=function(v){g(A,v);function A(){return f(this,A),y(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,null,[{key:"formats",value:function(C){return this.tagName.indexOf(C.tagName)+1}}]),A}(c.default);p.blotName="header",p.tagName=["H1","H2","H3","H4","H5","H6"],n.default=p},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function x(j,q){for(var R=0;R<q.length;R++){var w=q[R];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(j,w.key,w)}}return function(j,q,R){return q&&x(j.prototype,q),R&&x(j,R),j}}(),u=function x(j,q,R){j===null&&(j=Function.prototype);var w=Object.getOwnPropertyDescriptor(j,q);if(w===void 0){var D=Object.getPrototypeOf(j);return D===null?void 0:x(D,q,R)}else{if("value"in w)return w.value;var I=w.get;return I===void 0?void 0:I.call(R)}},c=i(0),h=v(c),f=i(4),y=v(f),g=i(25),p=v(g);function v(x){return x&&x.__esModule?x:{default:x}}function A(x,j,q){return j in x?Object.defineProperty(x,j,{value:q,enumerable:!0,configurable:!0,writable:!0}):x[j]=q,x}function b(x,j){if(!(x instanceof j))throw new TypeError("Cannot call a class as a function")}function C(x,j){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:x}function E(x,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);x.prototype=Object.create(j&&j.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(x,j):x.__proto__=j)}var T=function(x){E(j,x);function j(){return b(this,j),C(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return a(j,[{key:"format",value:function(R,w){R===L.blotName&&!w?this.replaceWith(h.default.create(this.statics.scope)):u(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,R,w)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():u(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(R,w){return this.parent.isolate(this.offset(this.parent),this.length()),R===this.parent.statics.blotName?(this.parent.replaceWith(R,w),this):(this.parent.unwrap(),u(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,R,w))}}],[{key:"formats",value:function(R){return R.tagName===this.tagName?void 0:u(j.__proto__||Object.getPrototypeOf(j),"formats",this).call(this,R)}}]),j}(y.default);T.blotName="list-item",T.tagName="LI";var L=function(x){E(j,x),a(j,null,[{key:"create",value:function(R){var w=R==="ordered"?"OL":"UL",D=u(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,w);return(R==="checked"||R==="unchecked")&&D.setAttribute("data-checked",R==="checked"),D}},{key:"formats",value:function(R){if(R.tagName==="OL")return"ordered";if(R.tagName==="UL")return R.hasAttribute("data-checked")?R.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function j(q){b(this,j);var R=C(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,q)),w=function(I){if(I.target.parentNode===q){var k=R.statics.formats(q),P=h.default.find(I.target);k==="checked"?P.format("list","unchecked"):k==="unchecked"&&P.format("list","checked")}};return q.addEventListener("touchstart",w),q.addEventListener("mousedown",w),R}return a(j,[{key:"format",value:function(R,w){this.children.length>0&&this.children.tail.format(R,w)}},{key:"formats",value:function(){return A({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(R,w){if(R instanceof T)u(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertBefore",this).call(this,R,w);else{var D=w==null?this.length():w.offset(this),I=this.split(D);I.parent.insertBefore(R,I)}}},{key:"optimize",value:function(R){u(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,R);var w=this.next;w!=null&&w.prev===this&&w.statics.blotName===this.statics.blotName&&w.domNode.tagName===this.domNode.tagName&&w.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(w.moveChildren(this),w.remove())}},{key:"replace",value:function(R){if(R.statics.blotName!==this.statics.blotName){var w=h.default.create(this.statics.defaultChild);R.moveChildren(w),this.appendChild(w)}u(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replace",this).call(this,R)}}]),j}(p.default);L.blotName="list",L.scope=h.default.Scope.BLOCK_BLOT,L.tagName=["OL","UL"],L.defaultChild="list-item",L.allowedChildren=[T],n.ListItem=T,n.default=L},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function f(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default);g.blotName="italic",g.tagName=["EM","I"],n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(b,C){for(var E=0;E<C.length;E++){var T=C[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,T.key,T)}}return function(b,C,E){return C&&A(b.prototype,C),E&&A(b,E),b}}(),u=function A(b,C,E){b===null&&(b=Function.prototype);var T=Object.getOwnPropertyDescriptor(b,C);if(T===void 0){var L=Object.getPrototypeOf(b);return L===null?void 0:A(L,C,E)}else{if("value"in T)return T.value;var x=T.get;return x===void 0?void 0:x.call(E)}},c=i(6),h=f(c);function f(A){return A&&A.__esModule?A:{default:A}}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function g(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function p(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var v=function(A){p(b,A);function b(){return y(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"create",value:function(E){return E==="super"?document.createElement("sup"):E==="sub"?document.createElement("sub"):u(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,E)}},{key:"formats",value:function(E){if(E.tagName==="SUB")return"sub";if(E.tagName==="SUP")return"super"}}]),b}(h.default);v.blotName="script",v.tagName=["SUB","SUP"],n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function f(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default);g.blotName="strike",g.tagName="S",n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function f(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default);g.blotName="underline",g.tagName="U",n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function C(E,T){for(var L=0;L<T.length;L++){var x=T[L];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,T,L){return T&&C(E.prototype,T),L&&C(E,L),E}}(),u=function C(E,T,L){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,T);if(x===void 0){var j=Object.getPrototypeOf(E);return j===null?void 0:C(j,T,L)}else{if("value"in x)return x.value;var q=x.get;return q===void 0?void 0:q.call(L)}},c=i(0),h=y(c),f=i(27);function y(C){return C&&C.__esModule?C:{default:C}}function g(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function p(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function v(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var A=["alt","height","width"],b=function(C){v(E,C);function E(){return g(this,E),p(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(L,x){A.indexOf(L)>-1?x?this.domNode.setAttribute(L,x):this.domNode.removeAttribute(L):u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,L,x)}}],[{key:"create",value:function(L){var x=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,L);return typeof L=="string"&&x.setAttribute("src",this.sanitize(L)),x}},{key:"formats",value:function(L){return A.reduce(function(x,j){return L.hasAttribute(j)&&(x[j]=L.getAttribute(j)),x},{})}},{key:"match",value:function(L){return/\.(jpe?g|gif|png)$/.test(L)||/^data:image\/.+;base64/.test(L)}},{key:"sanitize",value:function(L){return(0,f.sanitize)(L,["http","https","data"])?L:"//:0"}},{key:"value",value:function(L){return L.getAttribute("src")}}]),E}(h.default.Embed);b.blotName="image",b.tagName="IMG",n.default=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function C(E,T){for(var L=0;L<T.length;L++){var x=T[L];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,T,L){return T&&C(E.prototype,T),L&&C(E,L),E}}(),u=function C(E,T,L){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,T);if(x===void 0){var j=Object.getPrototypeOf(E);return j===null?void 0:C(j,T,L)}else{if("value"in x)return x.value;var q=x.get;return q===void 0?void 0:q.call(L)}},c=i(4),h=i(27),f=y(h);function y(C){return C&&C.__esModule?C:{default:C}}function g(C,E){if(!(C instanceof E))throw new TypeError("Cannot call a class as a function")}function p(C,E){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:C}function v(C,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);C.prototype=Object.create(E&&E.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(C,E):C.__proto__=E)}var A=["height","width"],b=function(C){v(E,C);function E(){return g(this,E),p(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(L,x){A.indexOf(L)>-1?x?this.domNode.setAttribute(L,x):this.domNode.removeAttribute(L):u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,L,x)}}],[{key:"create",value:function(L){var x=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,L);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(L)),x}},{key:"formats",value:function(L){return A.reduce(function(x,j){return L.hasAttribute(j)&&(x[j]=L.getAttribute(j)),x},{})}},{key:"sanitize",value:function(L){return f.default.sanitize(L)}},{key:"value",value:function(L){return L.getAttribute("src")}}]),E}(c.BlockEmbed);b.blotName="video",b.className="ql-video",b.tagName="IFRAME",n.default=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function L(x,j){for(var q=0;q<j.length;q++){var R=j[q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(x,R.key,R)}}return function(x,j,q){return j&&L(x.prototype,j),q&&L(x,q),x}}(),u=function L(x,j,q){x===null&&(x=Function.prototype);var R=Object.getOwnPropertyDescriptor(x,j);if(R===void 0){var w=Object.getPrototypeOf(x);return w===null?void 0:L(w,j,q)}else{if("value"in R)return R.value;var D=R.get;return D===void 0?void 0:D.call(q)}},c=i(35),h=v(c),f=i(5),y=v(f),g=i(9),p=v(g);function v(L){return L&&L.__esModule?L:{default:L}}function A(L,x){if(!(L instanceof x))throw new TypeError("Cannot call a class as a function")}function b(L,x){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:L}function C(L,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);L.prototype=Object.create(x&&x.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(L,x):L.__proto__=x)}var E=function(L){C(x,L);function x(){return A(this,x),b(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,null,[{key:"create",value:function(q){var R=u(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,q);return typeof q=="string"&&(window.katex.render(q,R,{throwOnError:!1,errorColor:"#f00"}),R.setAttribute("data-value",q)),R}},{key:"value",value:function(q){return q.getAttribute("data-value")}}]),x}(h.default);E.blotName="formula",E.className="ql-formula",E.tagName="SPAN";var T=function(L){C(x,L),a(x,null,[{key:"register",value:function(){y.default.register(E,!0)}}]);function x(){A(this,x);var j=b(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return j}return x}(p.default);n.FormulaBlot=E,n.default=T},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function q(R,w){for(var D=0;D<w.length;D++){var I=w[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,I.key,I)}}return function(R,w,D){return w&&q(R.prototype,w),D&&q(R,D),R}}(),u=function q(R,w,D){R===null&&(R=Function.prototype);var I=Object.getOwnPropertyDescriptor(R,w);if(I===void 0){var k=Object.getPrototypeOf(R);return k===null?void 0:q(k,w,D)}else{if("value"in I)return I.value;var P=I.get;return P===void 0?void 0:P.call(D)}},c=i(0),h=b(c),f=i(5),y=b(f),g=i(9),p=b(g),v=i(13),A=b(v);function b(q){return q&&q.__esModule?q:{default:q}}function C(q,R){if(!(q instanceof R))throw new TypeError("Cannot call a class as a function")}function E(q,R){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:q}function T(q,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);q.prototype=Object.create(R&&R.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(q,R):q.__proto__=R)}var L=function(q){T(R,q);function R(){return C(this,R),E(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return a(R,[{key:"replaceWith",value:function(D){this.domNode.textContent=this.domNode.textContent,this.attach(),u(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replaceWith",this).call(this,D)}},{key:"highlight",value:function(D){var I=this.domNode.textContent;this.cachedText!==I&&((I.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=D(I),this.domNode.normalize(),this.attach()),this.cachedText=I)}}]),R}(A.default);L.className="ql-syntax";var x=new h.default.Attributor.Class("token","hljs",{scope:h.default.Scope.INLINE}),j=function(q){T(R,q),a(R,null,[{key:"register",value:function(){y.default.register(x,!0),y.default.register(L,!0)}}]);function R(w,D){C(this,R);var I=E(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,w,D));if(typeof I.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return I.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){I.highlight(),k=null},I.options.interval)}),I.highlight(),I}return a(R,[{key:"highlight",value:function(){var D=this;if(!this.quill.selection.composing){this.quill.update(y.default.sources.USER);var I=this.quill.getSelection();this.quill.scroll.descendants(L).forEach(function(k){k.highlight(D.options.highlight)}),this.quill.update(y.default.sources.SILENT),I!=null&&this.quill.setSelection(I,y.default.sources.SILENT)}}}]),R}(p.default);j.DEFAULTS={highlight:function(){return window.hljs==null?null:function(q){var R=window.hljs.highlightAuto(q);return R.value}}(),interval:1e3},n.CodeBlock=L,n.CodeToken=x,n.default=j},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function R(w,D,I){w===null&&(w=Function.prototype);var k=Object.getOwnPropertyDescriptor(w,D);if(k===void 0){var P=Object.getPrototypeOf(w);return P===null?void 0:R(P,D,I)}else{if("value"in k)return k.value;var N=k.get;return N===void 0?void 0:N.call(I)}},u=function(){function R(w,D){for(var I=0;I<D.length;I++){var k=D[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(w,k.key,k)}}return function(w,D,I){return D&&R(w.prototype,D),I&&R(w,I),w}}(),c=i(3),h=C(c),f=i(8),y=C(f),g=i(43),p=C(g),v=i(15),A=i(41),b=C(A);function C(R){return R&&R.__esModule?R:{default:R}}function E(R,w){if(!(R instanceof w))throw new TypeError("Cannot call a class as a function")}function T(R,w){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:R}function L(R,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);R.prototype=Object.create(w&&w.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(R,w):R.__proto__=w)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],j=function(R){L(w,R);function w(D,I){E(this,w),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=x);var k=T(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,D,I));return k.quill.container.classList.add("ql-bubble"),k}return u(w,[{key:"extendToolbar",value:function(I){this.tooltip=new q(this.quill,this.options.bounds),this.tooltip.root.appendChild(I.container),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),b.default)}}]),w}(p.default);j.DEFAULTS=(0,h.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(w){w?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var q=function(R){L(w,R);function w(D,I){E(this,w);var k=T(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,D,I));return k.quill.on(y.default.events.EDITOR_CHANGE,function(P,N,W,J){if(P===y.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&J===y.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var se=k.quill.getLines(N.index,N.length);if(se.length===1)k.position(k.quill.getBounds(N));else{var X=se[se.length-1],re=k.quill.getIndex(X),G=Math.min(X.length()-1,N.index+N.length-re),H=k.quill.getBounds(new v.Range(re,G));k.position(H)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return u(w,[{key:"listen",value:function(){var I=this;a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){I.root.classList.remove("ql-editing")}),this.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!I.root.classList.contains("ql-hidden")){var k=I.quill.getSelection();k!=null&&I.position(I.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(I){var k=a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"position",this).call(this,I),P=this.root.querySelector(".ql-tooltip-arrow");if(P.style.marginLeft="",k===0)return k;P.style.marginLeft=-1*k-P.offsetWidth/2+"px"}}]),w}(g.BaseTooltip);q.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=q,n.default=j},function(t,n,i){t.exports=i(63)}]).default})}(Uc)),Uc.exports}var _r,mw;function kL(){if(mw)return _r;mw=1;var r=_r&&_r.__extends||function(){var y=function(g,p){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,A){v.__proto__=A}||function(v,A){for(var b in A)A.hasOwnProperty(b)&&(v[b]=A[b])},y(g,p)};return function(g,p){y(g,p);function v(){this.constructor=g}g.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}(),e=_r&&_r.__assign||function(){return e=Object.assign||function(y){for(var g,p=1,v=arguments.length;p<v;p++){g=arguments[p];for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&(y[A]=g[A])}return y},e.apply(this,arguments)},t=_r&&_r.__spreadArrays||function(){for(var y=0,g=0,p=arguments.length;g<p;g++)y+=arguments[g].length;for(var v=Array(y),A=0,g=0;g<p;g++)for(var b=arguments[g],C=0,E=b.length;C<E;C++,A++)v[A]=b[C];return v},n=_r&&_r.__importDefault||function(y){return y&&y.__esModule?y:{default:y}},i=n(fh()),a=n(Dw()),u=n(SL()),c=n(IL()),h=function(y){r(g,y);function g(p){var v=y.call(this,p)||this;v.dirtyProps=["modules","formats","bounds","theme","children"],v.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],v.state={generation:0},v.selection=null,v.onEditorChange=function(b,C,E,T){var L,x,j,q;b==="text-change"?(x=(L=v).onEditorChangeText)===null||x===void 0||x.call(L,v.editor.root.innerHTML,C,T,v.unprivilegedEditor):b==="selection-change"&&((q=(j=v).onEditorChangeSelection)===null||q===void 0||q.call(j,C,T,v.unprivilegedEditor))};var A=v.isControlled()?p.value:p.defaultValue;return v.value=A??"",v}return g.prototype.validateProps=function(p){var v;if(i.default.Children.count(p.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(p.children)){var A=i.default.Children.only(p.children);if(((v=A)===null||v===void 0?void 0:v.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&p.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},g.prototype.shouldComponentUpdate=function(p,v){var A=this,b;if(this.validateProps(p),!this.editor||this.state.generation!==v.generation)return!0;if("value"in p){var C=this.getEditorContents(),E=(b=p.value,b??"");this.isEqualValue(E,C)||this.setEditorContents(this.editor,E)}return p.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,p.readOnly),t(this.cleanProps,this.dirtyProps).some(function(T){return!u.default(p[T],A.props[T])})},g.prototype.shouldComponentRegenerate=function(p){var v=this;return this.dirtyProps.some(function(A){return!u.default(p[A],v.props[A])})},g.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},g.prototype.componentWillUnmount=function(){this.destroyEditor()},g.prototype.componentDidUpdate=function(p,v){var A=this;if(this.editor&&this.shouldComponentRegenerate(p)){var b=this.editor.getContents(),C=this.editor.getSelection();this.regenerationSnapshot={delta:b,selection:C},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==v.generation){var E=this.regenerationSnapshot,b=E.delta,T=E.selection;delete this.regenerationSnapshot,this.instantiateEditor();var L=this.editor;L.setContents(b),f(function(){return A.setEditorSelection(L,T)})}},g.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},g.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},g.prototype.isControlled=function(){return"value"in this.props},g.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},g.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},g.prototype.createEditor=function(p,v){var A=new c.default(p,v);return v.tabIndex!=null&&this.setEditorTabIndex(A,v.tabIndex),this.hookEditor(A),A},g.prototype.hookEditor=function(p){this.unprivilegedEditor=this.makeUnprivilegedEditor(p),p.on("editor-change",this.onEditorChange)},g.prototype.unhookEditor=function(p){p.off("editor-change",this.onEditorChange)},g.prototype.getEditorContents=function(){return this.value},g.prototype.getEditorSelection=function(){return this.selection},g.prototype.isDelta=function(p){return p&&p.ops},g.prototype.isEqualValue=function(p,v){return this.isDelta(p)&&this.isDelta(v)?u.default(p.ops,v.ops):u.default(p,v)},g.prototype.setEditorContents=function(p,v){var A=this;this.value=v;var b=this.getEditorSelection();typeof v=="string"?p.setContents(p.clipboard.convert(v)):p.setContents(v),f(function(){return A.setEditorSelection(p,b)})},g.prototype.setEditorSelection=function(p,v){if(this.selection=v,v){var A=p.getLength();v.index=Math.max(0,Math.min(v.index,A-1)),v.length=Math.max(0,Math.min(v.length,A-1-v.index)),p.setSelection(v)}},g.prototype.setEditorTabIndex=function(p,v){var A,b;!((b=(A=p)===null||A===void 0?void 0:A.scroll)===null||b===void 0)&&b.domNode&&(p.scroll.domNode.tabIndex=v)},g.prototype.setEditorReadOnly=function(p,v){v?p.disable():p.enable()},g.prototype.makeUnprivilegedEditor=function(p){var v=p;return{getHTML:function(){return v.root.innerHTML},getLength:v.getLength.bind(v),getText:v.getText.bind(v),getContents:v.getContents.bind(v),getSelection:v.getSelection.bind(v),getBounds:v.getBounds.bind(v)}},g.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var p=a.default.findDOMNode(this.editingArea);if(!p)throw new Error("Cannot find element for editing area");if(p.nodeType===3)throw new Error("Editing area cannot be a text node");return p},g.prototype.renderEditingArea=function(){var p=this,v=this.props,A=v.children,b=v.preserveWhitespace,C=this.state.generation,E={key:C,ref:function(T){p.editingArea=T}};return i.default.Children.count(A)?i.default.cloneElement(i.default.Children.only(A),E):b?i.default.createElement("pre",e({},E)):i.default.createElement("div",e({},E))},g.prototype.render=function(){var p;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(p=this.props.className,p??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},g.prototype.onEditorChangeText=function(p,v,A,b){var C,E;if(this.editor){var T=this.isDelta(this.value)?b.getContents():b.getHTML();T!==this.getEditorContents()&&(this.lastDeltaChangeSet=v,this.value=T,(E=(C=this.props).onChange)===null||E===void 0||E.call(C,p,v,A,b))}},g.prototype.onEditorChangeSelection=function(p,v,A){var b,C,E,T,L,x;if(this.editor){var j=this.getEditorSelection(),q=!j&&p,R=j&&!p;u.default(p,j)||(this.selection=p,(C=(b=this.props).onChangeSelection)===null||C===void 0||C.call(b,p,v,A),q?(T=(E=this.props).onFocus)===null||T===void 0||T.call(E,p,v,A):R&&((x=(L=this.props).onBlur)===null||x===void 0||x.call(L,j,v,A)))}},g.prototype.focus=function(){this.editor&&this.editor.focus()},g.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},g.displayName="React Quill",g.Quill=c.default,g.defaultProps={theme:"snow",modules:{},readOnly:!1},g}(i.default.Component);function f(y){Promise.resolve().then(y)}return _r=h,_r}var RL=kL();const PL=dh(RL);class NL extends Mu{constructor(e){super(e),this.quillRef=ph.createRef()}getFormHtml(){return _.jsx("div",{children:_.jsx(PL,{ref:this.quillRef,modules:{toolbar:[["bold","italic","underline","blockquote"],[{color:["#F4F5F8","#E6FFFD","#99AFD1","#ecd23a","#fd5259","#D7ABF7","#9EFFA0","#F4F5F888","#E6FFFD77","#99AFD188","#ecd23a88","#fd525988","#D7ABF788","#9EFFA088","#000000","#E6FFFD44","#99AFD155","#ecd23a55","#fd525955","#D7ABF755","#9EFFA055"]},{background:[!1,"black","#00274D","#C1A71B","#5F0C0C","#4B0082","#002E07"]}],[,"code-block"],[{list:"ordered"},{list:"bullet"},{align:[]}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[],["clean"]]},style:this.props.wrapperStyle?{...this.props.wrapperStyle}:{minHeight:"100%",padding:"8px",minWidth:"99%",width:"100%"},theme:"snow",value:this.obj[0].getJson()[this.props.name],onChange:this.objDispatch})})}}class JC extends ys{constructor(e){super(e)}createFileInfo(e){const t=new Date,n=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0");let u="images/"+`${Math.floor(Math.random()*9999)}-${n+i}`+e.target.files[0].name;return this.fileInfo={selectedFile:e.target.files[0],path:u,pic:URL.createObjectURL(e.target.files[0])},this.setState({...this.fileInfo}),this.fileInfo}async prepareOnChange(){let e=await this.operationsFactory.prepare({prepare:{...this.props.prepareOnChange},clean:!0});e=e[0],this.obj=e}async changeHandler(e){var n;await this.createFileInfo(e),this.props.prepareOnChange&&await this.prepareOnChange(),this.props.callBackFunc&&await this.props.callBackFunc(this.obj,this.fileInfo);let t;if(await this.APIService.uploadPics(this.fileInfo.selectedFile,this.fileInfo.path),!this.obj.getPicSrc){if(t=await this.APIService.downloadPics(this.fileInfo.path),!this.props.skipUpdate&&!this.state.skipUpdate)if((n=this.obj)!=null&&n.length)for(let i of this.obj)await i.setCompState({[this.props.uploadAttribute||"picURL"]:t});else await this.obj.setCompState({[this.props.uploadAttribute||"picURL"]:t});this.props.downloadPicsCallBackFunc&&this.props.downloadPicsCallBackFunc(this.obj,this.fileInfo)}return this.props.runOnChange&&this.onSubmit(),t}async onSubmit(){this.props.prepareOnChange&&await this.operationsFactory.addToComponentList(),await this.obj.update(),this.props.finishCallBackFunc&&this.props.finishCallBackFunc(this.obj),this.dispatch({imgUploaded:this.obj})}additionalSetup(){this.wrapper.setStyle({maxWidth:"300px",maxHeight:"30px",width:"fit-content"}),this.label.setStyle({display:"inline-block",height:"35px",maxWidth:"fit-content",cursor:"pointer",position:"relative"}),this.form.updateProps({accept:"image/png, image/gif, image/jpeg, image/jpg, image/webp, image/svg+xml, application/pdf",style:{position:"absolute",top:0,left:0,cursor:"pointer",width:"100%",height:"100%",opacity:0},size:"6",type:"file",name:"file",onChange:this.changeHandler})}getInnerContent(){let e=this.getFormHtml();return this.innerContent=[this.label.getHtml({content:e,type:"label"}),this.props.errorText&&this.error.getHtml()],this.innerContent}getFormHtml(){return this.content=this.props.content||_.jsx(_.Fragment,{children:"Upload"}),_.jsxs("div",{className:this.props.containerStyle||"defaultButton",children:[this.content,this.form.getHtml({type:"input"})]})}}class OL extends JC{constructor(e){super(e)}getFormHtml(){var t,n;this.content=this.props.content||_.jsx(_.Fragment,{children:"Upload"});let e=(n=(t=this.obj)==null?void 0:t[0])==null?void 0:n.getJson()[this.props.uploadImgAttribute||"picURL"];return _.jsxs(_.Fragment,{children:[_.jsxs("div",{style:this.props.containerStyle,className:this.props.containerClass||"defaultButton",children:[this.content,this.form.getHtml({type:"input"})]}),(this.state.pic||e)&&_.jsx("img",{style:this.props.uploadedImgStyle,className:this.props.uploadedImgClass||"uploadedImg",src:this.state.pic||e})]})}}let LL=class extends ys{constructor(e){super(e),this.state.formClass="FCDefaultDelButton",this.content="Delete"}buttonClickFunc(){this.props.obj.del()}};class FL extends jC{constructor(){super(...arguments);le(this,"factory",{input:Mu,textarea:Mu,math:c5,addButton:a5,baseButton:ys,popupButton:h5,updateButton:d5,runButton:f5,quill:NL,upload:JC,showUpload:OL,del:LL})}}class yy extends Ye{constructor(){super();le(this,"addToProps",{});le(this,"addToInitialSetup",[]);le(this,"getterFunc");this.state={}}getProps(){return{interface:this.interface,app:this.app,theme:this.props.theme,type:this.props.type,...this.props,...this.addToProps}}setComponentList(){var t;this.componentList=(t=this.interface)==null?void 0:t.getComponentList()}setProps(){}getHtml(){this.setProps();let t=this.getProps();return this.setGetterFunc(this.props.getterFunc),this.getterFunc&&(this.html=this.getterFunc({...t},t.type||this.state.type)),_.jsx(_.Fragment,{children:this.html})}setGetterFunc(t){this.getterFunc=t||this.interface.getMainFunc()||this.getterFunc}addToFactory(){if(this.props.addToFactory){let t=this.interface.getFactory();for(let n of this.props.addToFactory)t.registerComponent(n.type,n.comp)}}preSetup(){this.componentPreSetup(),this.initialSetupFunctions=[...this.initialSetupFunctions,this.setComponentList,this.addToFactory,...this.addToInitialSetup]}componentPreSetup(){}}class QC extends va{constructor(){super(...arguments);le(this,"mainFunc",this.getFormComponent)}getFactory(){return this.factory===void 0&&(this.factory=new FL),this.factory}getThemeFactory(){return this.themeFactory===void 0&&(this.themeFactory=new o5),this.themeFactory}getFormComponent(t,n){return n=n||"input",this.factory.getComponent(n,t)}}const YC=new QC;class at extends yy{constructor(e){super(e),this.state={type:"input"},this.interface=YC}}class Jh extends at{constructor(e){super(e),this.state={type:"popupButton"}}}class vy extends at{constructor(e){super(e),this.state={type:"updateButton"}}}class Ai extends at{constructor(e){super(e),this.state={type:"runButton"}}}class BL extends at{constructor(e){super(e),this.state={type:e.uploadType||"upload"}}}class ZC extends at{constructor(e){super(e),this.state={type:e.uploadType||"del"}}}class An extends Ye{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setCell,this.getUseId],this.state={...this.state,defaultTheme:"defaultColumn",interface:"map",wrapperClass:"MCCell",linkClass:"MCLink"},this.setItemPropsRan=!1}setCell(){this.cell=this.props.cell}preSetup(){this.setComponents(["link","wrapper","item","option"])}setitemprops(){let e={...this.createPropObj("item","cell"),className:this.cell.class||this.theme[this.state.classKey],style:this.cell.style};this.cell.itemClick&&(e.checkItemClick=!0),this.setItemPropsRan?this.item.setProps(e):(this.builderObserver.subscribe(e),this.setItemPropsRan=!0)}setwrapperprops(){let e={...this.createPropObj("wrapper","cell")};this.setWrapperPropsRan?this.wrapper.setProps(e):(this.builderObserver.subscribe(e),this.setWrapperPropsRan=!0)}getOption(){return _.jsx(_.Fragment,{})}getUseId(){return this.cell&&this.obj.getJson&&(this.useId=this.cell.useId===!1?"":this.cell.useId===void 0?this.obj.getJson()._id:this.obj.getJson()[this.cell.useId]),this.useId}getInnerContent(){return this.innerContent=[this.item.getHtml({type:this.state.itemType||"span",content:this.getOption()})],this.innerContent}getLinkUrl(){var t,n,i;return(t=this.cell)!=null&&t.to?this.cell.to:`/${(i=(n=this.obj)==null?void 0:n.getJson())==null?void 0:i.type}/${this.useId}`}getLinkFunc(){if(this.cell.forceUpdate){let e=()=>{this.dispatch({forceUpdate:this.cell.forceUpdate})};this.link.setOnClick(e)}if(this.cell.linkClick){let e=()=>{this.cell.linkClick(this.obj),this.cell.forceUpdate&&this.dispatch({forceUpdate:this.cell.forceUpdate})};this.link.setOnClick(e)}}getHtml(){var t;this.mapInnerContent(),this.getLinkFunc(),this.cell.type;let e=(t=this.cell)!=null&&t.hasLink?this.link.getHtml({type:this.state.linkType||"link",content:this.innerContent,props:{to:this.getLinkUrl()}}):this.wrapper.getHtml({type:this.state.wrapperType||"span",content:this.innerContent});return this.html=_.jsx(_.Fragment,{children:e}),this.html}}class _y extends An{constructor(e){super(e),this.state.classKey="MCDelItem",this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setDel]}setDel(){this.cell.itemClick=this.del}del(){let e=this.props.app;this.cell.popop?e.dispatch({popupSwitch:"del",delComponent:this.obj}):this.obj.del()}getOption(){return _.jsx("div",{children:"X"})}}class wy extends An{constructor(e){super(e),this.state.classKey="MCEditItem",this.state.itemClick=this.edit}edit(){this.props.app.dispatch({popupSwitch:"edit",currentPopupComponent:this.obj})}getOption(){return"edit"}}class Qh extends An{constructor(e){super(e),this.state.classKey="MCAttributeItem"}getName(){let e=this.cell;this.name=e.name,this.name||(this.name=e)}getOption(){return this.getName(),this.obj.getJson()[this.name]}}class jL extends Qh{constructor(e){super(e),this.state.classKey="MCTextItem"}getOption(){return _.jsx(_.Fragment,{children:this.cell.name})}}class ML extends An{constructor(e){super(e),this.state.classKey="MCCustom"}getOption(){let e=this.cell.custom;return _.jsx(e,{...this.props,masterCell:this})}}class XC extends An{constructor(e){super(e),this.state.defaultClassName="MCImgItem",this.state.itemType="img"}getPicSrc(){var e,t;return this.obj.getJson&&(this.src=(t=this.obj)==null?void 0:t.getJson()[((e=this.state.cell)==null?void 0:e.src)||"picURL"]),this.cell.imgSrc&&(this.src=this.cell.imgSrc),this.src}additionalPostSetup(){this.getPicSrc(),this.src&&this.item.addProps({src:this.src,alt:"picture goes here"})}}class qL extends An{constructor(e){super(e)}getOption(){({...this.cell,...this.props})}}class eb extends An{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setList,this.setFactory],this.state={...this.state,mapContainerClass:"MCMapContainer",interface:"map",mapSectionClass:"MCMapSection"},this.defaultTypes=["del","edit","img"]}setFactory(){this.factory=this.interface.getFactory()}getDefaultTypes(){return this.defaultTypes}checkCellForDefaults(e){let t=this.getDefaultTypes();return t[t.indexOf(e)]}textOrAttribute(e,t){return e.getJson&&(e!=null&&e.getJson()[t])?"attribute":"text"}getType(e,t){let n=e.type;return n||(n=this.checkCellForDefaults(e),n||(n=this.textOrAttribute(t,e))),n}getProps(e,t){return{obj:t,...this.props,interface:this.interface,cell:e,theme:this.props.theme}}getCellList(e){let t=this.props.cells;return _.jsx(_.Fragment,{children:t.map((n,i)=>{let a=this.getType(n,e),u=this.getProps(n,e);return _.jsx(_.Fragment,{children:this.factory.getComponent(a,u)})})})}getListHtml(){return _.jsx(_.Fragment,{children:this.list.map(e=>_.jsx(_.Fragment,{children:this.mapSection.getHtml({type:"div",content:this.getCellList(e)})}))})}setList(){this.list=this.props.list}preSetup(){this.setComponents(["mapContainer","mapSection","link"])}getHtml(){let e=this.mapContainer.getHtml({type:"div",content:this.getListHtml()});return this.html=_.jsx(_.Fragment,{children:e}),this.html}}class gw extends _y{constructor(e){super(e),this.state.classKey="MCCustomDelItem"}getOption(){return _.jsx(this.cell.custom,{...this.props,masterCell:this})}}class VL extends _y{constructor(e){super(e),this.state.classKey="MCDelItem"}getOption(){return this.props.delText||"delete"}}const UL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAFRGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iNDgiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSI0OCIKICAgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIKICAgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIgogICB0aWZmOkltYWdlTGVuZ3RoPSI0OCIKICAgdGlmZjpJbWFnZVdpZHRoPSI0OCIKICAgdGlmZjpSZXNvbHV0aW9uVW5pdD0iMiIKICAgdGlmZjpYUmVzb2x1dGlvbj0iNzIvMSIKICAgdGlmZjpZUmVzb2x1dGlvbj0iNzIvMSIKICAgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMy0wOS0wOFQxNDo0NDozNi0wNjowMCIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjMtMDktMDhUMTQ6NDQ6MzYtMDY6MDAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgeG1wTU06YWN0aW9uPSJwcm9kdWNlZCIKICAgICAgeG1wTU06c29mdHdhcmVBZ2VudD0iQWZmaW5pdHkgRGVzaWduZXIgMiAyLjEuMSIKICAgICAgeG1wTU06d2hlbj0iMjAyMy0wOC0wNFQxMDoyNTozOC0wNjowMCIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJwcm9kdWNlZCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWZmaW5pdHkgRGVzaWduZXIgMiAyLjEuMSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMy0wOS0wOFQxNDo0NDozNi0wNjowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+zw4Y8wAAAYFpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAACiRdZHPK0RRFMc/ZshgRJmFhcUkZGE0KLGxmMmvwmJmlF+bmee9GTUzXu89SbbKVlFi49eCv4CtslaKSMmWNbFhes7z1Ejm3M49n/u995zuPRc8iaySM8vDkMtbRmw4EpyanglWPlGFjwDthJOKqY/HhxKUtPdbypx4HXJqlT73r9XMq6YCZT7hAUU3LOER4bFlS3d4SzigZJLzwifCHYZcUPjG0VMuPzucdvnTYSMRi4KnXjiY/sWpX6xkjJywvJyWXHZJ+bmP8xK/mp+MS2wWb8IkxjARgowySJReuuiXuZcQ3XTKihL54e/8CRYlV5FZZwWDBdJksOgQdUmqqxI10VUZWVac/v/tq6n1dLvV/RGoeLTt11ao3ITChm1/HNh24RC8D3CeL+Yv7kPfm+gbRa1lD+rW4PSiqKW24WwdGu/1pJH8lrziHk2Dl2OonYaGK6iedXv2s8/RHSRW5asuYWcX2uR83dwXqRtoBLx59Y4AAAAJcEhZcwAACxMAAAsTAQCanBgAAAU5SURBVGiB1ZpfbFNVHMc/bW/H7d3WGujaMeqy8ECMEcgiICDDOI0hEpco8iDECMHEByBRSAwvxCgJ0ZhIzEBjAma8QEyEBwUejEyibg/GYcKYYRCIQEHaVZa2621v/10f7m1pu/5d/9B9k5vc3nvOuZ9v77nn3+8YqIFsdpcIPA88CzhyDgBvzjEGjPh97ki1zzbMNaPN7rIBLwH9aPBihUVEgBHgIjDs97n9c+Go2IDN7rIAO4B3AWkuD82jEHACGPL73OFKMpZtwGZ3mYA3gT2AvSK88jUFHAXO+H3uRDkZyjJgs7s6gUHgmbmzVaSrwB6/z+0pldBUKoHN7loBDAE9VWMVkNEI/WstrZtfbG1f+qTZ/J8/sWgmpL4qStYxRQ4UNVH0DdjsrgHgENBSS+BMdTkF4ehH9q6VT7Wkvyc5oiYPfzX94PS5GR9w0O9z/1Aof8E3oMN/VixNtVriFITTRxzdy3rMWS2YWTAY+tdZ2uWwql6eUPpEyXpXkQOT+crIC6dXm8FC92uhJU5BOHXE0e3qFAq+3b5VYpscVuOXJ5TnRMk6mq86zQLUP9ghoL2mxDn6/MCizt6nF2Q1w6oKhpxK3bdKbPM9TCTHr0fXipL1giIHQpn3swzoTeW31PGDTem3PyOhvtWi1LHQZE5dMxg0E6nzlNb1iq0/DsuJwEyyV5SsZxU5oKbuGXPK3UKDmkp/MJncvs97d+JGNKvjyn0DABbRYHx5vaUVWA68kXkvbUDvYffWhRbocQnmbQNttsxrgRnNxPj10iYcdpOgn+7VWYHsN7CDOvWwPS7BfOoLZ/eh9xcu3rW1/YnMe8FQMvn2fu/dK9eicrEyJm/GFP20A3gndd0E6YHZl4B5dtbqlIJ32rW63rfa0haSk/G//o6mR6LRmKqevyQH1/UusHR2CLMYJm5Ew58cm/aq6ZrPclGyfqfIAcUEIErWzcCmesOnVNhEOLh25QLLYscjE+4H8ejOA1PuQDCZzCiiBbilyIFrKQO7gaWNgC9mIhZT1XOX5OCaFaLY5RRa3A/i0bc+8N6574nH85WhyIELJn0y8jEg5EtUD/iiJuKo5y/JwS6HIOz/9OG/heCBLlGynjSJkvUFYKDe8L/+EQke/nra+8oGqV0wPWpn8pmIx+Gn38MzwVBWtcmVAIybRMm6FeitN/x7B6fu37gdi169Hgtv2ljaRJnymETJ+jqwrN7w0ZjWhty+F49N3opFXutvzeoT+lZb2nzTidj4ZFShfN0z8mjiXXd4gBazwbB9ILsvAPD4ErHRy5GifUEeOao2UCn8N4c6ujauEbMGih5fIrZtn+fOP+54rMLHV2fgMcODbmBOagJ4QBsLeecrPOCt2EATwUOlBpoMHiox0ITwoBsYm6fwAGNGtAXWgl14E8NHgFGjvsQ9Ms/gQV+eT/UDw/MMHrRl+fSc+CLaEndaTQ4fQv/TjQB6cOFEZoomhgc4ngqIZA4lhtDW5/OqieCngJOpH2kDemTkaKFcTQIPMJgZxckdzJ1BCy4U1GOGHwfOZl6YtQZms7ucwPc3h7s3lFtqg+CngK25UZtZw2k9we5yS20QfJQCIae88wG/z32lnFIbBA9alCYv05wnNA385z8sFmIqGaXUozXHqF9otZCm0KpN0dpQMoSkyAGPKFkvAKuowQpGmRoHdvp97lulElYa6N6CFkOoZ6B7EDhb00B3pjK2GuwCWivNX0Ah4Dhwsm5bDXKlxxT60TZ8VLPZ42fgl4Zt9sgnfYV7PZVttxmtxXab/wFJap9Ow0di3gAAAABJRU5ErkJggg==";class zL extends wy{constructor(e){super(e),this.state.classKey="MCEditImgItem",this.state.itemType="img"}additionalPostSetup(){this.getImg(),this.item.setProps({src:this.src})}getImg(){return this.src=this.cell.imgSrc||UL,this.src}}class HL extends wy{constructor(e){super(e),this.state.classKey="MCCustomEditItem"}getOption(){return _.jsx(this.cell.custom,{...this.props,masterCell:this})}}let $L=class extends eb{constructor(e){super(e),this.mapContainer=ph.createRef(),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.getPicObj,this.getAddComponentButton],this.state={...this.state,index:0,isDragging:void 0,defaultTheme:"interactiveMap"}}_addEventListeners(){var t;this.props;let e=[];for(let n of this.list){let i=document.getElementById(n.getJson()._id);i.addEventListener("mousedown",a=>{this.setState({isDragging:i})}),i.addEventListener("mouseup",a=>{this.setState({isDragging:void 0})}),e.push(i),this.setState({saveList:e})}(t=this.mapContainer)!=null&&t.current&&(this.mapContainer.current.addEventListener("mouseup",n=>{this.currentComp!==void 0&&this.currentComp.update(),this.setState({isDragging:void 0})}),this.mapContainer.current.addEventListener("mousemove",n=>{if(this.state.isDragging!==void 0){let i=this.state.isDragging,a=i.id,u=this.list.find(c=>c.getJson()._id===a);if((u==null?void 0:u.getJson().draggable)!==!1){const c=this.mapContainer.current.getBoundingClientRect(),h=n.pageX-c.left-25,f=n.pageY-c.top-25;u.setCompState({x:h,y:f}),this.currentComp=u,i.style.left=`${h}px`,i.style.top=`${f}px`}}}))}componentDidMount(){this._addEventListeners()}zoom(e){let t=this.mapContainer.current.getBoundingClientRect(),n=t.width*e,i=t.height*e;this.mapContainer.current.style.width=n+"px",this.mapContainer.current.style.height=i+"px";let a=this.state.saveList;for(let u of a){const c=u.style.left||"0",h=u.style.top||"0",f=c.match(/(-?\d*\.?\d+)/),y=h.match(/(-?\d*\.?\d+)/),g=f?parseFloat(f[0]):0,p=y?parseFloat(y[0]):0,v=g*e,A=p*e;u.style.left=v+"px",u.style.top=A+"px"}}componentDidUpdate(e,t){this.props.list.length!==e.list.length&&this._addEventListeners()}getAddComponentButton(){var e,t;if(this.addComponentButton=this.props.addComponentButton,this.addComponentButton!==void 0){let n=typeof this.addComponentButton=="string"?this.addComponentButton:this.addComponentButton.type||"addComponentButton",i=this.props.pinKey||((e=this.mapObj)==null?void 0:e.getJson().pinType)||"pin";this.addComponentButton=this.factory.getComponent(n,{...this.props,theme:this.props.theme||this.state.defaultTheme,mapId:this.mapObj?(t=this.mapObj)==null?void 0:t.getJson()._id:void 0,addType:i,addPinProps:this.props.addPinProps,pinAdded:this._addEventListeners})}}getPicObj(){var t;let e=this.props.imgAttribute||"picURL";this.mapObj&&(this.picSrc=(t=this.mapObj)==null?void 0:t.getJson()[e])}preSetup(){this.setComponents([])}async changePic(e){let t=this.props.list;e=e<0?e=t.length-1:e,e=e>=t.length?0:e,this.mapObj=t[e],await this.setState({index:e}),this._addEventListeners()}setList(){if(!this.listSet){let t=this.props.list[this.state.index];this.mapObj=t;let n=this.props.pinKey||(t==null?void 0:t.getJson().pinType)||"pin",i=this.props.pinAttribute||(t==null?void 0:t.getJson().type)+"Id"||"mapId",a=this.props.mapId||(t==null?void 0:t.getJson()._id);this.list=this.componentList.getList(n,a,i)}}preSetup(){this.setComponents(["mapContainer","right","left","image","zoomIn","zoomOut"])}getIndexAndChangeMap(e){let t=this.props.list.indexOf(this.mapObj)+e;this.changePic(t)}getListHtml(){let e=this.props,t=this.theme,n=this.factory;return _.jsx(_.Fragment,{children:this.list.map((i,a)=>{let u={obj:i,props:e,interface:this.interface,cell:e.pinCell,theme:this.props.them||this.state.defaultTheme,pinProps:this.props.pinProps};return _.jsx("div",{id:i.getJson()._id,className:e.mapSectionClass?e.mapSectionClass:t.MCMapSection,style:{...e.mapSectionStyle,left:i.getJson().x+"px",top:i.getJson().y+"px"},children:_.jsx(_.Fragment,{children:n.getComponent(e.pinType?e.pinType:"attribute",u)})},a)})})}getHtml(){if(this.props.list.length>0){let e=this.props,t=this.theme;return _.jsxs("div",{ref:this.mapContainer,className:e.mapContainerClass?e.mapContainerClass:t.MCMapContainer,style:{...e.mapContainerStyle},children:[_.jsx("img",{src:this.picSrc,className:e.mapClass?e.mapClass:t.MCMap,style:{...e.mapStyle}}),this.getListHtml(),e.addComponentButton&&_.jsx(_.Fragment,{children:this.addComponentButton}),_.jsx("div",{style:{position:"absolute",top:"0px",right:"0px"},onClick:()=>{this.zoom(.5)},children:"zoom out"}),_.jsx("div",{style:{position:"absolute",top:"20px",right:"0px"},onClick:()=>{this.zoom(2)},children:"zoom in"}),_.jsx("div",{style:{position:"absolute",top:"0px",left:"-20px"},onClick:()=>{this.getIndexAndChangeMap(-1)},children:"prev"}),_.jsx("div",{style:{position:"absolute",top:"20px",right:"-20px"},onClick:()=>{this.getIndexAndChangeMap(1)},children:"next"})]})}else this.list=[]}};class GL extends An{constructor(e){super(e)}preSetup(){this.setComponents([])}async createObjType(){let e=this.operationsFactory,t=this.props.addType;await e.prepare({prepare:{type:t,mapId:this.props.mapId,...this.props.addPinProps},clean:!0,run:!0}),this.props.pinAdded()}getHtml(){let e=this.props.text||"+ Add Item";return _.jsxs("div",{onClick:this.createObjType,style:this.props.style,className:this.props.class||this.theme.MCAddButton,children:[e," "]})}}class WL extends An{constructor(e){super(e),this.state.classKey="MCAttributeItem"}getOption(){return this.state.obj}}class KL extends Qh{constructor(e){super(e),this.state.classKey="MCAttributeItem"}getItemClass(){var i;let e=this.cell,t=e.activeAttribute?e.activeAttribute:"_id";if(this.state.obj.getJson()[t]===((i=e.activeItem)==null?void 0:i.getJson()[t])){let a=e.activeClass?e.activeClass:this.theme.MCActiveItem;this.item.setClass(this.item.getClass()+" "+a)}}additionalPostSetup(){this.getItemClass()}}class JL extends XC{constructor(e){super(e),this.state.classKey="MCLogoItem"}}class QL extends An{constructor(e){super(e),this.state.itemType="div"}getList(){return this.list=this.props.cell.links.filter(e=>(e==null?void 0:e.name)!==void 0),this.list}getHome(){var e;if(!this.state.active){this.home=this.list.find(t=>t.path==="/");for(let t of this.list)t.active=(e=this.home)==null?void 0:e.name}}getOption(){let e=this.props.cell.links.filter(t=>(t==null?void 0:t.name)!==void 0&&t.display!==!1);return _.jsx(Vt,{list:e,theme:this.cell.linksTheme||"links",mapSectionClass:this.props.cell.linkSectionClass||void 0,mapSectionStyle:this.props.cell.linkSectionStyle||void 0,cells:[{type:"linkItem",class:this.props.cell.linkItemClass||void 0,activeClass:this.props.cell.activeClass||void 0,style:this.props.cell.linkItemStyle||void 0,linkClick:t=>{for(let n of this.props.cell.links)n.active=t==null?void 0:t.name;this.setState({active:t==null?void 0:t.name})}}]})}additionalSetup(){this.getList(),this.getHome()}}class YL extends An{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setUpLinks],this.state.classKey="MCLinkItem",this.state.itemType="div"}setUpLinks(){this.cell.to=this.obj.path,this.useId="",this.cell.hasLink=!0}getActiveClass(){return this.activeClass=this.cell.activeClass||this.theme.MCActiveLink,this.activeClass}setActiveClass(){var n,i,a,u,c;const e=((n=this.obj)==null?void 0:n.path)==="/"||((i=this.obj)==null?void 0:i.path)==="/home",t=window.location.pathname;if(e){const h=t.split("/").filter(Boolean);if(h.length>0&&h[0]!=="home")return}if(((a=this.obj)==null?void 0:a.active)===((u=this.obj)==null?void 0:u.name)||t.includes((c=this.obj)==null?void 0:c.path)){let h=this.obj.name===""?"none":this.getActiveClass();h=h||"",this.item.setClass(this.item.getClass()+" "+h)}}additionalSetup(){this.setActiveClass()}getOption(){var e;return(e=this.props.obj)==null?void 0:e.name}}class ZL extends An{constructor(e){super(e),this.state.classKey="MCTextItem"}additionalPostSetup(){this.item.setOnClick(this.cell.logoutFunc||this.APIService.logout)}getOption(){return"logout"}}class XL extends An{constructor(e){super(e),this.state.classKey="MCOrderedArrows",this.state.increment=1,this.state.decrement=-1}increasePosition(){this.obj.updateOrder(this.state.increment)}decreasePosition(){this.obj.updateOrder(this.state.decrement)}increaseArrowUI(){return this.increaseArrow=_.jsx("div",{className:"upward-arrow",onClick:this.decreasePosition}),this.increaseArrow}decreaseArrowUI(){return this.decreaseArrow=_.jsx("div",{style:{marginTop:"5px"},className:"downward-arrow",onClick:this.increasePosition}),this.decreaseArrow}getOption(){return this.increaseArrowUI(),this.decreaseArrowUI(),_.jsxs("div",{style:{marginTop:"-4px"},className:"fitCC",children:[this.increaseArrow,this.decreaseArrow]})}}class e4 extends An{constructor(e){super(e),this.state.displayState=!1,this.state.itemType="div"}displayOption(){return _.jsx("div",{style:{position:"absolute",left:"0px",top:"0px"},className:this.state.displayState?"downward-arrow":"right-arrow",onClick:()=>{this.wrapper.setStyle({...this.wrapper.getStyle(),height:"200px"}),this.setState({displayState:!this.state.displayState})}})}mapOption(){return _.jsx(Vt,{name:this.props.name,filter:{attribute:this.props.filter.attribute,search:this.obj.getJson()._id},cells:[...this.props.cells]})}additionalPostSetup(){this.item.setStyle({...this.item.getStyle(),position:"relative"})}getOption(){return _.jsxs("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[this.displayOption(),"  ",this.state.displayState&&this.mapOption(),"  "]})}}class t4 extends Qh{constructor(){super(),this.state.classKey="MCBackgroundItem",this.state.wrapperClass="MCCellBackground",this.state.linkClass="MCBackgroundLink"}additionalPostSetup(){let t={width:"100%",height:"250px",display:"flex",justifyContent:"center",alignItems:"center",color:"white",textAlign:"center",fontSize:"50px",background:`linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${this.cell.pirSRC||this.obj.getJson()[this.cell.picAttribute||"picURL"]}) no-repeat center center`,backgroundSize:"cover",textDecoration:"none"};this.wrapper.setStyle({...this.wrapper.getStyle(),...t}),this.link.setStyle({...this.wrapper.getStyle(),...t})}}class n4 extends An{constructor(e){super(e),this.state.classKey="MCCustom"}getOption(){return this.cell.custom}}class r4 extends jC{constructor(){super(...arguments);le(this,"factory",{text:jL,attribute:Qh,custom:ML,customBuilt:n4,img:XC,form:qL,del:_y,delIcon:gw,delCustom:gw,delText:VL,edit:wy,editIcon:zL,editCustom:HL,interactiveMap:$L,addComponentButton:GL,plain:WL,select:KL,logo:JL,links:QL,linkItem:YL,logout:ZL,default:Vt,map:eb,order:XL,innerMap:e4,backgroundImage:t4})}}class Ey{constructor(){le(this,"MCMapContainer","Map-Container");le(this,"MCMapSection","Map-Section");le(this,"MCLink","Map-Link");le(this,"MCCell","Map-Cell");le(this,"MCCustomDelItem","Map-Custom-Del-Item");le(this,"MCDelItem","Map-Del-Item");le(this,"MCDelImgItem","Map-Del-imgItem");le(this,"MCCustomEditItem","Map-Custom-Edit-Item");le(this,"MCEditImgItem","Map-Edit-imgItem");le(this,"MCEditItem","Map-Edit-Item");le(this,"MCAttributeItem","Map-Attribute-Item");le(this,"MCImgItem","Map-imgItem");le(this,"MCTextItem","Map-Text-Item");le(this,"MCActiveItem","Map-Active-Item");le(this,"MCCustom","");le(this,"MCBackgroundItem","background-item");le(this,"MCCellBackground","cell-background");le(this,"MCBackgroundLink","cell-background");le(this,"MCLogoItem","navLogo")}}class Yh extends Ey{constructor(){super(...arguments);le(this,"MCSectionHover","DC-Map-Section:hover");le(this,"MCCustomDelItem","DC-Custom-Del-Item");le(this,"MCDelItem","DC-Del-Item");le(this,"MCDelImgItem","DC-Del-imgItem");le(this,"MCCustomEditItem","Map-Custom-Edit-Item");le(this,"MCEditImgItem","DC-Edit-imgItem");le(this,"MCEditItem","DC-Edit-Item")}}class Zh extends Yh{constructor(){super(...arguments);le(this,"MCMapContainer","DR-Map-Container");le(this,"MCMapSection","DR-Map-Section")}}class i4 extends Zh{constructor(){super(...arguments);le(this,"MCMapContainer","DRW-Map-Container")}}class s4 extends Zh{constructor(){super(...arguments);le(this,"MCMapContainer","IM-Map-Container");le(this,"MCMapSection","IM-Map-Section");le(this,"MCMap","IM-Map");le(this,"MCAddButton","IM-addButton");le(this,"MCActiveItem","IM-Active-Item");le(this,"MCCell","IM-Cell")}}class o4 extends Zh{constructor(){super(...arguments);le(this,"MCActiveLink",this.MCActiveItem);le(this,"MCLinkItem",this.MCLink);le(this,"MCMapSection","SB-Map-Section")}}class a4 extends Yh{constructor(){super(...arguments);le(this,"MCActiveLink",this.MCActiveItem);le(this,"MCLinkItem",this.MCLink);le(this,"MCMapSection","SB-link");le(this,"MCCell","SB-Cell-Link");le(this,"MCLink","SB-Map-Link");le(this,"MCLinkItem","SB-Map-Link")}}class u4 extends Yh{constructor(){super(...arguments);le(this,"MCActiveLink",this.MCActiveItem);le(this,"MCLinkItem",this.MCLink)}}const l4=Object.freeze(Object.defineProperty({__proto__:null,DefaultColumn:Yh,DefaultRegistry:Ey,DefaultRow:Zh,DefaultWrapRow:i4,InteractiveMap:s4,Links:a4,SideBar:o4,TopBar:u4},Symbol.toStringTag,{value:"Module"}));class c4 extends fy{constructor(){super(l4),this.factory.default=Ey}}class h4{constructor(){le(this,"factory",{text:qu,tag:tb,plain:m4,textAndTag:p4,textAndTag2:f4,bool:y4,textAttributeList:g4})}getFilter(e){if(e)return this.factory[e]}registerFilter(e,t){this.factory[e]=t}}function tb(r){let{list:e,attribute:t,tagList:n}=r;return e.length>0&&(e=e.filter(i=>!!n.find(u=>(t?u.getJson()[t]:u.getJson().connectedId)===i.getJson()._id))),e}function d4(r){let e=[];if(r.search&&r.list){const t=r.search.toLowerCase().split(" ").map(n=>n.trim());e=r.list.filter(n=>{const i=n.getJson()[r.attribute||"tags"];if(i){let a=i.split(r.splitStr||",");a=a.map(u=>u.toLowerCase());for(let u of t)if(a.includes(u))return!0}else return!1})}return e}function f4(r){let{list:e,attributes:t,search:n}=r,i=[],a=[],u=t.split(",");for(let h of u)a.push(qu({...r,attribute:h}));let c=d4({...r});return i=[...a[0],...c,...a[1],...a[2]],i=Ay(i),i}function p4(r){let{list:e,attribute:t,tagList:n,attribute2:i,attributeTag:a,search:u}=r,c=qu({...r,attribute:t}),h=tb({...r,attribute:a}),f=qu({...r,attribute:i});return e=[...c,...h,...f],Ay(e)}function Ay(r){const e=new Map;return r.forEach(t=>{const i=t.getJson()._id;e.has(i)||e.set(i,t)}),Array.from(e.values())}function qu(r){let{list:e,attribute:t,search:n}=r;return n&&n.length>0&&(e=e.filter(i=>{var a;return(a=i.getJson()[t])==null?void 0:a.toLowerCase().includes(n==null?void 0:n.toLowerCase())})),e}function m4(r){let{list:e,attribute:t,search:n}=r;return n&&n.length>0&&(e=e.filter(i=>{var a;return(a=i[t])==null?void 0:a.toLowerCase().includes(n==null?void 0:n.toLowerCase())})),e}function g4(r){let{attributeList:e}=r,t=[];for(let n of e)t=[...t,...qu({...r,attribute:n})];return t=Ay(t),t}function y4(r){let{list:e,attribute:t,search:n}=r;return e=e.filter(i=>i.getJson()[t]===n),e}class nb extends va{constructor(){super();le(this,"FilterFactory");this.getFilterFactory(),this.mainFunc=this.getMapComponent}getFactory(){return this.factory===void 0&&(this.factory=new r4),this.factory}getThemeFactory(){return this.themeFactory===void 0&&(this.themeFactory=new c4),this.themeFactory}getFilterFactory(){return this.filterFactory===void 0&&(this.filterFactory=new h4),this.filterFactory}getMapComponent(t,n){return n=n||"default",this.factory.getComponent(n,t)}}class Vt extends yy{constructor(e){super(e),this.state={type:"map"},this.interface=rb}setFilterInfo(){this.filterFacotry=this.interface.getFilterFactory(),this.filters=this.props.filters,this.filterFunc=this.props.filterFunc,this.filter=this.props.filter}getFilterFunc(){var e;if(!this.filterFunc&&this.filters!==void 0){let t=(e=this.filters)==null?void 0:e.find(n=>n.type==="filterFunc");t&&(this.filterFunc=t.func)}}getFilter(){var e;if(!this.filter&&this.filters!==void 0){let t=(e=this.filters)==null?void 0:e.find(n=>n.type==="filter");t&&(this.filter={...t})}}getList(){var t,n,i,a;let e=this.props.name;this.list=this.props.list?this.props.list:this.filter?(i=this.componentList)==null?void 0:i.getList(e,(t=this.filter)==null?void 0:t.search,(n=this.filter)==null?void 0:n.attribute):(a=this.componentList)==null?void 0:a.getList(e)}filterListByFilterFunc(){this.list&&(this.list=this.list.filter(e=>this.filterFunc?this.filterFunc(e):!0))}filterListByFilterFactory(){if(this.filters)for(let e of this.filters){let t=this.filterFacotry.getFilter(e.type);t&&(this.list=t({list:this.list,...e}))}}setProps(){let e=this.props.cells;this.addToProps={cells:e,list:this.list}}componentPreSetup(){this.addToInitialSetup=[this.setFilterInfo,this.getFilterFunc,this.getFilter,this.getList,this.filterListByFilterFunc,this.filterListByFilterFactory]}}const rb=new nb;class ib extends Ye{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.getNavLists],this.state={}}getLinks(){var e,t;return this.props.links?this.props.links:(t=(e=this.props.app)==null?void 0:e.state)==null?void 0:t.routes}getDefaultNavItem(e){return{logo:{imgSrc:this.props.logoURL,label:this.props.logoLabel,...this.props},links:{links:this.getLinks(),...this.props,class:"fit"},logout:{logoutFunc:this.props.logoutFunc,auth:this.props.auth,wrapperClass:"SB-logout",...this.props}}[e]}getList(){let e=this.props.navList,t=e.getList();for(let n=0;n<t.length;n++)if(t[n].default){let i=this.getDefaultNavItem(t[n].type);i.type=t[n].type,e.update(n,i)}return this.props.type==="topBar"&&(t=t.filter(n=>n.type!=="links")),t}getHtml(){return _.jsx(Vt,{theme:this.props.mapTheme,list:this.mapList,cells:this.list,...this.props.navMapProps})}getNavLists(){this.list=this.props.list?this.props.list:this.getList(),this.mapList=this.props.mapList?this.props.mapList:[{}]}}class v4{constructor(){le(this,"factory",{default:ib})}getComponent(e,t){let n;return this.factory[e]&&(n=this.factory[e]),_.jsx(n,{...t})}registerComponent(e,t){this.factory[e]=t}}class _4 extends Ye{constructor(e){super(e),this.state={defaultStyle:"navMenu",renderComp:void 0}}async open(){let e=await this.props.open();this.props.type==="topBar"&&(this.state.renderComp?this.setState({renderComp:void 0}):this.setState({renderComp:e}))}render(){return this.props.app,_.jsxs("div",{children:[_.jsxs("div",{onClick:this.open,className:this.props.menuClass?this.props.menuClass:this.state.defaultStyle,children:[this.props.menuContent&&_.jsx(_.Fragment,{children:this.props.menuContent})," "]}),this.state.renderComp&&_.jsx(_.Fragment,{children:this.state.renderComp})]})}}class w4 extends Gt{constructor(e){super(e),this.state={...this.state,defaultType:this.props.type?this.props.type:"sideBar",typeKey:"layout",defaultNavType:"default",phoneSize:850,left:-400}}getProps(){var e,t;return{mapTheme:this.props.mapTheme||this.state.defaultType,links:this.props.links||((t=(e=this.props.app)==null?void 0:e.state)==null?void 0:t.routes),...this.props}}getFactoryComponent(e){let t=this.props.mapType?this.props.mapType:this.state.defaultNavType;return this.props.factory.getComponent(t,e)}componentDidMount(){this.resize!==void 0&&(window.addEventListener("resize",this.resize),this.resize())}componentWillUnmount(){this.resize!==void 0&&window.removeEventListener("resize",this.resize)}resize(){if(window.innerWidth<850){this.setState({phone:!0,tablet:!1,defaultType:this.props.phoneLayout?this.props.phoneLayout:this.state.ogType?this.state.ogType:this.state.defaultType,ogType:this.state.ogType?this.state.ogType:this.state.defaultType});return}if(window.innerWidth<1224){this.setState({phone:!1,tablet:!0,defaultType:this.props.tabletLayout?this.props.tabletLayout:this.state.ogType?this.state.ogType:this.state.defaultType,ogType:this.state.ogType?this.state.ogType:this.state.defaultType});return}window.innerWidth>1224&&(this.state.phone&&this.setState({phone:!1,defaultType:this.state.ogType}),this.state.tablet&&this.setState({tablet:!1,defaultType:this.state.ogType}))}async setStyleOnMenuClick(e){const t=n=>new Promise(i=>setTimeout(i,n));this.card.setStyle({...this.card.getStyle(),left:e.toString()+"px"}),await this.setState({left:e}),await t(10)}async setNavOpenClose(){if(this.state.left===-400)for(let e=-400;e<600;e=e+15){if(e>0){this.setState({left:0});break}await this.setStyleOnMenuClick(e)}else for(let e=0;e>-450;e=e-15){if(e<-400){this.setState({left:-400});break}await this.setStyleOnMenuClick(e)}}async openCloseLinks(){var n,i;let e=_.jsx(Vt,{list:this.props.links||((i=(n=this.props.app)==null?void 0:n.state)==null?void 0:i.routes),cells:[{type:"link"}]});return _.jsx(Gt,{content:e})}async openCloseNavFun(){return await{topBar:this.openCloseLinks,sideBar:this.setNavOpenClose}[this.state.defaultType]()}getMenu(){return this.props.menuComponent?_.jsx(this.props.menuComponent,{...this.props.menuComponentProps,open:this.openCloseNavFun,type:this.state.defaultType}):_.jsx(_4,{open:this.openCloseNavFun,type:this.state.defaultType,...this.props.menuComponentProps})}getContent(){let e=this.getProps(),t=this.getFactoryComponent(e);return this.content=_.jsxs(_.Fragment,{children:[t,this.props.type!=="type"&&(this.state.phone||window.innerWidth<this.state.phoneSize)&&_.jsx(_.Fragment,{children:this.getMenu()})]}),this.content}}class E4{constructor(){En.bind(this),this.list=[{type:"logo",picURL:void 0,label:void 0,default:!0},{type:"links",linkJson:void 0,default:!0},{type:"logout",logoutFunc:void 0,auth:void 0,default:!0}]}setList(e){this.list=e}getList(){return this.list}insert(e,t){if(e<0||e>=this.list.length){console.error("Index out of bounds");return}this.list.splice(e,0,t)}add(e,t){t?this.list.unshift(e):this.list.push(e)}addCustomJSX(e,t,n){let i={type:"custom",custom:e};t?this.insert(t,i):this.add(i,n)}update(e,t){if(e<0||e>=this.list.length){console.error("Index out of bounds");return}this.list[e]={...this.list[e],...t}}remove(e){if(e<0||e>=this.list.length){console.error("Index out of bounds");return}this.list.splice(e,1)}}class sb extends va{constructor(){super();le(this,"factory");le(this,"navList");En.bind(this),this.getFactory(),this.getNavList(),this.mainFunc=this.getNav}getFactory(){return this.factory||(this.factory=new v4),this.factory}getNav(t){return _.jsx(w4,{factory:this.factory,navInterface:this,navList:this.navList,...t})}getNewNavList(){return new E4}setNavListForce(t){this.navList=t}getNavList(){return this.navList||(this.navList=this.getNewNavList()),this.navList}}const hh=new sb;class A4 extends yy{constructor(e){super(e),this.interface=hh}}class C4{constructor(){le(this,"factory",{})}getComponent(e){return this.factory[e]}registerComponent(e,t){this.factory[e]=t}}class b4 extends C4{constructor(){super(...arguments);le(this,"factory",{})}}class T4 extends Ye{constructor(e){super(e),this.state={}}checkPopupSwitch(e){var t,n;return this.popupSwitch=this.props.popupSwitch||((n=(t=this.props.app)==null?void 0:t.state)==null?void 0:n.popupSwitch),this.popupSwitch!==""&&this.popupSwitch!==void 0&&(e=!0),e}checkType(e){var i,a,u,c,h;let t=this.props.currentPopupComponent||((a=(i=this.props.app)==null?void 0:i.state)==null?void 0:a.currentPopupComponent),n=(u=this.popupFactory.getComponent(this.popupSwitch))==null?void 0:u.componentType;return n&&(t=this.isArray(t),e=((h=(c=t[0])==null?void 0:c.getJson())==null?void 0:h.type)===n&&t.length>0),e}render(){var n;let e=this.checkPopupSwitch(!1);e&&(e=this.checkType(e)),this.popupFactory=this.props.factory||this.props.app.state.popupFactory;let t=(n=this.popupFactory)==null?void 0:n.getComponent(this.popupSwitch);return _.jsx(_.Fragment,{children:e&&(t==null?void 0:t.content)&&_.jsx(Gt,{content:_.jsx(t.content,{}),popup:!0,type:t.popupType||"biggerCard",theme:t.popupTheme||"Default",handleClose:()=>{if(t.handleClose)t.handleClose();else{let i=this.props.app.state.currentPopupComponent;i&&this.props.app.state.operationsFactory.removeFromList(i),this.props.app.dispatch({currentPopupComponent:void 0,popupSwitch:void 0})}}})})}}class x4 extends va{constructor(){super();le(this,"factory");En.bind(this),this.getFactory()}getFactory(){return this.factory||(this.factory=new b4),this.factory}createPopupMachine(t){return _.jsx(T4,{app:(t==null?void 0:t.app)||this.getAppComponent(),factory:this.factory})}}let yw=new x4;class S4{constructor(){le(this,"convertStringToLink",e=>e&&(!e.startsWith("http://")&&!e.startsWith("https://")?"https://"+e:e))}isLikelyUrl(e){return/\.(com|net|org|io|gov|edu|co)\b/.test(e)||/^(?:f|ht)tps?\:\/\//.test(e)||/^mailto\:/i.test(e)}checkURLforString(e){return window.location.href.includes(e)}getIdFromURL(e,t){let i=window.location.href.split("/"),a=i[i.length-1],u=e?a.split("-"):[a];return t?u[t]:u[0]}getTypeFromURL(){let t=window.location.href.split("/");return t[t.length-2]}}let fs=new S4;class ob extends Ye{constructor(t,n){super(t);le(this,"dispatchItems",{});this.state={...this.state,type:n==null?void 0:n.type,ids:n==null?void 0:n.ids,filterKeys:n==null?void 0:n.filterKeys,path:n==null?void 0:n.path,snapShot:n==null?void 0:n.snapShot,owner:!0},(n==null?void 0:n.owner)===!1&&(this.state.owner=!1)}async getComponentsFromBackend(){let{type:t,ids:n,filterKeys:i,path:a,snapShot:u,owner:c}=this.state;this.compList=await this.componentList.getList(t,n,i),this.compList.length>0&&await this.setState({gotComponents:!0}),this.compList=await this.componentList.getComponentsFromBackend({type:t,ids:n,filterKeys:i,path:a,snapShot:u,owner:c}),this.setState({gotComponents:!0,getComponentsFromBackend:!0,components:this.compList,urlId:n})}async componentDidMount(){this.getComponentsFromBackend();let t=this;window.addEventListener("popstate",function(n){t.onBackClick(n)})}onBackClick(t){this.getComponentsFromBackend()}componentDidUpdate(){this.getComponentsAgain()}async getComponentsAgain(t,n){this.getFromURL(),(this.app.state.urlChange||this.state.reRender&&this.urlId!==this.state.urlId)&&(await this.setState({urlId:this.urlId}),await this.dispatch({urlChange:void 0}),this.forceRerender=!1,this.getComponentsFromBackend())}async getFromURL(){this.urlType=fs.getTypeFromURL(),this.urlId=fs.getIdFromURL()}}class wa extends ob{constructor(t,n){super(t,n);le(this,"dispatchItems",{});this.state={...this.state,type:n==null?void 0:n.type,ids:n==null?void 0:n.ids,filterKeys:n==null?void 0:n.filterKeys,path:n==null?void 0:n.path,snapShot:n==null?void 0:n.snapShot,owner:n==null?void 0:n.owner},(n==null?void 0:n.owner)===!1&&(this.state.owner=!1)}async getComponentsFromBackend(){let{type:t,ids:n,filterKeys:i,path:a,snapShot:u,owner:c}=this.state;this.compList=await this.componentList.getComponents(),this.compList.length>0&&await this.setState({gotComponents:!0}),this.compList=await this.componentList.getComponentsFromBackend({type:this.state.owner,ids:n,filterKeys:i,path:a,snapShot:u,typeAttribute:"owner"}),this.setState({gotComponents:!0,getComponentsFromBackend:!0,components:this.compList,urlId:n})}}class tl extends ob{async getComponentsFromBackend(){await this.getFromURL(),await this.getFirstComponent(),this.comp&&await this.getAssociatedItems(),this.setGotComponents()}async getFirstComponent(e,t){let n=e||this.urlType,i=t||this.urlId;this.comp=this.componentList.getComponent(n,i),this.comp||(this.comp=await this.componentList.getComponentsFromBackend({type:n,ids:i,filterKeys:"_id",owner:this.state.owner}),this.comp=this.comp.length>0?this.comp[0]:void 0)}async getAssociatedItems(){this.compList=await this.comp.getAssociatedItems(this.state.itemTypes),this.compList.length>0&&this.setState({gotComponents:!0}),this.compList=await this.comp.getAssociatedItemsFromBackend(this.state.itemTypes),await this.setCurrentItems()}setCurrentItems(){this.dispatch({currentComponent:this.comp,["current"+this.getCapitalFirstLetter(this.comp.getJson().type)]:this.comp,...this.dispatchItems})}setGotComponents(){this.setState({gotComponents:!0,gotComponentsFromBackend:!0,components:this.compList,urlId:this.urlId})}}class ab extends Ye{constructor(e){super(e),this.state={...this.state,email:"",password:""}}validate(){return!0}onChange(e){let{name:t,value:n}=e.target;this.setState({[t]:n})}onSub(){this.validate()&&this.APIService.login(this.state.email,this.state.password)}getSwitchLink(){return _.jsxs("div",{id:"signUpFT",children:["Don't have an Account? ",_.jsx(qt,{to:"/register",children:"Sign Up"})]})}preSetup(){this.setComponents(["container","header","form","submitButton"])}getHeaderHtml(){return this.header.getHtml({type:"h1",content:"Login"})}getFormHtml(){let e=_.jsxs(_.Fragment,{children:[_.jsx("div",{children:"Email"}),_.jsx("input",{className:"defaultInputFormAuth",name:"email",onChange:this.onChange,value:this.state.email}),_.jsx("div",{style:{marginTop:"10px"},children:"Password"}),_.jsx("input",{className:"defaultInputFormAuth",name:"password",type:"password",onChange:this.onChange,value:this.state.password})]});return this.form.setClass("defaultLoginForm"),this.form.getHtml({type:"div",content:e})}getSubmitHtml(){return this.submitButton.setClass("defaultLoginButton"),this.submitButton.setOnClick(this.onSub),this.submitButton.getHtml({type:"div",content:"Submit"})}getContainerHtml(){this.container.setClass(this.props.loginContainer||"fitCC");let e=_.jsxs(_.Fragment,{children:[this.getHeaderHtml(),this.getFormHtml(),this.getSubmitHtml(),this.getSwitchLink()]});return this.container.getHtml({type:"div",content:e})}getHtml(){let e=this.getContainerHtml();return _.jsx("div",{className:"fullCCLayoutRow",children:_.jsx(Gt,{type:this.props.loginCardType||"biggerCard",content:e})})}}class D4 extends ab{async onSub(){if(this.validate()){let e=await this.APIService.register(this.state.email,this.state.password);if(!e.error){let t={type:"user",email:this.state.email,_id:this.state.email};e=await this.componentList.addComponents(t),window.history.pushState({},"","/"),this.dispatch({currentUser:e})}}}getHeaderHtml(){return this.header.getHtml({type:"h1",content:"Register"})}getSwitchLink(){return _.jsxs("div",{children:["Have an Account? ",_.jsx(qt,{to:"/login",children:"Login"})]})}}class I4 extends Ye{constructor(e){super(e),this.state={...this.state,routes:[],loginComp:ab,registerComp:D4}}addToRouter(e){let t=[...this.state.routes,e];this.setState({routes:t})}getRouteMap(e,t){let n=_.jsx(_.Fragment,{});return e&&(e=[...e],n=e==null?void 0:e.map((i,a)=>(i.path||(i.path=this.classNameToString(i.comp),a===0&&(i.path="/")),_.jsxs(_.Fragment,{children:[_.jsx(Jo,{path:i.path,element:_.jsx(i.comp,{props:{...t,...i.props}})}),_.jsx(Jo,{path:i.path+"/:id",element:_.jsx(i.idComp,{props:{...t,...i.props}})})]})))),n}getRoutes(e,t){var i;let n=_.jsxs(k1,{children:[this.getRouteMap(e,t),this.state.routes.map((a,u)=>_.jsx(_.Fragment,{children:a}))]});return(i=this.app)!=null&&i.state.currentUser||(n=this.getUserAuthRoutes(t)),n}getUserAuthRoutes(e){let t=e.loginComp||this.state.loginComp,n=e.registerComp||this.state.registerComp;return _.jsxs(k1,{children:[_.jsx(Jo,{path:"/",element:_.jsx(t,{props:{...e}})}),_.jsx(Jo,{path:"/login",element:_.jsx(t,{props:{...e}})}),_.jsx(Jo,{path:"/register",element:_.jsx(n,{props:{...e}})})]})}getHtml(){var a;let e={...this.props};e.app=this.app;let t=(a=this.app)==null?void 0:a.state,n=this.props.routes||(t==null?void 0:t.routes),i=this.getRoutes(n,e);return _.jsx(_.Fragment,{children:i})}}class k4{constructor(){le(this,"registry",{})}getRegistry(){return this.registry}addToRegistry(e,t){this.registry[e]=t}getItemFromRegistry(e){return this.registry[e]}}class R4 extends Ye{constructor(t,n,i){super(t);le(this,"endpoint");le(this,"db");le(this,"storage");le(this,"auth");le(this,"popupComponents");le(this,"popupComponentsProps");n=this.props.config||n,this.popupComponents=this.props.popupComponents,this.componentListInterface=new i5(this.dispatch,n.endpoint,n.db,n.storage,n.auth),this.componentList=this.componentListInterface.createComponentList(),this.factory=this.componentListInterface.getFactory(),this.operationsFactory=this.componentList.getOperationsFactory(),this.interfaceRegistry=new k4,this.initialPropsSetupFunctions=[this.propogateApp,...this.initialPropsSetupFunctions],this.state={componentList:this.componentList,componentListInterface:this.componentListInterface,operationsFactory:this.operationsFactory,factory:this.factory,theme:this.props.theme||"default",pageClass:this.props.pageClass||"fullScreen",pageStyle:this.props.pageStyle,extraRouteKey:this.props.extraRouteKey||"extraRoutes",navBarProps:this.props.NavBarProps||{},popupFactory:yw.getFactory(),popups:this.props.popups||[],global:this.props.global||{},routes:this.props.routes||[]},i&&this.registerListWithFactory(i)}async checkForUser(){let t=await this.APIService.getCurrentUser();t&&await this.APIService.checkIfLoggedIn()&&this.APIService.getuser(t.email)}componentDidMount(){this.checkForUser()}registerListWithFactory(t){for(let n of t){let a=new n().getJson().type;this.factory.registerComponents({name:a,component:n}),this.createPopupDefaultsByType(a)}}createPopupDefaultsByType(t){var n;if((n=this.popupComponents)!=null&&n[t]){let i=this.getCapitalFirstLetter(t),a={content:this.popupComponents[t],popupSwitch:"add"+i,componentType:t},u={...a,popupSwitch:"update"+i};this.state.popups=[...this.state.popups,a,u]}}dispatch(t){t=t||{},this.setState({...t})}setPopups(){for(let t of this.state.popups){let n=t.componentType;n&&(t={...t,...this.popupComponentsProps[n]}),t.popupSwitch||(t.popupSwitch=this.classNameToString(t.content)),this.state.popupFactory.registerComponent(t.popupSwitch,t)}}propogateApp(){this.app={state:this.state,dispatch:this.dispatch.bind(this),...this.state.global},rb.setAppComponent(this.app),YC.setAppComponent(this.app),FC.setAppComponent(this.app),hh.setAppComponent(this.app),LC.setAppComponent(this.app)}getHtml(t){this.setPopups();let n=[...this.state.routes];return this.state[this.state.extraRouteKey]&&(n=[...n,...this.state[this.state.extraRouteKey]]),_.jsx("div",{className:this.state.pageClass,style:this.state.pageStyle,children:_.jsxs(jO,{children:[yw.createPopupMachine({app:this.app}),this.state.currentUser&&_.jsx(A4,{...this.state.navBarProps}),t?_.jsx(t.content,{props:{...t.props}}):_.jsx(_.Fragment,{}),_.jsx(I4,{routes:n})]})})}}class ub extends fy{constructor(){super(...arguments);le(this,"factory",{form:QC,map:nb,nav:sb})}}new ub;new ub;class Cn extends ZO{constructor(t){super(t);le(this,"json",{...this.json,type:"",name:"",owner:"",picURL:""})}}class P4 extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,type:"user"})}}class N4 extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,type:"contact",phone:"",autoAI:!0,email:"",title:"",company:"",mobile:"",firstName:"",lastName:"",address:"",city:"",state:"",zip:"",source:"",finishedSequenceTags:"",tags:"",conversationIds:[]})}}let O4=class extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,type:"conversation",contactIds:[]})}};class L4 extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,type:"template",content:""})}}class F4 extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,type:"sequence",steps:[],finished:0,replyRate:0,limit:"20"})}}class B4 extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,type:"step",delay:0,messageId:""})}}class lb extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,conversationIds:[],ownerMessage:!1})}}class j4 extends lb{constructor(){super(...arguments);le(this,"json",{...this.json,type:"textMessage",content:"",timestamp:""})}}class M4 extends lb{constructor(){super(...arguments);le(this,"json",{...this.json,type:"email",subject:"",body:"",timeStamp:""})}}class q4 extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,type:"potentialProspect",phone:"",email:"",researchId:"",conversationIds:[]})}}class V4 extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,type:"research",searchFrequency:"",AIPrompt:""})}}class U4 extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,type:"client",name:"",email:"",researchId:"",conversationIds:[]})}}class z4 extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,type:"AIPrompt"})}}class H4 extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,type:"aiSettings",autoAI:""})}}class $4 extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,type:"todo",attribute1:"Create Authenticated User",attribute2:"Create User Data",attribute3:"Create Limiter",attribute4:"Set Up Google Auth",attribute5:"Setting Obj",attribute6:"Firebase AI Training",complete1:!1,complete2:!1,complete3:!1,complete4:!1,complete5:!1,complete6:!1,clientId:""})}}class G4 extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,type:"limit",limit:500})}}let W4=class extends Cn{constructor(){super(...arguments);le(this,"json",{...this.json,type:"csv"})}};const K4=Object.freeze(Object.defineProperty({__proto__:null,AIPrompt:z4,AISettings:H4,Client:U4,Contact:N4,Conversations:O4,CsvUpload:W4,Email:M4,Limit:G4,PotentialProspect:q4,Research:V4,Sequence:F4,Step:B4,Template:L4,TextMessage:j4,Todo:$4,User:P4},Symbol.toStringTag,{value:"Module"})),J4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23505050'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M20%204H4c-1.1%200-1.99.9-1.99%202L2%2018c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V6c0-1.1-.9-2-2-2zm0%204l-8%205-8-5V6l8%205%208-5v2z'/%3e%3c/svg%3e",Q4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23505050'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M20.01%2015.38c-1.23%200-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57%201.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53%200-.54-.45-.99-.99-.99H4.19C3.65%203%203%203.24%203%203.99%203%2013.28%2010.73%2021%2020.01%2021c.71%200%20.99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z'/%3e%3c/svg%3e";class cb extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}formatDate(e){const t=new Date((e==null?void 0:e.seconds)*1e3+(e==null?void 0:e.nanoseconds)/1e6),i=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],a=t.getDate(),u=t.getFullYear();return`${i} ${a}, ${u}`}render(){var h,f,y,g,p,v,A,b,C;let e=window.innerWidth>600;(h=this.propsState.popupSwitch)!=null&&h.includes("addContact")&&(e=!1);let t=e?this.propsState.currentContact:this.props.obj,n=t&&(t!=null&&t.getJson().date)?this.formatDate(t==null?void 0:t.getJson().date):"";const i=e?this.propsState.currentContact:this.propsState.currentPopupComponent,a=!e;let u=t?"Edit":"Add",c=_.jsx(Ai,{formClass:"dark-button-1",content:"Save",isPopup:a,callbackFunc:this.props.callbackFunc});return((f=this.propsState.popupSwitch)!=null&&f.includes("updateContact")||window.innerWidth>600&&!((y=this.propsState.popupSwitch)!=null&&y.includes("addContact")))&&(c=_.jsx(vy,{formClass:"dark-button-1",obj:i,content:"Save",isPopup:a,callbackFunc:this.props.callbackFunc})),_.jsxs(_.Fragment,{children:[_.jsxs("h2",{style:{position:"sticky",top:0,padding:"2%",width:"80%"},children:[u," Contact"]}),t&&_.jsxs("h3",{style:{padding:"10px",font:"normal normal 900 15px/16px Satoshi"},children:[t.getJson().firstName," ",t.getJson().lastName]}),_.jsxs("div",{style:{padding:"2%",paddingBottom:"80px",height:"100%",paddingTop:"12px"},className:this.props.pageClass||this.state.defaultClass,children:[_.jsxs("div",{className:"contact-Add-container",children:[_.jsxs("div",{className:"contact-contact-data",children:[_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().firstName?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:"First Name:"}),_.jsx("div",{className:"row-field",children:_.jsx(at,{obj:t,formClass:"underline-form",name:"firstName",placeholder:"FirstName",inPopup:a})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().lastName?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:"Last Name:"}),_.jsx("div",{className:"row-field",children:_.jsx(at,{obj:t,placeholder:"LastName",formClass:"underline-form",name:"lastName",inPopup:a})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().email?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:_.jsx("span",{children:_.jsx("img",{src:J4,className:"contact-img-ico"})})}),_.jsx("div",{className:"row-field",children:_.jsx(at,{formClass:"underline-form",obj:t,name:"email",inPopup:a,placeholder:"1234@mail.com"})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().mobile?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:_.jsx("span",{children:_.jsx("img",{src:Q4,className:"contact-img-ico"})})}),_.jsx("div",{className:"row-field",children:_.jsx(at,{formClass:"underline-form",obj:t,name:"mobile",inPopup:a,placeholder:"XXX-XXX-XXXX"})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().company?"":"unfilled-container"}`,style:{marginTop:"24px"},children:[_.jsx("div",{className:"row-name",children:"Company:"}),_.jsx("div",{className:"row-field",children:_.jsx(at,{formClass:"underline-form",obj:t,name:"company",inPopup:a,placeholder:"SalesCapture AI"})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().title?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:"Title:"}),_.jsx("div",{className:"row-field",children:_.jsx(at,{formClass:"underline-form",obj:t,placeholder:"ie. Vice President of People",name:"title",inPopup:a})})]}),t&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().address?"":"unfilled-container"}`,style:{marginTop:"24px"},children:[_.jsx("div",{className:"row-name",children:"Address:"}),_.jsx("div",{className:"row-field",children:_.jsx(at,{formClass:"underline-form",obj:t,name:"address",inPopup:a,placeholder:"123 Street Way"})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().city?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:"City:"}),_.jsx("div",{className:"row-field",children:_.jsx(at,{formClass:"underline-form",obj:t,name:"city",inPopup:a,placeholder:"Sales Lake City"})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().state?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:"State:"}),_.jsx("div",{className:"row-field",children:_.jsx(at,{formClass:"underline-form",obj:t,name:"state",inPopup:a,placeholder:"State/Territory"})})]}),_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().zip?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:"ZIPcode:"}),_.jsx("div",{className:"row-field",children:_.jsx(at,{formClass:"underline-form",obj:t,name:"zip",inPopup:a,placeholder:"ZIP"})})]})]})]}),_.jsxs("div",{className:"contact-contact-data",children:[_.jsxs("div",{className:`row-container ${t!=null&&t.getJson().source?"":"unfilled-container"}`,children:[_.jsx("div",{className:"row-name",children:"Lead Source:"}),_.jsx("div",{className:"row-field",children:_.jsx(at,{formClass:"underline-form",obj:t,name:"source",inPopup:a,placeholder:"unknown"})})]}),_.jsxs("div",{className:"row-container",title:"Comma separated",children:[_.jsx("div",{className:"row-name",style:{width:"fit-content"},children:"Tags:"}),_.jsx("div",{className:"row-field",title:"comma seperated",children:_.jsx(at,{formClass:"underline-form",obj:t,placeholder:"ie. contacted, tag1, tag3",name:"tags",inPopup:a})})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column",marginTop:"12px"},children:[_.jsx("div",{className:"row-name",style:{borderRight:"none"},children:"Notes"}),_.jsx("div",{children:_.jsx(at,{obj:t,type:"quill",name:"notes",inPopup:a})})]}),t&&(t==null?void 0:t.getJson().date)&&_.jsx(_.Fragment,{children:_.jsxs("div",{className:"row-container",style:{flexDirection:"column",marginTop:"12px"},children:[_.jsx("div",{className:"row-name",style:{borderRight:"none"},children:"Contact Create Date"}),_.jsx("div",{style:{fontSize:"14px"},children:n})]})})]}),_.jsxs("div",{style:{paddingBottom:"20px",width:"100%",display:"flex",justifyContent:"flex-end",alignContent:"flex-end",gap:"8px"},children:[_.jsx("div",{style:{marginRight:"0px"}}),!((p=(g=this.propsState)==null?void 0:g.currentContact)!=null&&p.getJson().finished)&&!((A=(v=this.propsState)==null?void 0:v.popupSwitch)!=null&&A.includes("add"))?_.jsx("div",{onClick:()=>{var E;if((E=this.propsState.currentContact)==null||E.setCompState({autoAI:!1},{run:!0},!0),sequence){let T=parseInt(sequence.getJson().finished)+1;sequence.setCompState({finished:T}),sequence.update()}},className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Turn off AI"}):_.jsx("div",{onClick:()=>{var E;(E=this.propsState.currentContact)==null||E.setCompState({autoAI:!0},{run:!0},!0)},className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Turn on AI"}),!((b=this.propsState.currentContact)!=null&&b.getJson().finished)&&_.jsxs(_.Fragment,{children:[" ",!((C=this.propsState.currentContact)!=null&&C.getJson().finished)&&_.jsx("div",{onClick:()=>{var L,x,j;(L=this.propsState.currentContact)==null||L.setCompState({finished:!0}),(x=this.propsState.currentContact)==null||x.update();let E=this.componentList.getComponent("sequence",(j=this.propsState.currentContact)==null?void 0:j.getJson().sequenceId),T=parseInt(E==null?void 0:E.getJson().finished)+1;E.setCompState({finished:T}),E.update()},className:"dark-button-1",style:{position:"relative",width:"fit-content",height:"fit-content"},children:"Remove From Sequence"})]}),c]})]})," "]})]})}}class Xh extends Ye{constructor(e){super(e),this.state={...this.state,checked:!1,activeBool:!1}}componentDidMount(){this.checkIfActive()}async componentDidUpdate(e,t){var i,a;let n=this.props.obj;n&&((i=this.propsState[this.props.checkKey])!=null&&i.includes(n)&&this.state.activeBool===!1?this.setState({checked:!0,activeBool:!0}):!((a=this.propsState[this.props.checkKey])!=null&&a.includes(n))&&this.state.activeBool===!0&&this.setState({checked:!1,activeBool:!1}))}checkIfActive(){var t;let e=this.props.obj;e&&(t=this.propsState[this.props.checkKey])!=null&&t.includes(e)&&this.setState({checked:!0})}async handleToggle(){await this.setState(e=>({checked:!e.checked})),this.state.checked?this.check(this.props.obj):this.uncheck(this.props.obj)}check(e){this.setState({checked:!0}),this.props.check?this.props.check(e):this.props.cell.check(this.props.obj)}uncheck(e){this.setState({checked:!1}),this.props.uncheck?this.props.uncheck(e):this.props.cell.uncheck(this.props.obj)}render(){const{checked:e}=this.state;return _.jsxs("label",{className:this.props.class||"checkbox-container",children:[this.props.label||"",_.jsx("input",{type:"checkbox",checked:e,onChange:this.handleToggle}),_.jsx("span",{className:"checkmark"})]})}}class Cy extends ys{async buttonClickFunc(){let e=this.obj,t=e.type;this.props.popupSwitch.includes("add")&&(e=e[0]?e[0]:{type:this.getFactoryTypeString(this.props.popupSwitch.slice(3))},e={prepare:{...e},amount:this.props.amount,clean:this.props.clean},e=await this.operationsFactory.prepare(e),e.length===1&&(e=e[0],t=e.getJson().type)),Array.isArray(e)&&e.length===1&&(e=e[0]);let n=this.props.setCurrnetItem&&{["current"+this.getCapitalFirstLetter(t)]:e},i={popupSwitch:this.props.popupSwitch,currentPopupComponent:e,...n};await this.dispatch({...i})}}class hb extends Ye{constructor(t){super(t);le(this,"handleCheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n.includes(t)||n.push(t),this.dispatch({selectedContacts:n})});le(this,"handleUncheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n=n.filter(i=>i!==t),this.dispatch({selectedContacts:n})})}getTagUI(t){var n,i,a,u,c,h;return _.jsxs("div",{className:"contact-tag-container active",children:[(n=t.tags)==null?void 0:n.split(",").filter(f=>f!=="").map((f,y)=>_.jsx("button",{className:"contact-tag-btn",children:f},y)),((i=t.finishedSequenceTags)==null?void 0:i.length)>0&&_.jsx(_.Fragment,{children:(a=t.finishedSequenceTags)==null?void 0:a.split(",").map((f,y)=>_.jsx(_.Fragment,{children:f.length>0&&_.jsx("button",{className:"contact-tag-btn finished-sequence-tags",children:f},y)}))}),t.sequenceId&&_.jsxs(_.Fragment,{children:[t.finishedSequenceTags.includes((u=this.componentList.getComponent("sequence",t.sequenceId))==null?void 0:u.getJson().name)&&t.finished?_.jsx(_.Fragment,{}):_.jsx(_.Fragment,{children:((c=this.componentList.getComponent("sequence",t.sequenceId))==null?void 0:c.getJson().name.length)>0&&_.jsx("button",{className:`contact-tag-btn ${t.finished?"finished-sequence-tags":"unfinished-sequence-tags"}`,children:(h=this.componentList.getComponent("sequence",t.sequenceId))==null?void 0:h.getJson().name})}),t.replied&&_.jsx("button",{className:"contact-tag-btn unfinished-sequence-tags",children:"Replied"})]})]})}render(){const{obj:t}=this.props;let n=t.getJson(),a=(this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[]).includes(t);return _.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[_.jsxs("div",{className:"contact-item hover-darken",style:{background:a?"#2374ab10":"white",position:"relative",paddingLeft:"5px"},children:[_.jsx(Xh,{checkKey:"selectedContacts",obj:t,check:this.handleCheckContact,uncheck:this.handleUncheckContact}),_.jsxs("div",{className:"contact-info-expanded",style:{cursor:"pointer",display:"flex",width:"100%"},onClick:()=>{window.innerWidth>600?this.dispatch({currentContact:t}):this.dispatch({currentPopupComponent:t,popupSwitch:"updateContact"})},children:[_.jsx("div",{className:"contact-avatar",children:_.jsx("i",{className:"fa-solid fa-user"})}),_.jsxs("div",{className:"contact-info",children:[_.jsx("div",{className:"contact-name",children:`${n.firstName} ${n.lastName}`}),_.jsx("div",{className:"contact-desc",children:(n==null?void 0:n.company)||(n==null?void 0:n.title)||(n==null?void 0:n.email)||(n==null?void 0:n.mobile)||""})]})]}),_.jsx(Cy,{formClass:"hover-basic",wrapperClass:"icon-row",newProp:"asdf",content:_.jsx("div",{style:{width:"fit-content"},onClick:async()=>{await this.operationsFactory.clear();let u=t,c=this.componentList.getComponent("conversation",u.getJson().email,"contact");c||(await this.componentList.addComponents({type:"conversation",contact:u.getJson().email,contactName:`${u.getJson().firstName} ${u.getJson().lastName}`,conversationOwner:this.propsState.currentUser.getJson()._id,ownerName:`${this.propsState.currentUser.getJson().firstName} ${this.propsState.currentUser.getJson().lastName}`}),c=this.componentList.getComponent("conversation",u.getJson().email,"contact"));let h={type:"email"};h={prepare:{...h},clean:!0},h=await this.operationsFactory.prepare(h),Array.isArray(h)&&h.length===1&&(h=h[0]);let f={popupSwitch:"addEmail",currentPopupComponent:h};await this.dispatch({...f,currentConversation:c,currentContact:u})},className:"contact-icon",children:_.jsx("i",{className:"fa-solid fa-message"})})})]}),this.getTagUI(n)]})}}var zc={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Y4=zc.exports,vw;function Z4(){return vw||(vw=1,function(r,e){((t,n)=>{r.exports=n()})(Y4,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,u=n.IS_PAPA_WORKER||!1,c={},h=0,f={};function y(w){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(D){var I=j(D);I.chunkSize=parseInt(I.chunkSize),D.step||D.chunk||(I.chunkSize=null),this._handle=new b(I),(this._handle.streamer=this)._config=I}).call(this,w),this.parseChunk=function(D,I){var k=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<k){let N=this._config.newline;N||(P=this._config.quoteChar||'"',N=this._handle.guessLineEndings(D,P)),D=[...D.split(N).slice(k)].join(N)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(D))!==void 0&&(D=P),this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+D,P=(this._partialLine="",this._handle.parse(k,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(D=P.meta.cursor,k=(this._finished||(this._partialLine=k.substring(D-this._baseIndex),this._baseIndex=D),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)n.postMessage({results:P,workerId:f.WORKER_ID,finished:k});else if(R(this._config.chunk)&&!I){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!k||!R(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(D){R(this._config.error)?this._config.error(D):u&&this._config.error&&n.postMessage({workerId:f.WORKER_ID,error:D,finished:!1})}}function g(w){var D;(w=w||{}).chunkSize||(w.chunkSize=f.RemoteChunkSize),y.call(this,w),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(D=new XMLHttpRequest,this._config.withCredentials&&(D.withCredentials=this._config.withCredentials),a||(D.onload=q(this._chunkLoaded,this),D.onerror=q(this._chunkError,this)),D.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var I,k=this._config.downloadRequestHeaders;for(I in k)D.setRequestHeader(I,k[I])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,D.setRequestHeader("Range","bytes="+this._start+"-"+P));try{D.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}a&&D.status===0&&this._chunkError()}},this._chunkLoaded=function(){D.readyState===4&&(D.status<200||400<=D.status?this._chunkError():(this._start+=this._config.chunkSize||D.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(D),this.parseChunk(D.responseText)))},this._chunkError=function(I){I=D.statusText||I,this._sendError(new Error(I))}}function p(w){(w=w||{}).chunkSize||(w.chunkSize=f.LocalChunkSize),y.call(this,w);var D,I,k=typeof FileReader<"u";this.stream=function(P){this._input=P,I=P.slice||P.webkitSlice||P.mozSlice,k?((D=new FileReader).onload=q(this._chunkLoaded,this),D.onerror=q(this._chunkError,this)):D=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,N=(this._config.chunkSize&&(N=Math.min(this._start+this._config.chunkSize,this._input.size),P=I.call(P,this._start,N)),D.readAsText(P,this._config.encoding));k||this._chunkLoaded({target:{result:N}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(D.error)}}function v(w){var D;y.call(this,w=w||{}),this.stream=function(I){return D=I,this._nextChunk()},this._nextChunk=function(){var I,k;if(!this._finished)return I=this._config.chunkSize,D=I?(k=D.substring(0,I),D.substring(I)):(k=D,""),this._finished=!D,this.parseChunk(k)}}function A(w){y.call(this,w=w||{});var D=[],I=!0,k=!1;this.pause=function(){y.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){y.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&D.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),D.length?this.parseChunk(D.shift()):I=!0},this._streamData=q(function(P){try{D.push(typeof P=="string"?P:P.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(D.shift()))}catch(N){this._streamError(N)}},this),this._streamError=q(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=q(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(w){var D,I,k,P,N=Math.pow(2,53),W=-N,J=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,se=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,X=this,re=0,G=0,H=!1,B=!1,V=[],z={data:[],errors:[],meta:{}};function ee(te){return w.skipEmptyLines==="greedy"?te.join("").trim()==="":te.length===1&&te[0].length===0}function Z(){if(z&&k&&(Q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),k=!1),w.skipEmptyLines&&(z.data=z.data.filter(function(De){return!ee(De)})),$()){let De=function(Ie,ke){R(w.transformHeader)&&(Ie=w.transformHeader(Ie,ke)),V.push(Ie)};var ge=De;if(z)if(Array.isArray(z.data[0])){for(var te=0;$()&&te<z.data.length;te++)z.data[te].forEach(De);z.data.splice(0,1)}else z.data.forEach(De)}function ie(De,Ie){for(var ke=w.header?{}:[],Re=0;Re<De.length;Re++){var Be=Re,tt=De[Re],tt=((ce,fe)=>(Ee=>(w.dynamicTypingFunction&&w.dynamicTyping[Ee]===void 0&&(w.dynamicTyping[Ee]=w.dynamicTypingFunction(Ee)),(w.dynamicTyping[Ee]||w.dynamicTyping)===!0))(ce)?fe==="true"||fe==="TRUE"||fe!=="false"&&fe!=="FALSE"&&((Ee=>{if(J.test(Ee)&&(Ee=parseFloat(Ee),W<Ee&&Ee<N))return 1})(fe)?parseFloat(fe):se.test(fe)?new Date(fe):fe===""?null:fe):fe)(Be=w.header?Re>=V.length?"__parsed_extra":V[Re]:Be,tt=w.transform?w.transform(tt,Be):tt);Be==="__parsed_extra"?(ke[Be]=ke[Be]||[],ke[Be].push(tt)):ke[Be]=tt}return w.header&&(Re>V.length?Q("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+Re,G+Ie):Re<V.length&&Q("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+Re,G+Ie)),ke}var de;z&&(w.header||w.dynamicTyping||w.transform)&&(de=1,!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(ie),de=z.data.length):z.data=ie(z.data,0),w.header&&z.meta&&(z.meta.fields=V),G+=de)}function $(){return w.header&&V.length===0}function Q(te,ie,de,ge){te={type:te,code:ie,message:de},ge!==void 0&&(te.row=ge),z.errors.push(te)}R(w.step)&&(P=w.step,w.step=function(te){z=te,$()?Z():(Z(),z.data.length!==0&&(re+=te.data.length,w.preview&&re>w.preview?I.abort():(z.data=z.data[0],P(z,X))))}),this.parse=function(te,ie,de){var ge=w.quoteChar||'"',ge=(w.newline||(w.newline=this.guessLineEndings(te,ge)),k=!1,w.delimiter?R(w.delimiter)&&(w.delimiter=w.delimiter(te),z.meta.delimiter=w.delimiter):((ge=((De,Ie,ke,Re,Be)=>{var tt,ce,fe,Ee;Be=Be||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var xe=0;xe<Be.length;xe++){for(var ye,$e=Be[xe],je=0,Ve=0,Ge=0,Xe=(fe=void 0,new E({comments:Re,delimiter:$e,newline:Ie,preview:10}).parse(De)),et=0;et<Xe.data.length;et++)ke&&ee(Xe.data[et])?Ge++:(ye=Xe.data[et].length,Ve+=ye,fe===void 0?fe=ye:0<ye&&(je+=Math.abs(ye-fe),fe=ye));0<Xe.data.length&&(Ve/=Xe.data.length-Ge),(ce===void 0||je<=ce)&&(Ee===void 0||Ee<Ve)&&1.99<Ve&&(ce=je,tt=$e,Ee=Ve)}return{successful:!!(w.delimiter=tt),bestDelimiter:tt}})(te,w.newline,w.skipEmptyLines,w.comments,w.delimitersToGuess)).successful?w.delimiter=ge.bestDelimiter:(k=!0,w.delimiter=f.DefaultDelimiter),z.meta.delimiter=w.delimiter),j(w));return w.preview&&w.header&&ge.preview++,D=te,I=new E(ge),z=I.parse(D,ie,de),Z(),H?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return H},this.pause=function(){H=!0,I.abort(),D=R(w.chunk)?"":D.substring(I.getCharIndex())},this.resume=function(){X.streamer._halted?(H=!1,X.streamer.parseChunk(D,!0)):setTimeout(X.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,I.abort(),z.meta.aborted=!0,R(w.complete)&&w.complete(z),D=""},this.guessLineEndings=function(De,ge){De=De.substring(0,1048576);var ge=new RegExp(C(ge)+"([^]*?)"+C(ge),"gm"),de=(De=De.replace(ge,"")).split("\r"),ge=De.split(`
`),De=1<ge.length&&ge[0].length<de[0].length;if(de.length===1||De)return`
`;for(var Ie=0,ke=0;ke<de.length;ke++)de[ke][0]===`
`&&Ie++;return Ie>=de.length/2?`\r
`:"\r"}}function C(w){return w.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(w){var D=(w=w||{}).delimiter,I=w.newline,k=w.comments,P=w.step,N=w.preview,W=w.fastMode,J=null,se=!1,X=w.quoteChar==null?'"':w.quoteChar,re=X;if(w.escapeChar!==void 0&&(re=w.escapeChar),(typeof D!="string"||-1<f.BAD_DELIMITERS.indexOf(D))&&(D=","),k===D)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<f.BAD_DELIMITERS.indexOf(k))&&(k=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var G=0,H=!1;this.parse=function(B,V,z){if(typeof B!="string")throw new Error("Input must be a string");var ee=B.length,Z=D.length,$=I.length,Q=k.length,te=R(P),ie=[],de=[],ge=[],De=G=0;if(!B)return je();if(W||W!==!1&&B.indexOf(X)===-1){for(var Ie=B.split(I),ke=0;ke<Ie.length;ke++){if(ge=Ie[ke],G+=ge.length,ke!==Ie.length-1)G+=I.length;else if(z)return je();if(!k||ge.substring(0,Q)!==k){if(te){if(ie=[],Ee(ge.split(D)),Ve(),H)return je()}else Ee(ge.split(D));if(N&&N<=ke)return ie=ie.slice(0,N),je(!0)}}return je()}for(var Re=B.indexOf(D,G),Be=B.indexOf(I,G),tt=new RegExp(C(re)+C(X),"g"),ce=B.indexOf(X,G);;)if(B[G]===X)for(ce=G,G++;;){if((ce=B.indexOf(X,ce+1))===-1)return z||de.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:G}),ye();if(ce===ee-1)return ye(B.substring(G,ce).replace(tt,X));if(X===re&&B[ce+1]===re)ce++;else if(X===re||ce===0||B[ce-1]!==re){Re!==-1&&Re<ce+1&&(Re=B.indexOf(D,ce+1));var fe=xe((Be=Be!==-1&&Be<ce+1?B.indexOf(I,ce+1):Be)===-1?Re:Math.min(Re,Be));if(B.substr(ce+1+fe,Z)===D){ge.push(B.substring(G,ce).replace(tt,X)),B[G=ce+1+fe+Z]!==X&&(ce=B.indexOf(X,G)),Re=B.indexOf(D,G),Be=B.indexOf(I,G);break}if(fe=xe(Be),B.substring(ce+1+fe,ce+1+fe+$)===I){if(ge.push(B.substring(G,ce).replace(tt,X)),$e(ce+1+fe+$),Re=B.indexOf(D,G),ce=B.indexOf(X,G),te&&(Ve(),H))return je();if(N&&ie.length>=N)return je(!0);break}de.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:G}),ce++}}else if(k&&ge.length===0&&B.substring(G,G+Q)===k){if(Be===-1)return je();G=Be+$,Be=B.indexOf(I,G),Re=B.indexOf(D,G)}else if(Re!==-1&&(Re<Be||Be===-1))ge.push(B.substring(G,Re)),G=Re+Z,Re=B.indexOf(D,G);else{if(Be===-1)break;if(ge.push(B.substring(G,Be)),$e(Be+$),te&&(Ve(),H))return je();if(N&&ie.length>=N)return je(!0)}return ye();function Ee(Ge){ie.push(Ge),De=G}function xe(Ge){var Xe=0;return Xe=Ge!==-1&&(Ge=B.substring(ce+1,Ge))&&Ge.trim()===""?Ge.length:Xe}function ye(Ge){return z||(Ge===void 0&&(Ge=B.substring(G)),ge.push(Ge),G=ee,Ee(ge),te&&Ve()),je()}function $e(Ge){G=Ge,Ee(ge),ge=[],Be=B.indexOf(I,G)}function je(Ge){if(w.header&&!V&&ie.length&&!se){var Xe=ie[0],et=Object.create(null),nr=new Set(Xe);let ht=!1;for(let bt=0;bt<Xe.length;bt++){let Wt=Xe[bt];if(et[Wt=R(w.transformHeader)?w.transformHeader(Wt,bt):Wt]){let rr,Ci=et[Wt];for(;rr=Wt+"_"+Ci,Ci++,nr.has(rr););nr.add(rr),Xe[bt]=rr,et[Wt]++,ht=!0,(J=J===null?{}:J)[rr]=Wt}else et[Wt]=1,Xe[bt]=Wt;nr.add(Wt)}ht&&console.warn("Duplicate headers found and renamed."),se=!0}return{data:ie,errors:de,meta:{delimiter:D,linebreak:I,aborted:H,truncated:!!Ge,cursor:De+(V||0),renamedHeaders:J}}}function Ve(){P(je()),ie=[],de=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return G}}function T(w){var D=w.data,I=c[D.workerId],k=!1;if(D.error)I.userError(D.error,D.file);else if(D.results&&D.results.data){var P={abort:function(){k=!0,L(D.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:x,resume:x};if(R(I.userStep)){for(var N=0;N<D.results.data.length&&(I.userStep({data:D.results.data[N],errors:D.results.errors,meta:D.results.meta},P),!k);N++);delete D.results}else R(I.userChunk)&&(I.userChunk(D.results,P,D.file),delete D.results)}D.finished&&!k&&L(D.workerId,D.results)}function L(w,D){var I=c[w];R(I.userComplete)&&I.userComplete(D),I.terminate(),delete c[w]}function x(){throw new Error("Not implemented.")}function j(w){if(typeof w!="object"||w===null)return w;var D,I=Array.isArray(w)?[]:{};for(D in w)I[D]=j(w[D]);return I}function q(w,D){return function(){w.apply(D,arguments)}}function R(w){return typeof w=="function"}return f.parse=function(w,D){var I=(D=D||{}).dynamicTyping||!1;if(R(I)&&(D.dynamicTypingFunction=I,I={}),D.dynamicTyping=I,D.transform=!!R(D.transform)&&D.transform,!D.worker||!f.WORKERS_SUPPORTED)return I=null,f.NODE_STREAM_INPUT,typeof w=="string"?(w=(k=>k.charCodeAt(0)!==65279?k:k.slice(1))(w),I=new(D.download?g:v)(D)):w.readable===!0&&R(w.read)&&R(w.on)?I=new A(D):(n.File&&w instanceof File||w instanceof Object)&&(I=new p(D)),I.stream(w);(I=(()=>{var k;return!!f.WORKERS_SUPPORTED&&(k=(()=>{var P=n.URL||n.webkitURL||null,N=t.toString();return f.BLOB_URL||(f.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",N,")();"],{type:"text/javascript"})))})(),(k=new n.Worker(k)).onmessage=T,k.id=h++,c[k.id]=k)})()).userStep=D.step,I.userChunk=D.chunk,I.userComplete=D.complete,I.userError=D.error,D.step=R(D.step),D.chunk=R(D.chunk),D.complete=R(D.complete),D.error=R(D.error),delete D.worker,I.postMessage({input:w,config:D,workerId:I.id})},f.unparse=function(w,D){var I=!1,k=!0,P=",",N=`\r
`,W='"',J=W+W,se=!1,X=null,re=!1,G=((()=>{if(typeof D=="object"){if(typeof D.delimiter!="string"||f.BAD_DELIMITERS.filter(function(V){return D.delimiter.indexOf(V)!==-1}).length||(P=D.delimiter),typeof D.quotes!="boolean"&&typeof D.quotes!="function"&&!Array.isArray(D.quotes)||(I=D.quotes),typeof D.skipEmptyLines!="boolean"&&typeof D.skipEmptyLines!="string"||(se=D.skipEmptyLines),typeof D.newline=="string"&&(N=D.newline),typeof D.quoteChar=="string"&&(W=D.quoteChar),typeof D.header=="boolean"&&(k=D.header),Array.isArray(D.columns)){if(D.columns.length===0)throw new Error("Option columns is empty");X=D.columns}D.escapeChar!==void 0&&(J=D.escapeChar+W),D.escapeFormulae instanceof RegExp?re=D.escapeFormulae:typeof D.escapeFormulae=="boolean"&&D.escapeFormulae&&(re=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(W),"g"));if(typeof w=="string"&&(w=JSON.parse(w)),Array.isArray(w)){if(!w.length||Array.isArray(w[0]))return H(null,w,se);if(typeof w[0]=="object")return H(X||Object.keys(w[0]),w,se)}else if(typeof w=="object")return typeof w.data=="string"&&(w.data=JSON.parse(w.data)),Array.isArray(w.data)&&(w.fields||(w.fields=w.meta&&w.meta.fields||X),w.fields||(w.fields=Array.isArray(w.data[0])?w.fields:typeof w.data[0]=="object"?Object.keys(w.data[0]):[]),Array.isArray(w.data[0])||typeof w.data[0]=="object"||(w.data=[w.data])),H(w.fields||[],w.data||[],se);throw new Error("Unable to serialize unrecognized input");function H(V,z,ee){var Z="",$=(typeof V=="string"&&(V=JSON.parse(V)),typeof z=="string"&&(z=JSON.parse(z)),Array.isArray(V)&&0<V.length),Q=!Array.isArray(z[0]);if($&&k){for(var te=0;te<V.length;te++)0<te&&(Z+=P),Z+=B(V[te],te);0<z.length&&(Z+=N)}for(var ie=0;ie<z.length;ie++){var de=($?V:z[ie]).length,ge=!1,De=$?Object.keys(z[ie]).length===0:z[ie].length===0;if(ee&&!$&&(ge=ee==="greedy"?z[ie].join("").trim()==="":z[ie].length===1&&z[ie][0].length===0),ee==="greedy"&&$){for(var Ie=[],ke=0;ke<de;ke++){var Re=Q?V[ke]:ke;Ie.push(z[ie][Re])}ge=Ie.join("").trim()===""}if(!ge){for(var Be=0;Be<de;Be++){0<Be&&!De&&(Z+=P);var tt=$&&Q?V[Be]:Be;Z+=B(z[ie][tt],Be)}ie<z.length-1&&(!ee||0<de&&!De)&&(Z+=N)}}return Z}function B(V,z){var ee,Z;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(Z=!1,re&&typeof V=="string"&&re.test(V)&&(V="'"+V,Z=!0),ee=V.toString().replace(G,J),(Z=Z||I===!0||typeof I=="function"&&I(V,z)||Array.isArray(I)&&I[z]||(($,Q)=>{for(var te=0;te<Q.length;te++)if(-1<$.indexOf(Q[te]))return!0;return!1})(ee,f.BAD_DELIMITERS)||-1<ee.indexOf(P)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?W+ee+W:ee)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!a&&!!n.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=E,f.ParserHandle=b,f.NetworkStreamer=g,f.FileStreamer=p,f.StringStreamer=v,f.ReadableStreamStreamer=A,n.jQuery&&((i=n.jQuery).fn.parse=function(w){var D=w.config||{},I=[];return this.each(function(N){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var W=0;W<this.files.length;W++)I.push({file:this.files[W],inputElem:this,instanceConfig:i.extend({},D)})}),k(),this;function k(){if(I.length===0)R(w.complete)&&w.complete();else{var N,W,J,se,X=I[0];if(R(w.before)){var re=w.before(X.file,X.inputElem);if(typeof re=="object"){if(re.action==="abort")return N="AbortError",W=X.file,J=X.inputElem,se=re.reason,void(R(w.error)&&w.error({name:N},W,J,se));if(re.action==="skip")return void P();typeof re.config=="object"&&(X.instanceConfig=i.extend(X.instanceConfig,re.config))}else if(re==="skip")return void P()}var G=X.instanceConfig.complete;X.instanceConfig.complete=function(H){R(G)&&G(H,X.file,X.inputElem),P()},f.parse(X.file,X.instanceConfig)}}function P(){I.splice(0,1),k()}}),u&&(n.onmessage=function(w){w=w.data,f.WORKER_ID===void 0&&w&&(f.WORKER_ID=w.workerId),typeof w.input=="string"?n.postMessage({workerId:f.WORKER_ID,results:f.parse(w.input,w.config),finished:!0}):(n.File&&w.input instanceof File||w.input instanceof Object)&&(w=f.parse(w.input,w.config))&&n.postMessage({workerId:f.WORKER_ID,results:w,finished:!0})}),(g.prototype=Object.create(y.prototype)).constructor=g,(p.prototype=Object.create(y.prototype)).constructor=p,(v.prototype=Object.create(v.prototype)).constructor=v,(A.prototype=Object.create(y.prototype)).constructor=A,f})}(zc)),zc.exports}var X4=Z4();const eF=dh(X4);class db extends ve.Component{constructor(e){super(e),this.state={data:[]},this.handleFileUpload=this.handleFileUpload.bind(this)}handleFileUpload(e){const t=e.target.files[0];t&&eF.parse(t,{header:!0,skipEmptyLines:!0,complete:n=>{console.log("Parsed CSV data:",n.data),this.props.callBack({data:n.data})},error:n=>{console.error("Error while parsing:",n)}})}render(){const{data:e}=this.state;return _.jsxs("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:[_.jsx("label",{htmlFor:"file-upload",className:"",children:"Upload"}),_.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:this.handleFileUpload})]})}}class tF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}componentDidMount(){this.dispatch({selectedContacts:[]})}filterFunc(){var i;let e=((i=this.propsState.tags)==null?void 0:i.split(","))||"",t=this.componentList.getList("contact"),n=[];if(e)for(let a of e){let u=t.filter(c=>c.getJson().tags.includes(a));n=[...n,...u]}else n=[...t];this.dispatch({selectedContacts:n})}getInnerContent(){var u,c;let e=this.propsState.selectedContacts,t=this.propsState.componentList.getList("contact"),n=(e==null?void 0:e.length)>0,i=t!=null&&t.length?"/"+(t==null?void 0:t.length):"",a=(e==null?void 0:e.length)===(t==null?void 0:t.length);return _.jsxs("div",{className:"map-container",children:[_.jsxs("div",{className:"top-nav-float",children:[_.jsxs("nav",{className:"top-nav",children:[_.jsxs("div",{className:"nav-left",children:[_.jsx("div",{className:"nav-icon",children:_.jsx("i",{className:"fas fa-circle"})}),_.jsx("div",{className:"nav-title",children:"Contacts"})]}),_.jsxs("div",{className:"nav-right",children:[_.jsx("div",{className:"nav-icon",children:_.jsxs("button",{className:"btn",children:["A to Z ",_.jsx("i",{className:"fa-solid fa-angle-down"})]})}),_.jsx("div",{className:"nav-icon",children:_.jsx("button",{className:"btn",children:_.jsx("i",{className:"fa-solid fa-filter"})})})]})]}),_.jsx("div",{className:"search-container",children:_.jsxs("div",{className:"search-bar",children:[_.jsx("i",{className:"fas fa-search search-icon"}),_.jsx("input",{onChange:h=>{this.dispatch({tags:h.target.value})},className:"search-input",placeholder:"Search"})]})}),_.jsxs("div",{className:"filter-nav",children:[_.jsxs("div",{className:"filter-nav-left",children:[_.jsx(_.Fragment,{children:_.jsx("div",{id:"selectBtn",style:{height:"fit-content",marginLeft:"5px",alignContent:"center"},children:_.jsx(Xh,{label:a?"Deselect All":"Select All",check:this.filterFunc,uncheck:()=>{this.dispatch({selectedContacts:[]})}})})}),_.jsx("span",{className:"count-desc",children:(u=this.propsState.selectedContacts)!=null&&u.length?this.propsState.selectedContacts.length+`${i} Selected`:""})]}),!n&&_.jsxs("div",{className:"filter-nav-right",children:[_.jsx(db,{callBack:async h=>{h=h.data.map((f,y)=>(f.owner=this.propsState.currentUser.getJson()._id,f.type="contact",f)),this.dispatch({uploadData:h,popupSwitch:"uploadData"}),await this.operationsFactory.prepare({prepare:h}),this.operationsFactory.run()}}),_.jsx(Cy,{wrapperclassName:"none",content:_.jsx("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Add Contact"}),popupSwitch:"addContact"})]})]})]}),_.jsxs("div",{style:{paddingBottom:"60px"},children:[" ",_.jsx(Vt,{filterFunc:h=>{if(!this.propsState.tags)return!0;let f=this.propsState.tags.split(",");for(let y of f)if(y!==""&&(h.getJson().tags.includes(y)||h.getJson().finishedSequenceTags.includes(y)||y==="replied"&&h.getJson().replied))return!0;return!1},name:"contact",mapContainerclassName:"contact-list",mapSectionclassName:"contact",cells:[{type:"custom",custom:hb}],hasLink:!0})," "]}),((c=this.propsState.selectedContacts)==null?void 0:c.length)>0&&_.jsxs("div",{id:"floating-select-set",className:"floating-select-set",children:[_.jsx("button",{onClick:()=>{this.dispatch({popupSwitch:"addTags"})},className:"floating-select-btn",children:_.jsx("span",{className:"floating-select-btn-text",children:"Tags"})}),_.jsx("button",{onClick:()=>{for(let h of this.propsState.selectedContacts)h.del();this.dispatch({selectedContacts:[]})},className:"floating-select-btn",children:_.jsx("span",{className:"floating-select-btn-text",children:"Delete"})}),_.jsx("button",{className:"floating-select-btn floating-select-primary-btn",children:_.jsx(Jh,{content:_.jsx("span",{className:"floating-select-btn-text",style:{color:"white"},children:"Add to Sequence"}),popupSwitch:"addToSequence"})})]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class _w extends wa{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id,visible:!0}}async componentDidMount(){await this.getComponentsFromBackend()}componentWillUnmount(){this.dispatch({selectedContacts:[]})}render(){return _.jsxs("div",{className:this.props.pageClass||this.state.defaultClass,style:{display:"flex"},children:[_.jsx("div",{style:{width:window.innerWidth>600?"50%":"100%"},children:_.jsx(Gt,{theme:"NoBorder",type:"fit",content:_.jsx(tF,{})})}),_.jsx("div",{style:{width:window.innerWidth>600?"50%":"100%",position:"relative"},children:this.propsState.currentContact&&window.innerWidth>600&&this.state.visible&&_.jsx(Gt,{theme:"NoBorder",type:"fit",content:_.jsx(cb,{})})})]})}}class nF extends Ye{getTimeStampStr(){var t,n;let e;try{e=(n=(t=this.props.obj)==null?void 0:t.getJson())==null?void 0:n.timeStamp}catch(i){return console.error("Error accessing timestamp property:",i),"Invalid Date"}if(e&&e instanceof Lt)try{return e.toDate().toLocaleDateString()}catch(i){return console.error("Error converting Firebase Timestamp to Date:",i),"Invalid Date"}else return e?(console.warn("Received timeValue is not a Firebase Timestamp:",e),String(e)):""}render(){return _.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"message-header",children:[_.jsx("span",{className:"sender",children:this.props.obj.getJson().contactName}),_.jsx("span",{className:"date",children:this.getTimeStampStr()})]}),_.jsx("div",{className:"snippet",children:this.props.obj.getJson().recentMessage})]})}}class rF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit messages-container"}}searchFilter(){}getInnerContent(){return _.jsx(Vt,{name:"conversation",mapContainerClass:"message-list-scai",mapSectionClass:"message-item-scai",cells:[{type:"customBuilt",custom:_.jsx("div",{className:"chat-avatar",children:_.jsx("i",{className:"fa-solid fa-user"})}),wrapperStyle:{width:"50px"},itemStyle:{width:"50px"}},{type:"custom",custom:nF,itemClick:e=>{this.dispatch({currentConversation:e,showConversation:window.innerWidth<600?!0:void 0}),e.setCompState({seen:!0})}}],filterFunc:e=>{var a,u;let t=!1;this.propsState.searchText||(t=!0);let n=this.propsState.searchText;(a=e.getJson().senderName)!=null&&a.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0);let i=this.componentList.getList("email",e.getJson()._id,"conversationId");for(let c of i)(u=c.getJson().body)!=null&&u.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0);return t}})}render(){return _.jsxs("div",{className:this.props.pageClass||this.state.defaultClass,style:{marginLeft:"-10px",minWidth:"fit-content"},children:[_.jsx("div",{className:"header",children:"Messages"}),_.jsx("div",{className:"search-container",children:_.jsxs("div",{className:"search-bar",children:[_.jsx("i",{className:"fas fa-search search-icon"}),_.jsx("input",{type:"text",placeholder:"Search messages...",onChange:e=>{this.dispatch({searchText:e.target.value})},className:"search-input"})]})}),this.getInnerContent()]})}}var wu={exports:{}};/*! https://mths.be/he v1.2.0 by @mathias | MIT license */var iF=wu.exports,ww;function sF(){return ww||(ww=1,function(r,e){(function(t){var n=e,i=r&&r.exports==n&&r,a=typeof Qo=="object"&&Qo;(a.global===a||a.window===a)&&(t=a);var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[\x01-\x7F]/g,h=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,f=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,y={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","	":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr",ª:"ordf",á:"aacute",Á:"Aacute",à:"agrave",À:"Agrave",ă:"abreve",Ă:"Abreve",â:"acirc",Â:"Acirc",å:"aring",Å:"angst",ä:"auml",Ä:"Auml",ã:"atilde",Ã:"Atilde",ą:"aogon",Ą:"Aogon",ā:"amacr",Ā:"Amacr",æ:"aelig",Æ:"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf",ℬ:"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf",ℭ:"Cfr","𝒞":"Cscr",ℂ:"Copf",ć:"cacute",Ć:"Cacute",ĉ:"ccirc",Ĉ:"Ccirc",č:"ccaron",Č:"Ccaron",ċ:"cdot",Ċ:"Cdot",ç:"ccedil",Ç:"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf",ď:"dcaron",Ď:"Dcaron",đ:"dstrok",Đ:"Dstrok",ð:"eth",Ð:"ETH","ⅇ":"ee",ℯ:"escr","𝔢":"efr","𝕖":"eopf",ℰ:"Escr","𝔈":"Efr","𝔼":"Eopf",é:"eacute",É:"Eacute",è:"egrave",È:"Egrave",ê:"ecirc",Ê:"Ecirc",ě:"ecaron",Ě:"Ecaron",ë:"euml",Ë:"Euml",ė:"edot",Ė:"Edot",ę:"eogon",Ę:"Eogon",ē:"emacr",Ē:"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf",ℱ:"Fscr",ﬀ:"fflig",ﬃ:"ffilig",ﬄ:"ffllig",ﬁ:"filig",fj:"fjlig",ﬂ:"fllig",ƒ:"fnof",ℊ:"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr",ǵ:"gacute",ğ:"gbreve",Ğ:"Gbreve",ĝ:"gcirc",Ĝ:"Gcirc",ġ:"gdot",Ġ:"Gdot",Ģ:"Gcedil","𝔥":"hfr",ℎ:"planckh","𝒽":"hscr","𝕙":"hopf",ℋ:"Hscr",ℌ:"Hfr",ℍ:"Hopf",ĥ:"hcirc",Ĥ:"Hcirc",ℏ:"hbar",ħ:"hstrok",Ħ:"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf",ℐ:"Iscr",ℑ:"Im",í:"iacute",Í:"Iacute",ì:"igrave",Ì:"Igrave",î:"icirc",Î:"Icirc",ï:"iuml",Ï:"Iuml",ĩ:"itilde",Ĩ:"Itilde",İ:"Idot",į:"iogon",Į:"Iogon",ī:"imacr",Ī:"Imacr",ĳ:"ijlig",Ĳ:"IJlig",ı:"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf",ĵ:"jcirc",Ĵ:"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr",ķ:"kcedil",Ķ:"Kcedil","𝔩":"lfr","𝓁":"lscr",ℓ:"ell","𝕝":"lopf",ℒ:"Lscr","𝔏":"Lfr","𝕃":"Lopf",ĺ:"lacute",Ĺ:"Lacute",ľ:"lcaron",Ľ:"Lcaron",ļ:"lcedil",Ļ:"Lcedil",ł:"lstrok",Ł:"Lstrok",ŀ:"lmidot",Ŀ:"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf",ℳ:"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr",ℕ:"Nopf","𝒩":"Nscr","𝔑":"Nfr",ń:"nacute",Ń:"Nacute",ň:"ncaron",Ň:"Ncaron",ñ:"ntilde",Ñ:"Ntilde",ņ:"ncedil",Ņ:"Ncedil","№":"numero",ŋ:"eng",Ŋ:"ENG","𝕠":"oopf","𝔬":"ofr",ℴ:"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf",º:"ordm",ó:"oacute",Ó:"Oacute",ò:"ograve",Ò:"Ograve",ô:"ocirc",Ô:"Ocirc",ö:"ouml",Ö:"Ouml",ő:"odblac",Ő:"Odblac",õ:"otilde",Õ:"Otilde",ø:"oslash",Ø:"Oslash",ō:"omacr",Ō:"Omacr",œ:"oelig",Œ:"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf",ℙ:"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr",ℚ:"Qopf",ĸ:"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr",ℛ:"Rscr",ℜ:"Re",ℝ:"Ropf",ŕ:"racute",Ŕ:"Racute",ř:"rcaron",Ř:"Rcaron",ŗ:"rcedil",Ŗ:"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS",ś:"sacute",Ś:"Sacute",ŝ:"scirc",Ŝ:"Scirc",š:"scaron",Š:"Scaron",ş:"scedil",Ş:"Scedil",ß:"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf",ť:"tcaron",Ť:"Tcaron",ţ:"tcedil",Ţ:"Tcedil","™":"trade",ŧ:"tstrok",Ŧ:"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr",ú:"uacute",Ú:"Uacute",ù:"ugrave",Ù:"Ugrave",ŭ:"ubreve",Ŭ:"Ubreve",û:"ucirc",Û:"Ucirc",ů:"uring",Ů:"Uring",ü:"uuml",Ü:"Uuml",ű:"udblac",Ű:"Udblac",ũ:"utilde",Ũ:"Utilde",ų:"uogon",Ų:"Uogon",ū:"umacr",Ū:"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr",ŵ:"wcirc",Ŵ:"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf",ý:"yacute",Ý:"Yacute",ŷ:"ycirc",Ŷ:"Ycirc",ÿ:"yuml",Ÿ:"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf",ℨ:"Zfr",ℤ:"Zopf","𝒵":"Zscr",ź:"zacute",Ź:"Zacute",ž:"zcaron",Ž:"Zcaron",ż:"zdot",Ż:"Zdot",Ƶ:"imped",þ:"thorn",Þ:"THORN",ŉ:"napos",α:"alpha",Α:"Alpha",β:"beta",Β:"Beta",γ:"gamma",Γ:"Gamma",δ:"delta",Δ:"Delta",ε:"epsi","ϵ":"epsiv",Ε:"Epsilon",ϝ:"gammad",Ϝ:"Gammad",ζ:"zeta",Ζ:"Zeta",η:"eta",Η:"Eta",θ:"theta",ϑ:"thetav",Θ:"Theta",ι:"iota",Ι:"Iota",κ:"kappa",ϰ:"kappav",Κ:"Kappa",λ:"lambda",Λ:"Lambda",μ:"mu",µ:"micro",Μ:"Mu",ν:"nu",Ν:"Nu",ξ:"xi",Ξ:"Xi",ο:"omicron",Ο:"Omicron",π:"pi",ϖ:"piv",Π:"Pi",ρ:"rho",ϱ:"rhov",Ρ:"Rho",σ:"sigma",Σ:"Sigma",ς:"sigmaf",τ:"tau",Τ:"Tau",υ:"upsi",Υ:"Upsilon",ϒ:"Upsi",φ:"phi",ϕ:"phiv",Φ:"Phi",χ:"chi",Χ:"Chi",ψ:"psi",Ψ:"Psi",ω:"omega",Ω:"ohm",а:"acy",А:"Acy",б:"bcy",Б:"Bcy",в:"vcy",В:"Vcy",г:"gcy",Г:"Gcy",ѓ:"gjcy",Ѓ:"GJcy",д:"dcy",Д:"Dcy",ђ:"djcy",Ђ:"DJcy",е:"iecy",Е:"IEcy",ё:"iocy",Ё:"IOcy",є:"jukcy",Є:"Jukcy",ж:"zhcy",Ж:"ZHcy",з:"zcy",З:"Zcy",ѕ:"dscy",Ѕ:"DScy",и:"icy",И:"Icy",і:"iukcy",І:"Iukcy",ї:"yicy",Ї:"YIcy",й:"jcy",Й:"Jcy",ј:"jsercy",Ј:"Jsercy",к:"kcy",К:"Kcy",ќ:"kjcy",Ќ:"KJcy",л:"lcy",Л:"Lcy",љ:"ljcy",Љ:"LJcy",м:"mcy",М:"Mcy",н:"ncy",Н:"Ncy",њ:"njcy",Њ:"NJcy",о:"ocy",О:"Ocy",п:"pcy",П:"Pcy",р:"rcy",Р:"Rcy",с:"scy",С:"Scy",т:"tcy",Т:"Tcy",ћ:"tshcy",Ћ:"TSHcy",у:"ucy",У:"Ucy",ў:"ubrcy",Ў:"Ubrcy",ф:"fcy",Ф:"Fcy",х:"khcy",Х:"KHcy",ц:"tscy",Ц:"TScy",ч:"chcy",Ч:"CHcy",џ:"dzcy",Џ:"DZcy",ш:"shcy",Ш:"SHcy",щ:"shchcy",Щ:"SHCHcy",ъ:"hardcy",Ъ:"HARDcy",ы:"ycy",Ы:"Ycy",ь:"softcy",Ь:"SOFTcy",э:"ecy",Э:"Ecy",ю:"yucy",Ю:"YUcy",я:"yacy",Я:"YAcy",ℵ:"aleph",ℶ:"beth",ℷ:"gimel",ℸ:"daleth"},g=/["&'<>`]/g,p={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},v=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,A=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,b=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,C={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},E={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},T={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},L=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],x=String.fromCharCode,j={},q=j.hasOwnProperty,R=function(G,H){return q.call(G,H)},w=function(G,H){for(var B=-1,V=G.length;++B<V;)if(G[B]==H)return!0;return!1},D=function(G,H){if(!G)return H;var B={},V;for(V in H)B[V]=R(G,V)?G[V]:H[V];return B},I=function(G,H){var B="";return G>=55296&&G<=57343||G>1114111?(H&&N("character reference outside the permissible Unicode range"),"�"):R(T,G)?(H&&N("disallowed character reference"),T[G]):(H&&w(L,G)&&N("disallowed character reference"),G>65535&&(G-=65536,B+=x(G>>>10&1023|55296),G=56320|G&1023),B+=x(G),B)},k=function(G){return"&#x"+G.toString(16).toUpperCase()+";"},P=function(G){return"&#"+G+";"},N=function(G){throw Error("Parse error: "+G)},W=function(G,H){H=D(H,W.options);var B=H.strict;B&&A.test(G)&&N("forbidden code point");var V=H.encodeEverything,z=H.useNamedReferences,ee=H.allowUnsafeSymbols,Z=H.decimal?P:k,$=function(Q){return Z(Q.charCodeAt(0))};return V?(G=G.replace(c,function(Q){return z&&R(y,Q)?"&"+y[Q]+";":$(Q)}),z&&(G=G.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),z&&(G=G.replace(f,function(Q){return"&"+y[Q]+";"}))):z?(ee||(G=G.replace(g,function(Q){return"&"+y[Q]+";"})),G=G.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),G=G.replace(f,function(Q){return"&"+y[Q]+";"})):ee||(G=G.replace(g,$)),G.replace(u,function(Q){var te=Q.charCodeAt(0),ie=Q.charCodeAt(1),de=(te-55296)*1024+ie-56320+65536;return Z(de)}).replace(h,$)};W.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var J=function(G,H){H=D(H,J.options);var B=H.strict;return B&&v.test(G)&&N("malformed character reference"),G.replace(b,function(V,z,ee,Z,$,Q,te,ie,de){var ge,De,Ie,ke,Re,Be;return z?(Re=z,C[Re]):ee?(Re=ee,Be=Z,Be&&H.isAttributeValue?(B&&Be=="="&&N("`&` did not start a character reference"),V):(B&&N("named character reference was not terminated by a semicolon"),E[Re]+(Be||""))):$?(Ie=$,De=Q,B&&!De&&N("character reference was not terminated by a semicolon"),ge=parseInt(Ie,10),I(ge,B)):te?(ke=te,De=ie,B&&!De&&N("character reference was not terminated by a semicolon"),ge=parseInt(ke,16),I(ge,B)):(B&&N("named character reference was not terminated by a semicolon"),V)})};J.options={isAttributeValue:!1,strict:!1};var se=function(G){return G.replace(g,function(H){return p[H]})},X={version:"1.2.0",encode:W,decode:J,escape:se,unescape:J};if(n&&!n.nodeType)if(i)i.exports=X;else for(var re in X)R(X,re)&&(n[re]=X[re]);else t.he=X})(iF)}(wu,wu.exports)),wu.exports}var oF=sF();const aF=dh(oF);function tr(r){if(typeof r=="string"){const e=r.replace(/<[^>]+>/g,"");return aF.decode(e).replace(/\s+/g," ").trim()}}class uF extends Ye{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().body,t=tr(e);this.setState({plainText:t})}componentDidUpdate(e){const t=this.props.obj.getJson().body,n=e.obj.getJson().body;if(t!==n){const i=tr(t);this.setState({plainText:i})}}render(){let e=this.props.obj.getJson().ownerMessage?"outgoing":"incoming";return _.jsx("div",{children:this.props.obj.getJson().suggestion?_.jsxs("div",{className:"message-item outgoing",children:[_.jsxs("div",{className:"close-or-accept",children:[_.jsx("div",{className:"accept-suggested-message hover-darken",onClick:async()=>{let t=this.props.obj;t.setCompState({suggestion:!1,ownerMessage:!0},{run:!0});let n={originalMessageId:t.getJson().originalMessageId||"",from:this.propsState.currentUser.getJson()._id,to:this.propsState.currentConversation.getJson().contact,subject:t.getJson().subject,text:t.getJson().body},i=this.propsState.currentUser.getJson().gmailAuthenticated?"https://gmailapiemailhandler-7c5i3vsqma-uc.a.run.app":"https://sendgridemailhandler-7c5i3vsqma-uc.a.run.app";await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(a=>{if(!a.ok)throw new Error(`HTTP error! Status: ${a.status}`);return a.json()}).then(a=>{console.log("Reply sent successfully in thread.",a)}).catch(a=>{console.error("Error sending reply:",a)})},children:_.jsx("i",{className:"fas fa-check"})}),_.jsx(ZC,{obj:this.props.obj,formClass:"none",content:_.jsx("div",{className:"decline-suggested-message hover-darken",children:_.jsx("i",{className:"fas fa-times"})})})]}),_.jsx("div",{className:"message message-item-suggested",children:this.state.plainText})]}):_.jsxs(_.Fragment,{children:[this.props.obj.getJson().timeStamp&&_.jsx("div",{className:"date-divider",children:_.jsx("span",{className:"timestamp",children:this.props.obj.getJson().timeStamp})}),_.jsx("div",{className:"message-item "+e,children:_.jsx("div",{className:"message "+e,children:this.state.plainText})})]})})}}const lF="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23696969'%3e%3cpath%20d='M400-80%200-480l400-400%2071%2071-329%20329%20329%20329-71%2071Z'/%3e%3c/svg%3e";class cF extends Ye{constructor(t){super(t);le(this,"handleCheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n.includes(t)||n.push(t),this.dispatch({selectedContacts:n})});le(this,"handleUncheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n=n.filter(i=>i!==t),this.dispatch({selectedContacts:n})})}render(){var u;const{obj:t}=this.props;let n=t.getJson(),a=(this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[]).includes(t);return _.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[_.jsxs("div",{className:"contact-item hover-darken",style:{background:a?"#2374ab10":"white",position:"relative",paddingLeft:"5px"},children:[_.jsx(Xh,{checkKey:"selectedContacts",obj:t,check:this.handleCheckContact,uncheck:this.handleUncheckContact}),_.jsx("div",{className:"contact-avatar",children:_.jsx("i",{className:"fa-solid fa-user"})}),_.jsxs("div",{className:"contact-info",children:[_.jsx("div",{onClick:()=>{this.dispatch({currentPopupComponent:t,popupSwitch:"updateContact"})},className:"contact-name",children:`${n.firstName} ${n.lastName}`}),_.jsx("div",{className:"contact-desc",children:n.company})]}),_.jsx("div",{style:{cursor:"pointer",width:"fit-content"},children:_.jsx("div",{className:"contact-icon",children:_.jsx("i",{className:"fa-solid fa-message"})})})]}),_.jsx("div",{className:"contact-tag-container active",children:(u=n.tags)==null?void 0:u.split(",").map((c,h)=>_.jsx("button",{className:"contact-tag-btn",children:c},h))})]})}}class hF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}componentDidMount(){this.dispatch({selectedContacts:[]})}filterFunc(){var a;let e=fs.getIdFromURL(),t=((a=this.propsState.tags)==null?void 0:a.split(","))||"",n=this.componentList.getList("potentialProspect",e,"researchId"),i=[];if(t)for(let u of t){let c=n.filter(h=>h.getJson().tags.includes(u));i=[...i,...c]}else i=[...n];this.dispatch({selectedContacts:i})}getInnerContent(){var u,c;let e=fs.getIdFromURL(),t=this.propsState.selectedContacts,n=this.propsState.componentList.getList("potentialProspect",e,"researchId");(t==null?void 0:t.length)>0;let i=n!=null&&n.length?"/"+(n==null?void 0:n.length):"",a=(t==null?void 0:t.length)===(n==null?void 0:n.length);return _.jsxs("div",{className:"mobile-container",children:[_.jsxs("div",{className:"top-nav-float",children:[_.jsxs("nav",{className:"top-nav",children:[_.jsxs("div",{className:"nav-left",children:[_.jsx("div",{className:"nav-icon",children:_.jsx("i",{className:"fas fa-circle"})}),_.jsx("div",{className:"nav-title",children:"Researched Potential Prospects"})]}),_.jsxs("div",{className:"nav-right",children:[_.jsx("div",{className:"nav-icon",children:_.jsxs("button",{className:"btn",children:["A to Z ",_.jsx("i",{className:"fa-solid fa-angle-down"})]})}),_.jsx("div",{className:"nav-icon",children:_.jsx("button",{className:"btn",children:_.jsx("i",{className:"fa-solid fa-filter"})})})]})]}),_.jsx("div",{className:"search-container",children:_.jsxs("div",{className:"search-bar",children:[_.jsx("i",{className:"fas fa-search search-icon"}),_.jsx("input",{onChange:h=>{this.dispatch({tags:h.target.value})},className:"search-input",placeholder:"Search"})]})}),_.jsx("div",{className:"filter-nav",children:_.jsxs("div",{className:"filter-nav-left",children:[_.jsx(_.Fragment,{children:_.jsx("div",{id:"selectBtn",style:{height:"fit-content",marginLeft:"5px",alignContent:"center"},children:_.jsx(Xh,{label:a?"Deselect All":"Select All",check:this.filterFunc,uncheck:()=>{this.dispatch({selectedContacts:[]})}})})}),_.jsx("span",{className:"count-desc",children:(u=this.propsState.selectedContacts)!=null&&u.length?this.propsState.selectedContacts.length+`${i} Selected`:""})]})})]}),_.jsx(Vt,{filterFunc:h=>{if(!this.propsState.tags)return!0;let f=this.propsState.tags.split(",");for(let y of f)if(y!==""&&h.getJson().tags.includes(y))return!0;return!1},filter:{search:e,attribute:"researchId"},name:"potentialProspect",mapContainerclassName:"contact-list",mapSectionclassName:"contact",cells:[{type:"custom",custom:cF}],hasLink:!0}),((c=this.propsState.selectedContacts)==null?void 0:c.length)>0&&_.jsxs("div",{id:"floating-select-set",className:"floating-select-set",children:[_.jsx("button",{onClick:()=>{for(let h of this.propsState.selectedContacts)h.del();this.dispatch({selectedContacts:[]})},className:"floating-select-btn hover-basic",children:_.jsx("span",{className:"floating-select-btn-text",children:"Remove"})}),_.jsx("button",{onClick:()=>{for(let h of this.propsState.selectedContacts)h.copy({type:"contact",ogPPId:h.getJson()._id})},className:"floating-select-btn floating-select-primary-btn hover-basic",children:_.jsx("span",{className:"floating-select-btn-text",children:"Add Prospect"})}),_.jsx("button",{style:{width:"110px"},className:"floating-select-btn floating-select-primary-btn hover-basic",children:_.jsx(Jh,{formclassName:"FCImgButton",content:_.jsx("span",{onClick:()=>{let h=this.propsState.selectedContacts;for(let f of h)f.copy({type:"contact",ogPPId:f.getJson()._id});this.dispatch({sequenceDataType:"research"})},className:"floating-select-btn-text",style:{color:"white"},children:"Add to Sequence"}),popupSwitch:"addToSequence"})})]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class dF extends hb{constructor(e){super(e),this.state={...this.state,count:0}}componentDidMount(){if(this.state.count<=0){const{app:e,obj:t}=this.props;let a=e.state.componentList.getList("potentialProspect",t==null?void 0:t.getJson()._id,"researchId").length;this.setState({count:a})}}render(){const{obj:e,app:t}=this.props;let n=e.getJson(),i=n.isActive;return _.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[_.jsx("div",{style:{alignSelf:"flex-end"},children:_.jsx(Jh,{obj:e,formClass:"none",wrapperClass:"none",content:_.jsx("span",{className:"floating-select-btn-text",style:{color:"black",marginRight:"10px"},children:"edit"}),popupSwitch:"updateResearch"})}),_.jsxs(qt,{to:`./${n==null?void 0:n._id}`,style:{padding:"20px"},className:`contact-item ${i?"contact-item-active":""}`,children:[_.jsxs("div",{className:"contact-info",children:[_.jsx("div",{onClick:()=>{this.dispatch({currentPopupComponent:e,popupSwitch:"updateContact"})},className:"contact-name",children:`${n.name} `}),_.jsx("div",{className:"contact-desc",children:`${this.state.count} Contact${this.state.count!==1?"s":""} Found`})]}),_.jsxs("div",{className:`profile-status ${i?"profile-status-active":""}`,children:[_.jsx("i",{className:"fa-solid fa-circle"}),_.jsx("span",{children:i?"Active":"Paused"})]})]}),_.jsx("div",{className:"contact-tag-container active",children:this.getTagUI(n)})]})}}class fF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}filterFunc(){var i;let e=((i=this.propsState.tags)==null?void 0:i.split(","))||"",t=this.componentList.getList("contact"),n=[];if(e)for(let a of e){let u=t.filter(c=>c.getJson().tags.includes(a));n=[...n,...u]}else n=[...t];this.dispatch({selectedContacts:n})}getInnerContent(){return _.jsxs("div",{className:"map-container",children:[_.jsxs("div",{className:"top-nav-float",children:[_.jsxs("nav",{className:"top-nav",children:[_.jsxs("div",{className:"nav-left",children:[_.jsx("div",{className:"nav-icon",children:_.jsx("i",{className:"fas fa-circle"})}),_.jsx("div",{className:"nav-title",children:"Research"})]}),_.jsxs("div",{className:"nav-right",children:[_.jsx("div",{className:"nav-icon",children:_.jsxs("button",{className:"btn",children:["A to Z ",_.jsx("i",{className:"fa-solid fa-angle-down"})]})}),_.jsx("div",{className:"nav-icon",children:_.jsx("button",{className:"btn",children:_.jsx("i",{className:"fa-solid fa-filter"})})})]})]}),_.jsx("div",{className:"search-container",children:_.jsxs("div",{className:"search-bar",children:[_.jsx("i",{className:"fas fa-search search-icon"}),_.jsx("input",{onChange:e=>{this.dispatch({searchText:e.target.value})},className:"search-input",placeholder:"Search"})]})}),_.jsx("div",{className:"filter-nav"}),_.jsx(Cy,{wrapperClass:"icon-row",newProp:"asdf",content:_.jsx("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"New Research Profile"}),popupSwitch:"addResearch"})]}),_.jsx("div",{className:"card-header",children:"Customer Profiles"}),_.jsxs("div",{children:[" ",_.jsx(Vt,{filterFunc:e=>{var i;let t=!1;this.propsState.searchText||(t=!0);let n=this.propsState.searchText;return(i=e.getJson().name)!=null&&i.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0),t},name:"research",mapContainerclassName:"contact-list",mapSectionclassName:"contact",cells:[{type:"custom",custom:dF}]})]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class Ew extends wa{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.getComponentsFromBackend()}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:_.jsx(Gt,{theme:"NoBorder",type:"fit",content:_.jsx(fF,{})})})}}class pF extends Ye{constructor(e){super(e)}render(){var n,i;const{obj:e}=this.props;let t=e.getJson();return _.jsxs("div",{className:"sequence",children:[_.jsxs("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:[_.jsx(qt,{to:"/sequence/"+t._id,style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-left",children:_.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})}),_.jsx(qt,{to:"/sequence/"+t._id,style:{marginRight:"0px"},onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-right",children:"View Details"})]}),_.jsxs("div",{className:"row row-space-around",style:{fontSize:"14px"},children:[_.jsxs("div",{className:"col",children:[_.jsx("div",{children:"Active"}),_.jsx("div",{children:((i=(n=this.componentList.getList("contact",t._id,"sequenceId"))==null?void 0:n.filter(a=>a.getJson().finished===!1))==null?void 0:i.length)||"0"})]}),_.jsxs("div",{className:"col",children:[_.jsx("div",{children:"Completed"}),_.jsx("div",{children:(t==null?void 0:t.finished)||"0"})]}),_.jsxs("div",{className:"col",children:[_.jsx("div",{children:"Opened"}),_.jsx("div",{children:t!=null&&t.openedRate?`${t==null?void 0:t.openedRate}%`:"N/A"})]}),_.jsxs("div",{className:"col",children:[_.jsx("div",{children:"Reply"}),_.jsx("div",{children:(t==null?void 0:t.replyRate)!=null?`${t.replyRate}`:"N/A"}),"                "]}),_.jsxs("div",{className:"col",children:[_.jsx("div",{children:"Bounce"}),_.jsx("div",{children:t!=null&&t.bounceRate?`${t==null?void 0:t.bounceRate}%`:"N/A"})]})]})]})}}class mF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return _.jsxs("div",{className:"fit",children:[_.jsx("h4",{style:{marginBottom:"10px",font:"normal normal 900 16px/22px Satoshi"},children:"Sequences"}),_.jsx(Vt,{name:"sequence",filterFunc:e=>{var i;if(e.getJson().name===void 0||e.getJson().name==="")return!1;let t=!1;this.propsState.searchText||(t=!0);let n=this.propsState.searchText;return(i=e.getJson().name)!=null&&i.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0),t},cells:[{type:"custom",custom:pF}]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class gF extends Ye{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().content,t=tr(e);this.setState({plainText:t})}componentDidUpdate(e){var i,a;const t=(i=this.props.obj)==null?void 0:i.getJson().content,n=(a=this.props.obj)==null?void 0:a.getJson().content;if(t!==n){const u=tr(t);this.setState({plainText:u})}}render(){const{obj:e}=this.props;let t=e.getJson();return _.jsx("div",{className:"sequence",children:_.jsxs("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:[_.jsx(qt,{style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},to:"/template/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-left",children:_.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:this.state.plainText})}),_.jsx(qt,{style:{marginRight:"0px"},to:"/template/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-right",children:"View Details"})]})})}}class yF extends Ye{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().content,t=tr(e);this.setState({plainText:t})}componentDidUpdate(e){var i,a;const t=(i=this.props.obj)==null?void 0:i.getJson().content,n=(a=this.props.obj)==null?void 0:a.getJson().content;if(t!==n){const u=tr(t);this.setState({plainText:u})}}render(){const{obj:e}=this.props;let t=e.getJson();return _.jsx("div",{className:"sequence",children:_.jsx("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:_.jsx("div",{style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},onClick:()=>{let n=this.props.changeItem||"currentPopupComponent",i=this.props.changeAttribute||"content";this.propsState[n].setCompState({[i]:t.content}),this.dispatch({update:this.propsState[n]})},className:"title-left",children:_.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:this.state.plainText})})})})}}class vF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return _.jsxs(_.Fragment,{children:[_.jsx("h4",{style:{marginBottom:"10px",font:"normal normal 900 16px/22px Satoshi"},children:"Templates"}),_.jsx(Vt,{name:"template",filterFunc:e=>{var i;if(e.getJson().content===void 0||e.getJson().content==="")return!1;let t=!1;this.propsState.searchText||(t=!0);let n=this.propsState.searchText;return(i=e.getJson().content)!=null&&i.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0),t},cells:[{type:"custom",custom:gF}]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class _F extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return _.jsxs("div",{className:"map-container",style:{paddingBottom:"62px"},children:[_.jsxs("div",{className:"top-nav-float",children:[_.jsx("nav",{className:"top-nav",children:_.jsxs("div",{className:"nav-left",children:[_.jsx("div",{className:"nav-icon",children:_.jsx("i",{className:"fas fa-circle"})}),_.jsx("div",{className:"title-name",children:"Content"})]})}),_.jsx("div",{className:"search-container",children:_.jsxs("div",{className:"search-bar",children:[_.jsx("i",{className:"fas fa-search search-icon"}),_.jsx("input",{onChange:e=>{this.dispatch({searchText:e.target.value})},className:"search-input",placeholder:"Search"})]})}),_.jsx("div",{className:"filter",children:_.jsxs("div",{className:"row row-space-between",children:[_.jsx(qt,{to:"/sequence",className:"btn-gray",children:"New Sequence"}),_.jsx(qt,{to:"/template",className:"btn-gray",children:"New Template"})]})})]}),_.jsx("div",{children:_.jsx(Gt,{theme:"defaultCard",content:_.jsx(mF,{})})}),_.jsx("div",{children:_.jsx(Gt,{theme:"defaultCard",content:_.jsx(vF,{})})})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class Aw extends wa{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.propsState.currentUser.getJson()._id}}async componentDidMount(){this.getComponentsFromBackend()}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.state.gotComponents&&_.jsx(Gt,{theme:"NoBorder",type:"fit",content:_.jsx(_F,{})})})}}class wF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){var t;let e=this.componentList.getComponent("aiSettings");return _.jsxs("div",{className:"map-container",style:{paddingBottom:"62px"},children:[_.jsx("h1",{children:"AI Settings"}),(t=e==null?void 0:e.getJson())!=null&&t.autoAI?_.jsx("div",{onClick:()=>{e.setCompState({autoAI:!1},{run:!0},!0)},className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Turn off AI"}):_.jsx("div",{onClick:()=>{e.setCompState({autoAI:!0},{run:!0},!0)},className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Turn on AI"})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}const fb="/assets/logo_google_g-DjEGDao7.png";class EF extends Ye{constructor(t){super(t);le(this,"handleAuthClick",()=>{this.setState({statusMessage:"Redirecting to Google..."});const t="786362911238-7q3lb2icdev4ives0ho4loi21n1r1t1g.apps.googleusercontent.com",n="https://www.googleapis.com/auth/gmail.send https://www.googleapis.com/auth/gmail.modify https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile openid",i="https://scaiuserauthentication-7c5i3vsqma-uc.a.run.app/oauth2callback",a=new URL("https://accounts.google.com/o/oauth2/v2/auth");a.searchParams.set("client_id",t),a.searchParams.set("redirect_uri",i),a.searchParams.set("response_type","code"),a.searchParams.set("scope",n),a.searchParams.set("access_type","offline"),a.searchParams.set("prompt","consent");const u=this.propsState.currentUser.getJson()._id,c=window.location.href,f=JSON.stringify({userId:u,postAuthRedirect:c});a.searchParams.set("state",f),window.location.href=a.toString()});this.state={statusMessage:""}}render(){const{statusMessage:t}=this.state;return _.jsxs("div",{className:"gmail-auth-container",children:[_.jsx("h1",{style:{font:"normal normal 900 18px/24px Satoshi;"},children:"Gmail API Authorization"}),_.jsx("p",{children:"Click the button below to authorize your Google account for use with the Firebase Function."}),_.jsx("p",{children:"- This process will redirect you to Google for authorization and then back to your function, which will save your token to Firestore, linked by your email address."}),_.jsxs("button",{className:"auth-button dark-button-1",style:{fontSize:"15px",background:"#333333"},onClick:this.handleAuthClick,children:[_.jsx("img",{src:fb,style:{width:"30px"}}),_.jsx("div",{children:"Authorize with Google"})]}),t&&_.jsx("div",{className:"status-message",children:t})]})}}class AF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}getInnerContent(){return _.jsx("div",{children:this.propsState.currentUser.getJson().gmailAuthenticated?_.jsxs("div",{style:{font:"normal normal 900 19px/25px Satoshi",paddingTop:"30px"},children:["Gmail Authenticated:",_.jsxs("div",{style:{font:"normal normal 400 16px/21px Satoshi",color:"#696969",alignItems:"center",display:"flex",marginTop:"20px"},children:[_.jsx("img",{src:fb,style:{width:"30px"}}),this.propsState.currentUser.getJson()._id]})]}):_.jsx(EF,{})})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,style:{marginLeft:"30px",width:"100%"},children:this.getInnerContent()})}}class Cw extends wa{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.getComponentsFromBackend()}render(){return _.jsxs("div",{className:this.props.pageClass||this.state.defaultClass,style:{display:"flex"},children:[_.jsx(Gt,{theme:"NoBorder",type:"fit",content:_.jsx(AF,{})}),_.jsx(Gt,{theme:"NoBorder",type:"fit",content:_.jsx(wF,{})})]})}}class CF extends Ye{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().content,t=tr(e);this.setState({plainText:t})}componentDidUpdate(e){var i,a;const t=(i=this.props.obj)==null?void 0:i.getJson().content,n=(a=this.props.obj)==null?void 0:a.getJson().content;if(t!==n){const u=tr(t);this.setState({plainText:u})}}render(){return _.jsx("div",{onClick:()=>{this.dispatch({popupSwitch:"updateStep",currentPopupComponent:this.props.obj})},children:_.jsxs("div",{className:"icon-row",children:[_.jsx("div",{className:"icon-container",children:_.jsxs("div",{className:"col",children:[_.jsx("div",{className:"icon",style:{cursor:"pointer"},children:_.jsx("i",{className:"fa-solid fa-envelope"})}),_.jsx("div",{className:"svg",children:_.jsx("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:_.jsx("line",{x1:"50%",y1:"0",x2:"50%",y2:"50",stroke:"var(--app-green)",strokeWidth:"3"})})})]})}),_.jsxs("div",{className:"message-container",children:[_.jsx("b",{children:this.props.obj.getJson().subject}),_.jsx("br",{}),_.jsx("span",{children:this.state.plainText})]})]})})}}class bF extends Ye{constructor(e){super(e),this.state={...this.state,style:{width:"fit-content",font:"normal normal 900 10px / 14px Satoshi",padding:"6px 17px",letterSpacing:".5px",color:"white",borderRadius:"53px",marginTop:"0px"},plainText:""}}getText(e){let t="Active",n="#9a9a9a";return e.getJson().finished&&(t="Finished",e.getJson().bounced&&(t="Bounced",n="#BE5858"),e.getJson().replied&&(t="Replied",n="#2374AB")),_.jsx("div",{className:"contact-tag-btn",style:{...this.state.style,background:n+" 0% 0% no-repeat"},children:t})}render(){var i,a;let e=(i=this.props.obj)==null?void 0:i.getJson(),t=e!=null&&e.mobile?e==null?void 0:e.mobile:e==null?void 0:e.email;(e.firstName||e.lastName)&&`${e.firstName}${e.lastName}`;let n=this.getText((a=this.props)==null?void 0:a.obj);return _.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[_.jsxs("div",{className:"contact-info",style:{flex:2},children:[_.jsx("div",{className:"contact-name",children:`${e.firstName} ${e.lastName}`}),_.jsxs("div",{className:"contact-desc",children:[(e==null?void 0:e.company)||(e==null?void 0:e.title)||(e==null?void 0:e.email)||(e==null?void 0:e.mobile)||"",_.jsxs("div",{children:["step: ",parseInt(e.emailNumber)+1]})]})]}),_.jsxs("div",{style:{display:"flex",flex:1,gap:"3px",justifyContent:"flex-end"},children:[_.jsx("div",{children:n}),!this.props.obj.getJson().finished&&_.jsx("div",{title:"Remove from Sequence",onClick:()=>{this.props.obj.setCompState({finished:!0}),this.props.obj.update();let u=this.propsState.currentSequence,c=parseInt(u.getJson().finished)+1;u.setCompState({finished:c}),u.update()},className:"dark-button-1",children:"Remove"})]})]})}}class xc extends tl{constructor(e){super(e),this.state={...this.state,list:null,spState:"sequenceSteps"}}async componentDidMount(){var n;let e;await this.getComponentsFromBackend(),await this.componentList.getComponentsFromBackend("template"),await this.componentList.getComponentsFromBackend("step"),await this.componentList.getComponentsFromBackend("contact"),e=this.comp,e||(e=await this.operationsFactory.prepare({prepare:{type:"sequence"},clean:!0}),e=e[0]);let t=await this.componentList.getList("step",(n=this.propsState.currentSequence)==null?void 0:n.getJson()._id,"sequenceId");this.state.list||this.setState({list:t}),await this.dispatch({currentSequence:e}),this.componentList.sortSelectedList("step","order")}componentWillUnmount(){this.operationsFactory.clear()}async createStep(e){let t=this.componentList.getList("step",e?e.getJson()._id:this.propsState.currentSequence.getJson()._id,"sequenceId");this.state.list||this.setState({list:t});const n=await this.operationsFactory.prepare({prepare:{type:"step",sequenceId:e?e.getJson()._id:this.propsState.currentSequence.getJson()._id,step:t.length}});this.dispatch({currentStep:n.length===2?n[1]:n[0]})}getStepJson(){var n,i;let e=this.componentList.getList("step",(n=this.propsState.currentSequence)==null?void 0:n.getJson()._id,"sequenceId");return{type:"step",sequenceId:(i=this.propsState.currentSequence)==null?void 0:i.getJson()._id,step:e.length}}getInnerContent(){var n,i,a,u,c,h;let t=((n=this.state.list)==null?void 0:n.length)>0?(i=this.state)==null?void 0:i.list[0].getJson().content:void 0;return _.jsx("div",{className:"fit",children:_.jsxs("div",{className:"mobile-container",children:[_.jsxs("div",{className:"title-bar",children:[_.jsxs("div",{className:"title-left",children:[_.jsx("div",{className:"title-icon",children:_.jsx("i",{className:"fas fa-angle-left",onClick:()=>{history.back()}})}),((a=this.propsState.currentSequence)==null?void 0:a.getJson().name)===""||this.state.edit?_.jsxs("div",{className:"name-a-sequence",children:[_.jsx(at,{obj:this.propsState.currentSequence,name:"name"}),_.jsx(Ai,{callbackFunc:()=>{this.setState({edit:!1}),this.propsState.currentSequence.update()},content:"save",className:"dark-button-1"})]}):_.jsx(_.Fragment,{children:_.jsxs("div",{className:"title-name",children:[(u=this.propsState.currentSequence)==null?void 0:u.getJson().name,_.jsx("span",{onClick:()=>{this.setState({edit:!0})},children:_.jsx("span",{className:"name-a-sequence-edit-btn",children:"Edit"})})]})})]}),"limit contacts per day:",_.jsx(at,{name:"limit",obj:this.propsState.currentSequence,update:!0}),_.jsxs("div",{className:"title-right active-seq-container",children:[_.jsx("div",{className:"title-icon",children:_.jsx("i",{className:"fas fa-circle"})}),_.jsx("div",{className:"title-name",children:"Active"})]})]}),_.jsx("div",{className:"switch-tab",children:_.jsxs("div",{className:"row row-space-around",children:[_.jsxs("div",{onClick:()=>{this.setState({spState:"assignedProspects"})},className:this.state.spState==="sequenceSteps"?"switch-tab-btn":"switch-tab-btn active",children:["Assigned",_.jsx("br",{}),"Prospects"]}),_.jsxs("div",{onClick:()=>{this.setState({spState:"sequenceSteps"})},className:this.state.spState==="assignedProspects"?"switch-tab-btn":"switch-tab-btn active",children:["Sequence",_.jsx("br",{}),"Steps"]})]})}),this.state.spState==="sequenceSteps"?_.jsxs("div",{className:"icon-list",children:[_.jsx(Vt,{name:"step",mapSectionClass:"none",mapContainerClass:"none",filter:{search:(c=this.propsState.currentSequence)==null?void 0:c.getJson()._id,attribute:"sequenceId"},filterFunc:f=>!(f.getJson().content===void 0||f.getJson().content===""),cells:[{type:"custom",custom:CF,wrapperClass:"none"}]}),_.jsx(Jh,{formClass:"svg-last",newProp:"asdf",obj:this.getStepJson(),content:_.jsxs(_.Fragment,{children:[_.jsx("svg",{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg",children:t&&this.state.list&&_.jsx(_.Fragment,{children:_.jsx("path",{d:"M25,0 Q25,25 50,25 H50",fill:"none",stroke:"var(--app-green)",strokeWidth:"3",strokeLinecap:"round"})})}),_.jsx("div",{className:"icon-last",children:_.jsx("i",{className:"fa-solid fa-plus"})})]}),popupSwitch:"addStep"}),_.jsx("div",{className:"icon-row",children:_.jsx("div",{className:"svg-last"})})]}):_.jsx("div",{className:"layoutColumn conversation-container",style:{padding:"20px"},children:_.jsx(Vt,{name:"contact",mapSectionClass:"none",mapContainerClass:"none",filter:{search:(h=this.propsState.currentSequence)==null?void 0:h.getJson()._id,attribute:"sequenceId"},cells:[{type:"custom",custom:bF,wrapperClass:"none"}]})})]})})}render(){return _.jsx("div",{className:[this.props.pageClass||this.state.defaultClass,"sequence-margin"].join(" "),children:this.getInnerContent()})}}class Sc extends tl{async componentDidMount(){await this.getComponentsFromBackend();const e=this.urlId;if(!e||e==="template"){const t=await this.operationsFactory.prepare({prepare:{type:"template"},clean:!0});this.dispatch({currentComponent:t[0]})}}getInnerContent(){return _.jsxs("div",{className:"fit",children:[_.jsx("h1",{children:"Template Details"}),_.jsx("div",{className:"input-container",children:_.jsx("div",{className:"input-bar",children:this.propsState.currentComponent&&_.jsx(at,{type:"quill",name:"content",obj:this.propsState.currentComponent})})}),_.jsx(Ai,{content:"Save Template"})]})}render(){return _.jsx("div",{className:this.props.pageClass||"fit",children:this.state.gotComponents&&this.getInnerContent()})}}class TF extends Ye{constructor(e){super(e),this.state={...this.state}}render(){const{obj:e}=this.props;let t=e.getJson();return _.jsx("div",{className:"sequence",children:_.jsxs("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:[_.jsx(qt,{style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},to:"/client/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-left",children:_.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})}),_.jsx(qt,{style:{marginRight:"0px"},to:"/client/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-right",children:"View Details"})]})})}}class xF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return _.jsxs(_.Fragment,{children:[_.jsx("h4",{style:{marginBottom:"10px",font:"normal normal 900 16px/22px Satoshi"},children:"Admin"}),_.jsx(Vt,{name:"client",cells:[{type:"custom",custom:TF}]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class SF extends Ye{constructor(e){super(e),this.state={...this.state,plainText:""}}async componentDidMount(){var i;const e=(i=this.props.obj)==null?void 0:i.getJson().content,t=tr(e);this.setState({plainText:t});let{obj:n}=this.props;await this.componentList.getComponentsFromBackend({type:"csv",ids:n.getJson()._id,filterKeys:"researchId"}),this.setState({})}componentDidUpdate(e){var i,a;const t=(i=this.props.obj)==null?void 0:i.getJson().content,n=(a=this.props.obj)==null?void 0:a.getJson().content;if(t!==n){const u=tr(t);this.setState({plainText:u})}}render(){const{obj:e}=this.props;let t=e.getJson();return _.jsxs("div",{children:[_.jsx("div",{className:"sequence",children:_.jsxs("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:[_.jsx("div",{style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},className:"title-left",children:_.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})}),_.jsx(db,{callBack:async n=>{debugger;let i=fs.getIdFromURL(),a=await this.operationsFactory.prepare({prepare:{type:"csv",researchId:t._id}});a=a[0],n=n.data.map((u,c)=>(u.owner=i,u.type="potentialProspect",u.researchId=t._id,u.csvId=a.getJson()._id,u)),await this.operationsFactory.prepare({prepare:n}),this.operationsFactory.run()}})]})}),_.jsxs("div",{children:[t.AIPrompt," "]}),_.jsx(Vt,{name:"csv",filter:{search:t._id,attribute:"researchId"},cells:[{type:"attribute",name:"_id"}]})]})}}class DF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){let e=fs.getIdFromURL();return _.jsxs(_.Fragment,{children:[_.jsx("h4",{style:{marginBottom:"10px",font:"normal normal 900 16px/22px Satoshi"},children:"Admin"}),_.jsx(Vt,{name:"research",filter:{search:e,attribute:"owner"},cells:[{type:"custom",custom:SF}]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class IF extends Ye{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().content,t=tr(e);this.setState({plainText:t})}componentDidUpdate(e){var i,a;const t=(i=this.props.obj)==null?void 0:i.getJson().content,n=(a=this.props.obj)==null?void 0:a.getJson().content;if(t!==n){const u=tr(t);this.setState({plainText:u})}}render(){const{obj:e}=this.props;let t=e.getJson();return _.jsx("div",{className:"sequence",children:_.jsxs("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:[_.jsx(qt,{style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},to:"/user/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-left",children:_.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t._id})}),_.jsx(qt,{style:{marginRight:"0px"},to:"/template/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-right",children:"View Details"})]})})}}class kF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return _.jsxs(_.Fragment,{children:[_.jsx("h4",{style:{marginBottom:"10px",font:"normal normal 900 16px/22px Satoshi"},children:"Admin"}),_.jsx(Vt,{name:"user",filter:{search:this.propsState.currentClient.getJson()._id,attribute:"clientId"},cells:[{type:"custom",custom:IF}]})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class bw extends tl{async componentDidMount(){let e=fs.getIdFromURL();await this.getComponentsFromBackend(),await this.componentList.getComponentsFromBackend({type:"user",ids:e,filterKeys:"clientId"});let n=(await this.componentList.getComponentsFromBackend({type:"todo",ids:this.propsState.currentUser.getJson()._id,filterKeys:"owner"})).find(i=>i.getJson().clientId===e);n||(n=(await this.operationsFactory.prepare({prepare:{type:"todo",clientId:e},clean:!0}))[0]),this.dispatch({currentTodo:n})}getInnerContent(){return _.jsxs("div",{className:"fit",children:[[1,2,3,4,5,6].map(e=>{var a;const t=`attribute${e}`,n=`complete${e}`,i=(a=this.propsState.currentTodo)==null?void 0:a.getJson();return _.jsxs("div",{children:[i==null?void 0:i[t],_.jsx("div",{onClick:()=>{var c;const u=!i[n];(c=this.propsState.currentTodo)==null||c.setCompState({[n]:u},{run:!0})},children:i!=null&&i[n]?"Done":"Mark Done"})]},e)}),_.jsx(Ai,{obj:this.propsState.currentTodo,content:"save"}),_.jsx("div",{onClick:async()=>{let e=await this.operationsFactory.prepare({prepare:{type:"user"}});e=e[0],this.dispatch({popupSwitch:"addUser",currentPopupComponent:e})},children:"add user"}),_.jsx("div",{children:_.jsx(Gt,{theme:"NoBorder",type:"fit",content:_.jsx(kF,{})})}),_.jsx("div",{})]})}render(){return _.jsx("div",{className:this.props.pageClass||"fit",children:this.state.gotComponents&&this.getInnerContent()})}}class RF extends tl{async componentDidMount(){await this.getComponentsFromBackend();let e=await this.componentList.getComponentsFromBackend({type:"client",ids:"alan@salescapture.com",filterKeys:"owner"});console.log(e)}getInnerContent(){return _.jsx("div",{className:"fit",children:_.jsx(Gt,{theme:"NoBorder",type:"fit",content:_.jsx(xF,{})})})}render(){return _.jsx("div",{className:this.props.pageClass||"fit",children:this.state.gotComponents&&this.getInnerContent()})}}class Tw extends tl{async componentDidMount(){await this.getComponentsFromBackend();let e=fs.getIdFromURL(),t=await this.componentList.getComponentsFromBackend({type:"research",ids:e,filterKeys:"owner"});this.dispatch({}),console.log(t)}getInnerContent(){return _.jsx("div",{className:"fit",children:_.jsx(Gt,{theme:"NoBorder",type:"fit",content:_.jsx(DF,{})})})}render(){return _.jsx("div",{className:this.props.pageClass||"fit",children:this.state.gotComponents&&this.getInnerContent()})}}class xw extends wa{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.getComponentsFromBackend()}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:_.jsx(Gt,{theme:"NoBorder",type:"fit",content:_.jsx(hF,{})})})}}class pb extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",currentConversation:null}}async componentDidMount(){await this.prepareMessages()}async prepareMessages(){let e=this.propsState.currentConversation;e||(e=this.componentList.getComponent("conversation"),await this.dispatch({currentConversation:e})),e?(await this.prepNewMessage(),this.setState({start:!0})):this.setState({message:"no current conversations"})}async prepNewMessage(){let e=this.propsState.currentConversation;const t=e.getJson().messageType||"email";let n=this.componentList.getList("email",this.propsState.currentConversation.getJson()._id,"conversationId");n=n[n.length-1];let i=n.getJson().originalMessageId,a=n.getJson().subject;const u=await this.operationsFactory.prepare({prepare:{type:t,conversationId:e.getJson()._id,originalMessageId:i||"",subject:a,ownerMessage:!0},clean:!0});this.dispatch({currentComponent:u[0]}),this.setState({currentConversation:e})}componentDidUpdate(e,t){this.propsState.currentConversation!==this.state.currentConversation&&this.prepNewMessage()}getInnerContent(){var n,i;const{currentConversation:e}=this.propsState;let t=this.componentList.getComponent("contact",e==null?void 0:e.getJson().contact,"email");return _.jsxs("div",{children:[window.innerWidth>1&&_.jsxs("div",{style:{position:"sticky",top:0,zIndex:200,display:"flex",flexDirection:"row",alignItems:"center",justifyItems:"space-between",background:"white",padding:"20px",paddingBottom:"8px",transform:"translateZ(0)"},children:[window.innerWidth<600&&_.jsx("div",{onClick:()=>{this.dispatch({showConversation:void 0})},children:_.jsx("img",{src:lF,style:{color:"black"}})}),_.jsx("div",{className:"contact-avatar",style:{maxWidth:"45px",maxHeight:"45px"},children:_.jsx("i",{className:"fa-solid fa-user"})}),_.jsxs("div",{className:"message-header-title",children:[_.jsx("span",{className:"sender-title",children:(n=this.propsState.currentConversation)==null?void 0:n.getJson().contactName}),_.jsx("span",{className:"sender-details-button",children:"See Details"})]}),_.jsx("div",{style:{fontSize:".8rem",cursor:"pointer",minWidth:"55px"},className:"hover-basic",children:(i=t==null?void 0:t.getJson())!=null&&i.autoAI?_.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},onClick:()=>{t.setCompState({autoAI:!1},{run:!0},!0)},children:_.jsx("i",{class:"fa-solid fa-comment-nodes",style:{fontSize:"35px",color:"#36b593"}})}):_.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},onClick:()=>{t.setCompState({autoAI:!0},{run:!0},!0)},children:_.jsx("i",{class:"fa-solid fa-comment-nodes",style:{fontSize:"35px",color:"#363636"}})})})]}),_.jsx("div",{className:"layoutColumn conversation-container",style:{padding:"20px",marginBottom:"12px"},children:this.state.message?_.jsx(_.Fragment,{children:this.state.message}):_.jsx(_.Fragment,{children:this.state.start&&_.jsxs("div",{style:{width:"100%",marginTop:"-20px"},children:[_.jsx(Vt,{mapContainerClass:"message-list",name:(e==null?void 0:e.getJson().messageType)||"email",cells:[{type:"custom",custom:uF}],filter:{search:this.propsState.currentConversation.getJson()._id,attribute:"conversationId"},filterFunc:a=>!(a.getJson().body===void 0||a.getJson().body==="")}),_.jsxs("div",{style:{display:"flex",flexDirection:"row",position:"sticky",bottom:0,zIndex:1,width:"100%",minHeight:"70px",paddingBottom:"85px",paddingLeft:"12px",background:"linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 1%)"},children:[_.jsx("div",{style:{position:"relative",width:"40px",zIndex:2},children:_.jsx(Ai,{content:_.jsx("button",{className:"footer-btn",style:{marginBottom:"-15px",position:"absolute",left:0},children:_.jsx("i",{className:"fa-solid fa-circle-plus"})}),callbackFunc:()=>{let a=this.propsState.currentComponent;if(a.getJson().body==="")return;this.prepNewMessage();let u={originalMessageId:a.getJson().originalMessageId,from:this.propsState.currentUser.getJson()._id,to:this.propsState.currentConversation.getJson().contact,subject:a.getJson().subject,text:a.getJson().body},c=this.propsState.currentUser.getJson().gmailAuthenticated?"https://gmailapiemailhandler-7c5i3vsqma-uc.a.run.app":"https://sendgridemailhandler-7c5i3vsqma-uc.a.run.app";fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(h=>{if(!h.ok)throw new Error(`HTTP error! Status: ${h.status}`);return h.json()}).then(h=>{console.log("Reply sent successfully in thread.",h)}).catch(h=>{console.error("Error sending reply:",h)})}})}),_.jsx("div",{style:{zIndex:3,width:"100%"},children:_.jsx(at,{wrapperClass:"footer-input",formClass:"search-input",name:"body",obj:this.propsState.currentComponent})})]})]})})})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class PF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}async componentDidMount(){this.propsState.convoSnapped?this.dispatch({convoSnapped:!0}):(await this.componentList.getComponentsFromBackend({type:"conversation",ids:this.propsState.currentUser.getJson()._id,filterKeys:"owner",snapshot:!0}),await this.componentList.getComponentsFromBackend({type:"email",ids:this.propsState.currentUser.getJson()._id,filterKeys:"owner",snapshot:!0})),await this.componentList.sortSelectedListbyFirebaseDate("conversation"),await this.componentList.sortSelectedListbyFirebaseDate("email"),this.componentList.getAPIService().subscribeToReadObserver(async(e,t)=>{if(this.setState({start:!1}),!Array.isArray(t)){console.error("l2 is not an array:",t),this.setState({start:!0});return}let n={};for(let a of t)n[a._id]=a;let i=this.componentList.getList("conversation");i=i.map(a=>{let u=n[a.getJson()._id];return u&&a.setCompState({...u}),a}),await this.componentList.clearSelectedList("conversation",i),await this.componentList.sortSelectedListbyFirebaseDate("conversation",!0),await this.componentList.sortSelectedListbyFirebaseDate("email"),this.dispatch({ranConversationRead:!0}),this.setState({start:!0})}),this.setState({start:!0})}getInnerContent(){return _.jsxs("div",{className:"layoutRow",style:{width:"100%",height:"100%"},children:[_.jsx("div",{style:{minWidth:window.innerWidth>600?"50%":""},children:!this.propsState.showConversation&&_.jsx(_.Fragment,{children:this.state.start&&_.jsx(Gt,{theme:"defaultCard",content:_.jsx(rF,{})})})}),_.jsx("div",{style:{minWidth:window.innerWidth>600?"50%":""},children:(window.innerWidth>600||this.propsState.showConversation!==void 0)&&_.jsx(_.Fragment,{children:this.state.start&&_.jsx(Gt,{theme:"defaultCard",content:_.jsx(pb,{})})})})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class Dc extends wa{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.dispatch({currentTopic:void 0,currentSubTopic:void 0,currentComponent:void 0}),await this.getComponentsFromBackend()}componentWillUnmount(){this.operationsFactory.clear(),this.dispatch({currentComponent:void 0})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:_.jsx("div",{className:"fit",children:this.state.getComponentsFromBackend&&_.jsx(Gt,{theme:"defaultCard",content:_.jsx(PF,{})})})})}}class NF extends Ye{constructor(e){super(e)}render(){const{obj:e}=this.props;let t=e.getJson();return _.jsx("div",{className:"sequence sequence-custom",children:_.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},onClick:()=>{let n=this.props.obj,i=this.propsState.selectedContacts;if(this.propsState.sequenceDataType==="research"){let u=[];for(let c of i)u.push(this.componentList.getComponent("contact",c.getJson()._id,"ogPPId"))}let a=this.componentList.getList("step",[n.getJson()._id],["sequenceId"]);if(a=a.filter(u=>u.getJson().content!==""&&u.getJson().content)[0],(i==null?void 0:i.length)>0){let u=parseFloat(a.getJson().nextSend),c=new Date(Date.now()+u*60*60*1e3);c=Lt.fromDate(c);for(let h of i){let f=this.componentList.getComponent("sequence",h.getJson().sequenceId),y=h.getJson().finishedSequenceTags||"";f||h.getJson().finishedSequenceTags.includes(f.getJson().name)||(y=y.length===0?f.getJson().name:","+f.getJson().name),h.setCompState({sequenceId:n.getJson()._id,finishedSequenceTags:y,finished:!1,emailNumber:0,nextSend:c},{run:!0})}this.dispatch({popupSwitch:"",selectedContacts:[]})}},children:[_.jsx("div",{className:"title-left",children:t.name}),_.jsx("div",{children:_.jsx("div",{id:"arrow-icon-appear",className:"send-seq-icon",children:_.jsx("i",{class:"fa-solid fa-right-long"})})})]})})}}class OF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}render(){var e;return _.jsxs("div",{style:{padding:"20px",paddingBottom:"100px",position:"relative",paddingTop:"0px"},className:this.props.pageClass||this.state.defaultClass,children:[_.jsxs("div",{style:{paddingTop:"20px",display:"flex",flexDirection:"column",position:"sticky",top:0,zIndex:20,background:"white"},children:[_.jsx("h2",{children:"Add to Sequence"})," ",_.jsxs("div",{className:"count-desc",style:{position:"relative",margin:"10px"},children:["Contacts: ",((e=this.propsState.selectedContacts)==null?void 0:e.length)||"0"," "]})]}),_.jsx(Vt,{name:"sequence",cells:[{type:"custom",custom:NF}]})]})}}class LF{async _makeApiCall(e){try{const t=await fetch("https://getemailfromai-7c5i3vsqma-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const i=await t.json();throw console.error("API Error:",i.error),new Error(i.error||`Request failed with status ${t.status}`)}const n=await t.json();if(n.success)return n.data;throw new Error(n.error||"The API call was not successful.")}catch(t){throw console.error("Failed to fetch from AI service:",t),t}}async getTemplate(e,t={}){const n={currentAIOptions:{model:"gpt-4o-mini",temperature:.9,...t},companyID:e.getJson().companyId,emailType:"template"};return await this._makeApiCall(n)}async getFollowUp(e,t,n={}){const i={currentAIOptions:{model:"gpt-4o-mini",temperature:.8,...n},companyID:e.getJson().companyId,emailType:"sequence",conversationHistory:{lastSentEmail:t}};return await this._makeApiCall(i)}}const Sw=new LF;class FF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}extractSubjectAndBody(e){const t=e.match(/^{{\s*([^}]+?)\s*}}/);let n="",i="";t?(n=t[1].trim(),i=e.slice(t[0].length).trim()):i=e.trim();const a=i.split(`

`).map(u=>`<p>${u.replace(/\n/g,"<br>")}</p>`).join(`
`);return{subject:n,body:a}}render(){this.props.obj;let e=_.jsx(Ai,{formClass:"dark-button-1",content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc});return this.propsState.popupSwitch.includes("update")&&(e=_.jsx(vy,{formClass:"dark-button-1",obj:this.propsState.currentPopupComponent,content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc})),_.jsxs("div",{style:{padding:"10px",paddingBottom:"100px"},className:this.props.pageClass||this.state.defaultClass,children:[_.jsxs("div",{style:{display:"flex",gap:"8px"},children:[_.jsx("div",{onClick:async()=>{let t=this.componentList.getList("step",this.propsState.currentSequence.getJson()._id,"sequenceId"),n=t.length;t.length>0&&(t=t[t.length-1]);let i=n>0?await Sw.getFollowUp(this.propsState.currentUser,t.getJson().content):await Sw.getTemplate(this.propsState.currentUser),{subject:a,body:u}=this.extractSubjectAndBody(i);console.log(a),console.log(u),this.propsState.currentPopupComponent.setCompState({content:u,subject:a}),this.dispatch({})},className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Draft With AI"}),_.jsx("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},onClick:()=>{this.setState({selectTemplate:!0})},children:"Select Template"})]}),this.state.selectTemplate&&_.jsx(Vt,{name:"template",filterFunc:t=>{var a;if(t.getJson().content===void 0||t.getJson().content==="")return!1;let n=!1;this.propsState.searchText||(n=!0);let i=this.propsState.searchText;return(a=t.getJson().content)!=null&&a.toLowerCase().includes(i==null?void 0:i.toLowerCase())&&(n=!0),n},cells:[{type:"custom",custom:yF}]}),_.jsx("br",{}),_.jsxs("div",{className:"content-home-add",children:[_.jsx("div",{className:"contact-contact-data",children:_.jsxs("div",{className:"row row-container",children:[_.jsx("div",{className:"row-name",style:{maxWidth:"fit-content"},children:"Subject:"}),_.jsx("div",{className:"row-field",children:_.jsx(at,{obj:this.propsState.currentPopupComponent,name:"subject",formClass:"underline-form"})})]})}),_.jsx("div",{className:"row",children:_.jsx(at,{type:"quill",obj:this.propsState.currentPopupComponent,name:"content",wrapperClass:"contentWrapper"})}),_.jsxs("div",{className:"row",children:[_.jsx("div",{children:"Trigger this step in:"}),_.jsx(at,{obj:this.propsState.currentPopupComponent,name:"nextSend",formClass:"underline-form",wrapperStyle:{width:"10%",marginRight:"8px",borderBottom:"1px solid rgb(212, 212, 212)"}})," days"]}),_.jsxs("div",{className:"row",children:[this.propsState.popupSwitch.includes("update")&&_.jsx(ZC,{obj:this.propsState.currentPopupComponent,formClass:"del-button-1",callbackFunc:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})}}),_.jsx("div",{className:"col hover-basic",style:{cursor:"pointer",width:"37px",height:"37px"},children:_.jsx(BL,{obj:this.propsState.currentPopupComponent,content:_.jsx("div",{style:{display:"flex",alignItems:"center",borderRadius:"50%",justifyContent:"center",fontSize:"19px",width:"37px",height:"37px",background:"#378c75",color:"#ade0d3"},children:_.jsx("div",{className:"icon-last",children:_.jsx("i",{className:"fa-solid fa-plus"})})})})}),_.jsx("div",{className:"col",children:e})]}),_.jsx("div",{})]})]})}}const BF="/assets/scailogofake-B3YGBRpn.png";class jF extends ib{getHtml(){return _.jsxs("div",{className:"bottom-nav",children:[_.jsxs(qt,{to:"/conversation",className:"bottom-nav-item",children:[_.jsx("i",{className:"fa-solid fa-message"}),_.jsx("span",{children:"Messages"})]}),_.jsxs(qt,{to:"/contacts",className:"bottom-nav-item",children:[_.jsx("i",{className:"fa-solid fa-address-book"}),_.jsx("span",{children:"Contacts"})]}),_.jsx("a",{href:"#",className:"bottom-nav-item",children:_.jsx("div",{id:"float-btn-plus",className:"float-btn",children:_.jsx("i",{className:"fas fa-plus"})})}),_.jsxs(qt,{to:"/research",className:"bottom-nav-item",children:[_.jsx("i",{className:"fa-solid fa-graduation-cap"}),_.jsx("span",{children:"Research"})]}),_.jsxs(qt,{to:"/content",className:"bottom-nav-item",children:[_.jsx("i",{className:"fa-solid fa-briefcase"}),_.jsx("span",{children:"Content"})]})]})}}class MF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}render(){const e=this.props.obj;let t=e?"Edit":"Add",n=e?_.jsx(vy,{formClass:"dark-button-1",obj:e,content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc}):_.jsx(Ai,{formClass:"dark-button-1",content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc});return _.jsxs("div",{style:{padding:"1px",paddingBottom:"100px",height:"100%"},className:this.props.pageClass||this.state.defaultClass,children:[_.jsxs("h2",{children:[t," Research Prompt"]})," ",_.jsxs("div",{className:"contact-contact-data",style:{padding:"10px",background:"rgb(245, 244, 244)",borderRadius:"12px"},children:[_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Profile Name:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(at,{obj:e,placeholder:"ie: Daily Research",name:"name",inPopup:!0})," "]})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"Search Frequency:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(at,{obj:e,placeholder:"Daily",name:"searchFrequency",inputType:"select",inPopup:!0,selectOptions:["Daily","Weekly","Monthly"]})," "]})]}),_.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[_.jsx("div",{className:"row-name",children:"AI Prompt:"}),_.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",_.jsx(at,{obj:e,placeholder:'ie: "Research VP of Sales at Tech Companies in Utah"',name:"AIPrompt",inPopup:!0})," "]})]}),_.jsxs("div",{style:{background:"white",width:"80%",display:"flex",justifyContent:"flex-end",alignSelf:"flex-end",position:"absolute",bottom:20,right:20},children:[" ",_.jsxs("div",{children:[" ",n]})]})]})]})}}class qF extends pb{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}componentDidMount(){var e,t;(t=this.propsState.currentPopupComponent)==null||t.setCompState({conversationId:(e=this.propsState.currentConversation)==null?void 0:e.getJson()._id,originalMessageId:!1,ownerMessage:!0}),this.setState({email:this.propsState.currentPopupComponent})}componentDidUpdate(){}render(){var n;const e=this.props.obj;let t=_.jsx(Ai,{formClass:"dark-button-1",content:_.jsx("div",{children:"Send"}),callbackFunc:()=>{let i=this.state.email,a={from:this.propsState.currentUser.getJson()._id,to:this.propsState.currentConversation.getJson().contact,subject:i.getJson().subject,text:i.getJson().body},u=this.propsState.currentUser.getJson().gmailAuthenticated?"https://gmailapiemailhandler-7c5i3vsqma-uc.a.run.app":"https://sendgridemailhandler-7c5i3vsqma-uc.a.run.app";fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(c=>{if(!c.ok)throw new Error(`HTTP error! Status: ${c.status}`);return c.json()}).then(c=>{console.log("Reply sent successfully in thread.",c)}).catch(c=>{console.error("Error sending reply:",c)}),this.dispatch({currentPopupComponent:void 0,popupSwitch:""})}});return _.jsxs("div",{style:{padding:"10px",paddingBottom:"100px",height:"100%"},className:this.props.pageClass||this.state.defaultClass,children:[_.jsx("h2",{children:"Email"})," ",_.jsxs("div",{className:"contact-Add-container",children:[_.jsxs("div",{className:"row",children:[_.jsx("div",{children:"To:"}),_.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ",(n=this.propsState.currentConversation)==null?void 0:n.getJson().contactName]})]}),_.jsxs("div",{className:"row",children:[_.jsx("div",{children:"From:"}),_.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ","Me"]})]}),_.jsxs("div",{className:"row",children:[_.jsx("div",{children:"Subject:"}),_.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ",_.jsx(at,{formClass:"underline-form",obj:e,name:"subject",inPopup:!0})," "]})]}),_.jsx("div",{children:_.jsxs("div",{style:{width:"100%"},children:[" ",_.jsx(at,{obj:e,type:"quill",name:"body",inPopup:!0})," "]})}),_.jsxs("div",{style:{width:"100%",background:"white",display:"flex",justifyContent:"flex-end",alignContent:"flex-end"},children:[" ",_.jsxs("div",{style:{marginRight:"-10px"},children:[" ",t]})]})]})]})}}class VF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}render(){return _.jsxs("div",{style:{padding:"18px",paddingBottom:"100px",height:"100%"},className:this.props.pageClass||this.state.defaultClass,children:[_.jsx("h2",{style:{font:"normal normal 900 18px/25px Satoshi"},children:"Add Tags to Selected"}),_.jsx("div",{className:"contact-contact-data",style:{marginTop:"8%",padding:"24px",border:"none",background:"#f0f0f0"},children:_.jsxs("div",{className:"row-container",children:[_.jsx("div",{className:"row-name",style:{maxWidth:"fit-content"},children:"Tags:"}),_.jsx("div",{className:"row-field",children:_.jsx("input",{class:"underline-form",onChange:e=>{let{value:t}=e.target;this.setState({tags:t})}})})]})}),_.jsx("div",{class:"dark-button-1",style:{justifySelf:"flex-end",marginTop:"20px"},onClick:async()=>{for(let e of this.propsState.selectedContacts){let t=e.getJson().tags||"";t=t.length===0?this.state.tags:","+this.state.tags,await e.setCompState({tags:t}),e.update()}this.dispatch({popupSwitch:""})},children:"Save"})]})}}class UF extends Ye{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return _.jsxs(_.Fragment,{children:[_.jsx(at,{obj:this.propsState.currentPopupComponent,name:"_id",inPopup:!0}),_.jsx(at,{obj:this.propsState.currentPopupComponent,name:"email",inPopup:!0}),_.jsx(at,{obj:this.propsState.currentPopupComponent,name:"collection",inPopup:!0}),_.jsx(at,{obj:this.propsState.currentPopupComponent,name:"owner",inPopup:!0}),_.jsx(Ai,{content:"save",callbackFunc:async()=>{let e=this.propsState.currentPopupComponent;await e.setCompState({clientId:this.propsState.currentClient.getJson()._id},{run:!0}),await this.operationsFactory.prepare({prepare:[{type:"aiSettings",owner:e.getJson()._id},{type:"limit",owner:e.getJson()._id}]}),this.operationsFactory.run(),this.dispatch({currentPopupComponent:void 0,popupSwitch:""})}})]})}render(){return _.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class zF extends R4{constructor(e){super(e,{db:EN,endpoint:"salescaptureAI",auth:AN,storage:wN}),this.popupComponents={contact:cb,step:FF,research:MF,email:qF,user:UF},this.popupComponentsProps={},hh.getFactory().registerComponent("bottomNavMap",jF),this.state={...this.state,navBarProps:{mapType:window.innerWidth<1e3?"bottomNavMap":void 0,type:window.innerWidth<1e3?"topBar":void 0,style:{backgroundColor:"#35b593",color:"white",fontFamily:"'Satoshi-Variable', sans-serif"},cardStyle:{backgroundColor:"#35b593",position:window.innerWidth<1e3&&"absolute",bottom:window.innerWidth<1e3&&"0px",fontFamily:"'Satoshi-Variable', sans-serif"},logoURL:window.innerWidth>1e3&&BF,linkItemStyle:{color:"white",fontFamily:"'Satoshi-Variable', sans-serif"}},routes:[{comp:Dc,name:"Home",path:"/"},{comp:Dc,name:"Messages",path:"conversation"},{comp:_w,name:"Contacts",path:"contacts"},{comp:Ew,name:"Research",path:"research",idComp:xw},{comp:Aw,name:"Content",path:"content"},{comp:Cw,name:"Settings",path:"settings"},{comp:xc,name:"",path:"sequence",idComp:xc},{comp:Sc,name:"",path:"template",idComp:Sc},{comp:bw,name:"",path:"client",idComp:bw},{comp:RF,name:"Admin",path:"admin"},{comp:Tw,name:"",path:"user",idComp:Tw}],refresh:!0,popups:[{content:OF,popupSwitch:"addToSequence"},{content:VF,popupSwitch:"addTags"}]},this.registerListWithFactory([...Object.values(K4)]);let t=hh.getNavList();t.update(0,{class:"SCAILogo"}),t.update(1,{activeClass:"SCAILink"}),window.innerWidth<1e3&&(t.remove(2),t.remove(0))}componentDidMount(){super.componentDidMount();let e=document.getElementById("signUpFT");e&&(e.style.display="none")}componentDidUpdate(e,t){this.state.gotUser&&this.state.refresh&&this.state.currentUser.getJson()._id!=="alan@salescapture.com"&&this.dispatch({refresh:!1,routes:[{comp:Dc,name:"Home",path:"/"},{comp:Dc,name:"Messages",path:"conversation"},{comp:_w,name:"Contacts",path:"contacts"},{comp:Ew,name:"Research",path:"research",idComp:xw},{comp:Aw,name:"Content",path:"content"},{comp:Cw,name:"Settings",path:"settings"},{comp:xc,name:"",path:"sequence",idComp:xc},{comp:Sc,name:"",path:"template",idComp:Sc}]})}}ST.createRoot(document.getElementById("root")).render(_.jsx(ve.StrictMode,{children:_.jsx(zF,{})}));
