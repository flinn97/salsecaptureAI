var aT=Object.defineProperty;var uT=(r,e,t)=>e in r?aT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var he=(r,e,t)=>uT(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ah(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ad={exports:{}},au={},Cd={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function lT(){if(b2)return rt;b2=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function p(B){return B===null||typeof B!="object"?null:(B=g&&B[g]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function E(B,V,z){this.props=B,this.context=V,this.refs=b,this.updater=z||v}E.prototype.isReactComponent={},E.prototype.setState=function(B,V){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,V,"setState")},E.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=E.prototype;function S(B,V,z){this.props=B,this.context=V,this.refs=b,this.updater=z||v}var P=S.prototype=new w;P.constructor=S,A(P,E.prototype),P.isPureReactComponent=!0;var T=Array.isArray,j=Object.prototype.hasOwnProperty,q={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function _(B,V,z){var ee,X={},$=null,Q=null;if(V!=null)for(ee in V.ref!==void 0&&(Q=V.ref),V.key!==void 0&&($=""+V.key),V)j.call(V,ee)&&!R.hasOwnProperty(ee)&&(X[ee]=V[ee]);var te=arguments.length-2;if(te===1)X.children=z;else if(1<te){for(var ie=Array(te),fe=0;fe<te;fe++)ie[fe]=arguments[fe+2];X.children=ie}if(B&&B.defaultProps)for(ee in te=B.defaultProps,te)X[ee]===void 0&&(X[ee]=te[ee]);return{$$typeof:r,type:B,key:$,ref:Q,props:X,_owner:q.current}}function D(B,V){return{$$typeof:r,type:B.type,key:V,ref:B.ref,props:B.props,_owner:B._owner}}function I(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function k(B){var V={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(z){return V[z]})}var N=/\/+/g;function O(B,V){return typeof B=="object"&&B!==null&&B.key!=null?k(""+B.key):V.toString(36)}function W(B,V,z,ee,X){var $=typeof B;($==="undefined"||$==="boolean")&&(B=null);var Q=!1;if(B===null)Q=!0;else switch($){case"string":case"number":Q=!0;break;case"object":switch(B.$$typeof){case r:case e:Q=!0}}if(Q)return Q=B,X=X(Q),B=ee===""?"."+O(Q,0):ee,T(X)?(z="",B!=null&&(z=B.replace(N,"$&/")+"/"),W(X,V,z,"",function(fe){return fe})):X!=null&&(I(X)&&(X=D(X,z+(!X.key||Q&&Q.key===X.key?"":(""+X.key).replace(N,"$&/")+"/")+B)),V.push(X)),1;if(Q=0,ee=ee===""?".":ee+":",T(B))for(var te=0;te<B.length;te++){$=B[te];var ie=ee+O($,te);Q+=W($,V,z,ie,X)}else if(ie=p(B),typeof ie=="function")for(B=ie.call(B),te=0;!($=B.next()).done;)$=$.value,ie=ee+O($,te++),Q+=W($,V,z,ie,X);else if($==="object")throw V=String(B),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Q}function J(B,V,z){if(B==null)return B;var ee=[],X=0;return W(B,ee,"","",function($){return V.call(z,$,X++)}),ee}function se(B){if(B._status===-1){var V=B._result;V=V(),V.then(function(z){(B._status===0||B._status===-1)&&(B._status=1,B._result=z)},function(z){(B._status===0||B._status===-1)&&(B._status=2,B._result=z)}),B._status===-1&&(B._status=0,B._result=V)}if(B._status===1)return B._result.default;throw B._result}var Z={current:null},re={transition:null},G={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:re,ReactCurrentOwner:q};function H(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:J,forEach:function(B,V,z){J(B,function(){V.apply(this,arguments)},z)},count:function(B){var V=0;return J(B,function(){V++}),V},toArray:function(B){return J(B,function(V){return V})||[]},only:function(B){if(!I(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},rt.Component=E,rt.Fragment=t,rt.Profiler=i,rt.PureComponent=S,rt.StrictMode=n,rt.Suspense=h,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,rt.act=H,rt.cloneElement=function(B,V,z){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ee=A({},B.props),X=B.key,$=B.ref,Q=B._owner;if(V!=null){if(V.ref!==void 0&&($=V.ref,Q=q.current),V.key!==void 0&&(X=""+V.key),B.type&&B.type.defaultProps)var te=B.type.defaultProps;for(ie in V)j.call(V,ie)&&!R.hasOwnProperty(ie)&&(ee[ie]=V[ie]===void 0&&te!==void 0?te[ie]:V[ie])}var ie=arguments.length-2;if(ie===1)ee.children=z;else if(1<ie){te=Array(ie);for(var fe=0;fe<ie;fe++)te[fe]=arguments[fe+2];ee.children=te}return{$$typeof:r,type:B.type,key:X,ref:$,props:ee,_owner:Q}},rt.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},rt.createElement=_,rt.createFactory=function(B){var V=_.bind(null,B);return V.type=B,V},rt.createRef=function(){return{current:null}},rt.forwardRef=function(B){return{$$typeof:c,render:B}},rt.isValidElement=I,rt.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:se}},rt.memo=function(B,V){return{$$typeof:d,type:B,compare:V===void 0?null:V}},rt.startTransition=function(B){var V=re.transition;re.transition={};try{B()}finally{re.transition=V}},rt.unstable_act=H,rt.useCallback=function(B,V){return Z.current.useCallback(B,V)},rt.useContext=function(B){return Z.current.useContext(B)},rt.useDebugValue=function(){},rt.useDeferredValue=function(B){return Z.current.useDeferredValue(B)},rt.useEffect=function(B,V){return Z.current.useEffect(B,V)},rt.useId=function(){return Z.current.useId()},rt.useImperativeHandle=function(B,V,z){return Z.current.useImperativeHandle(B,V,z)},rt.useInsertionEffect=function(B,V){return Z.current.useInsertionEffect(B,V)},rt.useLayoutEffect=function(B,V){return Z.current.useLayoutEffect(B,V)},rt.useMemo=function(B,V){return Z.current.useMemo(B,V)},rt.useReducer=function(B,V,z){return Z.current.useReducer(B,V,z)},rt.useRef=function(B){return Z.current.useRef(B)},rt.useState=function(B){return Z.current.useState(B)},rt.useSyncExternalStore=function(B,V,z){return Z.current.useSyncExternalStore(B,V,z)},rt.useTransition=function(){return Z.current.useTransition()},rt.version="18.3.1",rt}var T2;function uh(){return T2||(T2=1,Cd.exports=lT()),Cd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S2;function cT(){if(S2)return au;S2=1;var r=uh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(c,h,d){var y,g={},p=null,v=null;d!==void 0&&(p=""+d),h.key!==void 0&&(p=""+h.key),h.ref!==void 0&&(v=h.ref);for(y in h)n.call(h,y)&&!a.hasOwnProperty(y)&&(g[y]=h[y]);if(c&&c.defaultProps)for(y in h=c.defaultProps,h)g[y]===void 0&&(g[y]=h[y]);return{$$typeof:e,type:c,key:p,ref:v,props:g,_owner:i.current}}return au.Fragment=t,au.jsx=u,au.jsxs=u,au}var x2;function hT(){return x2||(x2=1,Ad.exports=cT()),Ad.exports}var C=hT(),ve=uh();const lh=ah(ve);var dc={},bd={exports:{}},kn={},Td={exports:{}},Sd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D2;function fT(){return D2||(D2=1,function(r){function e(re,G){var H=re.length;re.push(G);e:for(;0<H;){var B=H-1>>>1,V=re[B];if(0<i(V,G))re[B]=G,re[H]=V,H=B;else break e}}function t(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var G=re[0],H=re.pop();if(H!==G){re[0]=H;e:for(var B=0,V=re.length,z=V>>>1;B<z;){var ee=2*(B+1)-1,X=re[ee],$=ee+1,Q=re[$];if(0>i(X,H))$<V&&0>i(Q,X)?(re[B]=Q,re[$]=H,B=$):(re[B]=X,re[ee]=H,B=ee);else if($<V&&0>i(Q,H))re[B]=Q,re[$]=H,B=$;else break e}}return G}function i(re,G){var H=re.sortIndex-G.sortIndex;return H!==0?H:re.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();r.unstable_now=function(){return u.now()-c}}var h=[],d=[],y=1,g=null,p=3,v=!1,A=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(re){for(var G=t(d);G!==null;){if(G.callback===null)n(d);else if(G.startTime<=re)n(d),G.sortIndex=G.expirationTime,e(h,G);else break;G=t(d)}}function T(re){if(b=!1,P(re),!A)if(t(h)!==null)A=!0,se(j);else{var G=t(d);G!==null&&Z(T,G.startTime-re)}}function j(re,G){A=!1,b&&(b=!1,w(_),_=-1),v=!0;var H=p;try{for(P(G),g=t(h);g!==null&&(!(g.expirationTime>G)||re&&!k());){var B=g.callback;if(typeof B=="function"){g.callback=null,p=g.priorityLevel;var V=B(g.expirationTime<=G);G=r.unstable_now(),typeof V=="function"?g.callback=V:g===t(h)&&n(h),P(G)}else n(h);g=t(h)}if(g!==null)var z=!0;else{var ee=t(d);ee!==null&&Z(T,ee.startTime-G),z=!1}return z}finally{g=null,p=H,v=!1}}var q=!1,R=null,_=-1,D=5,I=-1;function k(){return!(r.unstable_now()-I<D)}function N(){if(R!==null){var re=r.unstable_now();I=re;var G=!0;try{G=R(!0,re)}finally{G?O():(q=!1,R=null)}}else q=!1}var O;if(typeof S=="function")O=function(){S(N)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=N,O=function(){J.postMessage(null)}}else O=function(){E(N,0)};function se(re){R=re,q||(q=!0,O())}function Z(re,G){_=E(function(){re(r.unstable_now())},G)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){A||v||(A=!0,se(j))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_getFirstCallbackNode=function(){return t(h)},r.unstable_next=function(re){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var H=p;p=G;try{return re()}finally{p=H}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,G){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var H=p;p=re;try{return G()}finally{p=H}},r.unstable_scheduleCallback=function(re,G,H){var B=r.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?B+H:B):H=B,re){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=H+V,re={id:y++,callback:G,priorityLevel:re,startTime:H,expirationTime:V,sortIndex:-1},H>B?(re.sortIndex=H,e(d,re),t(h)===null&&re===t(d)&&(b?(w(_),_=-1):b=!0,Z(T,H-B))):(re.sortIndex=V,e(h,re),A||v||(A=!0,se(j))),re},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(re){var G=p;return function(){var H=p;p=G;try{return re.apply(this,arguments)}finally{p=H}}}}(Sd)),Sd}var I2;function dT(){return I2||(I2=1,Td.exports=fT()),Td.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2;function pT(){if(k2)return kn;k2=1;var r=uh(),e=dT();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)n.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function p(s){return h.call(g,s)?!0:h.call(y,s)?!1:d.test(s)?g[s]=!0:(y[s]=!0,!1)}function v(s,o,l,m){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,o,l,m){if(o===null||typeof o>"u"||v(s,o,l,m))return!0;if(m)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(s,o,l,m,x,F,U){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=F,this.removeEmptyString=U}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){E[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];E[o]=new b(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){E[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){E[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){E[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){E[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){E[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){E[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){E[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function S(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(w,S);E[o]=new b(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(w,S);E[o]=new b(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(w,S);E[o]=new b(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){E[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),E.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){E[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function P(s,o,l,m){var x=E.hasOwnProperty(o)?E[o]:null;(x!==null?x.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,l,x,m)&&(l=null),m||x===null?p(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):x.mustUseProperty?s[x.propertyName]=l===null?x.type===3?!1:"":l:(o=x.attributeName,m=x.attributeNamespace,l===null?s.removeAttribute(o):(x=x.type,l=x===3||x===4&&l===!0?"":""+l,m?s.setAttributeNS(m,o,l):s.setAttribute(o,l))))}var T=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),q=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),k=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),re=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var H=Object.assign,B;function V(s){if(B===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var z=!1;function ee(s,o){if(!s||z)return"";z=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(pe){var m=pe}Reflect.construct(s,[],o)}else{try{o.call()}catch(pe){m=pe}s.call(o.prototype)}else{try{throw Error()}catch(pe){m=pe}s()}}catch(pe){if(pe&&m&&typeof pe.stack=="string"){for(var x=pe.stack.split(`
`),F=m.stack.split(`
`),U=x.length-1,Y=F.length-1;1<=U&&0<=Y&&x[U]!==F[Y];)Y--;for(;1<=U&&0<=Y;U--,Y--)if(x[U]!==F[Y]){if(U!==1||Y!==1)do if(U--,Y--,0>Y||x[U]!==F[Y]){var ne=`
`+x[U].replace(" at new "," at ");return s.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",s.displayName)),ne}while(1<=U&&0<=Y);break}}}finally{z=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?V(s):""}function X(s){switch(s.tag){case 5:return V(s.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return s=ee(s.type,!1),s;case 11:return s=ee(s.type.render,!1),s;case 1:return s=ee(s.type,!0),s;default:return""}}function $(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case q:return"Portal";case D:return"Profiler";case _:return"StrictMode";case O:return"Suspense";case W:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case k:return(s.displayName||"Context")+".Consumer";case I:return(s._context.displayName||"Context")+".Provider";case N:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case J:return o=s.displayName||null,o!==null?o:$(s.type)||"Memo";case se:o=s._payload,s=s._init;try{return $(s(o))}catch{}}return null}function Q(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(o);case 8:return o===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ie(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function fe(s){var o=ie(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),m=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var x=l.get,F=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return x.call(this)},set:function(U){m=""+U,F.call(this,U)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return m},setValue:function(U){m=""+U},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ge(s){s._valueTracker||(s._valueTracker=fe(s))}function De(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),m="";return s&&(m=ie(s)?s.checked?"true":"false":s.value),s=m,s!==l?(o.setValue(s),!0):!1}function Ie(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ke(s,o){var l=o.checked;return H({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Re(s,o){var l=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;l=te(o.value!=null?o.value:l),s._wrapperState={initialChecked:m,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Be(s,o){o=o.checked,o!=null&&P(s,"checked",o,!1)}function et(s,o){Be(s,o);var l=te(o.value),m=o.type;if(l!=null)m==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?de(s,o.type,l):o.hasOwnProperty("defaultValue")&&de(s,o.type,te(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function le(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function de(s,o,l){(o!=="number"||Ie(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Ee=Array.isArray;function Se(s,o,l,m){if(s=s.options,o){o={};for(var x=0;x<l.length;x++)o["$"+l[x]]=!0;for(l=0;l<s.length;l++)x=o.hasOwnProperty("$"+s[l].value),s[l].selected!==x&&(s[l].selected=x),x&&m&&(s[l].defaultSelected=!0)}else{for(l=""+te(l),o=null,x=0;x<s.length;x++){if(s[x].value===l){s[x].selected=!0,m&&(s[x].defaultSelected=!0);return}o!==null||s[x].disabled||(o=s[x])}o!==null&&(o.selected=!0)}}function ye(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return H({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function $e(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Ee(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:te(l)}}function je(s,o){var l=te(o.value),m=te(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),m!=null&&(s.defaultValue=""+m)}function Ve(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ge(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xe(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ge(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ze,er=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,m,x){MSApp.execUnsafeLocalFunction(function(){return s(o,l,m,x)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Ze=Ze||document.createElement("div"),Ze.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ze.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ct(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var bt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ht=["Webkit","ms","Moz","O"];Object.keys(bt).forEach(function(s){Ht.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),bt[o]=bt[s]})});function tr(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||bt.hasOwnProperty(s)&&bt[s]?(""+o).trim():o+"px"}function Ei(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var m=l.indexOf("--")===0,x=tr(l,o[l],m);l==="float"&&(l="cssFloat"),m?s.setProperty(l,x):s[l]=x}}var wa=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ea(s,o){if(o){if(wa[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Aa(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gs=null;function no(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ro=null,zn=null,Ar=null;function io(s){if(s=Ga(s)){if(typeof ro!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Dl(o),ro(s.stateNode,s.type,o))}}function Cr(s){zn?Ar?Ar.push(s):Ar=[s]:zn=s}function Ca(){if(zn){var s=zn,o=Ar;if(Ar=zn=null,io(s),o)for(s=0;s<o.length;s++)io(o[s])}}function ys(s,o){return s(o)}function ba(){}var Gr=!1;function Ta(s,o,l){if(Gr)return s(o,l);Gr=!0;try{return ys(s,o,l)}finally{Gr=!1,(zn!==null||Ar!==null)&&(ba(),Ca())}}function Pt(s,o){var l=s.stateNode;if(l===null)return null;var m=Dl(l);if(m===null)return null;l=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var so=!1;if(c)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){so=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{so=!1}function vs(s,o,l,m,x,F,U,Y,ne){var pe=Array.prototype.slice.call(arguments,3);try{o.apply(l,pe)}catch(Ce){this.onError(Ce)}}var _s=!1,oo=null,rr=!1,Sa=null,Jh={onError:function(s){_s=!0,oo=s}};function ao(s,o,l,m,x,F,U,Y,ne){_s=!1,oo=null,vs.apply(Jh,arguments)}function Zu(s,o,l,m,x,F,U,Y,ne){if(ao.apply(this,arguments),_s){if(_s){var pe=oo;_s=!1,oo=null}else throw Error(t(198));rr||(rr=!0,Sa=pe)}}function ir(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function ws(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function sr(s){if(ir(s)!==s)throw Error(t(188))}function el(s){var o=s.alternate;if(!o){if(o=ir(s),o===null)throw Error(t(188));return o!==s?null:s}for(var l=s,m=o;;){var x=l.return;if(x===null)break;var F=x.alternate;if(F===null){if(m=x.return,m!==null){l=m;continue}break}if(x.child===F.child){for(F=x.child;F;){if(F===l)return sr(x),s;if(F===m)return sr(x),o;F=F.sibling}throw Error(t(188))}if(l.return!==m.return)l=x,m=F;else{for(var U=!1,Y=x.child;Y;){if(Y===l){U=!0,l=x,m=F;break}if(Y===m){U=!0,m=x,l=F;break}Y=Y.sibling}if(!U){for(Y=F.child;Y;){if(Y===l){U=!0,l=F,m=x;break}if(Y===m){U=!0,m=F,l=x;break}Y=Y.sibling}if(!U)throw Error(t(189))}}if(l.alternate!==m)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:o}function xa(s){return s=el(s),s!==null?uo(s):null}function uo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=uo(s);if(o!==null)return o;s=s.sibling}return null}var lo=e.unstable_scheduleCallback,Da=e.unstable_cancelCallback,tl=e.unstable_shouldYield,Qh=e.unstable_requestPaint,gt=e.unstable_now,nl=e.unstable_getCurrentPriorityLevel,Es=e.unstable_ImmediatePriority,Ai=e.unstable_UserBlockingPriority,Hn=e.unstable_NormalPriority,Ia=e.unstable_LowPriority,rl=e.unstable_IdlePriority,As=null,Nn=null;function il(s){if(Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(As,s,void 0,(s.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:ol,ka=Math.log,sl=Math.LN2;function ol(s){return s>>>=0,s===0?32:31-(ka(s)/sl|0)|0}var co=64,ho=4194304;function Ci(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Cs(s,o){var l=s.pendingLanes;if(l===0)return 0;var m=0,x=s.suspendedLanes,F=s.pingedLanes,U=l&268435455;if(U!==0){var Y=U&~x;Y!==0?m=Ci(Y):(F&=U,F!==0&&(m=Ci(F)))}else U=l&~x,U!==0?m=Ci(U):F!==0&&(m=Ci(F));if(m===0)return 0;if(o!==0&&o!==m&&(o&x)===0&&(x=m&-m,F=o&-o,x>=F||x===16&&(F&4194240)!==0))return o;if((m&4)!==0&&(m|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=m;0<o;)l=31-mn(o),x=1<<l,m|=s[l],o&=~x;return m}function Yh(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(s,o){for(var l=s.suspendedLanes,m=s.pingedLanes,x=s.expirationTimes,F=s.pendingLanes;0<F;){var U=31-mn(F),Y=1<<U,ne=x[U];ne===-1?((Y&l)===0||(Y&m)!==0)&&(x[U]=Yh(Y,o)):ne<=o&&(s.expiredLanes|=Y),F&=~Y}}function On(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function bs(){var s=co;return co<<=1,(co&4194240)===0&&(co=64),s}function bi(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function Ti(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-mn(o),s[o]=l}function mt(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<l;){var x=31-mn(l),F=1<<x;o[x]=0,m[x]=-1,s[x]=-1,l&=~F}}function Si(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var m=31-mn(l),x=1<<m;x&o|s[m]&o&&(s[m]|=o),l&=~x}}var ot=0;function xi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var al,fo,ul,ll,cl,Ra=!1,br=[],Qt=null,or=null,ar=null,Di=new Map,$n=new Map,Tr=[],Xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hl(s,o){switch(s){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Di.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(o.pointerId)}}function Cn(s,o,l,m,x,F){return s===null||s.nativeEvent!==F?(s={blockedOn:o,domEventName:l,eventSystemFlags:m,nativeEvent:F,targetContainers:[x]},o!==null&&(o=Ga(o),o!==null&&fo(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),s)}function Zh(s,o,l,m,x){switch(o){case"focusin":return Qt=Cn(Qt,s,o,l,m,x),!0;case"dragenter":return or=Cn(or,s,o,l,m,x),!0;case"mouseover":return ar=Cn(ar,s,o,l,m,x),!0;case"pointerover":var F=x.pointerId;return Di.set(F,Cn(Di.get(F)||null,s,o,l,m,x)),!0;case"gotpointercapture":return F=x.pointerId,$n.set(F,Cn($n.get(F)||null,s,o,l,m,x)),!0}return!1}function fl(s){var o=Is(s.target);if(o!==null){var l=ir(o);if(l!==null){if(o=l.tag,o===13){if(o=ws(l),o!==null){s.blockedOn=o,cl(s.priority,function(){ul(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Kr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=po(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var m=new l.constructor(l.type,l);gs=m,l.target.dispatchEvent(m),gs=null}else return o=Ga(l),o!==null&&fo(o),s.blockedOn=l,!1;o.shift()}return!0}function Ts(s,o,l){Kr(s)&&l.delete(o)}function dl(){Ra=!1,Qt!==null&&Kr(Qt)&&(Qt=null),or!==null&&Kr(or)&&(or=null),ar!==null&&Kr(ar)&&(ar=null),Di.forEach(Ts),$n.forEach(Ts)}function ur(s,o){s.blockedOn===o&&(s.blockedOn=null,Ra||(Ra=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dl)))}function lr(s){function o(x){return ur(x,s)}if(0<br.length){ur(br[0],s);for(var l=1;l<br.length;l++){var m=br[l];m.blockedOn===s&&(m.blockedOn=null)}}for(Qt!==null&&ur(Qt,s),or!==null&&ur(or,s),ar!==null&&ur(ar,s),Di.forEach(o),$n.forEach(o),l=0;l<Tr.length;l++)m=Tr[l],m.blockedOn===s&&(m.blockedOn=null);for(;0<Tr.length&&(l=Tr[0],l.blockedOn===null);)fl(l),l.blockedOn===null&&Tr.shift()}var Jr=T.ReactCurrentBatchConfig,Ii=!0;function At(s,o,l,m){var x=ot,F=Jr.transition;Jr.transition=null;try{ot=1,Pa(s,o,l,m)}finally{ot=x,Jr.transition=F}}function ef(s,o,l,m){var x=ot,F=Jr.transition;Jr.transition=null;try{ot=4,Pa(s,o,l,m)}finally{ot=x,Jr.transition=F}}function Pa(s,o,l,m){if(Ii){var x=po(s,o,l,m);if(x===null)ff(s,o,m,Ss,l),hl(s,m);else if(Zh(x,s,o,l,m))m.stopPropagation();else if(hl(s,m),o&4&&-1<Xh.indexOf(s)){for(;x!==null;){var F=Ga(x);if(F!==null&&al(F),F=po(s,o,l,m),F===null&&ff(s,o,m,Ss,l),F===x)break;x=F}x!==null&&m.stopPropagation()}else ff(s,o,m,null,l)}}var Ss=null;function po(s,o,l,m){if(Ss=null,s=no(m),s=Is(s),s!==null)if(o=ir(s),o===null)s=null;else if(l=o.tag,l===13){if(s=ws(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ss=s,null}function Na(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nl()){case Es:return 1;case Ai:return 4;case Hn:case Ia:return 16;case rl:return 536870912;default:return 16}default:return 16}}var Ln=null,mo=null,bn=null;function Oa(){if(bn)return bn;var s,o=mo,l=o.length,m,x="value"in Ln?Ln.value:Ln.textContent,F=x.length;for(s=0;s<l&&o[s]===x[s];s++);var U=l-s;for(m=1;m<=U&&o[l-m]===x[F-m];m++);return bn=x.slice(s,1<m?1-m:void 0)}function go(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Sr(){return!0}function La(){return!1}function Yt(s){function o(l,m,x,F,U){this._reactName=l,this._targetInst=x,this.type=m,this.nativeEvent=F,this.target=U,this.currentTarget=null;for(var Y in s)s.hasOwnProperty(Y)&&(l=s[Y],this[Y]=l?l(F):F[Y]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Sr:La,this.isPropagationStopped=La,this}return H(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),o}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=Yt(cr),xr=H({},cr,{view:0,detail:0}),tf=Yt(xr),vo,Qr,ki,xs=H({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ki&&(ki&&s.type==="mousemove"?(vo=s.screenX-ki.screenX,Qr=s.screenY-ki.screenY):Qr=vo=0,ki=s),vo)},movementY:function(s){return"movementY"in s?s.movementY:Qr}}),_o=Yt(xs),Fa=H({},xs,{dataTransfer:0}),pl=Yt(Fa),wo=H({},xr,{relatedTarget:0}),Eo=Yt(wo),ml=H({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yr=Yt(ml),gl=H({},cr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),yl=Yt(gl),vl=H({},cr,{data:0}),Ba=Yt(vl),Ao={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_l={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=_l[s])?!!o[s]:!1}function Dr(){return wl}var f=H({},xr,{key:function(s){if(s.key){var o=Ao[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=go(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?gn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(s){return s.type==="keypress"?go(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?go(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),L=Yt(f),M=H({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K=Yt(M),ae=H({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),me=Yt(ae),xe=H({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=Yt(xe),qt=H({},xs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),at=Yt(qt),$t=[9,13,27,32],Ft=c&&"CompositionEvent"in window,Gn=null;c&&"documentMode"in document&&(Gn=document.documentMode);var Fn=c&&"TextEvent"in window&&!Gn,Ds=c&&(!Ft||Gn&&8<Gn&&11>=Gn),Co=" ",vy=!1;function _y(s,o){switch(s){case"keyup":return $t.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var bo=!1;function ib(s,o){switch(s){case"compositionend":return wy(o);case"keypress":return o.which!==32?null:(vy=!0,Co);case"textInput":return s=o.data,s===Co&&vy?null:s;default:return null}}function sb(s,o){if(bo)return s==="compositionend"||!Ft&&_y(s,o)?(s=Oa(),bn=mo=Ln=null,bo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ds&&o.locale!=="ko"?null:o.data;default:return null}}var ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!ob[s.type]:o==="textarea"}function Ay(s,o,l,m){Cr(m),o=Tl(o,"onChange"),0<o.length&&(l=new yo("onChange","change",null,l,m),s.push({event:l,listeners:o}))}var ja=null,Ma=null;function ab(s){qy(s,0)}function El(s){var o=Io(s);if(De(o))return s}function ub(s,o){if(s==="change")return o}var Cy=!1;if(c){var nf;if(c){var rf="oninput"in document;if(!rf){var by=document.createElement("div");by.setAttribute("oninput","return;"),rf=typeof by.oninput=="function"}nf=rf}else nf=!1;Cy=nf&&(!document.documentMode||9<document.documentMode)}function Ty(){ja&&(ja.detachEvent("onpropertychange",Sy),Ma=ja=null)}function Sy(s){if(s.propertyName==="value"&&El(Ma)){var o=[];Ay(o,Ma,s,no(s)),Ta(ab,o)}}function lb(s,o,l){s==="focusin"?(Ty(),ja=o,Ma=l,ja.attachEvent("onpropertychange",Sy)):s==="focusout"&&Ty()}function cb(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return El(Ma)}function hb(s,o){if(s==="click")return El(o)}function fb(s,o){if(s==="input"||s==="change")return El(o)}function db(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var hr=typeof Object.is=="function"?Object.is:db;function qa(s,o){if(hr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),m=Object.keys(o);if(l.length!==m.length)return!1;for(m=0;m<l.length;m++){var x=l[m];if(!h.call(o,x)||!hr(s[x],o[x]))return!1}return!0}function xy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Dy(s,o){var l=xy(s);s=0;for(var m;l;){if(l.nodeType===3){if(m=s+l.textContent.length,s<=o&&m>=o)return{node:l,offset:o-s};s=m}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=xy(l)}}function Iy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Iy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function ky(){for(var s=window,o=Ie();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Ie(s.document)}return o}function sf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function pb(s){var o=ky(),l=s.focusedElem,m=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&Iy(l.ownerDocument.documentElement,l)){if(m!==null&&sf(l)){if(o=m.start,s=m.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var x=l.textContent.length,F=Math.min(m.start,x);m=m.end===void 0?F:Math.min(m.end,x),!s.extend&&F>m&&(x=m,m=F,F=x),x=Dy(l,F);var U=Dy(l,m);x&&U&&(s.rangeCount!==1||s.anchorNode!==x.node||s.anchorOffset!==x.offset||s.focusNode!==U.node||s.focusOffset!==U.offset)&&(o=o.createRange(),o.setStart(x.node,x.offset),s.removeAllRanges(),F>m?(s.addRange(o),s.extend(U.node,U.offset)):(o.setEnd(U.node,U.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var mb=c&&"documentMode"in document&&11>=document.documentMode,To=null,of=null,Va=null,af=!1;function Ry(s,o,l){var m=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;af||To==null||To!==Ie(m)||(m=To,"selectionStart"in m&&sf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Va&&qa(Va,m)||(Va=m,m=Tl(of,"onSelect"),0<m.length&&(o=new yo("onSelect","select",null,o,l),s.push({event:o,listeners:m}),o.target=To)))}function Al(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var So={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionend:Al("Transition","TransitionEnd")},uf={},Py={};c&&(Py=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Cl(s){if(uf[s])return uf[s];if(!So[s])return s;var o=So[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Py)return uf[s]=o[l];return s}var Ny=Cl("animationend"),Oy=Cl("animationiteration"),Ly=Cl("animationstart"),Fy=Cl("transitionend"),By=new Map,jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(s,o){By.set(s,o),a(o,[s])}for(var lf=0;lf<jy.length;lf++){var cf=jy[lf],gb=cf.toLowerCase(),yb=cf[0].toUpperCase()+cf.slice(1);Ri(gb,"on"+yb)}Ri(Ny,"onAnimationEnd"),Ri(Oy,"onAnimationIteration"),Ri(Ly,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Fy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function My(s,o,l){var m=s.type||"unknown-event";s.currentTarget=l,Zu(m,o,void 0,s),s.currentTarget=null}function qy(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var m=s[l],x=m.event;m=m.listeners;e:{var F=void 0;if(o)for(var U=m.length-1;0<=U;U--){var Y=m[U],ne=Y.instance,pe=Y.currentTarget;if(Y=Y.listener,ne!==F&&x.isPropagationStopped())break e;My(x,Y,pe),F=ne}else for(U=0;U<m.length;U++){if(Y=m[U],ne=Y.instance,pe=Y.currentTarget,Y=Y.listener,ne!==F&&x.isPropagationStopped())break e;My(x,Y,pe),F=ne}}}if(rr)throw s=Sa,rr=!1,Sa=null,s}function _t(s,o){var l=o[vf];l===void 0&&(l=o[vf]=new Set);var m=s+"__bubble";l.has(m)||(Vy(o,s,2,!1),l.add(m))}function hf(s,o,l){var m=0;o&&(m|=4),Vy(l,s,m,o)}var bl="_reactListening"+Math.random().toString(36).slice(2);function za(s){if(!s[bl]){s[bl]=!0,n.forEach(function(l){l!=="selectionchange"&&(vb.has(l)||hf(l,!1,s),hf(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[bl]||(o[bl]=!0,hf("selectionchange",!1,o))}}function Vy(s,o,l,m){switch(Na(o)){case 1:var x=At;break;case 4:x=ef;break;default:x=Pa}l=x.bind(null,o,l,s),x=void 0,!so||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),m?x!==void 0?s.addEventListener(o,l,{capture:!0,passive:x}):s.addEventListener(o,l,!0):x!==void 0?s.addEventListener(o,l,{passive:x}):s.addEventListener(o,l,!1)}function ff(s,o,l,m,x){var F=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var Y=m.stateNode.containerInfo;if(Y===x||Y.nodeType===8&&Y.parentNode===x)break;if(U===4)for(U=m.return;U!==null;){var ne=U.tag;if((ne===3||ne===4)&&(ne=U.stateNode.containerInfo,ne===x||ne.nodeType===8&&ne.parentNode===x))return;U=U.return}for(;Y!==null;){if(U=Is(Y),U===null)return;if(ne=U.tag,ne===5||ne===6){m=F=U;continue e}Y=Y.parentNode}}m=m.return}Ta(function(){var pe=F,Ce=no(l),be=[];e:{var Ae=By.get(s);if(Ae!==void 0){var Pe=yo,Fe=s;switch(s){case"keypress":if(go(l)===0)break e;case"keydown":case"keyup":Pe=L;break;case"focusin":Fe="focus",Pe=Eo;break;case"focusout":Fe="blur",Pe=Eo;break;case"beforeblur":case"afterblur":Pe=Eo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=_o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=pl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=me;break;case Ny:case Oy:case Ly:Pe=Yr;break;case Fy:Pe=pt;break;case"scroll":Pe=tf;break;case"wheel":Pe=at;break;case"copy":case"cut":case"paste":Pe=yl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=K}var Me=(o&4)!==0,Nt=!Me&&s==="scroll",ue=Me?Ae!==null?Ae+"Capture":null:Ae;Me=[];for(var oe=pe,ce;oe!==null;){ce=oe;var Te=ce.stateNode;if(ce.tag===5&&Te!==null&&(ce=Te,ue!==null&&(Te=Pt(oe,ue),Te!=null&&Me.push(Ha(oe,Te,ce)))),Nt)break;oe=oe.return}0<Me.length&&(Ae=new Pe(Ae,Fe,null,l,Ce),be.push({event:Ae,listeners:Me}))}}if((o&7)===0){e:{if(Ae=s==="mouseover"||s==="pointerover",Pe=s==="mouseout"||s==="pointerout",Ae&&l!==gs&&(Fe=l.relatedTarget||l.fromElement)&&(Is(Fe)||Fe[Xr]))break e;if((Pe||Ae)&&(Ae=Ce.window===Ce?Ce:(Ae=Ce.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,Pe?(Fe=l.relatedTarget||l.toElement,Pe=pe,Fe=Fe?Is(Fe):null,Fe!==null&&(Nt=ir(Fe),Fe!==Nt||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(Pe=null,Fe=pe),Pe!==Fe)){if(Me=_o,Te="onMouseLeave",ue="onMouseEnter",oe="mouse",(s==="pointerout"||s==="pointerover")&&(Me=K,Te="onPointerLeave",ue="onPointerEnter",oe="pointer"),Nt=Pe==null?Ae:Io(Pe),ce=Fe==null?Ae:Io(Fe),Ae=new Me(Te,oe+"leave",Pe,l,Ce),Ae.target=Nt,Ae.relatedTarget=ce,Te=null,Is(Ce)===pe&&(Me=new Me(ue,oe+"enter",Fe,l,Ce),Me.target=ce,Me.relatedTarget=Nt,Te=Me),Nt=Te,Pe&&Fe)t:{for(Me=Pe,ue=Fe,oe=0,ce=Me;ce;ce=xo(ce))oe++;for(ce=0,Te=ue;Te;Te=xo(Te))ce++;for(;0<oe-ce;)Me=xo(Me),oe--;for(;0<ce-oe;)ue=xo(ue),ce--;for(;oe--;){if(Me===ue||ue!==null&&Me===ue.alternate)break t;Me=xo(Me),ue=xo(ue)}Me=null}else Me=null;Pe!==null&&Uy(be,Ae,Pe,Me,!1),Fe!==null&&Nt!==null&&Uy(be,Nt,Fe,Me,!0)}}e:{if(Ae=pe?Io(pe):window,Pe=Ae.nodeName&&Ae.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Ae.type==="file")var qe=ub;else if(Ey(Ae))if(Cy)qe=fb;else{qe=cb;var ze=lb}else(Pe=Ae.nodeName)&&Pe.toLowerCase()==="input"&&(Ae.type==="checkbox"||Ae.type==="radio")&&(qe=hb);if(qe&&(qe=qe(s,pe))){Ay(be,qe,l,Ce);break e}ze&&ze(s,Ae,pe),s==="focusout"&&(ze=Ae._wrapperState)&&ze.controlled&&Ae.type==="number"&&de(Ae,"number",Ae.value)}switch(ze=pe?Io(pe):window,s){case"focusin":(Ey(ze)||ze.contentEditable==="true")&&(To=ze,of=pe,Va=null);break;case"focusout":Va=of=To=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,Ry(be,l,Ce);break;case"selectionchange":if(mb)break;case"keydown":case"keyup":Ry(be,l,Ce)}var He;if(Ft)e:{switch(s){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else bo?_y(s,l)&&(Je="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Je="onCompositionStart");Je&&(Ds&&l.locale!=="ko"&&(bo||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&bo&&(He=Oa()):(Ln=Ce,mo="value"in Ln?Ln.value:Ln.textContent,bo=!0)),ze=Tl(pe,Je),0<ze.length&&(Je=new Ba(Je,s,null,l,Ce),be.push({event:Je,listeners:ze}),He?Je.data=He:(He=wy(l),He!==null&&(Je.data=He)))),(He=Fn?ib(s,l):sb(s,l))&&(pe=Tl(pe,"onBeforeInput"),0<pe.length&&(Ce=new Ba("onBeforeInput","beforeinput",null,l,Ce),be.push({event:Ce,listeners:pe}),Ce.data=He))}qy(be,o)})}function Ha(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Tl(s,o){for(var l=o+"Capture",m=[];s!==null;){var x=s,F=x.stateNode;x.tag===5&&F!==null&&(x=F,F=Pt(s,l),F!=null&&m.unshift(Ha(s,F,x)),F=Pt(s,o),F!=null&&m.push(Ha(s,F,x))),s=s.return}return m}function xo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Uy(s,o,l,m,x){for(var F=o._reactName,U=[];l!==null&&l!==m;){var Y=l,ne=Y.alternate,pe=Y.stateNode;if(ne!==null&&ne===m)break;Y.tag===5&&pe!==null&&(Y=pe,x?(ne=Pt(l,F),ne!=null&&U.unshift(Ha(l,ne,Y))):x||(ne=Pt(l,F),ne!=null&&U.push(Ha(l,ne,Y)))),l=l.return}U.length!==0&&s.push({event:o,listeners:U})}var _b=/\r\n?/g,wb=/\u0000|\uFFFD/g;function zy(s){return(typeof s=="string"?s:""+s).replace(_b,`
`).replace(wb,"")}function Sl(s,o,l){if(o=zy(o),zy(s)!==o&&l)throw Error(t(425))}function xl(){}var df=null,pf=null;function mf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var gf=typeof setTimeout=="function"?setTimeout:void 0,Eb=typeof clearTimeout=="function"?clearTimeout:void 0,Hy=typeof Promise=="function"?Promise:void 0,Ab=typeof queueMicrotask=="function"?queueMicrotask:typeof Hy<"u"?function(s){return Hy.resolve(null).then(s).catch(Cb)}:gf;function Cb(s){setTimeout(function(){throw s})}function yf(s,o){var l=o,m=0;do{var x=l.nextSibling;if(s.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(m===0){s.removeChild(x),lr(o);return}m--}else l!=="$"&&l!=="$?"&&l!=="$!"||m++;l=x}while(l);lr(o)}function Pi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function $y(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var Do=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Do,$a="__reactProps$"+Do,Xr="__reactContainer$"+Do,vf="__reactEvents$"+Do,bb="__reactListeners$"+Do,Tb="__reactHandles$"+Do;function Is(s){var o=s[Ir];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Xr]||l[Ir]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=$y(s);s!==null;){if(l=s[Ir])return l;s=$y(s)}return o}s=l,l=s.parentNode}return null}function Ga(s){return s=s[Ir]||s[Xr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Io(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Dl(s){return s[$a]||null}var _f=[],ko=-1;function Ni(s){return{current:s}}function wt(s){0>ko||(s.current=_f[ko],_f[ko]=null,ko--)}function yt(s,o){ko++,_f[ko]=s.current,s.current=o}var Oi={},rn=Ni(Oi),Tn=Ni(!1),ks=Oi;function Ro(s,o){var l=s.type.contextTypes;if(!l)return Oi;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var x={},F;for(F in l)x[F]=o[F];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=x),x}function Sn(s){return s=s.childContextTypes,s!=null}function Il(){wt(Tn),wt(rn)}function Gy(s,o,l){if(rn.current!==Oi)throw Error(t(168));yt(rn,o),yt(Tn,l)}function Wy(s,o,l){var m=s.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return l;m=m.getChildContext();for(var x in m)if(!(x in o))throw Error(t(108,Q(s)||"Unknown",x));return H({},l,m)}function kl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Oi,ks=rn.current,yt(rn,s),yt(Tn,Tn.current),!0}function Ky(s,o,l){var m=s.stateNode;if(!m)throw Error(t(169));l?(s=Wy(s,o,ks),m.__reactInternalMemoizedMergedChildContext=s,wt(Tn),wt(rn),yt(rn,s)):wt(Tn),yt(Tn,l)}var Zr=null,Rl=!1,wf=!1;function Jy(s){Zr===null?Zr=[s]:Zr.push(s)}function Sb(s){Rl=!0,Jy(s)}function Li(){if(!wf&&Zr!==null){wf=!0;var s=0,o=ot;try{var l=Zr;for(ot=1;s<l.length;s++){var m=l[s];do m=m(!0);while(m!==null)}Zr=null,Rl=!1}catch(x){throw Zr!==null&&(Zr=Zr.slice(s+1)),lo(Es,Li),x}finally{ot=o,wf=!1}}return null}var Po=[],No=0,Pl=null,Nl=0,Wn=[],Kn=0,Rs=null,ei=1,ti="";function Ps(s,o){Po[No++]=Nl,Po[No++]=Pl,Pl=s,Nl=o}function Qy(s,o,l){Wn[Kn++]=ei,Wn[Kn++]=ti,Wn[Kn++]=Rs,Rs=s;var m=ei;s=ti;var x=32-mn(m)-1;m&=~(1<<x),l+=1;var F=32-mn(o)+x;if(30<F){var U=x-x%5;F=(m&(1<<U)-1).toString(32),m>>=U,x-=U,ei=1<<32-mn(o)+x|l<<x|m,ti=F+s}else ei=1<<F|l<<x|m,ti=s}function Ef(s){s.return!==null&&(Ps(s,1),Qy(s,1,0))}function Af(s){for(;s===Pl;)Pl=Po[--No],Po[No]=null,Nl=Po[--No],Po[No]=null;for(;s===Rs;)Rs=Wn[--Kn],Wn[Kn]=null,ti=Wn[--Kn],Wn[Kn]=null,ei=Wn[--Kn],Wn[Kn]=null}var Bn=null,jn=null,Ct=!1,fr=null;function Yy(s,o){var l=Xn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function Xy(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Bn=s,jn=Pi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Bn=s,jn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Rs!==null?{id:ei,overflow:ti}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Xn(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,Bn=s,jn=null,!0):!1;default:return!1}}function Cf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function bf(s){if(Ct){var o=jn;if(o){var l=o;if(!Xy(s,o)){if(Cf(s))throw Error(t(418));o=Pi(l.nextSibling);var m=Bn;o&&Xy(s,o)?Yy(m,l):(s.flags=s.flags&-4097|2,Ct=!1,Bn=s)}}else{if(Cf(s))throw Error(t(418));s.flags=s.flags&-4097|2,Ct=!1,Bn=s}}}function Zy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Bn=s}function Ol(s){if(s!==Bn)return!1;if(!Ct)return Zy(s),Ct=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!mf(s.type,s.memoizedProps)),o&&(o=jn)){if(Cf(s))throw ev(),Error(t(418));for(;o;)Yy(s,o),o=Pi(o.nextSibling)}if(Zy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){jn=Pi(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}jn=null}}else jn=Bn?Pi(s.stateNode.nextSibling):null;return!0}function ev(){for(var s=jn;s;)s=Pi(s.nextSibling)}function Oo(){jn=Bn=null,Ct=!1}function Tf(s){fr===null?fr=[s]:fr.push(s)}var xb=T.ReactCurrentBatchConfig;function Wa(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var m=l.stateNode}if(!m)throw Error(t(147,s));var x=m,F=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===F?o.ref:(o=function(U){var Y=x.refs;U===null?delete Y[F]:Y[F]=U},o._stringRef=F,o)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function Ll(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function tv(s){var o=s._init;return o(s._payload)}function nv(s){function o(ue,oe){if(s){var ce=ue.deletions;ce===null?(ue.deletions=[oe],ue.flags|=16):ce.push(oe)}}function l(ue,oe){if(!s)return null;for(;oe!==null;)o(ue,oe),oe=oe.sibling;return null}function m(ue,oe){for(ue=new Map;oe!==null;)oe.key!==null?ue.set(oe.key,oe):ue.set(oe.index,oe),oe=oe.sibling;return ue}function x(ue,oe){return ue=zi(ue,oe),ue.index=0,ue.sibling=null,ue}function F(ue,oe,ce){return ue.index=ce,s?(ce=ue.alternate,ce!==null?(ce=ce.index,ce<oe?(ue.flags|=2,oe):ce):(ue.flags|=2,oe)):(ue.flags|=1048576,oe)}function U(ue){return s&&ue.alternate===null&&(ue.flags|=2),ue}function Y(ue,oe,ce,Te){return oe===null||oe.tag!==6?(oe=gd(ce,ue.mode,Te),oe.return=ue,oe):(oe=x(oe,ce),oe.return=ue,oe)}function ne(ue,oe,ce,Te){var qe=ce.type;return qe===R?Ce(ue,oe,ce.props.children,Te,ce.key):oe!==null&&(oe.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===se&&tv(qe)===oe.type)?(Te=x(oe,ce.props),Te.ref=Wa(ue,oe,ce),Te.return=ue,Te):(Te=sc(ce.type,ce.key,ce.props,null,ue.mode,Te),Te.ref=Wa(ue,oe,ce),Te.return=ue,Te)}function pe(ue,oe,ce,Te){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ce.containerInfo||oe.stateNode.implementation!==ce.implementation?(oe=yd(ce,ue.mode,Te),oe.return=ue,oe):(oe=x(oe,ce.children||[]),oe.return=ue,oe)}function Ce(ue,oe,ce,Te,qe){return oe===null||oe.tag!==7?(oe=qs(ce,ue.mode,Te,qe),oe.return=ue,oe):(oe=x(oe,ce),oe.return=ue,oe)}function be(ue,oe,ce){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return oe=gd(""+oe,ue.mode,ce),oe.return=ue,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case j:return ce=sc(oe.type,oe.key,oe.props,null,ue.mode,ce),ce.ref=Wa(ue,null,oe),ce.return=ue,ce;case q:return oe=yd(oe,ue.mode,ce),oe.return=ue,oe;case se:var Te=oe._init;return be(ue,Te(oe._payload),ce)}if(Ee(oe)||G(oe))return oe=qs(oe,ue.mode,ce,null),oe.return=ue,oe;Ll(ue,oe)}return null}function Ae(ue,oe,ce,Te){var qe=oe!==null?oe.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return qe!==null?null:Y(ue,oe,""+ce,Te);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case j:return ce.key===qe?ne(ue,oe,ce,Te):null;case q:return ce.key===qe?pe(ue,oe,ce,Te):null;case se:return qe=ce._init,Ae(ue,oe,qe(ce._payload),Te)}if(Ee(ce)||G(ce))return qe!==null?null:Ce(ue,oe,ce,Te,null);Ll(ue,ce)}return null}function Pe(ue,oe,ce,Te,qe){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return ue=ue.get(ce)||null,Y(oe,ue,""+Te,qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case j:return ue=ue.get(Te.key===null?ce:Te.key)||null,ne(oe,ue,Te,qe);case q:return ue=ue.get(Te.key===null?ce:Te.key)||null,pe(oe,ue,Te,qe);case se:var ze=Te._init;return Pe(ue,oe,ce,ze(Te._payload),qe)}if(Ee(Te)||G(Te))return ue=ue.get(ce)||null,Ce(oe,ue,Te,qe,null);Ll(oe,Te)}return null}function Fe(ue,oe,ce,Te){for(var qe=null,ze=null,He=oe,Je=oe=0,Kt=null;He!==null&&Je<ce.length;Je++){He.index>Je?(Kt=He,He=null):Kt=He.sibling;var ht=Ae(ue,He,ce[Je],Te);if(ht===null){He===null&&(He=Kt);break}s&&He&&ht.alternate===null&&o(ue,He),oe=F(ht,oe,Je),ze===null?qe=ht:ze.sibling=ht,ze=ht,He=Kt}if(Je===ce.length)return l(ue,He),Ct&&Ps(ue,Je),qe;if(He===null){for(;Je<ce.length;Je++)He=be(ue,ce[Je],Te),He!==null&&(oe=F(He,oe,Je),ze===null?qe=He:ze.sibling=He,ze=He);return Ct&&Ps(ue,Je),qe}for(He=m(ue,He);Je<ce.length;Je++)Kt=Pe(He,ue,Je,ce[Je],Te),Kt!==null&&(s&&Kt.alternate!==null&&He.delete(Kt.key===null?Je:Kt.key),oe=F(Kt,oe,Je),ze===null?qe=Kt:ze.sibling=Kt,ze=Kt);return s&&He.forEach(function(Hi){return o(ue,Hi)}),Ct&&Ps(ue,Je),qe}function Me(ue,oe,ce,Te){var qe=G(ce);if(typeof qe!="function")throw Error(t(150));if(ce=qe.call(ce),ce==null)throw Error(t(151));for(var ze=qe=null,He=oe,Je=oe=0,Kt=null,ht=ce.next();He!==null&&!ht.done;Je++,ht=ce.next()){He.index>Je?(Kt=He,He=null):Kt=He.sibling;var Hi=Ae(ue,He,ht.value,Te);if(Hi===null){He===null&&(He=Kt);break}s&&He&&Hi.alternate===null&&o(ue,He),oe=F(Hi,oe,Je),ze===null?qe=Hi:ze.sibling=Hi,ze=Hi,He=Kt}if(ht.done)return l(ue,He),Ct&&Ps(ue,Je),qe;if(He===null){for(;!ht.done;Je++,ht=ce.next())ht=be(ue,ht.value,Te),ht!==null&&(oe=F(ht,oe,Je),ze===null?qe=ht:ze.sibling=ht,ze=ht);return Ct&&Ps(ue,Je),qe}for(He=m(ue,He);!ht.done;Je++,ht=ce.next())ht=Pe(He,ue,Je,ht.value,Te),ht!==null&&(s&&ht.alternate!==null&&He.delete(ht.key===null?Je:ht.key),oe=F(ht,oe,Je),ze===null?qe=ht:ze.sibling=ht,ze=ht);return s&&He.forEach(function(oT){return o(ue,oT)}),Ct&&Ps(ue,Je),qe}function Nt(ue,oe,ce,Te){if(typeof ce=="object"&&ce!==null&&ce.type===R&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case j:e:{for(var qe=ce.key,ze=oe;ze!==null;){if(ze.key===qe){if(qe=ce.type,qe===R){if(ze.tag===7){l(ue,ze.sibling),oe=x(ze,ce.props.children),oe.return=ue,ue=oe;break e}}else if(ze.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===se&&tv(qe)===ze.type){l(ue,ze.sibling),oe=x(ze,ce.props),oe.ref=Wa(ue,ze,ce),oe.return=ue,ue=oe;break e}l(ue,ze);break}else o(ue,ze);ze=ze.sibling}ce.type===R?(oe=qs(ce.props.children,ue.mode,Te,ce.key),oe.return=ue,ue=oe):(Te=sc(ce.type,ce.key,ce.props,null,ue.mode,Te),Te.ref=Wa(ue,oe,ce),Te.return=ue,ue=Te)}return U(ue);case q:e:{for(ze=ce.key;oe!==null;){if(oe.key===ze)if(oe.tag===4&&oe.stateNode.containerInfo===ce.containerInfo&&oe.stateNode.implementation===ce.implementation){l(ue,oe.sibling),oe=x(oe,ce.children||[]),oe.return=ue,ue=oe;break e}else{l(ue,oe);break}else o(ue,oe);oe=oe.sibling}oe=yd(ce,ue.mode,Te),oe.return=ue,ue=oe}return U(ue);case se:return ze=ce._init,Nt(ue,oe,ze(ce._payload),Te)}if(Ee(ce))return Fe(ue,oe,ce,Te);if(G(ce))return Me(ue,oe,ce,Te);Ll(ue,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,oe!==null&&oe.tag===6?(l(ue,oe.sibling),oe=x(oe,ce),oe.return=ue,ue=oe):(l(ue,oe),oe=gd(ce,ue.mode,Te),oe.return=ue,ue=oe),U(ue)):l(ue,oe)}return Nt}var Lo=nv(!0),rv=nv(!1),Fl=Ni(null),Bl=null,Fo=null,Sf=null;function xf(){Sf=Fo=Bl=null}function Df(s){var o=Fl.current;wt(Fl),s._currentValue=o}function If(s,o,l){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===l)break;s=s.return}}function Bo(s,o){Bl=s,Sf=Fo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(xn=!0),s.firstContext=null)}function Jn(s){var o=s._currentValue;if(Sf!==s)if(s={context:s,memoizedValue:o,next:null},Fo===null){if(Bl===null)throw Error(t(308));Fo=s,Bl.dependencies={lanes:0,firstContext:s}}else Fo=Fo.next=s;return o}var Ns=null;function kf(s){Ns===null?Ns=[s]:Ns.push(s)}function iv(s,o,l,m){var x=o.interleaved;return x===null?(l.next=l,kf(o)):(l.next=x.next,x.next=l),o.interleaved=l,ni(s,m)}function ni(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Fi=!1;function Rf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ri(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Bi(s,o,l){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(lt&2)!==0){var x=m.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),m.pending=o,ni(s,l)}return x=m.interleaved,x===null?(o.next=o,kf(m)):(o.next=x.next,x.next=o),m.interleaved=o,ni(s,l)}function jl(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var m=o.lanes;m&=s.pendingLanes,l|=m,o.lanes=l,Si(s,l)}}function ov(s,o){var l=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,l===m)){var x=null,F=null;if(l=l.firstBaseUpdate,l!==null){do{var U={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};F===null?x=F=U:F=F.next=U,l=l.next}while(l!==null);F===null?x=F=o:F=F.next=o}else x=F=o;l={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:F,shared:m.shared,effects:m.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function Ml(s,o,l,m){var x=s.updateQueue;Fi=!1;var F=x.firstBaseUpdate,U=x.lastBaseUpdate,Y=x.shared.pending;if(Y!==null){x.shared.pending=null;var ne=Y,pe=ne.next;ne.next=null,U===null?F=pe:U.next=pe,U=ne;var Ce=s.alternate;Ce!==null&&(Ce=Ce.updateQueue,Y=Ce.lastBaseUpdate,Y!==U&&(Y===null?Ce.firstBaseUpdate=pe:Y.next=pe,Ce.lastBaseUpdate=ne))}if(F!==null){var be=x.baseState;U=0,Ce=pe=ne=null,Y=F;do{var Ae=Y.lane,Pe=Y.eventTime;if((m&Ae)===Ae){Ce!==null&&(Ce=Ce.next={eventTime:Pe,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Fe=s,Me=Y;switch(Ae=o,Pe=l,Me.tag){case 1:if(Fe=Me.payload,typeof Fe=="function"){be=Fe.call(Pe,be,Ae);break e}be=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Me.payload,Ae=typeof Fe=="function"?Fe.call(Pe,be,Ae):Fe,Ae==null)break e;be=H({},be,Ae);break e;case 2:Fi=!0}}Y.callback!==null&&Y.lane!==0&&(s.flags|=64,Ae=x.effects,Ae===null?x.effects=[Y]:Ae.push(Y))}else Pe={eventTime:Pe,lane:Ae,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ce===null?(pe=Ce=Pe,ne=be):Ce=Ce.next=Pe,U|=Ae;if(Y=Y.next,Y===null){if(Y=x.shared.pending,Y===null)break;Ae=Y,Y=Ae.next,Ae.next=null,x.lastBaseUpdate=Ae,x.shared.pending=null}}while(!0);if(Ce===null&&(ne=be),x.baseState=ne,x.firstBaseUpdate=pe,x.lastBaseUpdate=Ce,o=x.shared.interleaved,o!==null){x=o;do U|=x.lane,x=x.next;while(x!==o)}else F===null&&(x.shared.lanes=0);Fs|=U,s.lanes=U,s.memoizedState=be}}function av(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var m=s[o],x=m.callback;if(x!==null){if(m.callback=null,m=l,typeof x!="function")throw Error(t(191,x));x.call(m)}}}var Ka={},kr=Ni(Ka),Ja=Ni(Ka),Qa=Ni(Ka);function Os(s){if(s===Ka)throw Error(t(174));return s}function Pf(s,o){switch(yt(Qa,o),yt(Ja,s),yt(kr,Ka),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Xe(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Xe(o,s)}wt(kr),yt(kr,o)}function jo(){wt(kr),wt(Ja),wt(Qa)}function uv(s){Os(Qa.current);var o=Os(kr.current),l=Xe(o,s.type);o!==l&&(yt(Ja,s),yt(kr,l))}function Nf(s){Ja.current===s&&(wt(kr),wt(Ja))}var Tt=Ni(0);function ql(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Of=[];function Lf(){for(var s=0;s<Of.length;s++)Of[s]._workInProgressVersionPrimary=null;Of.length=0}var Vl=T.ReactCurrentDispatcher,Ff=T.ReactCurrentBatchConfig,Ls=0,St=null,Vt=null,Gt=null,Ul=!1,Ya=!1,Xa=0,Db=0;function sn(){throw Error(t(321))}function Bf(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!hr(s[l],o[l]))return!1;return!0}function jf(s,o,l,m,x,F){if(Ls=F,St=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Vl.current=s===null||s.memoizedState===null?Pb:Nb,s=l(m,x),Ya){F=0;do{if(Ya=!1,Xa=0,25<=F)throw Error(t(301));F+=1,Gt=Vt=null,o.updateQueue=null,Vl.current=Ob,s=l(m,x)}while(Ya)}if(Vl.current=$l,o=Vt!==null&&Vt.next!==null,Ls=0,Gt=Vt=St=null,Ul=!1,o)throw Error(t(300));return s}function Mf(){var s=Xa!==0;return Xa=0,s}function Rr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?St.memoizedState=Gt=s:Gt=Gt.next=s,Gt}function Qn(){if(Vt===null){var s=St.alternate;s=s!==null?s.memoizedState:null}else s=Vt.next;var o=Gt===null?St.memoizedState:Gt.next;if(o!==null)Gt=o,Vt=s;else{if(s===null)throw Error(t(310));Vt=s,s={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Gt===null?St.memoizedState=Gt=s:Gt=Gt.next=s}return Gt}function Za(s,o){return typeof o=="function"?o(s):o}function qf(s){var o=Qn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var m=Vt,x=m.baseQueue,F=l.pending;if(F!==null){if(x!==null){var U=x.next;x.next=F.next,F.next=U}m.baseQueue=x=F,l.pending=null}if(x!==null){F=x.next,m=m.baseState;var Y=U=null,ne=null,pe=F;do{var Ce=pe.lane;if((Ls&Ce)===Ce)ne!==null&&(ne=ne.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),m=pe.hasEagerState?pe.eagerState:s(m,pe.action);else{var be={lane:Ce,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};ne===null?(Y=ne=be,U=m):ne=ne.next=be,St.lanes|=Ce,Fs|=Ce}pe=pe.next}while(pe!==null&&pe!==F);ne===null?U=m:ne.next=Y,hr(m,o.memoizedState)||(xn=!0),o.memoizedState=m,o.baseState=U,o.baseQueue=ne,l.lastRenderedState=m}if(s=l.interleaved,s!==null){x=s;do F=x.lane,St.lanes|=F,Fs|=F,x=x.next;while(x!==s)}else x===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Vf(s){var o=Qn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var m=l.dispatch,x=l.pending,F=o.memoizedState;if(x!==null){l.pending=null;var U=x=x.next;do F=s(F,U.action),U=U.next;while(U!==x);hr(F,o.memoizedState)||(xn=!0),o.memoizedState=F,o.baseQueue===null&&(o.baseState=F),l.lastRenderedState=F}return[F,m]}function lv(){}function cv(s,o){var l=St,m=Qn(),x=o(),F=!hr(m.memoizedState,x);if(F&&(m.memoizedState=x,xn=!0),m=m.queue,Uf(dv.bind(null,l,m,s),[s]),m.getSnapshot!==o||F||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,eu(9,fv.bind(null,l,m,x,o),void 0,null),Wt===null)throw Error(t(349));(Ls&30)!==0||hv(l,o,x)}return x}function hv(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=St.updateQueue,o===null?(o={lastEffect:null,stores:null},St.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function fv(s,o,l,m){o.value=l,o.getSnapshot=m,pv(o)&&mv(s)}function dv(s,o,l){return l(function(){pv(o)&&mv(s)})}function pv(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!hr(s,l)}catch{return!0}}function mv(s){var o=ni(s,1);o!==null&&gr(o,s,1,-1)}function gv(s){var o=Rr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Za,lastRenderedState:s},o.queue=s,s=s.dispatch=Rb.bind(null,St,s),[o.memoizedState,s]}function eu(s,o,l,m){return s={tag:s,create:o,destroy:l,deps:m,next:null},o=St.updateQueue,o===null?(o={lastEffect:null,stores:null},St.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(m=l.next,l.next=s,s.next=m,o.lastEffect=s)),s}function yv(){return Qn().memoizedState}function zl(s,o,l,m){var x=Rr();St.flags|=s,x.memoizedState=eu(1|o,l,void 0,m===void 0?null:m)}function Hl(s,o,l,m){var x=Qn();m=m===void 0?null:m;var F=void 0;if(Vt!==null){var U=Vt.memoizedState;if(F=U.destroy,m!==null&&Bf(m,U.deps)){x.memoizedState=eu(o,l,F,m);return}}St.flags|=s,x.memoizedState=eu(1|o,l,F,m)}function vv(s,o){return zl(8390656,8,s,o)}function Uf(s,o){return Hl(2048,8,s,o)}function _v(s,o){return Hl(4,2,s,o)}function wv(s,o){return Hl(4,4,s,o)}function Ev(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Av(s,o,l){return l=l!=null?l.concat([s]):null,Hl(4,4,Ev.bind(null,o,s),l)}function zf(){}function Cv(s,o){var l=Qn();o=o===void 0?null:o;var m=l.memoizedState;return m!==null&&o!==null&&Bf(o,m[1])?m[0]:(l.memoizedState=[s,o],s)}function bv(s,o){var l=Qn();o=o===void 0?null:o;var m=l.memoizedState;return m!==null&&o!==null&&Bf(o,m[1])?m[0]:(s=s(),l.memoizedState=[s,o],s)}function Tv(s,o,l){return(Ls&21)===0?(s.baseState&&(s.baseState=!1,xn=!0),s.memoizedState=l):(hr(l,o)||(l=bs(),St.lanes|=l,Fs|=l,s.baseState=!0),o)}function Ib(s,o){var l=ot;ot=l!==0&&4>l?l:4,s(!0);var m=Ff.transition;Ff.transition={};try{s(!1),o()}finally{ot=l,Ff.transition=m}}function Sv(){return Qn().memoizedState}function kb(s,o,l){var m=Vi(s);if(l={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null},xv(s))Dv(o,l);else if(l=iv(s,o,l,m),l!==null){var x=vn();gr(l,s,m,x),Iv(l,o,m)}}function Rb(s,o,l){var m=Vi(s),x={lane:m,action:l,hasEagerState:!1,eagerState:null,next:null};if(xv(s))Dv(o,x);else{var F=s.alternate;if(s.lanes===0&&(F===null||F.lanes===0)&&(F=o.lastRenderedReducer,F!==null))try{var U=o.lastRenderedState,Y=F(U,l);if(x.hasEagerState=!0,x.eagerState=Y,hr(Y,U)){var ne=o.interleaved;ne===null?(x.next=x,kf(o)):(x.next=ne.next,ne.next=x),o.interleaved=x;return}}catch{}finally{}l=iv(s,o,x,m),l!==null&&(x=vn(),gr(l,s,m,x),Iv(l,o,m))}}function xv(s){var o=s.alternate;return s===St||o!==null&&o===St}function Dv(s,o){Ya=Ul=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Iv(s,o,l){if((l&4194240)!==0){var m=o.lanes;m&=s.pendingLanes,l|=m,o.lanes=l,Si(s,l)}}var $l={readContext:Jn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},Pb={readContext:Jn,useCallback:function(s,o){return Rr().memoizedState=[s,o===void 0?null:o],s},useContext:Jn,useEffect:vv,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,zl(4194308,4,Ev.bind(null,o,s),l)},useLayoutEffect:function(s,o){return zl(4194308,4,s,o)},useInsertionEffect:function(s,o){return zl(4,2,s,o)},useMemo:function(s,o){var l=Rr();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var m=Rr();return o=l!==void 0?l(o):o,m.memoizedState=m.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},m.queue=s,s=s.dispatch=kb.bind(null,St,s),[m.memoizedState,s]},useRef:function(s){var o=Rr();return s={current:s},o.memoizedState=s},useState:gv,useDebugValue:zf,useDeferredValue:function(s){return Rr().memoizedState=s},useTransition:function(){var s=gv(!1),o=s[0];return s=Ib.bind(null,s[1]),Rr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var m=St,x=Rr();if(Ct){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Wt===null)throw Error(t(349));(Ls&30)!==0||hv(m,o,l)}x.memoizedState=l;var F={value:l,getSnapshot:o};return x.queue=F,vv(dv.bind(null,m,F,s),[s]),m.flags|=2048,eu(9,fv.bind(null,m,F,l,o),void 0,null),l},useId:function(){var s=Rr(),o=Wt.identifierPrefix;if(Ct){var l=ti,m=ei;l=(m&~(1<<32-mn(m)-1)).toString(32)+l,o=":"+o+"R"+l,l=Xa++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=Db++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},Nb={readContext:Jn,useCallback:Cv,useContext:Jn,useEffect:Uf,useImperativeHandle:Av,useInsertionEffect:_v,useLayoutEffect:wv,useMemo:bv,useReducer:qf,useRef:yv,useState:function(){return qf(Za)},useDebugValue:zf,useDeferredValue:function(s){var o=Qn();return Tv(o,Vt.memoizedState,s)},useTransition:function(){var s=qf(Za)[0],o=Qn().memoizedState;return[s,o]},useMutableSource:lv,useSyncExternalStore:cv,useId:Sv,unstable_isNewReconciler:!1},Ob={readContext:Jn,useCallback:Cv,useContext:Jn,useEffect:Uf,useImperativeHandle:Av,useInsertionEffect:_v,useLayoutEffect:wv,useMemo:bv,useReducer:Vf,useRef:yv,useState:function(){return Vf(Za)},useDebugValue:zf,useDeferredValue:function(s){var o=Qn();return Vt===null?o.memoizedState=s:Tv(o,Vt.memoizedState,s)},useTransition:function(){var s=Vf(Za)[0],o=Qn().memoizedState;return[s,o]},useMutableSource:lv,useSyncExternalStore:cv,useId:Sv,unstable_isNewReconciler:!1};function dr(s,o){if(s&&s.defaultProps){o=H({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function Hf(s,o,l,m){o=s.memoizedState,l=l(m,o),l=l==null?o:H({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Gl={isMounted:function(s){return(s=s._reactInternals)?ir(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var m=vn(),x=Vi(s),F=ri(m,x);F.payload=o,l!=null&&(F.callback=l),o=Bi(s,F,x),o!==null&&(gr(o,s,x,m),jl(o,s,x))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var m=vn(),x=Vi(s),F=ri(m,x);F.tag=1,F.payload=o,l!=null&&(F.callback=l),o=Bi(s,F,x),o!==null&&(gr(o,s,x,m),jl(o,s,x))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=vn(),m=Vi(s),x=ri(l,m);x.tag=2,o!=null&&(x.callback=o),o=Bi(s,x,m),o!==null&&(gr(o,s,m,l),jl(o,s,m))}};function kv(s,o,l,m,x,F,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,F,U):o.prototype&&o.prototype.isPureReactComponent?!qa(l,m)||!qa(x,F):!0}function Rv(s,o,l){var m=!1,x=Oi,F=o.contextType;return typeof F=="object"&&F!==null?F=Jn(F):(x=Sn(o)?ks:rn.current,m=o.contextTypes,F=(m=m!=null)?Ro(s,x):Oi),o=new o(l,F),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Gl,s.stateNode=o,o._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=x,s.__reactInternalMemoizedMaskedChildContext=F),o}function Pv(s,o,l,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,m),o.state!==s&&Gl.enqueueReplaceState(o,o.state,null)}function $f(s,o,l,m){var x=s.stateNode;x.props=l,x.state=s.memoizedState,x.refs={},Rf(s);var F=o.contextType;typeof F=="object"&&F!==null?x.context=Jn(F):(F=Sn(o)?ks:rn.current,x.context=Ro(s,F)),x.state=s.memoizedState,F=o.getDerivedStateFromProps,typeof F=="function"&&(Hf(s,o,F,l),x.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(o=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),o!==x.state&&Gl.enqueueReplaceState(x,x.state,null),Ml(s,l,x,m),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308)}function Mo(s,o){try{var l="",m=o;do l+=X(m),m=m.return;while(m);var x=l}catch(F){x=`
Error generating stack: `+F.message+`
`+F.stack}return{value:s,source:o,stack:x,digest:null}}function Gf(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function Wf(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var Lb=typeof WeakMap=="function"?WeakMap:Map;function Nv(s,o,l){l=ri(-1,l),l.tag=3,l.payload={element:null};var m=o.value;return l.callback=function(){Zl||(Zl=!0,ud=m),Wf(s,o)},l}function Ov(s,o,l){l=ri(-1,l),l.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var x=o.value;l.payload=function(){return m(x)},l.callback=function(){Wf(s,o)}}var F=s.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(l.callback=function(){Wf(s,o),typeof m!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var U=o.stack;this.componentDidCatch(o.value,{componentStack:U!==null?U:""})}),l}function Lv(s,o,l){var m=s.pingCache;if(m===null){m=s.pingCache=new Lb;var x=new Set;m.set(o,x)}else x=m.get(o),x===void 0&&(x=new Set,m.set(o,x));x.has(l)||(x.add(l),s=Jb.bind(null,s,o,l),o.then(s,s))}function Fv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Bv(s,o,l,m,x){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=ri(-1,1),o.tag=2,Bi(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=x,s)}var Fb=T.ReactCurrentOwner,xn=!1;function yn(s,o,l,m){o.child=s===null?rv(o,null,l,m):Lo(o,s.child,l,m)}function jv(s,o,l,m,x){l=l.render;var F=o.ref;return Bo(o,x),m=jf(s,o,l,m,F,x),l=Mf(),s!==null&&!xn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~x,ii(s,o,x)):(Ct&&l&&Ef(o),o.flags|=1,yn(s,o,m,x),o.child)}function Mv(s,o,l,m,x){if(s===null){var F=l.type;return typeof F=="function"&&!md(F)&&F.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=F,qv(s,o,F,m,x)):(s=sc(l.type,null,m,o,o.mode,x),s.ref=o.ref,s.return=o,o.child=s)}if(F=s.child,(s.lanes&x)===0){var U=F.memoizedProps;if(l=l.compare,l=l!==null?l:qa,l(U,m)&&s.ref===o.ref)return ii(s,o,x)}return o.flags|=1,s=zi(F,m),s.ref=o.ref,s.return=o,o.child=s}function qv(s,o,l,m,x){if(s!==null){var F=s.memoizedProps;if(qa(F,m)&&s.ref===o.ref)if(xn=!1,o.pendingProps=m=F,(s.lanes&x)!==0)(s.flags&131072)!==0&&(xn=!0);else return o.lanes=s.lanes,ii(s,o,x)}return Kf(s,o,l,m,x)}function Vv(s,o,l){var m=o.pendingProps,x=m.children,F=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Vo,Mn),Mn|=l;else{if((l&1073741824)===0)return s=F!==null?F.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,yt(Vo,Mn),Mn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=F!==null?F.baseLanes:l,yt(Vo,Mn),Mn|=m}else F!==null?(m=F.baseLanes|l,o.memoizedState=null):m=l,yt(Vo,Mn),Mn|=m;return yn(s,o,x,l),o.child}function Uv(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Kf(s,o,l,m,x){var F=Sn(l)?ks:rn.current;return F=Ro(o,F),Bo(o,x),l=jf(s,o,l,m,F,x),m=Mf(),s!==null&&!xn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~x,ii(s,o,x)):(Ct&&m&&Ef(o),o.flags|=1,yn(s,o,l,x),o.child)}function zv(s,o,l,m,x){if(Sn(l)){var F=!0;kl(o)}else F=!1;if(Bo(o,x),o.stateNode===null)Kl(s,o),Rv(o,l,m),$f(o,l,m,x),m=!0;else if(s===null){var U=o.stateNode,Y=o.memoizedProps;U.props=Y;var ne=U.context,pe=l.contextType;typeof pe=="object"&&pe!==null?pe=Jn(pe):(pe=Sn(l)?ks:rn.current,pe=Ro(o,pe));var Ce=l.getDerivedStateFromProps,be=typeof Ce=="function"||typeof U.getSnapshotBeforeUpdate=="function";be||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Y!==m||ne!==pe)&&Pv(o,U,m,pe),Fi=!1;var Ae=o.memoizedState;U.state=Ae,Ml(o,m,U,x),ne=o.memoizedState,Y!==m||Ae!==ne||Tn.current||Fi?(typeof Ce=="function"&&(Hf(o,l,Ce,m),ne=o.memoizedState),(Y=Fi||kv(o,l,Y,m,Ae,ne,pe))?(be||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(o.flags|=4194308)):(typeof U.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=ne),U.props=m,U.state=ne,U.context=pe,m=Y):(typeof U.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{U=o.stateNode,sv(s,o),Y=o.memoizedProps,pe=o.type===o.elementType?Y:dr(o.type,Y),U.props=pe,be=o.pendingProps,Ae=U.context,ne=l.contextType,typeof ne=="object"&&ne!==null?ne=Jn(ne):(ne=Sn(l)?ks:rn.current,ne=Ro(o,ne));var Pe=l.getDerivedStateFromProps;(Ce=typeof Pe=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Y!==be||Ae!==ne)&&Pv(o,U,m,ne),Fi=!1,Ae=o.memoizedState,U.state=Ae,Ml(o,m,U,x);var Fe=o.memoizedState;Y!==be||Ae!==Fe||Tn.current||Fi?(typeof Pe=="function"&&(Hf(o,l,Pe,m),Fe=o.memoizedState),(pe=Fi||kv(o,l,pe,m,Ae,Fe,ne)||!1)?(Ce||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(m,Fe,ne),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(m,Fe,ne)),typeof U.componentDidUpdate=="function"&&(o.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof U.componentDidUpdate!="function"||Y===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Fe),U.props=m,U.state=Fe,U.context=ne,m=pe):(typeof U.componentDidUpdate!="function"||Y===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===s.memoizedProps&&Ae===s.memoizedState||(o.flags|=1024),m=!1)}return Jf(s,o,l,m,F,x)}function Jf(s,o,l,m,x,F){Uv(s,o);var U=(o.flags&128)!==0;if(!m&&!U)return x&&Ky(o,l,!1),ii(s,o,F);m=o.stateNode,Fb.current=o;var Y=U&&typeof l.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,s!==null&&U?(o.child=Lo(o,s.child,null,F),o.child=Lo(o,null,Y,F)):yn(s,o,Y,F),o.memoizedState=m.state,x&&Ky(o,l,!0),o.child}function Hv(s){var o=s.stateNode;o.pendingContext?Gy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Gy(s,o.context,!1),Pf(s,o.containerInfo)}function $v(s,o,l,m,x){return Oo(),Tf(x),o.flags|=256,yn(s,o,l,m),o.child}var Qf={dehydrated:null,treeContext:null,retryLane:0};function Yf(s){return{baseLanes:s,cachePool:null,transitions:null}}function Gv(s,o,l){var m=o.pendingProps,x=Tt.current,F=!1,U=(o.flags&128)!==0,Y;if((Y=U)||(Y=s!==null&&s.memoizedState===null?!1:(x&2)!==0),Y?(F=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(x|=1),yt(Tt,x&1),s===null)return bf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(U=m.children,s=m.fallback,F?(m=o.mode,F=o.child,U={mode:"hidden",children:U},(m&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=U):F=oc(U,m,0,null),s=qs(s,m,l,null),F.return=o,s.return=o,F.sibling=s,o.child=F,o.child.memoizedState=Yf(l),o.memoizedState=Qf,s):Xf(o,U));if(x=s.memoizedState,x!==null&&(Y=x.dehydrated,Y!==null))return Bb(s,o,U,m,Y,x,l);if(F){F=m.fallback,U=o.mode,x=s.child,Y=x.sibling;var ne={mode:"hidden",children:m.children};return(U&1)===0&&o.child!==x?(m=o.child,m.childLanes=0,m.pendingProps=ne,o.deletions=null):(m=zi(x,ne),m.subtreeFlags=x.subtreeFlags&14680064),Y!==null?F=zi(Y,F):(F=qs(F,U,l,null),F.flags|=2),F.return=o,m.return=o,m.sibling=F,o.child=m,m=F,F=o.child,U=s.child.memoizedState,U=U===null?Yf(l):{baseLanes:U.baseLanes|l,cachePool:null,transitions:U.transitions},F.memoizedState=U,F.childLanes=s.childLanes&~l,o.memoizedState=Qf,m}return F=s.child,s=F.sibling,m=zi(F,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=l),m.return=o,m.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=m,o.memoizedState=null,m}function Xf(s,o){return o=oc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Wl(s,o,l,m){return m!==null&&Tf(m),Lo(o,s.child,null,l),s=Xf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Bb(s,o,l,m,x,F,U){if(l)return o.flags&256?(o.flags&=-257,m=Gf(Error(t(422))),Wl(s,o,U,m)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(F=m.fallback,x=o.mode,m=oc({mode:"visible",children:m.children},x,0,null),F=qs(F,x,U,null),F.flags|=2,m.return=o,F.return=o,m.sibling=F,o.child=m,(o.mode&1)!==0&&Lo(o,s.child,null,U),o.child.memoizedState=Yf(U),o.memoizedState=Qf,F);if((o.mode&1)===0)return Wl(s,o,U,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var Y=m.dgst;return m=Y,F=Error(t(419)),m=Gf(F,m,void 0),Wl(s,o,U,m)}if(Y=(U&s.childLanes)!==0,xn||Y){if(m=Wt,m!==null){switch(U&-U){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|U))!==0?0:x,x!==0&&x!==F.retryLane&&(F.retryLane=x,ni(s,x),gr(m,s,x,-1))}return pd(),m=Gf(Error(t(421))),Wl(s,o,U,m)}return x.data==="$?"?(o.flags|=128,o.child=s.child,o=Qb.bind(null,s),x._reactRetry=o,null):(s=F.treeContext,jn=Pi(x.nextSibling),Bn=o,Ct=!0,fr=null,s!==null&&(Wn[Kn++]=ei,Wn[Kn++]=ti,Wn[Kn++]=Rs,ei=s.id,ti=s.overflow,Rs=o),o=Xf(o,m.children),o.flags|=4096,o)}function Wv(s,o,l){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),If(s.return,o,l)}function Zf(s,o,l,m,x){var F=s.memoizedState;F===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:l,tailMode:x}:(F.isBackwards=o,F.rendering=null,F.renderingStartTime=0,F.last=m,F.tail=l,F.tailMode=x)}function Kv(s,o,l){var m=o.pendingProps,x=m.revealOrder,F=m.tail;if(yn(s,o,m.children,l),m=Tt.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Wv(s,l,o);else if(s.tag===19)Wv(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(yt(Tt,m),(o.mode&1)===0)o.memoizedState=null;else switch(x){case"forwards":for(l=o.child,x=null;l!==null;)s=l.alternate,s!==null&&ql(s)===null&&(x=l),l=l.sibling;l=x,l===null?(x=o.child,o.child=null):(x=l.sibling,l.sibling=null),Zf(o,!1,x,l,F);break;case"backwards":for(l=null,x=o.child,o.child=null;x!==null;){if(s=x.alternate,s!==null&&ql(s)===null){o.child=x;break}s=x.sibling,x.sibling=l,l=x,x=s}Zf(o,!0,l,null,F);break;case"together":Zf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Kl(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ii(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),Fs|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,l=zi(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=zi(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function jb(s,o,l){switch(o.tag){case 3:Hv(o),Oo();break;case 5:uv(o);break;case 1:Sn(o.type)&&kl(o);break;case 4:Pf(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,x=o.memoizedProps.value;yt(Fl,m._currentValue),m._currentValue=x;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(yt(Tt,Tt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Gv(s,o,l):(yt(Tt,Tt.current&1),s=ii(s,o,l),s!==null?s.sibling:null);yt(Tt,Tt.current&1);break;case 19:if(m=(l&o.childLanes)!==0,(s.flags&128)!==0){if(m)return Kv(s,o,l);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),yt(Tt,Tt.current),m)break;return null;case 22:case 23:return o.lanes=0,Vv(s,o,l)}return ii(s,o,l)}var Jv,ed,Qv,Yv;Jv=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ed=function(){},Qv=function(s,o,l,m){var x=s.memoizedProps;if(x!==m){s=o.stateNode,Os(kr.current);var F=null;switch(l){case"input":x=ke(s,x),m=ke(s,m),F=[];break;case"select":x=H({},x,{value:void 0}),m=H({},m,{value:void 0}),F=[];break;case"textarea":x=ye(s,x),m=ye(s,m),F=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=xl)}Ea(l,m);var U;l=null;for(pe in x)if(!m.hasOwnProperty(pe)&&x.hasOwnProperty(pe)&&x[pe]!=null)if(pe==="style"){var Y=x[pe];for(U in Y)Y.hasOwnProperty(U)&&(l||(l={}),l[U]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(i.hasOwnProperty(pe)?F||(F=[]):(F=F||[]).push(pe,null));for(pe in m){var ne=m[pe];if(Y=x!=null?x[pe]:void 0,m.hasOwnProperty(pe)&&ne!==Y&&(ne!=null||Y!=null))if(pe==="style")if(Y){for(U in Y)!Y.hasOwnProperty(U)||ne&&ne.hasOwnProperty(U)||(l||(l={}),l[U]="");for(U in ne)ne.hasOwnProperty(U)&&Y[U]!==ne[U]&&(l||(l={}),l[U]=ne[U])}else l||(F||(F=[]),F.push(pe,l)),l=ne;else pe==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,Y=Y?Y.__html:void 0,ne!=null&&Y!==ne&&(F=F||[]).push(pe,ne)):pe==="children"?typeof ne!="string"&&typeof ne!="number"||(F=F||[]).push(pe,""+ne):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(pe)?(ne!=null&&pe==="onScroll"&&_t("scroll",s),F||Y===ne||(F=[])):(F=F||[]).push(pe,ne))}l&&(F=F||[]).push("style",l);var pe=F;(o.updateQueue=pe)&&(o.flags|=4)}},Yv=function(s,o,l,m){l!==m&&(o.flags|=4)};function tu(s,o){if(!Ct)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function on(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,m=0;if(o)for(var x=s.child;x!==null;)l|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)l|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=m,s.childLanes=l,o}function Mb(s,o,l){var m=o.pendingProps;switch(Af(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(o),null;case 1:return Sn(o.type)&&Il(),on(o),null;case 3:return m=o.stateNode,jo(),wt(Tn),wt(rn),Lf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Ol(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,fr!==null&&(hd(fr),fr=null))),ed(s,o),on(o),null;case 5:Nf(o);var x=Os(Qa.current);if(l=o.type,s!==null&&o.stateNode!=null)Qv(s,o,l,m,x),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(t(166));return on(o),null}if(s=Os(kr.current),Ol(o)){m=o.stateNode,l=o.type;var F=o.memoizedProps;switch(m[Ir]=o,m[$a]=F,s=(o.mode&1)!==0,l){case"dialog":_t("cancel",m),_t("close",m);break;case"iframe":case"object":case"embed":_t("load",m);break;case"video":case"audio":for(x=0;x<Ua.length;x++)_t(Ua[x],m);break;case"source":_t("error",m);break;case"img":case"image":case"link":_t("error",m),_t("load",m);break;case"details":_t("toggle",m);break;case"input":Re(m,F),_t("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!F.multiple},_t("invalid",m);break;case"textarea":$e(m,F),_t("invalid",m)}Ea(l,F),x=null;for(var U in F)if(F.hasOwnProperty(U)){var Y=F[U];U==="children"?typeof Y=="string"?m.textContent!==Y&&(F.suppressHydrationWarning!==!0&&Sl(m.textContent,Y,s),x=["children",Y]):typeof Y=="number"&&m.textContent!==""+Y&&(F.suppressHydrationWarning!==!0&&Sl(m.textContent,Y,s),x=["children",""+Y]):i.hasOwnProperty(U)&&Y!=null&&U==="onScroll"&&_t("scroll",m)}switch(l){case"input":ge(m),le(m,F,!0);break;case"textarea":ge(m),Ve(m);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(m.onclick=xl)}m=x,o.updateQueue=m,m!==null&&(o.flags|=4)}else{U=x.nodeType===9?x:x.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ge(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=U.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=U.createElement(l,{is:m.is}):(s=U.createElement(l),l==="select"&&(U=s,m.multiple?U.multiple=!0:m.size&&(U.size=m.size))):s=U.createElementNS(s,l),s[Ir]=o,s[$a]=m,Jv(s,o,!1,!1),o.stateNode=s;e:{switch(U=Aa(l,m),l){case"dialog":_t("cancel",s),_t("close",s),x=m;break;case"iframe":case"object":case"embed":_t("load",s),x=m;break;case"video":case"audio":for(x=0;x<Ua.length;x++)_t(Ua[x],s);x=m;break;case"source":_t("error",s),x=m;break;case"img":case"image":case"link":_t("error",s),_t("load",s),x=m;break;case"details":_t("toggle",s),x=m;break;case"input":Re(s,m),x=ke(s,m),_t("invalid",s);break;case"option":x=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},x=H({},m,{value:void 0}),_t("invalid",s);break;case"textarea":$e(s,m),x=ye(s,m),_t("invalid",s);break;default:x=m}Ea(l,x),Y=x;for(F in Y)if(Y.hasOwnProperty(F)){var ne=Y[F];F==="style"?Ei(s,ne):F==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&er(s,ne)):F==="children"?typeof ne=="string"?(l!=="textarea"||ne!=="")&&ct(s,ne):typeof ne=="number"&&ct(s,""+ne):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?ne!=null&&F==="onScroll"&&_t("scroll",s):ne!=null&&P(s,F,ne,U))}switch(l){case"input":ge(s),le(s,m,!1);break;case"textarea":ge(s),Ve(s);break;case"option":m.value!=null&&s.setAttribute("value",""+te(m.value));break;case"select":s.multiple=!!m.multiple,F=m.value,F!=null?Se(s,!!m.multiple,F,!1):m.defaultValue!=null&&Se(s,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(s.onclick=xl)}switch(l){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return on(o),null;case 6:if(s&&o.stateNode!=null)Yv(s,o,s.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(t(166));if(l=Os(Qa.current),Os(kr.current),Ol(o)){if(m=o.stateNode,l=o.memoizedProps,m[Ir]=o,(F=m.nodeValue!==l)&&(s=Bn,s!==null))switch(s.tag){case 3:Sl(m.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Sl(m.nodeValue,l,(s.mode&1)!==0)}F&&(o.flags|=4)}else m=(l.nodeType===9?l:l.ownerDocument).createTextNode(m),m[Ir]=o,o.stateNode=m}return on(o),null;case 13:if(wt(Tt),m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ct&&jn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)ev(),Oo(),o.flags|=98560,F=!1;else if(F=Ol(o),m!==null&&m.dehydrated!==null){if(s===null){if(!F)throw Error(t(318));if(F=o.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(t(317));F[Ir]=o}else Oo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;on(o),F=!1}else fr!==null&&(hd(fr),fr=null),F=!0;if(!F)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Tt.current&1)!==0?Ut===0&&(Ut=3):pd())),o.updateQueue!==null&&(o.flags|=4),on(o),null);case 4:return jo(),ed(s,o),s===null&&za(o.stateNode.containerInfo),on(o),null;case 10:return Df(o.type._context),on(o),null;case 17:return Sn(o.type)&&Il(),on(o),null;case 19:if(wt(Tt),F=o.memoizedState,F===null)return on(o),null;if(m=(o.flags&128)!==0,U=F.rendering,U===null)if(m)tu(F,!1);else{if(Ut!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(U=ql(s),U!==null){for(o.flags|=128,tu(F,!1),m=U.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=l,l=o.child;l!==null;)F=l,s=m,F.flags&=14680066,U=F.alternate,U===null?(F.childLanes=0,F.lanes=s,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=U.childLanes,F.lanes=U.lanes,F.child=U.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=U.memoizedProps,F.memoizedState=U.memoizedState,F.updateQueue=U.updateQueue,F.type=U.type,s=U.dependencies,F.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return yt(Tt,Tt.current&1|2),o.child}s=s.sibling}F.tail!==null&&gt()>Uo&&(o.flags|=128,m=!0,tu(F,!1),o.lanes=4194304)}else{if(!m)if(s=ql(U),s!==null){if(o.flags|=128,m=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),tu(F,!0),F.tail===null&&F.tailMode==="hidden"&&!U.alternate&&!Ct)return on(o),null}else 2*gt()-F.renderingStartTime>Uo&&l!==1073741824&&(o.flags|=128,m=!0,tu(F,!1),o.lanes=4194304);F.isBackwards?(U.sibling=o.child,o.child=U):(l=F.last,l!==null?l.sibling=U:o.child=U,F.last=U)}return F.tail!==null?(o=F.tail,F.rendering=o,F.tail=o.sibling,F.renderingStartTime=gt(),o.sibling=null,l=Tt.current,yt(Tt,m?l&1|2:l&1),o):(on(o),null);case 22:case 23:return dd(),m=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(Mn&1073741824)!==0&&(on(o),o.subtreeFlags&6&&(o.flags|=8192)):on(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function qb(s,o){switch(Af(o),o.tag){case 1:return Sn(o.type)&&Il(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return jo(),wt(Tn),wt(rn),Lf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Nf(o),null;case 13:if(wt(Tt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Oo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return wt(Tt),null;case 4:return jo(),null;case 10:return Df(o.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var Jl=!1,an=!1,Vb=typeof WeakSet=="function"?WeakSet:Set,Le=null;function qo(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(m){It(s,o,m)}else l.current=null}function td(s,o,l){try{l()}catch(m){It(s,o,m)}}var Xv=!1;function Ub(s,o){if(df=Ii,s=ky(),sf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var m=l.getSelection&&l.getSelection();if(m&&m.rangeCount!==0){l=m.anchorNode;var x=m.anchorOffset,F=m.focusNode;m=m.focusOffset;try{l.nodeType,F.nodeType}catch{l=null;break e}var U=0,Y=-1,ne=-1,pe=0,Ce=0,be=s,Ae=null;t:for(;;){for(var Pe;be!==l||x!==0&&be.nodeType!==3||(Y=U+x),be!==F||m!==0&&be.nodeType!==3||(ne=U+m),be.nodeType===3&&(U+=be.nodeValue.length),(Pe=be.firstChild)!==null;)Ae=be,be=Pe;for(;;){if(be===s)break t;if(Ae===l&&++pe===x&&(Y=U),Ae===F&&++Ce===m&&(ne=U),(Pe=be.nextSibling)!==null)break;be=Ae,Ae=be.parentNode}be=Pe}l=Y===-1||ne===-1?null:{start:Y,end:ne}}else l=null}l=l||{start:0,end:0}}else l=null;for(pf={focusedElem:s,selectionRange:l},Ii=!1,Le=o;Le!==null;)if(o=Le,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Le=s;else for(;Le!==null;){o=Le;try{var Fe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var Me=Fe.memoizedProps,Nt=Fe.memoizedState,ue=o.stateNode,oe=ue.getSnapshotBeforeUpdate(o.elementType===o.type?Me:dr(o.type,Me),Nt);ue.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:var ce=o.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Te){It(o,o.return,Te)}if(s=o.sibling,s!==null){s.return=o.return,Le=s;break}Le=o.return}return Fe=Xv,Xv=!1,Fe}function nu(s,o,l){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&s)===s){var F=x.destroy;x.destroy=void 0,F!==void 0&&td(o,l,F)}x=x.next}while(x!==m)}}function Ql(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var m=l.create;l.destroy=m()}l=l.next}while(l!==o)}}function nd(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function Zv(s){var o=s.alternate;o!==null&&(s.alternate=null,Zv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Ir],delete o[$a],delete o[vf],delete o[bb],delete o[Tb])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function e2(s){return s.tag===5||s.tag===3||s.tag===4}function t2(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||e2(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rd(s,o,l){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=xl));else if(m!==4&&(s=s.child,s!==null))for(rd(s,o,l),s=s.sibling;s!==null;)rd(s,o,l),s=s.sibling}function id(s,o,l){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(id(s,o,l),s=s.sibling;s!==null;)id(s,o,l),s=s.sibling}var Xt=null,pr=!1;function ji(s,o,l){for(l=l.child;l!==null;)n2(s,o,l),l=l.sibling}function n2(s,o,l){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(As,l)}catch{}switch(l.tag){case 5:an||qo(l,o);case 6:var m=Xt,x=pr;Xt=null,ji(s,o,l),Xt=m,pr=x,Xt!==null&&(pr?(s=Xt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Xt.removeChild(l.stateNode));break;case 18:Xt!==null&&(pr?(s=Xt,l=l.stateNode,s.nodeType===8?yf(s.parentNode,l):s.nodeType===1&&yf(s,l),lr(s)):yf(Xt,l.stateNode));break;case 4:m=Xt,x=pr,Xt=l.stateNode.containerInfo,pr=!0,ji(s,o,l),Xt=m,pr=x;break;case 0:case 11:case 14:case 15:if(!an&&(m=l.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var F=x,U=F.destroy;F=F.tag,U!==void 0&&((F&2)!==0||(F&4)!==0)&&td(l,o,U),x=x.next}while(x!==m)}ji(s,o,l);break;case 1:if(!an&&(qo(l,o),m=l.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=l.memoizedProps,m.state=l.memoizedState,m.componentWillUnmount()}catch(Y){It(l,o,Y)}ji(s,o,l);break;case 21:ji(s,o,l);break;case 22:l.mode&1?(an=(m=an)||l.memoizedState!==null,ji(s,o,l),an=m):ji(s,o,l);break;default:ji(s,o,l)}}function r2(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new Vb),o.forEach(function(m){var x=Yb.bind(null,s,m);l.has(m)||(l.add(m),m.then(x,x))})}}function mr(s,o){var l=o.deletions;if(l!==null)for(var m=0;m<l.length;m++){var x=l[m];try{var F=s,U=o,Y=U;e:for(;Y!==null;){switch(Y.tag){case 5:Xt=Y.stateNode,pr=!1;break e;case 3:Xt=Y.stateNode.containerInfo,pr=!0;break e;case 4:Xt=Y.stateNode.containerInfo,pr=!0;break e}Y=Y.return}if(Xt===null)throw Error(t(160));n2(F,U,x),Xt=null,pr=!1;var ne=x.alternate;ne!==null&&(ne.return=null),x.return=null}catch(pe){It(x,o,pe)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)i2(o,s),o=o.sibling}function i2(s,o){var l=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(mr(o,s),Pr(s),m&4){try{nu(3,s,s.return),Ql(3,s)}catch(Me){It(s,s.return,Me)}try{nu(5,s,s.return)}catch(Me){It(s,s.return,Me)}}break;case 1:mr(o,s),Pr(s),m&512&&l!==null&&qo(l,l.return);break;case 5:if(mr(o,s),Pr(s),m&512&&l!==null&&qo(l,l.return),s.flags&32){var x=s.stateNode;try{ct(x,"")}catch(Me){It(s,s.return,Me)}}if(m&4&&(x=s.stateNode,x!=null)){var F=s.memoizedProps,U=l!==null?l.memoizedProps:F,Y=s.type,ne=s.updateQueue;if(s.updateQueue=null,ne!==null)try{Y==="input"&&F.type==="radio"&&F.name!=null&&Be(x,F),Aa(Y,U);var pe=Aa(Y,F);for(U=0;U<ne.length;U+=2){var Ce=ne[U],be=ne[U+1];Ce==="style"?Ei(x,be):Ce==="dangerouslySetInnerHTML"?er(x,be):Ce==="children"?ct(x,be):P(x,Ce,be,pe)}switch(Y){case"input":et(x,F);break;case"textarea":je(x,F);break;case"select":var Ae=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!F.multiple;var Pe=F.value;Pe!=null?Se(x,!!F.multiple,Pe,!1):Ae!==!!F.multiple&&(F.defaultValue!=null?Se(x,!!F.multiple,F.defaultValue,!0):Se(x,!!F.multiple,F.multiple?[]:"",!1))}x[$a]=F}catch(Me){It(s,s.return,Me)}}break;case 6:if(mr(o,s),Pr(s),m&4){if(s.stateNode===null)throw Error(t(162));x=s.stateNode,F=s.memoizedProps;try{x.nodeValue=F}catch(Me){It(s,s.return,Me)}}break;case 3:if(mr(o,s),Pr(s),m&4&&l!==null&&l.memoizedState.isDehydrated)try{lr(o.containerInfo)}catch(Me){It(s,s.return,Me)}break;case 4:mr(o,s),Pr(s);break;case 13:mr(o,s),Pr(s),x=s.child,x.flags&8192&&(F=x.memoizedState!==null,x.stateNode.isHidden=F,!F||x.alternate!==null&&x.alternate.memoizedState!==null||(ad=gt())),m&4&&r2(s);break;case 22:if(Ce=l!==null&&l.memoizedState!==null,s.mode&1?(an=(pe=an)||Ce,mr(o,s),an=pe):mr(o,s),Pr(s),m&8192){if(pe=s.memoizedState!==null,(s.stateNode.isHidden=pe)&&!Ce&&(s.mode&1)!==0)for(Le=s,Ce=s.child;Ce!==null;){for(be=Le=Ce;Le!==null;){switch(Ae=Le,Pe=Ae.child,Ae.tag){case 0:case 11:case 14:case 15:nu(4,Ae,Ae.return);break;case 1:qo(Ae,Ae.return);var Fe=Ae.stateNode;if(typeof Fe.componentWillUnmount=="function"){m=Ae,l=Ae.return;try{o=m,Fe.props=o.memoizedProps,Fe.state=o.memoizedState,Fe.componentWillUnmount()}catch(Me){It(m,l,Me)}}break;case 5:qo(Ae,Ae.return);break;case 22:if(Ae.memoizedState!==null){a2(be);continue}}Pe!==null?(Pe.return=Ae,Le=Pe):a2(be)}Ce=Ce.sibling}e:for(Ce=null,be=s;;){if(be.tag===5){if(Ce===null){Ce=be;try{x=be.stateNode,pe?(F=x.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(Y=be.stateNode,ne=be.memoizedProps.style,U=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,Y.style.display=tr("display",U))}catch(Me){It(s,s.return,Me)}}}else if(be.tag===6){if(Ce===null)try{be.stateNode.nodeValue=pe?"":be.memoizedProps}catch(Me){It(s,s.return,Me)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===s)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===s)break e;for(;be.sibling===null;){if(be.return===null||be.return===s)break e;Ce===be&&(Ce=null),be=be.return}Ce===be&&(Ce=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:mr(o,s),Pr(s),m&4&&r2(s);break;case 21:break;default:mr(o,s),Pr(s)}}function Pr(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(e2(l)){var m=l;break e}l=l.return}throw Error(t(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(ct(x,""),m.flags&=-33);var F=t2(s);id(s,F,x);break;case 3:case 4:var U=m.stateNode.containerInfo,Y=t2(s);rd(s,Y,U);break;default:throw Error(t(161))}}catch(ne){It(s,s.return,ne)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function zb(s,o,l){Le=s,s2(s)}function s2(s,o,l){for(var m=(s.mode&1)!==0;Le!==null;){var x=Le,F=x.child;if(x.tag===22&&m){var U=x.memoizedState!==null||Jl;if(!U){var Y=x.alternate,ne=Y!==null&&Y.memoizedState!==null||an;Y=Jl;var pe=an;if(Jl=U,(an=ne)&&!pe)for(Le=x;Le!==null;)U=Le,ne=U.child,U.tag===22&&U.memoizedState!==null?u2(x):ne!==null?(ne.return=U,Le=ne):u2(x);for(;F!==null;)Le=F,s2(F),F=F.sibling;Le=x,Jl=Y,an=pe}o2(s)}else(x.subtreeFlags&8772)!==0&&F!==null?(F.return=x,Le=F):o2(s)}}function o2(s){for(;Le!==null;){var o=Le;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:an||Ql(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!an)if(l===null)m.componentDidMount();else{var x=o.elementType===o.type?l.memoizedProps:dr(o.type,l.memoizedProps);m.componentDidUpdate(x,l.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var F=o.updateQueue;F!==null&&av(o,F,m);break;case 3:var U=o.updateQueue;if(U!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}av(o,U,l)}break;case 5:var Y=o.stateNode;if(l===null&&o.flags&4){l=Y;var ne=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&l.focus();break;case"img":ne.src&&(l.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var pe=o.alternate;if(pe!==null){var Ce=pe.memoizedState;if(Ce!==null){var be=Ce.dehydrated;be!==null&&lr(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}an||o.flags&512&&nd(o)}catch(Ae){It(o,o.return,Ae)}}if(o===s){Le=null;break}if(l=o.sibling,l!==null){l.return=o.return,Le=l;break}Le=o.return}}function a2(s){for(;Le!==null;){var o=Le;if(o===s){Le=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Le=l;break}Le=o.return}}function u2(s){for(;Le!==null;){var o=Le;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Ql(4,o)}catch(ne){It(o,l,ne)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var x=o.return;try{m.componentDidMount()}catch(ne){It(o,x,ne)}}var F=o.return;try{nd(o)}catch(ne){It(o,F,ne)}break;case 5:var U=o.return;try{nd(o)}catch(ne){It(o,U,ne)}}}catch(ne){It(o,o.return,ne)}if(o===s){Le=null;break}var Y=o.sibling;if(Y!==null){Y.return=o.return,Le=Y;break}Le=o.return}}var Hb=Math.ceil,Yl=T.ReactCurrentDispatcher,sd=T.ReactCurrentOwner,Yn=T.ReactCurrentBatchConfig,lt=0,Wt=null,Bt=null,Zt=0,Mn=0,Vo=Ni(0),Ut=0,ru=null,Fs=0,Xl=0,od=0,iu=null,Dn=null,ad=0,Uo=1/0,si=null,Zl=!1,ud=null,Mi=null,ec=!1,qi=null,tc=0,su=0,ld=null,nc=-1,rc=0;function vn(){return(lt&6)!==0?gt():nc!==-1?nc:nc=gt()}function Vi(s){return(s.mode&1)===0?1:(lt&2)!==0&&Zt!==0?Zt&-Zt:xb.transition!==null?(rc===0&&(rc=bs()),rc):(s=ot,s!==0||(s=window.event,s=s===void 0?16:Na(s.type)),s)}function gr(s,o,l,m){if(50<su)throw su=0,ld=null,Error(t(185));Ti(s,l,m),((lt&2)===0||s!==Wt)&&(s===Wt&&((lt&2)===0&&(Xl|=l),Ut===4&&Ui(s,Zt)),In(s,m),l===1&&lt===0&&(o.mode&1)===0&&(Uo=gt()+500,Rl&&Li()))}function In(s,o){var l=s.callbackNode;Wr(s,o);var m=Cs(s,s===Wt?Zt:0);if(m===0)l!==null&&Da(l),s.callbackNode=null,s.callbackPriority=0;else if(o=m&-m,s.callbackPriority!==o){if(l!=null&&Da(l),o===1)s.tag===0?Sb(c2.bind(null,s)):Jy(c2.bind(null,s)),Ab(function(){(lt&6)===0&&Li()}),l=null;else{switch(xi(m)){case 1:l=Es;break;case 4:l=Ai;break;case 16:l=Hn;break;case 536870912:l=rl;break;default:l=Hn}l=v2(l,l2.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function l2(s,o){if(nc=-1,rc=0,(lt&6)!==0)throw Error(t(327));var l=s.callbackNode;if(zo()&&s.callbackNode!==l)return null;var m=Cs(s,s===Wt?Zt:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||o)o=ic(s,m);else{o=m;var x=lt;lt|=2;var F=f2();(Wt!==s||Zt!==o)&&(si=null,Uo=gt()+500,js(s,o));do try{Wb();break}catch(Y){h2(s,Y)}while(!0);xf(),Yl.current=F,lt=x,Bt!==null?o=0:(Wt=null,Zt=0,o=Ut)}if(o!==0){if(o===2&&(x=On(s),x!==0&&(m=x,o=cd(s,x))),o===1)throw l=ru,js(s,0),Ui(s,m),In(s,gt()),l;if(o===6)Ui(s,m);else{if(x=s.current.alternate,(m&30)===0&&!$b(x)&&(o=ic(s,m),o===2&&(F=On(s),F!==0&&(m=F,o=cd(s,F))),o===1))throw l=ru,js(s,0),Ui(s,m),In(s,gt()),l;switch(s.finishedWork=x,s.finishedLanes=m,o){case 0:case 1:throw Error(t(345));case 2:Ms(s,Dn,si);break;case 3:if(Ui(s,m),(m&130023424)===m&&(o=ad+500-gt(),10<o)){if(Cs(s,0)!==0)break;if(x=s.suspendedLanes,(x&m)!==m){vn(),s.pingedLanes|=s.suspendedLanes&x;break}s.timeoutHandle=gf(Ms.bind(null,s,Dn,si),o);break}Ms(s,Dn,si);break;case 4:if(Ui(s,m),(m&4194240)===m)break;for(o=s.eventTimes,x=-1;0<m;){var U=31-mn(m);F=1<<U,U=o[U],U>x&&(x=U),m&=~F}if(m=x,m=gt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Hb(m/1960))-m,10<m){s.timeoutHandle=gf(Ms.bind(null,s,Dn,si),m);break}Ms(s,Dn,si);break;case 5:Ms(s,Dn,si);break;default:throw Error(t(329))}}}return In(s,gt()),s.callbackNode===l?l2.bind(null,s):null}function cd(s,o){var l=iu;return s.current.memoizedState.isDehydrated&&(js(s,o).flags|=256),s=ic(s,o),s!==2&&(o=Dn,Dn=l,o!==null&&hd(o)),s}function hd(s){Dn===null?Dn=s:Dn.push.apply(Dn,s)}function $b(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var m=0;m<l.length;m++){var x=l[m],F=x.getSnapshot;x=x.value;try{if(!hr(F(),x))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ui(s,o){for(o&=~od,o&=~Xl,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-mn(o),m=1<<l;s[l]=-1,o&=~m}}function c2(s){if((lt&6)!==0)throw Error(t(327));zo();var o=Cs(s,0);if((o&1)===0)return In(s,gt()),null;var l=ic(s,o);if(s.tag!==0&&l===2){var m=On(s);m!==0&&(o=m,l=cd(s,m))}if(l===1)throw l=ru,js(s,0),Ui(s,o),In(s,gt()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Ms(s,Dn,si),In(s,gt()),null}function fd(s,o){var l=lt;lt|=1;try{return s(o)}finally{lt=l,lt===0&&(Uo=gt()+500,Rl&&Li())}}function Bs(s){qi!==null&&qi.tag===0&&(lt&6)===0&&zo();var o=lt;lt|=1;var l=Yn.transition,m=ot;try{if(Yn.transition=null,ot=1,s)return s()}finally{ot=m,Yn.transition=l,lt=o,(lt&6)===0&&Li()}}function dd(){Mn=Vo.current,wt(Vo)}function js(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,Eb(l)),Bt!==null)for(l=Bt.return;l!==null;){var m=l;switch(Af(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Il();break;case 3:jo(),wt(Tn),wt(rn),Lf();break;case 5:Nf(m);break;case 4:jo();break;case 13:wt(Tt);break;case 19:wt(Tt);break;case 10:Df(m.type._context);break;case 22:case 23:dd()}l=l.return}if(Wt=s,Bt=s=zi(s.current,null),Zt=Mn=o,Ut=0,ru=null,od=Xl=Fs=0,Dn=iu=null,Ns!==null){for(o=0;o<Ns.length;o++)if(l=Ns[o],m=l.interleaved,m!==null){l.interleaved=null;var x=m.next,F=l.pending;if(F!==null){var U=F.next;F.next=x,m.next=U}l.pending=m}Ns=null}return s}function h2(s,o){do{var l=Bt;try{if(xf(),Vl.current=$l,Ul){for(var m=St.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Ul=!1}if(Ls=0,Gt=Vt=St=null,Ya=!1,Xa=0,sd.current=null,l===null||l.return===null){Ut=1,ru=o,Bt=null;break}e:{var F=s,U=l.return,Y=l,ne=o;if(o=Zt,Y.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var pe=ne,Ce=Y,be=Ce.tag;if((Ce.mode&1)===0&&(be===0||be===11||be===15)){var Ae=Ce.alternate;Ae?(Ce.updateQueue=Ae.updateQueue,Ce.memoizedState=Ae.memoizedState,Ce.lanes=Ae.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var Pe=Fv(U);if(Pe!==null){Pe.flags&=-257,Bv(Pe,U,Y,F,o),Pe.mode&1&&Lv(F,pe,o),o=Pe,ne=pe;var Fe=o.updateQueue;if(Fe===null){var Me=new Set;Me.add(ne),o.updateQueue=Me}else Fe.add(ne);break e}else{if((o&1)===0){Lv(F,pe,o),pd();break e}ne=Error(t(426))}}else if(Ct&&Y.mode&1){var Nt=Fv(U);if(Nt!==null){(Nt.flags&65536)===0&&(Nt.flags|=256),Bv(Nt,U,Y,F,o),Tf(Mo(ne,Y));break e}}F=ne=Mo(ne,Y),Ut!==4&&(Ut=2),iu===null?iu=[F]:iu.push(F),F=U;do{switch(F.tag){case 3:F.flags|=65536,o&=-o,F.lanes|=o;var ue=Nv(F,ne,o);ov(F,ue);break e;case 1:Y=ne;var oe=F.type,ce=F.stateNode;if((F.flags&128)===0&&(typeof oe.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(Mi===null||!Mi.has(ce)))){F.flags|=65536,o&=-o,F.lanes|=o;var Te=Ov(F,Y,o);ov(F,Te);break e}}F=F.return}while(F!==null)}p2(l)}catch(qe){o=qe,Bt===l&&l!==null&&(Bt=l=l.return);continue}break}while(!0)}function f2(){var s=Yl.current;return Yl.current=$l,s===null?$l:s}function pd(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Wt===null||(Fs&268435455)===0&&(Xl&268435455)===0||Ui(Wt,Zt)}function ic(s,o){var l=lt;lt|=2;var m=f2();(Wt!==s||Zt!==o)&&(si=null,js(s,o));do try{Gb();break}catch(x){h2(s,x)}while(!0);if(xf(),lt=l,Yl.current=m,Bt!==null)throw Error(t(261));return Wt=null,Zt=0,Ut}function Gb(){for(;Bt!==null;)d2(Bt)}function Wb(){for(;Bt!==null&&!tl();)d2(Bt)}function d2(s){var o=y2(s.alternate,s,Mn);s.memoizedProps=s.pendingProps,o===null?p2(s):Bt=o,sd.current=null}function p2(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=Mb(l,o,Mn),l!==null){Bt=l;return}}else{if(l=qb(l,o),l!==null){l.flags&=32767,Bt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ut=6,Bt=null;return}}if(o=o.sibling,o!==null){Bt=o;return}Bt=o=s}while(o!==null);Ut===0&&(Ut=5)}function Ms(s,o,l){var m=ot,x=Yn.transition;try{Yn.transition=null,ot=1,Kb(s,o,l,m)}finally{Yn.transition=x,ot=m}return null}function Kb(s,o,l,m){do zo();while(qi!==null);if((lt&6)!==0)throw Error(t(327));l=s.finishedWork;var x=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var F=l.lanes|l.childLanes;if(mt(s,F),s===Wt&&(Bt=Wt=null,Zt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ec||(ec=!0,v2(Hn,function(){return zo(),null})),F=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||F){F=Yn.transition,Yn.transition=null;var U=ot;ot=1;var Y=lt;lt|=4,sd.current=null,Ub(s,l),i2(l,s),pb(pf),Ii=!!df,pf=df=null,s.current=l,zb(l),Qh(),lt=Y,ot=U,Yn.transition=F}else s.current=l;if(ec&&(ec=!1,qi=s,tc=x),F=s.pendingLanes,F===0&&(Mi=null),il(l.stateNode),In(s,gt()),o!==null)for(m=s.onRecoverableError,l=0;l<o.length;l++)x=o[l],m(x.value,{componentStack:x.stack,digest:x.digest});if(Zl)throw Zl=!1,s=ud,ud=null,s;return(tc&1)!==0&&s.tag!==0&&zo(),F=s.pendingLanes,(F&1)!==0?s===ld?su++:(su=0,ld=s):su=0,Li(),null}function zo(){if(qi!==null){var s=xi(tc),o=Yn.transition,l=ot;try{if(Yn.transition=null,ot=16>s?16:s,qi===null)var m=!1;else{if(s=qi,qi=null,tc=0,(lt&6)!==0)throw Error(t(331));var x=lt;for(lt|=4,Le=s.current;Le!==null;){var F=Le,U=F.child;if((Le.flags&16)!==0){var Y=F.deletions;if(Y!==null){for(var ne=0;ne<Y.length;ne++){var pe=Y[ne];for(Le=pe;Le!==null;){var Ce=Le;switch(Ce.tag){case 0:case 11:case 15:nu(8,Ce,F)}var be=Ce.child;if(be!==null)be.return=Ce,Le=be;else for(;Le!==null;){Ce=Le;var Ae=Ce.sibling,Pe=Ce.return;if(Zv(Ce),Ce===pe){Le=null;break}if(Ae!==null){Ae.return=Pe,Le=Ae;break}Le=Pe}}}var Fe=F.alternate;if(Fe!==null){var Me=Fe.child;if(Me!==null){Fe.child=null;do{var Nt=Me.sibling;Me.sibling=null,Me=Nt}while(Me!==null)}}Le=F}}if((F.subtreeFlags&2064)!==0&&U!==null)U.return=F,Le=U;else e:for(;Le!==null;){if(F=Le,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:nu(9,F,F.return)}var ue=F.sibling;if(ue!==null){ue.return=F.return,Le=ue;break e}Le=F.return}}var oe=s.current;for(Le=oe;Le!==null;){U=Le;var ce=U.child;if((U.subtreeFlags&2064)!==0&&ce!==null)ce.return=U,Le=ce;else e:for(U=oe;Le!==null;){if(Y=Le,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:Ql(9,Y)}}catch(qe){It(Y,Y.return,qe)}if(Y===U){Le=null;break e}var Te=Y.sibling;if(Te!==null){Te.return=Y.return,Le=Te;break e}Le=Y.return}}if(lt=x,Li(),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(As,s)}catch{}m=!0}return m}finally{ot=l,Yn.transition=o}}return!1}function m2(s,o,l){o=Mo(l,o),o=Nv(s,o,1),s=Bi(s,o,1),o=vn(),s!==null&&(Ti(s,1,o),In(s,o))}function It(s,o,l){if(s.tag===3)m2(s,s,l);else for(;o!==null;){if(o.tag===3){m2(o,s,l);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Mi===null||!Mi.has(m))){s=Mo(l,s),s=Ov(o,s,1),o=Bi(o,s,1),s=vn(),o!==null&&(Ti(o,1,s),In(o,s));break}}o=o.return}}function Jb(s,o,l){var m=s.pingCache;m!==null&&m.delete(o),o=vn(),s.pingedLanes|=s.suspendedLanes&l,Wt===s&&(Zt&l)===l&&(Ut===4||Ut===3&&(Zt&130023424)===Zt&&500>gt()-ad?js(s,0):od|=l),In(s,o)}function g2(s,o){o===0&&((s.mode&1)===0?o=1:(o=ho,ho<<=1,(ho&130023424)===0&&(ho=4194304)));var l=vn();s=ni(s,o),s!==null&&(Ti(s,o,l),In(s,l))}function Qb(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),g2(s,l)}function Yb(s,o){var l=0;switch(s.tag){case 13:var m=s.stateNode,x=s.memoizedState;x!==null&&(l=x.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(o),g2(s,l)}var y2;y2=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||Tn.current)xn=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return xn=!1,jb(s,o,l);xn=(s.flags&131072)!==0}else xn=!1,Ct&&(o.flags&1048576)!==0&&Qy(o,Nl,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;Kl(s,o),s=o.pendingProps;var x=Ro(o,rn.current);Bo(o,l),x=jf(null,o,m,s,x,l);var F=Mf();return o.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Sn(m)?(F=!0,kl(o)):F=!1,o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Rf(o),x.updater=Gl,o.stateNode=x,x._reactInternals=o,$f(o,m,s,l),o=Jf(null,o,m,!0,F,l)):(o.tag=0,Ct&&F&&Ef(o),yn(null,o,x,l),o=o.child),o;case 16:m=o.elementType;e:{switch(Kl(s,o),s=o.pendingProps,x=m._init,m=x(m._payload),o.type=m,x=o.tag=Zb(m),s=dr(m,s),x){case 0:o=Kf(null,o,m,s,l);break e;case 1:o=zv(null,o,m,s,l);break e;case 11:o=jv(null,o,m,s,l);break e;case 14:o=Mv(null,o,m,dr(m.type,s),l);break e}throw Error(t(306,m,""))}return o;case 0:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:dr(m,x),Kf(s,o,m,x,l);case 1:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:dr(m,x),zv(s,o,m,x,l);case 3:e:{if(Hv(o),s===null)throw Error(t(387));m=o.pendingProps,F=o.memoizedState,x=F.element,sv(s,o),Ml(o,m,null,l);var U=o.memoizedState;if(m=U.element,F.isDehydrated)if(F={element:m,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},o.updateQueue.baseState=F,o.memoizedState=F,o.flags&256){x=Mo(Error(t(423)),o),o=$v(s,o,m,l,x);break e}else if(m!==x){x=Mo(Error(t(424)),o),o=$v(s,o,m,l,x);break e}else for(jn=Pi(o.stateNode.containerInfo.firstChild),Bn=o,Ct=!0,fr=null,l=rv(o,null,m,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Oo(),m===x){o=ii(s,o,l);break e}yn(s,o,m,l)}o=o.child}return o;case 5:return uv(o),s===null&&bf(o),m=o.type,x=o.pendingProps,F=s!==null?s.memoizedProps:null,U=x.children,mf(m,x)?U=null:F!==null&&mf(m,F)&&(o.flags|=32),Uv(s,o),yn(s,o,U,l),o.child;case 6:return s===null&&bf(o),null;case 13:return Gv(s,o,l);case 4:return Pf(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=Lo(o,null,m,l):yn(s,o,m,l),o.child;case 11:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:dr(m,x),jv(s,o,m,x,l);case 7:return yn(s,o,o.pendingProps,l),o.child;case 8:return yn(s,o,o.pendingProps.children,l),o.child;case 12:return yn(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(m=o.type._context,x=o.pendingProps,F=o.memoizedProps,U=x.value,yt(Fl,m._currentValue),m._currentValue=U,F!==null)if(hr(F.value,U)){if(F.children===x.children&&!Tn.current){o=ii(s,o,l);break e}}else for(F=o.child,F!==null&&(F.return=o);F!==null;){var Y=F.dependencies;if(Y!==null){U=F.child;for(var ne=Y.firstContext;ne!==null;){if(ne.context===m){if(F.tag===1){ne=ri(-1,l&-l),ne.tag=2;var pe=F.updateQueue;if(pe!==null){pe=pe.shared;var Ce=pe.pending;Ce===null?ne.next=ne:(ne.next=Ce.next,Ce.next=ne),pe.pending=ne}}F.lanes|=l,ne=F.alternate,ne!==null&&(ne.lanes|=l),If(F.return,l,o),Y.lanes|=l;break}ne=ne.next}}else if(F.tag===10)U=F.type===o.type?null:F.child;else if(F.tag===18){if(U=F.return,U===null)throw Error(t(341));U.lanes|=l,Y=U.alternate,Y!==null&&(Y.lanes|=l),If(U,l,o),U=F.sibling}else U=F.child;if(U!==null)U.return=F;else for(U=F;U!==null;){if(U===o){U=null;break}if(F=U.sibling,F!==null){F.return=U.return,U=F;break}U=U.return}F=U}yn(s,o,x.children,l),o=o.child}return o;case 9:return x=o.type,m=o.pendingProps.children,Bo(o,l),x=Jn(x),m=m(x),o.flags|=1,yn(s,o,m,l),o.child;case 14:return m=o.type,x=dr(m,o.pendingProps),x=dr(m.type,x),Mv(s,o,m,x,l);case 15:return qv(s,o,o.type,o.pendingProps,l);case 17:return m=o.type,x=o.pendingProps,x=o.elementType===m?x:dr(m,x),Kl(s,o),o.tag=1,Sn(m)?(s=!0,kl(o)):s=!1,Bo(o,l),Rv(o,m,x),$f(o,m,x,l),Jf(null,o,m,!0,s,l);case 19:return Kv(s,o,l);case 22:return Vv(s,o,l)}throw Error(t(156,o.tag))};function v2(s,o){return lo(s,o)}function Xb(s,o,l,m){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(s,o,l,m){return new Xb(s,o,l,m)}function md(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zb(s){if(typeof s=="function")return md(s)?1:0;if(s!=null){if(s=s.$$typeof,s===N)return 11;if(s===J)return 14}return 2}function zi(s,o){var l=s.alternate;return l===null?(l=Xn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function sc(s,o,l,m,x,F){var U=2;if(m=s,typeof s=="function")md(s)&&(U=1);else if(typeof s=="string")U=5;else e:switch(s){case R:return qs(l.children,x,F,o);case _:U=8,x|=8;break;case D:return s=Xn(12,l,o,x|2),s.elementType=D,s.lanes=F,s;case O:return s=Xn(13,l,o,x),s.elementType=O,s.lanes=F,s;case W:return s=Xn(19,l,o,x),s.elementType=W,s.lanes=F,s;case Z:return oc(l,x,F,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:U=10;break e;case k:U=9;break e;case N:U=11;break e;case J:U=14;break e;case se:U=16,m=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Xn(U,l,o,x),o.elementType=s,o.type=m,o.lanes=F,o}function qs(s,o,l,m){return s=Xn(7,s,m,o),s.lanes=l,s}function oc(s,o,l,m){return s=Xn(22,s,m,o),s.elementType=Z,s.lanes=l,s.stateNode={isHidden:!1},s}function gd(s,o,l){return s=Xn(6,s,null,o),s.lanes=l,s}function yd(s,o,l){return o=Xn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function eT(s,o,l,m,x){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bi(0),this.expirationTimes=bi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function vd(s,o,l,m,x,F,U,Y,ne){return s=new eT(s,o,l,Y,ne),o===1?(o=1,F===!0&&(o|=8)):o=0,F=Xn(3,null,null,o),s.current=F,F.stateNode=s,F.memoizedState={element:m,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rf(F),s}function tT(s,o,l){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:m==null?null:""+m,children:s,containerInfo:o,implementation:l}}function _2(s){if(!s)return Oi;s=s._reactInternals;e:{if(ir(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Sn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(Sn(l))return Wy(s,l,o)}return o}function w2(s,o,l,m,x,F,U,Y,ne){return s=vd(l,m,!0,s,x,F,U,Y,ne),s.context=_2(null),l=s.current,m=vn(),x=Vi(l),F=ri(m,x),F.callback=o??null,Bi(l,F,x),s.current.lanes=x,Ti(s,x,m),In(s,m),s}function ac(s,o,l,m){var x=o.current,F=vn(),U=Vi(x);return l=_2(l),o.context===null?o.context=l:o.pendingContext=l,o=ri(F,U),o.payload={element:s},m=m===void 0?null:m,m!==null&&(o.callback=m),s=Bi(x,o,U),s!==null&&(gr(s,x,U,F),jl(s,x,U)),U}function uc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function E2(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function _d(s,o){E2(s,o),(s=s.alternate)&&E2(s,o)}function nT(){return null}var A2=typeof reportError=="function"?reportError:function(s){console.error(s)};function wd(s){this._internalRoot=s}lc.prototype.render=wd.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));ac(s,o,null,null)},lc.prototype.unmount=wd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Bs(function(){ac(null,s,null,null)}),o[Xr]=null}};function lc(s){this._internalRoot=s}lc.prototype.unstable_scheduleHydration=function(s){if(s){var o=ll();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Tr.length&&o!==0&&o<Tr[l].priority;l++);Tr.splice(l,0,s),l===0&&fl(s)}};function Ed(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function cc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function C2(){}function rT(s,o,l,m,x){if(x){if(typeof m=="function"){var F=m;m=function(){var pe=uc(U);F.call(pe)}}var U=w2(o,m,s,0,null,!1,!1,"",C2);return s._reactRootContainer=U,s[Xr]=U.current,za(s.nodeType===8?s.parentNode:s),Bs(),U}for(;x=s.lastChild;)s.removeChild(x);if(typeof m=="function"){var Y=m;m=function(){var pe=uc(ne);Y.call(pe)}}var ne=vd(s,0,!1,null,null,!1,!1,"",C2);return s._reactRootContainer=ne,s[Xr]=ne.current,za(s.nodeType===8?s.parentNode:s),Bs(function(){ac(o,ne,l,m)}),ne}function hc(s,o,l,m,x){var F=l._reactRootContainer;if(F){var U=F;if(typeof x=="function"){var Y=x;x=function(){var ne=uc(U);Y.call(ne)}}ac(o,U,s,x)}else U=rT(l,o,s,x,m);return uc(U)}al=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=Ci(o.pendingLanes);l!==0&&(Si(o,l|1),In(o,gt()),(lt&6)===0&&(Uo=gt()+500,Li()))}break;case 13:Bs(function(){var m=ni(s,1);if(m!==null){var x=vn();gr(m,s,1,x)}}),_d(s,1)}},fo=function(s){if(s.tag===13){var o=ni(s,134217728);if(o!==null){var l=vn();gr(o,s,134217728,l)}_d(s,134217728)}},ul=function(s){if(s.tag===13){var o=Vi(s),l=ni(s,o);if(l!==null){var m=vn();gr(l,s,o,m)}_d(s,o)}},ll=function(){return ot},cl=function(s,o){var l=ot;try{return ot=s,o()}finally{ot=l}},ro=function(s,o,l){switch(o){case"input":if(et(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var m=l[o];if(m!==s&&m.form===s.form){var x=Dl(m);if(!x)throw Error(t(90));De(m),et(m,x)}}}break;case"textarea":je(s,l);break;case"select":o=l.value,o!=null&&Se(s,!!l.multiple,o,!1)}},ys=fd,ba=Bs;var iT={usingClientEntryPoint:!1,Events:[Ga,Io,Dl,Cr,Ca,fd]},ou={findFiberByHostInstance:Is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sT={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=xa(s),s===null?null:s.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||nT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{As=fc.inject(sT),Nn=fc}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iT,kn.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ed(o))throw Error(t(200));return tT(s,o,null,l)},kn.createRoot=function(s,o){if(!Ed(s))throw Error(t(299));var l=!1,m="",x=A2;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=vd(s,1,!1,null,null,l,!1,m,x),s[Xr]=o.current,za(s.nodeType===8?s.parentNode:s),new wd(o)},kn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=xa(o),s=s===null?null:s.stateNode,s},kn.flushSync=function(s){return Bs(s)},kn.hydrate=function(s,o,l){if(!cc(o))throw Error(t(200));return hc(null,s,o,!0,l)},kn.hydrateRoot=function(s,o,l){if(!Ed(s))throw Error(t(405));var m=l!=null&&l.hydratedSources||null,x=!1,F="",U=A2;if(l!=null&&(l.unstable_strictMode===!0&&(x=!0),l.identifierPrefix!==void 0&&(F=l.identifierPrefix),l.onRecoverableError!==void 0&&(U=l.onRecoverableError)),o=w2(o,null,s,1,l??null,x,!1,F,U),s[Xr]=o.current,za(s),m)for(s=0;s<m.length;s++)l=m[s],x=l._getVersion,x=x(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,x]:o.mutableSourceEagerHydrationData.push(l,x);return new lc(o)},kn.render=function(s,o,l){if(!cc(o))throw Error(t(200));return hc(null,s,o,!1,l)},kn.unmountComponentAtNode=function(s){if(!cc(s))throw Error(t(40));return s._reactRootContainer?(Bs(function(){hc(null,null,s,!1,function(){s._reactRootContainer=null,s[Xr]=null})}),!0):!1},kn.unstable_batchedUpdates=fd,kn.unstable_renderSubtreeIntoContainer=function(s,o,l,m){if(!cc(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return hc(s,o,l,!1,m)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var R2;function yw(){if(R2)return bd.exports;R2=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bd.exports=pT(),bd.exports}var P2;function mT(){if(P2)return dc;P2=1;var r=yw();return dc.createRoot=r.createRoot,dc.hydrateRoot=r.hydrateRoot,dc}var gT=mT();const yT=()=>{};var N2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},vT=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],u=r[t++],c=r[t++],h=((i&7)<<18|(a&63)<<12|(u&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const a=r[t++],u=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},_w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],u=i+1<r.length,c=u?r[i+1]:0,h=i+2<r.length,d=h?r[i+2]:0,y=a>>2,g=(a&3)<<4|c>>4;let p=(c&15)<<2|d>>6,v=d&63;h||(v=64,u||(p=64)),n.push(t[y],t[g],t[p],t[v])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(vw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],c=i<r.length?t[r.charAt(i)]:0;++i;const d=i<r.length?t[r.charAt(i)]:64;++i;const g=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||c==null||d==null||g==null)throw new _T;const p=a<<2|c>>4;if(n.push(p),d!==64){const v=c<<4&240|d>>2;if(n.push(v),g!==64){const A=d<<6&192|g;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _T extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wT=function(r){const e=vw(r);return _w.encodeByteArray(e,!0)},jc=function(r){return wT(r).replace(/\./g,"")},ww=function(r){try{return _w.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=()=>ET().__FIREBASE_DEFAULTS__,CT=()=>{if(typeof process>"u"||typeof N2>"u")return;const r=N2.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},bT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ww(r[1]);return e&&JSON.parse(e)},ch=()=>{try{return yT()||AT()||CT()||bT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ew=r=>{var e,t;return(t=(e=ch())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Aw=r=>{const e=Ew(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},Cw=()=>{var r;return(r=ch())===null||r===void 0?void 0:r.config},bw=r=>{var e;return(e=ch())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[jc(JSON.stringify(t)),jc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ST(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function xT(){var r;const e=(r=ch())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function kT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RT(){const r=fn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function PT(){return!xT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NT(){try{return typeof indexedDB=="object"}catch{return!1}}function OT(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="FirebaseError";class Ur extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=LT,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?FT(a,n):"Error",c=`${this.serviceName}: ${u} (${i}).`;return new Ur(i,c,n)}}function FT(r,e){return r.replace(BT,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const BT=/\{\$([^}]+)}/g;function jT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Hs(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],u=e[i];if(O2(a)&&O2(u)){if(!Hs(a,u))return!1}else if(a!==u)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function O2(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function hu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function fu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function MT(r,e){const t=new qT(r,e);return t.subscribe.bind(t)}class qT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");VT(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=xd),i.error===void 0&&(i.error=xd),i.complete===void 0&&(i.complete=xd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VT(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r){return r&&r._delegate?r._delegate:r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(r){return r.endsWith(".cloudworkstations.dev")}async function Xm(r){return(await fetch(r,{credentials:"include"})).ok}class rs{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new TT;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HT(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&u.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const u=this.instances.get(i);return u&&e(u,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:zT(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zT(r){return r===Vs?void 0:r}function HT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new UT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(it||(it={}));const GT={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},WT=it.INFO,KT={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},JT=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=KT[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zm{constructor(e){this.name=e,this._logLevel=WT,this._logHandler=JT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const QT=(r,e)=>e.some(t=>r instanceof t);let L2,F2;function YT(){return L2||(L2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XT(){return F2||(F2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sw=new WeakMap,Cm=new WeakMap,xw=new WeakMap,Dd=new WeakMap,eg=new WeakMap;function ZT(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",u)},a=()=>{t(Zi(r.result)),i()},u=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Sw.set(t,r)}).catch(()=>{}),eg.set(e,r),e}function eS(r){if(Cm.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",u),r.removeEventListener("abort",u)},a=()=>{t(),i()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",u),r.addEventListener("abort",u)});Cm.set(r,e)}let bm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Cm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||xw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function tS(r){bm=r(bm)}function nS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Id(this),e,...t);return xw.set(n,e.sort?e.sort():[e]),Zi(n)}:XT().includes(r)?function(...e){return r.apply(Id(this),e),Zi(Sw.get(this))}:function(...e){return Zi(r.apply(Id(this),e))}}function rS(r){return typeof r=="function"?nS(r):(r instanceof IDBTransaction&&eS(r),QT(r,YT())?new Proxy(r,bm):r)}function Zi(r){if(r instanceof IDBRequest)return ZT(r);if(Dd.has(r))return Dd.get(r);const e=rS(r);return e!==r&&(Dd.set(r,e),eg.set(e,r)),e}const Id=r=>eg.get(r);function iS(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const u=indexedDB.open(r,e),c=Zi(u);return n&&u.addEventListener("upgradeneeded",h=>{n(Zi(u.result),h.oldVersion,h.newVersion,Zi(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const sS=["get","getKey","getAll","getAllKeys","count"],oS=["put","add","delete","clear"],kd=new Map;function B2(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=oS.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||sS.includes(t)))return;const a=async function(u,...c){const h=this.transaction(u,i?"readwrite":"readonly");let d=h.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),i&&h.done]))[0]};return kd.set(e,a),a}tS(r=>({...r,get:(e,t,n)=>B2(e,t)||r.get(e,t,n),has:(e,t)=>!!B2(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uS(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function uS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",j2="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new Zm("@firebase/app"),lS="@firebase/app-compat",cS="@firebase/analytics-compat",hS="@firebase/analytics",fS="@firebase/app-check-compat",dS="@firebase/app-check",pS="@firebase/auth",mS="@firebase/auth-compat",gS="@firebase/database",yS="@firebase/data-connect",vS="@firebase/database-compat",_S="@firebase/functions",wS="@firebase/functions-compat",ES="@firebase/installations",AS="@firebase/installations-compat",CS="@firebase/messaging",bS="@firebase/messaging-compat",TS="@firebase/performance",SS="@firebase/performance-compat",xS="@firebase/remote-config",DS="@firebase/remote-config-compat",IS="@firebase/storage",kS="@firebase/storage-compat",RS="@firebase/firestore",PS="@firebase/vertexai",NS="@firebase/firestore-compat",OS="firebase",LS="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",FS={[Tm]:"fire-core",[lS]:"fire-core-compat",[hS]:"fire-analytics",[cS]:"fire-analytics-compat",[dS]:"fire-app-check",[fS]:"fire-app-check-compat",[pS]:"fire-auth",[mS]:"fire-auth-compat",[gS]:"fire-rtdb",[yS]:"fire-data-connect",[vS]:"fire-rtdb-compat",[_S]:"fire-fn",[wS]:"fire-fn-compat",[ES]:"fire-iid",[AS]:"fire-iid-compat",[CS]:"fire-fcm",[bS]:"fire-fcm-compat",[TS]:"fire-perf",[SS]:"fire-perf-compat",[xS]:"fire-rc",[DS]:"fire-rc-compat",[IS]:"fire-gcs",[kS]:"fire-gcs-compat",[RS]:"fire-fst",[NS]:"fire-fst-compat",[PS]:"fire-vertex","fire-js":"fire-js",[OS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,BS=new Map,xm=new Map;function M2(r,e){try{r.container.addComponent(e)}catch(t){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function $s(r){const e=r.name;if(xm.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,r);for(const t of Mc.values())M2(t,r);for(const t of BS.values())M2(t,r);return!0}function hh(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function qn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new Mu("app","Firebase",jS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=LS;function Dw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Sm,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw es.create("bad-app-name",{appName:String(i)});if(t||(t=Cw()),!t)throw es.create("no-options");const a=Mc.get(i);if(a){if(Hs(t,a.options)&&Hs(n,a.config))return a;throw es.create("duplicate-app",{appName:i})}const u=new $T(i);for(const h of xm.values())u.addComponent(h);const c=new MS(t,n,u);return Mc.set(i,c),c}function tg(r=Sm){const e=Mc.get(r);if(!e&&r===Sm&&Cw())return Dw();if(!e)throw es.create("no-app",{appName:r});return e}function Lr(r,e,t){var n;let i=(n=FS[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(c.join(" "));return}$s(new rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firebase-heartbeat-database",VS=1,Su="firebase-heartbeat-store";let Rd=null;function Iw(){return Rd||(Rd=iS(qS,VS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Su)}catch(t){console.warn(t)}}}}).catch(r=>{throw es.create("idb-open",{originalErrorMessage:r.message})})),Rd}async function US(r){try{const t=(await Iw()).transaction(Su),n=await t.objectStore(Su).get(kw(r));return await t.done,n}catch(e){if(e instanceof Ur)fi.warn(e.message);else{const t=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fi.warn(t.message)}}}async function q2(r,e){try{const n=(await Iw()).transaction(Su,"readwrite");await n.objectStore(Su).put(e,kw(r)),await n.done}catch(t){if(t instanceof Ur)fi.warn(t.message);else{const n=es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fi.warn(n.message)}}}function kw(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=1024,HS=30;class $S{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new WS(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=V2();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>HS){const u=KS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){fi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=V2(),{heartbeatsToSend:n,unsentEntries:i}=GS(this._heartbeatsCache.heartbeats),a=jc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return fi.warn(t),""}}}function V2(){return new Date().toISOString().substring(0,10)}function GS(r,e=zS){const t=[];let n=r.slice();for(const i of r){const a=t.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),U2(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),U2(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class WS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NT()?OT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await US(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return q2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return q2(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function U2(r){return jc(JSON.stringify({version:2,heartbeats:r})).length}function KS(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(r){$s(new rs("platform-logger",e=>new aS(e),"PRIVATE")),$s(new rs("heartbeat",e=>new $S(e),"PRIVATE")),Lr(Tm,j2,r),Lr(Tm,j2,"esm2017"),Lr("fire-js","")}JS("");var QS="firebase",YS="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(QS,YS,"app");var z2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,Rw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,_){function D(){}D.prototype=_.prototype,R.D=_.prototype,R.prototype=new D,R.prototype.constructor=R,R.C=function(I,k,N){for(var O=Array(arguments.length-2),W=2;W<arguments.length;W++)O[W-2]=arguments[W];return _.prototype[k].apply(I,O)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,_,D){D||(D=0);var I=Array(16);if(typeof _=="string")for(var k=0;16>k;++k)I[k]=_.charCodeAt(D++)|_.charCodeAt(D++)<<8|_.charCodeAt(D++)<<16|_.charCodeAt(D++)<<24;else for(k=0;16>k;++k)I[k]=_[D++]|_[D++]<<8|_[D++]<<16|_[D++]<<24;_=R.g[0],D=R.g[1],k=R.g[2];var N=R.g[3],O=_+(N^D&(k^N))+I[0]+3614090360&4294967295;_=D+(O<<7&4294967295|O>>>25),O=N+(k^_&(D^k))+I[1]+3905402710&4294967295,N=_+(O<<12&4294967295|O>>>20),O=k+(D^N&(_^D))+I[2]+606105819&4294967295,k=N+(O<<17&4294967295|O>>>15),O=D+(_^k&(N^_))+I[3]+3250441966&4294967295,D=k+(O<<22&4294967295|O>>>10),O=_+(N^D&(k^N))+I[4]+4118548399&4294967295,_=D+(O<<7&4294967295|O>>>25),O=N+(k^_&(D^k))+I[5]+1200080426&4294967295,N=_+(O<<12&4294967295|O>>>20),O=k+(D^N&(_^D))+I[6]+2821735955&4294967295,k=N+(O<<17&4294967295|O>>>15),O=D+(_^k&(N^_))+I[7]+4249261313&4294967295,D=k+(O<<22&4294967295|O>>>10),O=_+(N^D&(k^N))+I[8]+1770035416&4294967295,_=D+(O<<7&4294967295|O>>>25),O=N+(k^_&(D^k))+I[9]+2336552879&4294967295,N=_+(O<<12&4294967295|O>>>20),O=k+(D^N&(_^D))+I[10]+4294925233&4294967295,k=N+(O<<17&4294967295|O>>>15),O=D+(_^k&(N^_))+I[11]+2304563134&4294967295,D=k+(O<<22&4294967295|O>>>10),O=_+(N^D&(k^N))+I[12]+1804603682&4294967295,_=D+(O<<7&4294967295|O>>>25),O=N+(k^_&(D^k))+I[13]+4254626195&4294967295,N=_+(O<<12&4294967295|O>>>20),O=k+(D^N&(_^D))+I[14]+2792965006&4294967295,k=N+(O<<17&4294967295|O>>>15),O=D+(_^k&(N^_))+I[15]+1236535329&4294967295,D=k+(O<<22&4294967295|O>>>10),O=_+(k^N&(D^k))+I[1]+4129170786&4294967295,_=D+(O<<5&4294967295|O>>>27),O=N+(D^k&(_^D))+I[6]+3225465664&4294967295,N=_+(O<<9&4294967295|O>>>23),O=k+(_^D&(N^_))+I[11]+643717713&4294967295,k=N+(O<<14&4294967295|O>>>18),O=D+(N^_&(k^N))+I[0]+3921069994&4294967295,D=k+(O<<20&4294967295|O>>>12),O=_+(k^N&(D^k))+I[5]+3593408605&4294967295,_=D+(O<<5&4294967295|O>>>27),O=N+(D^k&(_^D))+I[10]+38016083&4294967295,N=_+(O<<9&4294967295|O>>>23),O=k+(_^D&(N^_))+I[15]+3634488961&4294967295,k=N+(O<<14&4294967295|O>>>18),O=D+(N^_&(k^N))+I[4]+3889429448&4294967295,D=k+(O<<20&4294967295|O>>>12),O=_+(k^N&(D^k))+I[9]+568446438&4294967295,_=D+(O<<5&4294967295|O>>>27),O=N+(D^k&(_^D))+I[14]+3275163606&4294967295,N=_+(O<<9&4294967295|O>>>23),O=k+(_^D&(N^_))+I[3]+4107603335&4294967295,k=N+(O<<14&4294967295|O>>>18),O=D+(N^_&(k^N))+I[8]+1163531501&4294967295,D=k+(O<<20&4294967295|O>>>12),O=_+(k^N&(D^k))+I[13]+2850285829&4294967295,_=D+(O<<5&4294967295|O>>>27),O=N+(D^k&(_^D))+I[2]+4243563512&4294967295,N=_+(O<<9&4294967295|O>>>23),O=k+(_^D&(N^_))+I[7]+1735328473&4294967295,k=N+(O<<14&4294967295|O>>>18),O=D+(N^_&(k^N))+I[12]+2368359562&4294967295,D=k+(O<<20&4294967295|O>>>12),O=_+(D^k^N)+I[5]+4294588738&4294967295,_=D+(O<<4&4294967295|O>>>28),O=N+(_^D^k)+I[8]+2272392833&4294967295,N=_+(O<<11&4294967295|O>>>21),O=k+(N^_^D)+I[11]+1839030562&4294967295,k=N+(O<<16&4294967295|O>>>16),O=D+(k^N^_)+I[14]+4259657740&4294967295,D=k+(O<<23&4294967295|O>>>9),O=_+(D^k^N)+I[1]+2763975236&4294967295,_=D+(O<<4&4294967295|O>>>28),O=N+(_^D^k)+I[4]+1272893353&4294967295,N=_+(O<<11&4294967295|O>>>21),O=k+(N^_^D)+I[7]+4139469664&4294967295,k=N+(O<<16&4294967295|O>>>16),O=D+(k^N^_)+I[10]+3200236656&4294967295,D=k+(O<<23&4294967295|O>>>9),O=_+(D^k^N)+I[13]+681279174&4294967295,_=D+(O<<4&4294967295|O>>>28),O=N+(_^D^k)+I[0]+3936430074&4294967295,N=_+(O<<11&4294967295|O>>>21),O=k+(N^_^D)+I[3]+3572445317&4294967295,k=N+(O<<16&4294967295|O>>>16),O=D+(k^N^_)+I[6]+76029189&4294967295,D=k+(O<<23&4294967295|O>>>9),O=_+(D^k^N)+I[9]+3654602809&4294967295,_=D+(O<<4&4294967295|O>>>28),O=N+(_^D^k)+I[12]+3873151461&4294967295,N=_+(O<<11&4294967295|O>>>21),O=k+(N^_^D)+I[15]+530742520&4294967295,k=N+(O<<16&4294967295|O>>>16),O=D+(k^N^_)+I[2]+3299628645&4294967295,D=k+(O<<23&4294967295|O>>>9),O=_+(k^(D|~N))+I[0]+4096336452&4294967295,_=D+(O<<6&4294967295|O>>>26),O=N+(D^(_|~k))+I[7]+1126891415&4294967295,N=_+(O<<10&4294967295|O>>>22),O=k+(_^(N|~D))+I[14]+2878612391&4294967295,k=N+(O<<15&4294967295|O>>>17),O=D+(N^(k|~_))+I[5]+4237533241&4294967295,D=k+(O<<21&4294967295|O>>>11),O=_+(k^(D|~N))+I[12]+1700485571&4294967295,_=D+(O<<6&4294967295|O>>>26),O=N+(D^(_|~k))+I[3]+2399980690&4294967295,N=_+(O<<10&4294967295|O>>>22),O=k+(_^(N|~D))+I[10]+4293915773&4294967295,k=N+(O<<15&4294967295|O>>>17),O=D+(N^(k|~_))+I[1]+2240044497&4294967295,D=k+(O<<21&4294967295|O>>>11),O=_+(k^(D|~N))+I[8]+1873313359&4294967295,_=D+(O<<6&4294967295|O>>>26),O=N+(D^(_|~k))+I[15]+4264355552&4294967295,N=_+(O<<10&4294967295|O>>>22),O=k+(_^(N|~D))+I[6]+2734768916&4294967295,k=N+(O<<15&4294967295|O>>>17),O=D+(N^(k|~_))+I[13]+1309151649&4294967295,D=k+(O<<21&4294967295|O>>>11),O=_+(k^(D|~N))+I[4]+4149444226&4294967295,_=D+(O<<6&4294967295|O>>>26),O=N+(D^(_|~k))+I[11]+3174756917&4294967295,N=_+(O<<10&4294967295|O>>>22),O=k+(_^(N|~D))+I[2]+718787259&4294967295,k=N+(O<<15&4294967295|O>>>17),O=D+(N^(k|~_))+I[9]+3951481745&4294967295,R.g[0]=R.g[0]+_&4294967295,R.g[1]=R.g[1]+(k+(O<<21&4294967295|O>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+N&4294967295}n.prototype.u=function(R,_){_===void 0&&(_=R.length);for(var D=_-this.blockSize,I=this.B,k=this.h,N=0;N<_;){if(k==0)for(;N<=D;)i(this,R,N),N+=this.blockSize;if(typeof R=="string"){for(;N<_;)if(I[k++]=R.charCodeAt(N++),k==this.blockSize){i(this,I),k=0;break}}else for(;N<_;)if(I[k++]=R[N++],k==this.blockSize){i(this,I),k=0;break}}this.h=k,this.o+=_},n.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var _=1;_<R.length-8;++_)R[_]=0;var D=8*this.o;for(_=R.length-8;_<R.length;++_)R[_]=D&255,D/=256;for(this.u(R),R=Array(16),_=D=0;4>_;++_)for(var I=0;32>I;I+=8)R[D++]=this.g[_]>>>I&255;return R};function a(R,_){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=_(R)}function u(R,_){this.h=_;for(var D=[],I=!0,k=R.length-1;0<=k;k--){var N=R[k]|0;I&&N==_||(D[k]=N,I=!1)}this.g=D}var c={};function h(R){return-128<=R&&128>R?a(R,function(_){return new u([_|0],0>_?-1:0)}):new u([R|0],0>R?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return g;if(0>R)return E(d(-R));for(var _=[],D=1,I=0;R>=D;I++)_[I]=R/D|0,D*=4294967296;return new u(_,0)}function y(R,_){if(R.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(R.charAt(0)=="-")return E(y(R.substring(1),_));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=d(Math.pow(_,8)),I=g,k=0;k<R.length;k+=8){var N=Math.min(8,R.length-k),O=parseInt(R.substring(k,k+N),_);8>N?(N=d(Math.pow(_,N)),I=I.j(N).add(d(O))):(I=I.j(D),I=I.add(d(O)))}return I}var g=h(0),p=h(1),v=h(16777216);r=u.prototype,r.m=function(){if(b(this))return-E(this).m();for(var R=0,_=1,D=0;D<this.g.length;D++){var I=this.i(D);R+=(0<=I?I:4294967296+I)*_,_*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(A(this))return"0";if(b(this))return"-"+E(this).toString(R);for(var _=d(Math.pow(R,6)),D=this,I="";;){var k=T(D,_).g;D=w(D,k.j(_));var N=((0<D.g.length?D.g[0]:D.h)>>>0).toString(R);if(D=k,A(D))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function A(R){if(R.h!=0)return!1;for(var _=0;_<R.g.length;_++)if(R.g[_]!=0)return!1;return!0}function b(R){return R.h==-1}r.l=function(R){return R=w(this,R),b(R)?-1:A(R)?0:1};function E(R){for(var _=R.g.length,D=[],I=0;I<_;I++)D[I]=~R.g[I];return new u(D,~R.h).add(p)}r.abs=function(){return b(this)?E(this):this},r.add=function(R){for(var _=Math.max(this.g.length,R.g.length),D=[],I=0,k=0;k<=_;k++){var N=I+(this.i(k)&65535)+(R.i(k)&65535),O=(N>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);I=O>>>16,N&=65535,O&=65535,D[k]=O<<16|N}return new u(D,D[D.length-1]&-2147483648?-1:0)};function w(R,_){return R.add(E(_))}r.j=function(R){if(A(this)||A(R))return g;if(b(this))return b(R)?E(this).j(E(R)):E(E(this).j(R));if(b(R))return E(this.j(E(R)));if(0>this.l(v)&&0>R.l(v))return d(this.m()*R.m());for(var _=this.g.length+R.g.length,D=[],I=0;I<2*_;I++)D[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<R.g.length;k++){var N=this.i(I)>>>16,O=this.i(I)&65535,W=R.i(k)>>>16,J=R.i(k)&65535;D[2*I+2*k]+=O*J,S(D,2*I+2*k),D[2*I+2*k+1]+=N*J,S(D,2*I+2*k+1),D[2*I+2*k+1]+=O*W,S(D,2*I+2*k+1),D[2*I+2*k+2]+=N*W,S(D,2*I+2*k+2)}for(I=0;I<_;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=_;I<2*_;I++)D[I]=0;return new u(D,0)};function S(R,_){for(;(R[_]&65535)!=R[_];)R[_+1]+=R[_]>>>16,R[_]&=65535,_++}function P(R,_){this.g=R,this.h=_}function T(R,_){if(A(_))throw Error("division by zero");if(A(R))return new P(g,g);if(b(R))return _=T(E(R),_),new P(E(_.g),E(_.h));if(b(_))return _=T(R,E(_)),new P(E(_.g),_.h);if(30<R.g.length){if(b(R)||b(_))throw Error("slowDivide_ only works with positive integers.");for(var D=p,I=_;0>=I.l(R);)D=j(D),I=j(I);var k=q(D,1),N=q(I,1);for(I=q(I,2),D=q(D,2);!A(I);){var O=N.add(I);0>=O.l(R)&&(k=k.add(D),N=O),I=q(I,1),D=q(D,1)}return _=w(R,k.j(_)),new P(k,_)}for(k=g;0<=R.l(_);){for(D=Math.max(1,Math.floor(R.m()/_.m())),I=Math.ceil(Math.log(D)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=d(D),O=N.j(_);b(O)||0<O.l(R);)D-=I,N=d(D),O=N.j(_);A(N)&&(N=p),k=k.add(N),R=w(R,O)}return new P(k,R)}r.A=function(R){return T(this,R).h},r.and=function(R){for(var _=Math.max(this.g.length,R.g.length),D=[],I=0;I<_;I++)D[I]=this.i(I)&R.i(I);return new u(D,this.h&R.h)},r.or=function(R){for(var _=Math.max(this.g.length,R.g.length),D=[],I=0;I<_;I++)D[I]=this.i(I)|R.i(I);return new u(D,this.h|R.h)},r.xor=function(R){for(var _=Math.max(this.g.length,R.g.length),D=[],I=0;I<_;I++)D[I]=this.i(I)^R.i(I);return new u(D,this.h^R.h)};function j(R){for(var _=R.g.length+1,D=[],I=0;I<_;I++)D[I]=R.i(I)<<1|R.i(I-1)>>>31;return new u(D,R.h)}function q(R,_){var D=_>>5;_%=32;for(var I=R.g.length-D,k=[],N=0;N<I;N++)k[N]=0<_?R.i(N+D)>>>_|R.i(N+D+1)<<32-_:R.i(N+D);return new u(k,R.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Rw=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,ts=u}).apply(typeof z2<"u"?z2:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pw,du,Nw,Cc,Dm,Ow,Lw,Fw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,L,M){return f==Array.prototype||f==Object.prototype||(f[L]=M.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var L=0;L<f.length;++L){var M=f[L];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var n=t(this);function i(f,L){if(L)e:{var M=n;f=f.split(".");for(var K=0;K<f.length-1;K++){var ae=f[K];if(!(ae in M))break e;M=M[ae]}f=f[f.length-1],K=M[f],L=L(K),L!=K&&L!=null&&e(M,f,{configurable:!0,writable:!0,value:L})}}function a(f,L){f instanceof String&&(f+="");var M=0,K=!1,ae={next:function(){if(!K&&M<f.length){var me=M++;return{value:L(me,f[me]),done:!1}}return K=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}i("Array.prototype.values",function(f){return f||function(){return a(this,function(L,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function h(f){var L=typeof f;return L=L!="object"?L:f?Array.isArray(f)?"array":L:"null",L=="array"||L=="object"&&typeof f.length=="number"}function d(f){var L=typeof f;return L=="object"&&f!=null||L=="function"}function y(f,L,M){return f.call.apply(f.bind,arguments)}function g(f,L,M){if(!f)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,K),f.apply(L,ae)}}return function(){return f.apply(L,arguments)}}function p(f,L,M){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:g,p.apply(null,arguments)}function v(f,L){var M=Array.prototype.slice.call(arguments,1);return function(){var K=M.slice();return K.push.apply(K,arguments),f.apply(this,K)}}function A(f,L){function M(){}M.prototype=L.prototype,f.aa=L.prototype,f.prototype=new M,f.prototype.constructor=f,f.Qb=function(K,ae,me){for(var xe=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)xe[pt-2]=arguments[pt];return L.prototype[ae].apply(K,xe)}}function b(f){const L=f.length;if(0<L){const M=Array(L);for(let K=0;K<L;K++)M[K]=f[K];return M}return[]}function E(f,L){for(let M=1;M<arguments.length;M++){const K=arguments[M];if(h(K)){const ae=f.length||0,me=K.length||0;f.length=ae+me;for(let xe=0;xe<me;xe++)f[ae+xe]=K[xe]}else f.push(K)}}class w{constructor(L,M){this.i=L,this.j=M,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function S(f){return/^[\s\xa0]*$/.test(f)}function P(){var f=c.navigator;return f&&(f=f.userAgent)?f:""}function T(f){return T[" "](f),f}T[" "]=function(){};var j=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function q(f,L,M){for(const K in f)L.call(M,f[K],K,f)}function R(f,L){for(const M in f)L.call(void 0,f[M],M,f)}function _(f){const L={};for(const M in f)L[M]=f[M];return L}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(f,L){let M,K;for(let ae=1;ae<arguments.length;ae++){K=arguments[ae];for(M in K)f[M]=K[M];for(let me=0;me<D.length;me++)M=D[me],Object.prototype.hasOwnProperty.call(K,M)&&(f[M]=K[M])}}function k(f){var L=1;f=f.split(":");const M=[];for(;0<L&&f.length;)M.push(f.shift()),L--;return f.length&&M.push(f.join(":")),M}function N(f){c.setTimeout(()=>{throw f},0)}function O(){var f=G;let L=null;return f.g&&(L=f.g,f.g=f.g.next,f.g||(f.h=null),L.next=null),L}class W{constructor(){this.h=this.g=null}add(L,M){const K=J.get();K.set(L,M),this.h?this.h.next=K:this.g=K,this.h=K}}var J=new w(()=>new se,f=>f.reset());class se{constructor(){this.next=this.g=this.h=null}set(L,M){this.h=L,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,re=!1,G=new W,H=()=>{const f=c.Promise.resolve(void 0);Z=()=>{f.then(B)}};var B=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(M){N(M)}var L=J;L.j(f),100>L.h&&(L.h++,f.next=L.g,L.g=f)}re=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(f,L){this.type=f,this.g=this.target=L,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,L=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const M=()=>{};c.addEventListener("test",M,L),c.removeEventListener("test",M,L)}catch{}return f}();function X(f,L){if(z.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var M=this.type=f.type,K=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=L,L=f.relatedTarget){if(j){e:{try{T(L.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(L=null)}}else M=="mouseover"?L=f.fromElement:M=="mouseout"&&(L=f.toElement);this.relatedTarget=L,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:$[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&X.aa.h.call(this)}}A(X,z);var $={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),te=0;function ie(f,L,M,K,ae){this.listener=f,this.proxy=null,this.src=L,this.type=M,this.capture=!!K,this.ha=ae,this.key=++te,this.da=this.fa=!1}function fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ge(f){this.src=f,this.g={},this.h=0}ge.prototype.add=function(f,L,M,K,ae){var me=f.toString();f=this.g[me],f||(f=this.g[me]=[],this.h++);var xe=Ie(f,L,K,ae);return-1<xe?(L=f[xe],M||(L.fa=!1)):(L=new ie(L,this.src,me,!!K,ae),L.fa=M,f.push(L)),L};function De(f,L){var M=L.type;if(M in f.g){var K=f.g[M],ae=Array.prototype.indexOf.call(K,L,void 0),me;(me=0<=ae)&&Array.prototype.splice.call(K,ae,1),me&&(fe(L),f.g[M].length==0&&(delete f.g[M],f.h--))}}function Ie(f,L,M,K){for(var ae=0;ae<f.length;++ae){var me=f[ae];if(!me.da&&me.listener==L&&me.capture==!!M&&me.ha==K)return ae}return-1}var ke="closure_lm_"+(1e6*Math.random()|0),Re={};function Be(f,L,M,K,ae){if(Array.isArray(L)){for(var me=0;me<L.length;me++)Be(f,L[me],M,K,ae);return null}return M=Ve(M),f&&f[Q]?f.K(L,M,d(K)?!!K.capture:!1,ae):et(f,L,M,!1,K,ae)}function et(f,L,M,K,ae,me){if(!L)throw Error("Invalid event type");var xe=d(ae)?!!ae.capture:!!ae,pt=$e(f);if(pt||(f[ke]=pt=new ge(f)),M=pt.add(L,M,K,xe,me),M.proxy)return M;if(K=le(),M.proxy=K,K.src=f,K.listener=M,f.addEventListener)ee||(ae=xe),ae===void 0&&(ae=!1),f.addEventListener(L.toString(),K,ae);else if(f.attachEvent)f.attachEvent(Se(L.toString()),K);else if(f.addListener&&f.removeListener)f.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return M}function le(){function f(M){return L.call(f.src,f.listener,M)}const L=ye;return f}function de(f,L,M,K,ae){if(Array.isArray(L))for(var me=0;me<L.length;me++)de(f,L[me],M,K,ae);else K=d(K)?!!K.capture:!!K,M=Ve(M),f&&f[Q]?(f=f.i,L=String(L).toString(),L in f.g&&(me=f.g[L],M=Ie(me,M,K,ae),-1<M&&(fe(me[M]),Array.prototype.splice.call(me,M,1),me.length==0&&(delete f.g[L],f.h--)))):f&&(f=$e(f))&&(L=f.g[L.toString()],f=-1,L&&(f=Ie(L,M,K,ae)),(M=-1<f?L[f]:null)&&Ee(M))}function Ee(f){if(typeof f!="number"&&f&&!f.da){var L=f.src;if(L&&L[Q])De(L.i,f);else{var M=f.type,K=f.proxy;L.removeEventListener?L.removeEventListener(M,K,f.capture):L.detachEvent?L.detachEvent(Se(M),K):L.addListener&&L.removeListener&&L.removeListener(K),(M=$e(L))?(De(M,f),M.h==0&&(M.src=null,L[ke]=null)):fe(f)}}}function Se(f){return f in Re?Re[f]:Re[f]="on"+f}function ye(f,L){if(f.da)f=!0;else{L=new X(L,this);var M=f.listener,K=f.ha||f.src;f.fa&&Ee(f),f=M.call(K,L)}return f}function $e(f){return f=f[ke],f instanceof ge?f:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ve(f){return typeof f=="function"?f:(f[je]||(f[je]=function(L){return f.handleEvent(L)}),f[je])}function Ge(){V.call(this),this.i=new ge(this),this.M=this,this.F=null}A(Ge,V),Ge.prototype[Q]=!0,Ge.prototype.removeEventListener=function(f,L,M,K){de(this,f,L,M,K)};function Xe(f,L){var M,K=f.F;if(K)for(M=[];K;K=K.F)M.push(K);if(f=f.M,K=L.type||L,typeof L=="string")L=new z(L,f);else if(L instanceof z)L.target=L.target||f;else{var ae=L;L=new z(K,f),I(L,ae)}if(ae=!0,M)for(var me=M.length-1;0<=me;me--){var xe=L.g=M[me];ae=Ze(xe,K,!0,L)&&ae}if(xe=L.g=f,ae=Ze(xe,K,!0,L)&&ae,ae=Ze(xe,K,!1,L)&&ae,M)for(me=0;me<M.length;me++)xe=L.g=M[me],ae=Ze(xe,K,!1,L)&&ae}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var f=this.i,L;for(L in f.g){for(var M=f.g[L],K=0;K<M.length;K++)fe(M[K]);delete f.g[L],f.h--}}this.F=null},Ge.prototype.K=function(f,L,M,K){return this.i.add(String(f),L,!1,M,K)},Ge.prototype.L=function(f,L,M,K){return this.i.add(String(f),L,!0,M,K)};function Ze(f,L,M,K){if(L=f.i.g[String(L)],!L)return!0;L=L.concat();for(var ae=!0,me=0;me<L.length;++me){var xe=L[me];if(xe&&!xe.da&&xe.capture==M){var pt=xe.listener,qt=xe.ha||xe.src;xe.fa&&De(f.i,xe),ae=pt.call(qt,K)!==!1&&ae}}return ae&&!K.defaultPrevented}function er(f,L,M){if(typeof f=="function")M&&(f=p(f,M));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:c.setTimeout(f,L||0)}function ct(f){f.g=er(()=>{f.g=null,f.i&&(f.i=!1,ct(f))},f.l);const L=f.h;f.h=null,f.m.apply(null,L)}class bt extends V{constructor(L,M){super(),this.m=L,this.l=M,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:ct(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ht(f){V.call(this),this.h=f,this.g={}}A(Ht,V);var tr=[];function Ei(f){q(f.g,function(L,M){this.g.hasOwnProperty(M)&&Ee(L)},f),f.g={}}Ht.prototype.N=function(){Ht.aa.N.call(this),Ei(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wa=c.JSON.stringify,Ea=c.JSON.parse,Aa=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function gs(){}gs.prototype.h=null;function no(f){return f.h||(f.h=f.i())}function ro(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){z.call(this,"d")}A(Ar,z);function io(){z.call(this,"c")}A(io,z);var Cr={},Ca=null;function ys(){return Ca=Ca||new Ge}Cr.La="serverreachability";function ba(f){z.call(this,Cr.La,f)}A(ba,z);function Gr(f){const L=ys();Xe(L,new ba(L))}Cr.STAT_EVENT="statevent";function Ta(f,L){z.call(this,Cr.STAT_EVENT,f),this.stat=L}A(Ta,z);function Pt(f){const L=ys();Xe(L,new Ta(L,f))}Cr.Ma="timingevent";function so(f,L){z.call(this,Cr.Ma,f),this.size=L}A(so,z);function nr(f,L){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},L)}function vs(){this.g=!0}vs.prototype.xa=function(){this.g=!1};function _s(f,L,M,K,ae,me){f.info(function(){if(f.g)if(me)for(var xe="",pt=me.split("&"),qt=0;qt<pt.length;qt++){var at=pt[qt].split("=");if(1<at.length){var $t=at[0];at=at[1];var Ft=$t.split("_");xe=2<=Ft.length&&Ft[1]=="type"?xe+($t+"="+at+"&"):xe+($t+"=redacted&")}}else xe=null;else xe=me;return"XMLHTTP REQ ("+K+") [attempt "+ae+"]: "+L+`
`+M+`
`+xe})}function oo(f,L,M,K,ae,me,xe){f.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+ae+"]: "+L+`
`+M+`
`+me+" "+xe})}function rr(f,L,M,K){f.info(function(){return"XMLHTTP TEXT ("+L+"): "+Jh(f,M)+(K?" "+K:"")})}function Sa(f,L){f.info(function(){return"TIMEOUT: "+L})}vs.prototype.info=function(){};function Jh(f,L){if(!f.g)return L;if(!L)return null;try{var M=JSON.parse(L);if(M){for(f=0;f<M.length;f++)if(Array.isArray(M[f])){var K=M[f];if(!(2>K.length)){var ae=K[1];if(Array.isArray(ae)&&!(1>ae.length)){var me=ae[0];if(me!="noop"&&me!="stop"&&me!="close")for(var xe=1;xe<ae.length;xe++)ae[xe]=""}}}}return wa(M)}catch{return L}}var ao={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ir;function ws(){}A(ws,gs),ws.prototype.g=function(){return new XMLHttpRequest},ws.prototype.i=function(){return{}},ir=new ws;function sr(f,L,M,K){this.j=f,this.i=L,this.l=M,this.R=K||1,this.U=new Ht(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new el}function el(){this.i=null,this.g="",this.h=!1}var xa={},uo={};function lo(f,L,M){f.L=1,f.v=Si(On(L)),f.m=M,f.P=!0,Da(f,null)}function Da(f,L){f.F=Date.now(),gt(f),f.A=On(f.v);var M=f.A,K=f.R;Array.isArray(K)||(K=[String(K)]),Di(M.i,"t",K),f.C=0,M=f.j.J,f.h=new el,f.g=vl(f.j,M?L:null,!f.m),0<f.O&&(f.M=new bt(p(f.Y,f,f.g),f.O)),L=f.U,M=f.g,K=f.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(tr[0]=ae.toString()),ae=tr);for(var me=0;me<ae.length;me++){var xe=Be(M,ae[me],K||L.handleEvent,!1,L.h||L);if(!xe)break;L.g[xe.key]=xe}L=f.H?_(f.H):{},f.m?(f.u||(f.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,L)):(f.u="GET",f.g.ea(f.A,f.u,null,L)),Gr(),_s(f.i,f.u,f.A,f.l,f.R,f.m)}sr.prototype.ca=function(f){f=f.target;const L=this.M;L&&bn(f)==3?L.j():this.Y(f)},sr.prototype.Y=function(f){try{if(f==this.g)e:{const Ft=bn(this.g);var L=this.g.Ba();const Gn=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||Oa(this.g)))){this.J||Ft!=4||L==7||(L==8||0>=Gn?Gr(3):Gr(2)),Es(this);var M=this.g.Z();this.X=M;t:if(tl(this)){var K=Oa(this.g);f="";var ae=K.length,me=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hn(this),Ai(this);var xe="";break t}this.h.i=new c.TextDecoder}for(L=0;L<ae;L++)this.h.h=!0,f+=this.h.i.decode(K[L],{stream:!(me&&L==ae-1)});K.length=0,this.h.g+=f,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=M==200,oo(this.i,this.u,this.A,this.l,this.R,Ft,M),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,qt=this.g;if((pt=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(pt)){var at=pt;break t}}at=null}if(M=at)rr(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,M);else{this.o=!1,this.s=3,Pt(12),Hn(this),Ai(this);break e}}if(this.P){M=!0;let Fn;for(;!this.J&&this.C<xe.length;)if(Fn=Qh(this,xe),Fn==uo){Ft==4&&(this.s=4,Pt(14),M=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==xa){this.s=4,Pt(15),rr(this.i,this.l,xe,"[Invalid Chunk]"),M=!1;break}else rr(this.i,this.l,Fn,null),Ia(this,Fn);if(tl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||xe.length!=0||this.h.h||(this.s=1,Pt(16),M=!1),this.o=this.o&&M,!M)rr(this.i,this.l,xe,"[Invalid Chunked Response]"),Hn(this),Ai(this);else if(0<xe.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),Fa($t),$t.M=!0,Pt(11))}}else rr(this.i,this.l,xe,null),Ia(this,xe);Ft==4&&Hn(this),this.o&&!this.J&&(Ft==4?Eo(this.j,this):(this.o=!1,gt(this)))}else go(this.g),M==400&&0<xe.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Hn(this),Ai(this)}}}catch{}finally{}};function tl(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Qh(f,L){var M=f.C,K=L.indexOf(`
`,M);return K==-1?uo:(M=Number(L.substring(M,K)),isNaN(M)?xa:(K+=1,K+M>L.length?uo:(L=L.slice(K,K+M),f.C=K+M,L)))}sr.prototype.cancel=function(){this.J=!0,Hn(this)};function gt(f){f.S=Date.now()+f.I,nl(f,f.I)}function nl(f,L){if(f.B!=null)throw Error("WatchDog timer not null");f.B=nr(p(f.ba,f),L)}function Es(f){f.B&&(c.clearTimeout(f.B),f.B=null)}sr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Sa(this.i,this.A),this.L!=2&&(Gr(),Pt(17)),Hn(this),this.s=2,Ai(this)):nl(this,this.S-f)};function Ai(f){f.j.G==0||f.J||Eo(f.j,f)}function Hn(f){Es(f);var L=f.M;L&&typeof L.ma=="function"&&L.ma(),f.M=null,Ei(f.U),f.g&&(L=f.g,f.g=null,L.abort(),L.ma())}function Ia(f,L){try{var M=f.j;if(M.G!=0&&(M.g==f||mn(M.h,f))){if(!f.K&&mn(M.h,f)&&M.G==3){try{var K=M.Da.g.parse(L)}catch{K=null}if(Array.isArray(K)&&K.length==3){var ae=K;if(ae[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<f.F)wo(M),cr(M);else break e;_o(M),Pt(18)}}else M.za=ae[1],0<M.za-M.T&&37500>ae[2]&&M.F&&M.v==0&&!M.C&&(M.C=nr(p(M.Za,M),6e3));if(1>=il(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Yr(M,11)}else if((f.K||M.g==f)&&wo(M),!S(L))for(ae=M.Da.g.parse(L),L=0;L<ae.length;L++){let at=ae[L];if(M.T=at[0],at=at[1],M.G==2)if(at[0]=="c"){M.K=at[1],M.ia=at[2];const $t=at[3];$t!=null&&(M.la=$t,M.j.info("VER="+M.la));const Ft=at[4];Ft!=null&&(M.Aa=Ft,M.j.info("SVER="+M.Aa));const Gn=at[5];Gn!=null&&typeof Gn=="number"&&0<Gn&&(K=1.5*Gn,M.L=K,M.j.info("backChannelRequestTimeoutMs_="+K)),K=M;const Fn=f.g;if(Fn){const Ds=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ds){var me=K.h;me.g||Ds.indexOf("spdy")==-1&&Ds.indexOf("quic")==-1&&Ds.indexOf("h2")==-1||(me.j=me.l,me.g=new Set,me.h&&(ka(me,me.h),me.h=null))}if(K.D){const Co=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(K.ya=Co,mt(K.I,K.D,Co))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-f.F,M.j.info("Handshake RTT: "+M.R+"ms")),K=M;var xe=f;if(K.qa=yl(K,K.J?K.ia:null,K.W),xe.K){sl(K.h,xe);var pt=xe,qt=K.L;qt&&(pt.I=qt),pt.B&&(Es(pt),gt(pt)),K.g=xe}else xs(K);0<M.i.length&&xr(M)}else at[0]!="stop"&&at[0]!="close"||Yr(M,7);else M.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Yr(M,7):Yt(M):at[0]!="noop"&&M.l&&M.l.ta(at),M.v=0)}}Gr(4)}catch{}}var rl=class{constructor(f,L){this.g=f,this.map=L}};function As(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nn(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function il(f){return f.h?1:f.g?f.g.size:0}function mn(f,L){return f.h?f.h==L:f.g?f.g.has(L):!1}function ka(f,L){f.g?f.g.add(L):f.h=L}function sl(f,L){f.h&&f.h==L?f.h=null:f.g&&f.g.has(L)&&f.g.delete(L)}As.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ol(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let L=f.i;for(const M of f.g.values())L=L.concat(M.D);return L}return b(f.i)}function co(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var L=[],M=f.length,K=0;K<M;K++)L.push(f[K]);return L}L=[],M=0;for(K in f)L[M++]=f[K];return L}function ho(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(h(f)||typeof f=="string"){var L=[];f=f.length;for(var M=0;M<f;M++)L.push(M);return L}L=[],M=0;for(const K in f)L[M++]=K;return L}}}function Ci(f,L){if(f.forEach&&typeof f.forEach=="function")f.forEach(L,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,L,void 0);else for(var M=ho(f),K=co(f),ae=K.length,me=0;me<ae;me++)L.call(void 0,K[me],M&&M[me],f)}var Cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yh(f,L){if(f){f=f.split("&");for(var M=0;M<f.length;M++){var K=f[M].indexOf("="),ae=null;if(0<=K){var me=f[M].substring(0,K);ae=f[M].substring(K+1)}else me=f[M];L(me,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function Wr(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Wr){this.h=f.h,bs(this,f.j),this.o=f.o,this.g=f.g,bi(this,f.s),this.l=f.l;var L=f.i,M=new br;M.i=L.i,L.g&&(M.g=new Map(L.g),M.h=L.h),Ti(this,M),this.m=f.m}else f&&(L=String(f).match(Cs))?(this.h=!1,bs(this,L[1]||"",!0),this.o=ot(L[2]||""),this.g=ot(L[3]||"",!0),bi(this,L[4]),this.l=ot(L[5]||"",!0),Ti(this,L[6]||"",!0),this.m=ot(L[7]||"")):(this.h=!1,this.i=new br(null,this.h))}Wr.prototype.toString=function(){var f=[],L=this.j;L&&f.push(xi(L,fo,!0),":");var M=this.g;return(M||L=="file")&&(f.push("//"),(L=this.o)&&f.push(xi(L,fo,!0),"@"),f.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&f.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&f.push("/"),f.push(xi(M,M.charAt(0)=="/"?ll:ul,!0))),(M=this.i.toString())&&f.push("?",M),(M=this.m)&&f.push("#",xi(M,Ra)),f.join("")};function On(f){return new Wr(f)}function bs(f,L,M){f.j=M?ot(L,!0):L,f.j&&(f.j=f.j.replace(/:$/,""))}function bi(f,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);f.s=L}else f.s=null}function Ti(f,L,M){L instanceof br?(f.i=L,Tr(f.i,f.h)):(M||(L=xi(L,cl)),f.i=new br(L,f.h))}function mt(f,L,M){f.i.set(L,M)}function Si(f){return mt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ot(f,L){return f?L?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xi(f,L,M){return typeof f=="string"?(f=encodeURI(f).replace(L,al),M&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function al(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var fo=/[#\/\?@]/g,ul=/[#\?:]/g,ll=/[#\?]/g,cl=/[#\?@]/g,Ra=/#/g;function br(f,L){this.h=this.g=null,this.i=f||null,this.j=!!L}function Qt(f){f.g||(f.g=new Map,f.h=0,f.i&&Yh(f.i,function(L,M){f.add(decodeURIComponent(L.replace(/\+/g," ")),M)}))}r=br.prototype,r.add=function(f,L){Qt(this),this.i=null,f=$n(this,f);var M=this.g.get(f);return M||this.g.set(f,M=[]),M.push(L),this.h+=1,this};function or(f,L){Qt(f),L=$n(f,L),f.g.has(L)&&(f.i=null,f.h-=f.g.get(L).length,f.g.delete(L))}function ar(f,L){return Qt(f),L=$n(f,L),f.g.has(L)}r.forEach=function(f,L){Qt(this),this.g.forEach(function(M,K){M.forEach(function(ae){f.call(L,ae,K,this)},this)},this)},r.na=function(){Qt(this);const f=Array.from(this.g.values()),L=Array.from(this.g.keys()),M=[];for(let K=0;K<L.length;K++){const ae=f[K];for(let me=0;me<ae.length;me++)M.push(L[K])}return M},r.V=function(f){Qt(this);let L=[];if(typeof f=="string")ar(this,f)&&(L=L.concat(this.g.get($n(this,f))));else{f=Array.from(this.g.values());for(let M=0;M<f.length;M++)L=L.concat(f[M])}return L},r.set=function(f,L){return Qt(this),this.i=null,f=$n(this,f),ar(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[L]),this.h+=1,this},r.get=function(f,L){return f?(f=this.V(f),0<f.length?String(f[0]):L):L};function Di(f,L,M){or(f,L),0<M.length&&(f.i=null,f.g.set($n(f,L),b(M)),f.h+=M.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],L=Array.from(this.g.keys());for(var M=0;M<L.length;M++){var K=L[M];const me=encodeURIComponent(String(K)),xe=this.V(K);for(K=0;K<xe.length;K++){var ae=me;xe[K]!==""&&(ae+="="+encodeURIComponent(String(xe[K]))),f.push(ae)}}return this.i=f.join("&")};function $n(f,L){return L=String(L),f.j&&(L=L.toLowerCase()),L}function Tr(f,L){L&&!f.j&&(Qt(f),f.i=null,f.g.forEach(function(M,K){var ae=K.toLowerCase();K!=ae&&(or(this,K),Di(this,ae,M))},f)),f.j=L}function Xh(f,L){const M=new vs;if(c.Image){const K=new Image;K.onload=v(Cn,M,"TestLoadImage: loaded",!0,L,K),K.onerror=v(Cn,M,"TestLoadImage: error",!1,L,K),K.onabort=v(Cn,M,"TestLoadImage: abort",!1,L,K),K.ontimeout=v(Cn,M,"TestLoadImage: timeout",!1,L,K),c.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=f}else L(!1)}function hl(f,L){const M=new vs,K=new AbortController,ae=setTimeout(()=>{K.abort(),Cn(M,"TestPingServer: timeout",!1,L)},1e4);fetch(f,{signal:K.signal}).then(me=>{clearTimeout(ae),me.ok?Cn(M,"TestPingServer: ok",!0,L):Cn(M,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(ae),Cn(M,"TestPingServer: error",!1,L)})}function Cn(f,L,M,K,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),K(M)}catch{}}function Zh(){this.g=new Aa}function fl(f,L,M){const K=M||"";try{Ci(f,function(ae,me){let xe=ae;d(ae)&&(xe=wa(ae)),L.push(K+me+"="+encodeURIComponent(xe))})}catch(ae){throw L.push(K+"type="+encodeURIComponent("_badmap")),ae}}function Kr(f){this.l=f.Ub||null,this.j=f.eb||!1}A(Kr,gs),Kr.prototype.g=function(){return new Ts(this.l,this.j)},Kr.prototype.i=function(f){return function(){return f}}({});function Ts(f,L){Ge.call(this),this.D=f,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ts,Ge),r=Ts.prototype,r.open=function(f,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=L,this.readyState=1,lr(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(L.body=f),(this.D||c).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function dl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var L=f.value?f.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!f.done}))&&(this.response=this.responseText+=L)}f.done?ur(this):lr(this),this.readyState==3&&dl(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,ur(this))},r.Qa=function(f){this.g&&(this.response=f,ur(this))},r.ga=function(){this.g&&ur(this)};function ur(f){f.readyState=4,f.l=null,f.j=null,f.v=null,lr(f)}r.setRequestHeader=function(f,L){this.u.append(f,L)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],L=this.h.entries();for(var M=L.next();!M.done;)M=M.value,f.push(M[0]+": "+M[1]),M=L.next();return f.join(`\r
`)};function lr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Jr(f){let L="";return q(f,function(M,K){L+=K,L+=":",L+=M,L+=`\r
`}),L}function Ii(f,L,M){e:{for(K in M){var K=!1;break e}K=!0}K||(M=Jr(M),typeof f=="string"?M!=null&&encodeURIComponent(String(M)):mt(f,L,M))}function At(f){Ge.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(At,Ge);var ef=/^https?$/i,Pa=["POST","PUT"];r=At.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,L,M,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);L=L?L.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ir.g(),this.v=this.o?no(this.o):no(ir),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(L,String(f),!0),this.B=!1}catch(me){Ss(this,me);return}if(f=M||"",M=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var ae in K)M.set(ae,K[ae]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const me of K.keys())M.set(me,K.get(me));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(M.keys()).find(me=>me.toLowerCase()=="content-type"),ae=c.FormData&&f instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Pa,L,void 0))||K||ae||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[me,xe]of M)this.g.setRequestHeader(me,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mo(this),this.u=!0,this.g.send(f),this.u=!1}catch(me){Ss(this,me)}};function Ss(f,L){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=L,f.m=5,po(f),Ln(f)}function po(f){f.A||(f.A=!0,Xe(f,"complete"),Xe(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Xe(this,"complete"),Xe(this,"abort"),Ln(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ln(this,!0)),At.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},r.bb=function(){Na(this)};function Na(f){if(f.h&&typeof u<"u"&&(!f.v[1]||bn(f)!=4||f.Z()!=2)){if(f.u&&bn(f)==4)er(f.Ea,0,f);else if(Xe(f,"readystatechange"),bn(f)==4){f.h=!1;try{const xe=f.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var M;if(!(M=L)){var K;if(K=xe===0){var ae=String(f.D).match(Cs)[1]||null;!ae&&c.self&&c.self.location&&(ae=c.self.location.protocol.slice(0,-1)),K=!ef.test(ae?ae.toLowerCase():"")}M=K}if(M)Xe(f,"complete"),Xe(f,"success");else{f.m=6;try{var me=2<bn(f)?f.g.statusText:""}catch{me=""}f.l=me+" ["+f.Z()+"]",po(f)}}finally{Ln(f)}}}}function Ln(f,L){if(f.g){mo(f);const M=f.g,K=f.v[0]?()=>{}:null;f.g=null,f.v=null,L||Xe(f,"ready");try{M.onreadystatechange=K}catch{}}}function mo(f){f.I&&(c.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function bn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var L=this.g.responseText;return f&&L.indexOf(f)==0&&(L=L.substring(f.length)),Ea(L)}};function Oa(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function go(f){const L={};f=(f.g&&2<=bn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<f.length;K++){if(S(f[K]))continue;var M=k(f[K]);const ae=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const me=L[ae]||[];L[ae]=me,me.push(M)}R(L,function(K){return K.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sr(f,L,M){return M&&M.internalChannelParams&&M.internalChannelParams[f]||L}function La(f){this.Aa=0,this.i=[],this.j=new vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sr("baseRetryDelayMs",5e3,f),this.cb=Sr("retryDelaySeedMs",1e4,f),this.Wa=Sr("forwardChannelMaxRetries",2,f),this.wa=Sr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new As(f&&f.concurrentRequestLimit),this.Da=new Zh,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=La.prototype,r.la=8,r.G=1,r.connect=function(f,L,M,K){Pt(0),this.W=f,this.H=L||{},M&&K!==void 0&&(this.H.OSID=M,this.H.OAID=K),this.F=this.X,this.I=yl(this,null,this.W),xr(this)};function Yt(f){if(yo(f),f.G==3){var L=f.U++,M=On(f.I);if(mt(M,"SID",f.K),mt(M,"RID",L),mt(M,"TYPE","terminate"),Qr(f,M),L=new sr(f,f.j,L),L.L=2,L.v=Si(On(M)),M=!1,c.navigator&&c.navigator.sendBeacon)try{M=c.navigator.sendBeacon(L.v.toString(),"")}catch{}!M&&c.Image&&(new Image().src=L.v,M=!0),M||(L.g=vl(L.j,null),L.g.ea(L.v)),L.F=Date.now(),gt(L)}gl(f)}function cr(f){f.g&&(Fa(f),f.g.cancel(),f.g=null)}function yo(f){cr(f),f.u&&(c.clearTimeout(f.u),f.u=null),wo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&c.clearTimeout(f.s),f.s=null)}function xr(f){if(!Nn(f.h)&&!f.s){f.s=!0;var L=f.Ga;Z||H(),re||(Z(),re=!0),G.add(L,f),f.B=0}}function tf(f,L){return il(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=L.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=nr(p(f.Ga,f,L),ml(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ae=new sr(this,this.j,f);let me=this.o;if(this.S&&(me?(me=_(me),I(me,this.S)):me=this.S),this.m!==null||this.O||(ae.H=me,me=null),this.P)e:{for(var L=0,M=0;M<this.i.length;M++){t:{var K=this.i[M];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(L+=K,4096<L){L=M;break e}if(L===4096||M===this.i.length-1){L=M+1;break e}}L=1e3}else L=1e3;L=ki(this,ae,L),M=On(this.I),mt(M,"RID",f),mt(M,"CVER",22),this.D&&mt(M,"X-HTTP-Session-Id",this.D),Qr(this,M),me&&(this.O?L="headers="+encodeURIComponent(String(Jr(me)))+"&"+L:this.m&&Ii(M,this.m,me)),ka(this.h,ae),this.Ua&&mt(M,"TYPE","init"),this.P?(mt(M,"$req",L),mt(M,"SID","null"),ae.T=!0,lo(ae,M,null)):lo(ae,M,L),this.G=2}}else this.G==3&&(f?vo(this,f):this.i.length==0||Nn(this.h)||vo(this))};function vo(f,L){var M;L?M=L.l:M=f.U++;const K=On(f.I);mt(K,"SID",f.K),mt(K,"RID",M),mt(K,"AID",f.T),Qr(f,K),f.m&&f.o&&Ii(K,f.m,f.o),M=new sr(f,f.j,M,f.B+1),f.m===null&&(M.H=f.o),L&&(f.i=L.D.concat(f.i)),L=ki(f,M,1e3),M.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ka(f.h,M),lo(M,K,L)}function Qr(f,L){f.H&&q(f.H,function(M,K){mt(L,K,M)}),f.l&&Ci({},function(M,K){mt(L,K,M)})}function ki(f,L,M){M=Math.min(f.i.length,M);var K=f.l?p(f.l.Na,f.l,f):null;e:{var ae=f.i;let me=-1;for(;;){const xe=["count="+M];me==-1?0<M?(me=ae[0].g,xe.push("ofs="+me)):me=0:xe.push("ofs="+me);let pt=!0;for(let qt=0;qt<M;qt++){let at=ae[qt].g;const $t=ae[qt].map;if(at-=me,0>at)me=Math.max(0,ae[qt].g-100),pt=!1;else try{fl($t,xe,"req"+at+"_")}catch{K&&K($t)}}if(pt){K=xe.join("&");break e}}}return f=f.i.splice(0,M),L.D=f,K}function xs(f){if(!f.g&&!f.u){f.Y=1;var L=f.Fa;Z||H(),re||(Z(),re=!0),G.add(L,f),f.v=0}}function _o(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=nr(p(f.Fa,f),ml(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,pl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=nr(p(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),cr(this),pl(this))};function Fa(f){f.A!=null&&(c.clearTimeout(f.A),f.A=null)}function pl(f){f.g=new sr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var L=On(f.qa);mt(L,"RID","rpc"),mt(L,"SID",f.K),mt(L,"AID",f.T),mt(L,"CI",f.F?"0":"1"),!f.F&&f.ja&&mt(L,"TO",f.ja),mt(L,"TYPE","xmlhttp"),Qr(f,L),f.m&&f.o&&Ii(L,f.m,f.o),f.L&&(f.g.I=f.L);var M=f.g;f=f.ia,M.L=1,M.v=Si(On(L)),M.m=null,M.P=!0,Da(M,f)}r.Za=function(){this.C!=null&&(this.C=null,cr(this),_o(this),Pt(19))};function wo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Eo(f,L){var M=null;if(f.g==L){wo(f),Fa(f),f.g=null;var K=2}else if(mn(f.h,L))M=L.D,sl(f.h,L),K=1;else return;if(f.G!=0){if(L.o)if(K==1){M=L.m?L.m.length:0,L=Date.now()-L.F;var ae=f.B;K=ys(),Xe(K,new so(K,M)),xr(f)}else xs(f);else if(ae=L.s,ae==3||ae==0&&0<L.X||!(K==1&&tf(f,L)||K==2&&_o(f)))switch(M&&0<M.length&&(L=f.h,L.i=L.i.concat(M)),ae){case 1:Yr(f,5);break;case 4:Yr(f,10);break;case 3:Yr(f,6);break;default:Yr(f,2)}}}function ml(f,L){let M=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(M*=2),M*L}function Yr(f,L){if(f.j.info("Error code "+L),L==2){var M=p(f.fb,f),K=f.Xa;const ae=!K;K=new Wr(K||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||bs(K,"https"),Si(K),ae?Xh(K.toString(),M):hl(K.toString(),M)}else Pt(2);f.G=0,f.l&&f.l.sa(L),gl(f),yo(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function gl(f){if(f.G=0,f.ka=[],f.l){const L=ol(f.h);(L.length!=0||f.i.length!=0)&&(E(f.ka,L),E(f.ka,f.i),f.h.i.length=0,b(f.i),f.i.length=0),f.l.ra()}}function yl(f,L,M){var K=M instanceof Wr?On(M):new Wr(M);if(K.g!="")L&&(K.g=L+"."+K.g),bi(K,K.s);else{var ae=c.location;K=ae.protocol,L=L?L+"."+ae.hostname:ae.hostname,ae=+ae.port;var me=new Wr(null);K&&bs(me,K),L&&(me.g=L),ae&&bi(me,ae),M&&(me.l=M),K=me}return M=f.D,L=f.ya,M&&L&&mt(K,M,L),mt(K,"VER",f.la),Qr(f,K),K}function vl(f,L,M){if(L&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=f.Ca&&!f.pa?new At(new Kr({eb:M})):new At(f.pa),L.Ha(f.J),L}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ba(){}r=Ba.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ao(){}Ao.prototype.g=function(f,L){return new gn(f,L)};function gn(f,L){Ge.call(this),this.g=new La(L),this.l=f,this.h=L&&L.messageUrlParams||null,f=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(f?f["X-WebChannel-Content-Type"]=L.messageContentType:f={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(f?f["X-WebChannel-Client-Profile"]=L.va:f={"X-WebChannel-Client-Profile":L.va}),this.g.S=f,(f=L&&L.Sb)&&!S(f)&&(this.g.m=f),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!S(L)&&(this.g.D=L,f=this.h,f!==null&&L in f&&(f=this.h,L in f&&delete f[L])),this.j=new Dr(this)}A(gn,Ge),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(f){var L=this.g;if(typeof f=="string"){var M={};M.__data__=f,f=M}else this.u&&(M={},M.__data__=wa(f),f=M);L.i.push(new rl(L.Ya++,f)),L.G==3&&xr(L)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)};function _l(f){Ar.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var L=f.__sm__;if(L){e:{for(const M in L){f=M;break e}f=void 0}(this.i=f)&&(f=this.i,L=L!==null&&f in L?L[f]:void 0),this.data=L}else this.data=f}A(_l,Ar);function wl(){io.call(this),this.status=1}A(wl,io);function Dr(f){this.g=f}A(Dr,Ba),Dr.prototype.ua=function(){Xe(this.g,"a")},Dr.prototype.ta=function(f){Xe(this.g,new _l(f))},Dr.prototype.sa=function(f){Xe(this.g,new wl)},Dr.prototype.ra=function(){Xe(this.g,"b")},Ao.prototype.createWebChannel=Ao.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Fw=function(){return new Ao},Lw=function(){return ys()},Ow=Cr,Dm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ao.NO_ERROR=0,ao.TIMEOUT=8,ao.HTTP_ERROR=6,Cc=ao,Zu.COMPLETE="complete",Nw=Zu,ro.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,du=ro,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,Pw=At}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const H2="@firebase/firestore",$2="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ln=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Zm("@firebase/firestore");function Ho(){return Gs.logLevel}function Ne(r,...e){if(Gs.logLevel<=it.DEBUG){const t=e.map(ng);Gs.debug(`Firestore (${la}): ${r}`,...t)}}function di(r,...e){if(Gs.logLevel<=it.ERROR){const t=e.map(ng);Gs.error(`Firestore (${la}): ${r}`,...t)}}function ea(r,...e){if(Gs.logLevel<=it.WARN){const t=e.map(ng);Gs.warn(`Firestore (${la}): ${r}`,...t)}}function ng(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,Bw(r,n,t)}function Bw(r,e,t){let n=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw di(n),new Error(n)}function dt(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||Bw(e,i,n)}function Qe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Ur{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}}class ZS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ex{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dt(this.o===void 0,42304);let n=this.i;const i=h=>this.i!==n?(n=this.i,t(h)):Promise.resolve();let a=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ui,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ui)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(dt(typeof n.accessToken=="string",31837,{l:n}),new jw(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class tx{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nx{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new tx(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rx{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dt(this.o===void 0,3512);const n=a=>{a.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,Ne("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const i=a=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new G2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new G2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=ix(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%62))}return n}}function tt(r,e){return r<e?-1:r>e?1:0}function Im(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),i=e.codePointAt(t);if(n!==i){if(n<128&&i<128)return tt(n,i);{const a=Mw(),u=sx(a.encode(W2(r,t)),a.encode(W2(e,t)));return u!==0?u:tt(n,i)}}t+=n>65535?2:1}return tt(r.length,e.length)}function W2(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function sx(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return tt(r[t],e[t]);return tt(r.length,e.length)}function ta(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=-62135596800,J2=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*J2);return new Lt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<K2)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J2}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-K2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new Lt(0,0))}static max(){return new Ye(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="__name__";class Nr{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ke(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ke(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=Nr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return tt(e.length,t.length)}static compareSegments(e,t){const n=Nr.isNumericId(e),i=Nr.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Nr.extractNumericId(e).compare(Nr.extractNumericId(t)):Im(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class Et extends Nr{construct(e,t,n){return new Et(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Oe(_e.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new Et(t)}static emptyPath(){return new Et([])}}const ox=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Nr{construct(e,t,n){return new tn(e,t,n)}static isValidIdentifier(e){return ox.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q2}static keyField(){return new tn([Q2])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(n.length===0)throw new Oe(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Oe(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Oe(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,i+=2}else c==="`"?(u=!u,i++):c!=="."||u?(n+=c,i++):(a(),i++)}if(a(),u)throw new Oe(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Et.fromString(e))}static fromName(e){return new Ue(Et.fromString(e).popFirst(5))}static empty(){return new Ue(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=-1;function ax(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(n===1e9?new Lt(t+1,0):new Lt(t,n));return new is(i,Ue.empty(),e)}function ux(r){return new is(r.readTime,r.key,xu)}class is{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new is(Ye.min(),Ue.empty(),xu)}static max(){return new is(Ye.max(),Ue.empty(),xu)}}function lx(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ue.comparator(r.documentKey,e.documentKey),t!==0?t:tt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(r){if(r.code!==_e.FAILED_PRECONDITION||r.message!==cx)throw r;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(t){return we.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):we.reject(t)}static resolve(e){return new we((t,n)=>{t(e)})}static reject(e){return new we((t,n)=>{n(e)})}static waitFor(e){return new we((t,n)=>{let i=0,a=0,u=!1;e.forEach(c=>{++i,c.next(()=>{++a,u&&a===i&&t()},h=>n(h))}),u=!0,a===i&&t()})}static or(e){let t=we.resolve(!1);for(const n of e)t=t.next(i=>i?we.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,a)=>{n.push(t.call(this,i,a))}),this.waitFor(n)}static mapArray(e,t){return new we((n,i)=>{const a=e.length,u=new Array(a);let c=0;for(let h=0;h<a;h++){const d=h;t(e[d]).next(y=>{u[d]=y,++c,c===a&&n(u)},y=>i(y))}})}static doWhile(e,t){return new we((n,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):n()};a()})}}function fx(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ha(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>t.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}fh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=-1;function dh(r){return r==null}function qc(r){return r===0&&1/r==-1/0}function dx(r){return typeof r=="number"&&Number.isInteger(r)&&!qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="";function px(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Y2(e)),e=mx(r.get(t),e);return Y2(e)}function mx(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const a=r.charAt(i);switch(a){case"\0":t+="";break;case Vw:t+="";break;default:t+=a}}return t}function Y2(r){return r+Vw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function fs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function gx(r,e){const t=[];for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(e(r[n],n,r));return t}function Uw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new Dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??en.RED,this.left=i??en.EMPTY,this.right=a??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new en(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return en.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ke(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ke(57766)}get value(){throw Ke(16141)}get color(){throw Ke(16727)}get left(){throw Ke(29726)}get right(){throw Ke(36894)}copy(e,t,n,i,a){return this}insert(e,t,n){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Z2(this.data.getIterator())}getIteratorFrom(e){return new Z2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class Z2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new zt(tn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new zw("Invalid base64 string: "+a):a}}(e);return new nn(t)}static fromUint8Array(e){const t=function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const yx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(dt(!!r,39018),typeof r=="string"){let e=0;const t=yx.exec(r);if(dt(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ot(r.seconds),nanos:Ot(r.nanos)}}function Ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function os(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="server_timestamp",$w="__type__",Gw="__previous_value__",Ww="__local_write_time__";function ig(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[$w])===null||t===void 0?void 0:t.stringValue)===Hw}function ph(r){const e=r.mapValue.fields[Gw];return ig(e)?ph(e):e}function Du(r){const e=ss(r.mapValue.fields[Ww].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t,n,i,a,u,c,h,d,y){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=y}}const Vc="(default)";class Iu{constructor(e,t){this.projectId=e,this.database=t||Vc}static empty(){return new Iu("","")}get isDefaultDatabase(){return this.database===Vc}isEqual(e){return e instanceof Iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="__type__",_x="__max__",gc={mapValue:{}},Jw="__vector__",Uc="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ig(r)?4:Ex(r)?9007199254740991:wx(r)?10:11:Ke(28295,{value:r})}function qr(r,e){if(r===e)return!0;const t=as(r);if(t!==as(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Du(r).isEqual(Du(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=ss(i.timestampValue),c=ss(a.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,a){return os(i.bytesValue).isEqual(os(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,a){return Ot(i.geoPointValue.latitude)===Ot(a.geoPointValue.latitude)&&Ot(i.geoPointValue.longitude)===Ot(a.geoPointValue.longitude)}(r,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ot(i.integerValue)===Ot(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=Ot(i.doubleValue),c=Ot(a.doubleValue);return u===c?qc(u)===qc(c):isNaN(u)&&isNaN(c)}return!1}(r,e);case 9:return ta(r.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return function(i,a){const u=i.mapValue.fields||{},c=a.mapValue.fields||{};if(X2(u)!==X2(c))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(c[h]===void 0||!qr(u[h],c[h])))return!1;return!0}(r,e);default:return Ke(52216,{left:r})}}function ku(r,e){return(r.values||[]).find(t=>qr(t,e))!==void 0}function na(r,e){if(r===e)return 0;const t=as(r),n=as(e);if(t!==n)return tt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return tt(r.booleanValue,e.booleanValue);case 2:return function(a,u){const c=Ot(a.integerValue||a.doubleValue),h=Ot(u.integerValue||u.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(r,e);case 3:return e0(r.timestampValue,e.timestampValue);case 4:return e0(Du(r),Du(e));case 5:return Im(r.stringValue,e.stringValue);case 6:return function(a,u){const c=os(a),h=os(u);return c.compareTo(h)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const c=a.split("/"),h=u.split("/");for(let d=0;d<c.length&&d<h.length;d++){const y=tt(c[d],h[d]);if(y!==0)return y}return tt(c.length,h.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const c=tt(Ot(a.latitude),Ot(u.latitude));return c!==0?c:tt(Ot(a.longitude),Ot(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return t0(r.arrayValue,e.arrayValue);case 10:return function(a,u){var c,h,d,y;const g=a.fields||{},p=u.fields||{},v=(c=g[Uc])===null||c===void 0?void 0:c.arrayValue,A=(h=p[Uc])===null||h===void 0?void 0:h.arrayValue,b=tt(((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return b!==0?b:t0(v,A)}(r.mapValue,e.mapValue);case 11:return function(a,u){if(a===gc.mapValue&&u===gc.mapValue)return 0;if(a===gc.mapValue)return 1;if(u===gc.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),d=u.fields||{},y=Object.keys(d);h.sort(),y.sort();for(let g=0;g<h.length&&g<y.length;++g){const p=Im(h[g],y[g]);if(p!==0)return p;const v=na(c[h[g]],d[y[g]]);if(v!==0)return v}return tt(h.length,y.length)}(r.mapValue,e.mapValue);default:throw Ke(23264,{Pe:t})}}function e0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return tt(r,e);const t=ss(r),n=ss(e),i=tt(t.seconds,n.seconds);return i!==0?i:tt(t.nanos,n.nanos)}function t0(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const a=na(t[i],n[i]);if(a)return a}return tt(t.length,n.length)}function ra(r){return km(r)}function km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=ss(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return os(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ue.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const a of t.values||[])i?i=!1:n+=",",n+=km(a);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const u of n)a?a=!1:i+=",",i+=`${u}:${km(t.fields[u])}`;return i+"}"}(r.mapValue):Ke(61005,{value:r})}function bc(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(r);return e?16+bc(e):16;case 5:return 2*r.stringValue.length;case 6:return os(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+bc(a),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return fs(n.fields,(a,u)=>{i+=a.length+bc(u)}),i}(r.mapValue);default:throw Ke(13486,{value:r})}}function n0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Rm(r){return!!r&&"integerValue"in r}function sg(r){return!!r&&"arrayValue"in r}function r0(r){return!!r&&"nullValue"in r}function i0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Tc(r){return!!r&&"mapValue"in r}function wx(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kw])===null||t===void 0?void 0:t.stringValue)===Jw}function wu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return fs(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=wu(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Ex(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===_x}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Tc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wu(t)}setAll(e){let t=tn.emptyPath(),n={},i=[];e.forEach((u,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,n,i),n={},i=[],t=c.popLast()}u?n[c.lastSegment()]=wu(u):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());Tc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Tc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){fs(t,(i,a)=>e[i]=a);for(const i of n)delete e[i]}clone(){return new Pn(wu(this.value))}}function Qw(r){const e=[];return fs(r.fields,(t,n)=>{const i=new tn([t]);if(Tc(n)){const a=Qw(n.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,n,i,a,u,c){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=a,this.data=u,this.documentState=c}static newInvalidDocument(e){return new cn(e,0,Ye.min(),Ye.min(),Ye.min(),Pn.empty(),0)}static newFoundDocument(e,t,n,i){return new cn(e,1,t,Ye.min(),n,i,0)}static newNoDocument(e,t){return new cn(e,2,t,Ye.min(),Ye.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Ye.min(),Ye.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){this.position=e,this.inclusive=t}}function s0(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const a=e[i],u=r.position[i];if(a.field.isKeyField()?n=Ue.comparator(Ue.fromName(u.referenceValue),t.key):n=na(u,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function o0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!qr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ax(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{}class Mt extends Yw{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new bx(e,t,n):t==="array-contains"?new xx(e,n):t==="in"?new Dx(e,n):t==="not-in"?new Ix(e,n):t==="array-contains-any"?new kx(e,n):new Mt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new Tx(e,n):new Sx(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(na(t,this.value)):t!==null&&as(this.value)===as(t)&&this.matchesComparison(na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wr extends Yw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new wr(e,t)}matches(e){return Xw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Xw(r){return r.op==="and"}function Zw(r){return Cx(r)&&Xw(r)}function Cx(r){for(const e of r.filters)if(e instanceof wr)return!1;return!0}function Pm(r){if(r instanceof Mt)return r.field.canonicalString()+r.op.toString()+ra(r.value);if(Zw(r))return r.filters.map(e=>Pm(e)).join(",");{const e=r.filters.map(t=>Pm(t)).join(",");return`${r.op}(${e})`}}function eE(r,e){return r instanceof Mt?function(n,i){return i instanceof Mt&&n.op===i.op&&n.field.isEqual(i.field)&&qr(n.value,i.value)}(r,e):r instanceof wr?function(n,i){return i instanceof wr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,u,c)=>a&&eE(u,i.filters[c]),!0):!1}(r,e):void Ke(19439)}function tE(r){return r instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${ra(t.value)}`}(r):r instanceof wr?function(t){return t.op.toString()+" {"+t.getFilters().map(tE).join(" ,")+"}"}(r):"Filter"}class bx extends Mt{constructor(e,t,n){super(e,t,n),this.key=Ue.fromName(n.referenceValue)}matches(e){const t=Ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class Tx extends Mt{constructor(e,t){super(e,"in",t),this.keys=nE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Sx extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=nE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nE(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Ue.fromName(n.referenceValue))}class xx extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sg(t)&&ku(t.arrayValue,this.value)}}class Dx extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ku(this.value.arrayValue,t)}}class Ix extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ku(this.value.arrayValue,t)}}class kx extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>ku(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t=null,n=[],i=[],a=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=u,this.endAt=c,this.Ie=null}}function a0(r,e=null,t=[],n=[],i=null,a=null,u=null){return new Rx(r,e,t,n,i,a,u)}function og(r){const e=Qe(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Pm(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),dh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>ra(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>ra(n)).join(",")),e.Ie=t}return e.Ie}function ag(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Ax(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!eE(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!o0(r.startAt,e.startAt)&&o0(r.endAt,e.endAt)}function Nm(r){return Ue.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t=null,n=[],i=[],a=null,u="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=u,this.startAt=c,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Px(r,e,t,n,i,a,u,c){return new fa(r,e,t,n,i,a,u,c)}function ug(r){return new fa(r)}function u0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rE(r){return r.collectionGroup!==null}function Eu(r){const e=Qe(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new zt(tn.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Ru(a,n))}),t.has(tn.keyField().canonicalString())||e.Ee.push(new Ru(tn.keyField(),n))}return e.Ee}function Fr(r){const e=Qe(r);return e.de||(e.de=iE(e,Eu(r))),e.de}function Nx(r){const e=Qe(r);return e.Ae||(e.Ae=iE(e,r.explicitOrderBy)),e.Ae}function iE(r,e){if(r.limitType==="F")return a0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Ru(i.field,a)});const t=r.endAt?new zc(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new zc(r.startAt.position,r.startAt.inclusive):null;return a0(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Om(r,e){const t=r.filters.concat([e]);return new fa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Hc(r,e,t){return new fa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function mh(r,e){return ag(Fr(r),Fr(e))&&r.limitType===e.limitType}function sE(r){return`${og(Fr(r))}|lt:${r.limitType}`}function $o(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>tE(i)).join(", ")}]`),dh(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>ra(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>ra(i)).join(",")),`Target(${n})`}(Fr(r))}; limitType=${r.limitType})`}function gh(r,e){return e.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ue.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(r,e)&&function(n,i){for(const a of Eu(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(u,c,h){const d=s0(u,c,h);return u.inclusive?d<=0:d<0}(n.startAt,Eu(n),i)||n.endAt&&!function(u,c,h){const d=s0(u,c,h);return u.inclusive?d>=0:d>0}(n.endAt,Eu(n),i))}(r,e)}function Ox(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function oE(r){return(e,t)=>{let n=!1;for(const i of Eu(r)){const a=Lx(i,e,t);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function Lx(r,e,t){const n=r.field.isKeyField()?Ue.comparator(e.key,t.key):function(a,u,c){const h=u.data.field(a),d=c.data.field(a);return h!==null&&d!==null?na(h,d):Ke(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ke(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(t,n)=>{for(const[i,a]of n)e(i,a)})}isEmpty(){return Uw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Dt(Ue.comparator);function pi(){return Fx}const aE=new Dt(Ue.comparator);function pu(...r){let e=aE;for(const t of r)e=e.insert(t.key,t);return e}function uE(r){let e=aE;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Us(){return Au()}function lE(){return Au()}function Au(){return new Xs(r=>r.toString(),(r,e)=>r.isEqual(e))}const Bx=new Dt(Ue.comparator),jx=new zt(Ue.comparator);function st(...r){let e=jx;for(const t of r)e=e.add(t);return e}const Mx=new zt(tt);function qx(){return Mx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function cE(r){return{integerValue:""+r}}function Vx(r,e){return dx(e)?cE(e):lg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this._=void 0}}function Ux(r,e,t){return r instanceof Pu?function(i,a){const u={fields:{[$w]:{stringValue:Hw},[Ww]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ig(a)&&(a=ph(a)),a&&(u.fields[Gw]=a),{mapValue:u}}(t,e):r instanceof Nu?fE(r,e):r instanceof Ou?dE(r,e):function(i,a){const u=hE(i,a),c=l0(u)+l0(i.Re);return Rm(u)&&Rm(i.Re)?cE(c):lg(i.serializer,c)}(r,e)}function zx(r,e,t){return r instanceof Nu?fE(r,e):r instanceof Ou?dE(r,e):t}function hE(r,e){return r instanceof $c?function(n){return Rm(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class Pu extends yh{}class Nu extends yh{constructor(e){super(),this.elements=e}}function fE(r,e){const t=pE(e);for(const n of r.elements)t.some(i=>qr(i,n))||t.push(n);return{arrayValue:{values:t}}}class Ou extends yh{constructor(e){super(),this.elements=e}}function dE(r,e){let t=pE(e);for(const n of r.elements)t=t.filter(i=>!qr(i,n));return{arrayValue:{values:t}}}class $c extends yh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function l0(r){return Ot(r.integerValue||r.doubleValue)}function pE(r){return sg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,t){this.field=e,this.transform=t}}function $x(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof Nu&&i instanceof Nu||n instanceof Ou&&i instanceof Ou?ta(n.elements,i.elements,qr):n instanceof $c&&i instanceof $c?qr(n.Re,i.Re):n instanceof Pu&&i instanceof Pu}(r.transform,e.transform)}class Gx{constructor(e,t){this.version=e,this.transformResults=t}}class _r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _r}static exists(e){return new _r(void 0,e)}static updateTime(e){return new _r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class vh{}function mE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new cg(r.key,_r.none()):new Vu(r.key,r.data,_r.none());{const t=r.data,n=Pn.empty();let i=new zt(tn.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?n.delete(a):n.set(a,u),i=i.add(a)}return new ds(r.key,n,new Vn(i.toArray()),_r.none())}}function Wx(r,e,t){r instanceof Vu?function(i,a,u){const c=i.value.clone(),h=h0(i.fieldTransforms,a,u.transformResults);c.setAll(h),a.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(r,e,t):r instanceof ds?function(i,a,u){if(!Sc(i.precondition,a))return void a.convertToUnknownDocument(u.version);const c=h0(i.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(gE(i)),h.setAll(c),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(r,e,t):function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Cu(r,e,t,n){return r instanceof Vu?function(a,u,c,h){if(!Sc(a.precondition,u))return c;const d=a.value.clone(),y=f0(a.fieldTransforms,h,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null}(r,e,t,n):r instanceof ds?function(a,u,c,h){if(!Sc(a.precondition,u))return c;const d=f0(a.fieldTransforms,h,u),y=u.data;return y.setAll(gE(a)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(r,e,t,n):function(a,u,c){return Sc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(r,e,t)}function Kx(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),a=hE(n.transform,i||null);a!=null&&(t===null&&(t=Pn.empty()),t.set(n.field,a))}return t||null}function c0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ta(n,i,(a,u)=>$x(a,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Vu extends vh{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ds extends vh{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function gE(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function h0(r,e,t){const n=new Map;dt(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let i=0;i<t.length;i++){const a=r[i],u=a.transform,c=e.data.field(a.field);n.set(a.field,zx(u,c,t[i]))}return n}function f0(r,e,t){const n=new Map;for(const i of r){const a=i.transform,u=t.data.field(i.field);n.set(i.field,Ux(a,u,e))}return n}class cg extends vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jx extends vh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Wx(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Cu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Cu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=lE();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let c=this.applyToLocalView(u,a.mutatedFields);c=t.has(i.key)?null:c;const h=mE(u,c);h!==null&&n.set(i.key,h),u.isValidDocument()||u.convertToNoDocument(Ye.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),st())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(t,n)=>c0(t,n))&&ta(this.baseMutations,e.baseMutations,(t,n)=>c0(t,n))}}class hg{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){dt(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let i=function(){return Bx}();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,n[u].version);return new hg(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,ut;function eD(r){switch(r){case _e.OK:return Ke(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return Ke(15467,{code:r})}}function yE(r){if(r===void 0)return di("GRPC error has no .code"),_e.UNKNOWN;switch(r){case jt.OK:return _e.OK;case jt.CANCELLED:return _e.CANCELLED;case jt.UNKNOWN:return _e.UNKNOWN;case jt.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case jt.INTERNAL:return _e.INTERNAL;case jt.UNAVAILABLE:return _e.UNAVAILABLE;case jt.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case jt.NOT_FOUND:return _e.NOT_FOUND;case jt.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case jt.ABORTED:return _e.ABORTED;case jt.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case jt.DATA_LOSS:return _e.DATA_LOSS;default:return Ke(39323,{code:r})}}(ut=jt||(jt={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new ts([4294967295,4294967295],0);function d0(r){const e=Mw().encode(r),t=new Rw;return t.update(e),new Uint8Array(t.digest())}function p0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ts([t,n],0),new ts([i,a],0)]}class fg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new mu(`Invalid padding: ${t}`);if(n<0)throw new mu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new mu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new mu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ts.fromNumber(this.pe)}we(e,t,n){let i=e.add(t.multiply(ts.fromNumber(n)));return i.compare(tD)===1&&(i=new ts([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=d0(e),[n,i]=p0(t);for(let a=0;a<this.hashCount;a++){const u=this.we(n,i,a);if(!this.be(u))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new fg(a,i,t);return n.forEach(c=>u.insert(c)),u}insert(e){if(this.pe===0)return;const t=d0(e),[n,i]=p0(t);for(let a=0;a<this.hashCount;a++){const u=this.we(n,i,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new _h(Ye.min(),i,new Dt(tt),pi(),st())}}class Uu{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Uu(n,t,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t,n,i){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=i}}class vE{constructor(e,t){this.targetId=e,this.Ce=t}}class _E{constructor(e,t,n=nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class m0{constructor(){this.Fe=0,this.Me=g0(),this.xe=nn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=st(),t=st(),n=st();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ke(38017,{changeType:a})}}),new Uu(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=g0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class nD{constructor(e){this.ze=e,this.je=new Map,this.He=pi(),this.Je=yc(),this.Ye=yc(),this.Ze=new Dt(tt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:Ke(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((n,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,n=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(Nm(a))if(n===0){const u=new Ue(a.path);this.tt(t,u,cn.newNoDocument(u,Ye.min()))}else dt(n===1,20013,{expectedCount:n});else{const u=this.ut(t);if(u!==n){const c=this.ct(e),h=c?this.lt(c,e,u):1;if(h!==0){this.st(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=t;let u,c;try{u=os(n).toUint8Array()}catch(h){if(h instanceof zw)return ea("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new fg(u,i,a)}catch(h){return ea(h instanceof mu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.pe===0?null:c}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let i=0;return n.forEach(a=>{const u=this.ze.Pt(),c=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,u)=>{const c=this._t(u);if(c){if(a.current&&Nm(c.target)){const h=new Ue(c.target.path);this.Et(h).has(u)||this.dt(u,h)||this.tt(u,h,cn.newNoDocument(h,e))}a.Le&&(t.set(u,a.qe()),a.Qe())}});let n=st();this.Ye.forEach((a,u)=>{let c=!0;u.forEachWhile(h=>{const d=this._t(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const i=new _h(e,t,this.Ze,this.He,n);return this.He=pi(),this.Je=yc(),this.Ye=yc(),this.Ze=new Dt(tt),i}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new m0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new zt(tt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new zt(tt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new m0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function yc(){return new Dt(Ue.comparator)}function g0(){return new Dt(Ue.comparator)}const rD={asc:"ASCENDING",desc:"DESCENDING"},iD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sD={and:"AND",or:"OR"};class oD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lm(r,e){return r.useProto3Json||dh(e)?e:{value:e}}function Gc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function aD(r,e){return Gc(r,e.toTimestamp())}function Br(r){return dt(!!r,49232),Ye.fromTimestamp(function(t){const n=ss(t);return new Lt(n.seconds,n.nanos)}(r))}function dg(r,e){return Fm(r,e).canonicalString()}function Fm(r,e){const t=function(i){return new Et(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function EE(r){const e=Et.fromString(r);return dt(xE(e),10190,{key:e.toString()}),e}function Bm(r,e){return dg(r.databaseId,e.path)}function Pd(r,e){const t=EE(e);if(t.get(1)!==r.databaseId.projectId)throw new Oe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Oe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ue(CE(t))}function AE(r,e){return dg(r.databaseId,e)}function uD(r){const e=EE(r);return e.length===4?Et.emptyPath():CE(e)}function jm(r){return new Et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function CE(r){return dt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function y0(r,e,t){return{name:Bm(r,e),fields:t.value.mapValue.fields}}function lD(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ke(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(d,y){return d.useProto3Json?(dt(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(dt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(d){const y=d.code===void 0?_e.UNKNOWN:yE(d.code);return new Oe(y,d.message||"")}(u);t=new _E(n,i,a,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Pd(r,n.document.name),a=Br(n.document.updateTime),u=n.document.createTime?Br(n.document.createTime):Ye.min(),c=new Pn({mapValue:{fields:n.document.fields}}),h=cn.newFoundDocument(i,a,u,c),d=n.targetIds||[],y=n.removedTargetIds||[];t=new xc(d,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Pd(r,n.document),a=n.readTime?Br(n.readTime):Ye.min(),u=cn.newNoDocument(i,a),c=n.removedTargetIds||[];t=new xc([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Pd(r,n.document),a=n.removedTargetIds||[];t=new xc([],a,i,null)}else{if(!("filter"in e))return Ke(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,u=new Zx(i,a),c=n.targetId;t=new vE(c,u)}}return t}function cD(r,e){let t;if(e instanceof Vu)t={update:y0(r,e.key,e.value)};else if(e instanceof cg)t={delete:Bm(r,e.key)};else if(e instanceof ds)t={update:y0(r,e.key,e.data),updateMask:_D(e.fieldMask)};else{if(!(e instanceof Jx))return Ke(16599,{ft:e.type});t={verify:Bm(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(a,u){const c=u.transform;if(c instanceof Pu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Nu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ou)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof $c)return{fieldPath:u.field.canonicalString(),increment:c.Re};throw Ke(20930,{transform:u.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:aD(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ke(27497)}(r,e.precondition)),t}function hD(r,e){return r&&r.length>0?(dt(e!==void 0,14353),r.map(t=>function(i,a){let u=i.updateTime?Br(i.updateTime):Br(a);return u.isEqual(Ye.min())&&(u=Br(a)),new Gx(u,i.transformResults||[])}(t,e))):[]}function fD(r,e){return{documents:[AE(r,e.path)]}}function bE(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=AE(r,i);const a=function(d){if(d.length!==0)return SE(wr.create(d,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(d){if(d.length!==0)return d.map(y=>function(p){return{field:Gi(p.field),direction:gD(p.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=Lm(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:t,parent:i}}function dD(r,e,t,n){const{gt:i,parent:a}=bE(r,e),u={},c=[];let h=0;return t.forEach(d=>{const y="aggregate_"+h++;u[y]=d.alias,d.aggregateType==="count"?c.push({alias:y,count:{}}):d.aggregateType==="avg"?c.push({alias:y,avg:{field:Gi(d.fieldPath)}}):d.aggregateType==="sum"&&c.push({alias:y,sum:{field:Gi(d.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:c,structuredQuery:i.structuredQuery},parent:i.parent},yt:u,parent:a}}function pD(r){let e=uD(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){dt(n===1,65062);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(g){const p=TE(g);return p instanceof wr&&Zw(p)?p.getFilters():[p]}(t.where));let u=[];t.orderBy&&(u=function(g){return g.map(p=>function(A){return new Ru(Go(A.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(p))}(t.orderBy));let c=null;t.limit&&(c=function(g){let p;return p=typeof g=="object"?g.value:g,dh(p)?null:p}(t.limit));let h=null;t.startAt&&(h=function(g){const p=!!g.before,v=g.values||[];return new zc(v,p)}(t.startAt));let d=null;return t.endAt&&(d=function(g){const p=!g.before,v=g.values||[];return new zc(v,p)}(t.endAt)),Px(e,i,u,a,c,"F",h,d)}function mD(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ke(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function TE(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Go(t.unaryFilter.field);return Mt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Go(t.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Go(t.unaryFilter.field);return Mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Go(t.unaryFilter.field);return Mt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ke(61313);default:return Ke(60726)}}(r):r.fieldFilter!==void 0?function(t){return Mt.create(Go(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ke(58110);default:return Ke(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return wr.create(t.compositeFilter.filters.map(n=>TE(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ke(1026)}}(t.compositeFilter.op))}(r):Ke(30097,{filter:r})}function gD(r){return rD[r]}function yD(r){return iD[r]}function vD(r){return sD[r]}function Gi(r){return{fieldPath:r.canonicalString()}}function Go(r){return tn.fromServerFormat(r.fieldPath)}function SE(r){return r instanceof Mt?function(t){if(t.op==="=="){if(i0(t.value))return{unaryFilter:{field:Gi(t.field),op:"IS_NAN"}};if(r0(t.value))return{unaryFilter:{field:Gi(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(i0(t.value))return{unaryFilter:{field:Gi(t.field),op:"IS_NOT_NAN"}};if(r0(t.value))return{unaryFilter:{field:Gi(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gi(t.field),op:yD(t.op),value:t.value}}}(r):r instanceof wr?function(t){const n=t.getFilters().map(i=>SE(i));return n.length===1?n[0]:{compositeFilter:{op:vD(t.op),filters:n}}}(r):Ke(54877,{filter:r})}function _D(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,t,n,i,a=Ye.min(),u=Ye.min(),c=nn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.wt=e}}function ED(r){const e=pD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.yn=new CD}addToCollectionParentIndex(e,t){return this.yn.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return we.resolve()}deleteFieldIndex(e,t){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,t){return we.resolve()}getDocumentsMatchingTarget(e,t){return we.resolve(null)}getIndexType(e,t){return we.resolve(0)}getFieldIndexes(e,t){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,t){return we.resolve(is.min())}getMinOffsetFromCollectionGroup(e,t){return we.resolve(is.min())}updateCollectionGroup(e,t,n){return we.resolve()}updateIndexEntries(e,t){return we.resolve()}}class CD{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new zt(Et.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new zt(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DE=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(DE,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ia(0)}static ir(){return new ia(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="LruGarbageCollector",bD=1048576;function w0([r,e],[t,n]){const i=tt(r,t);return i===0?tt(e,n):i}class TD{constructor(e){this.cr=e,this.buffer=new zt(w0),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();w0(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class SD{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ne(_0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ha(t)?Ne(_0,"Ignoring IndexedDB error during garbage collection: ",t):await ca(t)}await this.Ir(3e5)})}}class xD{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return we.resolve(fh.le);const n=new TD(t);return this.Er.forEachTarget(e,i=>n.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>n.Pr(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(v0)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),v0):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,i,a,u,c,h,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,u=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(n=g,c=Date.now(),this.removeTargets(e,n,t))).next(g=>(a=g,h=Date.now(),this.removeOrphanedDocuments(e,n))).next(g=>(d=Date.now(),Ho()<=it.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${i} in `+(c-u)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${g} documents in `+(d-h)+`ms
Total Duration: ${d-y}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:g})))}}function DD(r,e){return new xD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.changes=new Xs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?we.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&Cu(n.mutation,i,Vn.empty(),Lt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,st()).next(()=>n))}getLocalViewOfDocuments(e,t,n=st()){const i=Us();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(a=>{let u=pu();return a.forEach((c,h)=>{u=u.insert(c,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const n=Us();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,st()))}populateOverlays(e,t,n){const i=[];return n.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,c)=>{t.set(u,c)})})}computeViews(e,t,n,i){let a=pi();const u=Au(),c=function(){return Au()}();return t.forEach((h,d)=>{const y=n.get(d.key);i.has(d.key)&&(y===void 0||y.mutation instanceof ds)?a=a.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),Cu(y.mutation,d,y.mutation.getFieldMask(),Lt.now())):u.set(d.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((d,y)=>u.set(d,y)),t.forEach((d,y)=>{var g;return c.set(d,new kD(y,(g=u.get(d))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){const n=Au();let i=new Dt((u,c)=>u-c),a=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const c of u)c.keys().forEach(h=>{const d=t.get(h);if(d===null)return;let y=n.get(h)||Vn.empty();y=c.applyToLocalView(d,y),n.set(h,y);const g=(i.get(c.batchId)||st()).add(h);i=i.insert(c.batchId,g)})}).next(()=>{const u=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,y=h.value,g=lE();y.forEach(p=>{if(!a.has(p)){const v=mE(t.get(p),n.get(p));v!==null&&g.set(p,v),a=a.add(p)}}),u.push(this.documentOverlayCache.saveOverlays(e,d,g))}return we.waitFor(u)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(u){return Ue.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):we.resolve(Us());let c=xu,h=a;return u.next(d=>we.forEach(d,(y,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(y)?we.resolve():this.remoteDocumentCache.getEntry(e,y).next(p=>{h=h.insert(y,p)}))).next(()=>this.populateOverlays(e,d,a)).next(()=>this.computeViews(e,h,d,st())).next(y=>({batchId:c,changes:uE(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ue(t)).next(n=>{let i=pu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const a=t.collectionGroup;let u=pu();return this.indexManager.getCollectionParents(e,a).next(c=>we.forEach(c,h=>{const d=function(g,p){return new fa(p,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next(y=>{y.forEach((g,p)=>{u=u.insert(g,p)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,i))).next(u=>{a.forEach((h,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,cn.newInvalidDocument(y)))});let c=pu();return u.forEach((h,d)=>{const y=a.get(h);y!==void 0&&Cu(y.mutation,d,Vn.empty(),Lt.now()),gh(t,d)&&(c=c.insert(h,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return we.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Br(i.createTime)}}(t)),we.resolve()}getNamedQuery(e,t){return we.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:ED(i.bundledQuery),readTime:Br(i.readTime)}}(t)),we.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.overlays=new Dt(Ue.comparator),this.Or=new Map}getOverlay(e,t){return we.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Us();return we.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,a)=>{this.St(e,t,a)}),we.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Or.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(n)),we.resolve()}getOverlaysForCollection(e,t,n){const i=Us(),a=t.length+1,u=new Ue(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===a&&h.largestBatchId>n&&i.set(h.getKey(),h)}return we.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new Dt((d,y)=>d-y);const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>n){let y=a.get(d.largestBatchId);y===null&&(y=Us(),a=a.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const c=Us(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((d,y)=>c.set(d,y)),!(c.size()>=i)););return we.resolve(c)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const u=this.Or.get(i.largestBatchId).delete(n.key);this.Or.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new Yx(t,n));let a=this.Or.get(t);a===void 0&&(a=st(),this.Or.set(t,a)),this.Or.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,we.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.Nr=new zt(Jt.Br),this.Lr=new zt(Jt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new Jt(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Qr(new Jt(e,t))}$r(e,t){e.forEach(n=>this.removeReference(n,t))}Ur(e){const t=new Ue(new Et([])),n=new Jt(t,e),i=new Jt(t,e+1),a=[];return this.Lr.forEachInRange([n,i],u=>{this.Qr(u),a.push(u.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ue(new Et([])),n=new Jt(t,e),i=new Jt(t,e+1);let a=st();return this.Lr.forEachInRange([n,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Jt(e,0),n=this.Nr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Jt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ue.comparator(e.key,t.key)||tt(e.Gr,t.Gr)}static kr(e,t){return tt(e.Gr,t.Gr)||Ue.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new zt(Jt.Br)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Qx(a,t,n,i);this.mutationQueue.push(u);for(const c of i)this.zr=this.zr.add(new Jt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return we.resolve(u)}lookupMutationBatch(e,t){return we.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Hr(n),a=i<0?0:i;return we.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?rg:this.Jn-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Jt(t,0),i=new Jt(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([n,i],u=>{const c=this.jr(u.Gr);a.push(c)}),we.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new zt(tt);return t.forEach(i=>{const a=new Jt(i,0),u=new Jt(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,u],c=>{n=n.add(c.Gr)})}),we.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;Ue.isDocumentKey(a)||(a=a.child(""));const u=new Jt(new Ue(a),0);let c=new zt(tt);return this.zr.forEachWhile(h=>{const d=h.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(c=c.add(h.Gr)),!0)},u),we.resolve(this.Jr(c))}Jr(e){const t=[];return e.forEach(n=>{const i=this.jr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){dt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return we.forEach(t.mutations,i=>{const a=new Jt(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=n})}Xn(e){}containsKey(e,t){const n=new Jt(t,0),i=this.zr.firstAfterOrEqual(n);return we.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.Zr=e,this.docs=function(){return new Dt(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,u=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return we.resolve(n?n.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let n=pi();return t.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():cn.newInvalidDocument(i))}),we.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let a=pi();const u=t.path,c=new Ue(u.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:y}}=h.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||lx(ux(y),n)<=0||(i.has(y.key)||gh(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return we.resolve(a)}getAllFromCollectionGroup(e,t,n,i){Ke(9500)}Xr(e,t){return we.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new BD(this)}getSize(e){return we.resolve(this.size)}}class BD extends ID{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(n)}),we.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.persistence=e,this.ei=new Xs(t=>og(t),ag),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.ti=0,this.ni=new pg,this.targetCount=0,this.ri=ia.rr()}forEachTarget(e,t){return this.ei.forEach((n,i)=>t(i)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),we.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new ia(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.ar(t),we.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.ei.forEach((u,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.ei.delete(u),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),we.waitFor(a).next(()=>i)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return we.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),we.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),we.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),we.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return we.resolve(n)}containsKey(e,t){return we.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,t){this.ii={},this.overlays={},this.si=new fh(0),this.oi=!1,this.oi=!0,this._i=new OD,this.referenceDelegate=e(this),this.ai=new jD(this),this.indexManager=new AD,this.remoteDocumentCache=function(i){return new FD(i)}(n=>this.referenceDelegate.ui(n)),this.serializer=new wD(t),this.ci=new PD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ND,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new LD(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){Ne("MemoryPersistence","Starting transaction:",e);const i=new MD(this.si.next());return this.referenceDelegate.li(),n(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,t){return we.or(Object.values(this.ii).map(n=>()=>n.containsKey(e,t)))}}class MD extends hx{constructor(e){super(),this.currentSequenceNumber=e}}class mg{constructor(e){this.persistence=e,this.Ti=new pg,this.Ii=null}static Ei(e){return new mg(e)}get di(){if(this.Ii)return this.Ii;throw Ke(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),we.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),we.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>n.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.di,n=>{const i=Ue.fromPath(n);return this.Ai(e,i).next(a=>{a||t.removeEntry(i,Ye.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(n=>{n?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return we.or([()=>we.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Wc{constructor(e,t){this.persistence=e,this.Ri=new Xs(n=>px(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=DD(this,t)}static Ei(e,t){return new Wc(e,t)}li(){}hi(e){return we.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}Vr(e){let t=0;return this.Ar(e,n=>{t++}).next(()=>t)}Ar(e,t){return we.forEach(this.Ri,(n,i)=>this.gr(e,n,i).next(a=>a?we.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,u=>this.gr(e,u,t).next(c=>{c||(n++,a.removeEntry(u,Ye.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),we.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),we.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),we.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bc(e.data.value)),t}gr(e,t,n){return we.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.Ri.get(t);return we.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=i}static Ps(e,t){let n=st(),i=st();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new gg(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return PT()?8:fx(fn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,i){const a={result:null};return this.Rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Vs(e,t,i,n).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new qD;return this.fs(e,t,u).next(c=>{if(a.result=c,this.Is)return this.gs(e,t,u,c.size)})}).next(()=>a.result)}gs(e,t,n,i){return n.documentReadCount<this.Es?(Ho()<=it.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),we.resolve()):(Ho()<=it.DEBUG&&Ne("QueryEngine","Query:",$o(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(Ho()<=it.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):we.resolve())}Rs(e,t){if(u0(t))return we.resolve(null);let n=Fr(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Hc(t,null,"F"),n=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const u=st(...a);return this.As.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,n).next(h=>{const d=this.ps(t,c);return this.ys(t,d,u,h.readTime)?this.Rs(e,Hc(t,null,"F")):this.ws(e,d,t,h)}))})))}Vs(e,t,n,i){return u0(t)||i.isEqual(Ye.min())?we.resolve(null):this.As.getDocuments(e,n).next(a=>{const u=this.ps(t,a);return this.ys(t,u,n,i)?we.resolve(null):(Ho()<=it.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$o(t)),this.ws(e,u,t,ax(i,xu)).next(c=>c))})}ps(e,t){let n=new zt(oE(e));return t.forEach((i,a)=>{gh(e,a)&&(n=n.add(a))}),n}ys(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,t,n){return Ho()<=it.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",$o(t)),this.As.getDocumentsMatchingQuery(e,t,is.min(),n)}ws(e,t,n,i){return this.As.getDocumentsMatchingQuery(e,n,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="LocalStore",UD=3e8;class zD{constructor(e,t,n,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new Dt(tt),this.Ds=new Xs(a=>og(a),ag),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function HD(r,e,t,n){return new zD(r,e,t,n)}async function kE(r,e){const t=Qe(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(n))).next(a=>{const u=[],c=[];let h=st();for(const d of i){u.push(d.batchId);for(const y of d.mutations)h=h.add(y.key)}for(const d of a){c.push(d.batchId);for(const y of d.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(n,h).next(d=>({Ms:d,removedBatchIds:u,addedBatchIds:c}))})})}function $D(r,e){const t=Qe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(c,h,d,y){const g=d.batch,p=g.keys();let v=we.resolve();return p.forEach(A=>{v=v.next(()=>y.getEntry(h,A)).next(b=>{const E=d.docVersions.get(A);dt(E!==null,48541),b.version.compareTo(E)<0&&(g.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),y.addEntry(b)))})}),v.next(()=>c.mutationQueue.removeMutationBatch(h,g))}(t,n,e,a).next(()=>a.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let h=st();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function RE(r){const e=Qe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function GD(r,e){const t=Qe(r),n=e.snapshotVersion;let i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;const c=[];e.targetChanges.forEach((y,g)=>{const p=i.get(g);if(!p)return;c.push(t.ai.removeMatchingKeys(a,y.removedDocuments,g).next(()=>t.ai.addMatchingKeys(a,y.addedDocuments,g)));let v=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(nn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):y.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(y.resumeToken,n)),i=i.insert(g,v),function(b,E,w){return b.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=UD?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,v,y)&&c.push(t.ai.updateTargetData(a,v))});let h=pi(),d=st();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),c.push(WD(a,u,e.documentUpdates).next(y=>{h=y.xs,d=y.Os})),!n.isEqual(Ye.min())){const y=t.ai.getLastRemoteSnapshotVersion(a).next(g=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,n));c.push(y)}return we.waitFor(c).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,d)).next(()=>h)}).then(a=>(t.Ss=i,a))}function WD(r,e,t){let n=st(),i=st();return t.forEach(a=>n=n.add(a)),e.getEntries(r,n).next(a=>{let u=pi();return t.forEach((c,h)=>{const d=a.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Ye.min())?(e.removeEntry(c,h.readTime),u=u.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),u=u.insert(c,h)):Ne(yg,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),{xs:u,Os:i}})}function KD(r,e){const t=Qe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=rg),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function JD(r,e){const t=Qe(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.ai.getTargetData(n,e).next(a=>a?(i=a,we.resolve(i)):t.ai.allocateTargetId(n).next(u=>(i=new Xi(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.ai.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.Ss.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(n.targetId,n),t.Ds.set(e,n.targetId)),n})}async function Mm(r,e,t){const n=Qe(r),i=n.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,u=>n.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!ha(u))throw u;Ne(yg,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Ss=n.Ss.remove(e),n.Ds.delete(i.target)}function E0(r,e,t){const n=Qe(r);let i=Ye.min(),a=st();return n.persistence.runTransaction("Execute query","readwrite",u=>function(h,d,y){const g=Qe(h),p=g.Ds.get(y);return p!==void 0?we.resolve(g.Ss.get(p)):g.ai.getTargetData(d,y)}(n,u,Fr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(u,c.targetId).next(h=>{a=h})}).next(()=>n.bs.getDocumentsMatchingQuery(u,e,t?i:Ye.min(),t?a:st())).next(c=>(QD(n,Ox(e),c),{documents:c,Ns:a})))}function QD(r,e,t){let n=r.vs.get(e)||Ye.min();t.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),r.vs.set(e,n)}class A0{constructor(){this.activeTargetIds=qx()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YD{constructor(){this.So=new A0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new A0,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="ConnectivityMonitor";class b0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ne(C0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ne(C0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function qm(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="RestConnection",ZD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eI{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${i}`,this.qo=this.databaseId.database===Vc?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Qo(e,t,n,i,a){const u=qm(),c=this.$o(e,t.toUriEncodedString());Ne(Nd,`Sending RPC '${e}' ${u}:`,c,n);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(h,i,a);const{host:d}=new URL(c),y=ua(d);return this.Ko(e,c,h,n,y).then(g=>(Ne(Nd,`Received RPC '${e}' ${u}: `,g),g),g=>{throw ea(Nd,`RPC '${e}' ${u} failed with error: `,g,"url: ",c,"request:",n),g})}Wo(e,t,n,i,a,u){return this.Qo(e,t,n,i,a)}Uo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+la}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),n&&n.headers.forEach((i,a)=>e[a]=i)}$o(e,t){const n=ZD[e];return`${this.Lo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class nI extends eI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,i,a){const u=qm();return new Promise((c,h)=>{const d=new Pw;d.setWithCredentials(!0),d.listenOnce(Nw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Cc.NO_ERROR:const g=d.getResponseJson();Ne(un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(g)),c(g);break;case Cc.TIMEOUT:Ne(un,`RPC '${e}' ${u} timed out`),h(new Oe(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const p=d.getStatus();if(Ne(un,`RPC '${e}' ${u} failed with status:`,p,"response text:",d.getResponseText()),p>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const A=v==null?void 0:v.error;if(A&&A.status&&A.message){const b=function(w){const S=w.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(S)>=0?S:_e.UNKNOWN}(A.status);h(new Oe(b,A.message))}else h(new Oe(_e.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Oe(_e.UNAVAILABLE,"Connection failed."));break;default:Ke(9055,{s_:e,streamId:u,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{Ne(un,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(i);Ne(un,`RPC '${e}' ${u} sending request:`,i),d.send(t,"POST",y,n,15)})}a_(e,t,n){const i=qm(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Fw(),c=Lw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,t,n),h.encodeInitMessageHeaders=!0;const y=a.join("");Ne(un,`Creating RPC '${e}' stream ${i}: ${y}`,h);const g=u.createWebChannel(y,h);let p=!1,v=!1;const A=new tI({Go:E=>{v?Ne(un,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(p||(Ne(un,`Opening RPC '${e}' stream ${i} transport.`),g.open(),p=!0),Ne(un,`RPC '${e}' stream ${i} sending:`,E),g.send(E))},zo:()=>g.close()}),b=(E,w,S)=>{E.listen(w,P=>{try{S(P)}catch(T){setTimeout(()=>{throw T},0)}})};return b(g,du.EventType.OPEN,()=>{v||(Ne(un,`RPC '${e}' stream ${i} transport opened.`),A.t_())}),b(g,du.EventType.CLOSE,()=>{v||(v=!0,Ne(un,`RPC '${e}' stream ${i} transport closed`),A.r_())}),b(g,du.EventType.ERROR,E=>{v||(v=!0,ea(un,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),A.r_(new Oe(_e.UNAVAILABLE,"The operation could not be completed")))}),b(g,du.EventType.MESSAGE,E=>{var w;if(!v){const S=E.data[0];dt(!!S,16349);const P=S,T=(P==null?void 0:P.error)||((w=P[0])===null||w===void 0?void 0:w.error);if(T){Ne(un,`RPC '${e}' stream ${i} received error:`,T);const j=T.status;let q=function(D){const I=jt[D];if(I!==void 0)return yE(I)}(j),R=T.message;q===void 0&&(q=_e.INTERNAL,R="Unknown error status: "+j+" with message "+T.message),v=!0,A.r_(new Oe(q,R)),g.close()}else Ne(un,`RPC '${e}' stream ${i} received:`,S),A.i_(S)}}),b(c,Ow.STAT_EVENT,E=>{E.stat===Dm.PROXY?Ne(un,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Dm.NOPROXY&&Ne(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function Od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(r){return new oD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t,n=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=n,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-n);i>0&&Ne("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="PersistentStream";class NE{constructor(e,t,n,i,a,u,c,h){this.bi=e,this.R_=n,this.V_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new PE(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(di(t.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.m_===t&&this.B_(n,i)},n=>{e(()=>{const i=new Oe(_e.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(i)})})}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{n(()=>this.L_(i))}),this.stream.onMessage(i=>{n(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ne(T0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(Ne(T0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rI extends NE{constructor(e,t,n,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,u),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=lD(this.serializer,e),n=function(a){if(!("targetChange"in a))return Ye.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ye.min():u.readTime?Br(u.readTime):Ye.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=jm(this.serializer),t.addTarget=function(a,u){let c;const h=u.target;if(c=Nm(h)?{documents:fD(a,h)}:{query:bE(a,h).gt},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=wE(a,u.resumeToken);const d=Lm(a,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ye.min())>0){c.readTime=Gc(a,u.snapshotVersion.toTimestamp());const d=Lm(a,u.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const n=mD(this.serializer,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=jm(this.serializer),t.removeTarget=e,this.F_(t)}}class iI extends NE{constructor(e,t,n,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,u),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=hD(e.writeResults,e.commitTime),n=Br(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=jm(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>cD(this.serializer,n))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{}class oI extends sI{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Oe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Qo(e,Fm(t,n),i,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(_e.UNKNOWN,a.toString())})}Wo(e,t,n,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Wo(e,Fm(t,n),i,u,c,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(_e.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class aI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(di(t),this.ea=!1):Ne("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class uI{constructor(e,t,n,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(u=>{n.enqueueAndForget(async()=>{Zs(this)&&(Ne(Ws,"Restarting streams for network reachability change."),await async function(h){const d=Qe(h);d.aa.add(4),await zu(d),d.la.set("Unknown"),d.aa.delete(4),await Eh(d)}(this))})}),this.la=new aI(n,i)}}async function Eh(r){if(Zs(r))for(const e of r.ua)await e(!0)}async function zu(r){for(const e of r.ua)await e(!1)}function OE(r,e){const t=Qe(r);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Eg(t)?wg(t):da(t).b_()&&_g(t,e))}function vg(r,e){const t=Qe(r),n=da(t);t._a.delete(e),n.b_()&&LE(t,e),t._a.size===0&&(n.b_()?n.v_():Zs(t)&&t.la.set("Unknown"))}function _g(r,e){if(r.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}da(r).U_(e)}function LE(r,e){r.ha.Ke(e),da(r).K_(e)}function wg(r){r.ha=new nD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r._a.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),da(r).start(),r.la.ta()}function Eg(r){return Zs(r)&&!da(r).w_()&&r._a.size>0}function Zs(r){return Qe(r).aa.size===0}function FE(r){r.ha=void 0}async function lI(r){r.la.set("Online")}async function cI(r){r._a.forEach((e,t)=>{_g(r,e)})}async function hI(r,e){FE(r),Eg(r)?(r.la.ia(e),wg(r)):r.la.set("Unknown")}async function fI(r,e,t){if(r.la.set("Online"),e instanceof _E&&e.state===2&&e.cause)try{await async function(i,a){const u=a.cause;for(const c of a.targetIds)i._a.has(c)&&(await i.remoteSyncer.rejectListen(c,u),i._a.delete(c),i.ha.removeTarget(c))}(r,e)}catch(n){Ne(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Kc(r,n)}else if(e instanceof xc?r.ha.Xe(e):e instanceof vE?r.ha.ot(e):r.ha.nt(e),!t.isEqual(Ye.min()))try{const n=await RE(r.localStore);t.compareTo(n)>=0&&await function(a,u){const c=a.ha.It(u);return c.targetChanges.forEach((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const y=a._a.get(d);y&&a._a.set(d,y.withResumeToken(h.resumeToken,u))}}),c.targetMismatches.forEach((h,d)=>{const y=a._a.get(h);if(!y)return;a._a.set(h,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),LE(a,h);const g=new Xi(y.target,h,d,y.sequenceNumber);_g(a,g)}),a.remoteSyncer.applyRemoteEvent(c)}(r,t)}catch(n){Ne(Ws,"Failed to raise snapshot:",n),await Kc(r,n)}}async function Kc(r,e,t){if(!ha(e))throw e;r.aa.add(1),await zu(r),r.la.set("Offline"),t||(t=()=>RE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Ne(Ws,"Retrying IndexedDB access"),await t(),r.aa.delete(1),await Eh(r)})}function BE(r,e){return e().catch(t=>Kc(r,t,e))}async function Ah(r){const e=Qe(r),t=us(e);let n=e.oa.length>0?e.oa[e.oa.length-1].batchId:rg;for(;dI(e);)try{const i=await KD(e.localStore,n);if(i===null){e.oa.length===0&&t.v_();break}n=i.batchId,pI(e,i)}catch(i){await Kc(e,i)}jE(e)&&ME(e)}function dI(r){return Zs(r)&&r.oa.length<10}function pI(r,e){r.oa.push(e);const t=us(r);t.b_()&&t.W_&&t.G_(e.mutations)}function jE(r){return Zs(r)&&!us(r).w_()&&r.oa.length>0}function ME(r){us(r).start()}async function mI(r){us(r).H_()}async function gI(r){const e=us(r);for(const t of r.oa)e.G_(t.mutations)}async function yI(r,e,t){const n=r.oa.shift(),i=hg.from(n,e,t);await BE(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Ah(r)}async function vI(r,e){e&&us(r).W_&&await async function(n,i){if(function(u){return eD(u)&&u!==_e.ABORTED}(i.code)){const a=n.oa.shift();us(n).D_(),await BE(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Ah(n)}}(r,e),jE(r)&&ME(r)}async function S0(r,e){const t=Qe(r);t.asyncQueue.verifyOperationInProgress(),Ne(Ws,"RemoteStore received new credentials");const n=Zs(t);t.aa.add(3),await zu(t),n&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Eh(t)}async function _I(r,e){const t=Qe(r);e?(t.aa.delete(2),await Eh(t)):e||(t.aa.add(2),await zu(t),t.la.set("Unknown"))}function da(r){return r.Pa||(r.Pa=function(t,n,i){const a=Qe(t);return a.Y_(),new rI(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{jo:lI.bind(null,r),Jo:cI.bind(null,r),Zo:hI.bind(null,r),Q_:fI.bind(null,r)}),r.ua.push(async e=>{e?(r.Pa.D_(),Eg(r)?wg(r):r.la.set("Unknown")):(await r.Pa.stop(),FE(r))})),r.Pa}function us(r){return r.Ta||(r.Ta=function(t,n,i){const a=Qe(t);return a.Y_(),new iI(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:mI.bind(null,r),Zo:vI.bind(null,r),z_:gI.bind(null,r),j_:yI.bind(null,r)}),r.ua.push(async e=>{e?(r.Ta.D_(),await Ah(r)):(await r.Ta.stop(),r.oa.length>0&&(Ne(Ws,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,a){const u=Date.now()+n,c=new Ag(e,t,u,i,a);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(r,e){if(di("AsyncQueue",`${e}: ${r}`),ha(r))return new Oe(_e.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ue.comparator(t.key,n.key):(t,n)=>Ue.comparator(t.key,n.key),this.keyedMap=pu(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Qo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.Ia=new Dt(Ue.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?e.type!==0&&n.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&n.type!==1?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Ia=this.Ia.remove(t):e.type===1&&n.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ke(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,n)=>{e.push(n)}),e}}class sa{constructor(e,t,n,i,a,u,c,h,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,i,a){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new sa(e,t,Qo.emptySet(t),u,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class EI{constructor(){this.queries=D0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,n){const i=Qe(t),a=i.queries;i.queries=D0(),a.forEach((u,c)=>{for(const h of c.Ra)h.onError(n)})})(this,new Oe(_e.ABORTED,"Firestore shutting down"))}}function D0(){return new Xs(r=>sE(r),mh)}async function qE(r,e){const t=Qe(r);let n=3;const i=e.query;let a=t.queries.get(i);a?!a.Va()&&e.ma()&&(n=2):(a=new wI,n=e.ma()?0:1);try{switch(n){case 0:a.Aa=await t.onListen(i,!0);break;case 1:a.Aa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const c=Cg(u,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&bg(t)}async function VE(r,e){const t=Qe(r),n=e.query;let i=3;const a=t.queries.get(n);if(a){const u=a.Ra.indexOf(e);u>=0&&(a.Ra.splice(u,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function AI(r,e){const t=Qe(r);let n=!1;for(const i of e){const a=i.query,u=t.queries.get(a);if(u){for(const c of u.Ra)c.pa(i)&&(n=!0);u.Aa=i}}n&&bg(t)}function CI(r,e,t){const n=Qe(r),i=n.queries.get(e);if(i)for(const a of i.Ra)a.onError(t);n.queries.delete(e)}function bg(r){r.fa.forEach(e=>{e.next()})}var Vm,I0;(I0=Vm||(Vm={})).ya="default",I0.Cache="cache";class UE{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new sa(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const n=t!=="Offline";return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.key=e}}class HE{constructor(e){this.key=e}}class bI{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=st(),this.mutatedKeys=st(),this.Ua=oE(e),this.Ka=new Qo(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new x0,i=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,g)=>{const p=i.get(y),v=gh(this.query,g)?g:null,A=!!p&&this.mutatedKeys.has(p.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;p&&v?p.data.isEqual(v.data)?A!==b&&(n.track({type:3,doc:v}),E=!0):this.ja(p,v)||(n.track({type:2,doc:v}),E=!0,(h&&this.Ua(v,h)>0||d&&this.Ua(v,d)<0)&&(c=!0)):!p&&v?(n.track({type:0,doc:v}),E=!0):p&&!v&&(n.track({type:1,doc:p}),E=!0,(h||d)&&(c=!0)),E&&(v?(u=u.add(v),a=b?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),n.track({type:1,doc:y})}return{Ka:u,za:n,ys:c,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((y,g)=>function(v,A){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ke(20277,{Vt:E})}};return b(v)-b(A)}(y.type,g.type)||this.Ua(y.doc,g.doc)),this.Ha(n),i=i!=null&&i;const c=t&&!i?this.Ja():[],h=this.$a.size===0&&this.current&&!i?1:0,d=h!==this.Qa;return this.Qa=h,u.length!==0||d?{snapshot:new sa(this.query,e.Ka,a,u,e.mutatedKeys,h===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new x0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=st(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const t=[];return e.forEach(n=>{this.$a.has(n)||t.push(new HE(n))}),this.$a.forEach(n=>{e.has(n)||t.push(new zE(n))}),t}Xa(e){this.qa=e.Ns,this.$a=st();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return sa.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Tg="SyncEngine";class TI{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class SI{constructor(e){this.key=e,this.tu=!1}}class xI{constructor(e,t,n,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Xs(c=>sE(c),mh),this.iu=new Map,this.su=new Set,this.ou=new Dt(Ue.comparator),this._u=new Map,this.au=new pg,this.uu={},this.cu=new Map,this.lu=ia.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function DI(r,e,t=!0){const n=QE(r);let i;const a=n.ru.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await $E(n,e,t,!0),i}async function II(r,e){const t=QE(r);await $E(t,e,!0,!1)}async function $E(r,e,t,n){const i=await JD(r.localStore,Fr(e)),a=i.targetId,u=r.sharedClientState.addLocalQueryTarget(a,t);let c;return n&&(c=await kI(r,e,a,u==="current",i.resumeToken)),r.isPrimaryClient&&t&&OE(r.remoteStore,i),c}async function kI(r,e,t,n,i){r.Pu=(g,p,v)=>async function(b,E,w,S){let P=E.view.Ga(w);P.ys&&(P=await E0(b.localStore,E.query,!1).then(({documents:R})=>E.view.Ga(R,P)));const T=S&&S.targetChanges.get(E.targetId),j=S&&S.targetMismatches.get(E.targetId)!=null,q=E.view.applyChanges(P,b.isPrimaryClient,T,j);return R0(b,E.targetId,q.Ya),q.snapshot}(r,g,p,v);const a=await E0(r.localStore,e,!0),u=new bI(e,a.Ns),c=u.Ga(a.documents),h=Uu.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),d=u.applyChanges(c,r.isPrimaryClient,h);R0(r,t,d.Ya);const y=new TI(e,t,u);return r.ru.set(e,y),r.iu.has(t)?r.iu.get(t).push(e):r.iu.set(t,[e]),d.snapshot}async function RI(r,e,t){const n=Qe(r),i=n.ru.get(e),a=n.iu.get(i.targetId);if(a.length>1)return n.iu.set(i.targetId,a.filter(u=>!mh(u,e))),void n.ru.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Mm(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&vg(n.remoteStore,i.targetId),Um(n,i.targetId)}).catch(ca)):(Um(n,i.targetId),await Mm(n.localStore,i.targetId,!0))}async function PI(r,e){const t=Qe(r),n=t.ru.get(e),i=t.iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),vg(t.remoteStore,n.targetId))}async function NI(r,e,t){const n=qI(r);try{const i=await function(u,c){const h=Qe(u),d=Lt.now(),y=c.reduce((v,A)=>v.add(A.key),st());let g,p;return h.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=pi(),b=st();return h.Cs.getEntries(v,y).next(E=>{A=E,A.forEach((w,S)=>{S.isValidDocument()||(b=b.add(w))})}).next(()=>h.localDocuments.getOverlayedDocuments(v,A)).next(E=>{g=E;const w=[];for(const S of c){const P=Kx(S,g.get(S.key).overlayedDocument);P!=null&&w.push(new ds(S.key,P,Qw(P.value.mapValue),_r.exists(!0)))}return h.mutationQueue.addMutationBatch(v,d,w,c)}).next(E=>{p=E;const w=E.applyToLocalDocumentSet(g,b);return h.documentOverlayCache.saveOverlays(v,E.batchId,w)})}).then(()=>({batchId:p.batchId,changes:uE(g)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(u,c,h){let d=u.uu[u.currentUser.toKey()];d||(d=new Dt(tt)),d=d.insert(c,h),u.uu[u.currentUser.toKey()]=d}(n,i.batchId,t),await Hu(n,i.changes),await Ah(n.remoteStore)}catch(i){const a=Cg(i,"Failed to persist write");t.reject(a)}}async function GE(r,e){const t=Qe(r);try{const n=await GD(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t._u.get(a);u&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?u.tu=!0:i.modifiedDocuments.size>0?dt(u.tu,14607):i.removedDocuments.size>0&&(dt(u.tu,42227),u.tu=!1))}),await Hu(t,n,e)}catch(n){await ca(n)}}function k0(r,e,t){const n=Qe(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.ru.forEach((a,u)=>{const c=u.view.ga(e);c.snapshot&&i.push(c.snapshot)}),function(u,c){const h=Qe(u);h.onlineState=c;let d=!1;h.queries.forEach((y,g)=>{for(const p of g.Ra)p.ga(c)&&(d=!0)}),d&&bg(h)}(n.eventManager,e),i.length&&n.nu.Q_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function OI(r,e,t){const n=Qe(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n._u.get(e),a=i&&i.key;if(a){let u=new Dt(Ue.comparator);u=u.insert(a,cn.newNoDocument(a,Ye.min()));const c=st().add(a),h=new _h(Ye.min(),new Map,new Dt(tt),u,c);await GE(n,h),n.ou=n.ou.remove(a),n._u.delete(e),Sg(n)}else await Mm(n.localStore,e,!1).then(()=>Um(n,e,t)).catch(ca)}async function LI(r,e){const t=Qe(r),n=e.batch.batchId;try{const i=await $D(t.localStore,e);KE(t,n,null),WE(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Hu(t,i)}catch(i){await ca(i)}}async function FI(r,e,t){const n=Qe(r);try{const i=await function(u,c){const h=Qe(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let y;return h.mutationQueue.lookupMutationBatch(d,c).next(g=>(dt(g!==null,37113),y=g.keys(),h.mutationQueue.removeMutationBatch(d,g))).next(()=>h.mutationQueue.performConsistencyCheck(d)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(d,y,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y)).next(()=>h.localDocuments.getDocuments(d,y))})}(n.localStore,e);KE(n,e,t),WE(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Hu(n,i)}catch(i){await ca(i)}}function WE(r,e){(r.cu.get(e)||[]).forEach(t=>{t.resolve()}),r.cu.delete(e)}function KE(r,e,t){const n=Qe(r);let i=n.uu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.uu[n.currentUser.toKey()]=i}}function Um(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.iu.get(e))r.ru.delete(n),t&&r.nu.Tu(n,t);r.iu.delete(e),r.isPrimaryClient&&r.au.Ur(e).forEach(n=>{r.au.containsKey(n)||JE(r,n)})}function JE(r,e){r.su.delete(e.path.canonicalString());const t=r.ou.get(e);t!==null&&(vg(r.remoteStore,t),r.ou=r.ou.remove(e),r._u.delete(t),Sg(r))}function R0(r,e,t){for(const n of t)n instanceof zE?(r.au.addReference(n.key,e),BI(r,n)):n instanceof HE?(Ne(Tg,"Document no longer in limbo: "+n.key),r.au.removeReference(n.key,e),r.au.containsKey(n.key)||JE(r,n.key)):Ke(19791,{Iu:n})}function BI(r,e){const t=e.key,n=t.path.canonicalString();r.ou.get(t)||r.su.has(n)||(Ne(Tg,"New document in limbo: "+t),r.su.add(n),Sg(r))}function Sg(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const e=r.su.values().next().value;r.su.delete(e);const t=new Ue(Et.fromString(e)),n=r.lu.next();r._u.set(n,new SI(t)),r.ou=r.ou.insert(t,n),OE(r.remoteStore,new Xi(Fr(ug(t.path)),n,"TargetPurposeLimboResolution",fh.le))}}async function Hu(r,e,t){const n=Qe(r),i=[],a=[],u=[];n.ru.isEmpty()||(n.ru.forEach((c,h)=>{u.push(n.Pu(h,e,t).then(d=>{var y;if((d||t)&&n.isPrimaryClient){const g=d?!d.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;n.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(d){i.push(d);const g=gg.Ps(h.targetId,d);a.push(g)}}))}),await Promise.all(u),n.nu.Q_(i),await async function(h,d){const y=Qe(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>we.forEach(d,p=>we.forEach(p.ls,v=>y.persistence.referenceDelegate.addReference(g,p.targetId,v)).next(()=>we.forEach(p.hs,v=>y.persistence.referenceDelegate.removeReference(g,p.targetId,v)))))}catch(g){if(!ha(g))throw g;Ne(yg,"Failed to update sequence numbers: "+g)}for(const g of d){const p=g.targetId;if(!g.fromCache){const v=y.Ss.get(p),A=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(A);y.Ss=y.Ss.insert(p,b)}}}(n.localStore,a))}async function jI(r,e){const t=Qe(r);if(!t.currentUser.isEqual(e)){Ne(Tg,"User change. New user:",e.toKey());const n=await kE(t.localStore,e);t.currentUser=e,function(a,u){a.cu.forEach(c=>{c.forEach(h=>{h.reject(new Oe(_e.CANCELLED,u))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Hu(t,n.Ms)}}function MI(r,e){const t=Qe(r),n=t._u.get(e);if(n&&n.tu)return st().add(n.key);{let i=st();const a=t.iu.get(e);if(!a)return i;for(const u of a){const c=t.ru.get(u);i=i.unionWith(c.view.Wa)}return i}}function QE(r){const e=Qe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=GE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OI.bind(null,e),e.nu.Q_=AI.bind(null,e.eventManager),e.nu.Tu=CI.bind(null,e.eventManager),e}function qI(r){const e=Qe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FI.bind(null,e),e}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return HD(this.persistence,new VD,e.initialUser,this.serializer)}Ru(e){return new IE(mg.Ei,this.serializer)}Au(e){return new YD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class VI extends Jc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){dt(this.persistence.referenceDelegate instanceof Wc,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new SD(n,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new IE(n=>Wc.Ei(n,t),this.serializer)}}class zm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>k0(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=jI.bind(null,this.syncEngine),await _I(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EI}()}createDatastore(e){const t=wh(e.databaseInfo.databaseId),n=function(a){return new nI(a)}(e.databaseInfo);return function(a,u,c,h){return new oI(a,u,c,h)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,a,u,c){return new uI(n,i,a,u,c)}(this.localStore,this.datastore,e.asyncQueue,t=>k0(this.syncEngine,t,0),function(){return b0.C()?new b0:new XD}())}createSyncEngine(e,t){return function(i,a,u,c,h,d,y){const g=new xI(i,a,u,c,h,d);return y&&(g.hu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Qe(i);Ne(Ws,"RemoteStore shutting down."),a.aa.add(5),await zu(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):di("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class UI{constructor(e,t,n,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=qw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async u=>{Ne(ls,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(n,u=>(Ne(ls,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Cg(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ld(r,e){r.asyncQueue.verifyOperationInProgress(),Ne(ls,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await kE(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function P0(r,e){r.asyncQueue.verifyOperationInProgress();const t=await zI(r);Ne(ls,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>S0(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>S0(e.remoteStore,i)),r._onlineComponents=e}async function zI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ne(ls,"Using user provided OfflineComponentProvider");try{await Ld(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===_e.FAILED_PRECONDITION||i.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ea("Error using user provided cache. Falling back to memory cache: "+t),await Ld(r,new Jc)}}else Ne(ls,"Using default OfflineComponentProvider"),await Ld(r,new VI(void 0));return r._offlineComponents}async function xg(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ne(ls,"Using user provided OnlineComponentProvider"),await P0(r,r._uninitializedComponentsProvider._online)):(Ne(ls,"Using default OnlineComponentProvider"),await P0(r,new zm))),r._onlineComponents}function HI(r){return xg(r).then(e=>e.syncEngine)}function $I(r){return xg(r).then(e=>e.datastore)}async function Hm(r){const e=await xg(r),t=e.eventManager;return t.onListen=DI.bind(null,e.syncEngine),t.onUnlisten=RI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=II.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=PI.bind(null,e.syncEngine),t}function GI(r,e,t={}){const n=new ui;return r.asyncQueue.enqueueAndForget(async()=>function(a,u,c,h,d){const y=new YE({next:p=>{y.yu(),u.enqueueAndForget(()=>VE(a,g)),p.fromCache&&h.source==="server"?d.reject(new Oe(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),g=new UE(c,y,{includeMetadataChanges:!0,Fa:!0});return qE(a,g)}(await Hm(r),r.asyncQueue,e,t,n)),n.promise}function WI(r,e,t){const n=new ui;return r.asyncQueue.enqueueAndForget(async()=>{try{const i=await $I(r);n.resolve(async function(u,c,h){var d;const y=Qe(u),{request:g,yt:p,parent:v}=dD(y.serializer,Nx(c),h);y.connection.Bo||delete g.parent;const A=(await y.Wo("RunAggregationQuery",y.serializer.databaseId,v,g,1)).filter(E=>!!E.result);dt(A.length===1,64727);const b=(d=A[0].result)===null||d===void 0?void 0:d.aggregateFields;return Object.keys(b).reduce((E,w)=>(E[p[w]]=b[w],E),{})}(i,e,t))}catch(i){n.reject(i)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(r,e,t){if(!t)throw new Oe(_e.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function KI(r,e,t,n){if(e===!0&&n===!0)throw new Oe(_e.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function O0(r){if(!Ue.isDocumentKey(r))throw new Oe(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function L0(r){if(Ue.isDocumentKey(r))throw new Oe(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ch(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ke(12329,{type:typeof r})}function Zn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Oe(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ch(r);throw new Oe(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function JI(r,e){if(e<=0)throw new Oe(_e.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firestore.googleapis.com",F0=!0;class B0{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eA,this.ssl=F0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:F0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bD)throw new Oe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XE((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Oe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Oe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Oe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bh{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new XS;switch(n.type){case"firstParty":return new nx(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Oe(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=N0.get(t);n&&(Ne("ComponentProvider","Removing Datastore"),N0.delete(t),n.terminate())}(this),Promise.resolve()}}function QI(r,e,t,n={}){var i;r=Zn(r,bh);const a=ua(e),u=r._getSettings(),c=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),h=`${e}:${t}`;a&&Xm(`https://${h}`),u.host!==eA&&u.host!==h&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},u),{host:h,ssl:a,emulatorOptions:n});if(!Hs(d,c)&&(r._setSettings(d),n.mockUserToken)){let y,g;if(typeof n.mockUserToken=="string")y=n.mockUserToken,g=ln.MOCK_USER;else{y=Tw(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Oe(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ln(p)}r._authCredentials=new ZS(new jw(y,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new yi(this.firestore,e,this._query)}}class wn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class ns extends yi{constructor(e,t,n){super(e,t,ug(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new Ue(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function YI(r,e,...t){if(r=vt(r),ZE("collection","path",e),r instanceof bh){const n=Et.fromString(e,...t);return L0(n),new ns(r,null,n)}{if(!(r instanceof wn||r instanceof ns))throw new Oe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Et.fromString(e,...t));return L0(n),new ns(r.firestore,null,n)}}function XI(r,e,...t){if(r=vt(r),arguments.length===1&&(e=qw.newId()),ZE("doc","path",e),r instanceof bh){const n=Et.fromString(e,...t);return O0(n),new wn(r,null,new Ue(n))}{if(!(r instanceof wn||r instanceof ns))throw new Oe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Et.fromString(e,...t));return O0(n),new wn(r.firestore,r instanceof ns?r.converter:null,new Ue(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="AsyncQueue";class M0{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new PE(this,"async_queue_retry"),this.ju=()=>{const n=Od();n&&Ne(j0,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=e;const t=Od();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Od();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new ui;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ha(e))throw e;Ne(j0,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(n=>{throw this.Ku=n,this.Wu=!1,di("INTERNAL UNHANDLED ERROR: ",q0(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const i=Ag.createAndSchedule(this,e,t,n,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&Ke(47125,{ec:q0(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function q0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(r,["next","error","complete"])}class cs extends bh{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new M0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M0(e),this._firestoreClient=void 0,await e}}}function ZI(r,e){const t=typeof r=="object"?r:tg(),n=typeof r=="string"?r:Vc,i=hh(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Aw("firestore");a&&QI(i,...a)}return i}function Th(r){if(r._terminated)throw new Oe(_e.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ek(r),r._firestoreClient}function ek(r){var e,t,n;const i=r._freezeSettings(),a=function(c,h,d,y){return new vx(c,h,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,XE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new UI(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class nk{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(nn.fromBase64String(e))}catch(t){throw new Oe(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oa(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Oe(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=/^__.*__$/;class ik{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vu(e,this.data,t,this.fieldTransforms)}}class tA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ke(40011,{oc:r})}}class kg{constructor(e,t,n,i,a,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:n,cc:!1});return i.lc(e),i}hc(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:n,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Qc(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(nA(this.oc)&&rk.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class sk{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wh(e)}dc(e,t,n,i=!1){return new kg({oc:e,methodName:t,Ec:n,path:tn.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rg(r){const e=r._freezeSettings(),t=wh(r._databaseId);return new sk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function ok(r,e,t,n,i,a={}){const u=r.dc(a.merge||a.mergeFields?2:0,e,t,i);Ng("Data must be an object, but it was:",u,n);const c=rA(n,u);let h,d;if(a.merge)h=new Vn(u.fieldMask),d=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const g of a.mergeFields){const p=$m(e,g,t);if(!u.contains(p))throw new Oe(_e.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);sA(y,p)||y.push(p)}h=new Vn(y),d=u.fieldTransforms.filter(g=>h.covers(g.field))}else h=null,d=u.fieldTransforms;return new ik(new Pn(c),h,d)}class Dh extends xh{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dh}}class Pg extends xh{_toFieldTransform(e){return new Hx(e.path,new Pu)}isEqual(e){return e instanceof Pg}}function ak(r,e,t,n){const i=r.dc(1,e,t);Ng("Data must be an object, but it was:",i,n);const a=[],u=Pn.empty();fs(n,(h,d)=>{const y=Og(e,h,t);d=vt(d);const g=i.hc(y);if(d instanceof Dh)a.push(y);else{const p=$u(d,g);p!=null&&(a.push(y),u.set(y,p))}});const c=new Vn(a);return new tA(u,c,i.fieldTransforms)}function uk(r,e,t,n,i,a){const u=r.dc(1,e,t),c=[$m(e,n,t)],h=[i];if(a.length%2!=0)throw new Oe(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)c.push($m(e,a[p])),h.push(a[p+1]);const d=[],y=Pn.empty();for(let p=c.length-1;p>=0;--p)if(!sA(d,c[p])){const v=c[p];let A=h[p];A=vt(A);const b=u.hc(v);if(A instanceof Dh)d.push(v);else{const E=$u(A,b);E!=null&&(d.push(v),y.set(v,E))}}const g=new Vn(d);return new tA(y,g,u.fieldTransforms)}function lk(r,e,t,n=!1){return $u(t,r.dc(n?4:3,e))}function $u(r,e){if(iA(r=vt(r)))return Ng("Unsupported field value:",e,r),rA(r,e);if(r instanceof xh)return function(n,i){if(!nA(i.oc))throw i.Tc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(n,i){const a=[];let u=0;for(const c of n){let h=$u(c,i.Pc(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(r,e)}return function(n,i){if((n=vt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Vx(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Lt.fromDate(n);return{timestampValue:Gc(i.serializer,a)}}if(n instanceof Lt){const a=new Lt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Gc(i.serializer,a)}}if(n instanceof Dg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof oa)return{bytesValue:wE(i.serializer,n._byteString)};if(n instanceof wn){const a=i.databaseId,u=n.firestore._databaseId;if(!u.isEqual(a))throw i.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:dg(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Ig)return function(u,c){return{mapValue:{fields:{[Kw]:{stringValue:Jw},[Uc]:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw c.Tc("VectorValues must only contain numeric values.");return lg(c.serializer,d)})}}}}}}(n,i);throw i.Tc(`Unsupported field value: ${Ch(n)}`)}(r,e)}function rA(r,e){const t={};return Uw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(r,(n,i)=>{const a=$u(i,e.uc(n));a!=null&&(t[n]=a)}),{mapValue:{fields:t}}}function iA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Lt||r instanceof Dg||r instanceof oa||r instanceof wn||r instanceof xh||r instanceof Ig)}function Ng(r,e,t){if(!iA(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=Ch(t);throw n==="an object"?e.Tc(r+" a custom object"):e.Tc(r+" "+n)}}function $m(r,e,t){if((e=vt(e))instanceof Sh)return e._internalPath;if(typeof e=="string")return Og(r,e);throw Qc("Field path arguments must be of type string or ",r,!1,void 0,t)}const ck=new RegExp("[~\\*/\\[\\]]");function Og(r,e,t){if(e.search(ck)>=0)throw Qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Sh(...e.split("."))._internalPath}catch{throw Qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Qc(r,e,t,n,i){const a=n&&!n.isEmpty(),u=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${n}`),u&&(h+=` in document ${i}`),h+=")"),new Oe(_e.INVALID_ARGUMENT,c+r+h)}function sA(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ih("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class hk extends oA{data(){return super.data()}}function Ih(r,e){return typeof e=="string"?Og(r,e):e instanceof Sh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Oe(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lg{}class Fg extends Lg{}function fk(r,e,...t){let n=[];e instanceof Lg&&n.push(e),n=n.concat(t),function(a){const u=a.filter(h=>h instanceof Bg).length,c=a.filter(h=>h instanceof kh).length;if(u>1||u>0&&c>0)throw new Oe(_e.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class kh extends Fg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new kh(e,t,n)}_apply(e){const t=this._parse(e);return uA(e._query,t),new yi(e.firestore,e.converter,Om(e._query,t))}_parse(e){const t=Rg(e.firestore);return function(a,u,c,h,d,y,g){let p;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Oe(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){H0(g,y);const A=[];for(const b of g)A.push(z0(h,a,b));p={arrayValue:{values:A}}}else p=z0(h,a,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||H0(g,y),p=lk(c,u,g,y==="in"||y==="not-in");return Mt.create(d,y,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function U0(r,e,t){const n=e,i=Ih("where",r);return kh._create(i,n,t)}class Bg extends Lg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bg(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:wr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let u=i;const c=a.getFlattenedFilters();for(const h of c)uA(u,h),u=Om(u,h)}(e._query,t),new yi(e.firestore,e.converter,Om(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jg extends Fg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jg(e,t)}_apply(e){const t=function(i,a,u){if(i.startAt!==null)throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(a,u)}(e._query,this._field,this._direction);return new yi(e.firestore,e.converter,function(i,a){const u=i.explicitOrderBy.concat([a]);return new fa(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function dk(r,e="asc"){const t=e,n=Ih("orderBy",r);return jg._create(n,t)}class Mg extends Fg{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Mg(e,t,n)}_apply(e){return new yi(e.firestore,e.converter,Hc(e._query,this._limit,this._limitType))}}function pk(r){return JI("limit",r),Mg._create("limit",r,"F")}function z0(r,e,t){if(typeof(t=vt(t))=="string"){if(t==="")throw new Oe(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rE(e)&&t.indexOf("/")!==-1)throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Et.fromString(t));if(!Ue.isDocumentKey(n))throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return n0(r,new Ue(n))}if(t instanceof wn)return n0(r,t._key);throw new Oe(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(t)}.`)}function H0(r,e){if(!Array.isArray(r)||r.length===0)throw new Oe(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uA(r,e){const t=function(i,a){for(const u of i)for(const c of u.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Oe(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class mk{convertValue(e,t="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return fs(e,(i,a)=>{n[i]=this.convertValue(a,t)}),n}convertVectorValue(e){var t,n,i;const a=(i=(n=(t=e.fields)===null||t===void 0?void 0:t[Uc].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(u=>Ot(u.doubleValue));return new Ig(a)}convertGeoPoint(e){return new Dg(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ph(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Du(e));default:return null}}convertTimestamp(e){const t=ss(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Et.fromString(e);dt(xE(n),9688,{name:e});const i=new Iu(n.get(1),n.get(3)),a=new Ue(n.popFirst(5));return i.isEqual(t)||di(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}function yk(){return new tk("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lA extends oA{constructor(e,t,n,i,a,u){super(e,t,n,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Ih("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Dc extends lA{data(e={}){return super.data(e)}}class cA{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new gu(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Dc(this._firestore,this._userDataWriter,n.key,n,new gu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(c=>{const h=new Dc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new Dc(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,y=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),y=u.indexOf(c.doc.key)),{type:vk(c.type),doc:h,oldIndex:d,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ke(61501,{type:r})}}class Rh extends mk{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function _k(r){r=Zn(r,yi);const e=Zn(r.firestore,cs),t=Th(e),n=new Rh(e);return aA(r._query),GI(t,r._query).then(i=>new cA(e,n,r,i))}function wk(r,e,t){r=Zn(r,wn);const n=Zn(r.firestore,cs),i=gk(r.converter,e,t);return qg(n,[ok(Rg(n),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,_r.none())])}function Ek(r,e,t,...n){r=Zn(r,wn);const i=Zn(r.firestore,cs),a=Rg(i);let u;return u=typeof(e=vt(e))=="string"||e instanceof Sh?uk(a,"updateDoc",r._key,e,t,n):ak(a,"updateDoc",r._key,e),qg(i,[u.toMutation(r._key,_r.exists(!0))])}function $0(r){return qg(Zn(r.firestore,cs),[new cg(r._key,_r.none())])}function Ak(r,...e){var t,n,i;r=vt(r);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||V0(e[u])||(a=e[u],u++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(V0(e[u])){const g=e[u];e[u]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[u+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),e[u+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let h,d,y;if(r instanceof wn)d=Zn(r.firestore,cs),y=ug(r._key.path),h={next:g=>{e[u]&&e[u](Ck(d,r,g))},error:e[u+1],complete:e[u+2]};else{const g=Zn(r,yi);d=Zn(g.firestore,cs),y=g._query;const p=new Rh(d);h={next:v=>{e[u]&&e[u](new cA(d,p,g,v))},error:e[u+1],complete:e[u+2]},aA(r._query)}return function(p,v,A,b){const E=new YE(b),w=new UE(v,E,A);return p.asyncQueue.enqueueAndForget(async()=>qE(await Hm(p),w)),()=>{E.yu(),p.asyncQueue.enqueueAndForget(async()=>VE(await Hm(p),w))}}(Th(d),y,c,h)}function qg(r,e){return function(n,i){const a=new ui;return n.asyncQueue.enqueueAndForget(async()=>NI(await HI(n),i,a)),a.promise}(Th(r),e)}function Ck(r,e,t){const n=t.docs.get(e._key),i=new Rh(r);return new lA(r,i,e._key,n,new gu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(r){return Tk(r,{count:yk()})}function Tk(r,e){const t=Zn(r.firestore,cs),n=Th(t),i=gx(e,(a,u)=>new Xx(u,a.aggregateType,a._internalFieldPath));return WI(n,r._query,i).then(a=>function(c,h,d){const y=new Rh(c);return new nk(h,y,d)}(t,r,a))}function Sk(){return new Pg("serverTimestamp")}(function(e,t=!0){(function(i){la=i})(Ys),$s(new rs("firestore",(n,{instanceIdentifier:i,options:a})=>{const u=n.getProvider("app").getImmediate(),c=new cs(new ex(n.getProvider("auth-internal")),new rx(u,n.getProvider("app-check-internal")),function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Oe(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iu(d.options.projectId,y)}(u,i),u);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Lr(H2,$2,e),Lr(H2,$2,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firebasestorage.googleapis.com",fA="storageBucket",xk=2*60*1e3,Dk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt extends Ur{constructor(e,t,n=0){super(Fd(e),`Firebase Storage: ${t} (${Fd(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Fd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kt||(kt={}));function Fd(r){return"storage/"+r}function Vg(){const r="An unknown error occurred, please check the error payload for server response.";return new Rt(kt.UNKNOWN,r)}function Ik(r){return new Rt(kt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function kk(r){return new Rt(kt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Rk(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Rt(kt.UNAUTHENTICATED,r)}function Pk(){return new Rt(kt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Nk(r){return new Rt(kt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Ok(){return new Rt(kt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Lk(){return new Rt(kt.CANCELED,"User canceled the upload/download.")}function Fk(r){return new Rt(kt.INVALID_URL,"Invalid URL '"+r+"'.")}function Bk(r){return new Rt(kt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function jk(){return new Rt(kt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fA+"' property when initializing the app?")}function Mk(){return new Rt(kt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function qk(){return new Rt(kt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Vk(r){return new Rt(kt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Gm(r){return new Rt(kt.INVALID_ARGUMENT,r)}function dA(){return new Rt(kt.APP_DELETED,"The Firebase app was deleted.")}function Uk(r){return new Rt(kt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bu(r,e){return new Rt(kt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function uu(r){throw new Rt(kt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Un.makeFromUrl(e,t)}catch{return new Un(e,"")}if(n.path==="")return n;throw Bk(e)}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const u="(/(.*))?$",c=new RegExp("^gs://"+i+u,"i"),h={bucket:1,path:3};function d(T){T.path_=decodeURIComponent(T.path)}const y="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${y}/b/${i}/o${p}`,"i"),A={bucket:1,path:3},b=t===hA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,E="([^?#]*)",w=new RegExp(`^https?://${b}/${i}/${E}`,"i"),P=[{regex:c,indices:h,postModify:a},{regex:v,indices:A,postModify:d},{regex:w,indices:{bucket:1,path:2},postModify:d}];for(let T=0;T<P.length;T++){const j=P[T],q=j.regex.exec(e);if(q){const R=q[j.indices.bucket];let _=q[j.indices.path];_||(_=""),n=new Un(R,_),j.postModify(n);break}}if(n==null)throw Fk(e);return n}}class zk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(r,e,t){let n=1,i=null,a=null,u=!1,c=0;function h(){return c===2}let d=!1;function y(...E){d||(d=!0,e.apply(null,E))}function g(E){i=setTimeout(()=>{i=null,r(v,h())},E)}function p(){a&&clearTimeout(a)}function v(E,...w){if(d){p();return}if(E){p(),y.call(null,E,...w);return}if(h()||u){p(),y.call(null,E,...w);return}n<64&&(n*=2);let P;c===1?(c=2,P=0):P=(n+Math.random())*1e3,g(P)}let A=!1;function b(E){A||(A=!0,p(),!d&&(i!==null?(E||(c=2),clearTimeout(i),g(0)):E||(c=1)))}return g(0),a=setTimeout(()=>{u=!0,b(!0)},t),b}function $k(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(r){return r!==void 0}function Wk(r){return typeof r=="object"&&!Array.isArray(r)}function Ug(r){return typeof r=="string"||r instanceof String}function G0(r){return zg()&&r instanceof Blob}function zg(){return typeof Blob<"u"}function W0(r,e,t,n){if(n<e)throw Gm(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw Gm(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function pA(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const i=e(n)+"="+e(r[n]);t=t+i+"&"}return t=t.slice(0,-1),t}var zs;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(zs||(zs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(r,e){const t=r>=500&&r<600,i=[408,429].indexOf(r)!==-1,a=e.indexOf(r)!==-1;return t||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t,n,i,a,u,c,h,d,y,g,p=!0,v=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=c,this.errorCallback_=h,this.timeout_=d,this.progressCallback_=y,this.connectionFactory_=g,this.retry=p,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,b)=>{this.resolve_=A,this.reject_=b,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new _c(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=c=>{const h=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,d)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const c=a.getErrorCode()===zs.NO_ERROR,h=a.getStatus();if(!c||Kk(h,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===zs.ABORT;n(!1,new _c(!1,null,y));return}const d=this.successCodes_.indexOf(h)!==-1;n(!0,new _c(d,a))})},t=(n,i)=>{const a=this.resolve_,u=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());Gk(h)?a(h):a()}catch(h){u(h)}else if(c!==null){const h=Vg();h.serverResponse=c.getErrorText(),this.errorCallback_?u(this.errorCallback_(c,h)):u(h)}else if(i.canceled){const h=this.appDelete_?dA():Lk();u(h)}else{const h=Ok();u(h)}};this.canceled_?t(!1,new _c(!1,null,!0)):this.backoffId_=Hk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$k(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _c{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Qk(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Yk(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Xk(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Zk(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function eR(r,e,t,n,i,a,u=!0,c=!1){const h=pA(r.urlParams),d=r.url+h,y=Object.assign({},r.headers);return Xk(y,e),Qk(y,t),Yk(y,a),Zk(y,n),new Jk(d,r.method,y,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,i,u,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nR(...r){const e=tR();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(zg())return new Blob(r);throw new Rt(kt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rR(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(r){if(typeof atob>"u")throw Vk("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bd{constructor(e,t){this.data=e,this.contentType=t||null}}function sR(r,e){switch(r){case Or.RAW:return new Bd(mA(e));case Or.BASE64:case Or.BASE64URL:return new Bd(gA(r,e));case Or.DATA_URL:return new Bd(aR(e),uR(e))}throw Vg()}function mA(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=n,u=r.charCodeAt(++t);n=65536|(a&1023)<<10|u&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function oR(r){let e;try{e=decodeURIComponent(r)}catch{throw bu(Or.DATA_URL,"Malformed data URL.")}return mA(e)}function gA(r,e){switch(r){case Or.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw bu(r,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Or.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw bu(r,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=iR(e)}catch(i){throw i.message.includes("polyfill")?i:bu(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}class yA{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw bu(Or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=lR(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function aR(r){const e=new yA(r);return e.base64?gA(Or.BASE64,e.rest):oR(e.rest)}function uR(r){return new yA(r).contentType}function lR(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t){let n=0,i="";G0(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(G0(this.data_)){const n=this.data_,i=rR(n,e,t);return i===null?null:new Wi(i)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Wi(n,!0)}}static getBlob(...e){if(zg()){const t=e.map(n=>n instanceof Wi?n.data_:n);return new Wi(nR.apply(null,t))}else{const t=e.map(u=>Ug(u)?sR(Or.RAW,u).data:u.data_);let n=0;t.forEach(u=>{n+=u.byteLength});const i=new Uint8Array(n);let a=0;return t.forEach(u=>{for(let c=0;c<u.length;c++)i[a++]=u[c]}),new Wi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(r){let e;try{e=JSON.parse(r)}catch{return null}return Wk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function hR(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function _A(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(r,e){return e}class _n{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||fR}}let wc=null;function dR(r){return!Ug(r)||r.length<2?r:_A(r)}function wA(){if(wc)return wc;const r=[];r.push(new _n("bucket")),r.push(new _n("generation")),r.push(new _n("metageneration")),r.push(new _n("name","fullPath",!0));function e(a,u){return dR(u)}const t=new _n("name");t.xform=e,r.push(t);function n(a,u){return u!==void 0?Number(u):u}const i=new _n("size");return i.xform=n,r.push(i),r.push(new _n("timeCreated")),r.push(new _n("updated")),r.push(new _n("md5Hash",null,!0)),r.push(new _n("cacheControl",null,!0)),r.push(new _n("contentDisposition",null,!0)),r.push(new _n("contentEncoding",null,!0)),r.push(new _n("contentLanguage",null,!0)),r.push(new _n("contentType",null,!0)),r.push(new _n("metadata","customMetadata",!0)),wc=r,wc}function pR(r,e){function t(){const n=r.bucket,i=r.fullPath,a=new Un(n,i);return e._makeStorageReference(a)}Object.defineProperty(r,"ref",{get:t})}function mR(r,e,t){const n={};n.type="file";const i=t.length;for(let a=0;a<i;a++){const u=t[a];n[u.local]=u.xform(n,e[u.server])}return pR(n,r),n}function EA(r,e,t){const n=vA(e);return n===null?null:mR(r,n,t)}function gR(r,e,t,n){const i=vA(e);if(i===null||!Ug(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(d=>{const y=r.bucket,g=r.fullPath,p="/b/"+u(y)+"/o/"+u(g),v=Ph(p,t,n),A=pA({alt:"media",token:d});return v+A})[0]}function yR(r,e){const t={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(t[a.server]=r[a.local])}return JSON.stringify(t)}class Hg{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(r){if(!r)throw Vg()}function vR(r,e){function t(n,i){const a=EA(r,i,e);return AA(a!==null),a}return t}function _R(r,e){function t(n,i){const a=EA(r,i,e);return AA(a!==null),gR(a,i,r.host,r._protocol)}return t}function CA(r){function e(t,n){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=Pk():i=Rk():t.getStatus()===402?i=kk(r.bucket):t.getStatus()===403?i=Nk(r.path):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}return e}function bA(r){const e=CA(r);function t(n,i){let a=e(n,i);return n.getStatus()===404&&(a=Ik(r.path)),a.serverResponse=i.serverResponse,a}return t}function wR(r,e,t){const n=e.fullServerUrl(),i=Ph(n,r.host,r._protocol),a="GET",u=r.maxOperationRetryTime,c=new Hg(i,a,_R(r,t),u);return c.errorHandler=bA(e),c}function ER(r,e){const t=e.fullServerUrl(),n=Ph(t,r.host,r._protocol),i="DELETE",a=r.maxOperationRetryTime;function u(h,d){}const c=new Hg(n,i,u,a);return c.successCodes=[200,204],c.errorHandler=bA(e),c}function AR(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function CR(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=AR(null,e)),n}function bR(r,e,t,n,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function c(){let P="";for(let T=0;T<2;T++)P=P+Math.random().toString().slice(2);return P}const h=c();u["Content-Type"]="multipart/related; boundary="+h;const d=CR(e,n,i),y=yR(d,t),g="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+h+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+h+"--",v=Wi.getBlob(g,n,p);if(v===null)throw Mk();const A={name:d.fullPath},b=Ph(a,r.host,r._protocol),E="POST",w=r.maxUploadRetryTime,S=new Hg(b,E,vR(r,t),w);return S.urlParams=A,S.headers=u,S.body=v.uploadData(),S.errorHandler=CA(e),S}class TR{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,i,a){if(this.sent_)throw uu("cannot .send() more than once");if(ua(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw uu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw uu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw uu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw uu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class SR extends TR{initXhr(){this.xhr_.responseType="text"}}function $g(){return new SR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t){this._service=e,t instanceof Un?this._location=t:this._location=Un.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ks(e,t)}get root(){const e=new Un(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _A(this._location.path)}get storage(){return this._service}get parent(){const e=cR(this._location.path);if(e===null)return null;const t=new Un(this._location.bucket,e);return new Ks(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Uk(e)}}function xR(r,e,t){r._throwIfRoot("uploadBytes");const n=bR(r.storage,r._location,wA(),new Wi(e,!0),t);return r.storage.makeRequestWithTokens(n,$g).then(i=>({metadata:i,ref:r}))}function DR(r){r._throwIfRoot("getDownloadURL");const e=wR(r.storage,r._location,wA());return r.storage.makeRequestWithTokens(e,$g).then(t=>{if(t===null)throw qk();return t})}function IR(r){r._throwIfRoot("deleteObject");const e=ER(r.storage,r._location);return r.storage.makeRequestWithTokens(e,$g)}function kR(r,e){const t=hR(r._location.path,e),n=new Un(r._location.bucket,t);return new Ks(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r){return/^[A-Za-z]+:\/\//.test(r)}function PR(r,e){return new Ks(r,e)}function TA(r,e){if(r instanceof Gg){const t=r;if(t._bucket==null)throw jk();const n=new Ks(t,t._bucket);return e!=null?TA(n,e):n}else return e!==void 0?kR(r,e):r}function NR(r,e){if(e&&RR(e)){if(r instanceof Gg)return PR(r,e);throw Gm("To use ref(service, url), the first argument must be a Storage instance.")}else return TA(r,e)}function K0(r,e){const t=e==null?void 0:e[fA];return t==null?null:Un.makeFromBucketSpec(t,r)}function OR(r,e,t,n={}){r.host=`${e}:${t}`;const i=ua(e);i&&Xm(`https://${r.host}`),r._isUsingEmulator=!0,r._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(r._overrideAuthToken=typeof a=="string"?a:Tw(a,r.app.options.projectId))}class Gg{constructor(e,t,n,i,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=hA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xk,this._maxUploadRetryTime=Dk,this._requests=new Set,i!=null?this._bucket=Un.makeFromBucketSpec(i,this._host):this._bucket=K0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Un.makeFromBucketSpec(this._url,e):this._bucket=K0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){W0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){W0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ks(this,e)}_makeRequest(e,t,n,i,a=!0){if(this._deleted)return new zk(dA());{const u=eR(e,this._appId,n,i,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const J0="@firebase/storage",Q0="0.13.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="storage";function LR(r,e,t){return r=vt(r),xR(r,e,t)}function FR(r){return r=vt(r),DR(r)}function BR(r){return r=vt(r),IR(r)}function jd(r,e){return r=vt(r),NR(r,e)}function jR(r=tg(),e){r=vt(r);const n=hh(r,SA).getImmediate({identifier:e}),i=Aw("storage");return i&&MR(n,...i),n}function MR(r,e,t,n={}){OR(r,e,t,n)}function qR(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),i=r.getProvider("app-check-internal");return new Gg(t,n,i,e,Ys)}function VR(){$s(new rs(SA,qR,"PUBLIC").setMultipleInstances(!0)),Lr(J0,Q0,""),Lr(J0,Q0,"esm2017")}VR();function Wg(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function xA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UR=xA,DA=new Mu("auth","Firebase",xA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Zm("@firebase/auth");function zR(r,...e){Yc.logLevel<=it.WARN&&Yc.warn(`Auth (${Ys}): ${r}`,...e)}function Ic(r,...e){Yc.logLevel<=it.ERROR&&Yc.error(`Auth (${Ys}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(r,...e){throw Kg(r,...e)}function jr(r,...e){return Kg(r,...e)}function IA(r,e,t){const n=Object.assign(Object.assign({},UR()),{[e]:t});return new Mu("auth","Firebase",n).create(e,{appName:r.name})}function li(r){return IA(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kg(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return DA.create(r,...e)}function We(r,e,...t){if(!r)throw Kg(e,...t)}function oi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ic(e),new Error(e)}function mi(r,e){r||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function HR(){return Y0()==="http:"||Y0()==="https:"}function Y0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HR()||IT()||"connection"in navigator)?navigator.onLine:!0}function GR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t){this.shortDelay=e,this.longDelay=t,mi(t>e,"Short delay should be less than long delay!"),this.isMobile=ST()||kT()}get(){return $R()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(r,e){mi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JR=new Gu(3e4,6e4);function vi(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function zr(r,e,t,n,i={}){return RA(r,i,async()=>{let a={},u={};n&&(e==="GET"?u=n:a={body:JSON.stringify(n)});const c=qu(Object.assign({key:r.config.apiKey},u)).slice(1),h=await r._getAdditionalHeaders();h["Content-Type"]="application/json",r.languageCode&&(h["X-Firebase-Locale"]=r.languageCode);const d=Object.assign({method:e,headers:h},a);return DT()||(d.referrerPolicy="no-referrer"),r.emulatorConfig&&ua(r.emulatorConfig.host)&&(d.credentials="include"),kA.fetch()(await PA(r,r.config.apiHost,t,c),d)})}async function RA(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},WR),e);try{const i=new YR(r),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Ec(r,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const c=a.ok?u.errorMessage:u.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(r,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Ec(r,"email-already-in-use",u);if(h==="USER_DISABLED")throw Ec(r,"user-disabled",u);const y=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw IA(r,y,d);Er(r,y)}}catch(i){if(i instanceof Ur)throw i;Er(r,"network-request-failed",{message:String(i)})}}async function Wu(r,e,t,n,i={}){const a=await zr(r,e,t,n,i);return"mfaPendingCredential"in a&&Er(r,"multi-factor-auth-required",{_serverResponse:a}),a}async function PA(r,e,t,n){const i=`${e}${t}?${n}`,a=r,u=a.config.emulator?Jg(r.config,i):`${r.config.apiScheme}://${i}`;return KR.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function QR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(jr(this.auth,"network-request-failed")),JR.get())})}}function Ec(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=jr(r,e,n);return i.customData._tokenResponse=t,i}function X0(r){return r!==void 0&&r.enterprise!==void 0}class XR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZR(r,e){return zr(r,"GET","/v2/recaptchaConfig",vi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(r,e){return zr(r,"POST","/v1/accounts:delete",e)}async function Xc(r,e){return zr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tP(r,e=!1){const t=vt(r),n=await t.getIdToken(e),i=Qg(n);We(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Tu(Md(i.auth_time)),issuedAtTime:Tu(Md(i.iat)),expirationTime:Tu(Md(i.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Md(r){return Number(r)*1e3}function Qg(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Ic("JWT malformed, contained fewer than 3 sections"),null;try{const i=ww(t);return i?JSON.parse(i):(Ic("Failed to decode base64 JWT payload"),null)}catch(i){return Ic("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Z0(r){const e=Qg(r);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Ur&&nP(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function nP({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(r){var e;const t=r.auth,n=await r.getIdToken(),i=await aa(r,Xc(t,{idToken:n}));We(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?NA(a.providerUserInfo):[],c=sP(r.providerData,u),h=r.isAnonymous,d=!(r.email&&a.passwordHash)&&!(c!=null&&c.length),y=h?d:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Km(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(r,g)}async function iP(r){const e=vt(r);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sP(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function NA(r){return r.map(e=>{var{providerId:t}=e,n=Wg(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oP(r,e){const t=await RA(r,{},async()=>{const n=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=r.config,u=await PA(r,i,"/v1/token",`key=${a}`),c=await r._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",kA.fetch()(u,{method:"POST",headers:c,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aP(r,e){return zr(r,"POST","/v2/accounts:revokeToken",vi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){We(e.length!==0,"internal-error");const t=Z0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:a}=await oP(e,t);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:a}=t,u=new Yo;return n&&(We(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),i&&(We(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),a&&(We(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(r,e){We(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class vr{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,a=Wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Km(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await aa(this,this.stsTokenManager.getToken(this.auth,e));return We(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tP(this,e)}reload(){return iP(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new vr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Zc(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await aa(this,eP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,a,u,c,h,d,y;const g=(n=t.displayName)!==null&&n!==void 0?n:void 0,p=(i=t.email)!==null&&i!==void 0?i:void 0,v=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,b=(c=t.tenantId)!==null&&c!==void 0?c:void 0,E=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,w=(d=t.createdAt)!==null&&d!==void 0?d:void 0,S=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:P,emailVerified:T,isAnonymous:j,providerData:q,stsTokenManager:R}=t;We(P&&R,e,"internal-error");const _=Yo.fromJSON(this.name,R);We(typeof P=="string",e,"internal-error"),$i(g,e.name),$i(p,e.name),We(typeof T=="boolean",e,"internal-error"),We(typeof j=="boolean",e,"internal-error"),$i(v,e.name),$i(A,e.name),$i(b,e.name),$i(E,e.name),$i(w,e.name),$i(S,e.name);const D=new vr({uid:P,auth:e,email:p,emailVerified:T,displayName:g,isAnonymous:j,photoURL:A,phoneNumber:v,tenantId:b,stsTokenManager:_,createdAt:w,lastLoginAt:S});return q&&Array.isArray(q)&&(D.providerData=q.map(I=>Object.assign({},I))),E&&(D._redirectEventId=E),D}static async _fromIdTokenResponse(e,t,n=!1){const i=new Yo;i.updateFromServerResponse(t);const a=new vr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Zc(a),a}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];We(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?NA(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Yo;c.updateFromIdToken(n);const h=new vr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Km(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map;function ai(r){mi(r instanceof Function,"Expected a class definition");let e=e_.get(r);return e?(mi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,e_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}OA.type="NONE";const t_=OA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(r,e,t){return`firebase:${r}:${e}:${t}`}class Xo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=kc(this.userKey,i.apiKey,a),this.fullPersistenceKey=kc("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Xc(this.auth,{idToken:e}).catch(()=>{});return t?vr._fromGetAccountInfoResponse(this.auth,t,e):null}return vr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Xo(ai(t_),e,n);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||ai(t_);const u=kc(n,e.config.apiKey,e.name);let c=null;for(const d of t)try{const y=await d._get(u);if(y){let g;if(typeof y=="string"){const p=await Xc(e,{idToken:y}).catch(()=>{});if(!p)break;g=await vr._fromGetAccountInfoResponse(e,p,y)}else g=vr._fromJSON(e,y);d!==a&&(c=g),a=d;break}}catch{}const h=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Xo(a,e,n):(a=h[0],c&&await a._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==a)try{await d._remove(u)}catch{}})),new Xo(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qA(e))return"Blackberry";if(VA(e))return"Webos";if(FA(e))return"Safari";if((e.includes("chrome/")||BA(e))&&!e.includes("edge/"))return"Chrome";if(MA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function LA(r=fn()){return/firefox\//i.test(r)}function FA(r=fn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BA(r=fn()){return/crios\//i.test(r)}function jA(r=fn()){return/iemobile/i.test(r)}function MA(r=fn()){return/android/i.test(r)}function qA(r=fn()){return/blackberry/i.test(r)}function VA(r=fn()){return/webos/i.test(r)}function Yg(r=fn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function uP(r=fn()){var e;return Yg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lP(){return RT()&&document.documentMode===10}function UA(r=fn()){return Yg(r)||MA(r)||VA(r)||qA(r)||/windows phone/i.test(r)||jA(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(r,e=[]){let t;switch(r){case"Browser":t=n_(fn());break;case"Worker":t=`${n_(fn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ys}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((u,c)=>{try{const h=e(a);u(h)}catch(h){c(h)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(r,e={}){return zr(r,"GET","/v2/passwordPolicy",vi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=6;class dP{constructor(e){var t,n,i,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:fP,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,a,u,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(n=h.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r_(this),this.idTokenSubscription=new r_(this),this.beforeStateQueue=new cP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ai(t)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xc(this,{idToken:e}),n=await vr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===c)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=GR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(li(this));const t=e?vt(e):null;return t&&We(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hP(this),t=new dP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await aP(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ai(e)||this._popupRedirectResolver;We(t,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(c,this,"internal-error"),c.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,n,i);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&zR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ps(r){return vt(r)}class r_{constructor(e){this.auth=e,this.observer=null,this.addObserver=MT(t=>this.observer=t)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mP(r){Nh=r}function HA(r){return Nh.loadJS(r)}function gP(){return Nh.recaptchaEnterpriseScript}function yP(){return Nh.gapiScript}function vP(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class _P{constructor(){this.enterprise=new wP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const EP="recaptcha-enterprise",$A="NO_RECAPTCHA";class AP{constructor(e){this.type=EP,this.auth=ps(e)}async verify(e="verify",t=!1){async function n(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,c)=>{ZR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new XR(h);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,u(d.siteKey)}}).catch(h=>{c(h)})})}function i(a,u,c){const h=window.grecaptcha;X0(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u($A)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _P().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{n(this.auth).then(c=>{if(!t&&X0(window.grecaptcha))i(c,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=gP();h.length!==0&&(h+=c),HA(h).then(()=>{i(c,a,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function i_(r,e,t,n=!1,i=!1){const a=new AP(r);let u;if(i)u=$A;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function eh(r,e,t,n,i){var a;if(!((a=r._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await i_(r,e,t,t==="getOobCode");return n(r,u)}else return n(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await i_(r,e,t,t==="getOobCode");return n(r,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(r,e){const t=hh(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Hs(a,e??{}))return i;Er(i,"already-initialized")}return t.initialize({options:e})}function bP(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(ai);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function TP(r,e,t){const n=ps(r);We(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=GA(e),{host:u,port:c}=SP(e),h=c===null?"":`:${c}`,d={url:`${a}//${u}${h}/`},y=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){We(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),We(Hs(d,n.config.emulator)&&Hs(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,xP(),ua(u)&&Xm(`${a}//${u}${h}`)}function GA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function SP(r){const e=GA(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:s_(n.substr(a.length+1))}}else{const[a,u]=n.split(":");return{host:a,port:s_(u)}}}function s_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function xP(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,t){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function DP(r,e){return zr(r,"POST","/v1/accounts:update",e)}async function IP(r,e){return zr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(r,e){return Wu(r,"POST","/v1/accounts:signInWithPassword",vi(r,e))}async function RP(r,e){return zr(r,"POST","/v1/accounts:sendOobCode",vi(r,e))}async function PP(r,e){return RP(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(r,e){return Wu(r,"POST","/v1/accounts:signInWithEmailLink",vi(r,e))}async function OP(r,e){return Wu(r,"POST","/v1/accounts:signInWithEmailLink",vi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends Xg{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Lu(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Lu(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eh(e,t,"signInWithPassword",kP);case"emailLink":return NP(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eh(e,n,"signUpPassword",IP);case"emailLink":return OP(e,{idToken:t,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(r,e){return Wu(r,"POST","/v1/accounts:signInWithIdp",vi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="http://localhost";class Js extends Xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Er("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,a=Wg(t,["providerId","signInMethod"]);if(!n||!i)return null;const u=new Js(n,i);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Zo(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Zo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zo(e,t)}buildRequest(){const e={requestUri:LP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BP(r){const e=hu(fu(r)).link,t=e?hu(fu(e)).deep_link_id:null,n=hu(fu(r)).deep_link_id;return(n?hu(fu(n)).link:null)||n||t||e||r}class Zg{constructor(e){var t,n,i,a,u,c;const h=hu(fu(e)),d=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(n=h.oobCode)!==null&&n!==void 0?n:null,g=FP((i=h.mode)!==null&&i!==void 0?i:null);We(d&&y&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=y,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.lang)!==null&&u!==void 0?u:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=BP(e);try{return new Zg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(e,t){return Lu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Zg.parseLink(t);return We(n,"argument-error"),Lu._fromEmailAndCode(e,n.code,n.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends WA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Ku{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Js._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ji.credential(t,n)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Ku{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Ku{constructor(){super("twitter.com")}static credential(e,t){return Js._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Yi.credential(t,n)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(r,e){return Wu(r,"POST","/v1/accounts:signUp",vi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const a=await vr._fromIdTokenResponse(e,n,i),u=o_(n);return new Qs({user:a,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=o_(n);return new Qs({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function o_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends Ur{constructor(e,t,n,i){var a;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new th(e,t,n,i)}}function KA(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,a,e,n):a})}async function MP(r,e,t=!1){const n=await aa(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Qs._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP(r,e,t=!1){const{auth:n}=r;if(qn(n.app))return Promise.reject(li(n));const i="reauthenticate";try{const a=await aa(r,KA(n,i,e,r),t);We(a.idToken,n,"internal-error");const u=Qg(a.idToken);We(u,n,"internal-error");const{sub:c}=u;return We(r.uid===c,n,"user-mismatch"),Qs._forOperation(r,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Er(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(r,e,t=!1){if(qn(r.app))return Promise.reject(li(r));const n="signIn",i=await KA(r,n,e),a=await Qs._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(a.user),a}async function VP(r,e){return JA(ps(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(r){const e=ps(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UP(r,e,t){const n=ps(r);await eh(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",PP)}async function zP(r,e,t){if(qn(r.app))return Promise.reject(li(r));const n=ps(r),u=await eh(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jP).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&QA(r),h}),c=await Qs._fromIdTokenResponse(n,"signIn",u);return await n._updateCurrentUser(c.user),c}function a_(r,e,t){return qn(r.app)?Promise.reject(li(r)):VP(vt(r),pa.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&QA(r),n})}function HP(r,e){return $P(vt(r),null,e)}async function $P(r,e,t){const{auth:n}=r,a={idToken:await r.getIdToken(),returnSecureToken:!0};t&&(a.password=t);const u=await aa(r,DP(n,a));await r._updateTokensIfNecessary(u,!0)}function GP(r,e,t,n){return vt(r).onIdTokenChanged(e,t,n)}function WP(r,e,t){return vt(r).beforeAuthStateChanged(e,t)}function qd(r,e,t,n){return vt(r).onAuthStateChanged(e,t,n)}function u_(r){return vt(r).signOut()}async function KP(r){return vt(r).delete()}const nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=1e3,QP=10;class XA extends YA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,h)=>{this.notifyListeners(u,h)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},a=this.storage.getItem(n);lP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,QP):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},JP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}XA.type="LOCAL";const YP=XA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA extends YA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ZA.type="SESSION";const eC=ZA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Oh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:a}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(u).map(async d=>d(t.origin,a)),h=await XP(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,u;return new Promise((c,h)=>{const d=ey("",20);i.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},n);u={messageChannel:i,onMessage(g){const p=g;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(p.data.response);break;default:clearTimeout(y),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function eN(r){Mr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function tN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function rN(){return tC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="firebaseLocalStorageDb",iN=1,rh="firebaseLocalStorage",rC="fbase_key";class Ju{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Lh(r,e){return r.transaction([rh],e?"readwrite":"readonly").objectStore(rh)}function sN(){const r=indexedDB.deleteDatabase(nC);return new Ju(r).toPromise()}function Jm(){const r=indexedDB.open(nC,iN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(rh,{keyPath:rC})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(rh)?e(n):(n.close(),await sN(),e(await Jm()))})})}async function l_(r,e,t){const n=Lh(r,!0).put({[rC]:e,value:t});return new Ju(n).toPromise()}async function oN(r,e){const t=Lh(r,!1).get(e),n=await new Ju(t).toPromise();return n===void 0?null:n.value}function c_(r,e){const t=Lh(r,!0).delete(e);return new Ju(t).toPromise()}const aN=800,uN=3;class iC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>uN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(rN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tN(),!this.activeServiceWorker)return;this.sender=new ZP(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await l_(e,nh,"1"),await c_(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>l_(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>oN(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>c_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Lh(i,!1).getAll();return new Ju(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iC.type="LOCAL";const lN=iC;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(r,e){return e?ai(e):(We(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hN(r){return JA(r.auth,new ty(r),r.bypassAuthState)}function fN(r){const{auth:e,user:t}=r;return We(t,e,"internal-error"),qP(t,new ty(r),r.bypassAuthState)}async function dN(r){const{auth:e,user:t}=r;return We(t,e,"internal-error"),MP(t,new ty(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:a,error:u,type:c}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hN;case"linkViaPopup":case"linkViaRedirect":return dN;case"reauthViaPopup":case"reauthViaRedirect":return fN;default:Er(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Gu(2e3,1e4);class Jo extends sC{constructor(e,t,n,i,a){super(e,t,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pN.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="pendingRedirect",Rc=new Map;class gN extends sC{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Rc.get(this.auth._key());if(!e){try{const n=await yN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Rc.set(this.auth._key(),e)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yN(r,e){const t=wN(e),n=_N(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function vN(r,e){Rc.set(r._key(),e)}function _N(r){return ai(r._redirectPersistence)}function wN(r){return kc(mN,r.config.apiKey,r.name)}async function EN(r,e,t=!1){if(qn(r.app))return Promise.reject(li(r));const n=ps(r),i=cN(n,e),u=await new gN(n,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=10*60*1e3;class CN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!oC(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(jr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AN&&this.cachedEventUids.clear(),this.cachedEventUids.has(h_(e))}saveEventToCache(e){this.cachedEventUids.add(h_(e)),this.lastProcessedEventTime=Date.now()}}function h_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function oC({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oC(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(r,e={}){return zr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xN=/^https?/;async function DN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await TN(r);for(const t of e)try{if(IN(t))return}catch{}Er(r,"unauthorized-domain")}function IN(r){const e=Wm(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!xN.test(t))return!1;if(SN.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new Gu(3e4,6e4);function f_(){const r=Mr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function RN(r){return new Promise((e,t)=>{var n,i,a;function u(){f_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f_(),t(jr(r,"network-request-failed"))},timeout:kN.get()})}if(!((i=(n=Mr().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Mr().gapi)===null||a===void 0)&&a.load)u();else{const c=vP("iframefcb");return Mr()[c]=()=>{gapi.load?u():t(jr(r,"network-request-failed"))},HA(`${yP()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function PN(r){return Pc=Pc||RN(r),Pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new Gu(5e3,15e3),ON="__/auth/iframe",LN="emulator/auth/iframe",FN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jN(r){const e=r.config;We(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Jg(e,LN):`https://${r.config.authDomain}/${ON}`,n={apiKey:e.apiKey,appName:r.name,v:Ys},i=BN.get(r.config.apiHost);i&&(n.eid=i);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${qu(n).slice(1)}`}async function MN(r){const e=await PN(r),t=Mr().gapi;return We(t,r,"internal-error"),e.open({where:document.body,url:jN(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FN,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const u=jr(r,"network-request-failed"),c=Mr().setTimeout(()=>{a(u)},NN.get());function h(){Mr().clearTimeout(c),i(n)}n.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VN=500,UN=600,zN="_blank",HN="http://localhost";class d_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $N(r,e,t,n=VN,i=UN){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const h=Object.assign(Object.assign({},qN),{width:n.toString(),height:i.toString(),top:a,left:u}),d=fn().toLowerCase();t&&(c=BA(d)?zN:t),LA(d)&&(e=e||HN,h.scrollbars="yes");const y=Object.entries(h).reduce((p,[v,A])=>`${p}${v}=${A},`,"");if(uP(d)&&c!=="_self")return GN(e||"",c),new d_(null);const g=window.open(e||"",c,y);We(g,r,"popup-blocked");try{g.focus()}catch{}return new d_(g)}function GN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="__/auth/handler",KN="emulator/auth/handler",JN=encodeURIComponent("fac");async function p_(r,e,t,n,i,a){We(r.config.authDomain,r,"auth-domain-config-required"),We(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Ys,eventId:i};if(e instanceof WA){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",jT(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,g]of Object.entries({}))u[y]=g}if(e instanceof Ku){const y=e.getScopes().filter(g=>g!=="");y.length>0&&(u.scopes=y.join(","))}r.tenantId&&(u.tid=r.tenantId);const c=u;for(const y of Object.keys(c))c[y]===void 0&&delete c[y];const h=await r._getAppCheckToken(),d=h?`#${JN}=${encodeURIComponent(h)}`:"";return`${QN(r)}?${qu(c).slice(1)}${d}`}function QN({config:r}){return r.emulator?Jg(r,KN):`https://${r.authDomain}/${WN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="webStorageSupport";class YN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eC,this._completeRedirectFn=EN,this._overrideRedirectResult=vN}async _openPopup(e,t,n,i){var a;mi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await p_(e,t,n,Wm(),i);return $N(e,u,ey())}async _openRedirect(e,t,n,i){await this._originValidation(e);const a=await p_(e,t,n,Wm(),i);return eN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(mi(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await MN(e),n=new CN(e);return t.register("authEvent",i=>(We(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vd,{type:Vd},i=>{var a;const u=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Vd];u!==void 0&&t(!!u),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return UA()||FA()||Yg()}}const XN=YN;var m_="@firebase/auth",g_="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tO(r){$s(new rs("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=n.options;We(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:u,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zA(r)},d=new pP(n,i,a,h);return bP(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),$s(new rs("auth-internal",e=>{const t=ps(e.getProvider("auth").getImmediate());return(n=>new ZN(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(m_,g_,eO(r)),Lr(m_,g_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=5*60,rO=bw("authIdTokenMaxAge")||nO;let y_=null;const iO=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>rO)return;const i=t==null?void 0:t.token;y_!==i&&(y_=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Nc(r=tg()){const e=hh(r,"auth");if(e.isInitialized())return e.getImmediate();const t=CP(r,{popupRedirectResolver:XN,persistence:[lN,YP,eC]}),n=bw("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const u=iO(a.toString());WP(t,u,()=>u(t.currentUser)),GP(t,c=>u(c))}}const i=Ew("auth");return i&&TP(t,`http://${i}`),t}function sO(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}mP({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const a=jr("internal-error");a.customData=i,t(a)},n.type="text/javascript",n.charset="UTF-8",sO().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tO("Browser");const oO={apiKey:"AIzaSyC1ejMnWWe98bFa29RwIiBBB7UndNdJ1cA",authDomain:"salescaptureai.firebaseapp.com",projectId:"salescaptureai",storageBucket:"salescaptureai.firebasestorage.app",messagingSenderId:"392166418592",appId:"1:392166418592:web:7807d9aafec37b8c0581c5",measurementId:"G-BTPP6403LT"},aC=Dw(oO),aO=jR(),uO=ZI(aC),lO=Nc(aC);class cO{constructor(){he(this,"doNotInclude",["render","forceUpdate","setState"])}bind(e){var n;let t=Object.getPrototypeOf(e);for(;t&&t!==Object.prototype;){const i=Object.getOwnPropertyNames(t).filter(a=>typeof t[a]=="function"&&a!=="constructor");for(let a of i)this.doNotInclude.includes(a)||(e[a]=(n=e[a])==null?void 0:n.bind(e));t=Object.getPrototypeOf(t)}}setDoNotIncludeList(e){this.doNotInclude=e}leaveOut(e){this.doNotInclude.push(e)}include(e){this.doNotInclude=this.doNotInclude.filter(t=>t!==e)}}let En=new cO;class ci{constructor(){he(this,"list",[]);En.bind(this)}setList(e){e=e.filter(t=>t!==void 0),this.list=e}getList(){return this.list}subscribe(e){e&&this.list.push(e)}unsubscribe(e){this.list=this.list.filter(t=>t!==e)}run(...e){for(let t of this.list)t&&t(...e)}}var lu={},v_;function hO(){if(v_)return lu;v_=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.parse=u,lu.serialize=d;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function u(p,v){const A=new a,b=p.length;if(b<2)return A;const E=(v==null?void 0:v.decode)||y;let w=0;do{const S=p.indexOf("=",w);if(S===-1)break;const P=p.indexOf(";",w),T=P===-1?b:P;if(S>T){w=p.lastIndexOf(";",S-1)+1;continue}const j=c(p,w,S),q=h(p,S,j),R=p.slice(j,q);if(A[R]===void 0){let _=c(p,S+1,T),D=h(p,T,_);const I=E(p.slice(_,D));A[R]=I}w=T+1}while(w<b);return A}function c(p,v,A){do{const b=p.charCodeAt(v);if(b!==32&&b!==9)return v}while(++v<A);return A}function h(p,v,A){for(;v>A;){const b=p.charCodeAt(--v);if(b!==32&&b!==9)return v+1}return A}function d(p,v,A){const b=(A==null?void 0:A.encode)||encodeURIComponent;if(!r.test(p))throw new TypeError(`argument name is invalid: ${p}`);const E=b(v);if(!e.test(E))throw new TypeError(`argument val is invalid: ${v}`);let w=p+"="+E;if(!A)return w;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);w+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);w+="; Domain="+A.domain}if(A.path){if(!n.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);w+="; Path="+A.path}if(A.expires){if(!g(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);w+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(w+="; HttpOnly"),A.secure&&(w+="; Secure"),A.partitioned&&(w+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return w}function y(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function g(p){return i.call(p)==="[object Date]"}return lu}hO();var __="popstate";function fO(r={}){function e(n,i){let{pathname:a,search:u,hash:c}=n.location;return Qm("",{pathname:a,search:u,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Fu(i)}return pO(e,t,null,r)}function xt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Vr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dO(){return Math.random().toString(36).substring(2,10)}function w_(r,e){return{usr:r.state,key:r.key,idx:e}}function Qm(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:t,key:e&&e.key||n||dO()}}function Fu({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ma(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function pO(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,u=i.history,c="POP",h=null,d=y();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function y(){return(u.state||{idx:null}).idx}function g(){c="POP";let E=y(),w=E==null?null:E-d;d=E,h&&h({action:c,location:b.location,delta:w})}function p(E,w){c="PUSH";let S=Qm(b.location,E,w);d=y()+1;let P=w_(S,d),T=b.createHref(S);try{u.pushState(P,"",T)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(T)}a&&h&&h({action:c,location:b.location,delta:1})}function v(E,w){c="REPLACE";let S=Qm(b.location,E,w);d=y();let P=w_(S,d),T=b.createHref(S);u.replaceState(P,"",T),a&&h&&h({action:c,location:b.location,delta:0})}function A(E){let w=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof E=="string"?E:Fu(E);return S=S.replace(/ $/,"%20"),xt(w,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,w)}let b={get action(){return c},get location(){return r(i,u)},listen(E){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(__,g),h=E,()=>{i.removeEventListener(__,g),h=null}},createHref(E){return e(i,E)},createURL:A,encodeLocation(E){let w=A(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:v,go(E){return u.go(E)}};return b}function uC(r,e,t="/"){return mO(r,e,t,!1)}function mO(r,e,t,n){let i=typeof e=="string"?ma(e):e,a=gi(i.pathname||"/",t);if(a==null)return null;let u=lC(r);gO(u);let c=null;for(let h=0;c==null&&h<u.length;++h){let d=xO(a);c=TO(u[h],d,n)}return c}function lC(r,e=[],t=[],n=""){let i=(a,u,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(xt(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let d=hi([n,h.relativePath]),y=t.concat(h);a.children&&a.children.length>0&&(xt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),lC(a.children,e,y,d)),!(a.path==null&&!a.index)&&e.push({path:d,score:CO(d,a.index),routesMeta:y})};return r.forEach((a,u)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,u);else for(let h of cC(a.path))i(a,u,h)}),e}function cC(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let u=cC(n.join("/")),c=[];return c.push(...u.map(h=>h===""?a:[a,h].join("/"))),i&&c.push(...u),c.map(h=>r.startsWith("/")&&h===""?"/":h)}function gO(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:bO(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var yO=/^:[\w-]+$/,vO=3,_O=2,wO=1,EO=10,AO=-2,E_=r=>r==="*";function CO(r,e){let t=r.split("/"),n=t.length;return t.some(E_)&&(n+=AO),e&&(n+=_O),t.filter(i=>!E_(i)).reduce((i,a)=>i+(yO.test(a)?vO:a===""?wO:EO),n)}function bO(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function TO(r,e,t=!1){let{routesMeta:n}=r,i={},a="/",u=[];for(let c=0;c<n.length;++c){let h=n[c],d=c===n.length-1,y=a==="/"?e:e.slice(a.length)||"/",g=ih({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},y),p=h.route;if(!g&&d&&t&&!n[n.length-1].route.index&&(g=ih({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!g)return null;Object.assign(i,g.params),u.push({params:i,pathname:hi([a,g.pathname]),pathnameBase:RO(hi([a,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(a=hi([a,g.pathnameBase]))}return u}function ih(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=SO(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((d,{paramName:y,isOptional:g},p)=>{if(y==="*"){let A=c[p]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const v=c[p];return g&&!v?d[y]=void 0:d[y]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:u,pattern:r}}function SO(r,e=!1,t=!0){Vr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function xO(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function gi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function DO(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?ma(r):r;return{pathname:t?t.startsWith("/")?t:IO(t,e):e,search:PO(n),hash:NO(i)}}function IO(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ud(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kO(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hC(r){let e=kO(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function fC(r,e,t,n=!1){let i;typeof r=="string"?i=ma(r):(i={...r},xt(!i.pathname||!i.pathname.includes("?"),Ud("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),Ud("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),Ud("#","search","hash",i)));let a=r===""||i.pathname==="",u=a?"/":i.pathname,c;if(u==null)c=t;else{let g=e.length-1;if(!n&&u.startsWith("..")){let p=u.split("/");for(;p[0]==="..";)p.shift(),g-=1;i.pathname=p.join("/")}c=g>=0?e[g]:"/"}let h=DO(i,c),d=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||y)&&(h.pathname+="/"),h}var hi=r=>r.join("/").replace(/\/\/+/g,"/"),RO=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),PO=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,NO=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function OO(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var dC=["POST","PUT","PATCH","DELETE"];new Set(dC);var LO=["GET",...dC];new Set(LO);var ga=ve.createContext(null);ga.displayName="DataRouter";var Fh=ve.createContext(null);Fh.displayName="DataRouterState";var pC=ve.createContext({isTransitioning:!1});pC.displayName="ViewTransition";var FO=ve.createContext(new Map);FO.displayName="Fetchers";var BO=ve.createContext(null);BO.displayName="Await";var Hr=ve.createContext(null);Hr.displayName="Navigation";var Qu=ve.createContext(null);Qu.displayName="Location";var _i=ve.createContext({outlet:null,matches:[],isDataRoute:!1});_i.displayName="Route";var ny=ve.createContext(null);ny.displayName="RouteError";function jO(r,{relative:e}={}){xt(Yu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=ve.useContext(Hr),{hash:i,pathname:a,search:u}=Xu(r,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:hi([t,a])),n.createHref({pathname:c,search:u,hash:i})}function Yu(){return ve.useContext(Qu)!=null}function eo(){return xt(Yu(),"useLocation() may be used only in the context of a <Router> component."),ve.useContext(Qu).location}var mC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gC(r){ve.useContext(Hr).static||ve.useLayoutEffect(r)}function MO(){let{isDataRoute:r}=ve.useContext(_i);return r?XO():qO()}function qO(){xt(Yu(),"useNavigate() may be used only in the context of a <Router> component.");let r=ve.useContext(ga),{basename:e,navigator:t}=ve.useContext(Hr),{matches:n}=ve.useContext(_i),{pathname:i}=eo(),a=JSON.stringify(hC(n)),u=ve.useRef(!1);return gC(()=>{u.current=!0}),ve.useCallback((h,d={})=>{if(Vr(u.current,mC),!u.current)return;if(typeof h=="number"){t.go(h);return}let y=fC(h,JSON.parse(a),i,d.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:hi([e,y.pathname])),(d.replace?t.replace:t.push)(y,d.state,d)},[e,t,a,i,r])}ve.createContext(null);function Xu(r,{relative:e}={}){let{matches:t}=ve.useContext(_i),{pathname:n}=eo(),i=JSON.stringify(hC(t));return ve.useMemo(()=>fC(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function VO(r,e){return yC(r,e)}function yC(r,e,t,n){var S;xt(Yu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=ve.useContext(Hr),{matches:u}=ve.useContext(_i),c=u[u.length-1],h=c?c.params:{},d=c?c.pathname:"/",y=c?c.pathnameBase:"/",g=c&&c.route;{let P=g&&g.path||"";vC(d,!g||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let p=eo(),v;if(e){let P=typeof e=="string"?ma(e):e;xt(y==="/"||((S=P.pathname)==null?void 0:S.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${P.pathname}" was given in the \`location\` prop.`),v=P}else v=p;let A=v.pathname||"/",b=A;if(y!=="/"){let P=y.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice(P.length).join("/")}let E=!a&&t&&t.matches&&t.matches.length>0?t.matches:uC(r,{pathname:b});Vr(g||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Vr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=GO(E&&E.map(P=>Object.assign({},P,{params:Object.assign({},h,P.params),pathname:hi([y,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?y:hi([y,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),u,t,n);return e&&w?ve.createElement(Qu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},w):w}function UO(){let r=YO(),e=OO(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=ve.createElement(ve.Fragment,null,ve.createElement("p",null,"💿 Hey developer 👋"),ve.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ve.createElement("code",{style:a},"ErrorBoundary")," or"," ",ve.createElement("code",{style:a},"errorElement")," prop on your route.")),ve.createElement(ve.Fragment,null,ve.createElement("h2",null,"Unexpected Application Error!"),ve.createElement("h3",{style:{fontStyle:"italic"}},e),t?ve.createElement("pre",{style:i},t):null,u)}var zO=ve.createElement(UO,null),HO=class extends ve.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?ve.createElement(_i.Provider,{value:this.props.routeContext},ve.createElement(ny.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $O({routeContext:r,match:e,children:t}){let n=ve.useContext(ga);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ve.createElement(_i.Provider,{value:r},t)}function GO(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,a=t==null?void 0:t.errors;if(a!=null){let h=i.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);xt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let u=!1,c=-1;if(t)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:y,errors:g}=t,p=d.route.loader&&!y.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||p){u=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,d,y)=>{let g,p=!1,v=null,A=null;t&&(g=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||zO,u&&(c<0&&y===0?(vC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,A=null):c===y&&(p=!0,A=d.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,y+1)),E=()=>{let w;return g?w=v:p?w=A:d.route.Component?w=ve.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=h,ve.createElement($O,{match:d,routeContext:{outlet:h,matches:b,isDataRoute:t!=null},children:w})};return t&&(d.route.ErrorBoundary||d.route.errorElement||y===0)?ve.createElement(HO,{location:t.location,revalidation:t.revalidation,component:v,error:g,children:E(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):E()},null)}function ry(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WO(r){let e=ve.useContext(ga);return xt(e,ry(r)),e}function KO(r){let e=ve.useContext(Fh);return xt(e,ry(r)),e}function JO(r){let e=ve.useContext(_i);return xt(e,ry(r)),e}function iy(r){let e=JO(r),t=e.matches[e.matches.length-1];return xt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function QO(){return iy("useRouteId")}function YO(){var n;let r=ve.useContext(ny),e=KO("useRouteError"),t=iy("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function XO(){let{router:r}=WO("useNavigate"),e=iy("useNavigate"),t=ve.useRef(!1);return gC(()=>{t.current=!0}),ve.useCallback(async(i,a={})=>{Vr(t.current,mC),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...a}))},[r,e])}var A_={};function vC(r,e,t){!e&&!A_[r]&&(A_[r]=!0,Vr(!1,t))}ve.memo(ZO);function ZO({routes:r,future:e,state:t}){return yC(r,void 0,t,e)}function Wo(r){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function e3({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1}){xt(!Yu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),c=ve.useMemo(()=>({basename:u,navigator:i,static:a,future:{}}),[u,i,a]);typeof t=="string"&&(t=ma(t));let{pathname:h="/",search:d="",hash:y="",state:g=null,key:p="default"}=t,v=ve.useMemo(()=>{let A=gi(h,u);return A==null?null:{location:{pathname:A,search:d,hash:y,state:g,key:p},navigationType:n}},[u,h,d,y,g,p,n]);return Vr(v!=null,`<Router basename="${u}"> is not able to match the URL "${h}${d}${y}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:ve.createElement(Hr.Provider,{value:c},ve.createElement(Qu.Provider,{children:e,value:v}))}function C_({children:r,location:e}){return VO(Ym(r),e)}function Ym(r,e=[]){let t=[];return ve.Children.forEach(r,(n,i)=>{if(!ve.isValidElement(n))return;let a=[...e,i];if(n.type===ve.Fragment){t.push.apply(t,Ym(n.props.children,a));return}xt(n.type===Wo,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=Ym(n.props.children,a)),t.push(u)}),t}var Oc="get",Lc="application/x-www-form-urlencoded";function Bh(r){return r!=null&&typeof r.tagName=="string"}function t3(r){return Bh(r)&&r.tagName.toLowerCase()==="button"}function n3(r){return Bh(r)&&r.tagName.toLowerCase()==="form"}function r3(r){return Bh(r)&&r.tagName.toLowerCase()==="input"}function i3(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function s3(r,e){return r.button===0&&(!e||e==="_self")&&!i3(r)}var Ac=null;function o3(){if(Ac===null)try{new FormData(document.createElement("form"),0),Ac=!1}catch{Ac=!0}return Ac}var a3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zd(r){return r!=null&&!a3.has(r)?(Vr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lc}"`),null):r}function u3(r,e){let t,n,i,a,u;if(n3(r)){let c=r.getAttribute("action");n=c?gi(c,e):null,t=r.getAttribute("method")||Oc,i=zd(r.getAttribute("enctype"))||Lc,a=new FormData(r)}else if(t3(r)||r3(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||c.getAttribute("action");if(n=h?gi(h,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||Oc,i=zd(r.getAttribute("formenctype"))||zd(c.getAttribute("enctype"))||Lc,a=new FormData(c,r),!o3()){let{name:d,type:y,value:g}=r;if(y==="image"){let p=d?`${d}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else d&&a.append(d,g)}}else{if(Bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Oc,n=null,i=Lc,u=r}return a&&i==="text/plain"&&(u=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:u}}function sy(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function l3(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function c3(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function h3(r,e,t){let n=await Promise.all(r.map(async i=>{let a=e.routes[i.route.id];if(a){let u=await l3(a,t);return u.links?u.links():[]}return[]}));return m3(n.flat(1).filter(c3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function b_(r,e,t,n,i,a){let u=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,c=(h,d)=>{var y;return t[d].pathname!==h.pathname||((y=t[d].route.path)==null?void 0:y.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,d)=>u(h,d)||c(h,d)):a==="data"?e.filter((h,d)=>{var g;let y=n.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let p=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function f3(r,e,{includeHydrateFallback:t}={}){return d3(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function d3(r){return[...new Set(r)]}function p3(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function m3(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let a=JSON.stringify(p3(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}var g3=new Set([100,101,204,205]);function y3(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&gi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function _C(){let r=ve.useContext(ga);return sy(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function v3(){let r=ve.useContext(Fh);return sy(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var oy=ve.createContext(void 0);oy.displayName="FrameworkContext";function wC(){let r=ve.useContext(oy);return sy(r,"You must render this element inside a <HydratedRouter> element"),r}function _3(r,e){let t=ve.useContext(oy),[n,i]=ve.useState(!1),[a,u]=ve.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:y,onTouchStart:g}=e,p=ve.useRef(null);ve.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let b=w=>{w.forEach(S=>{u(S.isIntersecting)})},E=new IntersectionObserver(b,{threshold:.5});return p.current&&E.observe(p.current),()=>{E.disconnect()}}},[r]),ve.useEffect(()=>{if(n){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[n]);let v=()=>{i(!0)},A=()=>{i(!1),u(!1)};return t?r!=="intent"?[a,p,{}]:[a,p,{onFocus:cu(c,v),onBlur:cu(h,A),onMouseEnter:cu(d,v),onMouseLeave:cu(y,A),onTouchStart:cu(g,v)}]:[!1,p,{}]}function cu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function w3({page:r,...e}){let{router:t}=_C(),n=ve.useMemo(()=>uC(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?ve.createElement(A3,{page:r,matches:n,...e}):null}function E3(r){let{manifest:e,routeModules:t}=wC(),[n,i]=ve.useState([]);return ve.useEffect(()=>{let a=!1;return h3(r,e,t).then(u=>{a||i(u)}),()=>{a=!0}},[r,e,t]),n}function A3({page:r,matches:e,...t}){let n=eo(),{manifest:i,routeModules:a}=wC(),{basename:u}=_C(),{loaderData:c,matches:h}=v3(),d=ve.useMemo(()=>b_(r,e,h,i,n,"data"),[r,e,h,i,n]),y=ve.useMemo(()=>b_(r,e,h,i,n,"assets"),[r,e,h,i,n]),g=ve.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let A=new Set,b=!1;if(e.forEach(w=>{var P;let S=i.routes[w.route.id];!S||!S.hasLoader||(!d.some(T=>T.route.id===w.route.id)&&w.route.id in c&&((P=a[w.route.id])!=null&&P.shouldRevalidate)||S.hasClientLoader?b=!0:A.add(w.route.id))}),A.size===0)return[];let E=y3(r,u);return b&&A.size>0&&E.searchParams.set("_routes",e.filter(w=>A.has(w.route.id)).map(w=>w.route.id).join(",")),[E.pathname+E.search]},[u,c,n,i,d,e,r,a]),p=ve.useMemo(()=>f3(y,i),[y,i]),v=E3(y);return ve.createElement(ve.Fragment,null,g.map(A=>ve.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),p.map(A=>ve.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),v.map(({key:A,link:b})=>ve.createElement("link",{key:A,...b})))}function C3(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var EC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{EC&&(window.__reactRouterVersion="7.5.3")}catch{}function b3({basename:r,children:e,window:t}){let n=ve.useRef();n.current==null&&(n.current=fO({window:t,v5Compat:!0}));let i=n.current,[a,u]=ve.useState({action:i.action,location:i.location}),c=ve.useCallback(h=>{ve.startTransition(()=>u(h))},[u]);return ve.useLayoutEffect(()=>i.listen(c),[i,c]),ve.createElement(e3,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:i})}var AC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hn=ve.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:u,state:c,target:h,to:d,preventScrollReset:y,viewTransition:g,...p},v){let{basename:A}=ve.useContext(Hr),b=typeof d=="string"&&AC.test(d),E,w=!1;if(typeof d=="string"&&b&&(E=d,EC))try{let D=new URL(window.location.href),I=d.startsWith("//")?new URL(D.protocol+d):new URL(d),k=gi(I.pathname,A);I.origin===D.origin&&k!=null?d=k+I.search+I.hash:w=!0}catch{Vr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=jO(d,{relative:i}),[P,T,j]=_3(n,p),q=D3(d,{replace:u,state:c,target:h,preventScrollReset:y,relative:i,viewTransition:g});function R(D){e&&e(D),D.defaultPrevented||q(D)}let _=ve.createElement("a",{...p,...j,href:E||S,onClick:w||a?e:R,ref:C3(v,T),target:h,"data-discover":!b&&t==="render"?"true":void 0});return P&&!b?ve.createElement(ve.Fragment,null,_,ve.createElement(w3,{page:S})):_});hn.displayName="Link";var T3=ve.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:u,viewTransition:c,children:h,...d},y){let g=Xu(u,{relative:d.relative}),p=eo(),v=ve.useContext(Fh),{navigator:A,basename:b}=ve.useContext(Hr),E=v!=null&&N3(g)&&c===!0,w=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,S=p.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(S=S.toLowerCase(),P=P?P.toLowerCase():null,w=w.toLowerCase()),P&&b&&(P=gi(P,b)||P);const T=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let j=S===w||!i&&S.startsWith(w)&&S.charAt(T)==="/",q=P!=null&&(P===w||!i&&P.startsWith(w)&&P.charAt(w.length)==="/"),R={isActive:j,isPending:q,isTransitioning:E},_=j?e:void 0,D;typeof n=="function"?D=n(R):D=[n,j?"active":null,q?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(R):a;return ve.createElement(hn,{...d,"aria-current":_,className:D,ref:y,style:I,to:u,viewTransition:c},typeof h=="function"?h(R):h)});T3.displayName="NavLink";var S3=ve.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:u=Oc,action:c,onSubmit:h,relative:d,preventScrollReset:y,viewTransition:g,...p},v)=>{let A=R3(),b=P3(c,{relative:d}),E=u.toLowerCase()==="get"?"get":"post",w=typeof c=="string"&&AC.test(c),S=P=>{if(h&&h(P),P.defaultPrevented)return;P.preventDefault();let T=P.nativeEvent.submitter,j=(T==null?void 0:T.getAttribute("formmethod"))||u;A(T||P.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:a,relative:d,preventScrollReset:y,viewTransition:g})};return ve.createElement("form",{ref:v,method:E,action:b,onSubmit:n?h:S,...p,"data-discover":!w&&r==="render"?"true":void 0})});S3.displayName="Form";function x3(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CC(r){let e=ve.useContext(ga);return xt(e,x3(r)),e}function D3(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:u}={}){let c=MO(),h=eo(),d=Xu(r,{relative:a});return ve.useCallback(y=>{if(s3(y,e)){y.preventDefault();let g=t!==void 0?t:Fu(h)===Fu(d);c(r,{replace:g,state:n,preventScrollReset:i,relative:a,viewTransition:u})}},[h,c,d,t,n,e,r,i,a,u])}var I3=0,k3=()=>`__${String(++I3)}__`;function R3(){let{router:r}=CC("useSubmit"),{basename:e}=ve.useContext(Hr),t=QO();return ve.useCallback(async(n,i={})=>{let{action:a,method:u,encType:c,formData:h,body:d}=u3(n,e);if(i.navigate===!1){let y=i.fetcherKey||k3();await r.fetch(y,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||u,formEncType:i.encType||c,flushSync:i.flushSync})}else await r.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||u,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function P3(r,{relative:e}={}){let{basename:t}=ve.useContext(Hr),n=ve.useContext(_i);xt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Xu(r||".",{relative:e})},u=eo();if(r==null){a.search=u.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(y=>y==="")){c.delete("index"),h.filter(g=>g).forEach(g=>c.append("index",g));let y=c.toString();a.search=y?`?${y}`:""}}return(!r||r===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:hi([t,a.pathname])),Fu(a)}function N3(r,e={}){let t=ve.useContext(pC);xt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=CC("useViewTransitionState"),i=Xu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=gi(t.currentLocation.pathname,n)||t.currentLocation.pathname,u=gi(t.nextLocation.pathname,n)||t.nextLocation.pathname;return ih(i.pathname,u)!=null||ih(i.pathname,a)!=null}new TextEncoder;[...g3];class O3{constructor(e){En.bind(this),this.props={...e},this.content=e.content||"",this.type="div"}setHtmlType(e){this.type=e}getHtmlType(){return this.type}setProp(e,t){this.props[e]=t}setProps(e){this.props={...e},e.content&&(this.content=e.content)}updateProps(e){this.props={...this.props,...e},e.content&&(this.content=e.content)}addProps(e){this.props={...this.props,...e},e.content&&(this.content=e.content)}getProps(){return this.props}getProp(e){return this.props[e]}setStyle(e){this.props.style=e}updateStyle(e){this.props.style={...this.props.style,...e}}getStyle(){return this.props.style}setClass(e){this.props.className=e}getClass(){return this.props.className}setOnChange(e){this.props.onChange=e}setOnClick(e){this.props.onClick=e}getOnClick(){return this.props.onClick}setContent(e){this.content=e}getContent(){return this.content}getHtml(e){let{content:t,props:n}=e,i=e==null?void 0:e.type;t&&(this.content=t),n={...this.props,...n};const a={a:C.jsx("a",{...n,children:this.content}),button:C.jsx("button",{...n,children:this.content}),div:C.jsx("div",{...n,children:this.content}),h1:C.jsx("h1",{...n,children:this.content}),h2:C.jsx("h2",{...n,children:this.content}),h3:C.jsx("h3",{...n,children:this.content}),h4:C.jsx("h4",{...n,children:this.content}),h5:C.jsx("h5",{...n,children:this.content}),h6:C.jsx("h6",{...n,children:this.content}),img:C.jsx("img",{...n}),input:C.jsx("input",{...n}),p:C.jsx("p",{...n,children:this.content}),span:C.jsx("span",{...n,children:this.content}),table:C.jsx("table",{...n,children:this.content}),tr:C.jsx("tr",{...n,children:this.content}),td:C.jsx("td",{...n,children:this.content}),th:C.jsx("th",{...n,children:this.content}),ul:C.jsx("ul",{...n,children:this.content}),li:C.jsx("li",{...n,children:this.content}),ol:C.jsx("ol",{...n,children:this.content}),form:C.jsx("form",{...n,children:this.content}),textarea:C.jsx("textarea",{...n,children:this.content}),select:C.jsx("select",{...n,children:this.content}),option:C.jsx("option",{...n,children:this.content}),label:C.jsx("label",{...n,children:this.content}),nav:C.jsx("nav",{...n,children:this.content}),footer:C.jsx("footer",{...n,children:this.content}),header:C.jsx("header",{...n,children:this.content}),article:C.jsx("article",{...n,children:this.content}),section:C.jsx("section",{...n,children:this.content}),aside:C.jsx("aside",{...n,children:this.content}),main:C.jsx("main",{...n,children:this.content}),video:C.jsx("video",{...n,children:this.content}),audio:C.jsx("audio",{...n,children:this.content}),iframe:C.jsx("iframe",{...n,children:this.content}),canvas:C.jsx("canvas",{...n,children:this.content}),content:C.jsx(C.Fragment,{}),fragment:C.jsx(C.Fragment,{children:this.content}),link:C.jsx(hn,{...n,children:this.content})};if(i==="content"||this.type==="conent"){let c=this.content;a.content=C.jsx(c,{...n})}return i?a[i]:a[this.type]}}class L3 extends ci{constructor(){super(...arguments);he(this,"component");he(this,"setAttribute")}setObserverFunction(t){this.setAttribute=t}setComponent(t){this.component=t}getComponent(){return this.component}run(){for(let t of this.list)this.setAttribute(t.name,new O3(t))}}class ya{constructor(){he(this,"factory");he(this,"componentList");he(this,"themeFactory");he(this,"appComponent");he(this,"mainFunc");he(this,"appObserver",new ci);En.bind(this),this.getFactory(),this.getThemeFactory()}subscribeToAppObserver(e){this.appObserver.subscribe(e)}getMainFunc(){return this.mainFunc}getFactory(){}getThemeFactory(){}getAppComponent(){return this.appComponent}setAppComponent(e){this.appComponent=e,this.appObserver.run(e)}getComponentList(){var e,t;return this.componentList||(this.componentList=(t=(e=this.appComponent)==null?void 0:e.state)==null?void 0:t.componentList),this.componentList}}class F3 extends ya{constructor(){super(...arguments);he(this,"type","appInterface")}}const bC=new F3;class nt extends ve.Component{constructor(t){super(t);he(this,"resize");En.bind(this),this.initialBuilderSetupFunctions=[],this.setInterface(),this.setInitialApp(),this.initialPropsSetupFunctions=[this.setInterface,this.setAppOnInterace,this.setInitialApp,this.setObj,this.setThemeFactory,this.setTheme,this.createReactRefsForComponents],this.setupObserver=new ci,this.builderObserver=new L3,this.ObserverForSetupFunction=new ci,this.builderObserver.setComponent(this),this.builderObserver.setObserverFunction(this.setHtmlBuilderSingleton),this.initialSetupFunctions=[this.builderObserver.run,this.additionalSetup],this.components=[]}setInitialApp(){var n,i,a,u,c,h;this.interface||(this.app=(n=this.props)==null?void 0:n.app);let t=this.interface.getAppComponent();t&&(this.app=t),this.app&&(this.propsState=(i=this.app)==null?void 0:i.state,this.dispatch=(a=this.app)==null?void 0:a.dispatch,this.componentList=(u=this.propsState)==null?void 0:u.componentList,this.APIService=(c=this.componentList)==null?void 0:c.getAPIService(),this.operationsFactory=(h=this.componentList)==null?void 0:h.getOperationsFactory())}setInterface(t){var n;this.interface=t||((n=this.props)==null?void 0:n.interface)||this.interface||bC,this.interface.type==="appInterface"&&this.subscribeToAppObserverBool===void 0&&(this.subscribeToAppObserverBool=!0,this.interface.subscribeToAppObserver(this.setInitialApp))}setAppOnInterace(){this.interface&&(this.props.app&&this.interface.setAppComponent(this.props.app),this.app=this.interface.getAppComponent())}setComponents(t){this.components=t}getComponents(){return this.components}createReactRefsForComponents(){for(let t of this.components)this[t+"Ref"]||(this[t+"Ref"]=lh.createRef())}createPropObj(t,n){n=n||this.state.propType;let i,a=this[n||"props"][t+"Class"];return a||(a=this.theme&&typeof this.theme!="string"?this.theme[this.state[t+"Class"]]:this["default"+t+"Class"]||""),i={name:t,ref:this[t+"Ref"],style:this[t+"Click"]?{...this[n||"props"][t+"Style"],cursor:"pointer"}:this[n||"props"][t+"Style"],className:a,content:this[n||"props"][t],onClick:this[n||"props"][t+"Click"]||this[t+"Click"],obj:this.obj},i.onClick&&(i.onClick=i.onClick.bind(this,this.obj)),i}builderPropsSubscribe(t){this[t+"Props"]=this.createPropObj(t),this.builderObserver.subscribe(this[t+"Props"])}setInitialBuilderPropFunctions(){for(let t of this.components)this["set"+t+"props"]||(this["set"+t+"props"]=this.builderPropsSubscribe(t)),this.initialBuilderSetupFunctions.push(this["set"+t+"props"]);return this.initialBuilderSetupFunctions}loadObserver(){this.setupObserver.setList(this.initialSetupFunctions)}setInitialSetupFunctions(){const t=[...this.initialPropsSetupFunctions,...this.initialBuilderSetupFunctions,...this.initialSetupFunctions,this.additionalPostSetup],n=[...new Set(t)];return this.initialSetupFunctions=n,this.initialSetupFunctions}runInitialPropsSetup(){for(let t of this.initialPropsSetupFunctions)t&&t()}isArray(t){return Array.isArray(t)?t:[t]}setObj(){this.obj=this.props.obj}setThemeFactory(){this.interface!==void 0&&(this.themeFactory=this.interface.getThemeFactory())}setTheme(){var t,n;this.themeFactory&&(this.theme=this.themeFactory.getComponent(((t=this.props)==null?void 0:t.theme)||((n=this.state)==null?void 0:n.defaultTheme)||"default"))}clearLists(){this.setupObserver.setList([]),this.builderObserver.setList([])}setupItem(...t){this.clearLists(),this.preSetup(),this.runInitialPropsSetup(),this.setInitialBuilderPropFunctions(),this.setInitialSetupFunctions(),this.loadObserver(),this.setupObserver.run(...t)}preSetup(){}setAttribute(t,n){this[t]=n}setHtmlBuilderSingleton(t,n){this[t]||(this[t]=n)}getInnerContent(){return this.innerContent}getAdditionalInnerContent(){return this.innerContent}mapList(t){return C.jsx(C.Fragment,{children:t.filter(n=>n!==void 0&&n!==!1).map(n=>n)})}additionalSetup(){}additionalPostSetup(){}mapInnerContent(){return this.getInnerContent(),this.getAdditionalInnerContent(),this.innerContent=this.mapList(this.innerContent),this.innerContent}getHtml(){return this.html}getFactoryTypeString(t){let n=this.propsState.componentListInterface.getFactory().getRegistry(),i=n.find(a=>t.toLowerCase()===a);return i=i||n.find(a=>t.toLowerCase().includes(a)),i}getCapitalFirstLetter(t){var n;return((n=t==null?void 0:t.charAt(0))==null?void 0:n.toUpperCase())+(t==null?void 0:t.slice(1))}classNameToString(t){let n=t.name;return n.charAt(0).toLowerCase()+n.slice(1)}render(){return this.setupItem(),this.html=this.getHtml(),this.html}}class B3 extends ya{}const TC=new B3;class dn extends nt{constructor(t){super(t);he(this,"type");he(this,"theme");he(this,"interface");this.wrapperRef=lh.createRef(),this.setWrapperRef=this.setWrapperRef,this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setApp,this.setType,this.setClassStr],this.state={defaultType:this.props.type?this.props.type:"fit",defaultTheme:this.props.theme?this.props.theme:"Default",typeKey:"type",themeKey:"theme"},this.interface=TC}componentDidMount(){this.props.popup&&document.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){this.props.popup&&document.removeEventListener("mousedown",this.handleClickOutside)}handleClickOutside(t){this.wrapperRef&&!this.wrapperRef.current.contains(t.target)&&this.props.handleClose&&this.props.handleClose()}isPopup(t){if(this.props.popup){let n=this.closePopup.getHtml({content:this.props.closeUI||C.jsx(C.Fragment,{children:"X"}),props:{onClick:()=>{this.props.handleClose&&this.props.handleClose()}}}),i=this.popupContent.getHtml({content:C.jsxs(C.Fragment,{children:[n,t]}),props:{ref:this.wrapperRef}});t=this.backDrop.getHtml({content:i})}return t}setTheme(){this.theme=this.props[this.state.themeKey]?this.props[this.state.themeKey]:this.state.defaultTheme}setType(){this.type=this.props[this.state.typeKey]?this.props[this.state.typeKey]:this.state.defaultType}setClassStr(){this.defaultcardClass=this.type+this.theme+" scroller",this.defaultcardClass=this.props.popup?this.defaultcardClass+" cardPopup":this.defaultcardClass,this.props.popup&&(this.defaultbackDropClass="backDropPopup",this.defaultpopupContentClass="popupContent",this.defaultclosePopupClass="closePopup")}getHtml(){let t=this.getContent();return this.html=this.card.getHtml({content:t}),this.html=this.isPopup(this.html),this.html}getContent(){return this.content=this.props.content,this.content}preSetup(){let t=["card"];this.props.popup&&(t=[...t,"backDrop","popupContent","closePopup"]),this.setComponents(t)}}let j3=class{constructor(e){he(this,"operationsFactory");he(this,"dispatch");he(this,"json",{_id:"",backendKeys:[],backendAttributes:[],backendFilterKeys:[],orderMatters:!1,orderFilterKey:"",filterKey:"",removeOwnerQuery:[]});he(this,"componentList");he(this,"APIService");En.bind(this),this.operationsFactory=e,this.json._id=this.createId()}getAssociatedItemsHelper(e){let t=this.json._id,n=this.json.type+"Id";return this.json.backendAttributes.length>0&&(t=this.json[this.json.backendAttributes[e]]),this.json.backendFilterKeys.length>0&&(n=this.json.backendFilterKeys[e]),{attribute:t,filterKey:n}}async getAssociatedItems(e){e=e||this.json.backendKeys;const t=e==null?void 0:e.map((n,i)=>{let{attribute:a,filterKey:u}=this.getAssociatedItemsHelper(i);return this.componentList.getList(n,a,u)});return await Promise.all(t)}async getAssociatedItemsFromBackend(e,t){e=e||this.json.backendKeys;let n=!0;const i=e==null?void 0:e.map((a,u)=>{this.json.removeOwnerQuery.includes(a)&&(n=!1);let{attribute:c,filterKey:h}=this.getAssociatedItemsHelper(u);return this.componentList.getComponentsFromBackend({type:a,ids:c,filterKeys:h,owner:n,...t})});return await Promise.all(i)}setComponentList(e){this.componentList=e,this.componentList.getAPIService&&this.setAPIService(this.componentList.getAPIService()),this.componentList.getDispatch&&this.setDispatch(this.componentList.getDispatch())}setDispatch(e){this.dispatch=e}getDispatch(){return this.dispatch}getComponentList(){return this.componentList}setAPIService(e){this.APIService=e}getAPIService(){return this.APIService}update(...e){this.APIService&&this.APIService.update([this],...e)}del(...e){this.componentList.del(this,{...e})}updateOrder(e,t){e=e||-1,e===!0&&(e=1);let n=this.componentList.getList(this.json.type,this.json[this.json.orderFilterKey],this.json.orderFilterKey);t=t||(this.json.orderKey?this.json[this.json.orderKey]:"order");let i=n.indexOf(this),a;e<0&&i===0?this.json[t]=n.length:e>0&&i===n.length-1?(this.json[t]=0,this.componentList.shiftOrderedList(this,t)):(a=n[i+e],a.setCompState({[t]:i},{run:!0,clean:!0}),this.json[t]=i+e),this.componentList.sortSelectedList(this.json.type,this.json.orderKey||"order"),this.componentList.resetOrder(this,t),this.update()}prepare(){this.operationsFactory.prepare({prepare:this})}setAttribute(e,t){this[e]=t}setAttributes(e){for(let t in e)this[t]=e[t]}getAttribute(e){return this[e]}getJsonAttribute(e){return this.json[e]}setCompState(e,t,n,i){this.subscribeToOperations(t),this.json={...this.json,...e},n&&this.dispatch({updated:this}),i&&i(e),t!=null&&t.run&&this.operationsFactory.runOperations()}getOperationsFactory(){return this.operationsFactory}setJson(e,t,n,i){this.subscribeToOperations(t),this.json=e,n&&this.dispatch({updated:this}),i&&i(this),t!=null&&t.run&&this.operationsFactory.runOperations()}getJson(){return this.json}subscribeToOperations(e){e&&this.operationsFactory.subscribeToOperations(e.operation||this.update,e.clean)}copyJson(e){return{...this.json,_id:"",...e}}copy(e){let t=this.copyJson(e);this.componentList.addComponents(t)}updateObjInsideJson(e,t){this.json[e]={...this.json[e],...t}}removeObjInsideJson(e,t){let n={};for(const i in this.json[e])t.includes(i)||(n[i]=this.json[e][i]);this.json[e]=n}randomFiveDigitNumber(){let e=Math.floor(Math.random()*9e4)+1e4;e=e.toString();let t=String.fromCharCode(97+Math.floor(Math.random()*26)),n=Math.floor(Math.random()*5);if(e=e.substring(0,n)+t+e.substring(n+1),Math.floor(Math.random()*2)===1){let a=String.fromCharCode(97+Math.floor(Math.random()*26)),u;do u=Math.floor(Math.random()*5);while(u===n);e=e.substring(0,u)+a+e.substring(u+1)}return e}createId(){const e=new Date,t=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0"),i=e.getFullYear().toString().slice(-2);return this.randomFiveDigitNumber().toString()+t+n+i}createUUID(e){let t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz123456789",i=n.length;for(let a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*i));return t}};class M3{constructor(){he(this,"operationsFactory");he(this,"factory",{})}registerComponents(e){this.factory[e.name]=e.component}setOperationsFactory(e){this.operationsFactory=e}getRegistry(){return Object.keys(this.factory)}async getComponent(e){if(Object.keys(this.factory).includes(e.type)){let t=e.type,n=new this.factory[t](this.operationsFactory);return[void 0,"",!1].includes(e._id)&&(e._id=n.getJson()._id),n.setCompState({...e}),n}}}class q3 extends ci{clear(){this.list=[]}cleanSubscibe(e){this.clear(),this.subscribe(e)}run(...e){for(let t of this.list)t&&t(...e);this.clear()}}class T_{constructor(e){he(this,"register");he(this,"factory");he(this,"operationsObserver");En.bind(this),this.add=[],this.lastChange=[],this.factory=e.getFactory(),this.operationsObserver=new q3}removeFromList(e){this.add=this.add.filter(t=>t!==e)}getOperationsObserver(){return this.operationsObserver}setOperationsObserver(e){this.operationsObserver=e}subscribeToOperations(e,t){t&&this.operationsObserver.clear(),this.operationsObserver.subscribe(e)}runOperations(...e){this.operationsObserver.run(...e)}setAddList(e){this.add=[...e],this.lastChange=[...this.add]}getAddList(){return this.add}getLastPrepare(){return this.lastChange}async prepare(e,t){let{prepare:n,amount:i,clean:a}=e;i=i||1;let u=Array.isArray(n)?n:[n];u=u.flatMap(h=>Array(i).fill(h));let c=[];for(let h of u){let d=await this.factory.getComponent({...h});c.push(d)}return u=[...c],this.setAddList(a?[...u]:[...this.add,...u]),t&&t(this.add),e.run&&await this.addToComponentList(),this.add}clear(){this.setAddList([])}removeFromRegister(e){this.setAddList(this.add.filter(t=>t!==e))}run(e){this.addToComponentList(e)}addToComponentList(e){let t=[...this.add];return this.clear(),this.register(t,{skipBackendUpdate:e}),t}setRegister(e){this.register=e}}class V3{constructor(e){he(this,"components",[]);he(this,"dispatch");he(this,"backArray",{});he(this,"operationsFactory");he(this,"componentListInterface");he(this,"componentsList",{});he(this,"completionObserver",new ci);he(this,"factory");he(this,"APIService");En.bind(this),this.operationsFactory=e.getOperationsFactory(),this.operationsFactory.setRegister(this.add),this.componentListInterface=e,this.factory=e.getFactory(),this.dispatch=e.dispatch,this.APIService=e.getAPIService(),this.APIService.setComponentList(this),this.completionObserver.subscribe(this.setComponentsList),this.completionObserver.subscribe(this.setOrderAfterAddorDel)}getFactory(){return this.factory}getDispatch(){return this.dispatch}setDispatch(e){this.dispatch=e}getCompletionObserver(){return this.completionObserver}setCompoletionObserver(e){this.completionObserver=e}subscribeToOperationCompletion(e){this.completionObserver.subscribe(e)}getAPIService(){return this.APIService}setAPIService(e){this.APIService=e}getComponents(){return this.components}filterOutErrors(e){let t=this.components.map(i=>i.getJson()._id);e=e.filter(i=>i!==void 0),e=e.map(i=>{if(i!==void 0&&t.includes(i.getJson()._id)){let a=this.components.find(u=>u.getJson()._id===i.getJson()._id);i.setJson({...a.getJson(),...i.getJson()})}return i}),e=e.filter(i=>!t.includes(i.getJson()._id));let n=this.factory.getRegistry();return e=e.filter(i=>n.includes(i.getJson().type)),e}add(e,t){return e=Array.isArray(e)?e:[e],e=this.filterOutErrors(e),e.forEach(n=>{n.setComponentList(this)}),this.components=[...this.components,...e],this.operationComplete(e,"add",t)}setComponentsList(){let e={};this.componentListInterface.getFactory().getRegistry().forEach(n=>{e[n]=[]});for(let n of this.components){let i=n.getJson().type;e[i].push(n)}this.componentsList=e}async addComponents(e,t){e.prepare||(e={prepare:Array.isArray(e)?e:[e]}),await this.operationsFactory.prepare({...e}),this.operationsFactory.addToComponentList(t);let n=e==null?void 0:e.prepare.map(a=>a._id);return await this.components.filter(a=>n.includes(a.getJson()._id))}del(e,t){return e=Array.isArray(e)?e:[e],this.components=this.components.filter(n=>!e.includes(n)),this.operationComplete(e,"del",t)}setOrderAfterAddorDel(e){for(let t of e){let n=t.getJson();if(n.orderMatters){let i=this.getList(n.type,n[n.orderFilterKey],n.orderFilterKey),a=n.orderKey?n[n.orderKey]:"order",u=t.getJson()[a],h=i.filter(y=>{let g=parseInt(y.getJson()[a]);return u=parseInt(u),g===u}).find(y=>!e.includes(y)),d=i.indexOf(t);h&&h!==t&&t.setCompState({[a]:d}),this.sortSelectedList(n.type,n.orderKey||"order"),this.resetOrder(t,a)}}}shiftOrderedList(e,t){let n=e.getJson();this.sortSelectedList(n.type,n.orderKey||"order");let i=this.getList(n.type,n[n.orderFilterKey],n.orderFilterKey);t=t||(n.orderKey?n[n.orderKey]:"order"),i=i.filter(a=>a!==e);for(let a=1;a<i.length;a++)i[a-1].setCompState({[t]:a},{run:!0,clean:!0})}resetOrder(e,t){let n=e.getJson();t=t||(n.orderKey?n[n.orderKey]:n.order);let i=this.getList(n.type,n[n.orderFilterKey],n.orderFilterKey);for(let a=0;a<i.length;a++)i[a][t]!==a&&(i[a].setCompState({[t]:a}),i[a]!==e&&i[a].update())}operationComplete(e,t,n){return this.completionObserver.run(e,t,n),this.backArray={[t]:e},n.skipBackendUpdate||this.updateBackend(e,t,n),e}updateBackend(e,t,n){this.dispatch({backend:!0,backendUpdate:{...this.backArray}});let i=[n.path,n.dispatchKey];t==="add"&&i.push(n.timeKey),this.APIService[t](e,...i),this.backArray={}}getOperationsFactory(){return this.operationsFactory}createQueryJson(e,t,n,i,a="type"){i=i||{},n===void 0&&t&&(n="_id"),t=Array.isArray(t)?t:[t],n=Array.isArray(n)?n:[n];let u={where:[{attribute:a,val:e}],...i};return t.length>0&&t[0]!==void 0&&(u.where=[...u.where,...t.map((c,h)=>({attribute:n[h]||n[0],val:c}))]),u}async getComponentsFromBackend(e,t){typeof e=="string"&&(e={type:e,owner:t===!1?t:!0});let n=await this.createQueryJson(e.type,e.ids,e.filterKeys,e.obj,e.typeAttribute);return await this.APIService[e.snapshot?"firebaseGetterSnapshot":"firebaseGetter"](n,e.path,e.owner)}async getComponentFromBackend(e){return(await this.getComponentsFromBackend(e))[0]}getList(e,t,n){n=n||"owner",e=Array.isArray(e)?e:[e];let i=[];for(let a of e){let u=this.componentsList[a]||[];i=[...i,...u]}return Array.isArray(t)||(t=t?[t]:[]),Array.isArray(n)||(n=[n]),t.length>0&&(i=i.filter(a=>n.some((u,c)=>{var y;const h=(y=a.getJson())==null?void 0:y[u],d=t[c]||t[0];return typeof h=="object"?Object.keys(h).includes(d):h===d}))),i}getComponent(e,t,n){return this.getList(e,t,n||"_id")[0]}clearList(){this.components=[],this.componentsList={}}clearSelectedList(e,t){let n=[...this.components],i=[];for(const a in n)n[a].getJson()[t]!==e&&i.push(n[a]);this.components=[...i],this.setComponentsList()}setComponentList(e){this.componentsList=e}setSelectedList(e,t){this.componentsList[e]=t}sortSelectedList(e,t,n){if(t&&this.componentsList[e]){let i=[...this.componentsList[e]];i=i.sort(function(a,u){const c=a.getJson()[t],h=u.getJson()[t],d=isNaN(Number(c))?c:Number(c),y=isNaN(Number(h))?h:Number(h);return typeof d=="number"&&typeof y=="number"?n?y-d:d-y:n?(""+y).localeCompare(""+d):(""+d).localeCompare(""+y)}),this.setSelectedList(e,i)}}sortSelectedListbyFirebaseDate(e,t){if(this.componentsList[e]){let n=[...this.componentsList[e]];n=n.sort(function(i,a){var h,d;let u=i.getJson().date||i.getJson().date!==""?(h=i.getJson().date)==null?void 0:h.seconds:new Date(0),c=a.getJson().date||a.getJson().date!==""?(d=a.getJson().date)==null?void 0:d.seconds:new Date(0);return t?c-u:u-c}),this.setSelectedList(e,n)}}}class U3{constructor(e,t){he(this,"DB");he(this,"url");he(this,"path",[]);he(this,"orderStr","date");En.bind(this),this.setDB(e),this.setUrl(t),this.path=[this.DB,this.url+"users",this.url+"APP","components"]}setDB(e){this.DB=e}setUrl(e){this.url=e}setPath(e){this.path=e}setOrderStr(e){this.orderStr=e}async generateQueary(e,t,n){let i=e.where.map(h=>{if(h.attribute!==void 0)return U0(h.attribute,h.type||"==",h.val)}).filter(h=>h!==void 0);n&&i.push(U0("owner","==",n)),t=t||this.path;let a=[...i],u=e.order||this.orderStr;return u!=="noOrder"&&u!==void 0&&a.push(dk(u)),e.limit&&a.push(pk(e.limit)),fk(YI(...t),...a)}}class z3{constructor(e,t,n,i,a){he(this,"urlEndpoint","");he(this,"dispatch");he(this,"componentList");he(this,"userStr","flinnappsUser");he(this,"QuearyGenerator");he(this,"DB");he(this,"storage");he(this,"auth");he(this,"userEmail");he(this,"path",[]);he(this,"postObserver",new ci);he(this,"dispatchObserver",new ci);he(this,"readObserver",new ci);En.bind(this),this.urlEndpoint=e,this.DB=t,this.storage=n,this.auth=i,this.dispatch=a,this.path=[this.DB,`${this.urlEndpoint}users`,`${this.urlEndpoint}APP`,"components"],this.QuearyGenerator=new U3(this.DB,this.urlEndpoint)}setAuth(e){this.auth=e}setStorage(e){this.storage=e}setPath(e){this.path=e}setDB(e){this.DB=e,this.QuearyGenerator.setDB(e)}setDispatch(e){this.dispatch=e}setComponentList(e){this.componentList=e}setUserStr(e){this.userStr=e,this.QuearyGenerator.setUrl(e)}getPostObserver(){return this.postObserver}setPostObserver(e){this.postObserver=e}subscribeToPostObserver(e){this.postObserver.subscribe(e)}getReadObserver(){return this.readObserver}setReadObserver(e){this.readObserver=e}subscribeToReadObserver(e){this.readObserver.subscribe(e)}getPath(){return this.path}getDispatchObserver(){return this.dispatchObserver}setDispatchObserver(e){this.dispatchObserver=e}subscribeToDispatchObserver(e){this.dispatchObserver.subscribe(e)}getQueryGenerator(){return this.QuearyGenerator}setQueryGenerator(e){this.QuearyGenerator=e}async login(e,t){let n,i;if(await a_(this.auth,e,t).then(a=>{n=a.user}).catch(a=>{const u=a.message;i={error:u.slice(9,u.length-1)},console.log(i)}),n){let a=n;this.dispatch({login:!0}),await localStorage.setItem(this.userStr,JSON.stringify(a)),this.componentList!==void 0&&this.dispatch!==void 0&&(n=await this.getuser(e))}else n=i;return n}async register(e,t,n){let i;return await zP(this.auth,e,t).then(a=>{i=a.user}).catch(a=>{a.code;let u=a.message,c=u.length-1;i={error:u.slice(9,c)}}),i.error||(this.userEmail=i.email,localStorage.setItem(this.userStr,JSON.stringify(i))),i}async logout(){await localStorage.clear(),localStorage.setItem(this.userStr,void 0);let e;await qd(this.auth,t=>{t&&(e=t.uid)}),e&&await u_(this.auth),await localStorage.setItem(this.userStr,null),window.location.href="/"}sendForgotPasswordChange(e){const t=Nc();UP(t,e).then(()=>{}).catch(n=>{n.code,n.message})}async checkIfLoggedIn(){return new Promise((e,t)=>{qd(this.auth,async n=>{if(n)e(n);else{await localStorage.setItem(this.userStr,null),await localStorage.clear(),localStorage.setItem(this.userStr,void 0);let i;await qd(this.auth,a=>{a&&(i=a.uid)}),i&&await u_(this.auth),await window.location.reload()}})})}async getCurrentUser(){let e=await localStorage.getItem(this.userStr);return e=await JSON.parse(e),e}async setCurrentUser(e){await localStorage.setItem(this.userStr,JSON.stringify(e))}async loginToDel(e,t){await a_(this.auth,e,t).then(n=>{}).catch(n=>{n.code,n.message})}async delAccount(){const t=Nc().currentUser;await KP(t).then(()=>{}).catch(n=>{})}async notify(e,t){fetch(t,{method:"POST",mode:"no-cors",body:JSON.stringify(e),headers:{"Conent-Type":"application/json"}})}async changePassword(e){const n=Nc().currentUser;return await HP(n,e).then(()=>{}).catch(a=>{}),!0}async firebaseGetterSnapshot(e,t,n){n=n===!0?this.userEmail:void 0;let i=await this.QuearyGenerator.generateQueary(e,t,n),a=[];return await Ak(i,async u=>{a=await this.getRawData(u)}),a}async firebaseGetter(e,t,n){n=n===!0?this.userEmail:void 0;let i=await this.QuearyGenerator.generateQueary(e,t,n),a=await _k(i);return await this.getRawData(a)}async getRawData(e){let t=[];for(const i in e.docs){let a=e.docs[i].data();t.push(a)}let n=await this.componentList.addComponents(t,!0);return this.dispatch&&await this.dispatch({snapShot:{dataRetrieved:n}}),this.readObserver.run(n,t),n}async getCount(e,t,n){n=n===!0?this.userEmail:void 0;let i=await this.QuearyGenerator.generateQueary(e,t,n);return(await bk(i)).data().count}async getuser(e){this.userEmail=e;let t=await this.componentList.getComponentFromBackend({type:"user",ids:e});return t&&this.dispatch({currentUser:t,email:e,gotUser:!0}),t}async GetAllData(e,t){t=t||[this.db,this.urlEndpoint+"users"],this.firebaseGetter(e,t)}async uploadPics(e,t){const n=jd(this.storage,t);await LR(n,e).then(i=>{console.log("Uploaded a file!")})}async downloadPics(e){let t;return await FR(jd(this.storage,e)).then(n=>{t=n}),t}deletePics(e){const t=jd(this.storage,e);BR(t).then(()=>{}).catch(n=>{})}prep(e){return e=Array.isArray(e)?e:[e],e=e.map(t=>{let n=t;return t.getJson&&(n=t.getJson()),n}),e=e.filter(t=>t!==void 0),e}async add(e,t,n,i){return e=await e.map(a=>((a.getJson().owner===""||a.getJson().owner===void 0)&&a.setCompState({owner:this.userEmail}),a)),await this.operate(e,wk,t,n||"added",i||"date")}async update(e,t,n,i){return await this.operate(e,Ek,t,i||"updated",n||"lastUpdated")}async del(e,t,n){return await this.operate(e,$0,t,n||"deleted")}async operate(e,t,n,i,a){try{e=await this.prep(e),n=n||this.path;for(let u of e){a&&(u[a]=await Sk()),await this.postObserver.run([u]);let c=[XI(...n,u._id)];t!==$0&&c.push(u),await t(...c)}return this.dispatch&&this.dispatch({[i]:e,dispatchComplete:!0}),this.dispatchObserver.run([{[i]:e}]),e}catch(u){console.log(u),console.error(e,"something went wrong with this operation")}}}class H3{constructor(e,t,n,i,a){he(this,"factory");he(this,"updater");he(this,"operationsFactory");he(this,"dispatch");he(this,"APIService");En.bind(this),this.dispatch=e,this.getFactory(),this.getAPIService(t,n,i,a,e)}getFactory(){return this.factory===void 0&&(this.factory=new M3(this)),this.factory}getAPIService(e,t,n,i,a){return this.APIService===void 0&&(this.APIService=new z3(e,t,n,i,a)),this.APIService}createComponentList(){return new V3(this)}getOperationsFactory(){return this.operationsFactory===void 0&&(this.operationsFactory=new T_(this),this.factory.setOperationsFactory(this.operationsFactory)),this.operationsFactory}getNewOperationsFactory(){return new T_(this)}}class Bu extends nt{constructor(e){super(e),this.domList=["a","button","div","h1","h2","h3","h4","h5","h6","img","input","p","span","table","tr","td","th","ul","li","ol","form","textarea","select","option","label","nav","footer","header","article","section","aside","main","video","audio","iframe","canvas"],this.state={...this.state,wrapperClass:"FCWrapper",formClass:"FCInputForm",labelClass:"defaultLabel",errorClass:"defaultErrorMessage",interface:"form"}}setObj(){var e,t;if(!this.props.prepareOnClick){let n=this.props.obj||(this.props.inPopup?(e=this.propsState)==null?void 0:e.currentPopupComponent:(t=this.propsState)==null?void 0:t.currentComponent);this.obj=this.isArray(n)}}preSetup(){this.setComponents(["wrapper","form","label","error"])}getInnerContent(){return this.innerContent=[this.props.label&&this.label.getHtml(),this.getFormHtml(),this.props.errorText&&this.error.getHtml()],this.innerContent}getHtml(){this.mapInnerContent();let e=this.wrapper.getHtml({type:"div",content:this.innerContent});return this.html=C.jsx(C.Fragment,{children:e}),this.html}getFormHtml(){return this.getInputProps(this.props.type||"input"),this.additionalPropsSetup(),this.form.getHtml({type:this.props.type?this.props.type:"input",content:this.content,props:this.inputProps})}additionalPropsSetup(){}handleChange(e){let{name:t,value:n}=e.target;for(let i of this.obj){if(this.props.isPropArray){let a=i.getJson()[this.props.name]||[];Array.isArray(a)||(a=[a]),Array.isArray(a[0])||(a[0]=[a[0]]),a[0]=n,n=a}i.setCompState({[this.props.name]:n})}this.afterChange(e)}afterChange(e){if(this.props.update)for(let t of this.obj){let n=this.props.update===!0?void 0:{...this.props.update};t==null||t.update(n)}this.props.sendUpdate&&this.props.app&&this.app.dispatch({formUpdate:this.props.type}),this.props.callbackFunc&&this.props.callbackFunc(this.obj),this.additionalChanges(e),this.setState({})}additionalChanges(e){}async prepareOnClick(){var e;if(this.props.prepareOnClick&&this.props.app){let t=this.props.obj;t&&(t=this.isArray(t)),t=await((e=this.props.app)==null?void 0:e.state.componentList.getOperationsFactory().prepare({...t})),t&&(t=this.isArray(t)),this.obj=t}}objDispatch(e){for(let t of this.obj)t.setCompState({[this.props.name]:e});this.afterChange()}handleChangeWithoutEvent(e){for(let t in this.obj)t.setCompState({[e.name]:e.value});this.afterChange()}getInputProps(e){var t;return this.inputProps={onChange:this.props.handleChange?n=>{this.props.handleChange(n,this.obj)}:this.handleChange,value:this.obj[0]?(t=this.obj[0])==null?void 0:t.getJson()[this.props.name]:this.props.value,type:this.props.inputType||this.props.type,onFocus:this.props.onFocus||this.onFocus,placeholder:this.props.placeholder,name:this.props.name,min:this.props.min,max:this.props.max,cols:this.props.cols||"",rows:this.props.rows||5,resize:this.props.resize||"true",autoComplete:this.props.autoComplete?this.props.autoComplete:"off",id:this.props.id,checked:this.props.checked,spellCheck:this.props.type==="password"||this.props.spellCheck===void 0?!1:this.props.spellCheck,minLength:this.props.minLength,maxLength:this.props.maxLength},this.domList.includes(e)||(this.inputProps.handleChangeWithoutEvent=this.props.update?()=>{console.log("")}:this.props.handleChangeWithoutEvent?this.props.handleChangeWithoutEvent:this.handleChangeWithoutEvent,this.inputProps.selectOptions=this.props.selectOptions,this.inputProps.textOptions=this.props.textOptions,this.inputProps.unit=this.props.unit?this.props.unit:"$",this.inputProps.tickClass=this.props.tickClass,this.inputProps.handleHTMLChange=this.props.handleHTMLChange||this.objDispatch,this.inputProps.doesMath=this.props.doesMath,this.inputProps.objDispatch=this.objDispatch,this.inputProps.emitClickedOutside=this.props.emitClickedOutside,this.inputProps.updateOnClickOutside=this.props.updateOnClickOutside),this.props.required&&(this.inputProps.required=!0),this.props.disabled&&(this.inputProps.disabled=!0),this.inputProps}}class ms extends Bu{constructor(e){super(e),this.state.formClass="FCDefaultButton"}buttonClick(){this.props.buttonClick?this.props.buttonClick(this.obj):this.buttonClickFunc(),this.props.callbackFunc&&this.props.callbackFunc(this.obj)}buttonClickFunc(){}additionalSetup(){this.form.setOnClick(this.buttonClick)}getFormHtml(){return this.form.setStyle({cursor:"pointer"}),this.content=this.props.content||this.content||C.jsx(C.Fragment,{children:"button"}),this.form.getHtml({type:"div",content:this.content})}}let SC=class{constructor(){he(this,"FCInputForm","defaultInputForm");he(this,"FCWrapper","defaultWrapper");he(this,"FCError","defaultErrorMessage");he(this,"FCLabel","defaultLabel");he(this,"FCDefaultButton","defaultButton");he(this,"FCDefaultDelButton","delButton");he(this,"FCImgButton","imgButton")}};const $3=Object.freeze(Object.defineProperty({__proto__:null,DefaultRegistry:SC},Symbol.toStringTag,{value:"Module"}));class ay{constructor(e){he(this,"factory",{});En.bind(this),e&&(this.registry=e,this.registerListWithFactory())}registerListWithFactory(){for(const e in this.registry)if(Object.prototype.hasOwnProperty.call(this.registry,e)){const t=e.charAt(0).toLowerCase()+e.slice(1);this.factory[t]=this.registry[e]}}getComponent(e){let t;return this.factory[e]&&(t=new this.factory[e]),t}registerComponent(e,t){this.factory[e]=t}}let G3=class extends ay{constructor(){super($3),this.factory.default=SC}};class xC{constructor(){he(this,"factory",{})}getComponent(e,t){let n;return this.factory[e]&&(n=this.factory[e]),C.jsx(n,{...t})}registerComponent(e,t){this.factory[e]=t}}class W3 extends ms{buttonClickFunc(){let e=this.props.add;this.componentList.addComponents(e)}}class K3{constructor(){En.bind(this)}doMath(e){e=e.replace(/\s+/g,"");const t=/(\d+)([+\-*/])(\d+)/,n=e.match(t);if(!n)throw new Error("Invalid input");const i=parseFloat(n[1]),a=n[2],u=parseFloat(n[3]);return{"+":i+u,"-":i-u,"*":i*u,"/":i/u}[a]}}let J3=new K3;class Q3 extends Bu{constructor(e){super(e)}componentDidMount(){document.addEventListener("keyup",this.doMath)}componentWillUnmount(){document.removeEventListener("keyup",this.doMath)}additionalChanges(e){let{name:t,value:n}=e.target;this.setState({val:n})}async doMath(e){if(e.key==="Enter"&&this.state.val!==void 0){let t=this.obj[0],n=await J3.doMath(this.state.val).toString();await t.setCompState({[this.props.name]:n}),t.update(),await this.setState({val:void 0})}}}let Y3=class extends ms{async buttonClickFunc(){let e=this.obj,t=e.type;this.props.popupSwitch.includes("add")&&(e=e[0]?e[0]:{type:this.getFactoryTypeString(this.props.popupSwitch.slice(3))},e={prepare:{...e},amount:this.props.amount,clean:this.props.clean},e=await this.operationsFactory.prepare(e),e.length===1&&(e=e[0],t=e.getJson().type)),Array.isArray(e)&&e.length===1&&(e=e[0]);let n=this.props.setCurrnetItem&&{["current"+this.getCapitalFirstLetter(t)]:e},i={popupSwitch:this.props.popupSwitch,currentPopupComponent:e,...n};await this.dispatch({...i})}},X3=class extends ms{buttonClickFunc(){for(let e of this.obj)e.update(this.props.updateParams);this.props.isPopup&&this.dispatch({popupSwitch:"",currentPopupComponent:void 0})}},Z3=class extends ms{buttonClickFunc(){let e=this.operationsFactory.addToComponentList(this.props.skipBackendUpdate),t=this.props.setCurrnetItem&&{["current"+this.getCapitalFirstLetter(e[0].getJson().type)]:e[0]},n={};this.props.isPopup&&(n={popupSwitch:"",currentPopupComponent:void 0}),this.dispatch({...n,...t})}};var Hd,S_;function eL(){if(S_)return Hd;S_=1;function r(){this.__data__=[],this.size=0}return Hd=r,Hd}var $d,x_;function DC(){if(x_)return $d;x_=1;function r(e,t){return e===t||e!==e&&t!==t}return $d=r,$d}var Gd,D_;function jh(){if(D_)return Gd;D_=1;var r=DC();function e(t,n){for(var i=t.length;i--;)if(r(t[i][0],n))return i;return-1}return Gd=e,Gd}var Wd,I_;function tL(){if(I_)return Wd;I_=1;var r=jh(),e=Array.prototype,t=e.splice;function n(i){var a=this.__data__,u=r(a,i);if(u<0)return!1;var c=a.length-1;return u==c?a.pop():t.call(a,u,1),--this.size,!0}return Wd=n,Wd}var Kd,k_;function nL(){if(k_)return Kd;k_=1;var r=jh();function e(t){var n=this.__data__,i=r(n,t);return i<0?void 0:n[i][1]}return Kd=e,Kd}var Jd,R_;function rL(){if(R_)return Jd;R_=1;var r=jh();function e(t){return r(this.__data__,t)>-1}return Jd=e,Jd}var Qd,P_;function iL(){if(P_)return Qd;P_=1;var r=jh();function e(t,n){var i=this.__data__,a=r(i,t);return a<0?(++this.size,i.push([t,n])):i[a][1]=n,this}return Qd=e,Qd}var Yd,N_;function Mh(){if(N_)return Yd;N_=1;var r=eL(),e=tL(),t=nL(),n=rL(),i=iL();function a(u){var c=-1,h=u==null?0:u.length;for(this.clear();++c<h;){var d=u[c];this.set(d[0],d[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,Yd=a,Yd}var Xd,O_;function sL(){if(O_)return Xd;O_=1;var r=Mh();function e(){this.__data__=new r,this.size=0}return Xd=e,Xd}var Zd,L_;function oL(){if(L_)return Zd;L_=1;function r(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}return Zd=r,Zd}var ep,F_;function aL(){if(F_)return ep;F_=1;function r(e){return this.__data__.get(e)}return ep=r,ep}var tp,B_;function uL(){if(B_)return tp;B_=1;function r(e){return this.__data__.has(e)}return tp=r,tp}var np,j_;function IC(){if(j_)return np;j_=1;var r=typeof Ko=="object"&&Ko&&Ko.Object===Object&&Ko;return np=r,np}var rp,M_;function wi(){if(M_)return rp;M_=1;var r=IC(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return rp=t,rp}var ip,q_;function uy(){if(q_)return ip;q_=1;var r=wi(),e=r.Symbol;return ip=e,ip}var sp,V_;function lL(){if(V_)return sp;V_=1;var r=uy(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,i=r?r.toStringTag:void 0;function a(u){var c=t.call(u,i),h=u[i];try{u[i]=void 0;var d=!0}catch{}var y=n.call(u);return d&&(c?u[i]=h:delete u[i]),y}return sp=a,sp}var op,U_;function cL(){if(U_)return op;U_=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return op=t,op}var ap,z_;function qh(){if(z_)return ap;z_=1;var r=uy(),e=lL(),t=cL(),n="[object Null]",i="[object Undefined]",a=r?r.toStringTag:void 0;function u(c){return c==null?c===void 0?i:n:a&&a in Object(c)?e(c):t(c)}return ap=u,ap}var up,H_;function kC(){if(H_)return up;H_=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return up=r,up}var lp,$_;function RC(){if($_)return lp;$_=1;var r=qh(),e=kC(),t="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function u(c){if(!e(c))return!1;var h=r(c);return h==n||h==i||h==t||h==a}return lp=u,lp}var cp,G_;function hL(){if(G_)return cp;G_=1;var r=wi(),e=r["__core-js_shared__"];return cp=e,cp}var hp,W_;function fL(){if(W_)return hp;W_=1;var r=hL(),e=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!e&&e in n}return hp=t,hp}var fp,K_;function PC(){if(K_)return fp;K_=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return fp=t,fp}var dp,J_;function dL(){if(J_)return dp;J_=1;var r=RC(),e=fL(),t=kC(),n=PC(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,h=u.toString,d=c.hasOwnProperty,y=RegExp("^"+h.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(p){if(!t(p)||e(p))return!1;var v=r(p)?y:a;return v.test(n(p))}return dp=g,dp}var pp,Q_;function pL(){if(Q_)return pp;Q_=1;function r(e,t){return e==null?void 0:e[t]}return pp=r,pp}var mp,Y_;function va(){if(Y_)return mp;Y_=1;var r=dL(),e=pL();function t(n,i){var a=e(n,i);return r(a)?a:void 0}return mp=t,mp}var gp,X_;function ly(){if(X_)return gp;X_=1;var r=va(),e=wi(),t=r(e,"Map");return gp=t,gp}var yp,Z_;function Vh(){if(Z_)return yp;Z_=1;var r=va(),e=r(Object,"create");return yp=e,yp}var vp,e1;function mL(){if(e1)return vp;e1=1;var r=Vh();function e(){this.__data__=r?r(null):{},this.size=0}return vp=e,vp}var _p,t1;function gL(){if(t1)return _p;t1=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return _p=r,_p}var wp,n1;function yL(){if(n1)return wp;n1=1;var r=Vh(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function i(a){var u=this.__data__;if(r){var c=u[a];return c===e?void 0:c}return n.call(u,a)?u[a]:void 0}return wp=i,wp}var Ep,r1;function vL(){if(r1)return Ep;r1=1;var r=Vh(),e=Object.prototype,t=e.hasOwnProperty;function n(i){var a=this.__data__;return r?a[i]!==void 0:t.call(a,i)}return Ep=n,Ep}var Ap,i1;function _L(){if(i1)return Ap;i1=1;var r=Vh(),e="__lodash_hash_undefined__";function t(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=r&&i===void 0?e:i,this}return Ap=t,Ap}var Cp,s1;function wL(){if(s1)return Cp;s1=1;var r=mL(),e=gL(),t=yL(),n=vL(),i=_L();function a(u){var c=-1,h=u==null?0:u.length;for(this.clear();++c<h;){var d=u[c];this.set(d[0],d[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,Cp=a,Cp}var bp,o1;function EL(){if(o1)return bp;o1=1;var r=wL(),e=Mh(),t=ly();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return bp=n,bp}var Tp,a1;function AL(){if(a1)return Tp;a1=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Tp=r,Tp}var Sp,u1;function Uh(){if(u1)return Sp;u1=1;var r=AL();function e(t,n){var i=t.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Sp=e,Sp}var xp,l1;function CL(){if(l1)return xp;l1=1;var r=Uh();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return xp=e,xp}var Dp,c1;function bL(){if(c1)return Dp;c1=1;var r=Uh();function e(t){return r(this,t).get(t)}return Dp=e,Dp}var Ip,h1;function TL(){if(h1)return Ip;h1=1;var r=Uh();function e(t){return r(this,t).has(t)}return Ip=e,Ip}var kp,f1;function SL(){if(f1)return kp;f1=1;var r=Uh();function e(t,n){var i=r(this,t),a=i.size;return i.set(t,n),this.size+=i.size==a?0:1,this}return kp=e,kp}var Rp,d1;function NC(){if(d1)return Rp;d1=1;var r=EL(),e=CL(),t=bL(),n=TL(),i=SL();function a(u){var c=-1,h=u==null?0:u.length;for(this.clear();++c<h;){var d=u[c];this.set(d[0],d[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=n,a.prototype.set=i,Rp=a,Rp}var Pp,p1;function xL(){if(p1)return Pp;p1=1;var r=Mh(),e=ly(),t=NC(),n=200;function i(a,u){var c=this.__data__;if(c instanceof r){var h=c.__data__;if(!e||h.length<n-1)return h.push([a,u]),this.size=++c.size,this;c=this.__data__=new t(h)}return c.set(a,u),this.size=c.size,this}return Pp=i,Pp}var Np,m1;function DL(){if(m1)return Np;m1=1;var r=Mh(),e=sL(),t=oL(),n=aL(),i=uL(),a=xL();function u(c){var h=this.__data__=new r(c);this.size=h.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=n,u.prototype.has=i,u.prototype.set=a,Np=u,Np}var Op,g1;function IL(){if(g1)return Op;g1=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return Op=e,Op}var Lp,y1;function kL(){if(y1)return Lp;y1=1;function r(e){return this.__data__.has(e)}return Lp=r,Lp}var Fp,v1;function RL(){if(v1)return Fp;v1=1;var r=NC(),e=IL(),t=kL();function n(i){var a=-1,u=i==null?0:i.length;for(this.__data__=new r;++a<u;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=t,Fp=n,Fp}var Bp,_1;function PL(){if(_1)return Bp;_1=1;function r(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}return Bp=r,Bp}var jp,w1;function NL(){if(w1)return jp;w1=1;function r(e,t){return e.has(t)}return jp=r,jp}var Mp,E1;function OC(){if(E1)return Mp;E1=1;var r=RL(),e=PL(),t=NL(),n=1,i=2;function a(u,c,h,d,y,g){var p=h&n,v=u.length,A=c.length;if(v!=A&&!(p&&A>v))return!1;var b=g.get(u),E=g.get(c);if(b&&E)return b==c&&E==u;var w=-1,S=!0,P=h&i?new r:void 0;for(g.set(u,c),g.set(c,u);++w<v;){var T=u[w],j=c[w];if(d)var q=p?d(j,T,w,c,u,g):d(T,j,w,u,c,g);if(q!==void 0){if(q)continue;S=!1;break}if(P){if(!e(c,function(R,_){if(!t(P,_)&&(T===R||y(T,R,h,d,g)))return P.push(_)})){S=!1;break}}else if(!(T===j||y(T,j,h,d,g))){S=!1;break}}return g.delete(u),g.delete(c),S}return Mp=a,Mp}var qp,A1;function OL(){if(A1)return qp;A1=1;var r=wi(),e=r.Uint8Array;return qp=e,qp}var Vp,C1;function LL(){if(C1)return Vp;C1=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i,a){n[++t]=[a,i]}),n}return Vp=r,Vp}var Up,b1;function FL(){if(b1)return Up;b1=1;function r(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}return Up=r,Up}var zp,T1;function BL(){if(T1)return zp;T1=1;var r=uy(),e=OL(),t=DC(),n=OC(),i=LL(),a=FL(),u=1,c=2,h="[object Boolean]",d="[object Date]",y="[object Error]",g="[object Map]",p="[object Number]",v="[object RegExp]",A="[object Set]",b="[object String]",E="[object Symbol]",w="[object ArrayBuffer]",S="[object DataView]",P=r?r.prototype:void 0,T=P?P.valueOf:void 0;function j(q,R,_,D,I,k,N){switch(_){case S:if(q.byteLength!=R.byteLength||q.byteOffset!=R.byteOffset)return!1;q=q.buffer,R=R.buffer;case w:return!(q.byteLength!=R.byteLength||!k(new e(q),new e(R)));case h:case d:case p:return t(+q,+R);case y:return q.name==R.name&&q.message==R.message;case v:case b:return q==R+"";case g:var O=i;case A:var W=D&u;if(O||(O=a),q.size!=R.size&&!W)return!1;var J=N.get(q);if(J)return J==R;D|=c,N.set(q,R);var se=n(O(q),O(R),D,I,k,N);return N.delete(q),se;case E:if(T)return T.call(q)==T.call(R)}return!1}return zp=j,zp}var Hp,S1;function jL(){if(S1)return Hp;S1=1;function r(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}return Hp=r,Hp}var $p,x1;function cy(){if(x1)return $p;x1=1;var r=Array.isArray;return $p=r,$p}var Gp,D1;function ML(){if(D1)return Gp;D1=1;var r=jL(),e=cy();function t(n,i,a){var u=i(n);return e(n)?u:r(u,a(n))}return Gp=t,Gp}var Wp,I1;function qL(){if(I1)return Wp;I1=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,a=0,u=[];++n<i;){var c=e[n];t(c,n,e)&&(u[a++]=c)}return u}return Wp=r,Wp}var Kp,k1;function VL(){if(k1)return Kp;k1=1;function r(){return[]}return Kp=r,Kp}var Jp,R1;function UL(){if(R1)return Jp;R1=1;var r=qL(),e=VL(),t=Object.prototype,n=t.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(u){return u==null?[]:(u=Object(u),r(i(u),function(c){return n.call(u,c)}))}:e;return Jp=a,Jp}var Qp,P1;function zL(){if(P1)return Qp;P1=1;function r(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}return Qp=r,Qp}var Yp,N1;function zh(){if(N1)return Yp;N1=1;function r(e){return e!=null&&typeof e=="object"}return Yp=r,Yp}var Xp,O1;function HL(){if(O1)return Xp;O1=1;var r=qh(),e=zh(),t="[object Arguments]";function n(i){return e(i)&&r(i)==t}return Xp=n,Xp}var Zp,L1;function $L(){if(L1)return Zp;L1=1;var r=HL(),e=zh(),t=Object.prototype,n=t.hasOwnProperty,i=t.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(u){return e(u)&&n.call(u,"callee")&&!i.call(u,"callee")};return Zp=a,Zp}var yu={exports:{}},em,F1;function GL(){if(F1)return em;F1=1;function r(){return!1}return em=r,em}yu.exports;var B1;function LC(){return B1||(B1=1,function(r,e){var t=wi(),n=GL(),i=e&&!e.nodeType&&e,a=i&&!0&&r&&!r.nodeType&&r,u=a&&a.exports===i,c=u?t.Buffer:void 0,h=c?c.isBuffer:void 0,d=h||n;r.exports=d}(yu,yu.exports)),yu.exports}var tm,j1;function WL(){if(j1)return tm;j1=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,i){var a=typeof n;return i=i??r,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return tm=t,tm}var nm,M1;function FC(){if(M1)return nm;M1=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return nm=e,nm}var rm,q1;function KL(){if(q1)return rm;q1=1;var r=qh(),e=FC(),t=zh(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",u="[object Date]",c="[object Error]",h="[object Function]",d="[object Map]",y="[object Number]",g="[object Object]",p="[object RegExp]",v="[object Set]",A="[object String]",b="[object WeakMap]",E="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",P="[object Float64Array]",T="[object Int8Array]",j="[object Int16Array]",q="[object Int32Array]",R="[object Uint8Array]",_="[object Uint8ClampedArray]",D="[object Uint16Array]",I="[object Uint32Array]",k={};k[S]=k[P]=k[T]=k[j]=k[q]=k[R]=k[_]=k[D]=k[I]=!0,k[n]=k[i]=k[E]=k[a]=k[w]=k[u]=k[c]=k[h]=k[d]=k[y]=k[g]=k[p]=k[v]=k[A]=k[b]=!1;function N(O){return t(O)&&e(O.length)&&!!k[r(O)]}return rm=N,rm}var im,V1;function JL(){if(V1)return im;V1=1;function r(e){return function(t){return e(t)}}return im=r,im}var vu={exports:{}};vu.exports;var U1;function QL(){return U1||(U1=1,function(r,e){var t=IC(),n=e&&!e.nodeType&&e,i=n&&!0&&r&&!r.nodeType&&r,a=i&&i.exports===n,u=a&&t.process,c=function(){try{var h=i&&i.require&&i.require("util").types;return h||u&&u.binding&&u.binding("util")}catch{}}();r.exports=c}(vu,vu.exports)),vu.exports}var sm,z1;function BC(){if(z1)return sm;z1=1;var r=KL(),e=JL(),t=QL(),n=t&&t.isTypedArray,i=n?e(n):r;return sm=i,sm}var om,H1;function YL(){if(H1)return om;H1=1;var r=zL(),e=$L(),t=cy(),n=LC(),i=WL(),a=BC(),u=Object.prototype,c=u.hasOwnProperty;function h(d,y){var g=t(d),p=!g&&e(d),v=!g&&!p&&n(d),A=!g&&!p&&!v&&a(d),b=g||p||v||A,E=b?r(d.length,String):[],w=E.length;for(var S in d)(y||c.call(d,S))&&!(b&&(S=="length"||v&&(S=="offset"||S=="parent")||A&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,w)))&&E.push(S);return E}return om=h,om}var am,$1;function XL(){if($1)return am;$1=1;var r=Object.prototype;function e(t){var n=t&&t.constructor,i=typeof n=="function"&&n.prototype||r;return t===i}return am=e,am}var um,G1;function ZL(){if(G1)return um;G1=1;function r(e,t){return function(n){return e(t(n))}}return um=r,um}var lm,W1;function e5(){if(W1)return lm;W1=1;var r=ZL(),e=r(Object.keys,Object);return lm=e,lm}var cm,K1;function t5(){if(K1)return cm;K1=1;var r=XL(),e=e5(),t=Object.prototype,n=t.hasOwnProperty;function i(a){if(!r(a))return e(a);var u=[];for(var c in Object(a))n.call(a,c)&&c!="constructor"&&u.push(c);return u}return cm=i,cm}var hm,J1;function n5(){if(J1)return hm;J1=1;var r=RC(),e=FC();function t(n){return n!=null&&e(n.length)&&!r(n)}return hm=t,hm}var fm,Q1;function r5(){if(Q1)return fm;Q1=1;var r=YL(),e=t5(),t=n5();function n(i){return t(i)?r(i):e(i)}return fm=n,fm}var dm,Y1;function i5(){if(Y1)return dm;Y1=1;var r=ML(),e=UL(),t=r5();function n(i){return r(i,t,e)}return dm=n,dm}var pm,X1;function s5(){if(X1)return pm;X1=1;var r=i5(),e=1,t=Object.prototype,n=t.hasOwnProperty;function i(a,u,c,h,d,y){var g=c&e,p=r(a),v=p.length,A=r(u),b=A.length;if(v!=b&&!g)return!1;for(var E=v;E--;){var w=p[E];if(!(g?w in u:n.call(u,w)))return!1}var S=y.get(a),P=y.get(u);if(S&&P)return S==u&&P==a;var T=!0;y.set(a,u),y.set(u,a);for(var j=g;++E<v;){w=p[E];var q=a[w],R=u[w];if(h)var _=g?h(R,q,w,u,a,y):h(q,R,w,a,u,y);if(!(_===void 0?q===R||d(q,R,c,h,y):_)){T=!1;break}j||(j=w=="constructor")}if(T&&!j){var D=a.constructor,I=u.constructor;D!=I&&"constructor"in a&&"constructor"in u&&!(typeof D=="function"&&D instanceof D&&typeof I=="function"&&I instanceof I)&&(T=!1)}return y.delete(a),y.delete(u),T}return pm=i,pm}var mm,Z1;function o5(){if(Z1)return mm;Z1=1;var r=va(),e=wi(),t=r(e,"DataView");return mm=t,mm}var gm,ew;function a5(){if(ew)return gm;ew=1;var r=va(),e=wi(),t=r(e,"Promise");return gm=t,gm}var ym,tw;function u5(){if(tw)return ym;tw=1;var r=va(),e=wi(),t=r(e,"Set");return ym=t,ym}var vm,nw;function l5(){if(nw)return vm;nw=1;var r=va(),e=wi(),t=r(e,"WeakMap");return vm=t,vm}var _m,rw;function c5(){if(rw)return _m;rw=1;var r=o5(),e=ly(),t=a5(),n=u5(),i=l5(),a=qh(),u=PC(),c="[object Map]",h="[object Object]",d="[object Promise]",y="[object Set]",g="[object WeakMap]",p="[object DataView]",v=u(r),A=u(e),b=u(t),E=u(n),w=u(i),S=a;return(r&&S(new r(new ArrayBuffer(1)))!=p||e&&S(new e)!=c||t&&S(t.resolve())!=d||n&&S(new n)!=y||i&&S(new i)!=g)&&(S=function(P){var T=a(P),j=T==h?P.constructor:void 0,q=j?u(j):"";if(q)switch(q){case v:return p;case A:return c;case b:return d;case E:return y;case w:return g}return T}),_m=S,_m}var wm,iw;function h5(){if(iw)return wm;iw=1;var r=DL(),e=OC(),t=BL(),n=s5(),i=c5(),a=cy(),u=LC(),c=BC(),h=1,d="[object Arguments]",y="[object Array]",g="[object Object]",p=Object.prototype,v=p.hasOwnProperty;function A(b,E,w,S,P,T){var j=a(b),q=a(E),R=j?y:i(b),_=q?y:i(E);R=R==d?g:R,_=_==d?g:_;var D=R==g,I=_==g,k=R==_;if(k&&u(b)){if(!u(E))return!1;j=!0,D=!1}if(k&&!D)return T||(T=new r),j||c(b)?e(b,E,w,S,P,T):t(b,E,R,w,S,P,T);if(!(w&h)){var N=D&&v.call(b,"__wrapped__"),O=I&&v.call(E,"__wrapped__");if(N||O){var W=N?b.value():b,J=O?E.value():E;return T||(T=new r),P(W,J,w,S,T)}}return k?(T||(T=new r),n(b,E,w,S,P,T)):!1}return wm=A,wm}var Em,sw;function f5(){if(sw)return Em;sw=1;var r=h5(),e=zh();function t(n,i,a,u,c){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:r(n,i,a,u,t,c)}return Em=t,Em}var Am,ow;function d5(){if(ow)return Am;ow=1;var r=f5();function e(t,n){return r(t,n)}return Am=e,Am}var Fc={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var p5=Fc.exports,aw;function m5(){return aw||(aw=1,function(r,e){(function(n,i){r.exports=i()})(typeof self<"u"?self:p5,function(){return function(t){var n={};function i(a){if(n[a])return n[a].exports;var u=n[a]={i:a,l:!1,exports:{}};return t[a].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=t,i.c=n,i.d=function(a,u,c){i.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:c})},i.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(u,"a",u),u},i.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},i.p="",i(i.s=109)}([function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),u=i(18),c=i(19),h=i(45),d=i(46),y=i(47),g=i(48),p=i(49),v=i(12),A=i(32),b=i(33),E=i(31),w=i(1),S={Scope:w.Scope,create:w.create,find:w.find,query:w.query,register:w.register,Container:a.default,Format:u.default,Leaf:c.default,Embed:g.default,Scroll:h.default,Block:y.default,Inline:d.default,Text:p.default,Attributor:{Attribute:v.default,Class:A.default,Style:b.default,Store:E.default}};n.default=S},function(t,n,i){var a=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,S){w.__proto__=S}||function(w,S){for(var P in S)S.hasOwnProperty(P)&&(w[P]=S[P])};return function(w,S){E(w,S);function P(){this.constructor=w}w.prototype=S===null?Object.create(S):(P.prototype=S.prototype,new P)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=function(E){a(w,E);function w(S){var P=this;return S="[Parchment] "+S,P=E.call(this,S)||this,P.message=S,P.name=P.constructor.name,P}return w}(Error);n.ParchmentError=u;var c={},h={},d={},y={};n.DATA_KEY="__blot";var g;(function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"})(g=n.Scope||(n.Scope={}));function p(E,w){var S=A(E);if(S==null)throw new u("Unable to create "+E+" blot");var P=S,T=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:P.create(w);return new P(T,w)}n.create=p;function v(E,w){return w===void 0&&(w=!1),E==null?null:E[n.DATA_KEY]!=null?E[n.DATA_KEY].blot:w?v(E.parentNode,w):null}n.find=v;function A(E,w){w===void 0&&(w=g.ANY);var S;if(typeof E=="string")S=y[E]||c[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)S=y.text;else if(typeof E=="number")E&g.LEVEL&g.BLOCK?S=y.block:E&g.LEVEL&g.INLINE&&(S=y.inline);else if(E instanceof HTMLElement){var P=(E.getAttribute("class")||"").split(/\s+/);for(var T in P)if(S=h[P[T]],S)break;S=S||d[E.tagName]}return S==null?null:w&g.LEVEL&S.scope&&w&g.TYPE&S.scope?S:null}n.query=A;function b(){for(var E=[],w=0;w<arguments.length;w++)E[w]=arguments[w];if(E.length>1)return E.map(function(T){return b(T)});var S=E[0];if(typeof S.blotName!="string"&&typeof S.attrName!="string")throw new u("Invalid definition");if(S.blotName==="abstract")throw new u("Cannot register abstract class");if(y[S.blotName||S.attrName]=S,typeof S.keyName=="string")c[S.keyName]=S;else if(S.className!=null&&(h[S.className]=S),S.tagName!=null){Array.isArray(S.tagName)?S.tagName=S.tagName.map(function(T){return T.toUpperCase()}):S.tagName=S.tagName.toUpperCase();var P=Array.isArray(S.tagName)?S.tagName:[S.tagName];P.forEach(function(T){(d[T]==null||S.className==null)&&(d[T]=S)})}return S}n.register=b},function(t,n,i){var a=i(51),u=i(11),c=i(3),h=i(20),d="\0",y=function(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]};y.prototype.insert=function(g,p){var v={};return g.length===0?this:(v.insert=g,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(v.attributes=p),this.push(v))},y.prototype.delete=function(g){return g<=0?this:this.push({delete:g})},y.prototype.retain=function(g,p){if(g<=0)return this;var v={retain:g};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(v.attributes=p),this.push(v)},y.prototype.push=function(g){var p=this.ops.length,v=this.ops[p-1];if(g=c(!0,{},g),typeof v=="object"){if(typeof g.delete=="number"&&typeof v.delete=="number")return this.ops[p-1]={delete:v.delete+g.delete},this;if(typeof v.delete=="number"&&g.insert!=null&&(p-=1,v=this.ops[p-1],typeof v!="object"))return this.ops.unshift(g),this;if(u(g.attributes,v.attributes)){if(typeof g.insert=="string"&&typeof v.insert=="string")return this.ops[p-1]={insert:v.insert+g.insert},typeof g.attributes=="object"&&(this.ops[p-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof v.retain=="number")return this.ops[p-1]={retain:v.retain+g.retain},typeof g.attributes=="object"&&(this.ops[p-1].attributes=g.attributes),this}}return p===this.ops.length?this.ops.push(g):this.ops.splice(p,0,g),this},y.prototype.chop=function(){var g=this.ops[this.ops.length-1];return g&&g.retain&&!g.attributes&&this.ops.pop(),this},y.prototype.filter=function(g){return this.ops.filter(g)},y.prototype.forEach=function(g){this.ops.forEach(g)},y.prototype.map=function(g){return this.ops.map(g)},y.prototype.partition=function(g){var p=[],v=[];return this.forEach(function(A){var b=g(A)?p:v;b.push(A)}),[p,v]},y.prototype.reduce=function(g,p){return this.ops.reduce(g,p)},y.prototype.changeLength=function(){return this.reduce(function(g,p){return p.insert?g+h.length(p):p.delete?g-p.delete:g},0)},y.prototype.length=function(){return this.reduce(function(g,p){return g+h.length(p)},0)},y.prototype.slice=function(g,p){g=g||0,typeof p!="number"&&(p=1/0);for(var v=[],A=h.iterator(this.ops),b=0;b<p&&A.hasNext();){var E;b<g?E=A.next(g-b):(E=A.next(p-b),v.push(E)),b+=h.length(E)}return new y(v)},y.prototype.compose=function(g){var p=h.iterator(this.ops),v=h.iterator(g.ops),A=[],b=v.peek();if(b!=null&&typeof b.retain=="number"&&b.attributes==null){for(var E=b.retain;p.peekType()==="insert"&&p.peekLength()<=E;)E-=p.peekLength(),A.push(p.next());b.retain-E>0&&v.next(b.retain-E)}for(var w=new y(A);p.hasNext()||v.hasNext();)if(v.peekType()==="insert")w.push(v.next());else if(p.peekType()==="delete")w.push(p.next());else{var S=Math.min(p.peekLength(),v.peekLength()),P=p.next(S),T=v.next(S);if(typeof T.retain=="number"){var j={};typeof P.retain=="number"?j.retain=S:j.insert=P.insert;var q=h.attributes.compose(P.attributes,T.attributes,typeof P.retain=="number");if(q&&(j.attributes=q),w.push(j),!v.hasNext()&&u(w.ops[w.ops.length-1],j)){var R=new y(p.rest());return w.concat(R).chop()}}else typeof T.delete=="number"&&typeof P.retain=="number"&&w.push(T)}return w.chop()},y.prototype.concat=function(g){var p=new y(this.ops.slice());return g.ops.length>0&&(p.push(g.ops[0]),p.ops=p.ops.concat(g.ops.slice(1))),p},y.prototype.diff=function(g,p){if(this.ops===g.ops)return new y;var v=[this,g].map(function(S){return S.map(function(P){if(P.insert!=null)return typeof P.insert=="string"?P.insert:d;var T=S===g?"on":"with";throw new Error("diff() called "+T+" non-document")}).join("")}),A=new y,b=a(v[0],v[1],p),E=h.iterator(this.ops),w=h.iterator(g.ops);return b.forEach(function(S){for(var P=S[1].length;P>0;){var T=0;switch(S[0]){case a.INSERT:T=Math.min(w.peekLength(),P),A.push(w.next(T));break;case a.DELETE:T=Math.min(P,E.peekLength()),E.next(T),A.delete(T);break;case a.EQUAL:T=Math.min(E.peekLength(),w.peekLength(),P);var j=E.next(T),q=w.next(T);u(j.insert,q.insert)?A.retain(T,h.attributes.diff(j.attributes,q.attributes)):A.push(q).delete(T);break}P-=T}}),A.chop()},y.prototype.eachLine=function(g,p){p=p||`
`;for(var v=h.iterator(this.ops),A=new y,b=0;v.hasNext();){if(v.peekType()!=="insert")return;var E=v.peek(),w=h.length(E)-v.peekLength(),S=typeof E.insert=="string"?E.insert.indexOf(p,w)-w:-1;if(S<0)A.push(v.next());else if(S>0)A.push(v.next(S));else{if(g(A,v.next(1).attributes||{},b)===!1)return;b+=1,A=new y}}A.length()>0&&g(A,{},b)},y.prototype.transform=function(g,p){if(p=!!p,typeof g=="number")return this.transformPosition(g,p);for(var v=h.iterator(this.ops),A=h.iterator(g.ops),b=new y;v.hasNext()||A.hasNext();)if(v.peekType()==="insert"&&(p||A.peekType()!=="insert"))b.retain(h.length(v.next()));else if(A.peekType()==="insert")b.push(A.next());else{var E=Math.min(v.peekLength(),A.peekLength()),w=v.next(E),S=A.next(E);if(w.delete)continue;S.delete?b.push(S):b.retain(E,h.attributes.transform(w.attributes,S.attributes,p))}return b.chop()},y.prototype.transformPosition=function(g,p){p=!!p;for(var v=h.iterator(this.ops),A=0;v.hasNext()&&A<=g;){var b=v.peekLength(),E=v.peekType();if(v.next(),E==="delete"){g-=Math.min(b,g-A);continue}else E==="insert"&&(A<g||!p)&&(g+=b);A+=b}return g},t.exports=y},function(t,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h=function(v){return typeof Array.isArray=="function"?Array.isArray(v):a.call(v)==="[object Array]"},d=function(v){if(!v||a.call(v)!=="[object Object]")return!1;var A=i.call(v,"constructor"),b=v.constructor&&v.constructor.prototype&&i.call(v.constructor.prototype,"isPrototypeOf");if(v.constructor&&!A&&!b)return!1;var E;for(E in v);return typeof E>"u"||i.call(v,E)},y=function(v,A){u&&A.name==="__proto__"?u(v,A.name,{enumerable:!0,configurable:!0,value:A.newValue,writable:!0}):v[A.name]=A.newValue},g=function(v,A){if(A==="__proto__")if(i.call(v,A)){if(c)return c(v,A).value}else return;return v[A]};t.exports=function p(){var v,A,b,E,w,S,P=arguments[0],T=1,j=arguments.length,q=!1;for(typeof P=="boolean"&&(q=P,P=arguments[1]||{},T=2),(P==null||typeof P!="object"&&typeof P!="function")&&(P={});T<j;++T)if(v=arguments[T],v!=null)for(A in v)b=g(P,A),E=g(v,A),P!==E&&(q&&E&&(d(E)||(w=h(E)))?(w?(w=!1,S=b&&h(b)?b:[]):S=b&&d(b)?b:{},y(P,{name:A,newValue:p(q,S,E)})):typeof E<"u"&&y(P,{name:A,newValue:E}));return P}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function k(N,O){for(var W=0;W<O.length;W++){var J=O[W];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(N,J.key,J)}}return function(N,O,W){return O&&k(N.prototype,O),W&&k(N,W),N}}(),u=function k(N,O,W){N===null&&(N=Function.prototype);var J=Object.getOwnPropertyDescriptor(N,O);if(J===void 0){var se=Object.getPrototypeOf(N);return se===null?void 0:k(se,O,W)}else{if("value"in J)return J.value;var Z=J.get;return Z===void 0?void 0:Z.call(W)}},c=i(3),h=P(c),d=i(2),y=P(d),g=i(0),p=P(g),v=i(16),A=P(v),b=i(6),E=P(b),w=i(7),S=P(w);function P(k){return k&&k.__esModule?k:{default:k}}function T(k,N){if(!(k instanceof N))throw new TypeError("Cannot call a class as a function")}function j(k,N){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:k}function q(k,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);k.prototype=Object.create(N&&N.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(k,N):k.__proto__=N)}var R=1,_=function(k){q(N,k);function N(){return T(this,N),j(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,[{key:"attach",value:function(){u(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new y.default().insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(W,J){var se=p.default.query(W,p.default.Scope.BLOCK_ATTRIBUTE);se!=null&&this.attributes.attribute(se,J)}},{key:"formatAt",value:function(W,J,se,Z){this.format(se,Z)}},{key:"insertAt",value:function(W,J,se){if(typeof J=="string"&&J.endsWith(`
`)){var Z=p.default.create(D.blotName);this.parent.insertBefore(Z,W===0?this:this.next),Z.insertAt(0,J.slice(0,-1))}else u(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,W,J,se)}}]),N}(p.default.Embed);_.scope=p.default.Scope.BLOCK_BLOT;var D=function(k){q(N,k);function N(O){T(this,N);var W=j(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,O));return W.cache={},W}return a(N,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function(W,J){return J.length()===0?W:W.insert(J.value(),I(J))},new y.default).insert(`
`,I(this))),this.cache.delta}},{key:"deleteAt",value:function(W,J){u(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"deleteAt",this).call(this,W,J),this.cache={}}},{key:"formatAt",value:function(W,J,se,Z){J<=0||(p.default.query(se,p.default.Scope.BLOCK)?W+J===this.length()&&this.format(se,Z):u(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"formatAt",this).call(this,W,Math.min(J,this.length()-W-1),se,Z),this.cache={})}},{key:"insertAt",value:function(W,J,se){if(se!=null)return u(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,W,J,se);if(J.length!==0){var Z=J.split(`
`),re=Z.shift();re.length>0&&(W<this.length()-1||this.children.tail==null?u(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,Math.min(W,this.length()-1),re):this.children.tail.insertAt(this.children.tail.length(),re),this.cache={});var G=this;Z.reduce(function(H,B){return G=G.split(H,!0),G.insertAt(0,B),B.length},W+re.length)}}},{key:"insertBefore",value:function(W,J){var se=this.children.head;u(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,W,J),se instanceof A.default&&se.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=u(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"length",this).call(this)+R),this.cache.length}},{key:"moveChildren",value:function(W,J){u(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"moveChildren",this).call(this,W,J),this.cache={}}},{key:"optimize",value:function(W){u(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,W),this.cache={}}},{key:"path",value:function(W){return u(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"path",this).call(this,W,!0)}},{key:"removeChild",value:function(W){u(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"removeChild",this).call(this,W),this.cache={}}},{key:"split",value:function(W){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(J&&(W===0||W>=this.length()-R)){var se=this.clone();return W===0?(this.parent.insertBefore(se,this),this):(this.parent.insertBefore(se,this.next),se)}else{var Z=u(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"split",this).call(this,W,J);return this.cache={},Z}}}]),N}(p.default.Block);D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[E.default,p.default.Embed,S.default];function I(k){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(N=(0,h.default)(N,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?N:I(k.parent,N)}n.bubbleFormats=I,n.BlockEmbed=_,n.default=D},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},u=function(){function G(H,B){var V=[],z=!0,ee=!1,X=void 0;try{for(var $=H[Symbol.iterator](),Q;!(z=(Q=$.next()).done)&&(V.push(Q.value),!(B&&V.length===B));z=!0);}catch(te){ee=!0,X=te}finally{try{!z&&$.return&&$.return()}finally{if(ee)throw X}}return V}return function(H,B){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return G(H,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function G(H,B){for(var V=0;V<B.length;V++){var z=B[V];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(H,z.key,z)}}return function(H,B,V){return B&&G(H.prototype,B),V&&G(H,V),H}}();i(50);var h=i(2),d=I(h),y=i(14),g=I(y),p=i(8),v=I(p),A=i(9),b=I(A),E=i(0),w=I(E),S=i(15),P=I(S),T=i(3),j=I(T),q=i(10),R=I(q),_=i(34),D=I(_);function I(G){return G&&G.__esModule?G:{default:G}}function k(G,H,B){return H in G?Object.defineProperty(G,H,{value:B,enumerable:!0,configurable:!0,writable:!0}):G[H]=B,G}function N(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}var O=(0,R.default)("quill"),W=function(){c(G,null,[{key:"debug",value:function(B){B===!0&&(B="log"),R.default.level(B)}},{key:"find",value:function(B){return B.__quill||w.default.find(B)}},{key:"import",value:function(B){return this.imports[B]==null&&O.error("Cannot import "+B+". Are you sure it was registered?"),this.imports[B]}},{key:"register",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof B!="string"){var X=B.attrName||B.blotName;typeof X=="string"?this.register("formats/"+X,B,V):Object.keys(B).forEach(function($){z.register($,B[$],V)})}else this.imports[B]!=null&&!ee&&O.warn("Overwriting "+B+" with",V),this.imports[B]=V,(B.startsWith("blots/")||B.startsWith("formats/"))&&V.blotName!=="abstract"?w.default.register(V):B.startsWith("modules")&&typeof V.register=="function"&&V.register()}}]);function G(H){var B=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(N(this,G),this.options=J(H,V),this.container=this.options.container,this.container==null)return O.error("Invalid Quill container",H);this.options.debug&&G.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new v.default,this.scroll=w.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new P.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(v.default.events.EDITOR_CHANGE,function(X){X===v.default.events.TEXT_CHANGE&&B.root.classList.toggle("ql-blank",B.editor.isBlank())}),this.emitter.on(v.default.events.SCROLL_UPDATE,function(X,$){var Q=B.selection.lastRange,te=Q&&Q.length===0?Q.index:void 0;se.call(B,function(){return B.editor.update(null,$,te)},X)});var ee=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(ee),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(G,[{key:"addContainer",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof B=="string"){var z=B;B=document.createElement("div"),B.classList.add(z)}return this.container.insertBefore(B,V),B}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(B,V,z){var ee=this,X=Z(B,V,z),$=u(X,4);return B=$[0],V=$[1],z=$[3],se.call(this,function(){return ee.editor.deleteText(B,V)},z,B,-1*V)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(B),this.container.classList.toggle("ql-disabled",!B)}},{key:"focus",value:function(){var B=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=B,this.scrollIntoView()}},{key:"format",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;return se.call(this,function(){var X=z.getSelection(!0),$=new d.default;if(X==null)return $;if(w.default.query(B,w.default.Scope.BLOCK))$=z.editor.formatLine(X.index,X.length,k({},B,V));else{if(X.length===0)return z.selection.format(B,V),$;$=z.editor.formatText(X.index,X.length,k({},B,V))}return z.setSelection(X,v.default.sources.SILENT),$},ee)}},{key:"formatLine",value:function(B,V,z,ee,X){var $=this,Q=void 0,te=Z(B,V,z,ee,X),ie=u(te,4);return B=ie[0],V=ie[1],Q=ie[2],X=ie[3],se.call(this,function(){return $.editor.formatLine(B,V,Q)},X,B,0)}},{key:"formatText",value:function(B,V,z,ee,X){var $=this,Q=void 0,te=Z(B,V,z,ee,X),ie=u(te,4);return B=ie[0],V=ie[1],Q=ie[2],X=ie[3],se.call(this,function(){return $.editor.formatText(B,V,Q)},X,B,0)}},{key:"getBounds",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof B=="number"?z=this.selection.getBounds(B,V):z=this.selection.getBounds(B.index,B.length);var ee=this.container.getBoundingClientRect();return{bottom:z.bottom-ee.top,height:z.height,left:z.left-ee.left,right:z.right-ee.left,top:z.top-ee.top,width:z.width}}},{key:"getContents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,z=Z(B,V),ee=u(z,2);return B=ee[0],V=ee[1],this.editor.getContents(B,V)}},{key:"getFormat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof B=="number"?this.editor.getFormat(B,V):this.editor.getFormat(B.index,B.length)}},{key:"getIndex",value:function(B){return B.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(B){return this.scroll.leaf(B)}},{key:"getLine",value:function(B){return this.scroll.line(B)}},{key:"getLines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof B!="number"?this.scroll.lines(B.index,B.length):this.scroll.lines(B,V)}},{key:"getModule",value:function(B){return this.theme.modules[B]}},{key:"getSelection",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return B&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,z=Z(B,V),ee=u(z,2);return B=ee[0],V=ee[1],this.editor.getText(B,V)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(B,V,z){var ee=this,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:G.sources.API;return se.call(this,function(){return ee.editor.insertEmbed(B,V,z)},X,B)}},{key:"insertText",value:function(B,V,z,ee,X){var $=this,Q=void 0,te=Z(B,0,z,ee,X),ie=u(te,4);return B=ie[0],Q=ie[2],X=ie[3],se.call(this,function(){return $.editor.insertText(B,V,Q)},X,B,V.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(B,V,z){this.clipboard.dangerouslyPasteHTML(B,V,z)}},{key:"removeFormat",value:function(B,V,z){var ee=this,X=Z(B,V,z),$=u(X,4);return B=$[0],V=$[1],z=$[3],se.call(this,function(){return ee.editor.removeFormat(B,V)},z,B)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(B){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API;return se.call(this,function(){B=new d.default(B);var ee=V.getLength(),X=V.editor.deleteText(0,ee),$=V.editor.applyDelta(B),Q=$.ops[$.ops.length-1];Q!=null&&typeof Q.insert=="string"&&Q.insert[Q.insert.length-1]===`
`&&(V.editor.deleteText(V.getLength()-1,1),$.delete(1));var te=X.compose($);return te},z)}},{key:"setSelection",value:function(B,V,z){if(B==null)this.selection.setRange(null,V||G.sources.API);else{var ee=Z(B,V,z),X=u(ee,4);B=X[0],V=X[1],z=X[3],this.selection.setRange(new S.Range(B,V),z),z!==v.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API,z=new d.default().insert(B);return this.setContents(z,V)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,V=this.scroll.update(B);return this.selection.update(B),V}},{key:"updateContents",value:function(B){var V=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v.default.sources.API;return se.call(this,function(){return B=new d.default(B),V.editor.applyDelta(B,z)},z,!0)}}]),G}();W.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},W.events=v.default.events,W.sources=v.default.sources,W.version="1.3.7",W.imports={delta:d.default,parchment:w.default,"core/module":b.default,"core/theme":D.default};function J(G,H){if(H=(0,j.default)(!0,{container:G,modules:{clipboard:!0,keyboard:!0,history:!0}},H),!H.theme||H.theme===W.DEFAULTS.theme)H.theme=D.default;else if(H.theme=W.import("themes/"+H.theme),H.theme==null)throw new Error("Invalid theme "+H.theme+". Did you register it?");var B=(0,j.default)(!0,{},H.theme.DEFAULTS);[B,H].forEach(function(ee){ee.modules=ee.modules||{},Object.keys(ee.modules).forEach(function(X){ee.modules[X]===!0&&(ee.modules[X]={})})});var V=Object.keys(B.modules).concat(Object.keys(H.modules)),z=V.reduce(function(ee,X){var $=W.import("modules/"+X);return $==null?O.error("Cannot load "+X+" module. Are you sure you registered it?"):ee[X]=$.DEFAULTS||{},ee},{});return H.modules!=null&&H.modules.toolbar&&H.modules.toolbar.constructor!==Object&&(H.modules.toolbar={container:H.modules.toolbar}),H=(0,j.default)(!0,{},W.DEFAULTS,{modules:z},B,H),["bounds","container","scrollingContainer"].forEach(function(ee){typeof H[ee]=="string"&&(H[ee]=document.querySelector(H[ee]))}),H.modules=Object.keys(H.modules).reduce(function(ee,X){return H.modules[X]&&(ee[X]=H.modules[X]),ee},{}),H}function se(G,H,B,V){if(this.options.strict&&!this.isEnabled()&&H===v.default.sources.USER)return new d.default;var z=B==null?null:this.getSelection(),ee=this.editor.delta,X=G();if(z!=null&&(B===!0&&(B=z.index),V==null?z=re(z,X,H):V!==0&&(z=re(z,B,V,H)),this.setSelection(z,v.default.sources.SILENT)),X.length()>0){var $,Q=[v.default.events.TEXT_CHANGE,X,ee,H];if(($=this.emitter).emit.apply($,[v.default.events.EDITOR_CHANGE].concat(Q)),H!==v.default.sources.SILENT){var te;(te=this.emitter).emit.apply(te,Q)}}return X}function Z(G,H,B,V,z){var ee={};return typeof G.index=="number"&&typeof G.length=="number"?typeof H!="number"?(z=V,V=B,B=H,H=G.length,G=G.index):(H=G.length,G=G.index):typeof H!="number"&&(z=V,V=B,B=H,H=0),(typeof B>"u"?"undefined":a(B))==="object"?(ee=B,z=V):typeof B=="string"&&(V!=null?ee[B]=V:z=B),z=z||v.default.sources.API,[G,H,ee,z]}function re(G,H,B,V){if(G==null)return null;var z=void 0,ee=void 0;if(H instanceof d.default){var X=[G.index,G.index+G.length].map(function(ie){return H.transformPosition(ie,V!==v.default.sources.USER)}),$=u(X,2);z=$[0],ee=$[1]}else{var Q=[G.index,G.index+G.length].map(function(ie){return ie<H||ie===H&&V===v.default.sources.USER?ie:B>=0?ie+B:Math.max(H,ie+B)}),te=u(Q,2);z=te[0],ee=te[1]}return new S.Range(z,ee-z)}n.expandConfig=J,n.overload=Z,n.default=W},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function E(w,S){for(var P=0;P<S.length;P++){var T=S[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,S,P){return S&&E(w.prototype,S),P&&E(w,P),w}}(),u=function E(w,S,P){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,S);if(T===void 0){var j=Object.getPrototypeOf(w);return j===null?void 0:E(j,S,P)}else{if("value"in T)return T.value;var q=T.get;return q===void 0?void 0:q.call(P)}},c=i(7),h=g(c),d=i(0),y=g(d);function g(E){return E&&E.__esModule?E:{default:E}}function p(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function v(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function A(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var b=function(E){A(w,E);function w(){return p(this,w),v(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"formatAt",value:function(P,T,j,q){if(w.compare(this.statics.blotName,j)<0&&y.default.query(j,y.default.Scope.BLOT)){var R=this.isolate(P,T);q&&R.wrap(j,q)}else u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,P,T,j,q)}},{key:"optimize",value:function(P){if(u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,P),this.parent instanceof w&&w.compare(this.statics.blotName,this.parent.statics.blotName)>0){var T=this.parent.isolate(this.offset(),this.length());this.moveChildren(T),T.wrap(this)}}}],[{key:"compare",value:function(P,T){var j=w.order.indexOf(P),q=w.order.indexOf(T);return j>=0||q>=0?j-q:P===T?0:P<T?-1:1}}]),w}(y.default.Inline);b.allowedChildren=[b,y.default.Embed,h.default],b.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default.Text);n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function S(P,T){for(var j=0;j<T.length;j++){var q=T[j];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(P,q.key,q)}}return function(P,T,j){return T&&S(P.prototype,T),j&&S(P,j),P}}(),u=function S(P,T,j){P===null&&(P=Function.prototype);var q=Object.getOwnPropertyDescriptor(P,T);if(q===void 0){var R=Object.getPrototypeOf(P);return R===null?void 0:S(R,T,j)}else{if("value"in q)return q.value;var _=q.get;return _===void 0?void 0:_.call(j)}},c=i(54),h=g(c),d=i(10),y=g(d);function g(S){return S&&S.__esModule?S:{default:S}}function p(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")}function v(S,P){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:S}function A(S,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);S.prototype=Object.create(P&&P.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(S,P):S.__proto__=P)}var b=(0,y.default)("quill:events"),E=["selectionchange","mousedown","mouseup","click"];E.forEach(function(S){document.addEventListener(S,function(){for(var P=arguments.length,T=Array(P),j=0;j<P;j++)T[j]=arguments[j];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(q){if(q.__quill&&q.__quill.emitter){var R;(R=q.__quill.emitter).handleDOM.apply(R,T)}})})});var w=function(S){A(P,S);function P(){p(this,P);var T=v(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return T.listeners={},T.on("error",b.error),T}return a(P,[{key:"emit",value:function(){b.log.apply(b,arguments),u(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(j){for(var q=arguments.length,R=Array(q>1?q-1:0),_=1;_<q;_++)R[_-1]=arguments[_];(this.listeners[j.type]||[]).forEach(function(D){var I=D.node,k=D.handler;(j.target===I||I.contains(j.target))&&k.apply(void 0,[j].concat(R))})}},{key:"listenDOM",value:function(j,q,R){this.listeners[j]||(this.listeners[j]=[]),this.listeners[j].push({node:q,handler:R})}}]),P}(h.default);w.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},w.sources={API:"api",SILENT:"silent",USER:"user"},n.default=w},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}var u=function c(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,c),this.quill=h,this.options=d};u.DEFAULTS={},n.default=u},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],u="warn";function c(d){if(a.indexOf(d)<=a.indexOf(u)){for(var y,g=arguments.length,p=Array(g>1?g-1:0),v=1;v<g;v++)p[v-1]=arguments[v];(y=console)[d].apply(y,p)}}function h(d){return a.reduce(function(y,g){return y[g]=c.bind(console,g,d),y},{})}c.level=h.level=function(d){u=d},n.default=h},function(t,n,i){var a=Array.prototype.slice,u=i(52),c=i(53),h=t.exports=function(p,v,A){return A||(A={}),p===v?!0:p instanceof Date&&v instanceof Date?p.getTime()===v.getTime():!p||!v||typeof p!="object"&&typeof v!="object"?A.strict?p===v:p==v:g(p,v,A)};function d(p){return p==null}function y(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function g(p,v,A){var b,E;if(d(p)||d(v)||p.prototype!==v.prototype)return!1;if(c(p))return c(v)?(p=a.call(p),v=a.call(v),h(p,v,A)):!1;if(y(p)){if(!y(v)||p.length!==v.length)return!1;for(b=0;b<p.length;b++)if(p[b]!==v[b])return!1;return!0}try{var w=u(p),S=u(v)}catch{return!1}if(w.length!=S.length)return!1;for(w.sort(),S.sort(),b=w.length-1;b>=0;b--)if(w[b]!=S[b])return!1;for(b=w.length-1;b>=0;b--)if(E=w[b],!h(p[E],v[E],A))return!1;return typeof p==typeof v}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),u=function(){function c(h,d,y){y===void 0&&(y={}),this.attrName=h,this.keyName=d;var g=a.Scope.TYPE&a.Scope.ATTRIBUTE;y.scope!=null?this.scope=y.scope&a.Scope.LEVEL|g:this.scope=a.Scope.ATTRIBUTE,y.whitelist!=null&&(this.whitelist=y.whitelist)}return c.keys=function(h){return[].map.call(h.attributes,function(d){return d.name})},c.prototype.add=function(h,d){return this.canAdd(h,d)?(h.setAttribute(this.keyName,d),!0):!1},c.prototype.canAdd=function(h,d){var y=a.query(h,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return y==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},c.prototype.remove=function(h){h.removeAttribute(this.keyName)},c.prototype.value=function(h){var d=h.getAttribute(this.keyName);return this.canAdd(h,d)&&d?d:""},c}();n.default=u},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function _(D,I){var k=[],N=!0,O=!1,W=void 0;try{for(var J=D[Symbol.iterator](),se;!(N=(se=J.next()).done)&&(k.push(se.value),!(I&&k.length===I));N=!0);}catch(Z){O=!0,W=Z}finally{try{!N&&J.return&&J.return()}finally{if(O)throw W}}return k}return function(D,I){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return _(D,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function _(D,I){for(var k=0;k<I.length;k++){var N=I[k];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(D,N.key,N)}}return function(D,I,k){return I&&_(D.prototype,I),k&&_(D,k),D}}(),c=function _(D,I,k){D===null&&(D=Function.prototype);var N=Object.getOwnPropertyDescriptor(D,I);if(N===void 0){var O=Object.getPrototypeOf(D);return O===null?void 0:_(O,I,k)}else{if("value"in N)return N.value;var W=N.get;return W===void 0?void 0:W.call(k)}},h=i(2),d=S(h),y=i(0),g=S(y),p=i(4),v=S(p),A=i(6),b=S(A),E=i(7),w=S(E);function S(_){return _&&_.__esModule?_:{default:_}}function P(_,D){if(!(_ instanceof D))throw new TypeError("Cannot call a class as a function")}function T(_,D){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:_}function j(_,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);_.prototype=Object.create(D&&D.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(_,D):_.__proto__=D)}var q=function(_){j(D,_);function D(){return P(this,D),T(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return D}(b.default);q.blotName="code",q.tagName="CODE";var R=function(_){j(D,_);function D(){return P(this,D),T(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return u(D,[{key:"delta",value:function(){var k=this,N=this.domNode.textContent;return N.endsWith(`
`)&&(N=N.slice(0,-1)),N.split(`
`).reduce(function(O,W){return O.insert(W).insert(`
`,k.formats())},new d.default)}},{key:"format",value:function(k,N){if(!(k===this.statics.blotName&&N)){var O=this.descendant(w.default,this.length()-1),W=a(O,1),J=W[0];J!=null&&J.deleteAt(J.length()-1,1),c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,k,N)}}},{key:"formatAt",value:function(k,N,O,W){if(N!==0&&!(g.default.query(O,g.default.Scope.BLOCK)==null||O===this.statics.blotName&&W===this.statics.formats(this.domNode))){var J=this.newlineIndex(k);if(!(J<0||J>=k+N)){var se=this.newlineIndex(k,!0)+1,Z=J-se+1,re=this.isolate(se,Z),G=re.next;re.format(O,W),G instanceof D&&G.formatAt(0,k-se+N-Z,O,W)}}}},{key:"insertAt",value:function(k,N,O){if(O==null){var W=this.descendant(w.default,k),J=a(W,2),se=J[0],Z=J[1];se.insertAt(Z,N)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var O=this.domNode.textContent.slice(k).indexOf(`
`);return O>-1?k+O:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(g.default.create("text",`
`)),c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,k);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===N.statics.formats(N.domNode)&&(N.optimize(k),N.moveChildren(this),N.remove())}},{key:"replace",value:function(k){c(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(N){var O=g.default.find(N);O==null?N.parentNode.removeChild(N):O instanceof g.default.Embed?O.remove():O.unwrap()})}}],[{key:"create",value:function(k){var N=c(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,k);return N.setAttribute("spellcheck",!1),N}},{key:"formats",value:function(){return!0}}]),D}(v.default);R.blotName="code-block",R.tagName="PRE",R.TAB="  ",n.Code=q,n.default=R},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},u=function(){function G(H,B){var V=[],z=!0,ee=!1,X=void 0;try{for(var $=H[Symbol.iterator](),Q;!(z=(Q=$.next()).done)&&(V.push(Q.value),!(B&&V.length===B));z=!0);}catch(te){ee=!0,X=te}finally{try{!z&&$.return&&$.return()}finally{if(ee)throw X}}return V}return function(H,B){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return G(H,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function G(H,B){for(var V=0;V<B.length;V++){var z=B[V];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(H,z.key,z)}}return function(H,B,V){return B&&G(H.prototype,B),V&&G(H,V),H}}(),h=i(2),d=N(h),y=i(20),g=N(y),p=i(0),v=N(p),A=i(13),b=N(A),E=i(24),w=N(E),S=i(4),P=N(S),T=i(16),j=N(T),q=i(21),R=N(q),_=i(11),D=N(_),I=i(3),k=N(I);function N(G){return G&&G.__esModule?G:{default:G}}function O(G,H,B){return H in G?Object.defineProperty(G,H,{value:B,enumerable:!0,configurable:!0,writable:!0}):G[H]=B,G}function W(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}var J=/^[ -~]*$/,se=function(){function G(H){W(this,G),this.scroll=H,this.delta=this.getDelta()}return c(G,[{key:"applyDelta",value:function(B){var V=this,z=!1;this.scroll.update();var ee=this.scroll.length();return this.scroll.batchStart(),B=re(B),B.reduce(function(X,$){var Q=$.retain||$.delete||$.insert.length||1,te=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var ie=$.insert;ie.endsWith(`
`)&&z&&(z=!1,ie=ie.slice(0,-1)),X>=ee&&!ie.endsWith(`
`)&&(z=!0),V.scroll.insertAt(X,ie);var fe=V.scroll.line(X),ge=u(fe,2),De=ge[0],Ie=ge[1],ke=(0,k.default)({},(0,S.bubbleFormats)(De));if(De instanceof P.default){var Re=De.descendant(v.default.Leaf,Ie),Be=u(Re,1),et=Be[0];ke=(0,k.default)(ke,(0,S.bubbleFormats)(et))}te=g.default.attributes.diff(ke,te)||{}}else if(a($.insert)==="object"){var le=Object.keys($.insert)[0];if(le==null)return X;V.scroll.insertAt(X,le,$.insert[le])}ee+=Q}return Object.keys(te).forEach(function(de){V.scroll.formatAt(X,Q,de,te[de])}),X+Q},0),B.reduce(function(X,$){return typeof $.delete=="number"?(V.scroll.deleteAt(X,$.delete),X):X+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(B)}},{key:"deleteText",value:function(B,V){return this.scroll.deleteAt(B,V),this.update(new d.default().retain(B).delete(V))}},{key:"formatLine",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ee).forEach(function(X){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[X])){var $=z.scroll.lines(B,Math.max(V,1)),Q=V;$.forEach(function(te){var ie=te.length();if(!(te instanceof b.default))te.format(X,ee[X]);else{var fe=B-te.offset(z.scroll),ge=te.newlineIndex(fe+Q)-fe+1;te.formatAt(fe,ge,X,ee[X])}Q-=ie})}}),this.scroll.optimize(),this.update(new d.default().retain(B).retain(V,(0,R.default)(ee)))}},{key:"formatText",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ee).forEach(function(X){z.scroll.formatAt(B,V,X,ee[X])}),this.update(new d.default().retain(B).retain(V,(0,R.default)(ee)))}},{key:"getContents",value:function(B,V){return this.delta.slice(B,B+V)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(B,V){return B.concat(V.delta())},new d.default)}},{key:"getFormat",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],ee=[];V===0?this.scroll.path(B).forEach(function($){var Q=u($,1),te=Q[0];te instanceof P.default?z.push(te):te instanceof v.default.Leaf&&ee.push(te)}):(z=this.scroll.lines(B,V),ee=this.scroll.descendants(v.default.Leaf,B,V));var X=[z,ee].map(function($){if($.length===0)return{};for(var Q=(0,S.bubbleFormats)($.shift());Object.keys(Q).length>0;){var te=$.shift();if(te==null)return Q;Q=Z((0,S.bubbleFormats)(te),Q)}return Q});return k.default.apply(k.default,X)}},{key:"getText",value:function(B,V){return this.getContents(B,V).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(B,V,z){return this.scroll.insertAt(B,V,z),this.update(new d.default().retain(B).insert(O({},V,z)))}},{key:"insertText",value:function(B,V){var z=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V=V.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(B,V),Object.keys(ee).forEach(function(X){z.scroll.formatAt(B,V.length,X,ee[X])}),this.update(new d.default().retain(B).insert(V,(0,R.default)(ee)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var B=this.scroll.children.head;return B.statics.blotName!==P.default.blotName||B.children.length>1?!1:B.children.head instanceof j.default}},{key:"removeFormat",value:function(B,V){var z=this.getText(B,V),ee=this.scroll.line(B+V),X=u(ee,2),$=X[0],Q=X[1],te=0,ie=new d.default;$!=null&&($ instanceof b.default?te=$.newlineIndex(Q)-Q+1:te=$.length()-Q,ie=$.delta().slice(Q,Q+te-1).insert(`
`));var fe=this.getContents(B,V+te),ge=fe.diff(new d.default().insert(z).concat(ie)),De=new d.default().retain(B).concat(ge);return this.applyDelta(De)}},{key:"update",value:function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ee=this.delta;if(V.length===1&&V[0].type==="characterData"&&V[0].target.data.match(J)&&v.default.find(V[0].target)){var X=v.default.find(V[0].target),$=(0,S.bubbleFormats)(X),Q=X.offset(this.scroll),te=V[0].oldValue.replace(w.default.CONTENTS,""),ie=new d.default().insert(te),fe=new d.default().insert(X.value()),ge=new d.default().retain(Q).concat(ie.diff(fe,z));B=ge.reduce(function(De,Ie){return Ie.insert?De.insert(Ie.insert,$):De.push(Ie)},new d.default),this.delta=ee.compose(B)}else this.delta=this.getDelta(),(!B||!(0,D.default)(ee.compose(B),this.delta))&&(B=ee.diff(this.delta,z));return B}}]),G}();function Z(G,H){return Object.keys(H).reduce(function(B,V){return G[V]==null||(H[V]===G[V]?B[V]=H[V]:Array.isArray(H[V])?H[V].indexOf(G[V])<0&&(B[V]=H[V].concat([G[V]])):B[V]=[H[V],G[V]]),B},{})}function re(G){return G.reduce(function(H,B){if(B.insert===1){var V=(0,R.default)(B.attributes);return delete V.image,H.insert({image:B.attributes.image},V)}if(B.attributes!=null&&(B.attributes.list===!0||B.attributes.bullet===!0)&&(B=(0,R.default)(B),B.attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var z=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return H.insert(z,B.attributes)}return H.push(B)},new d.default)}n.default=se},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function _(D,I){var k=[],N=!0,O=!1,W=void 0;try{for(var J=D[Symbol.iterator](),se;!(N=(se=J.next()).done)&&(k.push(se.value),!(I&&k.length===I));N=!0);}catch(Z){O=!0,W=Z}finally{try{!N&&J.return&&J.return()}finally{if(O)throw W}}return k}return function(D,I){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return _(D,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function _(D,I){for(var k=0;k<I.length;k++){var N=I[k];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(D,N.key,N)}}return function(D,I,k){return I&&_(D.prototype,I),k&&_(D,k),D}}(),c=i(0),h=w(c),d=i(21),y=w(d),g=i(11),p=w(g),v=i(8),A=w(v),b=i(10),E=w(b);function w(_){return _&&_.__esModule?_:{default:_}}function S(_){if(Array.isArray(_)){for(var D=0,I=Array(_.length);D<_.length;D++)I[D]=_[D];return I}else return Array.from(_)}function P(_,D){if(!(_ instanceof D))throw new TypeError("Cannot call a class as a function")}var T=(0,E.default)("quill:selection"),j=function _(D){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;P(this,_),this.index=D,this.length=I},q=function(){function _(D,I){var k=this;P(this,_),this.emitter=I,this.scroll=D,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=h.default.create("cursor",this),this.lastRange=this.savedRange=new j(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,A.default.sources.USER),1)}),this.emitter.on(A.default.events.EDITOR_CHANGE,function(N,O){N===A.default.events.TEXT_CHANGE&&O.length()>0&&k.update(A.default.sources.SILENT)}),this.emitter.on(A.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var N=k.getNativeRange();N!=null&&N.start.node!==k.cursor.textNode&&k.emitter.once(A.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(N.start.node,N.start.offset,N.end.node,N.end.offset)}catch{}})}}),this.emitter.on(A.default.events.SCROLL_OPTIMIZE,function(N,O){if(O.range){var W=O.range,J=W.startNode,se=W.startOffset,Z=W.endNode,re=W.endOffset;k.setNativeRange(J,se,Z,re)}}),this.update(A.default.sources.SILENT)}return u(_,[{key:"handleComposition",value:function(){var I=this;this.root.addEventListener("compositionstart",function(){I.composing=!0}),this.root.addEventListener("compositionend",function(){if(I.composing=!1,I.cursor.parent){var k=I.cursor.restore();if(!k)return;setTimeout(function(){I.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var I=this;this.emitter.listenDOM("mousedown",document.body,function(){I.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){I.mouseDown=!1,I.update(A.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(I,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[I])){this.scroll.update();var N=this.getNativeRange();if(!(N==null||!N.native.collapsed||h.default.query(I,h.default.Scope.BLOCK))){if(N.start.node!==this.cursor.textNode){var O=h.default.find(N.start.node,!1);if(O==null)return;if(O instanceof h.default.Leaf){var W=O.split(N.start.offset);O.parent.insertBefore(this.cursor,W)}else O.insertBefore(this.cursor,N.start.node);this.cursor.attach()}this.cursor.format(I,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=this.scroll.length();I=Math.min(I,N-1),k=Math.min(I+k,N-1)-I;var O=void 0,W=this.scroll.leaf(I),J=a(W,2),se=J[0],Z=J[1];if(se==null)return null;var re=se.position(Z,!0),G=a(re,2);O=G[0],Z=G[1];var H=document.createRange();if(k>0){H.setStart(O,Z);var B=this.scroll.leaf(I+k),V=a(B,2);if(se=V[0],Z=V[1],se==null)return null;var z=se.position(Z,!0),ee=a(z,2);return O=ee[0],Z=ee[1],H.setEnd(O,Z),H.getBoundingClientRect()}else{var X="left",$=void 0;return O instanceof Text?(Z<O.data.length?(H.setStart(O,Z),H.setEnd(O,Z+1)):(H.setStart(O,Z-1),H.setEnd(O,Z),X="right"),$=H.getBoundingClientRect()):($=se.domNode.getBoundingClientRect(),Z>0&&(X="right")),{bottom:$.top+$.height,height:$.height,left:$[X],right:$[X],top:$.top,width:0}}}},{key:"getNativeRange",value:function(){var I=document.getSelection();if(I==null||I.rangeCount<=0)return null;var k=I.getRangeAt(0);if(k==null)return null;var N=this.normalizeNative(k);return T.info("getNativeRange",N),N}},{key:"getRange",value:function(){var I=this.getNativeRange();if(I==null)return[null,null];var k=this.normalizedToRange(I);return[k,I]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(I){var k=this,N=[[I.start.node,I.start.offset]];I.native.collapsed||N.push([I.end.node,I.end.offset]);var O=N.map(function(se){var Z=a(se,2),re=Z[0],G=Z[1],H=h.default.find(re,!0),B=H.offset(k.scroll);return G===0?B:H instanceof h.default.Container?B+H.length():B+H.index(re,G)}),W=Math.min(Math.max.apply(Math,S(O)),this.scroll.length()-1),J=Math.min.apply(Math,[W].concat(S(O)));return new j(J,W-J)}},{key:"normalizeNative",value:function(I){if(!R(this.root,I.startContainer)||!I.collapsed&&!R(this.root,I.endContainer))return null;var k={start:{node:I.startContainer,offset:I.startOffset},end:{node:I.endContainer,offset:I.endOffset},native:I};return[k.start,k.end].forEach(function(N){for(var O=N.node,W=N.offset;!(O instanceof Text)&&O.childNodes.length>0;)if(O.childNodes.length>W)O=O.childNodes[W],W=0;else if(O.childNodes.length===W)O=O.lastChild,W=O instanceof Text?O.data.length:O.childNodes.length+1;else break;N.node=O,N.offset=W}),k}},{key:"rangeToNative",value:function(I){var k=this,N=I.collapsed?[I.index]:[I.index,I.index+I.length],O=[],W=this.scroll.length();return N.forEach(function(J,se){J=Math.min(W-1,J);var Z=void 0,re=k.scroll.leaf(J),G=a(re,2),H=G[0],B=G[1],V=H.position(B,se!==0),z=a(V,2);Z=z[0],B=z[1],O.push(Z,B)}),O.length<2&&(O=O.concat(O)),O}},{key:"scrollIntoView",value:function(I){var k=this.lastRange;if(k!=null){var N=this.getBounds(k.index,k.length);if(N!=null){var O=this.scroll.length()-1,W=this.scroll.line(Math.min(k.index,O)),J=a(W,1),se=J[0],Z=se;if(k.length>0){var re=this.scroll.line(Math.min(k.index+k.length,O)),G=a(re,1);Z=G[0]}if(!(se==null||Z==null)){var H=I.getBoundingClientRect();N.top<H.top?I.scrollTop-=H.top-N.top:N.bottom>H.bottom&&(I.scrollTop+=N.bottom-H.bottom)}}}}},{key:"setNativeRange",value:function(I,k){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,W=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(T.info("setNativeRange",I,k,N,O),!(I!=null&&(this.root.parentNode==null||I.parentNode==null||N.parentNode==null))){var J=document.getSelection();if(J!=null)if(I!=null){this.hasFocus()||this.root.focus();var se=(this.getNativeRange()||{}).native;if(se==null||W||I!==se.startContainer||k!==se.startOffset||N!==se.endContainer||O!==se.endOffset){I.tagName=="BR"&&(k=[].indexOf.call(I.parentNode.childNodes,I),I=I.parentNode),N.tagName=="BR"&&(O=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode);var Z=document.createRange();Z.setStart(I,k),Z.setEnd(N,O),J.removeAllRanges(),J.addRange(Z)}}else J.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(I){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.default.sources.API;if(typeof k=="string"&&(N=k,k=!1),T.info("setRange",I),I!=null){var O=this.rangeToNative(I);this.setNativeRange.apply(this,S(O).concat([k]))}else this.setNativeRange(null);this.update(N)}},{key:"update",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.default.sources.USER,k=this.lastRange,N=this.getRange(),O=a(N,2),W=O[0],J=O[1];if(this.lastRange=W,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(k,this.lastRange)){var se;!this.composing&&J!=null&&J.native.collapsed&&J.start.node!==this.cursor.textNode&&this.cursor.restore();var Z=[A.default.events.SELECTION_CHANGE,(0,y.default)(this.lastRange),(0,y.default)(k),I];if((se=this.emitter).emit.apply(se,[A.default.events.EDITOR_CHANGE].concat(Z)),I!==A.default.sources.SILENT){var re;(re=this.emitter).emit.apply(re,Z)}}}}]),_}();function R(_,D){try{D.parentNode}catch{return!1}return D instanceof Text&&(D=D.parentNode),_.contains(D)}n.Range=j,n.default=q},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(b,E){for(var w=0;w<E.length;w++){var S=E[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,E,w){return E&&A(b.prototype,E),w&&A(b,w),b}}(),u=function A(b,E,w){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,E);if(S===void 0){var P=Object.getPrototypeOf(b);return P===null?void 0:A(P,E,w)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(w)}},c=i(0),h=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function g(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function p(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var v=function(A){p(b,A);function b(){return y(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"insertInto",value:function(w,S){w.children.length===0?u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertInto",this).call(this,w,S):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),b}(h.default.Embed);v.blotName="break",v.tagName="BR",n.default=v},function(t,n,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var A in v)v.hasOwnProperty(A)&&(p[A]=v[A])};return function(p,v){g(p,v);function A(){this.constructor=p}p.prototype=v===null?Object.create(v):(A.prototype=v.prototype,new A)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(44),c=i(30),h=i(1),d=function(g){a(p,g);function p(v){var A=g.call(this,v)||this;return A.build(),A}return p.prototype.appendChild=function(v){this.insertBefore(v)},p.prototype.attach=function(){g.prototype.attach.call(this),this.children.forEach(function(v){v.attach()})},p.prototype.build=function(){var v=this;this.children=new u.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(A){try{var b=y(A);v.insertBefore(b,v.children.head||void 0)}catch(E){if(E instanceof h.ParchmentError)return;throw E}})},p.prototype.deleteAt=function(v,A){if(v===0&&A===this.length())return this.remove();this.children.forEachAt(v,A,function(b,E,w){b.deleteAt(E,w)})},p.prototype.descendant=function(v,A){var b=this.children.find(A),E=b[0],w=b[1];return v.blotName==null&&v(E)||v.blotName!=null&&E instanceof v?[E,w]:E instanceof p?E.descendant(v,w):[null,-1]},p.prototype.descendants=function(v,A,b){A===void 0&&(A=0),b===void 0&&(b=Number.MAX_VALUE);var E=[],w=b;return this.children.forEachAt(A,b,function(S,P,T){(v.blotName==null&&v(S)||v.blotName!=null&&S instanceof v)&&E.push(S),S instanceof p&&(E=E.concat(S.descendants(v,P,w))),w-=T}),E},p.prototype.detach=function(){this.children.forEach(function(v){v.detach()}),g.prototype.detach.call(this)},p.prototype.formatAt=function(v,A,b,E){this.children.forEachAt(v,A,function(w,S,P){w.formatAt(S,P,b,E)})},p.prototype.insertAt=function(v,A,b){var E=this.children.find(v),w=E[0],S=E[1];if(w)w.insertAt(S,A,b);else{var P=b==null?h.create("text",A):h.create(A,b);this.appendChild(P)}},p.prototype.insertBefore=function(v,A){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(b){return v instanceof b}))throw new h.ParchmentError("Cannot insert "+v.statics.blotName+" into "+this.statics.blotName);v.insertInto(this,A)},p.prototype.length=function(){return this.children.reduce(function(v,A){return v+A.length()},0)},p.prototype.moveChildren=function(v,A){this.children.forEach(function(b){v.insertBefore(b,A)})},p.prototype.optimize=function(v){if(g.prototype.optimize.call(this,v),this.children.length===0)if(this.statics.defaultChild!=null){var A=h.create(this.statics.defaultChild);this.appendChild(A),A.optimize(v)}else this.remove()},p.prototype.path=function(v,A){A===void 0&&(A=!1);var b=this.children.find(v,A),E=b[0],w=b[1],S=[[this,v]];return E instanceof p?S.concat(E.path(w,A)):(E!=null&&S.push([E,w]),S)},p.prototype.removeChild=function(v){this.children.remove(v)},p.prototype.replace=function(v){v instanceof p&&v.moveChildren(this),g.prototype.replace.call(this,v)},p.prototype.split=function(v,A){if(A===void 0&&(A=!1),!A){if(v===0)return this;if(v===this.length())return this.next}var b=this.clone();return this.parent.insertBefore(b,this.next),this.children.forEachAt(v,this.length(),function(E,w,S){E=E.split(w,A),b.appendChild(E)}),b},p.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},p.prototype.update=function(v,A){var b=this,E=[],w=[];v.forEach(function(S){S.target===b.domNode&&S.type==="childList"&&(E.push.apply(E,S.addedNodes),w.push.apply(w,S.removedNodes))}),w.forEach(function(S){if(!(S.parentNode!=null&&S.tagName!=="IFRAME"&&document.body.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var P=h.find(S);P!=null&&(P.domNode.parentNode==null||P.domNode.parentNode===b.domNode)&&P.detach()}}),E.filter(function(S){return S.parentNode==b.domNode}).sort(function(S,P){return S===P?0:S.compareDocumentPosition(P)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(S){var P=null;S.nextSibling!=null&&(P=h.find(S.nextSibling));var T=y(S);(T.next!=P||T.next==null)&&(T.parent!=null&&T.parent.removeChild(b),b.insertBefore(T,P||void 0))})},p}(c.default);function y(g){var p=h.find(g);if(p==null)try{p=h.create(g)}catch{p=h.create(h.Scope.INLINE),[].slice.call(g.childNodes).forEach(function(A){p.domNode.appendChild(A)}),g.parentNode&&g.parentNode.replaceChild(p.domNode,g),p.attach()}return p}n.default=d},function(t,n,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var A in v)v.hasOwnProperty(A)&&(p[A]=v[A])};return function(p,v){g(p,v);function A(){this.constructor=p}p.prototype=v===null?Object.create(v):(A.prototype=v.prototype,new A)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(12),c=i(31),h=i(17),d=i(1),y=function(g){a(p,g);function p(v){var A=g.call(this,v)||this;return A.attributes=new c.default(A.domNode),A}return p.formats=function(v){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return v.tagName.toLowerCase()},p.prototype.format=function(v,A){var b=d.query(v);b instanceof u.default?this.attributes.attribute(b,A):A&&b!=null&&(v!==this.statics.blotName||this.formats()[v]!==A)&&this.replaceWith(v,A)},p.prototype.formats=function(){var v=this.attributes.values(),A=this.statics.formats(this.domNode);return A!=null&&(v[this.statics.blotName]=A),v},p.prototype.replaceWith=function(v,A){var b=g.prototype.replaceWith.call(this,v,A);return this.attributes.copy(b),b},p.prototype.update=function(v,A){var b=this;g.prototype.update.call(this,v,A),v.some(function(E){return E.target===b.domNode&&E.type==="attributes"})&&this.attributes.build()},p.prototype.wrap=function(v,A){var b=g.prototype.wrap.call(this,v,A);return b instanceof p&&b.statics.scope===this.statics.scope&&this.attributes.move(b),b},p}(h.default);n.default=y},function(t,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){d(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(30),c=i(1),h=function(d){a(y,d);function y(){return d!==null&&d.apply(this,arguments)||this}return y.value=function(g){return!0},y.prototype.index=function(g,p){return this.domNode===g||this.domNode.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(p,1):-1},y.prototype.position=function(g,p){var v=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return g>0&&(v+=1),[this.parent.domNode,v]},y.prototype.value=function(){var g;return g={},g[this.statics.blotName]=this.statics.value(this.domNode)||!0,g},y.scope=c.Scope.INLINE_BLOT,y}(u.default);n.default=h},function(t,n,i){var a=i(11),u=i(3),c={attributes:{compose:function(d,y,g){typeof d!="object"&&(d={}),typeof y!="object"&&(y={});var p=u(!0,{},y);g||(p=Object.keys(p).reduce(function(A,b){return p[b]!=null&&(A[b]=p[b]),A},{}));for(var v in d)d[v]!==void 0&&y[v]===void 0&&(p[v]=d[v]);return Object.keys(p).length>0?p:void 0},diff:function(d,y){typeof d!="object"&&(d={}),typeof y!="object"&&(y={});var g=Object.keys(d).concat(Object.keys(y)).reduce(function(p,v){return a(d[v],y[v])||(p[v]=y[v]===void 0?null:y[v]),p},{});return Object.keys(g).length>0?g:void 0},transform:function(d,y,g){if(typeof d!="object")return y;if(typeof y=="object"){if(!g)return y;var p=Object.keys(y).reduce(function(v,A){return d[A]===void 0&&(v[A]=y[A]),v},{});return Object.keys(p).length>0?p:void 0}}},iterator:function(d){return new h(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function h(d){this.ops=d,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(d){d||(d=1/0);var y=this.ops[this.index];if(y){var g=this.offset,p=c.length(y);if(d>=p-g?(d=p-g,this.index+=1,this.offset=0):this.offset+=d,typeof y.delete=="number")return{delete:d};var v={};return y.attributes&&(v.attributes=y.attributes),typeof y.retain=="number"?v.retain=d:typeof y.insert=="string"?v.insert=y.insert.substr(g,d):v.insert=y.insert,v}else return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,y=this.index,g=this.next(),p=this.ops.slice(this.index);return this.offset=d,this.index=y,[g].concat(p)}else return[]},t.exports=c},function(t,n){var i=function(){function a(b,E){return E!=null&&b instanceof E}var u;try{u=Map}catch{u=function(){}}var c;try{c=Set}catch{c=function(){}}var h;try{h=Promise}catch{h=function(){}}function d(b,E,w,S,P){typeof E=="object"&&(w=E.depth,S=E.prototype,P=E.includeNonEnumerable,E=E.circular);var T=[],j=[],q=typeof Buffer<"u";typeof E>"u"&&(E=!0),typeof w>"u"&&(w=1/0);function R(_,D){if(_===null)return null;if(D===0)return _;var I,k;if(typeof _!="object")return _;if(a(_,u))I=new u;else if(a(_,c))I=new c;else if(a(_,h))I=new h(function(H,B){_.then(function(V){H(R(V,D-1))},function(V){B(R(V,D-1))})});else if(d.__isArray(_))I=[];else if(d.__isRegExp(_))I=new RegExp(_.source,A(_)),_.lastIndex&&(I.lastIndex=_.lastIndex);else if(d.__isDate(_))I=new Date(_.getTime());else{if(q&&Buffer.isBuffer(_))return Buffer.allocUnsafe?I=Buffer.allocUnsafe(_.length):I=new Buffer(_.length),_.copy(I),I;a(_,Error)?I=Object.create(_):typeof S>"u"?(k=Object.getPrototypeOf(_),I=Object.create(k)):(I=Object.create(S),k=S)}if(E){var N=T.indexOf(_);if(N!=-1)return j[N];T.push(_),j.push(I)}a(_,u)&&_.forEach(function(H,B){var V=R(B,D-1),z=R(H,D-1);I.set(V,z)}),a(_,c)&&_.forEach(function(H){var B=R(H,D-1);I.add(B)});for(var O in _){var W;k&&(W=Object.getOwnPropertyDescriptor(k,O)),!(W&&W.set==null)&&(I[O]=R(_[O],D-1))}if(Object.getOwnPropertySymbols)for(var J=Object.getOwnPropertySymbols(_),O=0;O<J.length;O++){var se=J[O],Z=Object.getOwnPropertyDescriptor(_,se);Z&&!Z.enumerable&&!P||(I[se]=R(_[se],D-1),Z.enumerable||Object.defineProperty(I,se,{enumerable:!1}))}if(P)for(var re=Object.getOwnPropertyNames(_),O=0;O<re.length;O++){var G=re[O],Z=Object.getOwnPropertyDescriptor(_,G);Z&&Z.enumerable||(I[G]=R(_[G],D-1),Object.defineProperty(I,G,{enumerable:!1}))}return I}return R(b,w)}d.clonePrototype=function(E){if(E===null)return null;var w=function(){};return w.prototype=E,new w};function y(b){return Object.prototype.toString.call(b)}d.__objToStr=y;function g(b){return typeof b=="object"&&y(b)==="[object Date]"}d.__isDate=g;function p(b){return typeof b=="object"&&y(b)==="[object Array]"}d.__isArray=p;function v(b){return typeof b=="object"&&y(b)==="[object RegExp]"}d.__isRegExp=v;function A(b){var E="";return b.global&&(E+="g"),b.ignoreCase&&(E+="i"),b.multiline&&(E+="m"),E}return d.__getRegExpFlags=A,d}();typeof t=="object"&&t.exports&&(t.exports=i)},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function I(k,N){var O=[],W=!0,J=!1,se=void 0;try{for(var Z=k[Symbol.iterator](),re;!(W=(re=Z.next()).done)&&(O.push(re.value),!(N&&O.length===N));W=!0);}catch(G){J=!0,se=G}finally{try{!W&&Z.return&&Z.return()}finally{if(J)throw se}}return O}return function(k,N){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return I(k,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function I(k,N){for(var O=0;O<N.length;O++){var W=N[O];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(k,W.key,W)}}return function(k,N,O){return N&&I(k.prototype,N),O&&I(k,O),k}}(),c=function I(k,N,O){k===null&&(k=Function.prototype);var W=Object.getOwnPropertyDescriptor(k,N);if(W===void 0){var J=Object.getPrototypeOf(k);return J===null?void 0:I(J,N,O)}else{if("value"in W)return W.value;var se=W.get;return se===void 0?void 0:se.call(O)}},h=i(0),d=T(h),y=i(8),g=T(y),p=i(4),v=T(p),A=i(16),b=T(A),E=i(13),w=T(E),S=i(25),P=T(S);function T(I){return I&&I.__esModule?I:{default:I}}function j(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}function q(I,k){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:I}function R(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(I,k):I.__proto__=k)}function _(I){return I instanceof v.default||I instanceof p.BlockEmbed}var D=function(I){R(k,I);function k(N,O){j(this,k);var W=q(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,N));return W.emitter=O.emitter,Array.isArray(O.whitelist)&&(W.whitelist=O.whitelist.reduce(function(J,se){return J[se]=!0,J},{})),W.domNode.addEventListener("DOMNodeInserted",function(){}),W.optimize(),W.enable(),W}return u(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(O,W){var J=this.line(O),se=a(J,2),Z=se[0],re=se[1],G=this.line(O+W),H=a(G,1),B=H[0];if(c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,O,W),B!=null&&Z!==B&&re>0){if(Z instanceof p.BlockEmbed||B instanceof p.BlockEmbed){this.optimize();return}if(Z instanceof w.default){var V=Z.newlineIndex(Z.length(),!0);if(V>-1&&(Z=Z.split(V+1),Z===B)){this.optimize();return}}else if(B instanceof w.default){var z=B.newlineIndex(0);z>-1&&B.split(z+1)}var ee=B.children.head instanceof b.default?null:B.children.head;Z.moveChildren(B,ee),Z.remove()}this.optimize()}},{key:"enable",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",O)}},{key:"formatAt",value:function(O,W,J,se){this.whitelist!=null&&!this.whitelist[J]||(c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,O,W,J,se),this.optimize())}},{key:"insertAt",value:function(O,W,J){if(!(J!=null&&this.whitelist!=null&&!this.whitelist[W])){if(O>=this.length())if(J==null||d.default.query(W,d.default.Scope.BLOCK)==null){var se=d.default.create(this.statics.defaultChild);this.appendChild(se),J==null&&W.endsWith(`
`)&&(W=W.slice(0,-1)),se.insertAt(0,W,J)}else{var Z=d.default.create(W,J);this.appendChild(Z)}else c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,O,W,J);this.optimize()}}},{key:"insertBefore",value:function(O,W){if(O.statics.scope===d.default.Scope.INLINE_BLOT){var J=d.default.create(this.statics.defaultChild);J.appendChild(O),O=J}c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,O,W)}},{key:"leaf",value:function(O){return this.path(O).pop()||[null,-1]}},{key:"line",value:function(O){return O===this.length()?this.line(O-1):this.descendant(_,O)}},{key:"lines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,J=function se(Z,re,G){var H=[],B=G;return Z.children.forEachAt(re,G,function(V,z,ee){_(V)?H.push(V):V instanceof d.default.Container&&(H=H.concat(se(V,z,B))),B-=ee}),H};return J(this,O,W)}},{key:"optimize",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,O,W),O.length>0&&this.emitter.emit(g.default.events.SCROLL_OPTIMIZE,O,W))}},{key:"path",value:function(O){return c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,O).slice(1)}},{key:"update",value:function(O){if(this.batch!==!0){var W=g.default.sources.USER;typeof O=="string"&&(W=O),Array.isArray(O)||(O=this.observer.takeRecords()),O.length>0&&this.emitter.emit(g.default.events.SCROLL_BEFORE_UPDATE,W,O),c(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,O.concat([])),O.length>0&&this.emitter.emit(g.default.events.SCROLL_UPDATE,W,O)}}}]),k}(d.default.Scroll);D.blotName="scroll",D.className="ql-editor",D.tagName="DIV",D.defaultChild="block",D.allowedChildren=[v.default,p.BlockEmbed,P.default],n.default=D},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},u=function(){function $(Q,te){var ie=[],fe=!0,ge=!1,De=void 0;try{for(var Ie=Q[Symbol.iterator](),ke;!(fe=(ke=Ie.next()).done)&&(ie.push(ke.value),!(te&&ie.length===te));fe=!0);}catch(Re){ge=!0,De=Re}finally{try{!fe&&Ie.return&&Ie.return()}finally{if(ge)throw De}}return ie}return function(Q,te){if(Array.isArray(Q))return Q;if(Symbol.iterator in Object(Q))return $(Q,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function $(Q,te){for(var ie=0;ie<te.length;ie++){var fe=te[ie];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(Q,fe.key,fe)}}return function(Q,te,ie){return te&&$(Q.prototype,te),ie&&$(Q,ie),Q}}(),h=i(21),d=I(h),y=i(11),g=I(y),p=i(3),v=I(p),A=i(2),b=I(A),E=i(20),w=I(E),S=i(0),P=I(S),T=i(5),j=I(T),q=i(10),R=I(q),_=i(9),D=I(_);function I($){return $&&$.__esModule?$:{default:$}}function k($,Q,te){return Q in $?Object.defineProperty($,Q,{value:te,enumerable:!0,configurable:!0,writable:!0}):$[Q]=te,$}function N($,Q){if(!($ instanceof Q))throw new TypeError("Cannot call a class as a function")}function O($,Q){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q&&(typeof Q=="object"||typeof Q=="function")?Q:$}function W($,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Q);$.prototype=Object.create(Q&&Q.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),Q&&(Object.setPrototypeOf?Object.setPrototypeOf($,Q):$.__proto__=Q)}var J=(0,R.default)("quill:keyboard"),se=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Z=function($){W(Q,$),c(Q,null,[{key:"match",value:function(ie,fe){return fe=X(fe),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ge){return!!fe[ge]!==ie[ge]&&fe[ge]!==null})?!1:fe.key===(ie.which||ie.keyCode)}}]);function Q(te,ie){N(this,Q);var fe=O(this,(Q.__proto__||Object.getPrototypeOf(Q)).call(this,te,ie));return fe.bindings={},Object.keys(fe.options.bindings).forEach(function(ge){ge==="list autofill"&&te.scroll.whitelist!=null&&!te.scroll.whitelist.list||fe.options.bindings[ge]&&fe.addBinding(fe.options.bindings[ge])}),fe.addBinding({key:Q.keys.ENTER,shiftKey:null},V),fe.addBinding({key:Q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(fe.addBinding({key:Q.keys.BACKSPACE},{collapsed:!0},G),fe.addBinding({key:Q.keys.DELETE},{collapsed:!0},H)):(fe.addBinding({key:Q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},G),fe.addBinding({key:Q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},H)),fe.addBinding({key:Q.keys.BACKSPACE},{collapsed:!1},B),fe.addBinding({key:Q.keys.DELETE},{collapsed:!1},B),fe.addBinding({key:Q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},G),fe.listen(),fe}return c(Q,[{key:"addBinding",value:function(ie){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=X(ie);if(De==null||De.key==null)return J.warn("Attempted to add invalid keyboard binding",De);typeof fe=="function"&&(fe={handler:fe}),typeof ge=="function"&&(ge={handler:ge}),De=(0,v.default)(De,fe,ge),this.bindings[De.key]=this.bindings[De.key]||[],this.bindings[De.key].push(De)}},{key:"listen",value:function(){var ie=this;this.quill.root.addEventListener("keydown",function(fe){if(!fe.defaultPrevented){var ge=fe.which||fe.keyCode,De=(ie.bindings[ge]||[]).filter(function(ct){return Q.match(fe,ct)});if(De.length!==0){var Ie=ie.quill.getSelection();if(!(Ie==null||!ie.quill.hasFocus())){var ke=ie.quill.getLine(Ie.index),Re=u(ke,2),Be=Re[0],et=Re[1],le=ie.quill.getLeaf(Ie.index),de=u(le,2),Ee=de[0],Se=de[1],ye=Ie.length===0?[Ee,Se]:ie.quill.getLeaf(Ie.index+Ie.length),$e=u(ye,2),je=$e[0],Ve=$e[1],Ge=Ee instanceof P.default.Text?Ee.value().slice(0,Se):"",Xe=je instanceof P.default.Text?je.value().slice(Ve):"",Ze={collapsed:Ie.length===0,empty:Ie.length===0&&Be.length()<=1,format:ie.quill.getFormat(Ie),offset:et,prefix:Ge,suffix:Xe},er=De.some(function(ct){if(ct.collapsed!=null&&ct.collapsed!==Ze.collapsed||ct.empty!=null&&ct.empty!==Ze.empty||ct.offset!=null&&ct.offset!==Ze.offset)return!1;if(Array.isArray(ct.format)){if(ct.format.every(function(bt){return Ze.format[bt]==null}))return!1}else if(a(ct.format)==="object"&&!Object.keys(ct.format).every(function(bt){return ct.format[bt]===!0?Ze.format[bt]!=null:ct.format[bt]===!1?Ze.format[bt]==null:(0,g.default)(ct.format[bt],Ze.format[bt])}))return!1;return ct.prefix!=null&&!ct.prefix.test(Ze.prefix)||ct.suffix!=null&&!ct.suffix.test(Ze.suffix)?!1:ct.handler.call(ie,Ie,Ze)!==!0});er&&fe.preventDefault()}}}})}}]),Q}(D.default);Z.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Z.DEFAULTS={bindings:{bold:ee("bold"),italic:ee("italic"),underline:ee("underline"),indent:{key:Z.keys.TAB,format:["blockquote","indent","list"],handler:function(Q,te){if(te.collapsed&&te.offset!==0)return!0;this.quill.format("indent","+1",j.default.sources.USER)}},outdent:{key:Z.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Q,te){if(te.collapsed&&te.offset!==0)return!0;this.quill.format("indent","-1",j.default.sources.USER)}},"outdent backspace":{key:Z.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Q,te){te.format.indent!=null?this.quill.format("indent","-1",j.default.sources.USER):te.format.list!=null&&this.quill.format("list",!1,j.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:Z.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Q){this.quill.deleteText(Q.index-1,1,j.default.sources.USER)}},tab:{key:Z.keys.TAB,handler:function(Q){this.quill.history.cutoff();var te=new b.default().retain(Q.index).delete(Q.length).insert("	");this.quill.updateContents(te,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index+1,j.default.sources.SILENT)}},"list empty enter":{key:Z.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Q,te){this.quill.format("list",!1,j.default.sources.USER),te.format.indent&&this.quill.format("indent",!1,j.default.sources.USER)}},"checklist enter":{key:Z.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Q){var te=this.quill.getLine(Q.index),ie=u(te,2),fe=ie[0],ge=ie[1],De=(0,v.default)({},fe.formats(),{list:"checked"}),Ie=new b.default().retain(Q.index).insert(`
`,De).retain(fe.length()-ge-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ie,j.default.sources.USER),this.quill.setSelection(Q.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Z.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Q,te){var ie=this.quill.getLine(Q.index),fe=u(ie,2),ge=fe[0],De=fe[1],Ie=new b.default().retain(Q.index).insert(`
`,te.format).retain(ge.length()-De-1).retain(1,{header:null});this.quill.updateContents(Ie,j.default.sources.USER),this.quill.setSelection(Q.index+1,j.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Q,te){var ie=te.prefix.length,fe=this.quill.getLine(Q.index),ge=u(fe,2),De=ge[0],Ie=ge[1];if(Ie>ie)return!0;var ke=void 0;switch(te.prefix.trim()){case"[]":case"[ ]":ke="unchecked";break;case"[x]":ke="checked";break;case"-":case"*":ke="bullet";break;default:ke="ordered"}this.quill.insertText(Q.index," ",j.default.sources.USER),this.quill.history.cutoff();var Re=new b.default().retain(Q.index-Ie).delete(ie+1).retain(De.length()-2-Ie).retain(1,{list:ke});this.quill.updateContents(Re,j.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Q.index-ie,j.default.sources.SILENT)}},"code exit":{key:Z.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Q){var te=this.quill.getLine(Q.index),ie=u(te,2),fe=ie[0],ge=ie[1],De=new b.default().retain(Q.index+fe.length()-ge-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(De,j.default.sources.USER)}},"embed left":re(Z.keys.LEFT,!1),"embed left shift":re(Z.keys.LEFT,!0),"embed right":re(Z.keys.RIGHT,!1),"embed right shift":re(Z.keys.RIGHT,!0)}};function re($,Q){var te,ie=$===Z.keys.LEFT?"prefix":"suffix";return te={key:$,shiftKey:Q,altKey:null},k(te,ie,/^$/),k(te,"handler",function(ge){var De=ge.index;$===Z.keys.RIGHT&&(De+=ge.length+1);var Ie=this.quill.getLeaf(De),ke=u(Ie,1),Re=ke[0];return Re instanceof P.default.Embed?($===Z.keys.LEFT?Q?this.quill.setSelection(ge.index-1,ge.length+1,j.default.sources.USER):this.quill.setSelection(ge.index-1,j.default.sources.USER):Q?this.quill.setSelection(ge.index,ge.length+1,j.default.sources.USER):this.quill.setSelection(ge.index+ge.length+1,j.default.sources.USER),!1):!0}),te}function G($,Q){if(!($.index===0||this.quill.getLength()<=1)){var te=this.quill.getLine($.index),ie=u(te,1),fe=ie[0],ge={};if(Q.offset===0){var De=this.quill.getLine($.index-1),Ie=u(De,1),ke=Ie[0];if(ke!=null&&ke.length()>1){var Re=fe.formats(),Be=this.quill.getFormat($.index-1,1);ge=w.default.attributes.diff(Re,Be)||{}}}var et=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Q.prefix)?2:1;this.quill.deleteText($.index-et,et,j.default.sources.USER),Object.keys(ge).length>0&&this.quill.formatLine($.index-et,et,ge,j.default.sources.USER),this.quill.focus()}}function H($,Q){var te=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Q.suffix)?2:1;if(!($.index>=this.quill.getLength()-te)){var ie={},fe=0,ge=this.quill.getLine($.index),De=u(ge,1),Ie=De[0];if(Q.offset>=Ie.length()-1){var ke=this.quill.getLine($.index+1),Re=u(ke,1),Be=Re[0];if(Be){var et=Ie.formats(),le=this.quill.getFormat($.index,1);ie=w.default.attributes.diff(et,le)||{},fe=Be.length()}}this.quill.deleteText($.index,te,j.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine($.index+fe-1,te,ie,j.default.sources.USER)}}function B($){var Q=this.quill.getLines($),te={};if(Q.length>1){var ie=Q[0].formats(),fe=Q[Q.length-1].formats();te=w.default.attributes.diff(fe,ie)||{}}this.quill.deleteText($,j.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine($.index,1,te,j.default.sources.USER),this.quill.setSelection($.index,j.default.sources.SILENT),this.quill.focus()}function V($,Q){var te=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var ie=Object.keys(Q.format).reduce(function(fe,ge){return P.default.query(ge,P.default.Scope.BLOCK)&&!Array.isArray(Q.format[ge])&&(fe[ge]=Q.format[ge]),fe},{});this.quill.insertText($.index,`
`,ie,j.default.sources.USER),this.quill.setSelection($.index+1,j.default.sources.SILENT),this.quill.focus(),Object.keys(Q.format).forEach(function(fe){ie[fe]==null&&(Array.isArray(Q.format[fe])||fe!=="link"&&te.quill.format(fe,Q.format[fe],j.default.sources.USER))})}function z($){return{key:Z.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(te){var ie=P.default.query("code-block"),fe=te.index,ge=te.length,De=this.quill.scroll.descendant(ie,fe),Ie=u(De,2),ke=Ie[0],Re=Ie[1];if(ke!=null){var Be=this.quill.getIndex(ke),et=ke.newlineIndex(Re,!0)+1,le=ke.newlineIndex(Be+Re+ge),de=ke.domNode.textContent.slice(et,le).split(`
`);Re=0,de.forEach(function(Ee,Se){$?(ke.insertAt(et+Re,ie.TAB),Re+=ie.TAB.length,Se===0?fe+=ie.TAB.length:ge+=ie.TAB.length):Ee.startsWith(ie.TAB)&&(ke.deleteAt(et+Re,ie.TAB.length),Re-=ie.TAB.length,Se===0?fe-=ie.TAB.length:ge-=ie.TAB.length),Re+=Ee.length+1}),this.quill.update(j.default.sources.USER),this.quill.setSelection(fe,ge,j.default.sources.SILENT)}}}}function ee($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(te,ie){this.quill.format($,!ie.format[$],j.default.sources.USER)}}}function X($){if(typeof $=="string"||typeof $=="number")return X({key:$});if((typeof $>"u"?"undefined":a($))==="object"&&($=(0,d.default)($,!1)),typeof $.key=="string")if(Z.keys[$.key.toUpperCase()]!=null)$.key=Z.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[se]=$.shortKey,delete $.shortKey),$}n.default=Z,n.SHORTKEY=se},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function w(S,P){var T=[],j=!0,q=!1,R=void 0;try{for(var _=S[Symbol.iterator](),D;!(j=(D=_.next()).done)&&(T.push(D.value),!(P&&T.length===P));j=!0);}catch(I){q=!0,R=I}finally{try{!j&&_.return&&_.return()}finally{if(q)throw R}}return T}return function(S,P){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return w(S,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function w(S,P,T){S===null&&(S=Function.prototype);var j=Object.getOwnPropertyDescriptor(S,P);if(j===void 0){var q=Object.getPrototypeOf(S);return q===null?void 0:w(q,P,T)}else{if("value"in j)return j.value;var R=j.get;return R===void 0?void 0:R.call(T)}},c=function(){function w(S,P){for(var T=0;T<P.length;T++){var j=P[T];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(S,j.key,j)}}return function(S,P,T){return P&&w(S.prototype,P),T&&w(S,T),S}}(),h=i(0),d=p(h),y=i(7),g=p(y);function p(w){return w&&w.__esModule?w:{default:w}}function v(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function A(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function b(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var E=function(w){b(S,w),c(S,null,[{key:"value",value:function(){}}]);function S(P,T){v(this,S);var j=A(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P));return j.selection=T,j.textNode=document.createTextNode(S.CONTENTS),j.domNode.appendChild(j.textNode),j._length=0,j}return c(S,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(T,j){if(this._length!==0)return u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,T,j);for(var q=this,R=0;q!=null&&q.statics.scope!==d.default.Scope.BLOCK_BLOT;)R+=q.offset(q.parent),q=q.parent;q!=null&&(this._length=S.CONTENTS.length,q.optimize(),q.formatAt(R,S.CONTENTS.length,T,j),this._length=0)}},{key:"index",value:function(T,j){return T===this.textNode?0:u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,T,j)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var T=this.textNode,j=this.selection.getNativeRange(),q=void 0,R=void 0,_=void 0;if(j!=null&&j.start.node===T&&j.end.node===T){var D=[T,j.start.offset,j.end.offset];q=D[0],R=D[1],_=D[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==S.CONTENTS){var I=this.textNode.data.split(S.CONTENTS).join("");this.next instanceof g.default?(q=this.next.domNode,this.next.insertAt(0,I),this.textNode.data=S.CONTENTS):(this.textNode.data=I,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(S.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),R!=null){var k=[R,_].map(function(O){return Math.max(0,Math.min(q.data.length,O-1))}),N=a(k,2);return R=N[0],_=N[1],{startNode:q,startOffset:R,endNode:q,endOffset:_}}}}},{key:"update",value:function(T,j){var q=this;if(T.some(function(_){return _.type==="characterData"&&_.target===q.textNode})){var R=this.restore();R&&(j.range=R)}}},{key:"value",value:function(){return""}}]),S}(d.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\uFEFF",n.default=E},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),u=d(a),c=i(4),h=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function g(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function p(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var v=function(A){p(b,A);function b(){return y(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return b}(u.default.Container);v.allowedChildren=[h.default,c.BlockEmbed,v],n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function E(w,S){for(var P=0;P<S.length;P++){var T=S[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,S,P){return S&&E(w.prototype,S),P&&E(w,P),w}}(),u=function E(w,S,P){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,S);if(T===void 0){var j=Object.getPrototypeOf(w);return j===null?void 0:E(j,S,P)}else{if("value"in T)return T.value;var q=T.get;return q===void 0?void 0:q.call(P)}},c=i(0),h=d(c);function d(E){return E&&E.__esModule?E:{default:E}}function y(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function g(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function p(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var v=function(E){p(w,E);function w(){return y(this,w),g(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"value",value:function(P){var T=u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,P);return T.startsWith("rgb(")?(T=T.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+T.split(",").map(function(j){return("00"+parseInt(j).toString(16)).slice(-2)}).join("")):T}}]),w}(h.default.Attributor.Style),A=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),b=new v("color","color",{scope:h.default.Scope.INLINE});n.ColorAttributor=v,n.ColorClass=A,n.ColorStyle=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function b(E,w){for(var S=0;S<w.length;S++){var P=w[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,P.key,P)}}return function(E,w,S){return w&&b(E.prototype,w),S&&b(E,S),E}}(),u=function b(E,w,S){E===null&&(E=Function.prototype);var P=Object.getOwnPropertyDescriptor(E,w);if(P===void 0){var T=Object.getPrototypeOf(E);return T===null?void 0:b(T,w,S)}else{if("value"in P)return P.value;var j=P.get;return j===void 0?void 0:j.call(S)}},c=i(6),h=d(c);function d(b){return b&&b.__esModule?b:{default:b}}function y(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function g(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:b}function p(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var v=function(b){p(E,b);function E(){return y(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(S,P){if(S!==this.statics.blotName||!P)return u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,S,P);P=this.constructor.sanitize(P),this.domNode.setAttribute("href",P)}}],[{key:"create",value:function(S){var P=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,S);return S=this.sanitize(S),P.setAttribute("href",S),P.setAttribute("rel","noopener noreferrer"),P.setAttribute("target","_blank"),P}},{key:"formats",value:function(S){return S.getAttribute("href")}},{key:"sanitize",value:function(S){return A(S,this.PROTOCOL_WHITELIST)?S:this.SANITIZED_URL}}]),E}(h.default);v.blotName="link",v.tagName="A",v.SANITIZED_URL="about:blank",v.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function A(b,E){var w=document.createElement("a");w.href=b;var S=w.href.slice(0,w.href.indexOf(":"));return E.indexOf(S)>-1}n.default=v,n.sanitize=A},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},u=function(){function E(w,S){for(var P=0;P<S.length;P++){var T=S[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,S,P){return S&&E(w.prototype,S),P&&E(w,P),w}}(),c=i(23),h=g(c),d=i(107),y=g(d);function g(E){return E&&E.__esModule?E:{default:E}}function p(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}var v=0;function A(E,w){E.setAttribute(w,E.getAttribute(w)!=="true")}var b=function(){function E(w){var S=this;p(this,E),this.select=w,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){S.togglePicker()}),this.label.addEventListener("keydown",function(P){switch(P.keyCode){case h.default.keys.ENTER:S.togglePicker();break;case h.default.keys.ESCAPE:S.escape(),P.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return u(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),A(this.label,"aria-expanded"),A(this.options,"aria-hidden")}},{key:"buildItem",value:function(S){var P=this,T=document.createElement("span");return T.tabIndex="0",T.setAttribute("role","button"),T.classList.add("ql-picker-item"),S.hasAttribute("value")&&T.setAttribute("data-value",S.getAttribute("value")),S.textContent&&T.setAttribute("data-label",S.textContent),T.addEventListener("click",function(){P.selectItem(T,!0)}),T.addEventListener("keydown",function(j){switch(j.keyCode){case h.default.keys.ENTER:P.selectItem(T,!0),j.preventDefault();break;case h.default.keys.ESCAPE:P.escape(),j.preventDefault();break}}),T}},{key:"buildLabel",value:function(){var S=document.createElement("span");return S.classList.add("ql-picker-label"),S.innerHTML=y.default,S.tabIndex="0",S.setAttribute("role","button"),S.setAttribute("aria-expanded","false"),this.container.appendChild(S),S}},{key:"buildOptions",value:function(){var S=this,P=document.createElement("span");P.classList.add("ql-picker-options"),P.setAttribute("aria-hidden","true"),P.tabIndex="-1",P.id="ql-picker-options-"+v,v+=1,this.label.setAttribute("aria-controls",P.id),this.options=P,[].slice.call(this.select.options).forEach(function(T){var j=S.buildItem(T);P.appendChild(j),T.selected===!0&&S.selectItem(j)}),this.container.appendChild(P)}},{key:"buildPicker",value:function(){var S=this;[].slice.call(this.select.attributes).forEach(function(P){S.container.setAttribute(P.name,P.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var S=this;this.close(),setTimeout(function(){return S.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(S){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,T=this.container.querySelector(".ql-selected");if(S!==T&&(T!=null&&T.classList.remove("ql-selected"),S!=null&&(S.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(S.parentNode.children,S),S.hasAttribute("data-value")?this.label.setAttribute("data-value",S.getAttribute("data-value")):this.label.removeAttribute("data-value"),S.hasAttribute("data-label")?this.label.setAttribute("data-label",S.getAttribute("data-label")):this.label.removeAttribute("data-label"),P))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var j=document.createEvent("Event");j.initEvent("change",!0,!0),this.select.dispatchEvent(j)}this.close()}}},{key:"update",value:function(){var S=void 0;if(this.select.selectedIndex>-1){var P=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];S=this.select.options[this.select.selectedIndex],this.selectItem(P)}else this.selectItem(null);var T=S!=null&&S!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",T)}}]),E}();n.default=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),u=J(a),c=i(5),h=J(c),d=i(4),y=J(d),g=i(16),p=J(g),v=i(25),A=J(v),b=i(24),E=J(b),w=i(35),S=J(w),P=i(6),T=J(P),j=i(22),q=J(j),R=i(7),_=J(R),D=i(55),I=J(D),k=i(42),N=J(k),O=i(23),W=J(O);function J(se){return se&&se.__esModule?se:{default:se}}h.default.register({"blots/block":y.default,"blots/block/embed":d.BlockEmbed,"blots/break":p.default,"blots/container":A.default,"blots/cursor":E.default,"blots/embed":S.default,"blots/inline":T.default,"blots/scroll":q.default,"blots/text":_.default,"modules/clipboard":I.default,"modules/history":N.default,"modules/keyboard":W.default}),u.default.register(y.default,p.default,E.default,T.default,q.default,_.default),n.default=h.default},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),u=function(){function c(h){this.domNode=h,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(h){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),typeof h=="number"?d=document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?d=document.createElement(h):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return a.create(h)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},c.prototype.deleteAt=function(h,d){var y=this.isolate(h,d);y.remove()},c.prototype.formatAt=function(h,d,y,g){var p=this.isolate(h,d);if(a.query(y,a.Scope.BLOT)!=null&&g)p.wrap(y,g);else if(a.query(y,a.Scope.ATTRIBUTE)!=null){var v=a.create(this.statics.scope);p.wrap(v),v.format(y,g)}},c.prototype.insertAt=function(h,d,y){var g=y==null?a.create("text",d):a.create(d,y),p=this.split(h);this.parent.insertBefore(g,p)},c.prototype.insertInto=function(h,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var y=null;h.children.insertBefore(this,d),d!=null&&(y=d.domNode),(this.domNode.parentNode!=h.domNode||this.domNode.nextSibling!=y)&&h.domNode.insertBefore(this.domNode,y),this.parent=h,this.attach()},c.prototype.isolate=function(h,d){var y=this.split(h);return y.split(d),y},c.prototype.length=function(){return 1},c.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},c.prototype.optimize=function(h){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},c.prototype.replaceWith=function(h,d){var y=typeof h=="string"?a.create(h,d):h;return y.replace(this),y},c.prototype.split=function(h,d){return h===0?this:this.next},c.prototype.update=function(h,d){},c.prototype.wrap=function(h,d){var y=typeof h=="string"?a.create(h,d):h;return this.parent!=null&&this.parent.insertBefore(y,this.next),y.appendChild(this),y},c.blotName="abstract",c}();n.default=u},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),u=i(32),c=i(33),h=i(1),d=function(){function y(g){this.attributes={},this.domNode=g,this.build()}return y.prototype.attribute=function(g,p){p?g.add(this.domNode,p)&&(g.value(this.domNode)!=null?this.attributes[g.attrName]=g:delete this.attributes[g.attrName]):(g.remove(this.domNode),delete this.attributes[g.attrName])},y.prototype.build=function(){var g=this;this.attributes={};var p=a.default.keys(this.domNode),v=u.default.keys(this.domNode),A=c.default.keys(this.domNode);p.concat(v).concat(A).forEach(function(b){var E=h.query(b,h.Scope.ATTRIBUTE);E instanceof a.default&&(g.attributes[E.attrName]=E)})},y.prototype.copy=function(g){var p=this;Object.keys(this.attributes).forEach(function(v){var A=p.attributes[v].value(p.domNode);g.format(v,A)})},y.prototype.move=function(g){var p=this;this.copy(g),Object.keys(this.attributes).forEach(function(v){p.attributes[v].remove(p.domNode)}),this.attributes={}},y.prototype.values=function(){var g=this;return Object.keys(this.attributes).reduce(function(p,v){return p[v]=g.attributes[v].value(g.domNode),p},{})},y}();n.default=d},function(t,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){d(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(12);function c(d,y){var g=d.getAttribute("class")||"";return g.split(/\s+/).filter(function(p){return p.indexOf(y+"-")===0})}var h=function(d){a(y,d);function y(){return d!==null&&d.apply(this,arguments)||this}return y.keys=function(g){return(g.getAttribute("class")||"").split(/\s+/).map(function(p){return p.split("-").slice(0,-1).join("-")})},y.prototype.add=function(g,p){return this.canAdd(g,p)?(this.remove(g),g.classList.add(this.keyName+"-"+p),!0):!1},y.prototype.remove=function(g){var p=c(g,this.keyName);p.forEach(function(v){g.classList.remove(v)}),g.classList.length===0&&g.removeAttribute("class")},y.prototype.value=function(g){var p=c(g,this.keyName)[0]||"",v=p.slice(this.keyName.length+1);return this.canAdd(g,v)?v:""},y}(u.default);n.default=h},function(t,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){d(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(12);function c(d){var y=d.split("-"),g=y.slice(1).map(function(p){return p[0].toUpperCase()+p.slice(1)}).join("");return y[0]+g}var h=function(d){a(y,d);function y(){return d!==null&&d.apply(this,arguments)||this}return y.keys=function(g){return(g.getAttribute("style")||"").split(";").map(function(p){var v=p.split(":");return v[0].trim()})},y.prototype.add=function(g,p){return this.canAdd(g,p)?(g.style[c(this.keyName)]=p,!0):!1},y.prototype.remove=function(g){g.style[c(this.keyName)]="",g.getAttribute("style")||g.removeAttribute("style")},y.prototype.value=function(g){var p=g.style[c(this.keyName)];return this.canAdd(g,p)?p:""},y}(u.default);n.default=h},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(d,y){for(var g=0;g<y.length;g++){var p=y[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,y,g){return y&&h(d.prototype,y),g&&h(d,g),d}}();function u(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var c=function(){function h(d,y){u(this,h),this.quill=d,this.options=y,this.modules={}}return a(h,[{key:"init",value:function(){var y=this;Object.keys(this.options.modules).forEach(function(g){y.modules[g]==null&&y.addModule(g)})}},{key:"addModule",value:function(y){var g=this.quill.constructor.import("modules/"+y);return this.modules[y]=new g(this.quill,this.options.modules[y]||{}),this.modules[y]}}]),h}();c.DEFAULTS={modules:{}},c.themes={default:c},n.default=c},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function w(S,P){for(var T=0;T<P.length;T++){var j=P[T];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(S,j.key,j)}}return function(S,P,T){return P&&w(S.prototype,P),T&&w(S,T),S}}(),u=function w(S,P,T){S===null&&(S=Function.prototype);var j=Object.getOwnPropertyDescriptor(S,P);if(j===void 0){var q=Object.getPrototypeOf(S);return q===null?void 0:w(q,P,T)}else{if("value"in j)return j.value;var R=j.get;return R===void 0?void 0:R.call(T)}},c=i(0),h=g(c),d=i(7),y=g(d);function g(w){return w&&w.__esModule?w:{default:w}}function p(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function v(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function A(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var b="\uFEFF",E=function(w){A(S,w);function S(P){p(this,S);var T=v(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P));return T.contentNode=document.createElement("span"),T.contentNode.setAttribute("contenteditable",!1),[].slice.call(T.domNode.childNodes).forEach(function(j){T.contentNode.appendChild(j)}),T.leftGuard=document.createTextNode(b),T.rightGuard=document.createTextNode(b),T.domNode.appendChild(T.leftGuard),T.domNode.appendChild(T.contentNode),T.domNode.appendChild(T.rightGuard),T}return a(S,[{key:"index",value:function(T,j){return T===this.leftGuard?0:T===this.rightGuard?1:u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,T,j)}},{key:"restore",value:function(T){var j=void 0,q=void 0,R=T.data.split(b).join("");if(T===this.leftGuard)if(this.prev instanceof y.default){var _=this.prev.length();this.prev.insertAt(_,R),j={startNode:this.prev.domNode,startOffset:_+R.length}}else q=document.createTextNode(R),this.parent.insertBefore(h.default.create(q),this),j={startNode:q,startOffset:R.length};else T===this.rightGuard&&(this.next instanceof y.default?(this.next.insertAt(0,R),j={startNode:this.next.domNode,startOffset:R.length}):(q=document.createTextNode(R),this.parent.insertBefore(h.default.create(q),this.next),j={startNode:q,startOffset:R.length}));return T.data=b,j}},{key:"update",value:function(T,j){var q=this;T.forEach(function(R){if(R.type==="characterData"&&(R.target===q.leftGuard||R.target===q.rightGuard)){var _=q.restore(R.target);_&&(j.range=_)}})}}]),S}(h.default.Embed);n.default=E},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}var h={scope:u.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new u.default.Attributor.Attribute("align","align",h),y=new u.default.Attributor.Class("align","ql-align",h),g=new u.default.Attributor.Style("align","text-align",h);n.AlignAttribute=d,n.AlignClass=y,n.AlignStyle=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),u=h(a),c=i(26);function h(g){return g&&g.__esModule?g:{default:g}}var d=new u.default.Attributor.Class("background","ql-bg",{scope:u.default.Scope.INLINE}),y=new c.ColorAttributor("background","background-color",{scope:u.default.Scope.INLINE});n.BackgroundClass=d,n.BackgroundStyle=y},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}var h={scope:u.default.Scope.BLOCK,whitelist:["rtl"]},d=new u.default.Attributor.Attribute("direction","dir",h),y=new u.default.Attributor.Class("direction","ql-direction",h),g=new u.default.Attributor.Style("direction","direction",h);n.DirectionAttribute=d,n.DirectionClass=y,n.DirectionStyle=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function w(S,P){for(var T=0;T<P.length;T++){var j=P[T];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(S,j.key,j)}}return function(S,P,T){return P&&w(S.prototype,P),T&&w(S,T),S}}(),u=function w(S,P,T){S===null&&(S=Function.prototype);var j=Object.getOwnPropertyDescriptor(S,P);if(j===void 0){var q=Object.getPrototypeOf(S);return q===null?void 0:w(q,P,T)}else{if("value"in j)return j.value;var R=j.get;return R===void 0?void 0:R.call(T)}},c=i(0),h=d(c);function d(w){return w&&w.__esModule?w:{default:w}}function y(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function g(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function p(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var v={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},A=new h.default.Attributor.Class("font","ql-font",v),b=function(w){p(S,w);function S(){return y(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"value",value:function(T){return u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"value",this).call(this,T).replace(/["']/g,"")}}]),S}(h.default.Attributor.Style),E=new b("font","font-family",v);n.FontStyle=E,n.FontClass=A},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),u=c(a);function c(y){return y&&y.__esModule?y:{default:y}}var h=new u.default.Attributor.Class("size","ql-size",{scope:u.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new u.default.Attributor.Style("size","font-size",{scope:u.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=h,n.SizeStyle=d},function(t,n,i){t.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function P(T,j){for(var q=0;q<j.length;q++){var R=j[q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}}return function(T,j,q){return j&&P(T.prototype,j),q&&P(T,q),T}}(),u=i(0),c=p(u),h=i(5),d=p(h),y=i(9),g=p(y);function p(P){return P&&P.__esModule?P:{default:P}}function v(P,T){if(!(P instanceof T))throw new TypeError("Cannot call a class as a function")}function A(P,T){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:P}function b(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);P.prototype=Object.create(T&&T.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(P,T):P.__proto__=T)}var E=function(P){b(T,P);function T(j,q){v(this,T);var R=A(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,j,q));return R.lastRecorded=0,R.ignoreChange=!1,R.clear(),R.quill.on(d.default.events.EDITOR_CHANGE,function(_,D,I,k){_!==d.default.events.TEXT_CHANGE||R.ignoreChange||(!R.options.userOnly||k===d.default.sources.USER?R.record(D,I):R.transform(D))}),R.quill.keyboard.addBinding({key:"Z",shortKey:!0},R.undo.bind(R)),R.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},R.redo.bind(R)),/Win/i.test(navigator.platform)&&R.quill.keyboard.addBinding({key:"Y",shortKey:!0},R.redo.bind(R)),R}return a(T,[{key:"change",value:function(q,R){if(this.stack[q].length!==0){var _=this.stack[q].pop();this.stack[R].push(_),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(_[q],d.default.sources.USER),this.ignoreChange=!1;var D=S(_[q]);this.quill.setSelection(D)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(q,R){if(q.ops.length!==0){this.stack.redo=[];var _=this.quill.getContents().diff(R),D=Date.now();if(this.lastRecorded+this.options.delay>D&&this.stack.undo.length>0){var I=this.stack.undo.pop();_=_.compose(I.undo),q=I.redo.compose(q)}else this.lastRecorded=D;this.stack.undo.push({redo:q,undo:_}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(q){this.stack.undo.forEach(function(R){R.undo=q.transform(R.undo,!0),R.redo=q.transform(R.redo,!0)}),this.stack.redo.forEach(function(R){R.undo=q.transform(R.undo,!0),R.redo=q.transform(R.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),T}(g.default);E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function w(P){var T=P.ops[P.ops.length-1];return T==null?!1:T.insert!=null?typeof T.insert=="string"&&T.insert.endsWith(`
`):T.attributes!=null?Object.keys(T.attributes).some(function(j){return c.default.query(j,c.default.Scope.BLOCK)!=null}):!1}function S(P){var T=P.reduce(function(q,R){return q+=R.delete||0,q},0),j=P.length()-T;return w(P)&&(j-=1),j}n.default=E,n.getLastChangeIndex=S},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function V(z,ee){for(var X=0;X<ee.length;X++){var $=ee[X];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(z,$.key,$)}}return function(z,ee,X){return ee&&V(z.prototype,ee),X&&V(z,X),z}}(),u=function V(z,ee,X){z===null&&(z=Function.prototype);var $=Object.getOwnPropertyDescriptor(z,ee);if($===void 0){var Q=Object.getPrototypeOf(z);return Q===null?void 0:V(Q,ee,X)}else{if("value"in $)return $.value;var te=$.get;return te===void 0?void 0:te.call(X)}},c=i(3),h=D(c),d=i(2),y=D(d),g=i(8),p=D(g),v=i(23),A=D(v),b=i(34),E=D(b),w=i(59),S=D(w),P=i(60),T=D(P),j=i(28),q=D(j),R=i(61),_=D(R);function D(V){return V&&V.__esModule?V:{default:V}}function I(V,z){if(!(V instanceof z))throw new TypeError("Cannot call a class as a function")}function k(V,z){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:V}function N(V,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);V.prototype=Object.create(z&&z.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(V,z):V.__proto__=z)}var O=[!1,"center","right","justify"],W=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],J=[!1,"serif","monospace"],se=["1","2","3",!1],Z=["small",!1,"large","huge"],re=function(V){N(z,V);function z(ee,X){I(this,z);var $=k(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,ee,X)),Q=function te(ie){if(!document.body.contains(ee.root))return document.body.removeEventListener("click",te);$.tooltip!=null&&!$.tooltip.root.contains(ie.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(fe){fe.container.contains(ie.target)||fe.close()})};return ee.emitter.listenDOM("click",document.body,Q),$}return a(z,[{key:"addModule",value:function(X){var $=u(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,X);return X==="toolbar"&&this.extendToolbar($),$}},{key:"buildButtons",value:function(X,$){X.forEach(function(Q){var te=Q.getAttribute("class")||"";te.split(/\s+/).forEach(function(ie){if(ie.startsWith("ql-")&&(ie=ie.slice(3),$[ie]!=null))if(ie==="direction")Q.innerHTML=$[ie][""]+$[ie].rtl;else if(typeof $[ie]=="string")Q.innerHTML=$[ie];else{var fe=Q.value||"";fe!=null&&$[ie][fe]&&(Q.innerHTML=$[ie][fe])}})})}},{key:"buildPickers",value:function(X,$){var Q=this;this.pickers=X.map(function(ie){if(ie.classList.contains("ql-align"))return ie.querySelector("option")==null&&B(ie,O),new T.default(ie,$.align);if(ie.classList.contains("ql-background")||ie.classList.contains("ql-color")){var fe=ie.classList.contains("ql-background")?"background":"color";return ie.querySelector("option")==null&&B(ie,W,fe==="background"?"#ffffff":"#000000"),new S.default(ie,$[fe])}else return ie.querySelector("option")==null&&(ie.classList.contains("ql-font")?B(ie,J):ie.classList.contains("ql-header")?B(ie,se):ie.classList.contains("ql-size")&&B(ie,Z)),new q.default(ie)});var te=function(){Q.pickers.forEach(function(fe){fe.update()})};this.quill.on(p.default.events.EDITOR_CHANGE,te)}}]),z}(E.default);re.DEFAULTS=(0,h.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,ee=this.container.querySelector("input.ql-image[type=file]");ee==null&&(ee=document.createElement("input"),ee.setAttribute("type","file"),ee.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ee.classList.add("ql-image"),ee.addEventListener("change",function(){if(ee.files!=null&&ee.files[0]!=null){var X=new FileReader;X.onload=function($){var Q=z.quill.getSelection(!0);z.quill.updateContents(new y.default().retain(Q.index).delete(Q.length).insert({image:$.target.result}),p.default.sources.USER),z.quill.setSelection(Q.index+1,p.default.sources.SILENT),ee.value=""},X.readAsDataURL(ee.files[0])}}),this.container.appendChild(ee)),ee.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var G=function(V){N(z,V);function z(ee,X){I(this,z);var $=k(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,ee,X));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return a(z,[{key:"listen",value:function(){var X=this;this.textbox.addEventListener("keydown",function($){A.default.match($,"enter")?(X.save(),$.preventDefault()):A.default.match($,"escape")&&(X.cancel(),$.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$!=null?this.textbox.value=$:X!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+X)||""),this.root.setAttribute("data-mode",X)}},{key:"restoreFocus",value:function(){var X=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=X}},{key:"save",value:function(){var X=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var $=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",X,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",X,p.default.sources.USER)),this.quill.root.scrollTop=$;break}case"video":X=H(X);case"formula":{if(!X)break;var Q=this.quill.getSelection(!0);if(Q!=null){var te=Q.index+Q.length;this.quill.insertEmbed(te,this.root.getAttribute("data-mode"),X,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(te+1," ",p.default.sources.USER),this.quill.setSelection(te+2,p.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z}(_.default);function H(V){var z=V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||V.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=V.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":V}function B(V,z){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(X){var $=document.createElement("option");X===ee?$.setAttribute("selected","selected"):$.setAttribute("value",X),V.appendChild($)})}n.BaseTooltip=G,n.default=re},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function u(){this.head=this.tail=null,this.length=0}return u.prototype.append=function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},u.prototype.contains=function(c){for(var h,d=this.iterator();h=d();)if(h===c)return!0;return!1},u.prototype.insertBefore=function(c,h){c&&(c.next=h,h!=null?(c.prev=h.prev,h.prev!=null&&(h.prev.next=c),h.prev=c,h===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},u.prototype.offset=function(c){for(var h=0,d=this.head;d!=null;){if(d===c)return h;h+=d.length(),d=d.next}return-1},u.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},u.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var h=c;return c!=null&&(c=c.next),h}},u.prototype.find=function(c,h){h===void 0&&(h=!1);for(var d,y=this.iterator();d=y();){var g=d.length();if(c<g||h&&c===g&&(d.next==null||d.next.length()!==0))return[d,c];c-=g}return[null,0]},u.prototype.forEach=function(c){for(var h,d=this.iterator();h=d();)c(h)},u.prototype.forEachAt=function(c,h,d){if(!(h<=0))for(var y=this.find(c),g=y[0],p=y[1],v,A=c-p,b=this.iterator(g);(v=b())&&A<c+h;){var E=v.length();c>A?d(v,c-A,Math.min(h,A+E-c)):d(v,0,Math.min(E,c+h-A)),A+=E}},u.prototype.map=function(c){return this.reduce(function(h,d){return h.push(c(d)),h},[])},u.prototype.reduce=function(c,h){for(var d,y=this.iterator();d=y();)h=c(h,d);return h},u}();n.default=a},function(t,n,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var A in v)v.hasOwnProperty(A)&&(p[A]=v[A])};return function(p,v){g(p,v);function A(){this.constructor=p}p.prototype=v===null?Object.create(v):(A.prototype=v.prototype,new A)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(17),c=i(1),h={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,y=function(g){a(p,g);function p(v){var A=g.call(this,v)||this;return A.scroll=A,A.observer=new MutationObserver(function(b){A.update(b)}),A.observer.observe(A.domNode,h),A.attach(),A}return p.prototype.detach=function(){g.prototype.detach.call(this),this.observer.disconnect()},p.prototype.deleteAt=function(v,A){this.update(),v===0&&A===this.length()?this.children.forEach(function(b){b.remove()}):g.prototype.deleteAt.call(this,v,A)},p.prototype.formatAt=function(v,A,b,E){this.update(),g.prototype.formatAt.call(this,v,A,b,E)},p.prototype.insertAt=function(v,A,b){this.update(),g.prototype.insertAt.call(this,v,A,b)},p.prototype.optimize=function(v,A){var b=this;v===void 0&&(v=[]),A===void 0&&(A={}),g.prototype.optimize.call(this,A);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)v.push(E.pop());for(var w=function(j,q){q===void 0&&(q=!0),!(j==null||j===b)&&j.domNode.parentNode!=null&&(j.domNode[c.DATA_KEY].mutations==null&&(j.domNode[c.DATA_KEY].mutations=[]),q&&w(j.parent))},S=function(j){j.domNode[c.DATA_KEY]==null||j.domNode[c.DATA_KEY].mutations==null||(j instanceof u.default&&j.children.forEach(S),j.optimize(A))},P=v,T=0;P.length>0;T+=1){if(T>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(P.forEach(function(j){var q=c.find(j.target,!0);q!=null&&(q.domNode===j.target&&(j.type==="childList"?(w(c.find(j.previousSibling,!1)),[].forEach.call(j.addedNodes,function(R){var _=c.find(R,!1);w(_,!1),_ instanceof u.default&&_.children.forEach(function(D){w(D,!1)})})):j.type==="attributes"&&w(q.prev)),w(q))}),this.children.forEach(S),P=[].slice.call(this.observer.takeRecords()),E=P.slice();E.length>0;)v.push(E.pop())}},p.prototype.update=function(v,A){var b=this;A===void 0&&(A={}),v=v||this.observer.takeRecords(),v.map(function(E){var w=c.find(E.target,!0);return w==null?null:w.domNode[c.DATA_KEY].mutations==null?(w.domNode[c.DATA_KEY].mutations=[E],w):(w.domNode[c.DATA_KEY].mutations.push(E),null)}).forEach(function(E){E==null||E===b||E.domNode[c.DATA_KEY]==null||E.update(E.domNode[c.DATA_KEY].mutations||[],A)}),this.domNode[c.DATA_KEY].mutations!=null&&g.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,A),this.optimize(v,A)},p.blotName="scroll",p.defaultChild="block",p.scope=c.Scope.BLOCK_BLOT,p.tagName="DIV",p}(u.default);n.default=y},function(t,n,i){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var v in p)p.hasOwnProperty(v)&&(g[v]=p[v])};return function(g,p){y(g,p);function v(){this.constructor=g}g.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(18),c=i(1);function h(y,g){if(Object.keys(y).length!==Object.keys(g).length)return!1;for(var p in y)if(y[p]!==g[p])return!1;return!0}var d=function(y){a(g,y);function g(){return y!==null&&y.apply(this,arguments)||this}return g.formats=function(p){if(p.tagName!==g.tagName)return y.formats.call(this,p)},g.prototype.format=function(p,v){var A=this;p===this.statics.blotName&&!v?(this.children.forEach(function(b){b instanceof u.default||(b=b.wrap(g.blotName,!0)),A.attributes.copy(b)}),this.unwrap()):y.prototype.format.call(this,p,v)},g.prototype.formatAt=function(p,v,A,b){if(this.formats()[A]!=null||c.query(A,c.Scope.ATTRIBUTE)){var E=this.isolate(p,v);E.format(A,b)}else y.prototype.formatAt.call(this,p,v,A,b)},g.prototype.optimize=function(p){y.prototype.optimize.call(this,p);var v=this.formats();if(Object.keys(v).length===0)return this.unwrap();var A=this.next;A instanceof g&&A.prev===this&&h(v,A.formats())&&(A.moveChildren(this),A.remove())},g.blotName="inline",g.scope=c.Scope.INLINE_BLOT,g.tagName="SPAN",g}(u.default);n.default=d},function(t,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){d(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(18),c=i(1),h=function(d){a(y,d);function y(){return d!==null&&d.apply(this,arguments)||this}return y.formats=function(g){var p=c.query(y.blotName).tagName;if(g.tagName!==p)return d.formats.call(this,g)},y.prototype.format=function(g,p){c.query(g,c.Scope.BLOCK)!=null&&(g===this.statics.blotName&&!p?this.replaceWith(y.blotName):d.prototype.format.call(this,g,p))},y.prototype.formatAt=function(g,p,v,A){c.query(v,c.Scope.BLOCK)!=null?this.format(v,A):d.prototype.formatAt.call(this,g,p,v,A)},y.prototype.insertAt=function(g,p,v){if(v==null||c.query(p,c.Scope.INLINE)!=null)d.prototype.insertAt.call(this,g,p,v);else{var A=this.split(g),b=c.create(p,v);A.parent.insertBefore(b,A)}},y.prototype.update=function(g,p){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,g,p)},y.blotName="block",y.scope=c.Scope.BLOCK_BLOT,y.tagName="P",y}(u.default);n.default=h},function(t,n,i){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var g in y)y.hasOwnProperty(g)&&(d[g]=y[g])};return function(d,y){h(d,y);function g(){this.constructor=d}d.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(19),c=function(h){a(d,h);function d(){return h!==null&&h.apply(this,arguments)||this}return d.formats=function(y){},d.prototype.format=function(y,g){h.prototype.formatAt.call(this,0,this.length(),y,g)},d.prototype.formatAt=function(y,g,p,v){y===0&&g===this.length()?this.format(p,v):h.prototype.formatAt.call(this,y,g,p,v)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d}(u.default);n.default=c},function(t,n,i){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){d(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var u=i(19),c=i(1),h=function(d){a(y,d);function y(g){var p=d.call(this,g)||this;return p.text=p.statics.value(p.domNode),p}return y.create=function(g){return document.createTextNode(g)},y.value=function(g){var p=g.data;return p.normalize&&(p=p.normalize()),p},y.prototype.deleteAt=function(g,p){this.domNode.data=this.text=this.text.slice(0,g)+this.text.slice(g+p)},y.prototype.index=function(g,p){return this.domNode===g?p:-1},y.prototype.insertAt=function(g,p,v){v==null?(this.text=this.text.slice(0,g)+p+this.text.slice(g),this.domNode.data=this.text):d.prototype.insertAt.call(this,g,p,v)},y.prototype.length=function(){return this.text.length},y.prototype.optimize=function(g){d.prototype.optimize.call(this,g),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof y&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},y.prototype.position=function(g,p){return[this.domNode,g]},y.prototype.split=function(g,p){if(p===void 0&&(p=!1),!p){if(g===0)return this;if(g===this.length())return this.next}var v=c.create(this.domNode.splitText(g));return this.parent.insertBefore(v,this.next),this.text=this.statics.value(this.domNode),v},y.prototype.update=function(g,p){var v=this;g.some(function(A){return A.type==="characterData"&&A.target===v.domNode})&&(this.text=this.statics.value(this.domNode))},y.prototype.value=function(){return this.text},y.blotName="text",y.scope=c.Scope.INLINE_BLOT,y}(u.default);n.default=h},function(t,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,h){return arguments.length>1&&!this.contains(c)==!h?h:u.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,h){return h=h||0,this.substr(h,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,h){var d=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>d.length)&&(h=d.length),h-=c.length;var y=d.indexOf(c,h);return y!==-1&&y===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(h){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof h!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),y=d.length>>>0,g=arguments[1],p,v=0;v<y;v++)if(p=d[v],h.call(g,p,v,d))return p}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,n){var i=-1,a=1,u=0;function c(T,j,q){if(T==j)return T?[[u,T]]:[];(q<0||T.length<q)&&(q=null);var R=g(T,j),_=T.substring(0,R);T=T.substring(R),j=j.substring(R),R=p(T,j);var D=T.substring(T.length-R);T=T.substring(0,T.length-R),j=j.substring(0,j.length-R);var I=h(T,j);return _&&I.unshift([u,_]),D&&I.push([u,D]),A(I),q!=null&&(I=w(I,q)),I=S(I),I}function h(T,j){var q;if(!T)return[[a,j]];if(!j)return[[i,T]];var R=T.length>j.length?T:j,_=T.length>j.length?j:T,D=R.indexOf(_);if(D!=-1)return q=[[a,R.substring(0,D)],[u,_],[a,R.substring(D+_.length)]],T.length>j.length&&(q[0][0]=q[2][0]=i),q;if(_.length==1)return[[i,T],[a,j]];var I=v(T,j);if(I){var k=I[0],N=I[1],O=I[2],W=I[3],J=I[4],se=c(k,O),Z=c(N,W);return se.concat([[u,J]],Z)}return d(T,j)}function d(T,j){for(var q=T.length,R=j.length,_=Math.ceil((q+R)/2),D=_,I=2*_,k=new Array(I),N=new Array(I),O=0;O<I;O++)k[O]=-1,N[O]=-1;k[D+1]=0,N[D+1]=0;for(var W=q-R,J=W%2!=0,se=0,Z=0,re=0,G=0,H=0;H<_;H++){for(var B=-H+se;B<=H-Z;B+=2){var V=D+B,z;B==-H||B!=H&&k[V-1]<k[V+1]?z=k[V+1]:z=k[V-1]+1;for(var ee=z-B;z<q&&ee<R&&T.charAt(z)==j.charAt(ee);)z++,ee++;if(k[V]=z,z>q)Z+=2;else if(ee>R)se+=2;else if(J){var X=D+W-B;if(X>=0&&X<I&&N[X]!=-1){var $=q-N[X];if(z>=$)return y(T,j,z,ee)}}}for(var Q=-H+re;Q<=H-G;Q+=2){var X=D+Q,$;Q==-H||Q!=H&&N[X-1]<N[X+1]?$=N[X+1]:$=N[X-1]+1;for(var te=$-Q;$<q&&te<R&&T.charAt(q-$-1)==j.charAt(R-te-1);)$++,te++;if(N[X]=$,$>q)G+=2;else if(te>R)re+=2;else if(!J){var V=D+W-Q;if(V>=0&&V<I&&k[V]!=-1){var z=k[V],ee=D+z-V;if($=q-$,z>=$)return y(T,j,z,ee)}}}}return[[i,T],[a,j]]}function y(T,j,q,R){var _=T.substring(0,q),D=j.substring(0,R),I=T.substring(q),k=j.substring(R),N=c(_,D),O=c(I,k);return N.concat(O)}function g(T,j){if(!T||!j||T.charAt(0)!=j.charAt(0))return 0;for(var q=0,R=Math.min(T.length,j.length),_=R,D=0;q<_;)T.substring(D,_)==j.substring(D,_)?(q=_,D=q):R=_,_=Math.floor((R-q)/2+q);return _}function p(T,j){if(!T||!j||T.charAt(T.length-1)!=j.charAt(j.length-1))return 0;for(var q=0,R=Math.min(T.length,j.length),_=R,D=0;q<_;)T.substring(T.length-_,T.length-D)==j.substring(j.length-_,j.length-D)?(q=_,D=q):R=_,_=Math.floor((R-q)/2+q);return _}function v(T,j){var q=T.length>j.length?T:j,R=T.length>j.length?j:T;if(q.length<4||R.length*2<q.length)return null;function _(Z,re,G){for(var H=Z.substring(G,G+Math.floor(Z.length/4)),B=-1,V="",z,ee,X,$;(B=re.indexOf(H,B+1))!=-1;){var Q=g(Z.substring(G),re.substring(B)),te=p(Z.substring(0,G),re.substring(0,B));V.length<te+Q&&(V=re.substring(B-te,B)+re.substring(B,B+Q),z=Z.substring(0,G-te),ee=Z.substring(G+Q),X=re.substring(0,B-te),$=re.substring(B+Q))}return V.length*2>=Z.length?[z,ee,X,$,V]:null}var D=_(q,R,Math.ceil(q.length/4)),I=_(q,R,Math.ceil(q.length/2)),k;if(!D&&!I)return null;I?D?k=D[4].length>I[4].length?D:I:k=I:k=D;var N,O,W,J;T.length>j.length?(N=k[0],O=k[1],W=k[2],J=k[3]):(W=k[0],J=k[1],N=k[2],O=k[3]);var se=k[4];return[N,O,W,J,se]}function A(T){T.push([u,""]);for(var j=0,q=0,R=0,_="",D="",I;j<T.length;)switch(T[j][0]){case a:R++,D+=T[j][1],j++;break;case i:q++,_+=T[j][1],j++;break;case u:q+R>1?(q!==0&&R!==0&&(I=g(D,_),I!==0&&(j-q-R>0&&T[j-q-R-1][0]==u?T[j-q-R-1][1]+=D.substring(0,I):(T.splice(0,0,[u,D.substring(0,I)]),j++),D=D.substring(I),_=_.substring(I)),I=p(D,_),I!==0&&(T[j][1]=D.substring(D.length-I)+T[j][1],D=D.substring(0,D.length-I),_=_.substring(0,_.length-I))),q===0?T.splice(j-R,q+R,[a,D]):R===0?T.splice(j-q,q+R,[i,_]):T.splice(j-q-R,q+R,[i,_],[a,D]),j=j-q-R+(q?1:0)+(R?1:0)+1):j!==0&&T[j-1][0]==u?(T[j-1][1]+=T[j][1],T.splice(j,1)):j++,R=0,q=0,_="",D="";break}T[T.length-1][1]===""&&T.pop();var k=!1;for(j=1;j<T.length-1;)T[j-1][0]==u&&T[j+1][0]==u&&(T[j][1].substring(T[j][1].length-T[j-1][1].length)==T[j-1][1]?(T[j][1]=T[j-1][1]+T[j][1].substring(0,T[j][1].length-T[j-1][1].length),T[j+1][1]=T[j-1][1]+T[j+1][1],T.splice(j-1,1),k=!0):T[j][1].substring(0,T[j+1][1].length)==T[j+1][1]&&(T[j-1][1]+=T[j+1][1],T[j][1]=T[j][1].substring(T[j+1][1].length)+T[j+1][1],T.splice(j+1,1),k=!0)),j++;k&&A(T)}var b=c;b.INSERT=a,b.DELETE=i,b.EQUAL=u,t.exports=b;function E(T,j){if(j===0)return[u,T];for(var q=0,R=0;R<T.length;R++){var _=T[R];if(_[0]===i||_[0]===u){var D=q+_[1].length;if(j===D)return[R+1,T];if(j<D){T=T.slice();var I=j-q,k=[_[0],_[1].slice(0,I)],N=[_[0],_[1].slice(I)];return T.splice(R,1,k,N),[R+1,T]}else q=D}}throw new Error("cursor_pos is out of bounds!")}function w(T,j){var q=E(T,j),R=q[1],_=q[0],D=R[_],I=R[_+1];if(D==null)return T;if(D[0]!==u)return T;if(I!=null&&D[1]+I[1]===I[1]+D[1])return R.splice(_,2,I,D),P(R,_,2);if(I!=null&&I[1].indexOf(D[1])===0){R.splice(_,2,[I[0],D[1]],[0,D[1]]);var k=I[1].slice(D[1].length);return k.length>0&&R.splice(_+2,0,[I[0],k]),P(R,_,3)}else return T}function S(T){for(var j=!1,q=function(I){return I.charCodeAt(0)>=56320&&I.charCodeAt(0)<=57343},R=function(I){return I.charCodeAt(I.length-1)>=55296&&I.charCodeAt(I.length-1)<=56319},_=2;_<T.length;_+=1)T[_-2][0]===u&&R(T[_-2][1])&&T[_-1][0]===i&&q(T[_-1][1])&&T[_][0]===a&&q(T[_][1])&&(j=!0,T[_-1][1]=T[_-2][1].slice(-1)+T[_-1][1],T[_][1]=T[_-2][1].slice(-1)+T[_][1],T[_-2][1]=T[_-2][1].slice(0,-1));if(!j)return T;for(var D=[],_=0;_<T.length;_+=1)T[_][1].length>0&&D.push(T[_]);return D}function P(T,j,q){for(var R=j+q-1;R>=0&&R>=j-1;R--)if(R+1<T.length){var _=T[R],D=T[R+1];_[0]===D[1]&&T.splice(R,2,[_[0],_[1]+D[1]])}return T}},function(t,n){n=t.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var u=[];for(var c in a)u.push(c);return u}},function(t,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=t.exports=i?a:u,n.supported=a;function a(c){return Object.prototype.toString.call(c)=="[object Arguments]"}n.unsupported=u;function u(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}},function(t,n){var i=Object.prototype.hasOwnProperty,a="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(a=!1));function c(d,y,g){this.fn=d,this.context=y,this.once=g||!1}function h(){this._events=new u,this._eventsCount=0}h.prototype.eventNames=function(){var y=[],g,p;if(this._eventsCount===0)return y;for(p in g=this._events)i.call(g,p)&&y.push(a?p.slice(1):p);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(g)):y},h.prototype.listeners=function(y,g){var p=a?a+y:y,v=this._events[p];if(g)return!!v;if(!v)return[];if(v.fn)return[v.fn];for(var A=0,b=v.length,E=new Array(b);A<b;A++)E[A]=v[A].fn;return E},h.prototype.emit=function(y,g,p,v,A,b){var E=a?a+y:y;if(!this._events[E])return!1;var w=this._events[E],S=arguments.length,P,T;if(w.fn){switch(w.once&&this.removeListener(y,w.fn,void 0,!0),S){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,g),!0;case 3:return w.fn.call(w.context,g,p),!0;case 4:return w.fn.call(w.context,g,p,v),!0;case 5:return w.fn.call(w.context,g,p,v,A),!0;case 6:return w.fn.call(w.context,g,p,v,A,b),!0}for(T=1,P=new Array(S-1);T<S;T++)P[T-1]=arguments[T];w.fn.apply(w.context,P)}else{var j=w.length,q;for(T=0;T<j;T++)switch(w[T].once&&this.removeListener(y,w[T].fn,void 0,!0),S){case 1:w[T].fn.call(w[T].context);break;case 2:w[T].fn.call(w[T].context,g);break;case 3:w[T].fn.call(w[T].context,g,p);break;case 4:w[T].fn.call(w[T].context,g,p,v);break;default:if(!P)for(q=1,P=new Array(S-1);q<S;q++)P[q-1]=arguments[q];w[T].fn.apply(w[T].context,P)}}return!0},h.prototype.on=function(y,g,p){var v=new c(g,p||this),A=a?a+y:y;return this._events[A]?this._events[A].fn?this._events[A]=[this._events[A],v]:this._events[A].push(v):(this._events[A]=v,this._eventsCount++),this},h.prototype.once=function(y,g,p){var v=new c(g,p||this,!0),A=a?a+y:y;return this._events[A]?this._events[A].fn?this._events[A]=[this._events[A],v]:this._events[A].push(v):(this._events[A]=v,this._eventsCount++),this},h.prototype.removeListener=function(y,g,p,v){var A=a?a+y:y;if(!this._events[A])return this;if(!g)return--this._eventsCount===0?this._events=new u:delete this._events[A],this;var b=this._events[A];if(b.fn)b.fn===g&&(!v||b.once)&&(!p||b.context===p)&&(--this._eventsCount===0?this._events=new u:delete this._events[A]);else{for(var E=0,w=[],S=b.length;E<S;E++)(b[E].fn!==g||v&&!b[E].once||p&&b[E].context!==p)&&w.push(b[E]);w.length?this._events[A]=w.length===1?w[0]:w:--this._eventsCount===0?this._events=new u:delete this._events[A]}return this},h.prototype.removeAllListeners=function(y){var g;return y?(g=a?a+y:y,this._events[g]&&(--this._eventsCount===0?this._events=new u:delete this._events[g])):(this._events=new u,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=a,h.EventEmitter=h,typeof t<"u"&&(t.exports=h)},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},u=function(){function le(de,Ee){var Se=[],ye=!0,$e=!1,je=void 0;try{for(var Ve=de[Symbol.iterator](),Ge;!(ye=(Ge=Ve.next()).done)&&(Se.push(Ge.value),!(Ee&&Se.length===Ee));ye=!0);}catch(Xe){$e=!0,je=Xe}finally{try{!ye&&Ve.return&&Ve.return()}finally{if($e)throw je}}return Se}return function(de,Ee){if(Array.isArray(de))return de;if(Symbol.iterator in Object(de))return le(de,Ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function le(de,Ee){for(var Se=0;Se<Ee.length;Se++){var ye=Ee[Se];ye.enumerable=ye.enumerable||!1,ye.configurable=!0,"value"in ye&&(ye.writable=!0),Object.defineProperty(de,ye.key,ye)}}return function(de,Ee,Se){return Ee&&le(de.prototype,Ee),Se&&le(de,Se),de}}(),h=i(3),d=N(h),y=i(2),g=N(y),p=i(0),v=N(p),A=i(5),b=N(A),E=i(10),w=N(E),S=i(9),P=N(S),T=i(36),j=i(37),q=i(13),R=N(q),_=i(26),D=i(38),I=i(39),k=i(40);function N(le){return le&&le.__esModule?le:{default:le}}function O(le,de,Ee){return de in le?Object.defineProperty(le,de,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):le[de]=Ee,le}function W(le,de){if(!(le instanceof de))throw new TypeError("Cannot call a class as a function")}function J(le,de){if(!le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de&&(typeof de=="object"||typeof de=="function")?de:le}function se(le,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);le.prototype=Object.create(de&&de.prototype,{constructor:{value:le,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(le,de):le.__proto__=de)}var Z=(0,w.default)("quill:clipboard"),re="__ql-matcher",G=[[Node.TEXT_NODE,et],[Node.TEXT_NODE,ke],["br",ge],[Node.ELEMENT_NODE,ke],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,Re],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,Be],["li",Ie],["b",te.bind(te,"bold")],["i",te.bind(te,"italic")],["style",De]],H=[T.AlignAttribute,D.DirectionAttribute].reduce(function(le,de){return le[de.keyName]=de,le},{}),B=[T.AlignStyle,j.BackgroundStyle,_.ColorStyle,D.DirectionStyle,I.FontStyle,k.SizeStyle].reduce(function(le,de){return le[de.keyName]=de,le},{}),V=function(le){se(de,le);function de(Ee,Se){W(this,de);var ye=J(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,Ee,Se));return ye.quill.root.addEventListener("paste",ye.onPaste.bind(ye)),ye.container=ye.quill.addContainer("ql-clipboard"),ye.container.setAttribute("contenteditable",!0),ye.container.setAttribute("tabindex",-1),ye.matchers=[],G.concat(ye.options.matchers).forEach(function($e){var je=u($e,2),Ve=je[0],Ge=je[1];!Se.matchVisual&&Ge===Re||ye.addMatcher(Ve,Ge)}),ye}return c(de,[{key:"addMatcher",value:function(Se,ye){this.matchers.push([Se,ye])}},{key:"convert",value:function(Se){if(typeof Se=="string")return this.container.innerHTML=Se.replace(/\>\r?\n +\</g,"><"),this.convert();var ye=this.quill.getFormat(this.quill.selection.savedRange.index);if(ye[R.default.blotName]){var $e=this.container.innerText;return this.container.innerHTML="",new g.default().insert($e,O({},R.default.blotName,ye[R.default.blotName]))}var je=this.prepareMatching(),Ve=u(je,2),Ge=Ve[0],Xe=Ve[1],Ze=Q(this.container,Ge,Xe);return X(Ze,`
`)&&Ze.ops[Ze.ops.length-1].attributes==null&&(Ze=Ze.compose(new g.default().retain(Ze.length()-1).delete(1))),Z.log("convert",this.container.innerHTML,Ze),this.container.innerHTML="",Ze}},{key:"dangerouslyPasteHTML",value:function(Se,ye){var $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b.default.sources.API;if(typeof Se=="string")this.quill.setContents(this.convert(Se),ye),this.quill.setSelection(0,b.default.sources.SILENT);else{var je=this.convert(ye);this.quill.updateContents(new g.default().retain(Se).concat(je),$e),this.quill.setSelection(Se+je.length(),b.default.sources.SILENT)}}},{key:"onPaste",value:function(Se){var ye=this;if(!(Se.defaultPrevented||!this.quill.isEnabled())){var $e=this.quill.getSelection(),je=new g.default().retain($e.index),Ve=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(b.default.sources.SILENT),setTimeout(function(){je=je.concat(ye.convert()).delete($e.length),ye.quill.updateContents(je,b.default.sources.USER),ye.quill.setSelection(je.length()-$e.length,b.default.sources.SILENT),ye.quill.scrollingContainer.scrollTop=Ve,ye.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Se=this,ye=[],$e=[];return this.matchers.forEach(function(je){var Ve=u(je,2),Ge=Ve[0],Xe=Ve[1];switch(Ge){case Node.TEXT_NODE:$e.push(Xe);break;case Node.ELEMENT_NODE:ye.push(Xe);break;default:[].forEach.call(Se.container.querySelectorAll(Ge),function(Ze){Ze[re]=Ze[re]||[],Ze[re].push(Xe)});break}}),[ye,$e]}}]),de}(P.default);V.DEFAULTS={matchers:[],matchVisual:!0};function z(le,de,Ee){return(typeof de>"u"?"undefined":a(de))==="object"?Object.keys(de).reduce(function(Se,ye){return z(Se,ye,de[ye])},le):le.reduce(function(Se,ye){return ye.attributes&&ye.attributes[de]?Se.push(ye):Se.insert(ye.insert,(0,d.default)({},O({},de,Ee),ye.attributes))},new g.default)}function ee(le){if(le.nodeType!==Node.ELEMENT_NODE)return{};var de="__ql-computed-style";return le[de]||(le[de]=window.getComputedStyle(le))}function X(le,de){for(var Ee="",Se=le.ops.length-1;Se>=0&&Ee.length<de.length;--Se){var ye=le.ops[Se];if(typeof ye.insert!="string")break;Ee=ye.insert+Ee}return Ee.slice(-1*de.length)===de}function $(le){if(le.childNodes.length===0)return!1;var de=ee(le);return["block","list-item"].indexOf(de.display)>-1}function Q(le,de,Ee){return le.nodeType===le.TEXT_NODE?Ee.reduce(function(Se,ye){return ye(le,Se)},new g.default):le.nodeType===le.ELEMENT_NODE?[].reduce.call(le.childNodes||[],function(Se,ye){var $e=Q(ye,de,Ee);return ye.nodeType===le.ELEMENT_NODE&&($e=de.reduce(function(je,Ve){return Ve(ye,je)},$e),$e=(ye[re]||[]).reduce(function(je,Ve){return Ve(ye,je)},$e)),Se.concat($e)},new g.default):new g.default}function te(le,de,Ee){return z(Ee,le,!0)}function ie(le,de){var Ee=v.default.Attributor.Attribute.keys(le),Se=v.default.Attributor.Class.keys(le),ye=v.default.Attributor.Style.keys(le),$e={};return Ee.concat(Se).concat(ye).forEach(function(je){var Ve=v.default.query(je,v.default.Scope.ATTRIBUTE);Ve!=null&&($e[Ve.attrName]=Ve.value(le),$e[Ve.attrName])||(Ve=H[je],Ve!=null&&(Ve.attrName===je||Ve.keyName===je)&&($e[Ve.attrName]=Ve.value(le)||void 0),Ve=B[je],Ve!=null&&(Ve.attrName===je||Ve.keyName===je)&&(Ve=B[je],$e[Ve.attrName]=Ve.value(le)||void 0))}),Object.keys($e).length>0&&(de=z(de,$e)),de}function fe(le,de){var Ee=v.default.query(le);if(Ee==null)return de;if(Ee.prototype instanceof v.default.Embed){var Se={},ye=Ee.value(le);ye!=null&&(Se[Ee.blotName]=ye,de=new g.default().insert(Se,Ee.formats(le)))}else typeof Ee.formats=="function"&&(de=z(de,Ee.blotName,Ee.formats(le)));return de}function ge(le,de){return X(de,`
`)||de.insert(`
`),de}function De(){return new g.default}function Ie(le,de){var Ee=v.default.query(le);if(Ee==null||Ee.blotName!=="list-item"||!X(de,`
`))return de;for(var Se=-1,ye=le.parentNode;!ye.classList.contains("ql-clipboard");)(v.default.query(ye)||{}).blotName==="list"&&(Se+=1),ye=ye.parentNode;return Se<=0?de:de.compose(new g.default().retain(de.length()-1).retain(1,{indent:Se}))}function ke(le,de){return X(de,`
`)||($(le)||de.length()>0&&le.nextSibling&&$(le.nextSibling))&&de.insert(`
`),de}function Re(le,de){if($(le)&&le.nextElementSibling!=null&&!X(de,`

`)){var Ee=le.offsetHeight+parseFloat(ee(le).marginTop)+parseFloat(ee(le).marginBottom);le.nextElementSibling.offsetTop>le.offsetTop+Ee*1.5&&de.insert(`
`)}return de}function Be(le,de){var Ee={},Se=le.style||{};return Se.fontStyle&&ee(le).fontStyle==="italic"&&(Ee.italic=!0),Se.fontWeight&&(ee(le).fontWeight.startsWith("bold")||parseInt(ee(le).fontWeight)>=700)&&(Ee.bold=!0),Object.keys(Ee).length>0&&(de=z(de,Ee)),parseFloat(Se.textIndent||0)>0&&(de=new g.default().insert("	").concat(de)),de}function et(le,de){var Ee=le.data;if(le.parentNode.tagName==="O:P")return de.insert(Ee.trim());if(Ee.trim().length===0&&le.parentNode.classList.contains("ql-clipboard"))return de;if(!ee(le.parentNode).whiteSpace.startsWith("pre")){var Se=function($e,je){return je=je.replace(/[^\u00a0]/g,""),je.length<1&&$e?" ":je};Ee=Ee.replace(/\r\n/g," ").replace(/\n/g," "),Ee=Ee.replace(/\s\s+/g,Se.bind(Se,!0)),(le.previousSibling==null&&$(le.parentNode)||le.previousSibling!=null&&$(le.previousSibling))&&(Ee=Ee.replace(/^\s+/,Se.bind(Se,!1))),(le.nextSibling==null&&$(le.parentNode)||le.nextSibling!=null&&$(le.nextSibling))&&(Ee=Ee.replace(/\s+$/,Se.bind(Se,!1)))}return de.insert(Ee)}n.default=V,n.matchAttributor=ie,n.matchBlot=fe,n.matchNewline=ke,n.matchSpacing=Re,n.matchText=et},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(b,E){for(var w=0;w<E.length;w++){var S=E[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,E,w){return E&&A(b.prototype,E),w&&A(b,w),b}}(),u=function A(b,E,w){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,E);if(S===void 0){var P=Object.getPrototypeOf(b);return P===null?void 0:A(P,E,w)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(w)}},c=i(6),h=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function g(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function p(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var v=function(A){p(b,A);function b(){return y(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"optimize",value:function(w){u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,w),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return u(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),b}(h.default);v.blotName="bold",v.tagName=["STRONG","B"],n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function k(N,O){var W=[],J=!0,se=!1,Z=void 0;try{for(var re=N[Symbol.iterator](),G;!(J=(G=re.next()).done)&&(W.push(G.value),!(O&&W.length===O));J=!0);}catch(H){se=!0,Z=H}finally{try{!J&&re.return&&re.return()}finally{if(se)throw Z}}return W}return function(N,O){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return k(N,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function k(N,O){for(var W=0;W<O.length;W++){var J=O[W];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(N,J.key,J)}}return function(N,O,W){return O&&k(N.prototype,O),W&&k(N,W),N}}(),c=i(2),h=w(c),d=i(0),y=w(d),g=i(5),p=w(g),v=i(10),A=w(v),b=i(9),E=w(b);function w(k){return k&&k.__esModule?k:{default:k}}function S(k,N,O){return N in k?Object.defineProperty(k,N,{value:O,enumerable:!0,configurable:!0,writable:!0}):k[N]=O,k}function P(k,N){if(!(k instanceof N))throw new TypeError("Cannot call a class as a function")}function T(k,N){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:k}function j(k,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);k.prototype=Object.create(N&&N.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(k,N):k.__proto__=N)}var q=(0,A.default)("quill:toolbar"),R=function(k){j(N,k);function N(O,W){P(this,N);var J=T(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,O,W));if(Array.isArray(J.options.container)){var se=document.createElement("div");D(se,J.options.container),O.container.parentNode.insertBefore(se,O.container),J.container=se}else typeof J.options.container=="string"?J.container=document.querySelector(J.options.container):J.container=J.options.container;if(!(J.container instanceof HTMLElement)){var Z;return Z=q.error("Container required for toolbar",J.options),T(J,Z)}return J.container.classList.add("ql-toolbar"),J.controls=[],J.handlers={},Object.keys(J.options.handlers).forEach(function(re){J.addHandler(re,J.options.handlers[re])}),[].forEach.call(J.container.querySelectorAll("button, select"),function(re){J.attach(re)}),J.quill.on(p.default.events.EDITOR_CHANGE,function(re,G){re===p.default.events.SELECTION_CHANGE&&J.update(G)}),J.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var re=J.quill.selection.getRange(),G=a(re,1),H=G[0];J.update(H)}),J}return u(N,[{key:"addHandler",value:function(W,J){this.handlers[W]=J}},{key:"attach",value:function(W){var J=this,se=[].find.call(W.classList,function(re){return re.indexOf("ql-")===0});if(se){if(se=se.slice(3),W.tagName==="BUTTON"&&W.setAttribute("type","button"),this.handlers[se]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[se]==null){q.warn("ignoring attaching to disabled format",se,W);return}if(y.default.query(se)==null){q.warn("ignoring attaching to nonexistent format",se,W);return}}var Z=W.tagName==="SELECT"?"change":"click";W.addEventListener(Z,function(re){var G=void 0;if(W.tagName==="SELECT"){if(W.selectedIndex<0)return;var H=W.options[W.selectedIndex];H.hasAttribute("selected")?G=!1:G=H.value||!1}else W.classList.contains("ql-active")?G=!1:G=W.value||!W.hasAttribute("value"),re.preventDefault();J.quill.focus();var B=J.quill.selection.getRange(),V=a(B,1),z=V[0];if(J.handlers[se]!=null)J.handlers[se].call(J,G);else if(y.default.query(se).prototype instanceof y.default.Embed){if(G=prompt("Enter "+se),!G)return;J.quill.updateContents(new h.default().retain(z.index).delete(z.length).insert(S({},se,G)),p.default.sources.USER)}else J.quill.format(se,G,p.default.sources.USER);J.update(z)}),this.controls.push([se,W])}}},{key:"update",value:function(W){var J=W==null?{}:this.quill.getFormat(W);this.controls.forEach(function(se){var Z=a(se,2),re=Z[0],G=Z[1];if(G.tagName==="SELECT"){var H=void 0;if(W==null)H=null;else if(J[re]==null)H=G.querySelector("option[selected]");else if(!Array.isArray(J[re])){var B=J[re];typeof B=="string"&&(B=B.replace(/\"/g,'\\"')),H=G.querySelector('option[value="'+B+'"]')}H==null?(G.value="",G.selectedIndex=-1):H.selected=!0}else if(W==null)G.classList.remove("ql-active");else if(G.hasAttribute("value")){var V=J[re]===G.getAttribute("value")||J[re]!=null&&J[re].toString()===G.getAttribute("value")||J[re]==null&&!G.getAttribute("value");G.classList.toggle("ql-active",V)}else G.classList.toggle("ql-active",J[re]!=null)})}}]),N}(E.default);R.DEFAULTS={};function _(k,N,O){var W=document.createElement("button");W.setAttribute("type","button"),W.classList.add("ql-"+N),O!=null&&(W.value=O),k.appendChild(W)}function D(k,N){Array.isArray(N[0])||(N=[N]),N.forEach(function(O){var W=document.createElement("span");W.classList.add("ql-formats"),O.forEach(function(J){if(typeof J=="string")_(W,J);else{var se=Object.keys(J)[0],Z=J[se];Array.isArray(Z)?I(W,se,Z):_(W,se,Z)}}),k.appendChild(W)})}function I(k,N,O){var W=document.createElement("select");W.classList.add("ql-"+N),O.forEach(function(J){var se=document.createElement("option");J!==!1?se.setAttribute("value",J):se.setAttribute("selected","selected"),W.appendChild(se)}),k.appendChild(W)}R.DEFAULTS={container:null,handlers:{clean:function(){var N=this,O=this.quill.getSelection();if(O!=null)if(O.length==0){var W=this.quill.getFormat();Object.keys(W).forEach(function(J){y.default.query(J,y.default.Scope.INLINE)!=null&&N.quill.format(J,!1)})}else this.quill.removeFormat(O,p.default.sources.USER)},direction:function(N){var O=this.quill.getFormat().align;N==="rtl"&&O==null?this.quill.format("align","right",p.default.sources.USER):!N&&O==="right"&&this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",N,p.default.sources.USER)},indent:function(N){var O=this.quill.getSelection(),W=this.quill.getFormat(O),J=parseInt(W.indent||0);if(N==="+1"||N==="-1"){var se=N==="+1"?1:-1;W.direction==="rtl"&&(se*=-1),this.quill.format("indent",J+se,p.default.sources.USER)}},link:function(N){N===!0&&(N=prompt("Enter link URL:")),this.quill.format("link",N,p.default.sources.USER)},list:function(N){var O=this.quill.getSelection(),W=this.quill.getFormat(O);N==="check"?W.list==="checked"||W.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",N,p.default.sources.USER)}}},n.default=R,n.addControls=D},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(b,E){for(var w=0;w<E.length;w++){var S=E[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,E,w){return E&&A(b.prototype,E),w&&A(b,w),b}}(),u=function A(b,E,w){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,E);if(S===void 0){var P=Object.getPrototypeOf(b);return P===null?void 0:A(P,E,w)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(w)}},c=i(28),h=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function g(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function p(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var v=function(A){p(b,A);function b(E,w){y(this,b);var S=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,E));return S.label.innerHTML=w,S.container.classList.add("ql-color-picker"),[].slice.call(S.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(P){P.classList.add("ql-primary")}),S}return a(b,[{key:"buildItem",value:function(w){var S=u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"buildItem",this).call(this,w);return S.style.backgroundColor=w.getAttribute("value")||"",S}},{key:"selectItem",value:function(w,S){u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"selectItem",this).call(this,w,S);var P=this.label.querySelector(".ql-color-label"),T=w&&w.getAttribute("data-value")||"";P&&(P.tagName==="line"?P.style.stroke=T:P.style.fill=T)}}]),b}(h.default);n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(b,E){for(var w=0;w<E.length;w++){var S=E[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,E,w){return E&&A(b.prototype,E),w&&A(b,w),b}}(),u=function A(b,E,w){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,E);if(S===void 0){var P=Object.getPrototypeOf(b);return P===null?void 0:A(P,E,w)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(w)}},c=i(28),h=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function g(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function p(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var v=function(A){p(b,A);function b(E,w){y(this,b);var S=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,E));return S.container.classList.add("ql-icon-picker"),[].forEach.call(S.container.querySelectorAll(".ql-picker-item"),function(P){P.innerHTML=w[P.getAttribute("data-value")||""]}),S.defaultItem=S.container.querySelector(".ql-selected"),S.selectItem(S.defaultItem),S}return a(b,[{key:"selectItem",value:function(w,S){u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"selectItem",this).call(this,w,S),w=w||this.defaultItem,this.label.innerHTML=w.innerHTML}}]),b}(h.default);n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function h(d,y){for(var g=0;g<y.length;g++){var p=y[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,y,g){return y&&h(d.prototype,y),g&&h(d,g),d}}();function u(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}var c=function(){function h(d,y){var g=this;u(this,h),this.quill=d,this.boundsContainer=y||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){g.root.style.marginTop=-1*g.quill.root.scrollTop+"px"}),this.hide()}return a(h,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(y){var g=y.left+y.width/2-this.root.offsetWidth/2,p=y.bottom+this.quill.root.scrollTop;this.root.style.left=g+"px",this.root.style.top=p+"px",this.root.classList.remove("ql-flip");var v=this.boundsContainer.getBoundingClientRect(),A=this.root.getBoundingClientRect(),b=0;if(A.right>v.right&&(b=v.right-A.right,this.root.style.left=g+b+"px"),A.left<v.left&&(b=v.left-A.left,this.root.style.left=g+b+"px"),A.bottom>v.bottom){var E=A.bottom-A.top,w=y.bottom-y.top+E;this.root.style.top=p-w+"px",this.root.classList.add("ql-flip")}return b}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),h}();n.default=c},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function I(k,N){var O=[],W=!0,J=!1,se=void 0;try{for(var Z=k[Symbol.iterator](),re;!(W=(re=Z.next()).done)&&(O.push(re.value),!(N&&O.length===N));W=!0);}catch(G){J=!0,se=G}finally{try{!W&&Z.return&&Z.return()}finally{if(J)throw se}}return O}return function(k,N){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return I(k,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function I(k,N,O){k===null&&(k=Function.prototype);var W=Object.getOwnPropertyDescriptor(k,N);if(W===void 0){var J=Object.getPrototypeOf(k);return J===null?void 0:I(J,N,O)}else{if("value"in W)return W.value;var se=W.get;return se===void 0?void 0:se.call(O)}},c=function(){function I(k,N){for(var O=0;O<N.length;O++){var W=N[O];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(k,W.key,W)}}return function(k,N,O){return N&&I(k.prototype,N),O&&I(k,O),k}}(),h=i(3),d=P(h),y=i(8),g=P(y),p=i(43),v=P(p),A=i(27),b=P(A),E=i(15),w=i(41),S=P(w);function P(I){return I&&I.__esModule?I:{default:I}}function T(I,k){if(!(I instanceof k))throw new TypeError("Cannot call a class as a function")}function j(I,k){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:I}function q(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(I,k):I.__proto__=k)}var R=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],_=function(I){q(k,I);function k(N,O){T(this,k),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=R);var W=j(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,N,O));return W.quill.container.classList.add("ql-snow"),W}return c(k,[{key:"extendToolbar",value:function(O){O.container.classList.add("ql-snow"),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),S.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),S.default),this.tooltip=new D(this.quill,this.options.bounds),O.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(W,J){O.handlers.link.call(O,!J.format.link)})}}]),k}(v.default);_.DEFAULTS=(0,d.default)(!0,{},v.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var N=this.quill.getSelection();if(N==null||N.length==0)return;var O=this.quill.getText(N);/^\S+@\S+\.\S+$/.test(O)&&O.indexOf("mailto:")!==0&&(O="mailto:"+O);var W=this.quill.theme.tooltip;W.edit("link",O)}else this.quill.format("link",!1)}}}}});var D=function(I){q(k,I);function k(N,O){T(this,k);var W=j(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,N,O));return W.preview=W.root.querySelector("a.ql-preview"),W}return c(k,[{key:"listen",value:function(){var O=this;u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(W){O.root.classList.contains("ql-editing")?O.save():O.edit("link",O.preview.textContent),W.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(W){if(O.linkRange!=null){var J=O.linkRange;O.restoreFocus(),O.quill.formatText(J,"link",!1,g.default.sources.USER),delete O.linkRange}W.preventDefault(),O.hide()}),this.quill.on(g.default.events.SELECTION_CHANGE,function(W,J,se){if(W!=null){if(W.length===0&&se===g.default.sources.USER){var Z=O.quill.scroll.descendant(b.default,W.index),re=a(Z,2),G=re[0],H=re[1];if(G!=null){O.linkRange=new E.Range(W.index-H,G.length());var B=b.default.formats(G.domNode);O.preview.textContent=B,O.preview.setAttribute("href",B),O.show(),O.position(O.quill.getBounds(O.linkRange));return}}else delete O.linkRange;O.hide()}})}},{key:"show",value:function(){u(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(p.BaseTooltip);D.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=_},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),u=ye(a),c=i(36),h=i(38),d=i(64),y=i(65),g=ye(y),p=i(66),v=ye(p),A=i(67),b=ye(A),E=i(37),w=i(26),S=i(39),P=i(40),T=i(56),j=ye(T),q=i(68),R=ye(q),_=i(27),D=ye(_),I=i(69),k=ye(I),N=i(70),O=ye(N),W=i(71),J=ye(W),se=i(72),Z=ye(se),re=i(73),G=ye(re),H=i(13),B=ye(H),V=i(74),z=ye(V),ee=i(75),X=ye(ee),$=i(57),Q=ye($),te=i(41),ie=ye(te),fe=i(28),ge=ye(fe),De=i(59),Ie=ye(De),ke=i(60),Re=ye(ke),Be=i(61),et=ye(Be),le=i(108),de=ye(le),Ee=i(62),Se=ye(Ee);function ye($e){return $e&&$e.__esModule?$e:{default:$e}}u.default.register({"attributors/attribute/direction":h.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":w.ColorClass,"attributors/class/direction":h.DirectionClass,"attributors/class/font":S.FontClass,"attributors/class/size":P.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":w.ColorStyle,"attributors/style/direction":h.DirectionStyle,"attributors/style/font":S.FontStyle,"attributors/style/size":P.SizeStyle},!0),u.default.register({"formats/align":c.AlignClass,"formats/direction":h.DirectionClass,"formats/indent":d.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":w.ColorStyle,"formats/font":S.FontClass,"formats/size":P.SizeClass,"formats/blockquote":g.default,"formats/code-block":B.default,"formats/header":v.default,"formats/list":b.default,"formats/bold":j.default,"formats/code":H.Code,"formats/italic":R.default,"formats/link":D.default,"formats/script":k.default,"formats/strike":O.default,"formats/underline":J.default,"formats/image":Z.default,"formats/video":G.default,"formats/list/item":A.ListItem,"modules/formula":z.default,"modules/syntax":X.default,"modules/toolbar":Q.default,"themes/bubble":de.default,"themes/snow":Se.default,"ui/icons":ie.default,"ui/picker":ge.default,"ui/icon-picker":Re.default,"ui/color-picker":Ie.default,"ui/tooltip":et.default},!0),n.default=u.default},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function b(E,w){for(var S=0;S<w.length;S++){var P=w[S];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,P.key,P)}}return function(E,w,S){return w&&b(E.prototype,w),S&&b(E,S),E}}(),u=function b(E,w,S){E===null&&(E=Function.prototype);var P=Object.getOwnPropertyDescriptor(E,w);if(P===void 0){var T=Object.getPrototypeOf(E);return T===null?void 0:b(T,w,S)}else{if("value"in P)return P.value;var j=P.get;return j===void 0?void 0:j.call(S)}},c=i(0),h=d(c);function d(b){return b&&b.__esModule?b:{default:b}}function y(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function g(b,E){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:b}function p(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(b,E):b.__proto__=E)}var v=function(b){p(E,b);function E(){return y(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"add",value:function(S,P){if(P==="+1"||P==="-1"){var T=this.value(S)||0;P=P==="+1"?T+1:T-1}return P===0?(this.remove(S),!0):u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,S,P)}},{key:"canAdd",value:function(S,P){return u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,S,P)||u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,S,parseInt(P))}},{key:"value",value:function(S){return parseInt(u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,S))||void 0}}]),E}(h.default.Attributor.Class),A=new v("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=A},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default);g.blotName="blockquote",g.tagName="blockquote",n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(A,b){for(var E=0;E<b.length;E++){var w=b[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(A,w.key,w)}}return function(A,b,E){return b&&v(A.prototype,b),E&&v(A,E),A}}(),u=i(4),c=h(u);function h(v){return v&&v.__esModule?v:{default:v}}function d(v,A){if(!(v instanceof A))throw new TypeError("Cannot call a class as a function")}function y(v,A){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:v}function g(v,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);v.prototype=Object.create(A&&A.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(v,A):v.__proto__=A)}var p=function(v){g(A,v);function A(){return d(this,A),y(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),A}(c.default);p.blotName="header",p.tagName=["H1","H2","H3","H4","H5","H6"],n.default=p},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function T(j,q){for(var R=0;R<q.length;R++){var _=q[R];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}return function(j,q,R){return q&&T(j.prototype,q),R&&T(j,R),j}}(),u=function T(j,q,R){j===null&&(j=Function.prototype);var _=Object.getOwnPropertyDescriptor(j,q);if(_===void 0){var D=Object.getPrototypeOf(j);return D===null?void 0:T(D,q,R)}else{if("value"in _)return _.value;var I=_.get;return I===void 0?void 0:I.call(R)}},c=i(0),h=v(c),d=i(4),y=v(d),g=i(25),p=v(g);function v(T){return T&&T.__esModule?T:{default:T}}function A(T,j,q){return j in T?Object.defineProperty(T,j,{value:q,enumerable:!0,configurable:!0,writable:!0}):T[j]=q,T}function b(T,j){if(!(T instanceof j))throw new TypeError("Cannot call a class as a function")}function E(T,j){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:T}function w(T,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);T.prototype=Object.create(j&&j.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(T,j):T.__proto__=j)}var S=function(T){w(j,T);function j(){return b(this,j),E(this,(j.__proto__||Object.getPrototypeOf(j)).apply(this,arguments))}return a(j,[{key:"format",value:function(R,_){R===P.blotName&&!_?this.replaceWith(h.default.create(this.statics.scope)):u(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"format",this).call(this,R,_)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():u(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(R,_){return this.parent.isolate(this.offset(this.parent),this.length()),R===this.parent.statics.blotName?(this.parent.replaceWith(R,_),this):(this.parent.unwrap(),u(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replaceWith",this).call(this,R,_))}}],[{key:"formats",value:function(R){return R.tagName===this.tagName?void 0:u(j.__proto__||Object.getPrototypeOf(j),"formats",this).call(this,R)}}]),j}(y.default);S.blotName="list-item",S.tagName="LI";var P=function(T){w(j,T),a(j,null,[{key:"create",value:function(R){var _=R==="ordered"?"OL":"UL",D=u(j.__proto__||Object.getPrototypeOf(j),"create",this).call(this,_);return(R==="checked"||R==="unchecked")&&D.setAttribute("data-checked",R==="checked"),D}},{key:"formats",value:function(R){if(R.tagName==="OL")return"ordered";if(R.tagName==="UL")return R.hasAttribute("data-checked")?R.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function j(q){b(this,j);var R=E(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,q)),_=function(I){if(I.target.parentNode===q){var k=R.statics.formats(q),N=h.default.find(I.target);k==="checked"?N.format("list","unchecked"):k==="unchecked"&&N.format("list","checked")}};return q.addEventListener("touchstart",_),q.addEventListener("mousedown",_),R}return a(j,[{key:"format",value:function(R,_){this.children.length>0&&this.children.tail.format(R,_)}},{key:"formats",value:function(){return A({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(R,_){if(R instanceof S)u(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"insertBefore",this).call(this,R,_);else{var D=_==null?this.length():_.offset(this),I=this.split(D);I.parent.insertBefore(R,I)}}},{key:"optimize",value:function(R){u(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"optimize",this).call(this,R);var _=this.next;_!=null&&_.prev===this&&_.statics.blotName===this.statics.blotName&&_.domNode.tagName===this.domNode.tagName&&_.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(_.moveChildren(this),_.remove())}},{key:"replace",value:function(R){if(R.statics.blotName!==this.statics.blotName){var _=h.default.create(this.statics.defaultChild);R.moveChildren(_),this.appendChild(_)}u(j.prototype.__proto__||Object.getPrototypeOf(j.prototype),"replace",this).call(this,R)}}]),j}(p.default);P.blotName="list",P.scope=h.default.Scope.BLOCK_BLOT,P.tagName=["OL","UL"],P.defaultChild="list-item",P.allowedChildren=[S],n.ListItem=S,n.default=P},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default);g.blotName="italic",g.tagName=["EM","I"],n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function A(b,E){for(var w=0;w<E.length;w++){var S=E[w];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,E,w){return E&&A(b.prototype,E),w&&A(b,w),b}}(),u=function A(b,E,w){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,E);if(S===void 0){var P=Object.getPrototypeOf(b);return P===null?void 0:A(P,E,w)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(w)}},c=i(6),h=d(c);function d(A){return A&&A.__esModule?A:{default:A}}function y(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function g(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function p(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var v=function(A){p(b,A);function b(){return y(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"create",value:function(w){return w==="super"?document.createElement("sup"):w==="sub"?document.createElement("sub"):u(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,w)}},{key:"formats",value:function(w){if(w.tagName==="SUB")return"sub";if(w.tagName==="SUP")return"super"}}]),b}(h.default);v.blotName="script",v.tagName=["SUB","SUP"],n.default=v},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default);g.blotName="strike",g.tagName="S",n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),u=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function h(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function y(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var g=function(p){y(v,p);function v(){return h(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(u.default);g.blotName="underline",g.tagName="U",n.default=g},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function E(w,S){for(var P=0;P<S.length;P++){var T=S[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,S,P){return S&&E(w.prototype,S),P&&E(w,P),w}}(),u=function E(w,S,P){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,S);if(T===void 0){var j=Object.getPrototypeOf(w);return j===null?void 0:E(j,S,P)}else{if("value"in T)return T.value;var q=T.get;return q===void 0?void 0:q.call(P)}},c=i(0),h=y(c),d=i(27);function y(E){return E&&E.__esModule?E:{default:E}}function g(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function p(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function v(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var A=["alt","height","width"],b=function(E){v(w,E);function w(){return g(this,w),p(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(P,T){A.indexOf(P)>-1?T?this.domNode.setAttribute(P,T):this.domNode.removeAttribute(P):u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,P,T)}}],[{key:"create",value:function(P){var T=u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,P);return typeof P=="string"&&T.setAttribute("src",this.sanitize(P)),T}},{key:"formats",value:function(P){return A.reduce(function(T,j){return P.hasAttribute(j)&&(T[j]=P.getAttribute(j)),T},{})}},{key:"match",value:function(P){return/\.(jpe?g|gif|png)$/.test(P)||/^data:image\/.+;base64/.test(P)}},{key:"sanitize",value:function(P){return(0,d.sanitize)(P,["http","https","data"])?P:"//:0"}},{key:"value",value:function(P){return P.getAttribute("src")}}]),w}(h.default.Embed);b.blotName="image",b.tagName="IMG",n.default=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function E(w,S){for(var P=0;P<S.length;P++){var T=S[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,S,P){return S&&E(w.prototype,S),P&&E(w,P),w}}(),u=function E(w,S,P){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,S);if(T===void 0){var j=Object.getPrototypeOf(w);return j===null?void 0:E(j,S,P)}else{if("value"in T)return T.value;var q=T.get;return q===void 0?void 0:q.call(P)}},c=i(4),h=i(27),d=y(h);function y(E){return E&&E.__esModule?E:{default:E}}function g(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function p(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function v(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var A=["height","width"],b=function(E){v(w,E);function w(){return g(this,w),p(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(P,T){A.indexOf(P)>-1?T?this.domNode.setAttribute(P,T):this.domNode.removeAttribute(P):u(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,P,T)}}],[{key:"create",value:function(P){var T=u(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,P);return T.setAttribute("frameborder","0"),T.setAttribute("allowfullscreen",!0),T.setAttribute("src",this.sanitize(P)),T}},{key:"formats",value:function(P){return A.reduce(function(T,j){return P.hasAttribute(j)&&(T[j]=P.getAttribute(j)),T},{})}},{key:"sanitize",value:function(P){return d.default.sanitize(P)}},{key:"value",value:function(P){return P.getAttribute("src")}}]),w}(c.BlockEmbed);b.blotName="video",b.className="ql-video",b.tagName="IFRAME",n.default=b},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function P(T,j){for(var q=0;q<j.length;q++){var R=j[q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}}return function(T,j,q){return j&&P(T.prototype,j),q&&P(T,q),T}}(),u=function P(T,j,q){T===null&&(T=Function.prototype);var R=Object.getOwnPropertyDescriptor(T,j);if(R===void 0){var _=Object.getPrototypeOf(T);return _===null?void 0:P(_,j,q)}else{if("value"in R)return R.value;var D=R.get;return D===void 0?void 0:D.call(q)}},c=i(35),h=v(c),d=i(5),y=v(d),g=i(9),p=v(g);function v(P){return P&&P.__esModule?P:{default:P}}function A(P,T){if(!(P instanceof T))throw new TypeError("Cannot call a class as a function")}function b(P,T){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:P}function E(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);P.prototype=Object.create(T&&T.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(P,T):P.__proto__=T)}var w=function(P){E(T,P);function T(){return A(this,T),b(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,null,[{key:"create",value:function(q){var R=u(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,q);return typeof q=="string"&&(window.katex.render(q,R,{throwOnError:!1,errorColor:"#f00"}),R.setAttribute("data-value",q)),R}},{key:"value",value:function(q){return q.getAttribute("data-value")}}]),T}(h.default);w.blotName="formula",w.className="ql-formula",w.tagName="SPAN";var S=function(P){E(T,P),a(T,null,[{key:"register",value:function(){y.default.register(w,!0)}}]);function T(){A(this,T);var j=b(this,(T.__proto__||Object.getPrototypeOf(T)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return j}return T}(p.default);n.FormulaBlot=w,n.default=S},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function q(R,_){for(var D=0;D<_.length;D++){var I=_[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,I.key,I)}}return function(R,_,D){return _&&q(R.prototype,_),D&&q(R,D),R}}(),u=function q(R,_,D){R===null&&(R=Function.prototype);var I=Object.getOwnPropertyDescriptor(R,_);if(I===void 0){var k=Object.getPrototypeOf(R);return k===null?void 0:q(k,_,D)}else{if("value"in I)return I.value;var N=I.get;return N===void 0?void 0:N.call(D)}},c=i(0),h=b(c),d=i(5),y=b(d),g=i(9),p=b(g),v=i(13),A=b(v);function b(q){return q&&q.__esModule?q:{default:q}}function E(q,R){if(!(q instanceof R))throw new TypeError("Cannot call a class as a function")}function w(q,R){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:q}function S(q,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);q.prototype=Object.create(R&&R.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(q,R):q.__proto__=R)}var P=function(q){S(R,q);function R(){return E(this,R),w(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return a(R,[{key:"replaceWith",value:function(D){this.domNode.textContent=this.domNode.textContent,this.attach(),u(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"replaceWith",this).call(this,D)}},{key:"highlight",value:function(D){var I=this.domNode.textContent;this.cachedText!==I&&((I.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=D(I),this.domNode.normalize(),this.attach()),this.cachedText=I)}}]),R}(A.default);P.className="ql-syntax";var T=new h.default.Attributor.Class("token","hljs",{scope:h.default.Scope.INLINE}),j=function(q){S(R,q),a(R,null,[{key:"register",value:function(){y.default.register(T,!0),y.default.register(P,!0)}}]);function R(_,D){E(this,R);var I=w(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,_,D));if(typeof I.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return I.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){I.highlight(),k=null},I.options.interval)}),I.highlight(),I}return a(R,[{key:"highlight",value:function(){var D=this;if(!this.quill.selection.composing){this.quill.update(y.default.sources.USER);var I=this.quill.getSelection();this.quill.scroll.descendants(P).forEach(function(k){k.highlight(D.options.highlight)}),this.quill.update(y.default.sources.SILENT),I!=null&&this.quill.setSelection(I,y.default.sources.SILENT)}}}]),R}(p.default);j.DEFAULTS={highlight:function(){return window.hljs==null?null:function(q){var R=window.hljs.highlightAuto(q);return R.value}}(),interval:1e3},n.CodeBlock=P,n.CodeToken=T,n.default=j},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,n){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,n){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,n){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function R(_,D,I){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,D);if(k===void 0){var N=Object.getPrototypeOf(_);return N===null?void 0:R(N,D,I)}else{if("value"in k)return k.value;var O=k.get;return O===void 0?void 0:O.call(I)}},u=function(){function R(_,D){for(var I=0;I<D.length;I++){var k=D[I];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,D,I){return D&&R(_.prototype,D),I&&R(_,I),_}}(),c=i(3),h=E(c),d=i(8),y=E(d),g=i(43),p=E(g),v=i(15),A=i(41),b=E(A);function E(R){return R&&R.__esModule?R:{default:R}}function w(R,_){if(!(R instanceof _))throw new TypeError("Cannot call a class as a function")}function S(R,_){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:R}function P(R,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);R.prototype=Object.create(_&&_.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(R,_):R.__proto__=_)}var T=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],j=function(R){P(_,R);function _(D,I){w(this,_),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=T);var k=S(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,D,I));return k.quill.container.classList.add("ql-bubble"),k}return u(_,[{key:"extendToolbar",value:function(I){this.tooltip=new q(this.quill,this.options.bounds),this.tooltip.root.appendChild(I.container),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),b.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),b.default)}}]),_}(p.default);j.DEFAULTS=(0,h.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){_?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var q=function(R){P(_,R);function _(D,I){w(this,_);var k=S(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,D,I));return k.quill.on(y.default.events.EDITOR_CHANGE,function(N,O,W,J){if(N===y.default.events.SELECTION_CHANGE)if(O!=null&&O.length>0&&J===y.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var se=k.quill.getLines(O.index,O.length);if(se.length===1)k.position(k.quill.getBounds(O));else{var Z=se[se.length-1],re=k.quill.getIndex(Z),G=Math.min(Z.length()-1,O.index+O.length-re),H=k.quill.getBounds(new v.Range(re,G));k.position(H)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return u(_,[{key:"listen",value:function(){var I=this;a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){I.root.classList.remove("ql-editing")}),this.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!I.root.classList.contains("ql-hidden")){var k=I.quill.getSelection();k!=null&&I.position(I.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(I){var k=a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"position",this).call(this,I),N=this.root.querySelector(".ql-tooltip-arrow");if(N.style.marginLeft="",k===0)return k;N.style.marginLeft=-1*k-N.offsetWidth/2+"px"}}]),_}(g.BaseTooltip);q.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=q,n.default=j},function(t,n,i){t.exports=i(63)}]).default})}(Fc)),Fc.exports}var yr,uw;function g5(){if(uw)return yr;uw=1;var r=yr&&yr.__extends||function(){var y=function(g,p){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,A){v.__proto__=A}||function(v,A){for(var b in A)A.hasOwnProperty(b)&&(v[b]=A[b])},y(g,p)};return function(g,p){y(g,p);function v(){this.constructor=g}g.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}(),e=yr&&yr.__assign||function(){return e=Object.assign||function(y){for(var g,p=1,v=arguments.length;p<v;p++){g=arguments[p];for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&(y[A]=g[A])}return y},e.apply(this,arguments)},t=yr&&yr.__spreadArrays||function(){for(var y=0,g=0,p=arguments.length;g<p;g++)y+=arguments[g].length;for(var v=Array(y),A=0,g=0;g<p;g++)for(var b=arguments[g],E=0,w=b.length;E<w;E++,A++)v[A]=b[E];return v},n=yr&&yr.__importDefault||function(y){return y&&y.__esModule?y:{default:y}},i=n(uh()),a=n(yw()),u=n(d5()),c=n(m5()),h=function(y){r(g,y);function g(p){var v=y.call(this,p)||this;v.dirtyProps=["modules","formats","bounds","theme","children"],v.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],v.state={generation:0},v.selection=null,v.onEditorChange=function(b,E,w,S){var P,T,j,q;b==="text-change"?(T=(P=v).onEditorChangeText)===null||T===void 0||T.call(P,v.editor.root.innerHTML,E,S,v.unprivilegedEditor):b==="selection-change"&&((q=(j=v).onEditorChangeSelection)===null||q===void 0||q.call(j,E,S,v.unprivilegedEditor))};var A=v.isControlled()?p.value:p.defaultValue;return v.value=A??"",v}return g.prototype.validateProps=function(p){var v;if(i.default.Children.count(p.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(i.default.Children.count(p.children)){var A=i.default.Children.only(p.children);if(((v=A)===null||v===void 0?void 0:v.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&p.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},g.prototype.shouldComponentUpdate=function(p,v){var A=this,b;if(this.validateProps(p),!this.editor||this.state.generation!==v.generation)return!0;if("value"in p){var E=this.getEditorContents(),w=(b=p.value,b??"");this.isEqualValue(w,E)||this.setEditorContents(this.editor,w)}return p.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,p.readOnly),t(this.cleanProps,this.dirtyProps).some(function(S){return!u.default(p[S],A.props[S])})},g.prototype.shouldComponentRegenerate=function(p){var v=this;return this.dirtyProps.some(function(A){return!u.default(p[A],v.props[A])})},g.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},g.prototype.componentWillUnmount=function(){this.destroyEditor()},g.prototype.componentDidUpdate=function(p,v){var A=this;if(this.editor&&this.shouldComponentRegenerate(p)){var b=this.editor.getContents(),E=this.editor.getSelection();this.regenerationSnapshot={delta:b,selection:E},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==v.generation){var w=this.regenerationSnapshot,b=w.delta,S=w.selection;delete this.regenerationSnapshot,this.instantiateEditor();var P=this.editor;P.setContents(b),d(function(){return A.setEditorSelection(P,S)})}},g.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},g.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},g.prototype.isControlled=function(){return"value"in this.props},g.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},g.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},g.prototype.createEditor=function(p,v){var A=new c.default(p,v);return v.tabIndex!=null&&this.setEditorTabIndex(A,v.tabIndex),this.hookEditor(A),A},g.prototype.hookEditor=function(p){this.unprivilegedEditor=this.makeUnprivilegedEditor(p),p.on("editor-change",this.onEditorChange)},g.prototype.unhookEditor=function(p){p.off("editor-change",this.onEditorChange)},g.prototype.getEditorContents=function(){return this.value},g.prototype.getEditorSelection=function(){return this.selection},g.prototype.isDelta=function(p){return p&&p.ops},g.prototype.isEqualValue=function(p,v){return this.isDelta(p)&&this.isDelta(v)?u.default(p.ops,v.ops):u.default(p,v)},g.prototype.setEditorContents=function(p,v){var A=this;this.value=v;var b=this.getEditorSelection();typeof v=="string"?p.setContents(p.clipboard.convert(v)):p.setContents(v),d(function(){return A.setEditorSelection(p,b)})},g.prototype.setEditorSelection=function(p,v){if(this.selection=v,v){var A=p.getLength();v.index=Math.max(0,Math.min(v.index,A-1)),v.length=Math.max(0,Math.min(v.length,A-1-v.index)),p.setSelection(v)}},g.prototype.setEditorTabIndex=function(p,v){var A,b;!((b=(A=p)===null||A===void 0?void 0:A.scroll)===null||b===void 0)&&b.domNode&&(p.scroll.domNode.tabIndex=v)},g.prototype.setEditorReadOnly=function(p,v){v?p.disable():p.enable()},g.prototype.makeUnprivilegedEditor=function(p){var v=p;return{getHTML:function(){return v.root.innerHTML},getLength:v.getLength.bind(v),getText:v.getText.bind(v),getContents:v.getContents.bind(v),getSelection:v.getSelection.bind(v),getBounds:v.getBounds.bind(v)}},g.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var p=a.default.findDOMNode(this.editingArea);if(!p)throw new Error("Cannot find element for editing area");if(p.nodeType===3)throw new Error("Editing area cannot be a text node");return p},g.prototype.renderEditingArea=function(){var p=this,v=this.props,A=v.children,b=v.preserveWhitespace,E=this.state.generation,w={key:E,ref:function(S){p.editingArea=S}};return i.default.Children.count(A)?i.default.cloneElement(i.default.Children.only(A),w):b?i.default.createElement("pre",e({},w)):i.default.createElement("div",e({},w))},g.prototype.render=function(){var p;return i.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(p=this.props.className,p??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},g.prototype.onEditorChangeText=function(p,v,A,b){var E,w;if(this.editor){var S=this.isDelta(this.value)?b.getContents():b.getHTML();S!==this.getEditorContents()&&(this.lastDeltaChangeSet=v,this.value=S,(w=(E=this.props).onChange)===null||w===void 0||w.call(E,p,v,A,b))}},g.prototype.onEditorChangeSelection=function(p,v,A){var b,E,w,S,P,T;if(this.editor){var j=this.getEditorSelection(),q=!j&&p,R=j&&!p;u.default(p,j)||(this.selection=p,(E=(b=this.props).onChangeSelection)===null||E===void 0||E.call(b,p,v,A),q?(S=(w=this.props).onFocus)===null||S===void 0||S.call(w,p,v,A):R&&((T=(P=this.props).onBlur)===null||T===void 0||T.call(P,j,v,A)))}},g.prototype.focus=function(){this.editor&&this.editor.focus()},g.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},g.displayName="React Quill",g.Quill=c.default,g.defaultProps={theme:"snow",modules:{},readOnly:!1},g}(i.default.Component);function d(y){Promise.resolve().then(y)}return yr=h,yr}var y5=g5();const v5=ah(y5);class _5 extends Bu{constructor(e){super(e),this.quillRef=lh.createRef()}getFormHtml(){return C.jsx("div",{children:C.jsx(v5,{ref:this.quillRef,modules:{toolbar:[["bold","italic","underline","blockquote"],[{color:["#F4F5F8","#E6FFFD","#99AFD1","#ecd23a","#fd5259","#D7ABF7","#9EFFA0","#F4F5F888","#E6FFFD77","#99AFD188","#ecd23a88","#fd525988","#D7ABF788","#9EFFA088","#000000","#E6FFFD44","#99AFD155","#ecd23a55","#fd525955","#D7ABF755","#9EFFA055"]},{background:[!1,"black","#00274D","#C1A71B","#5F0C0C","#4B0082","#002E07"]}],[,"code-block"],[{list:"ordered"},{list:"bullet"},{align:[]}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[],["clean"]]},style:this.props.wrapperStyle?{...this.props.wrapperStyle}:{minHeight:"100%",padding:"8px",minWidth:"99%",width:"100%"},theme:"snow",value:this.obj[0].getJson()[this.props.name],onChange:this.objDispatch})})}}class jC extends ms{constructor(e){super(e)}createFileInfo(e){const t=new Date,n=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0");let u="images/"+`${Math.floor(Math.random()*9999)}-${n+i}`+e.target.files[0].name;return this.fileInfo={selectedFile:e.target.files[0],path:u,pic:URL.createObjectURL(e.target.files[0])},this.setState({...this.fileInfo}),this.fileInfo}async prepareOnChange(){let e=await this.operationsFactory.prepare({prepare:{...this.props.prepareOnChange},clean:!0});e=e[0],this.obj=e}async changeHandler(e){var n;await this.createFileInfo(e),this.props.prepareOnChange&&await this.prepareOnChange(),this.props.callBackFunc&&await this.props.callBackFunc(this.obj,this.fileInfo);let t;if(await this.APIService.uploadPics(this.fileInfo.selectedFile,this.fileInfo.path),!this.obj.getPicSrc){if(t=await this.APIService.downloadPics(this.fileInfo.path),!this.props.skipUpdate&&!this.state.skipUpdate)if((n=this.obj)!=null&&n.length)for(let i of this.obj)await i.setCompState({[this.props.uploadAttribute||"picURL"]:t});else await this.obj.setCompState({[this.props.uploadAttribute||"picURL"]:t});this.props.downloadPicsCallBackFunc&&this.props.downloadPicsCallBackFunc(this.obj,this.fileInfo)}return this.props.runOnChange&&this.onSubmit(),t}async onSubmit(){this.props.prepareOnChange&&await this.operationsFactory.addToComponentList(),await this.obj.update(),this.props.finishCallBackFunc&&this.props.finishCallBackFunc(this.obj),this.dispatch({imgUploaded:this.obj})}additionalSetup(){this.wrapper.setStyle({maxWidth:"300px",maxHeight:"30px",width:"fit-content"}),this.label.setStyle({display:"inline-block",height:"35px",maxWidth:"fit-content",cursor:"pointer",position:"relative"}),this.form.updateProps({accept:"image/png, image/gif, image/jpeg, image/jpg, image/webp, image/svg+xml, application/pdf",style:{position:"absolute",top:0,left:0,cursor:"pointer",width:"100%",height:"100%",opacity:0},size:"6",type:"file",name:"file",onChange:this.changeHandler})}getInnerContent(){let e=this.getFormHtml();return this.innerContent=[this.label.getHtml({content:e,type:"label"}),this.props.errorText&&this.error.getHtml()],this.innerContent}getFormHtml(){return this.content=this.props.content||C.jsx(C.Fragment,{children:"Upload"}),C.jsxs("div",{className:this.props.containerStyle||"defaultButton",children:[this.content,this.form.getHtml({type:"input"})]})}}class w5 extends jC{constructor(e){super(e)}getFormHtml(){var t,n;this.content=this.props.content||C.jsx(C.Fragment,{children:"Upload"});let e=(n=(t=this.obj)==null?void 0:t[0])==null?void 0:n.getJson()[this.props.uploadImgAttribute||"picURL"];return C.jsxs(C.Fragment,{children:[C.jsxs("div",{style:this.props.containerStyle,className:this.props.containerClass||"defaultButton",children:[this.content,this.form.getHtml({type:"input"})]}),(this.state.pic||e)&&C.jsx("img",{style:this.props.uploadedImgStyle,className:this.props.uploadedImgClass||"uploadedImg",src:this.state.pic||e})]})}}let E5=class extends ms{constructor(e){super(e),this.state.formClass="FCDefaultDelButton",this.content="Delete"}buttonClickFunc(){this.props.obj.del()}};class A5 extends xC{constructor(){super(...arguments);he(this,"factory",{input:Bu,textarea:Bu,math:Q3,addButton:W3,baseButton:ms,popupButton:Y3,updateButton:X3,runButton:Z3,quill:_5,upload:jC,showUpload:w5,del:E5})}}class hy extends nt{constructor(){super();he(this,"addToProps",{});he(this,"addToInitialSetup",[]);he(this,"getterFunc");this.state={}}getProps(){return{interface:this.interface,app:this.app,theme:this.props.theme,type:this.props.type,...this.props,...this.addToProps}}setComponentList(){var t;this.componentList=(t=this.interface)==null?void 0:t.getComponentList()}setProps(){}getHtml(){this.setProps();let t=this.getProps();return this.setGetterFunc(this.props.getterFunc),this.getterFunc&&(this.html=this.getterFunc({...t},t.type||this.state.type)),C.jsx(C.Fragment,{children:this.html})}setGetterFunc(t){this.getterFunc=t||this.interface.getMainFunc()||this.getterFunc}addToFactory(){if(this.props.addToFactory){let t=this.interface.getFactory();for(let n of this.props.addToFactory)t.registerComponent(n.type,n.comp)}}preSetup(){this.componentPreSetup(),this.initialSetupFunctions=[...this.initialSetupFunctions,this.setComponentList,this.addToFactory,...this.addToInitialSetup]}componentPreSetup(){}}class MC extends ya{constructor(){super(...arguments);he(this,"mainFunc",this.getFormComponent)}getFactory(){return this.factory===void 0&&(this.factory=new A5),this.factory}getThemeFactory(){return this.themeFactory===void 0&&(this.themeFactory=new G3),this.themeFactory}getFormComponent(t,n){return n=n||"input",this.factory.getComponent(n,t)}}const qC=new MC;class ft extends hy{constructor(e){super(e),this.state={type:"input"},this.interface=qC}}class Hh extends ft{constructor(e){super(e),this.state={type:"popupButton"}}}class fy extends ft{constructor(e){super(e),this.state={type:"updateButton"}}}class to extends ft{constructor(e){super(e),this.state={type:"runButton"}}}class C5 extends ft{constructor(e){super(e),this.state={type:e.uploadType||"upload"}}}class VC extends ft{constructor(e){super(e),this.state={type:e.uploadType||"del"}}}class An extends nt{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setCell,this.getUseId],this.state={...this.state,defaultTheme:"defaultColumn",interface:"map",wrapperClass:"MCCell",linkClass:"MCLink"},this.setItemPropsRan=!1}setCell(){this.cell=this.props.cell}preSetup(){this.setComponents(["link","wrapper","item","option"])}setitemprops(){let e={...this.createPropObj("item","cell"),className:this.cell.class||this.theme[this.state.classKey],style:this.cell.style};this.cell.itemClick&&(e.checkItemClick=!0),this.setItemPropsRan?this.item.setProps(e):(this.builderObserver.subscribe(e),this.setItemPropsRan=!0)}setwrapperprops(){let e={...this.createPropObj("wrapper","cell")};this.setWrapperPropsRan?this.wrapper.setProps(e):(this.builderObserver.subscribe(e),this.setWrapperPropsRan=!0)}getOption(){return C.jsx(C.Fragment,{})}getUseId(){return this.cell&&this.obj.getJson&&(this.useId=this.cell.useId===!1?"":this.cell.useId===void 0?this.obj.getJson()._id:this.obj.getJson()[this.cell.useId]),this.useId}getInnerContent(){return this.innerContent=[this.item.getHtml({type:this.state.itemType||"span",content:this.getOption()})],this.innerContent}getLinkUrl(){var t,n,i;return(t=this.cell)!=null&&t.to?this.cell.to:`/${(i=(n=this.obj)==null?void 0:n.getJson())==null?void 0:i.type}/${this.useId}`}getLinkFunc(){if(this.cell.forceUpdate){let e=()=>{this.dispatch({forceUpdate:this.cell.forceUpdate})};this.link.setOnClick(e)}if(this.cell.linkClick){let e=()=>{this.cell.linkClick(this.obj),this.cell.forceUpdate&&this.dispatch({forceUpdate:this.cell.forceUpdate})};this.link.setOnClick(e)}}getHtml(){var t;this.mapInnerContent(),this.getLinkFunc(),this.cell.type;let e=(t=this.cell)!=null&&t.hasLink?this.link.getHtml({type:this.state.linkType||"link",content:this.innerContent,props:{to:this.getLinkUrl()}}):this.wrapper.getHtml({type:this.state.wrapperType||"span",content:this.innerContent});return this.html=C.jsx(C.Fragment,{children:e}),this.html}}class dy extends An{constructor(e){super(e),this.state.classKey="MCDelItem",this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setDel]}setDel(){this.cell.itemClick=this.del}del(){let e=this.props.app;this.cell.popop?e.dispatch({popupSwitch:"del",delComponent:this.obj}):this.obj.del()}getOption(){return C.jsx("div",{children:"X"})}}class py extends An{constructor(e){super(e),this.state.classKey="MCEditItem",this.state.itemClick=this.edit}edit(){this.props.app.dispatch({popupSwitch:"edit",currentPopupComponent:this.obj})}getOption(){return"edit"}}class $h extends An{constructor(e){super(e),this.state.classKey="MCAttributeItem"}getName(){let e=this.cell;this.name=e.name,this.name||(this.name=e)}getOption(){return this.getName(),this.obj.getJson()[this.name]}}class b5 extends $h{constructor(e){super(e),this.state.classKey="MCTextItem"}getOption(){return C.jsx(C.Fragment,{children:this.cell.name})}}class T5 extends An{constructor(e){super(e),this.state.classKey="MCCustom"}getOption(){let e=this.cell.custom;return C.jsx(e,{...this.props,masterCell:this})}}class UC extends An{constructor(e){super(e),this.state.defaultClassName="MCImgItem",this.state.itemType="img"}getPicSrc(){var e,t;return this.obj.getJson&&(this.src=(t=this.obj)==null?void 0:t.getJson()[((e=this.state.cell)==null?void 0:e.src)||"picURL"]),this.cell.imgSrc&&(this.src=this.cell.imgSrc),this.src}additionalPostSetup(){this.getPicSrc(),this.src&&this.item.addProps({src:this.src,alt:"picture goes here"})}}class S5 extends An{constructor(e){super(e)}getOption(){({...this.cell,...this.props})}}class zC extends An{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setList,this.setFactory],this.state={...this.state,mapContainerClass:"MCMapContainer",interface:"map",mapSectionClass:"MCMapSection"},this.defaultTypes=["del","edit","img"]}setFactory(){this.factory=this.interface.getFactory()}getDefaultTypes(){return this.defaultTypes}checkCellForDefaults(e){let t=this.getDefaultTypes();return t[t.indexOf(e)]}textOrAttribute(e,t){return e.getJson&&(e!=null&&e.getJson()[t])?"attribute":"text"}getType(e,t){let n=e.type;return n||(n=this.checkCellForDefaults(e),n||(n=this.textOrAttribute(t,e))),n}getProps(e,t){return{obj:t,...this.props,interface:this.interface,cell:e,theme:this.props.theme}}getCellList(e){let t=this.props.cells;return C.jsx(C.Fragment,{children:t.map((n,i)=>{let a=this.getType(n,e),u=this.getProps(n,e);return C.jsx(C.Fragment,{children:this.factory.getComponent(a,u)})})})}getListHtml(){return C.jsx(C.Fragment,{children:this.list.map(e=>C.jsx(C.Fragment,{children:this.mapSection.getHtml({type:"div",content:this.getCellList(e)})}))})}setList(){this.list=this.props.list}preSetup(){this.setComponents(["mapContainer","mapSection","link"])}getHtml(){let e=this.mapContainer.getHtml({type:"div",content:this.getListHtml()});return this.html=C.jsx(C.Fragment,{children:e}),this.html}}class lw extends dy{constructor(e){super(e),this.state.classKey="MCCustomDelItem"}getOption(){return C.jsx(this.cell.custom,{...this.props,masterCell:this})}}class x5 extends dy{constructor(e){super(e),this.state.classKey="MCDelItem"}getOption(){return this.props.delText||"delete"}}const D5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAFRGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iNDgiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSI0OCIKICAgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIKICAgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIgogICB0aWZmOkltYWdlTGVuZ3RoPSI0OCIKICAgdGlmZjpJbWFnZVdpZHRoPSI0OCIKICAgdGlmZjpSZXNvbHV0aW9uVW5pdD0iMiIKICAgdGlmZjpYUmVzb2x1dGlvbj0iNzIvMSIKICAgdGlmZjpZUmVzb2x1dGlvbj0iNzIvMSIKICAgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMy0wOS0wOFQxNDo0NDozNi0wNjowMCIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjMtMDktMDhUMTQ6NDQ6MzYtMDY6MDAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgeG1wTU06YWN0aW9uPSJwcm9kdWNlZCIKICAgICAgeG1wTU06c29mdHdhcmVBZ2VudD0iQWZmaW5pdHkgRGVzaWduZXIgMiAyLjEuMSIKICAgICAgeG1wTU06d2hlbj0iMjAyMy0wOC0wNFQxMDoyNTozOC0wNjowMCIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJwcm9kdWNlZCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWZmaW5pdHkgRGVzaWduZXIgMiAyLjEuMSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMy0wOS0wOFQxNDo0NDozNi0wNjowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+zw4Y8wAAAYFpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAACiRdZHPK0RRFMc/ZshgRJmFhcUkZGE0KLGxmMmvwmJmlF+bmee9GTUzXu89SbbKVlFi49eCv4CtslaKSMmWNbFhes7z1Ejm3M49n/u995zuPRc8iaySM8vDkMtbRmw4EpyanglWPlGFjwDthJOKqY/HhxKUtPdbypx4HXJqlT73r9XMq6YCZT7hAUU3LOER4bFlS3d4SzigZJLzwifCHYZcUPjG0VMuPzucdvnTYSMRi4KnXjiY/sWpX6xkjJywvJyWXHZJ+bmP8xK/mp+MS2wWb8IkxjARgowySJReuuiXuZcQ3XTKihL54e/8CRYlV5FZZwWDBdJksOgQdUmqqxI10VUZWVac/v/tq6n1dLvV/RGoeLTt11ao3ITChm1/HNh24RC8D3CeL+Yv7kPfm+gbRa1lD+rW4PSiqKW24WwdGu/1pJH8lrziHk2Dl2OonYaGK6iedXv2s8/RHSRW5asuYWcX2uR83dwXqRtoBLx59Y4AAAAJcEhZcwAACxMAAAsTAQCanBgAAAU5SURBVGiB1ZpfbFNVHMc/bW/H7d3WGujaMeqy8ECMEcgiICDDOI0hEpco8iDECMHEByBRSAwvxCgJ0ZhIzEBjAma8QEyEBwUejEyibg/GYcKYYRCIQEHaVZa2621v/10f7m1pu/5d/9B9k5vc3nvOuZ9v77nn3+8YqIFsdpcIPA88CzhyDgBvzjEGjPh97ki1zzbMNaPN7rIBLwH9aPBihUVEgBHgIjDs97n9c+Go2IDN7rIAO4B3AWkuD82jEHACGPL73OFKMpZtwGZ3mYA3gT2AvSK88jUFHAXO+H3uRDkZyjJgs7s6gUHgmbmzVaSrwB6/z+0pldBUKoHN7loBDAE9VWMVkNEI/WstrZtfbG1f+qTZ/J8/sWgmpL4qStYxRQ4UNVH0DdjsrgHgENBSS+BMdTkF4ehH9q6VT7Wkvyc5oiYPfzX94PS5GR9w0O9z/1Aof8E3oMN/VixNtVriFITTRxzdy3rMWS2YWTAY+tdZ2uWwql6eUPpEyXpXkQOT+crIC6dXm8FC92uhJU5BOHXE0e3qFAq+3b5VYpscVuOXJ5TnRMk6mq86zQLUP9ghoL2mxDn6/MCizt6nF2Q1w6oKhpxK3bdKbPM9TCTHr0fXipL1giIHQpn3swzoTeW31PGDTem3PyOhvtWi1LHQZE5dMxg0E6nzlNb1iq0/DsuJwEyyV5SsZxU5oKbuGXPK3UKDmkp/MJncvs97d+JGNKvjyn0DABbRYHx5vaUVWA68kXkvbUDvYffWhRbocQnmbQNttsxrgRnNxPj10iYcdpOgn+7VWYHsN7CDOvWwPS7BfOoLZ/eh9xcu3rW1/YnMe8FQMvn2fu/dK9eicrEyJm/GFP20A3gndd0E6YHZl4B5dtbqlIJ32rW63rfa0haSk/G//o6mR6LRmKqevyQH1/UusHR2CLMYJm5Ew58cm/aq6ZrPclGyfqfIAcUEIErWzcCmesOnVNhEOLh25QLLYscjE+4H8ejOA1PuQDCZzCiiBbilyIFrKQO7gaWNgC9mIhZT1XOX5OCaFaLY5RRa3A/i0bc+8N6574nH85WhyIELJn0y8jEg5EtUD/iiJuKo5y/JwS6HIOz/9OG/heCBLlGynjSJkvUFYKDe8L/+EQke/nra+8oGqV0wPWpn8pmIx+Gn38MzwVBWtcmVAIybRMm6FeitN/x7B6fu37gdi169Hgtv2ljaRJnymETJ+jqwrN7w0ZjWhty+F49N3opFXutvzeoT+lZb2nzTidj4ZFShfN0z8mjiXXd4gBazwbB9ILsvAPD4ErHRy5GifUEeOao2UCn8N4c6ujauEbMGih5fIrZtn+fOP+54rMLHV2fgMcODbmBOagJ4QBsLeecrPOCt2EATwUOlBpoMHiox0ITwoBsYm6fwAGNGtAXWgl14E8NHgFGjvsQ9Ms/gQV+eT/UDw/MMHrRl+fSc+CLaEndaTQ4fQv/TjQB6cOFEZoomhgc4ngqIZA4lhtDW5/OqieCngJOpH2kDemTkaKFcTQIPMJgZxckdzJ1BCy4U1GOGHwfOZl6YtQZms7ucwPc3h7s3lFtqg+CngK25UZtZw2k9we5yS20QfJQCIae88wG/z32lnFIbBA9alCYv05wnNA385z8sFmIqGaXUozXHqF9otZCm0KpN0dpQMoSkyAGPKFkvAKuowQpGmRoHdvp97lulElYa6N6CFkOoZ6B7EDhb00B3pjK2GuwCWivNX0Ah4Dhwsm5bDXKlxxT60TZ8VLPZ42fgl4Zt9sgnfYV7PZVttxmtxXab/wFJap9Ow0di3gAAAABJRU5ErkJggg==";class I5 extends py{constructor(e){super(e),this.state.classKey="MCEditImgItem",this.state.itemType="img"}additionalPostSetup(){this.getImg(),this.item.setProps({src:this.src})}getImg(){return this.src=this.cell.imgSrc||D5,this.src}}class k5 extends py{constructor(e){super(e),this.state.classKey="MCCustomEditItem"}getOption(){return C.jsx(this.cell.custom,{...this.props,masterCell:this})}}let R5=class extends zC{constructor(e){super(e),this.mapContainer=lh.createRef(),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.getPicObj,this.getAddComponentButton],this.state={...this.state,index:0,isDragging:void 0,defaultTheme:"interactiveMap"}}_addEventListeners(){var t;this.props;let e=[];for(let n of this.list){let i=document.getElementById(n.getJson()._id);i.addEventListener("mousedown",a=>{this.setState({isDragging:i})}),i.addEventListener("mouseup",a=>{this.setState({isDragging:void 0})}),e.push(i),this.setState({saveList:e})}(t=this.mapContainer)!=null&&t.current&&(this.mapContainer.current.addEventListener("mouseup",n=>{this.currentComp!==void 0&&this.currentComp.update(),this.setState({isDragging:void 0})}),this.mapContainer.current.addEventListener("mousemove",n=>{if(this.state.isDragging!==void 0){let i=this.state.isDragging,a=i.id,u=this.list.find(c=>c.getJson()._id===a);if((u==null?void 0:u.getJson().draggable)!==!1){const c=this.mapContainer.current.getBoundingClientRect(),h=n.pageX-c.left-25,d=n.pageY-c.top-25;u.setCompState({x:h,y:d}),this.currentComp=u,i.style.left=`${h}px`,i.style.top=`${d}px`}}}))}componentDidMount(){this._addEventListeners()}zoom(e){let t=this.mapContainer.current.getBoundingClientRect(),n=t.width*e,i=t.height*e;this.mapContainer.current.style.width=n+"px",this.mapContainer.current.style.height=i+"px";let a=this.state.saveList;for(let u of a){const c=u.style.left||"0",h=u.style.top||"0",d=c.match(/(-?\d*\.?\d+)/),y=h.match(/(-?\d*\.?\d+)/),g=d?parseFloat(d[0]):0,p=y?parseFloat(y[0]):0,v=g*e,A=p*e;u.style.left=v+"px",u.style.top=A+"px"}}componentDidUpdate(e,t){this.props.list.length!==e.list.length&&this._addEventListeners()}getAddComponentButton(){var e,t;if(this.addComponentButton=this.props.addComponentButton,this.addComponentButton!==void 0){let n=typeof this.addComponentButton=="string"?this.addComponentButton:this.addComponentButton.type||"addComponentButton",i=this.props.pinKey||((e=this.mapObj)==null?void 0:e.getJson().pinType)||"pin";this.addComponentButton=this.factory.getComponent(n,{...this.props,theme:this.props.theme||this.state.defaultTheme,mapId:this.mapObj?(t=this.mapObj)==null?void 0:t.getJson()._id:void 0,addType:i,addPinProps:this.props.addPinProps,pinAdded:this._addEventListeners})}}getPicObj(){var t;let e=this.props.imgAttribute||"picURL";this.mapObj&&(this.picSrc=(t=this.mapObj)==null?void 0:t.getJson()[e])}preSetup(){this.setComponents([])}async changePic(e){let t=this.props.list;e=e<0?e=t.length-1:e,e=e>=t.length?0:e,this.mapObj=t[e],await this.setState({index:e}),this._addEventListeners()}setList(){if(!this.listSet){let t=this.props.list[this.state.index];this.mapObj=t;let n=this.props.pinKey||(t==null?void 0:t.getJson().pinType)||"pin",i=this.props.pinAttribute||(t==null?void 0:t.getJson().type)+"Id"||"mapId",a=this.props.mapId||(t==null?void 0:t.getJson()._id);this.list=this.componentList.getList(n,a,i)}}preSetup(){this.setComponents(["mapContainer","right","left","image","zoomIn","zoomOut"])}getIndexAndChangeMap(e){let t=this.props.list.indexOf(this.mapObj)+e;this.changePic(t)}getListHtml(){let e=this.props,t=this.theme,n=this.factory;return C.jsx(C.Fragment,{children:this.list.map((i,a)=>{let u={obj:i,props:e,interface:this.interface,cell:e.pinCell,theme:this.props.them||this.state.defaultTheme,pinProps:this.props.pinProps};return C.jsx("div",{id:i.getJson()._id,className:e.mapSectionClass?e.mapSectionClass:t.MCMapSection,style:{...e.mapSectionStyle,left:i.getJson().x+"px",top:i.getJson().y+"px"},children:C.jsx(C.Fragment,{children:n.getComponent(e.pinType?e.pinType:"attribute",u)})},a)})})}getHtml(){if(this.props.list.length>0){let e=this.props,t=this.theme;return C.jsxs("div",{ref:this.mapContainer,className:e.mapContainerClass?e.mapContainerClass:t.MCMapContainer,style:{...e.mapContainerStyle},children:[C.jsx("img",{src:this.picSrc,className:e.mapClass?e.mapClass:t.MCMap,style:{...e.mapStyle}}),this.getListHtml(),e.addComponentButton&&C.jsx(C.Fragment,{children:this.addComponentButton}),C.jsx("div",{style:{position:"absolute",top:"0px",right:"0px"},onClick:()=>{this.zoom(.5)},children:"zoom out"}),C.jsx("div",{style:{position:"absolute",top:"20px",right:"0px"},onClick:()=>{this.zoom(2)},children:"zoom in"}),C.jsx("div",{style:{position:"absolute",top:"0px",left:"-20px"},onClick:()=>{this.getIndexAndChangeMap(-1)},children:"prev"}),C.jsx("div",{style:{position:"absolute",top:"20px",right:"-20px"},onClick:()=>{this.getIndexAndChangeMap(1)},children:"next"})]})}else this.list=[]}};class P5 extends An{constructor(e){super(e)}preSetup(){this.setComponents([])}async createObjType(){let e=this.operationsFactory,t=this.props.addType;await e.prepare({prepare:{type:t,mapId:this.props.mapId,...this.props.addPinProps},clean:!0,run:!0}),this.props.pinAdded()}getHtml(){let e=this.props.text||"+ Add Item";return C.jsxs("div",{onClick:this.createObjType,style:this.props.style,className:this.props.class||this.theme.MCAddButton,children:[e," "]})}}class N5 extends An{constructor(e){super(e),this.state.classKey="MCAttributeItem"}getOption(){return this.state.obj}}class O5 extends $h{constructor(e){super(e),this.state.classKey="MCAttributeItem"}getItemClass(){var i;let e=this.cell,t=e.activeAttribute?e.activeAttribute:"_id";if(this.state.obj.getJson()[t]===((i=e.activeItem)==null?void 0:i.getJson()[t])){let a=e.activeClass?e.activeClass:this.theme.MCActiveItem;this.item.setClass(this.item.getClass()+" "+a)}}additionalPostSetup(){this.getItemClass()}}class L5 extends UC{constructor(e){super(e),this.state.classKey="MCLogoItem"}}class F5 extends An{constructor(e){super(e),this.state.itemType="div"}getList(){return this.list=this.props.cell.links.filter(e=>(e==null?void 0:e.name)!==void 0),this.list}getHome(){var e;if(!this.state.active){this.home=this.list.find(t=>t.path==="/");for(let t of this.list)t.active=(e=this.home)==null?void 0:e.name}}getOption(){let e=this.props.cell.links.filter(t=>(t==null?void 0:t.name)!==void 0&&t.display!==!1);return C.jsx(pn,{list:e,theme:this.cell.linksTheme||"links",mapSectionClass:this.props.cell.linkSectionClass||void 0,mapSectionStyle:this.props.cell.linkSectionStyle||void 0,cells:[{type:"linkItem",class:this.props.cell.linkItemClass||void 0,activeClass:this.props.cell.activeClass||void 0,style:this.props.cell.linkItemStyle||void 0,linkClick:t=>{for(let n of this.props.cell.links)n.active=t==null?void 0:t.name;this.setState({active:t==null?void 0:t.name})}}]})}additionalSetup(){this.getList(),this.getHome()}}class B5 extends An{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.setUpLinks],this.state.classKey="MCLinkItem",this.state.itemType="div"}setUpLinks(){this.cell.to=this.obj.path,this.useId="",this.cell.hasLink=!0}getActiveClass(){return this.activeClass=this.cell.activeClass||this.theme.MCActiveLink,this.activeClass}setActiveClass(){var n,i,a,u,c;const e=((n=this.obj)==null?void 0:n.path)==="/"||((i=this.obj)==null?void 0:i.path)==="/home",t=window.location.pathname;if(e){const h=t.split("/").filter(Boolean);if(h.length>0&&h[0]!=="home")return}if(((a=this.obj)==null?void 0:a.active)===((u=this.obj)==null?void 0:u.name)||t.includes((c=this.obj)==null?void 0:c.path)){let h=this.obj.name===""?"none":this.getActiveClass();h=h||"",this.item.setClass(this.item.getClass()+" "+h)}}additionalSetup(){this.setActiveClass()}getOption(){var e;return(e=this.props.obj)==null?void 0:e.name}}class j5 extends An{constructor(e){super(e),this.state.classKey="MCTextItem"}additionalPostSetup(){this.item.setOnClick(this.cell.logoutFunc||this.APIService.logout)}getOption(){return"logout"}}class M5 extends An{constructor(e){super(e),this.state.classKey="MCOrderedArrows",this.state.increment=1,this.state.decrement=-1}increasePosition(){this.obj.updateOrder(this.state.increment)}decreasePosition(){this.obj.updateOrder(this.state.decrement)}increaseArrowUI(){return this.increaseArrow=C.jsx("div",{className:"upward-arrow",onClick:this.decreasePosition}),this.increaseArrow}decreaseArrowUI(){return this.decreaseArrow=C.jsx("div",{style:{marginTop:"5px"},className:"downward-arrow",onClick:this.increasePosition}),this.decreaseArrow}getOption(){return this.increaseArrowUI(),this.decreaseArrowUI(),C.jsxs("div",{style:{marginTop:"-4px"},className:"fitCC",children:[this.increaseArrow,this.decreaseArrow]})}}class q5 extends An{constructor(e){super(e),this.state.displayState=!1,this.state.itemType="div"}displayOption(){return C.jsx("div",{style:{position:"absolute",left:"0px",top:"0px"},className:this.state.displayState?"downward-arrow":"right-arrow",onClick:()=>{this.wrapper.setStyle({...this.wrapper.getStyle(),height:"200px"}),this.setState({displayState:!this.state.displayState})}})}mapOption(){return C.jsx(pn,{name:this.props.name,filter:{attribute:this.props.filter.attribute,search:this.obj.getJson()._id},cells:[...this.props.cells]})}additionalPostSetup(){this.item.setStyle({...this.item.getStyle(),position:"relative"})}getOption(){return C.jsxs("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[this.displayOption(),"  ",this.state.displayState&&this.mapOption(),"  "]})}}class V5 extends $h{constructor(){super(),this.state.classKey="MCBackgroundItem",this.state.wrapperClass="MCCellBackground",this.state.linkClass="MCBackgroundLink"}additionalPostSetup(){let t={width:"100%",height:"250px",display:"flex",justifyContent:"center",alignItems:"center",color:"white",textAlign:"center",fontSize:"50px",background:`linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(${this.cell.pirSRC||this.obj.getJson()[this.cell.picAttribute||"picURL"]}) no-repeat center center`,backgroundSize:"cover",textDecoration:"none"};this.wrapper.setStyle({...this.wrapper.getStyle(),...t}),this.link.setStyle({...this.wrapper.getStyle(),...t})}}class U5 extends An{constructor(e){super(e),this.state.classKey="MCCustom"}getOption(){return this.cell.custom}}class z5 extends xC{constructor(){super(...arguments);he(this,"factory",{text:b5,attribute:$h,custom:T5,customBuilt:U5,img:UC,form:S5,del:dy,delIcon:lw,delCustom:lw,delText:x5,edit:py,editIcon:I5,editCustom:k5,interactiveMap:R5,addComponentButton:P5,plain:N5,select:O5,logo:L5,links:F5,linkItem:B5,logout:j5,default:pn,map:zC,order:M5,innerMap:q5,backgroundImage:V5})}}class my{constructor(){he(this,"MCMapContainer","Map-Container");he(this,"MCMapSection","Map-Section");he(this,"MCLink","Map-Link");he(this,"MCCell","Map-Cell");he(this,"MCCustomDelItem","Map-Custom-Del-Item");he(this,"MCDelItem","Map-Del-Item");he(this,"MCDelImgItem","Map-Del-imgItem");he(this,"MCCustomEditItem","Map-Custom-Edit-Item");he(this,"MCEditImgItem","Map-Edit-imgItem");he(this,"MCEditItem","Map-Edit-Item");he(this,"MCAttributeItem","Map-Attribute-Item");he(this,"MCImgItem","Map-imgItem");he(this,"MCTextItem","Map-Text-Item");he(this,"MCActiveItem","Map-Active-Item");he(this,"MCCustom","");he(this,"MCBackgroundItem","background-item");he(this,"MCCellBackground","cell-background");he(this,"MCBackgroundLink","cell-background");he(this,"MCLogoItem","navLogo")}}class Gh extends my{constructor(){super(...arguments);he(this,"MCSectionHover","DC-Map-Section:hover");he(this,"MCCustomDelItem","DC-Custom-Del-Item");he(this,"MCDelItem","DC-Del-Item");he(this,"MCDelImgItem","DC-Del-imgItem");he(this,"MCCustomEditItem","Map-Custom-Edit-Item");he(this,"MCEditImgItem","DC-Edit-imgItem");he(this,"MCEditItem","DC-Edit-Item")}}class Wh extends Gh{constructor(){super(...arguments);he(this,"MCMapContainer","DR-Map-Container");he(this,"MCMapSection","DR-Map-Section")}}class H5 extends Wh{constructor(){super(...arguments);he(this,"MCMapContainer","DRW-Map-Container")}}class $5 extends Wh{constructor(){super(...arguments);he(this,"MCMapContainer","IM-Map-Container");he(this,"MCMapSection","IM-Map-Section");he(this,"MCMap","IM-Map");he(this,"MCAddButton","IM-addButton");he(this,"MCActiveItem","IM-Active-Item");he(this,"MCCell","IM-Cell")}}class G5 extends Wh{constructor(){super(...arguments);he(this,"MCActiveLink",this.MCActiveItem);he(this,"MCLinkItem",this.MCLink);he(this,"MCMapSection","SB-Map-Section")}}class W5 extends Gh{constructor(){super(...arguments);he(this,"MCActiveLink",this.MCActiveItem);he(this,"MCLinkItem",this.MCLink);he(this,"MCMapSection","SB-link");he(this,"MCCell","SB-Cell-Link");he(this,"MCLink","SB-Map-Link");he(this,"MCLinkItem","SB-Map-Link")}}class K5 extends Gh{constructor(){super(...arguments);he(this,"MCActiveLink",this.MCActiveItem);he(this,"MCLinkItem",this.MCLink)}}const J5=Object.freeze(Object.defineProperty({__proto__:null,DefaultColumn:Gh,DefaultRegistry:my,DefaultRow:Wh,DefaultWrapRow:H5,InteractiveMap:$5,Links:W5,SideBar:G5,TopBar:K5},Symbol.toStringTag,{value:"Module"}));class Q5 extends ay{constructor(){super(J5),this.factory.default=my}}class Y5{constructor(){he(this,"factory",{text:ju,tag:HC,plain:t4,textAndTag:e4,textAndTag2:Z5,bool:r4,textAttributeList:n4})}getFilter(e){if(e)return this.factory[e]}registerFilter(e,t){this.factory[e]=t}}function HC(r){let{list:e,attribute:t,tagList:n}=r;return e.length>0&&(e=e.filter(i=>!!n.find(u=>(t?u.getJson()[t]:u.getJson().connectedId)===i.getJson()._id))),e}function X5(r){let e=[];if(r.search&&r.list){const t=r.search.toLowerCase().split(" ").map(n=>n.trim());e=r.list.filter(n=>{const i=n.getJson()[r.attribute||"tags"];if(i){let a=i.split(r.splitStr||",");a=a.map(u=>u.toLowerCase());for(let u of t)if(a.includes(u))return!0}else return!1})}return e}function Z5(r){let{list:e,attributes:t,search:n}=r,i=[],a=[],u=t.split(",");for(let h of u)a.push(ju({...r,attribute:h}));let c=X5({...r});return i=[...a[0],...c,...a[1],...a[2]],i=gy(i),i}function e4(r){let{list:e,attribute:t,tagList:n,attribute2:i,attributeTag:a,search:u}=r,c=ju({...r,attribute:t}),h=HC({...r,attribute:a}),d=ju({...r,attribute:i});return e=[...c,...h,...d],gy(e)}function gy(r){const e=new Map;return r.forEach(t=>{const i=t.getJson()._id;e.has(i)||e.set(i,t)}),Array.from(e.values())}function ju(r){let{list:e,attribute:t,search:n}=r;return n&&n.length>0&&(e=e.filter(i=>{var a;return(a=i.getJson()[t])==null?void 0:a.toLowerCase().includes(n==null?void 0:n.toLowerCase())})),e}function t4(r){let{list:e,attribute:t,search:n}=r;return n&&n.length>0&&(e=e.filter(i=>{var a;return(a=i[t])==null?void 0:a.toLowerCase().includes(n==null?void 0:n.toLowerCase())})),e}function n4(r){let{attributeList:e}=r,t=[];for(let n of e)t=[...t,...ju({...r,attribute:n})];return t=gy(t),t}function r4(r){let{list:e,attribute:t,search:n}=r;return e=e.filter(i=>i.getJson()[t]===n),e}class $C extends ya{constructor(){super();he(this,"FilterFactory");this.getFilterFactory(),this.mainFunc=this.getMapComponent}getFactory(){return this.factory===void 0&&(this.factory=new z5),this.factory}getThemeFactory(){return this.themeFactory===void 0&&(this.themeFactory=new Q5),this.themeFactory}getFilterFactory(){return this.filterFactory===void 0&&(this.filterFactory=new Y5),this.filterFactory}getMapComponent(t,n){return n=n||"default",this.factory.getComponent(n,t)}}class pn extends hy{constructor(e){super(e),this.state={type:"map"},this.interface=GC}setFilterInfo(){this.filterFacotry=this.interface.getFilterFactory(),this.filters=this.props.filters,this.filterFunc=this.props.filterFunc,this.filter=this.props.filter}getFilterFunc(){var e;if(!this.filterFunc&&this.filters!==void 0){let t=(e=this.filters)==null?void 0:e.find(n=>n.type==="filterFunc");t&&(this.filterFunc=t.func)}}getFilter(){var e;if(!this.filter&&this.filters!==void 0){let t=(e=this.filters)==null?void 0:e.find(n=>n.type==="filter");t&&(this.filter={...t})}}getList(){var t,n,i,a;let e=this.props.name;this.list=this.props.list?this.props.list:this.filter?(i=this.componentList)==null?void 0:i.getList(e,(t=this.filter)==null?void 0:t.search,(n=this.filter)==null?void 0:n.attribute):(a=this.componentList)==null?void 0:a.getList(e)}filterListByFilterFunc(){this.list&&(this.list=this.list.filter(e=>this.filterFunc?this.filterFunc(e):!0))}filterListByFilterFactory(){if(this.filters)for(let e of this.filters){let t=this.filterFacotry.getFilter(e.type);t&&(this.list=t({list:this.list,...e}))}}setProps(){let e=this.props.cells;this.addToProps={cells:e,list:this.list}}componentPreSetup(){this.addToInitialSetup=[this.setFilterInfo,this.getFilterFunc,this.getFilter,this.getList,this.filterListByFilterFunc,this.filterListByFilterFactory]}}const GC=new $C;class WC extends nt{constructor(e){super(e),this.initialPropsSetupFunctions=[...this.initialPropsSetupFunctions,this.getNavLists],this.state={}}getLinks(){var e,t;return this.props.links?this.props.links:(t=(e=this.props.app)==null?void 0:e.state)==null?void 0:t.routes}getDefaultNavItem(e){return{logo:{imgSrc:this.props.logoURL,label:this.props.logoLabel,...this.props},links:{links:this.getLinks(),...this.props,class:"fit"},logout:{logoutFunc:this.props.logoutFunc,auth:this.props.auth,wrapperClass:"SB-logout",...this.props}}[e]}getList(){let e=this.props.navList,t=e.getList();for(let n=0;n<t.length;n++)if(t[n].default){let i=this.getDefaultNavItem(t[n].type);i.type=t[n].type,e.update(n,i)}return this.props.type==="topBar"&&(t=t.filter(n=>n.type!=="links")),t}getHtml(){return C.jsx(pn,{theme:this.props.mapTheme,list:this.mapList,cells:this.list,...this.props.navMapProps})}getNavLists(){this.list=this.props.list?this.props.list:this.getList(),this.mapList=this.props.mapList?this.props.mapList:[{}]}}class i4{constructor(){he(this,"factory",{default:WC})}getComponent(e,t){let n;return this.factory[e]&&(n=this.factory[e]),C.jsx(n,{...t})}registerComponent(e,t){this.factory[e]=t}}class s4 extends nt{constructor(e){super(e),this.state={defaultStyle:"navMenu",renderComp:void 0}}async open(){let e=await this.props.open();this.props.type==="topBar"&&(this.state.renderComp?this.setState({renderComp:void 0}):this.setState({renderComp:e}))}render(){return this.props.app,C.jsxs("div",{children:[C.jsxs("div",{onClick:this.open,className:this.props.menuClass?this.props.menuClass:this.state.defaultStyle,children:[this.props.menuContent&&C.jsx(C.Fragment,{children:this.props.menuContent})," "]}),this.state.renderComp&&C.jsx(C.Fragment,{children:this.state.renderComp})]})}}class o4 extends dn{constructor(e){super(e),this.state={...this.state,defaultType:this.props.type?this.props.type:"sideBar",typeKey:"layout",defaultNavType:"default",phoneSize:850,left:-400}}getProps(){var e,t;return{mapTheme:this.props.mapTheme||this.state.defaultType,links:this.props.links||((t=(e=this.props.app)==null?void 0:e.state)==null?void 0:t.routes),...this.props}}getFactoryComponent(e){let t=this.props.mapType?this.props.mapType:this.state.defaultNavType;return this.props.factory.getComponent(t,e)}componentDidMount(){this.resize!==void 0&&(window.addEventListener("resize",this.resize),this.resize())}componentWillUnmount(){this.resize!==void 0&&window.removeEventListener("resize",this.resize)}resize(){if(window.innerWidth<850){this.setState({phone:!0,tablet:!1,defaultType:this.props.phoneLayout?this.props.phoneLayout:this.state.ogType?this.state.ogType:this.state.defaultType,ogType:this.state.ogType?this.state.ogType:this.state.defaultType});return}if(window.innerWidth<1224){this.setState({phone:!1,tablet:!0,defaultType:this.props.tabletLayout?this.props.tabletLayout:this.state.ogType?this.state.ogType:this.state.defaultType,ogType:this.state.ogType?this.state.ogType:this.state.defaultType});return}window.innerWidth>1224&&(this.state.phone&&this.setState({phone:!1,defaultType:this.state.ogType}),this.state.tablet&&this.setState({tablet:!1,defaultType:this.state.ogType}))}async setStyleOnMenuClick(e){const t=n=>new Promise(i=>setTimeout(i,n));this.card.setStyle({...this.card.getStyle(),left:e.toString()+"px"}),await this.setState({left:e}),await t(10)}async setNavOpenClose(){if(this.state.left===-400)for(let e=-400;e<600;e=e+15){if(e>0){this.setState({left:0});break}await this.setStyleOnMenuClick(e)}else for(let e=0;e>-450;e=e-15){if(e<-400){this.setState({left:-400});break}await this.setStyleOnMenuClick(e)}}async openCloseLinks(){var n,i;let e=C.jsx(pn,{list:this.props.links||((i=(n=this.props.app)==null?void 0:n.state)==null?void 0:i.routes),cells:[{type:"link"}]});return C.jsx(dn,{content:e})}async openCloseNavFun(){return await{topBar:this.openCloseLinks,sideBar:this.setNavOpenClose}[this.state.defaultType]()}getMenu(){return this.props.menuComponent?C.jsx(this.props.menuComponent,{...this.props.menuComponentProps,open:this.openCloseNavFun,type:this.state.defaultType}):C.jsx(s4,{open:this.openCloseNavFun,type:this.state.defaultType,...this.props.menuComponentProps})}getContent(){let e=this.getProps(),t=this.getFactoryComponent(e);return this.content=C.jsxs(C.Fragment,{children:[t,this.props.type!=="type"&&(this.state.phone||window.innerWidth<this.state.phoneSize)&&C.jsx(C.Fragment,{children:this.getMenu()})]}),this.content}}class a4{constructor(){En.bind(this),this.list=[{type:"logo",picURL:void 0,label:void 0,default:!0},{type:"links",linkJson:void 0,default:!0},{type:"logout",logoutFunc:void 0,auth:void 0,default:!0}]}setList(e){this.list=e}getList(){return this.list}insert(e,t){if(e<0||e>=this.list.length){console.error("Index out of bounds");return}this.list.splice(e,0,t)}add(e,t){t?this.list.unshift(e):this.list.push(e)}addCustomJSX(e,t,n){let i={type:"custom",custom:e};t?this.insert(t,i):this.add(i,n)}update(e,t){if(e<0||e>=this.list.length){console.error("Index out of bounds");return}this.list[e]={...this.list[e],...t}}remove(e){if(e<0||e>=this.list.length){console.error("Index out of bounds");return}this.list.splice(e,1)}}class KC extends ya{constructor(){super();he(this,"factory");he(this,"navList");En.bind(this),this.getFactory(),this.getNavList(),this.mainFunc=this.getNav}getFactory(){return this.factory||(this.factory=new i4),this.factory}getNav(t){return C.jsx(o4,{factory:this.factory,navInterface:this,navList:this.navList,...t})}getNewNavList(){return new a4}setNavListForce(t){this.navList=t}getNavList(){return this.navList||(this.navList=this.getNewNavList()),this.navList}}const sh=new KC;class u4 extends hy{constructor(e){super(e),this.interface=sh}}class l4{constructor(){he(this,"factory",{})}getComponent(e){return this.factory[e]}registerComponent(e,t){this.factory[e]=t}}class c4 extends l4{constructor(){super(...arguments);he(this,"factory",{})}}class h4 extends nt{constructor(e){super(e),this.state={}}checkPopupSwitch(e){var t,n;return this.popupSwitch=this.props.popupSwitch||((n=(t=this.props.app)==null?void 0:t.state)==null?void 0:n.popupSwitch),this.popupSwitch!==""&&this.popupSwitch!==void 0&&(e=!0),e}checkType(e){var i,a,u,c,h;let t=this.props.currentPopupComponent||((a=(i=this.props.app)==null?void 0:i.state)==null?void 0:a.currentPopupComponent),n=(u=this.popupFactory.getComponent(this.popupSwitch))==null?void 0:u.componentType;return n&&(t=this.isArray(t),e=((h=(c=t[0])==null?void 0:c.getJson())==null?void 0:h.type)===n&&t.length>0),e}render(){var n;let e=this.checkPopupSwitch(!1);e&&(e=this.checkType(e)),this.popupFactory=this.props.factory||this.props.app.state.popupFactory;let t=(n=this.popupFactory)==null?void 0:n.getComponent(this.popupSwitch);return C.jsx(C.Fragment,{children:e&&(t==null?void 0:t.content)&&C.jsx(dn,{content:C.jsx(t.content,{}),popup:!0,type:t.popupType||"biggerCard",theme:t.popupTheme||"Default",handleClose:()=>{if(t.handleClose)t.handleClose();else{let i=this.props.app.state.currentPopupComponent;i&&this.props.app.state.operationsFactory.removeFromList(i),this.props.app.dispatch({currentPopupComponent:void 0,popupSwitch:void 0})}}})})}}class f4 extends ya{constructor(){super();he(this,"factory");En.bind(this),this.getFactory()}getFactory(){return this.factory||(this.factory=new c4),this.factory}createPopupMachine(t){return C.jsx(h4,{app:(t==null?void 0:t.app)||this.getAppComponent(),factory:this.factory})}}let cw=new f4;class d4{constructor(){he(this,"convertStringToLink",e=>e&&(!e.startsWith("http://")&&!e.startsWith("https://")?"https://"+e:e))}isLikelyUrl(e){return/\.(com|net|org|io|gov|edu|co)\b/.test(e)||/^(?:f|ht)tps?\:\/\//.test(e)||/^mailto\:/i.test(e)}checkURLforString(e){return window.location.href.includes(e)}getIdFromURL(e,t){let i=window.location.href.split("/"),a=i[i.length-1],u=e?a.split("-"):[a];return t?u[t]:u[0]}getTypeFromURL(){let t=window.location.href.split("/");return t[t.length-2]}}let oh=new d4;class JC extends nt{constructor(t,n){super(t);he(this,"dispatchItems",{});this.state={...this.state,type:n==null?void 0:n.type,ids:n==null?void 0:n.ids,filterKeys:n==null?void 0:n.filterKeys,path:n==null?void 0:n.path,snapShot:n==null?void 0:n.snapShot,owner:!0},(n==null?void 0:n.owner)===!1&&(this.state.owner=!1)}async getComponentsFromBackend(){let{type:t,ids:n,filterKeys:i,path:a,snapShot:u,owner:c}=this.state;this.compList=await this.componentList.getList(t,n,i),this.compList.length>0&&await this.setState({gotComponents:!0}),this.compList=await this.componentList.getComponentsFromBackend({type:t,ids:n,filterKeys:i,path:a,snapShot:u,owner:c}),this.setState({gotComponents:!0,getComponentsFromBackend:!0,components:this.compList,urlId:n})}async componentDidMount(){this.getComponentsFromBackend();let t=this;window.addEventListener("popstate",function(n){t.onBackClick(n)})}onBackClick(t){this.getComponentsFromBackend()}componentDidUpdate(){this.getComponentsAgain()}async getComponentsAgain(t,n){this.getFromURL(),(this.app.state.urlChange||this.state.reRender&&this.urlId!==this.state.urlId)&&(await this.setState({urlId:this.urlId}),await this.dispatch({urlChange:void 0}),this.forceRerender=!1,this.getComponentsFromBackend())}async getFromURL(){this.urlType=oh.getTypeFromURL(),this.urlId=oh.getIdFromURL()}}class _a extends JC{constructor(t,n){super(t,n);he(this,"dispatchItems",{});this.state={...this.state,type:n==null?void 0:n.type,ids:n==null?void 0:n.ids,filterKeys:n==null?void 0:n.filterKeys,path:n==null?void 0:n.path,snapShot:n==null?void 0:n.snapShot,owner:n==null?void 0:n.owner},(n==null?void 0:n.owner)===!1&&(this.state.owner=!1)}async getComponentsFromBackend(){let{type:t,ids:n,filterKeys:i,path:a,snapShot:u,owner:c}=this.state;this.compList=await this.componentList.getComponents(),this.compList.length>0&&await this.setState({gotComponents:!0}),this.compList=await this.componentList.getComponentsFromBackend({type:this.state.owner,ids:n,filterKeys:i,path:a,snapShot:u,typeAttribute:"owner"}),this.setState({gotComponents:!0,getComponentsFromBackend:!0,components:this.compList,urlId:n})}}class QC extends JC{async getComponentsFromBackend(){await this.getFromURL(),await this.getFirstComponent(),this.comp&&await this.getAssociatedItems(),this.setGotComponents()}async getFirstComponent(e,t){let n=e||this.urlType,i=t||this.urlId;this.comp=this.componentList.getComponent(n,i),this.comp||(this.comp=await this.componentList.getComponentsFromBackend({type:n,ids:i,filterKeys:"_id",owner:this.state.owner}),this.comp=this.comp.length>0?this.comp[0]:void 0)}async getAssociatedItems(){this.compList=await this.comp.getAssociatedItems(this.state.itemTypes),this.compList.length>0&&this.setState({gotComponents:!0}),this.compList=await this.comp.getAssociatedItemsFromBackend(this.state.itemTypes),await this.setCurrentItems()}setCurrentItems(){this.dispatch({currentComponent:this.comp,["current"+this.getCapitalFirstLetter(this.comp.getJson().type)]:this.comp,...this.dispatchItems})}setGotComponents(){this.setState({gotComponents:!0,gotComponentsFromBackend:!0,components:this.compList,urlId:this.urlId})}}class YC extends nt{constructor(e){super(e),this.state={...this.state,email:"",password:""}}validate(){return!0}onChange(e){let{name:t,value:n}=e.target;this.setState({[t]:n})}onSub(){this.validate()&&this.APIService.login(this.state.email,this.state.password)}getSwitchLink(){return C.jsxs("div",{id:"signUpFT",children:["Don't have an Account? ",C.jsx(hn,{to:"/register",children:"Sign Up"})]})}preSetup(){this.setComponents(["container","header","form","submitButton"])}getHeaderHtml(){return this.header.getHtml({type:"h1",content:"Login"})}getFormHtml(){let e=C.jsxs(C.Fragment,{children:[C.jsx("div",{children:"Email"}),C.jsx("input",{className:"defaultInputFormAuth",name:"email",onChange:this.onChange,value:this.state.email}),C.jsx("div",{style:{marginTop:"10px"},children:"Password"}),C.jsx("input",{className:"defaultInputFormAuth",name:"password",type:"password",onChange:this.onChange,value:this.state.password})]});return this.form.setClass("defaultLoginForm"),this.form.getHtml({type:"div",content:e})}getSubmitHtml(){return this.submitButton.setClass("defaultLoginButton"),this.submitButton.setOnClick(this.onSub),this.submitButton.getHtml({type:"div",content:"Submit"})}getContainerHtml(){this.container.setClass(this.props.loginContainer||"fitCC");let e=C.jsxs(C.Fragment,{children:[this.getHeaderHtml(),this.getFormHtml(),this.getSubmitHtml(),this.getSwitchLink()]});return this.container.getHtml({type:"div",content:e})}getHtml(){let e=this.getContainerHtml();return C.jsx("div",{className:"fullCCLayoutRow",children:C.jsx(dn,{type:this.props.loginCardType||"biggerCard",content:e})})}}class p4 extends YC{async onSub(){if(this.validate()){let e=await this.APIService.register(this.state.email,this.state.password);if(!e.error){let t={type:"user",email:this.state.email,_id:this.state.email};e=await this.componentList.addComponents(t),window.history.pushState({},"","/"),this.dispatch({currentUser:e})}}}getHeaderHtml(){return this.header.getHtml({type:"h1",content:"Register"})}getSwitchLink(){return C.jsxs("div",{children:["Have an Account? ",C.jsx(hn,{to:"/login",children:"Login"})]})}}class m4 extends nt{constructor(e){super(e),this.state={...this.state,routes:[],loginComp:YC,registerComp:p4}}addToRouter(e){let t=[...this.state.routes,e];this.setState({routes:t})}getRouteMap(e,t){let n=C.jsx(C.Fragment,{});return e&&(e=[...e],n=e==null?void 0:e.map((i,a)=>(i.path||(i.path=this.classNameToString(i.comp),a===0&&(i.path="/")),C.jsxs(C.Fragment,{children:[C.jsx(Wo,{path:i.path,element:C.jsx(i.comp,{props:{...t,...i.props}})}),C.jsx(Wo,{path:i.path+"/:id",element:C.jsx(i.idComp,{props:{...t,...i.props}})})]})))),n}getRoutes(e,t){var i;let n=C.jsxs(C_,{children:[this.getRouteMap(e,t),this.state.routes.map((a,u)=>C.jsx(C.Fragment,{children:a}))]});return(i=this.app)!=null&&i.state.currentUser||(n=this.getUserAuthRoutes(t)),n}getUserAuthRoutes(e){let t=e.loginComp||this.state.loginComp,n=e.registerComp||this.state.registerComp;return C.jsxs(C_,{children:[C.jsx(Wo,{path:"/",element:C.jsx(t,{props:{...e}})}),C.jsx(Wo,{path:"/login",element:C.jsx(t,{props:{...e}})}),C.jsx(Wo,{path:"/register",element:C.jsx(n,{props:{...e}})})]})}getHtml(){var a;let e={...this.props};e.app=this.app;let t=(a=this.app)==null?void 0:a.state,n=this.props.routes||(t==null?void 0:t.routes),i=this.getRoutes(n,e);return C.jsx(C.Fragment,{children:i})}}class g4{constructor(){he(this,"registry",{})}getRegistry(){return this.registry}addToRegistry(e,t){this.registry[e]=t}getItemFromRegistry(e){return this.registry[e]}}class y4 extends nt{constructor(t,n,i){super(t);he(this,"endpoint");he(this,"db");he(this,"storage");he(this,"auth");he(this,"popupComponents");he(this,"popupComponentsProps");n=this.props.config||n,this.popupComponents=this.props.popupComponents,this.componentListInterface=new H3(this.dispatch,n.endpoint,n.db,n.storage,n.auth),this.componentList=this.componentListInterface.createComponentList(),this.factory=this.componentListInterface.getFactory(),this.operationsFactory=this.componentList.getOperationsFactory(),this.interfaceRegistry=new g4,this.initialPropsSetupFunctions=[this.propogateApp,...this.initialPropsSetupFunctions],this.state={componentList:this.componentList,componentListInterface:this.componentListInterface,operationsFactory:this.operationsFactory,factory:this.factory,theme:this.props.theme||"default",pageClass:this.props.pageClass||"fullScreen",pageStyle:this.props.pageStyle,extraRouteKey:this.props.extraRouteKey||"extraRoutes",navBarProps:this.props.NavBarProps||{},popupFactory:cw.getFactory(),popups:this.props.popups||[],global:this.props.global||{},routes:this.props.routes||[]},i&&this.registerListWithFactory(i)}async checkForUser(){let t=await this.APIService.getCurrentUser();t&&await this.APIService.checkIfLoggedIn()&&this.APIService.getuser(t.email)}componentDidMount(){this.checkForUser()}registerListWithFactory(t){for(let n of t){let a=new n().getJson().type;this.factory.registerComponents({name:a,component:n}),this.createPopupDefaultsByType(a)}}createPopupDefaultsByType(t){var n;if((n=this.popupComponents)!=null&&n[t]){let i=this.getCapitalFirstLetter(t),a={content:this.popupComponents[t],popupSwitch:"add"+i,componentType:t},u={...a,popupSwitch:"update"+i};this.state.popups=[...this.state.popups,a,u]}}dispatch(t){t=t||{},this.setState({...t})}setPopups(){for(let t of this.state.popups){let n=t.componentType;n&&(t={...t,...this.popupComponentsProps[n]}),t.popupSwitch||(t.popupSwitch=this.classNameToString(t.content)),this.state.popupFactory.registerComponent(t.popupSwitch,t)}}propogateApp(){this.app={state:this.state,dispatch:this.dispatch.bind(this),...this.state.global},GC.setAppComponent(this.app),qC.setAppComponent(this.app),TC.setAppComponent(this.app),sh.setAppComponent(this.app),bC.setAppComponent(this.app)}getHtml(t){this.setPopups();let n=[...this.state.routes];return this.state[this.state.extraRouteKey]&&(n=[...n,...this.state[this.state.extraRouteKey]]),C.jsx("div",{className:this.state.pageClass,style:this.state.pageStyle,children:C.jsxs(b3,{children:[cw.createPopupMachine({app:this.app}),this.state.currentUser&&C.jsx(u4,{...this.state.navBarProps}),t?C.jsx(t.content,{props:{...t.props}}):C.jsx(C.Fragment,{}),C.jsx(m4,{routes:n})]})})}}class XC extends ay{constructor(){super(...arguments);he(this,"factory",{form:MC,map:$C,nav:KC})}}new XC;new XC;class $r extends j3{constructor(t){super(t);he(this,"json",{...this.json,type:"",name:"",owner:"",picURL:""})}}class v4 extends $r{constructor(){super(...arguments);he(this,"json",{...this.json,type:"user"})}}class _4 extends $r{constructor(){super(...arguments);he(this,"json",{...this.json,type:"contact",phone:"",autoAI:!0,email:"",title:"",company:"",mobile:"",firstName:"",lastName:"",address:"",city:"",state:"",zip:"",source:"",finishedSequenceTags:"",tags:"",conversationIds:[]})}}let w4=class extends $r{constructor(){super(...arguments);he(this,"json",{...this.json,type:"conversation",contactIds:[]})}};class E4 extends $r{constructor(){super(...arguments);he(this,"json",{...this.json,type:"template",content:""})}}class A4 extends $r{constructor(){super(...arguments);he(this,"json",{...this.json,type:"sequence",steps:[],finished:0,replyRate:0,limit:"20"})}}class C4 extends $r{constructor(){super(...arguments);he(this,"json",{...this.json,type:"step",delay:0,messageId:""})}}class ZC extends $r{constructor(){super(...arguments);he(this,"json",{...this.json,conversationIds:[],ownerMessage:!1})}}class b4 extends ZC{constructor(){super(...arguments);he(this,"json",{...this.json,type:"textMessage",content:"",timestamp:""})}}class T4 extends ZC{constructor(){super(...arguments);he(this,"json",{...this.json,type:"email",subject:"",body:"",timeStamp:""})}}class S4 extends $r{constructor(){super(...arguments);he(this,"json",{...this.json,type:"potentialProspect",phone:"",email:"",researchId:"",conversationIds:[]})}}class x4 extends $r{constructor(){super(...arguments);he(this,"json",{...this.json,type:"research",searchFrequency:"",AIPrompt:""})}}class D4 extends $r{constructor(){super(...arguments);he(this,"json",{...this.json,type:"aiSettings",autoAI:""})}}const I4=Object.freeze(Object.defineProperty({__proto__:null,AISettings:D4,Contact:_4,Conversations:w4,Email:T4,PotentialProspect:S4,Research:x4,Sequence:A4,Step:C4,Template:E4,TextMessage:b4,User:v4},Symbol.toStringTag,{value:"Module"})),k4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23505050'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M20%204H4c-1.1%200-1.99.9-1.99%202L2%2018c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V6c0-1.1-.9-2-2-2zm0%204l-8%205-8-5V6l8%205%208-5v2z'/%3e%3c/svg%3e",R4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23505050'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M20.01%2015.38c-1.23%200-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57%201.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53%200-.54-.45-.99-.99-.99H4.19C3.65%203%203%203.24%203%203.99%203%2013.28%2010.73%2021%2020.01%2021c.71%200%20.99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z'/%3e%3c/svg%3e";class eb extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}formatDate(e){const t=new Date((e==null?void 0:e.seconds)*1e3+(e==null?void 0:e.nanoseconds)/1e6),i=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],a=t.getDate(),u=t.getFullYear();return`${i} ${a}, ${u}`}render(){var h,d,y,g,p,v,A,b,E;let e=window.innerWidth>600;(h=this.propsState.popupSwitch)!=null&&h.includes("addContact")&&(e=!1);let t=e?this.propsState.currentContact:this.props.obj,n=t&&(t!=null&&t.getJson().date)?this.formatDate(t==null?void 0:t.getJson().date):"";const i=e?this.propsState.currentContact:this.propsState.currentPopupComponent,a=!e;let u=t?"Edit":"Add",c=C.jsx(to,{formClass:"dark-button-1",content:"Save",isPopup:a,callbackFunc:this.props.callbackFunc});return((d=this.propsState.popupSwitch)!=null&&d.includes("updateContact")||window.innerWidth>600&&!((y=this.propsState.popupSwitch)!=null&&y.includes("addContact")))&&(c=C.jsx(fy,{formClass:"dark-button-1",obj:i,content:"Save",isPopup:a,callbackFunc:this.props.callbackFunc})),C.jsxs(C.Fragment,{children:[C.jsxs("h2",{style:{position:"sticky",top:0,padding:"2%",width:"80%"},children:[u," Contact"]}),t&&C.jsxs("h3",{style:{padding:"10px",font:"normal normal 900 15px/16px Satoshi"},children:[t.getJson().firstName," ",t.getJson().lastName]}),C.jsxs("div",{style:{padding:"2%",paddingBottom:"80px",height:"100%",paddingTop:"12px"},className:this.props.pageClass||this.state.defaultClass,children:[C.jsxs("div",{className:"contact-Add-container",children:[C.jsxs("div",{className:"contact-contact-data",children:[C.jsxs("div",{className:`row-container ${t!=null&&t.getJson().firstName?"":"unfilled-container"}`,children:[C.jsx("div",{className:"row-name",children:"First Name:"}),C.jsx("div",{className:"row-field",children:C.jsx(ft,{obj:t,formClass:"underline-form",name:"firstName",placeholder:"FirstName",inPopup:a})})]}),C.jsxs("div",{className:`row-container ${t!=null&&t.getJson().lastName?"":"unfilled-container"}`,children:[C.jsx("div",{className:"row-name",children:"Last Name:"}),C.jsx("div",{className:"row-field",children:C.jsx(ft,{obj:t,placeholder:"LastName",formClass:"underline-form",name:"lastName",inPopup:a})})]}),C.jsxs("div",{className:`row-container ${t!=null&&t.getJson().email?"":"unfilled-container"}`,children:[C.jsx("div",{className:"row-name",children:C.jsx("span",{children:C.jsx("img",{src:k4,className:"contact-img-ico"})})}),C.jsx("div",{className:"row-field",children:C.jsx(ft,{formClass:"underline-form",obj:t,name:"email",inPopup:a,placeholder:"1234@mail.com"})})]}),C.jsxs("div",{className:`row-container ${t!=null&&t.getJson().mobile?"":"unfilled-container"}`,children:[C.jsx("div",{className:"row-name",children:C.jsx("span",{children:C.jsx("img",{src:R4,className:"contact-img-ico"})})}),C.jsx("div",{className:"row-field",children:C.jsx(ft,{formClass:"underline-form",obj:t,name:"mobile",inPopup:a,placeholder:"XXX-XXX-XXXX"})})]}),C.jsxs("div",{className:`row-container ${t!=null&&t.getJson().company?"":"unfilled-container"}`,style:{marginTop:"24px"},children:[C.jsx("div",{className:"row-name",children:"Company:"}),C.jsx("div",{className:"row-field",children:C.jsx(ft,{formClass:"underline-form",obj:t,name:"company",inPopup:a,placeholder:"SalesCapture AI"})})]}),C.jsxs("div",{className:`row-container ${t!=null&&t.getJson().title?"":"unfilled-container"}`,children:[C.jsx("div",{className:"row-name",children:"Title:"}),C.jsx("div",{className:"row-field",children:C.jsx(ft,{formClass:"underline-form",obj:t,placeholder:"ie. Vice President of People",name:"title",inPopup:a})})]}),t&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:`row-container ${t!=null&&t.getJson().address?"":"unfilled-container"}`,style:{marginTop:"24px"},children:[C.jsx("div",{className:"row-name",children:"Address:"}),C.jsx("div",{className:"row-field",children:C.jsx(ft,{formClass:"underline-form",obj:t,name:"address",inPopup:a,placeholder:"123 Street Way"})})]}),C.jsxs("div",{className:`row-container ${t!=null&&t.getJson().city?"":"unfilled-container"}`,children:[C.jsx("div",{className:"row-name",children:"City:"}),C.jsx("div",{className:"row-field",children:C.jsx(ft,{formClass:"underline-form",obj:t,name:"city",inPopup:a,placeholder:"Sales Lake City"})})]}),C.jsxs("div",{className:`row-container ${t!=null&&t.getJson().state?"":"unfilled-container"}`,children:[C.jsx("div",{className:"row-name",children:"State:"}),C.jsx("div",{className:"row-field",children:C.jsx(ft,{formClass:"underline-form",obj:t,name:"state",inPopup:a,placeholder:"State/Territory"})})]}),C.jsxs("div",{className:`row-container ${t!=null&&t.getJson().zip?"":"unfilled-container"}`,children:[C.jsx("div",{className:"row-name",children:"ZIPcode:"}),C.jsx("div",{className:"row-field",children:C.jsx(ft,{formClass:"underline-form",obj:t,name:"zip",inPopup:a,placeholder:"ZIP"})})]})]})]}),C.jsxs("div",{className:"contact-contact-data",children:[C.jsxs("div",{className:`row-container ${t!=null&&t.getJson().source?"":"unfilled-container"}`,children:[C.jsx("div",{className:"row-name",children:"Lead Source:"}),C.jsx("div",{className:"row-field",children:C.jsx(ft,{formClass:"underline-form",obj:t,name:"source",inPopup:a,placeholder:"unknown"})})]}),C.jsxs("div",{className:"row-container",title:"Comma separated",children:[C.jsx("div",{className:"row-name",style:{width:"fit-content"},children:"Tags:"}),C.jsx("div",{className:"row-field",title:"comma seperated",children:C.jsx(ft,{formClass:"underline-form",obj:t,placeholder:"ie. contacted, tag1, tag3",name:"tags",inPopup:a})})]}),C.jsxs("div",{className:"row-container",style:{flexDirection:"column",marginTop:"12px"},children:[C.jsx("div",{className:"row-name",style:{borderRight:"none"},children:"Notes"}),C.jsx("div",{children:C.jsx(ft,{obj:t,type:"quill",name:"notes",inPopup:a})})]}),t&&(t==null?void 0:t.getJson().date)&&C.jsx(C.Fragment,{children:C.jsxs("div",{className:"row-container",style:{flexDirection:"column",marginTop:"12px"},children:[C.jsx("div",{className:"row-name",style:{borderRight:"none"},children:"Contact Create Date"}),C.jsx("div",{style:{fontSize:"14px"},children:n})]})})]}),C.jsxs("div",{style:{paddingBottom:"20px",width:"100%",display:"flex",justifyContent:"flex-end",alignContent:"flex-end",gap:"8px"},children:[C.jsx("div",{style:{marginRight:"0px"}}),!((p=(g=this.propsState)==null?void 0:g.currentContact)!=null&&p.getJson().finished)&&!((A=(v=this.propsState)==null?void 0:v.popupSwitch)!=null&&A.includes("add"))?C.jsx("div",{onClick:()=>{var w;if((w=this.propsState.currentContact)==null||w.setCompState({autoAI:!1},{run:!0},!0),sequence){let S=parseInt(sequence.getJson().finished)+1;sequence.setCompState({finished:S}),sequence.update()}},className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Turn off AI"}):C.jsx("div",{onClick:()=>{var w;(w=this.propsState.currentContact)==null||w.setCompState({autoAI:!0},{run:!0},!0)},className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Turn on AI"}),!((b=this.propsState.currentContact)!=null&&b.getJson().finished)&&C.jsxs(C.Fragment,{children:[" ",!((E=this.propsState.currentContact)!=null&&E.getJson().finished)&&C.jsx("div",{onClick:()=>{var P,T,j;(P=this.propsState.currentContact)==null||P.setCompState({finished:!0}),(T=this.propsState.currentContact)==null||T.update();let w=this.componentList.getComponent("sequence",(j=this.propsState.currentContact)==null?void 0:j.getJson().sequenceId),S=parseInt(w==null?void 0:w.getJson().finished)+1;w.setCompState({finished:S}),w.update()},className:"dark-button-1",style:{position:"relative",width:"fit-content",height:"fit-content"},children:"Remove From Sequence"})]}),c]})]})," "]})]})}}class Kh extends nt{constructor(e){super(e),this.state={...this.state,checked:!1,activeBool:!1}}componentDidMount(){this.checkIfActive()}async componentDidUpdate(e,t){var i,a;let n=this.props.obj;n&&((i=this.propsState[this.props.checkKey])!=null&&i.includes(n)&&this.state.activeBool===!1?this.setState({checked:!0,activeBool:!0}):!((a=this.propsState[this.props.checkKey])!=null&&a.includes(n))&&this.state.activeBool===!0&&this.setState({checked:!1,activeBool:!1}))}checkIfActive(){var t;let e=this.props.obj;e&&(t=this.propsState[this.props.checkKey])!=null&&t.includes(e)&&this.setState({checked:!0})}async handleToggle(){await this.setState(e=>({checked:!e.checked})),this.state.checked?this.check(this.props.obj):this.uncheck(this.props.obj)}check(e){this.setState({checked:!0}),this.props.check?this.props.check(e):this.props.cell.check(this.props.obj)}uncheck(e){this.setState({checked:!1}),this.props.uncheck?this.props.uncheck(e):this.props.cell.uncheck(this.props.obj)}render(){const{checked:e}=this.state;return C.jsxs("label",{className:this.props.class||"checkbox-container",children:[this.props.label||"",C.jsx("input",{type:"checkbox",checked:e,onChange:this.handleToggle}),C.jsx("span",{className:"checkmark"})]})}}class yy extends ms{async buttonClickFunc(){let e=this.obj,t=e.type;this.props.popupSwitch.includes("add")&&(e=e[0]?e[0]:{type:this.getFactoryTypeString(this.props.popupSwitch.slice(3))},e={prepare:{...e},amount:this.props.amount,clean:this.props.clean},e=await this.operationsFactory.prepare(e),e.length===1&&(e=e[0],t=e.getJson().type)),Array.isArray(e)&&e.length===1&&(e=e[0]);let n=this.props.setCurrnetItem&&{["current"+this.getCapitalFirstLetter(t)]:e},i={popupSwitch:this.props.popupSwitch,currentPopupComponent:e,...n};await this.dispatch({...i})}}class tb extends nt{constructor(t){super(t);he(this,"handleCheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n.includes(t)||n.push(t),this.dispatch({selectedContacts:n})});he(this,"handleUncheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n=n.filter(i=>i!==t),this.dispatch({selectedContacts:n})})}getTagUI(t){var n,i,a,u,c,h;return C.jsxs("div",{className:"contact-tag-container active",children:[(n=t.tags)==null?void 0:n.split(",").filter(d=>d!=="").map((d,y)=>C.jsx("button",{className:"contact-tag-btn",children:d},y)),((i=t.finishedSequenceTags)==null?void 0:i.length)>0&&C.jsx(C.Fragment,{children:(a=t.finishedSequenceTags)==null?void 0:a.split(",").map((d,y)=>C.jsx(C.Fragment,{children:d.length>0&&C.jsx("button",{className:"contact-tag-btn finished-sequence-tags",children:d},y)}))}),t.sequenceId&&C.jsxs(C.Fragment,{children:[t.finishedSequenceTags.includes((u=this.componentList.getComponent("sequence",t.sequenceId))==null?void 0:u.getJson().name)&&t.finished?C.jsx(C.Fragment,{}):C.jsx(C.Fragment,{children:((c=this.componentList.getComponent("sequence",t.sequenceId))==null?void 0:c.getJson().name.length)>0&&C.jsx("button",{className:`contact-tag-btn ${t.finished?"finished-sequence-tags":"unfinished-sequence-tags"}`,children:(h=this.componentList.getComponent("sequence",t.sequenceId))==null?void 0:h.getJson().name})}),t.replied&&C.jsx("button",{className:"contact-tag-btn unfinished-sequence-tags",children:"Replied"})]})]})}render(){const{obj:t}=this.props;let n=t.getJson(),a=(this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[]).includes(t);return C.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[C.jsxs("div",{className:"contact-item hover-darken",style:{background:a?"#2374ab10":"white",position:"relative",paddingLeft:"5px"},children:[C.jsx(Kh,{checkKey:"selectedContacts",obj:t,check:this.handleCheckContact,uncheck:this.handleUncheckContact}),C.jsxs("div",{className:"contact-info-expanded",style:{cursor:"pointer",display:"flex",width:"100%"},onClick:()=>{window.innerWidth>600?this.dispatch({currentContact:t}):this.dispatch({currentPopupComponent:t,popupSwitch:"updateContact"})},children:[C.jsx("div",{className:"contact-avatar",children:C.jsx("i",{className:"fa-solid fa-user"})}),C.jsxs("div",{className:"contact-info",children:[C.jsx("div",{className:"contact-name",children:`${n.firstName} ${n.lastName}`}),C.jsx("div",{className:"contact-desc",children:(n==null?void 0:n.company)||(n==null?void 0:n.title)||(n==null?void 0:n.email)||(n==null?void 0:n.mobile)||""})]})]}),C.jsx(yy,{formClass:"hover-basic",wrapperClass:"icon-row",newProp:"asdf",content:C.jsx("div",{style:{width:"fit-content"},onClick:async()=>{debugger;await this.operationsFactory.clear();let u=t,c=this.componentList.getComponent("conversation",u.getJson().email,"contact");c||(await this.componentList.addComponents({type:"conversation",contact:u.getJson().email,contactName:`${u.getJson().firstName} ${u.getJson().lastName}`,conversationOwner:this.propsState.currentUser.getJson()._id,ownerName:`${this.propsState.currentUser.getJson().firstName} ${this.propsState.currentUser.getJson().lastName}`}),c=this.componentList.getComponent("conversation",u.getJson().email,"contact"));debugger;let h={type:"email"};h={prepare:{...h},clean:!0},h=await this.operationsFactory.prepare(h),Array.isArray(h)&&h.length===1&&(h=h[0]);let d={popupSwitch:"addEmail",currentPopupComponent:h};await this.dispatch({...d,currentConversation:c,currentContact:u})},className:"contact-icon",children:C.jsx("i",{className:"fa-solid fa-message"})})})]}),this.getTagUI(n)]})}}var Bc={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var P4=Bc.exports,hw;function N4(){return hw||(hw=1,function(r,e){((t,n)=>{r.exports=n()})(P4,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,u=n.IS_PAPA_WORKER||!1,c={},h=0,d={};function y(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(D){var I=j(D);I.chunkSize=parseInt(I.chunkSize),D.step||D.chunk||(I.chunkSize=null),this._handle=new b(I),(this._handle.streamer=this)._config=I}).call(this,_),this.parseChunk=function(D,I){var k=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<k){let O=this._config.newline;O||(N=this._config.quoteChar||'"',O=this._handle.guessLineEndings(D,N)),D=[...D.split(O).slice(k)].join(O)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(D))!==void 0&&(D=N),this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+D,N=(this._partialLine="",this._handle.parse(k,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(D=N.meta.cursor,k=(this._finished||(this._partialLine=k.substring(D-this._baseIndex),this._baseIndex=D),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),u)n.postMessage({results:N,workerId:d.WORKER_ID,finished:k});else if(R(this._config.chunk)&&!I){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!k||!R(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(D){R(this._config.error)?this._config.error(D):u&&this._config.error&&n.postMessage({workerId:d.WORKER_ID,error:D,finished:!1})}}function g(_){var D;(_=_||{}).chunkSize||(_.chunkSize=d.RemoteChunkSize),y.call(this,_),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(D=new XMLHttpRequest,this._config.withCredentials&&(D.withCredentials=this._config.withCredentials),a||(D.onload=q(this._chunkLoaded,this),D.onerror=q(this._chunkError,this)),D.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var I,k=this._config.downloadRequestHeaders;for(I in k)D.setRequestHeader(I,k[I])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,D.setRequestHeader("Range","bytes="+this._start+"-"+N));try{D.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}a&&D.status===0&&this._chunkError()}},this._chunkLoaded=function(){D.readyState===4&&(D.status<200||400<=D.status?this._chunkError():(this._start+=this._config.chunkSize||D.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(D),this.parseChunk(D.responseText)))},this._chunkError=function(I){I=D.statusText||I,this._sendError(new Error(I))}}function p(_){(_=_||{}).chunkSize||(_.chunkSize=d.LocalChunkSize),y.call(this,_);var D,I,k=typeof FileReader<"u";this.stream=function(N){this._input=N,I=N.slice||N.webkitSlice||N.mozSlice,k?((D=new FileReader).onload=q(this._chunkLoaded,this),D.onerror=q(this._chunkError,this)):D=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),N=I.call(N,this._start,O)),D.readAsText(N,this._config.encoding));k||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(D.error)}}function v(_){var D;y.call(this,_=_||{}),this.stream=function(I){return D=I,this._nextChunk()},this._nextChunk=function(){var I,k;if(!this._finished)return I=this._config.chunkSize,D=I?(k=D.substring(0,I),D.substring(I)):(k=D,""),this._finished=!D,this.parseChunk(k)}}function A(_){y.call(this,_=_||{});var D=[],I=!0,k=!1;this.pause=function(){y.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){y.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&D.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),D.length?this.parseChunk(D.shift()):I=!0},this._streamData=q(function(N){try{D.push(typeof N=="string"?N:N.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(D.shift()))}catch(O){this._streamError(O)}},this),this._streamError=q(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=q(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(_){var D,I,k,N,O=Math.pow(2,53),W=-O,J=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,se=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Z=this,re=0,G=0,H=!1,B=!1,V=[],z={data:[],errors:[],meta:{}};function ee(te){return _.skipEmptyLines==="greedy"?te.join("").trim()==="":te.length===1&&te[0].length===0}function X(){if(z&&k&&(Q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+d.DefaultDelimiter+"'"),k=!1),_.skipEmptyLines&&(z.data=z.data.filter(function(De){return!ee(De)})),$()){let De=function(Ie,ke){R(_.transformHeader)&&(Ie=_.transformHeader(Ie,ke)),V.push(Ie)};var ge=De;if(z)if(Array.isArray(z.data[0])){for(var te=0;$()&&te<z.data.length;te++)z.data[te].forEach(De);z.data.splice(0,1)}else z.data.forEach(De)}function ie(De,Ie){for(var ke=_.header?{}:[],Re=0;Re<De.length;Re++){var Be=Re,et=De[Re],et=((le,de)=>(Ee=>(_.dynamicTypingFunction&&_.dynamicTyping[Ee]===void 0&&(_.dynamicTyping[Ee]=_.dynamicTypingFunction(Ee)),(_.dynamicTyping[Ee]||_.dynamicTyping)===!0))(le)?de==="true"||de==="TRUE"||de!=="false"&&de!=="FALSE"&&((Ee=>{if(J.test(Ee)&&(Ee=parseFloat(Ee),W<Ee&&Ee<O))return 1})(de)?parseFloat(de):se.test(de)?new Date(de):de===""?null:de):de)(Be=_.header?Re>=V.length?"__parsed_extra":V[Re]:Be,et=_.transform?_.transform(et,Be):et);Be==="__parsed_extra"?(ke[Be]=ke[Be]||[],ke[Be].push(et)):ke[Be]=et}return _.header&&(Re>V.length?Q("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+Re,G+Ie):Re<V.length&&Q("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+Re,G+Ie)),ke}var fe;z&&(_.header||_.dynamicTyping||_.transform)&&(fe=1,!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(ie),fe=z.data.length):z.data=ie(z.data,0),_.header&&z.meta&&(z.meta.fields=V),G+=fe)}function $(){return _.header&&V.length===0}function Q(te,ie,fe,ge){te={type:te,code:ie,message:fe},ge!==void 0&&(te.row=ge),z.errors.push(te)}R(_.step)&&(N=_.step,_.step=function(te){z=te,$()?X():(X(),z.data.length!==0&&(re+=te.data.length,_.preview&&re>_.preview?I.abort():(z.data=z.data[0],N(z,Z))))}),this.parse=function(te,ie,fe){var ge=_.quoteChar||'"',ge=(_.newline||(_.newline=this.guessLineEndings(te,ge)),k=!1,_.delimiter?R(_.delimiter)&&(_.delimiter=_.delimiter(te),z.meta.delimiter=_.delimiter):((ge=((De,Ie,ke,Re,Be)=>{var et,le,de,Ee;Be=Be||[",","	","|",";",d.RECORD_SEP,d.UNIT_SEP];for(var Se=0;Se<Be.length;Se++){for(var ye,$e=Be[Se],je=0,Ve=0,Ge=0,Xe=(de=void 0,new w({comments:Re,delimiter:$e,newline:Ie,preview:10}).parse(De)),Ze=0;Ze<Xe.data.length;Ze++)ke&&ee(Xe.data[Ze])?Ge++:(ye=Xe.data[Ze].length,Ve+=ye,de===void 0?de=ye:0<ye&&(je+=Math.abs(ye-de),de=ye));0<Xe.data.length&&(Ve/=Xe.data.length-Ge),(le===void 0||je<=le)&&(Ee===void 0||Ee<Ve)&&1.99<Ve&&(le=je,et=$e,Ee=Ve)}return{successful:!!(_.delimiter=et),bestDelimiter:et}})(te,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess)).successful?_.delimiter=ge.bestDelimiter:(k=!0,_.delimiter=d.DefaultDelimiter),z.meta.delimiter=_.delimiter),j(_));return _.preview&&_.header&&ge.preview++,D=te,I=new w(ge),z=I.parse(D,ie,fe),X(),H?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return H},this.pause=function(){H=!0,I.abort(),D=R(_.chunk)?"":D.substring(I.getCharIndex())},this.resume=function(){Z.streamer._halted?(H=!1,Z.streamer.parseChunk(D,!0)):setTimeout(Z.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,I.abort(),z.meta.aborted=!0,R(_.complete)&&_.complete(z),D=""},this.guessLineEndings=function(De,ge){De=De.substring(0,1048576);var ge=new RegExp(E(ge)+"([^]*?)"+E(ge),"gm"),fe=(De=De.replace(ge,"")).split("\r"),ge=De.split(`
`),De=1<ge.length&&ge[0].length<fe[0].length;if(fe.length===1||De)return`
`;for(var Ie=0,ke=0;ke<fe.length;ke++)fe[ke][0]===`
`&&Ie++;return Ie>=fe.length/2?`\r
`:"\r"}}function E(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w(_){var D=(_=_||{}).delimiter,I=_.newline,k=_.comments,N=_.step,O=_.preview,W=_.fastMode,J=null,se=!1,Z=_.quoteChar==null?'"':_.quoteChar,re=Z;if(_.escapeChar!==void 0&&(re=_.escapeChar),(typeof D!="string"||-1<d.BAD_DELIMITERS.indexOf(D))&&(D=","),k===D)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<d.BAD_DELIMITERS.indexOf(k))&&(k=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var G=0,H=!1;this.parse=function(B,V,z){if(typeof B!="string")throw new Error("Input must be a string");var ee=B.length,X=D.length,$=I.length,Q=k.length,te=R(N),ie=[],fe=[],ge=[],De=G=0;if(!B)return je();if(W||W!==!1&&B.indexOf(Z)===-1){for(var Ie=B.split(I),ke=0;ke<Ie.length;ke++){if(ge=Ie[ke],G+=ge.length,ke!==Ie.length-1)G+=I.length;else if(z)return je();if(!k||ge.substring(0,Q)!==k){if(te){if(ie=[],Ee(ge.split(D)),Ve(),H)return je()}else Ee(ge.split(D));if(O&&O<=ke)return ie=ie.slice(0,O),je(!0)}}return je()}for(var Re=B.indexOf(D,G),Be=B.indexOf(I,G),et=new RegExp(E(re)+E(Z),"g"),le=B.indexOf(Z,G);;)if(B[G]===Z)for(le=G,G++;;){if((le=B.indexOf(Z,le+1))===-1)return z||fe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:G}),ye();if(le===ee-1)return ye(B.substring(G,le).replace(et,Z));if(Z===re&&B[le+1]===re)le++;else if(Z===re||le===0||B[le-1]!==re){Re!==-1&&Re<le+1&&(Re=B.indexOf(D,le+1));var de=Se((Be=Be!==-1&&Be<le+1?B.indexOf(I,le+1):Be)===-1?Re:Math.min(Re,Be));if(B.substr(le+1+de,X)===D){ge.push(B.substring(G,le).replace(et,Z)),B[G=le+1+de+X]!==Z&&(le=B.indexOf(Z,G)),Re=B.indexOf(D,G),Be=B.indexOf(I,G);break}if(de=Se(Be),B.substring(le+1+de,le+1+de+$)===I){if(ge.push(B.substring(G,le).replace(et,Z)),$e(le+1+de+$),Re=B.indexOf(D,G),le=B.indexOf(Z,G),te&&(Ve(),H))return je();if(O&&ie.length>=O)return je(!0);break}fe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:G}),le++}}else if(k&&ge.length===0&&B.substring(G,G+Q)===k){if(Be===-1)return je();G=Be+$,Be=B.indexOf(I,G),Re=B.indexOf(D,G)}else if(Re!==-1&&(Re<Be||Be===-1))ge.push(B.substring(G,Re)),G=Re+X,Re=B.indexOf(D,G);else{if(Be===-1)break;if(ge.push(B.substring(G,Be)),$e(Be+$),te&&(Ve(),H))return je();if(O&&ie.length>=O)return je(!0)}return ye();function Ee(Ge){ie.push(Ge),De=G}function Se(Ge){var Xe=0;return Xe=Ge!==-1&&(Ge=B.substring(le+1,Ge))&&Ge.trim()===""?Ge.length:Xe}function ye(Ge){return z||(Ge===void 0&&(Ge=B.substring(G)),ge.push(Ge),G=ee,Ee(ge),te&&Ve()),je()}function $e(Ge){G=Ge,Ee(ge),ge=[],Be=B.indexOf(I,G)}function je(Ge){if(_.header&&!V&&ie.length&&!se){var Xe=ie[0],Ze={},er=new Set(Xe);let ct=!1;for(let bt=0;bt<Xe.length;bt++){let Ht=Xe[bt];if(Ze[Ht=R(_.transformHeader)?_.transformHeader(Ht,bt):Ht]){let tr,Ei=Ze[Ht];for(;tr=Ht+"_"+Ei,Ei++,er.has(tr););er.add(tr),Xe[bt]=tr,Ze[Ht]++,ct=!0,(J=J===null?{}:J)[tr]=Ht}else Ze[Ht]=1,Xe[bt]=Ht;er.add(Ht)}ct&&console.warn("Duplicate headers found and renamed."),se=!0}return{data:ie,errors:fe,meta:{delimiter:D,linebreak:I,aborted:H,truncated:!!Ge,cursor:De+(V||0),renamedHeaders:J}}}function Ve(){N(je()),ie=[],fe=[]}},this.abort=function(){H=!0},this.getCharIndex=function(){return G}}function S(_){var D=_.data,I=c[D.workerId],k=!1;if(D.error)I.userError(D.error,D.file);else if(D.results&&D.results.data){var N={abort:function(){k=!0,P(D.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:T,resume:T};if(R(I.userStep)){for(var O=0;O<D.results.data.length&&(I.userStep({data:D.results.data[O],errors:D.results.errors,meta:D.results.meta},N),!k);O++);delete D.results}else R(I.userChunk)&&(I.userChunk(D.results,N,D.file),delete D.results)}D.finished&&!k&&P(D.workerId,D.results)}function P(_,D){var I=c[_];R(I.userComplete)&&I.userComplete(D),I.terminate(),delete c[_]}function T(){throw new Error("Not implemented.")}function j(_){if(typeof _!="object"||_===null)return _;var D,I=Array.isArray(_)?[]:{};for(D in _)I[D]=j(_[D]);return I}function q(_,D){return function(){_.apply(D,arguments)}}function R(_){return typeof _=="function"}return d.parse=function(_,D){var I=(D=D||{}).dynamicTyping||!1;if(R(I)&&(D.dynamicTypingFunction=I,I={}),D.dynamicTyping=I,D.transform=!!R(D.transform)&&D.transform,!D.worker||!d.WORKERS_SUPPORTED)return I=null,d.NODE_STREAM_INPUT,typeof _=="string"?(_=(k=>k.charCodeAt(0)!==65279?k:k.slice(1))(_),I=new(D.download?g:v)(D)):_.readable===!0&&R(_.read)&&R(_.on)?I=new A(D):(n.File&&_ instanceof File||_ instanceof Object)&&(I=new p(D)),I.stream(_);(I=(()=>{var k;return!!d.WORKERS_SUPPORTED&&(k=(()=>{var N=n.URL||n.webkitURL||null,O=t.toString();return d.BLOB_URL||(d.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(k=new n.Worker(k)).onmessage=S,k.id=h++,c[k.id]=k)})()).userStep=D.step,I.userChunk=D.chunk,I.userComplete=D.complete,I.userError=D.error,D.step=R(D.step),D.chunk=R(D.chunk),D.complete=R(D.complete),D.error=R(D.error),delete D.worker,I.postMessage({input:_,config:D,workerId:I.id})},d.unparse=function(_,D){var I=!1,k=!0,N=",",O=`\r
`,W='"',J=W+W,se=!1,Z=null,re=!1,G=((()=>{if(typeof D=="object"){if(typeof D.delimiter!="string"||d.BAD_DELIMITERS.filter(function(V){return D.delimiter.indexOf(V)!==-1}).length||(N=D.delimiter),typeof D.quotes!="boolean"&&typeof D.quotes!="function"&&!Array.isArray(D.quotes)||(I=D.quotes),typeof D.skipEmptyLines!="boolean"&&typeof D.skipEmptyLines!="string"||(se=D.skipEmptyLines),typeof D.newline=="string"&&(O=D.newline),typeof D.quoteChar=="string"&&(W=D.quoteChar),typeof D.header=="boolean"&&(k=D.header),Array.isArray(D.columns)){if(D.columns.length===0)throw new Error("Option columns is empty");Z=D.columns}D.escapeChar!==void 0&&(J=D.escapeChar+W),D.escapeFormulae instanceof RegExp?re=D.escapeFormulae:typeof D.escapeFormulae=="boolean"&&D.escapeFormulae&&(re=/^[=+\-@\t\r].*$/)}})(),new RegExp(E(W),"g"));if(typeof _=="string"&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return H(null,_,se);if(typeof _[0]=="object")return H(Z||Object.keys(_[0]),_,se)}else if(typeof _=="object")return typeof _.data=="string"&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields||Z),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:typeof _.data[0]=="object"?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||typeof _.data[0]=="object"||(_.data=[_.data])),H(_.fields||[],_.data||[],se);throw new Error("Unable to serialize unrecognized input");function H(V,z,ee){var X="",$=(typeof V=="string"&&(V=JSON.parse(V)),typeof z=="string"&&(z=JSON.parse(z)),Array.isArray(V)&&0<V.length),Q=!Array.isArray(z[0]);if($&&k){for(var te=0;te<V.length;te++)0<te&&(X+=N),X+=B(V[te],te);0<z.length&&(X+=O)}for(var ie=0;ie<z.length;ie++){var fe=($?V:z[ie]).length,ge=!1,De=$?Object.keys(z[ie]).length===0:z[ie].length===0;if(ee&&!$&&(ge=ee==="greedy"?z[ie].join("").trim()==="":z[ie].length===1&&z[ie][0].length===0),ee==="greedy"&&$){for(var Ie=[],ke=0;ke<fe;ke++){var Re=Q?V[ke]:ke;Ie.push(z[ie][Re])}ge=Ie.join("").trim()===""}if(!ge){for(var Be=0;Be<fe;Be++){0<Be&&!De&&(X+=N);var et=$&&Q?V[Be]:Be;X+=B(z[ie][et],Be)}ie<z.length-1&&(!ee||0<fe&&!De)&&(X+=O)}}return X}function B(V,z){var ee,X;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(X=!1,re&&typeof V=="string"&&re.test(V)&&(V="'"+V,X=!0),ee=V.toString().replace(G,J),(X=X||I===!0||typeof I=="function"&&I(V,z)||Array.isArray(I)&&I[z]||(($,Q)=>{for(var te=0;te<Q.length;te++)if(-1<$.indexOf(Q[te]))return!0;return!1})(ee,d.BAD_DELIMITERS)||-1<ee.indexOf(N)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?W+ee+W:ee)}},d.RECORD_SEP="",d.UNIT_SEP="",d.BYTE_ORDER_MARK="\uFEFF",d.BAD_DELIMITERS=["\r",`
`,'"',d.BYTE_ORDER_MARK],d.WORKERS_SUPPORTED=!a&&!!n.Worker,d.NODE_STREAM_INPUT=1,d.LocalChunkSize=10485760,d.RemoteChunkSize=5242880,d.DefaultDelimiter=",",d.Parser=w,d.ParserHandle=b,d.NetworkStreamer=g,d.FileStreamer=p,d.StringStreamer=v,d.ReadableStreamStreamer=A,n.jQuery&&((i=n.jQuery).fn.parse=function(_){var D=_.config||{},I=[];return this.each(function(O){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var W=0;W<this.files.length;W++)I.push({file:this.files[W],inputElem:this,instanceConfig:i.extend({},D)})}),k(),this;function k(){if(I.length===0)R(_.complete)&&_.complete();else{var O,W,J,se,Z=I[0];if(R(_.before)){var re=_.before(Z.file,Z.inputElem);if(typeof re=="object"){if(re.action==="abort")return O="AbortError",W=Z.file,J=Z.inputElem,se=re.reason,void(R(_.error)&&_.error({name:O},W,J,se));if(re.action==="skip")return void N();typeof re.config=="object"&&(Z.instanceConfig=i.extend(Z.instanceConfig,re.config))}else if(re==="skip")return void N()}var G=Z.instanceConfig.complete;Z.instanceConfig.complete=function(H){R(G)&&G(H,Z.file,Z.inputElem),N()},d.parse(Z.file,Z.instanceConfig)}}function N(){I.splice(0,1),k()}}),u&&(n.onmessage=function(_){_=_.data,d.WORKER_ID===void 0&&_&&(d.WORKER_ID=_.workerId),typeof _.input=="string"?n.postMessage({workerId:d.WORKER_ID,results:d.parse(_.input,_.config),finished:!0}):(n.File&&_.input instanceof File||_.input instanceof Object)&&(_=d.parse(_.input,_.config))&&n.postMessage({workerId:d.WORKER_ID,results:_,finished:!0})}),(g.prototype=Object.create(y.prototype)).constructor=g,(p.prototype=Object.create(y.prototype)).constructor=p,(v.prototype=Object.create(v.prototype)).constructor=v,(A.prototype=Object.create(y.prototype)).constructor=A,d})}(Bc)),Bc.exports}var O4=N4();const L4=ah(O4);class F4 extends ve.Component{constructor(e){super(e),this.state={data:[]},this.handleFileUpload=this.handleFileUpload.bind(this)}handleFileUpload(e){const t=e.target.files[0];t&&L4.parse(t,{header:!0,skipEmptyLines:!0,complete:n=>{console.log("Parsed CSV data:",n.data),this.props.callBack({data:n.data})},error:n=>{console.error("Error while parsing:",n)}})}render(){const{data:e}=this.state;return C.jsxs("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:[C.jsx("label",{htmlFor:"file-upload",className:"",children:"Upload"}),C.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:this.handleFileUpload})]})}}class B4 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}componentDidMount(){this.dispatch({selectedContacts:[]})}filterFunc(){var i;let e=((i=this.propsState.tags)==null?void 0:i.split(","))||"",t=this.componentList.getList("contact"),n=[];if(e)for(let a of e){let u=t.filter(c=>c.getJson().tags.includes(a));n=[...n,...u]}else n=[...t];this.dispatch({selectedContacts:n})}getInnerContent(){var u,c;let e=this.propsState.selectedContacts,t=this.propsState.componentList.getList("contact"),n=(e==null?void 0:e.length)>0,i=t!=null&&t.length?"/"+(t==null?void 0:t.length):"",a=(e==null?void 0:e.length)===(t==null?void 0:t.length);return C.jsxs("div",{className:"map-container",children:[C.jsxs("div",{className:"top-nav-float",children:[C.jsxs("nav",{className:"top-nav",children:[C.jsxs("div",{className:"nav-left",children:[C.jsx("div",{className:"nav-icon",children:C.jsx("i",{className:"fas fa-circle"})}),C.jsx("div",{className:"nav-title",children:"Contacts"})]}),C.jsxs("div",{className:"nav-right",children:[C.jsx("div",{className:"nav-icon",children:C.jsxs("button",{className:"btn",children:["A to Z ",C.jsx("i",{className:"fa-solid fa-angle-down"})]})}),C.jsx("div",{className:"nav-icon",children:C.jsx("button",{className:"btn",children:C.jsx("i",{className:"fa-solid fa-filter"})})})]})]}),C.jsx("div",{className:"search-container",children:C.jsxs("div",{className:"search-bar",children:[C.jsx("i",{className:"fas fa-search search-icon"}),C.jsx("input",{onChange:h=>{this.dispatch({tags:h.target.value})},className:"search-input",placeholder:"Search"})]})}),C.jsxs("div",{className:"filter-nav",children:[C.jsxs("div",{className:"filter-nav-left",children:[C.jsx(C.Fragment,{children:C.jsx("div",{id:"selectBtn",style:{height:"fit-content",marginLeft:"5px",alignContent:"center"},children:C.jsx(Kh,{label:a?"Deselect All":"Select All",check:this.filterFunc,uncheck:()=>{this.dispatch({selectedContacts:[]})}})})}),C.jsx("span",{className:"count-desc",children:(u=this.propsState.selectedContacts)!=null&&u.length?this.propsState.selectedContacts.length+`${i} Selected`:""})]}),!n&&C.jsxs("div",{className:"filter-nav-right",children:[C.jsx(F4,{callBack:async h=>{h=h.data.map((d,y)=>(d.owner=this.propsState.currentUser.getJson()._id,d.type="contact",d)),this.dispatch({uploadData:h,popupSwitch:"uploadData"}),await this.operationsFactory.prepare({prepare:h}),this.operationsFactory.run()}}),C.jsx(yy,{wrapperclassName:"none",content:C.jsx("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Add Contact"}),popupSwitch:"addContact"})]})]})]}),C.jsxs("div",{style:{paddingBottom:"60px"},children:[" ",C.jsx(pn,{filterFunc:h=>{if(!this.propsState.tags)return!0;let d=this.propsState.tags.split(",");for(let y of d)if(y!==""&&(h.getJson().tags.includes(y)||h.getJson().finishedSequenceTags.includes(y)||y==="replied"&&h.getJson().replied))return!0;return!1},name:"contact",mapContainerclassName:"contact-list",mapSectionclassName:"contact",cells:[{type:"custom",custom:tb}],hasLink:!0})," "]}),((c=this.propsState.selectedContacts)==null?void 0:c.length)>0&&C.jsxs("div",{id:"floating-select-set",className:"floating-select-set",children:[C.jsx("button",{onClick:()=>{this.dispatch({popupSwitch:"addTags"})},className:"floating-select-btn",children:C.jsx("span",{className:"floating-select-btn-text",children:"Tags"})}),C.jsx("button",{onClick:()=>{for(let h of this.propsState.selectedContacts)h.del();this.dispatch({selectedContacts:[]})},className:"floating-select-btn",children:C.jsx("span",{className:"floating-select-btn-text",children:"Delete"})}),C.jsx("button",{className:"floating-select-btn floating-select-primary-btn",children:C.jsx(Hh,{content:C.jsx("span",{className:"floating-select-btn-text",style:{color:"white"},children:"Add to Sequence"}),popupSwitch:"addToSequence"})})]})]})}render(){return C.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class j4 extends _a{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id,visible:!0}}async componentDidMount(){await this.getComponentsFromBackend()}componentWillUnmount(){this.dispatch({selectedContacts:[]})}render(){return C.jsxs("div",{className:this.props.pageClass||this.state.defaultClass,style:{display:"flex"},children:[C.jsx("div",{style:{width:window.innerWidth>600?"50%":"100%"},children:C.jsx(dn,{theme:"NoBorder",type:"fit",content:C.jsx(B4,{})})}),C.jsx("div",{style:{width:window.innerWidth>600?"50%":"100%",position:"relative"},children:this.propsState.currentContact&&window.innerWidth>600&&this.state.visible&&C.jsx(dn,{theme:"NoBorder",type:"fit",content:C.jsx(eb,{})})})]})}}class M4 extends nt{getTimeStampStr(){var t,n;let e;try{e=(n=(t=this.props.obj)==null?void 0:t.getJson())==null?void 0:n.timeStamp}catch(i){return console.error("Error accessing timestamp property:",i),"Invalid Date"}if(e&&e instanceof Lt)try{return e.toDate().toLocaleDateString()}catch(i){return console.error("Error converting Firebase Timestamp to Date:",i),"Invalid Date"}else return e?(console.warn("Received timeValue is not a Firebase Timestamp:",e),String(e)):""}render(){return C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"message-header",children:[C.jsx("span",{className:"sender",children:this.props.obj.getJson().contactName}),C.jsx("span",{className:"date",children:this.getTimeStampStr()})]}),C.jsx("div",{className:"snippet",children:this.props.obj.getJson().recentMessage})]})}}class q4 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit messages-container"}}searchFilter(){}getInnerContent(){return C.jsx(pn,{name:"conversation",mapContainerClass:"message-list-scai",mapSectionClass:"message-item-scai",cells:[{type:"customBuilt",custom:C.jsx("div",{className:"chat-avatar",children:C.jsx("i",{className:"fa-solid fa-user"})}),wrapperStyle:{width:"50px"},itemStyle:{width:"50px"}},{type:"custom",custom:M4,itemClick:e=>{this.dispatch({currentConversation:e,showConversation:window.innerWidth<600?!0:void 0}),e.setCompState({seen:!0})}}],filterFunc:e=>{var a,u;let t=!1;this.propsState.searchText||(t=!0);let n=this.propsState.searchText;(a=e.getJson().senderName)!=null&&a.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0);let i=this.componentList.getList("email",e.getJson()._id,"conversationId");for(let c of i)(u=c.getJson().body)!=null&&u.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0);return t}})}render(){return C.jsxs("div",{className:this.props.pageClass||this.state.defaultClass,style:{marginLeft:"-10px",minWidth:"fit-content"},children:[C.jsx("div",{className:"header",children:"Messages"}),C.jsx("div",{className:"search-container",children:C.jsxs("div",{className:"search-bar",children:[C.jsx("i",{className:"fas fa-search search-icon"}),C.jsx("input",{type:"text",placeholder:"Search messages...",onChange:e=>{this.dispatch({searchText:e.target.value})},className:"search-input"})]})}),this.getInnerContent()]})}}var _u={exports:{}};/*! https://mths.be/he v1.2.0 by @mathias | MIT license */var V4=_u.exports,fw;function U4(){return fw||(fw=1,function(r,e){(function(t){var n=e,i=r&&r.exports==n&&r,a=typeof Ko=="object"&&Ko;(a.global===a||a.window===a)&&(t=a);var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[\x01-\x7F]/g,h=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,d=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,y={"­":"shy","‌":"zwnj","‍":"zwj","‎":"lrm","⁣":"ic","⁢":"it","⁡":"af","‏":"rlm","​":"ZeroWidthSpace","⁠":"NoBreak","̑":"DownBreve","⃛":"tdot","⃜":"DotDot","	":"Tab","\n":"NewLine"," ":"puncsp"," ":"MediumSpace"," ":"thinsp"," ":"hairsp"," ":"emsp13"," ":"ensp"," ":"emsp14"," ":"emsp"," ":"numsp"," ":"nbsp","  ":"ThickSpace","‾":"oline",_:"lowbar","‐":"dash","–":"ndash","—":"mdash","―":"horbar",",":"comma",";":"semi","⁏":"bsemi",":":"colon","⩴":"Colone","!":"excl","¡":"iexcl","?":"quest","¿":"iquest",".":"period","‥":"nldr","…":"mldr","·":"middot","'":"apos","‘":"lsquo","’":"rsquo","‚":"sbquo","‹":"lsaquo","›":"rsaquo",'"':"quot","“":"ldquo","”":"rdquo","„":"bdquo","«":"laquo","»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","⌈":"lceil","⌉":"rceil","⌊":"lfloor","⌋":"rfloor","⦅":"lopar","⦆":"ropar","⦋":"lbrke","⦌":"rbrke","⦍":"lbrkslu","⦎":"rbrksld","⦏":"lbrksld","⦐":"rbrkslu","⦑":"langd","⦒":"rangd","⦓":"lparlt","⦔":"rpargt","⦕":"gtlPar","⦖":"ltrPar","⟦":"lobrk","⟧":"robrk","⟨":"lang","⟩":"rang","⟪":"Lang","⟫":"Rang","⟬":"loang","⟭":"roang","❲":"lbbrk","❳":"rbbrk","‖":"Vert","§":"sect","¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","‰":"permil","‱":"pertenk","†":"dagger","‡":"Dagger","•":"bull","⁃":"hybull","′":"prime","″":"Prime","‴":"tprime","⁗":"qprime","‵":"bprime","⁁":"caret","`":"grave","´":"acute","˜":"tilde","^":"Hat","¯":"macr","˘":"breve","˙":"dot","¨":"die","˚":"ring","˝":"dblac","¸":"cedil","˛":"ogon","ˆ":"circ","ˇ":"caron","°":"deg","©":"copy","®":"reg","℗":"copysr","℘":"wp","℞":"rx","℧":"mho","℩":"iiota","←":"larr","↚":"nlarr","→":"rarr","↛":"nrarr","↑":"uarr","↓":"darr","↔":"harr","↮":"nharr","↕":"varr","↖":"nwarr","↗":"nearr","↘":"searr","↙":"swarr","↝":"rarrw","↝̸":"nrarrw","↞":"Larr","↟":"Uarr","↠":"Rarr","↡":"Darr","↢":"larrtl","↣":"rarrtl","↤":"mapstoleft","↥":"mapstoup","↦":"map","↧":"mapstodown","↩":"larrhk","↪":"rarrhk","↫":"larrlp","↬":"rarrlp","↭":"harrw","↰":"lsh","↱":"rsh","↲":"ldsh","↳":"rdsh","↵":"crarr","↶":"cularr","↷":"curarr","↺":"olarr","↻":"orarr","↼":"lharu","↽":"lhard","↾":"uharr","↿":"uharl","⇀":"rharu","⇁":"rhard","⇂":"dharr","⇃":"dharl","⇄":"rlarr","⇅":"udarr","⇆":"lrarr","⇇":"llarr","⇈":"uuarr","⇉":"rrarr","⇊":"ddarr","⇋":"lrhar","⇌":"rlhar","⇐":"lArr","⇍":"nlArr","⇑":"uArr","⇒":"rArr","⇏":"nrArr","⇓":"dArr","⇔":"iff","⇎":"nhArr","⇕":"vArr","⇖":"nwArr","⇗":"neArr","⇘":"seArr","⇙":"swArr","⇚":"lAarr","⇛":"rAarr","⇝":"zigrarr","⇤":"larrb","⇥":"rarrb","⇵":"duarr","⇽":"loarr","⇾":"roarr","⇿":"hoarr","∀":"forall","∁":"comp","∂":"part","∂̸":"npart","∃":"exist","∄":"nexist","∅":"empty","∇":"Del","∈":"in","∉":"notin","∋":"ni","∌":"notni","϶":"bepsi","∏":"prod","∐":"coprod","∑":"sum","+":"plus","±":"pm","÷":"div","×":"times","<":"lt","≮":"nlt","<⃒":"nvlt","=":"equals","≠":"ne","=⃥":"bne","⩵":"Equal",">":"gt","≯":"ngt",">⃒":"nvgt","¬":"not","|":"vert","¦":"brvbar","−":"minus","∓":"mp","∔":"plusdo","⁄":"frasl","∖":"setmn","∗":"lowast","∘":"compfn","√":"Sqrt","∝":"prop","∞":"infin","∟":"angrt","∠":"ang","∠⃒":"nang","∡":"angmsd","∢":"angsph","∣":"mid","∤":"nmid","∥":"par","∦":"npar","∧":"and","∨":"or","∩":"cap","∩︀":"caps","∪":"cup","∪︀":"cups","∫":"int","∬":"Int","∭":"tint","⨌":"qint","∮":"oint","∯":"Conint","∰":"Cconint","∱":"cwint","∲":"cwconint","∳":"awconint","∴":"there4","∵":"becaus","∶":"ratio","∷":"Colon","∸":"minusd","∺":"mDDot","∻":"homtht","∼":"sim","≁":"nsim","∼⃒":"nvsim","∽":"bsim","∽̱":"race","∾":"ac","∾̳":"acE","∿":"acd","≀":"wr","≂":"esim","≂̸":"nesim","≃":"sime","≄":"nsime","≅":"cong","≇":"ncong","≆":"simne","≈":"ap","≉":"nap","≊":"ape","≋":"apid","≋̸":"napid","≌":"bcong","≍":"CupCap","≭":"NotCupCap","≍⃒":"nvap","≎":"bump","≎̸":"nbump","≏":"bumpe","≏̸":"nbumpe","≐":"doteq","≐̸":"nedot","≑":"eDot","≒":"efDot","≓":"erDot","≔":"colone","≕":"ecolon","≖":"ecir","≗":"cire","≙":"wedgeq","≚":"veeeq","≜":"trie","≟":"equest","≡":"equiv","≢":"nequiv","≡⃥":"bnequiv","≤":"le","≰":"nle","≤⃒":"nvle","≥":"ge","≱":"nge","≥⃒":"nvge","≦":"lE","≦̸":"nlE","≧":"gE","≧̸":"ngE","≨︀":"lvnE","≨":"lnE","≩":"gnE","≩︀":"gvnE","≪":"ll","≪̸":"nLtv","≪⃒":"nLt","≫":"gg","≫̸":"nGtv","≫⃒":"nGt","≬":"twixt","≲":"lsim","≴":"nlsim","≳":"gsim","≵":"ngsim","≶":"lg","≸":"ntlg","≷":"gl","≹":"ntgl","≺":"pr","⊀":"npr","≻":"sc","⊁":"nsc","≼":"prcue","⋠":"nprcue","≽":"sccue","⋡":"nsccue","≾":"prsim","≿":"scsim","≿̸":"NotSucceedsTilde","⊂":"sub","⊄":"nsub","⊂⃒":"vnsub","⊃":"sup","⊅":"nsup","⊃⃒":"vnsup","⊆":"sube","⊈":"nsube","⊇":"supe","⊉":"nsupe","⊊︀":"vsubne","⊊":"subne","⊋︀":"vsupne","⊋":"supne","⊍":"cupdot","⊎":"uplus","⊏":"sqsub","⊏̸":"NotSquareSubset","⊐":"sqsup","⊐̸":"NotSquareSuperset","⊑":"sqsube","⋢":"nsqsube","⊒":"sqsupe","⋣":"nsqsupe","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊕":"oplus","⊖":"ominus","⊗":"otimes","⊘":"osol","⊙":"odot","⊚":"ocir","⊛":"oast","⊝":"odash","⊞":"plusb","⊟":"minusb","⊠":"timesb","⊡":"sdotb","⊢":"vdash","⊬":"nvdash","⊣":"dashv","⊤":"top","⊥":"bot","⊧":"models","⊨":"vDash","⊭":"nvDash","⊩":"Vdash","⊮":"nVdash","⊪":"Vvdash","⊫":"VDash","⊯":"nVDash","⊰":"prurel","⊲":"vltri","⋪":"nltri","⊳":"vrtri","⋫":"nrtri","⊴":"ltrie","⋬":"nltrie","⊴⃒":"nvltrie","⊵":"rtrie","⋭":"nrtrie","⊵⃒":"nvrtrie","⊶":"origof","⊷":"imof","⊸":"mumap","⊹":"hercon","⊺":"intcal","⊻":"veebar","⊽":"barvee","⊾":"angrtvb","⊿":"lrtri","⋀":"Wedge","⋁":"Vee","⋂":"xcap","⋃":"xcup","⋄":"diam","⋅":"sdot","⋆":"Star","⋇":"divonx","⋈":"bowtie","⋉":"ltimes","⋊":"rtimes","⋋":"lthree","⋌":"rthree","⋍":"bsime","⋎":"cuvee","⋏":"cuwed","⋐":"Sub","⋑":"Sup","⋒":"Cap","⋓":"Cup","⋔":"fork","⋕":"epar","⋖":"ltdot","⋗":"gtdot","⋘":"Ll","⋘̸":"nLl","⋙":"Gg","⋙̸":"nGg","⋚︀":"lesg","⋚":"leg","⋛":"gel","⋛︀":"gesl","⋞":"cuepr","⋟":"cuesc","⋦":"lnsim","⋧":"gnsim","⋨":"prnsim","⋩":"scnsim","⋮":"vellip","⋯":"ctdot","⋰":"utdot","⋱":"dtdot","⋲":"disin","⋳":"isinsv","⋴":"isins","⋵":"isindot","⋵̸":"notindot","⋶":"notinvc","⋷":"notinvb","⋹":"isinE","⋹̸":"notinE","⋺":"nisd","⋻":"xnis","⋼":"nis","⋽":"notnivc","⋾":"notnivb","⌅":"barwed","⌆":"Barwed","⌌":"drcrop","⌍":"dlcrop","⌎":"urcrop","⌏":"ulcrop","⌐":"bnot","⌒":"profline","⌓":"profsurf","⌕":"telrec","⌖":"target","⌜":"ulcorn","⌝":"urcorn","⌞":"dlcorn","⌟":"drcorn","⌢":"frown","⌣":"smile","⌭":"cylcty","⌮":"profalar","⌶":"topbot","⌽":"ovbar","⌿":"solbar","⍼":"angzarr","⎰":"lmoust","⎱":"rmoust","⎴":"tbrk","⎵":"bbrk","⎶":"bbrktbrk","⏜":"OverParenthesis","⏝":"UnderParenthesis","⏞":"OverBrace","⏟":"UnderBrace","⏢":"trpezium","⏧":"elinters","␣":"blank","─":"boxh","│":"boxv","┌":"boxdr","┐":"boxdl","└":"boxur","┘":"boxul","├":"boxvr","┤":"boxvl","┬":"boxhd","┴":"boxhu","┼":"boxvh","═":"boxH","║":"boxV","╒":"boxdR","╓":"boxDr","╔":"boxDR","╕":"boxdL","╖":"boxDl","╗":"boxDL","╘":"boxuR","╙":"boxUr","╚":"boxUR","╛":"boxuL","╜":"boxUl","╝":"boxUL","╞":"boxvR","╟":"boxVr","╠":"boxVR","╡":"boxvL","╢":"boxVl","╣":"boxVL","╤":"boxHd","╥":"boxhD","╦":"boxHD","╧":"boxHu","╨":"boxhU","╩":"boxHU","╪":"boxvH","╫":"boxVh","╬":"boxVH","▀":"uhblk","▄":"lhblk","█":"block","░":"blk14","▒":"blk12","▓":"blk34","□":"squ","▪":"squf","▫":"EmptyVerySmallSquare","▭":"rect","▮":"marker","▱":"fltns","△":"xutri","▴":"utrif","▵":"utri","▸":"rtrif","▹":"rtri","▽":"xdtri","▾":"dtrif","▿":"dtri","◂":"ltrif","◃":"ltri","◊":"loz","○":"cir","◬":"tridot","◯":"xcirc","◸":"ultri","◹":"urtri","◺":"lltri","◻":"EmptySmallSquare","◼":"FilledSmallSquare","★":"starf","☆":"star","☎":"phone","♀":"female","♂":"male","♠":"spades","♣":"clubs","♥":"hearts","♦":"diams","♪":"sung","✓":"check","✗":"cross","✠":"malt","✶":"sext","❘":"VerticalSeparator","⟈":"bsolhsub","⟉":"suphsol","⟵":"xlarr","⟶":"xrarr","⟷":"xharr","⟸":"xlArr","⟹":"xrArr","⟺":"xhArr","⟼":"xmap","⟿":"dzigrarr","⤂":"nvlArr","⤃":"nvrArr","⤄":"nvHarr","⤅":"Map","⤌":"lbarr","⤍":"rbarr","⤎":"lBarr","⤏":"rBarr","⤐":"RBarr","⤑":"DDotrahd","⤒":"UpArrowBar","⤓":"DownArrowBar","⤖":"Rarrtl","⤙":"latail","⤚":"ratail","⤛":"lAtail","⤜":"rAtail","⤝":"larrfs","⤞":"rarrfs","⤟":"larrbfs","⤠":"rarrbfs","⤣":"nwarhk","⤤":"nearhk","⤥":"searhk","⤦":"swarhk","⤧":"nwnear","⤨":"toea","⤩":"tosa","⤪":"swnwar","⤳":"rarrc","⤳̸":"nrarrc","⤵":"cudarrr","⤶":"ldca","⤷":"rdca","⤸":"cudarrl","⤹":"larrpl","⤼":"curarrm","⤽":"cularrp","⥅":"rarrpl","⥈":"harrcir","⥉":"Uarrocir","⥊":"lurdshar","⥋":"ldrushar","⥎":"LeftRightVector","⥏":"RightUpDownVector","⥐":"DownLeftRightVector","⥑":"LeftUpDownVector","⥒":"LeftVectorBar","⥓":"RightVectorBar","⥔":"RightUpVectorBar","⥕":"RightDownVectorBar","⥖":"DownLeftVectorBar","⥗":"DownRightVectorBar","⥘":"LeftUpVectorBar","⥙":"LeftDownVectorBar","⥚":"LeftTeeVector","⥛":"RightTeeVector","⥜":"RightUpTeeVector","⥝":"RightDownTeeVector","⥞":"DownLeftTeeVector","⥟":"DownRightTeeVector","⥠":"LeftUpTeeVector","⥡":"LeftDownTeeVector","⥢":"lHar","⥣":"uHar","⥤":"rHar","⥥":"dHar","⥦":"luruhar","⥧":"ldrdhar","⥨":"ruluhar","⥩":"rdldhar","⥪":"lharul","⥫":"llhard","⥬":"rharul","⥭":"lrhard","⥮":"udhar","⥯":"duhar","⥰":"RoundImplies","⥱":"erarr","⥲":"simrarr","⥳":"larrsim","⥴":"rarrsim","⥵":"rarrap","⥶":"ltlarr","⥸":"gtrarr","⥹":"subrarr","⥻":"suplarr","⥼":"lfisht","⥽":"rfisht","⥾":"ufisht","⥿":"dfisht","⦚":"vzigzag","⦜":"vangrt","⦝":"angrtvbd","⦤":"ange","⦥":"range","⦦":"dwangle","⦧":"uwangle","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","⦰":"bemptyv","⦱":"demptyv","⦲":"cemptyv","⦳":"raemptyv","⦴":"laemptyv","⦵":"ohbar","⦶":"omid","⦷":"opar","⦹":"operp","⦻":"olcross","⦼":"odsold","⦾":"olcir","⦿":"ofcir","⧀":"olt","⧁":"ogt","⧂":"cirscir","⧃":"cirE","⧄":"solb","⧅":"bsolb","⧉":"boxbox","⧍":"trisb","⧎":"rtriltri","⧏":"LeftTriangleBar","⧏̸":"NotLeftTriangleBar","⧐":"RightTriangleBar","⧐̸":"NotRightTriangleBar","⧜":"iinfin","⧝":"infintie","⧞":"nvinfin","⧣":"eparsl","⧤":"smeparsl","⧥":"eqvparsl","⧫":"lozf","⧴":"RuleDelayed","⧶":"dsol","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨄":"xuplus","⨆":"xsqcup","⨍":"fpartint","⨐":"cirfnint","⨑":"awint","⨒":"rppolint","⨓":"scpolint","⨔":"npolint","⨕":"pointint","⨖":"quatint","⨗":"intlarhk","⨢":"pluscir","⨣":"plusacir","⨤":"simplus","⨥":"plusdu","⨦":"plussim","⨧":"plustwo","⨩":"mcomma","⨪":"minusdu","⨭":"loplus","⨮":"roplus","⨯":"Cross","⨰":"timesd","⨱":"timesbar","⨳":"smashp","⨴":"lotimes","⨵":"rotimes","⨶":"otimesas","⨷":"Otimes","⨸":"odiv","⨹":"triplus","⨺":"triminus","⨻":"tritime","⨼":"iprod","⨿":"amalg","⩀":"capdot","⩂":"ncup","⩃":"ncap","⩄":"capand","⩅":"cupor","⩆":"cupcap","⩇":"capcup","⩈":"cupbrcap","⩉":"capbrcup","⩊":"cupcup","⩋":"capcap","⩌":"ccups","⩍":"ccaps","⩐":"ccupssm","⩓":"And","⩔":"Or","⩕":"andand","⩖":"oror","⩗":"orslope","⩘":"andslope","⩚":"andv","⩛":"orv","⩜":"andd","⩝":"ord","⩟":"wedbar","⩦":"sdote","⩪":"simdot","⩭":"congdot","⩭̸":"ncongdot","⩮":"easter","⩯":"apacir","⩰":"apE","⩰̸":"napE","⩱":"eplus","⩲":"pluse","⩳":"Esim","⩷":"eDDot","⩸":"equivDD","⩹":"ltcir","⩺":"gtcir","⩻":"ltquest","⩼":"gtquest","⩽":"les","⩽̸":"nles","⩾":"ges","⩾̸":"nges","⩿":"lesdot","⪀":"gesdot","⪁":"lesdoto","⪂":"gesdoto","⪃":"lesdotor","⪄":"gesdotol","⪅":"lap","⪆":"gap","⪇":"lne","⪈":"gne","⪉":"lnap","⪊":"gnap","⪋":"lEg","⪌":"gEl","⪍":"lsime","⪎":"gsime","⪏":"lsimg","⪐":"gsiml","⪑":"lgE","⪒":"glE","⪓":"lesges","⪔":"gesles","⪕":"els","⪖":"egs","⪗":"elsdot","⪘":"egsdot","⪙":"el","⪚":"eg","⪝":"siml","⪞":"simg","⪟":"simlE","⪠":"simgE","⪡":"LessLess","⪡̸":"NotNestedLessLess","⪢":"GreaterGreater","⪢̸":"NotNestedGreaterGreater","⪤":"glj","⪥":"gla","⪦":"ltcc","⪧":"gtcc","⪨":"lescc","⪩":"gescc","⪪":"smt","⪫":"lat","⪬":"smte","⪬︀":"smtes","⪭":"late","⪭︀":"lates","⪮":"bumpE","⪯":"pre","⪯̸":"npre","⪰":"sce","⪰̸":"nsce","⪳":"prE","⪴":"scE","⪵":"prnE","⪶":"scnE","⪷":"prap","⪸":"scap","⪹":"prnap","⪺":"scnap","⪻":"Pr","⪼":"Sc","⪽":"subdot","⪾":"supdot","⪿":"subplus","⫀":"supplus","⫁":"submult","⫂":"supmult","⫃":"subedot","⫄":"supedot","⫅":"subE","⫅̸":"nsubE","⫆":"supE","⫆̸":"nsupE","⫇":"subsim","⫈":"supsim","⫋︀":"vsubnE","⫋":"subnE","⫌︀":"vsupnE","⫌":"supnE","⫏":"csub","⫐":"csup","⫑":"csube","⫒":"csupe","⫓":"subsup","⫔":"supsub","⫕":"subsub","⫖":"supsup","⫗":"suphsub","⫘":"supdsub","⫙":"forkv","⫚":"topfork","⫛":"mlcp","⫤":"Dashv","⫦":"Vdashl","⫧":"Barv","⫨":"vBar","⫩":"vBarv","⫫":"Vbar","⫬":"Not","⫭":"bNot","⫮":"rnmid","⫯":"cirmid","⫰":"midcir","⫱":"topcir","⫲":"nhpar","⫳":"parsim","⫽":"parsl","⫽⃥":"nparsl","♭":"flat","♮":"natur","♯":"sharp","¤":"curren","¢":"cent",$:"dollar","£":"pound","¥":"yen","€":"euro","¹":"sup1","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","²":"sup2","⅔":"frac23","⅖":"frac25","³":"sup3","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","𝒶":"ascr","𝕒":"aopf","𝔞":"afr","𝔸":"Aopf","𝔄":"Afr","𝒜":"Ascr",ª:"ordf",á:"aacute",Á:"Aacute",à:"agrave",À:"Agrave",ă:"abreve",Ă:"Abreve",â:"acirc",Â:"Acirc",å:"aring",Å:"angst",ä:"auml",Ä:"Auml",ã:"atilde",Ã:"Atilde",ą:"aogon",Ą:"Aogon",ā:"amacr",Ā:"Amacr",æ:"aelig",Æ:"AElig","𝒷":"bscr","𝕓":"bopf","𝔟":"bfr","𝔹":"Bopf",ℬ:"Bscr","𝔅":"Bfr","𝔠":"cfr","𝒸":"cscr","𝕔":"copf",ℭ:"Cfr","𝒞":"Cscr",ℂ:"Copf",ć:"cacute",Ć:"Cacute",ĉ:"ccirc",Ĉ:"Ccirc",č:"ccaron",Č:"Ccaron",ċ:"cdot",Ċ:"Cdot",ç:"ccedil",Ç:"Ccedil","℅":"incare","𝔡":"dfr","ⅆ":"dd","𝕕":"dopf","𝒹":"dscr","𝒟":"Dscr","𝔇":"Dfr","ⅅ":"DD","𝔻":"Dopf",ď:"dcaron",Ď:"Dcaron",đ:"dstrok",Đ:"Dstrok",ð:"eth",Ð:"ETH","ⅇ":"ee",ℯ:"escr","𝔢":"efr","𝕖":"eopf",ℰ:"Escr","𝔈":"Efr","𝔼":"Eopf",é:"eacute",É:"Eacute",è:"egrave",È:"Egrave",ê:"ecirc",Ê:"Ecirc",ě:"ecaron",Ě:"Ecaron",ë:"euml",Ë:"Euml",ė:"edot",Ė:"Edot",ę:"eogon",Ę:"Eogon",ē:"emacr",Ē:"Emacr","𝔣":"ffr","𝕗":"fopf","𝒻":"fscr","𝔉":"Ffr","𝔽":"Fopf",ℱ:"Fscr",ﬀ:"fflig",ﬃ:"ffilig",ﬄ:"ffllig",ﬁ:"filig",fj:"fjlig",ﬂ:"fllig",ƒ:"fnof",ℊ:"gscr","𝕘":"gopf","𝔤":"gfr","𝒢":"Gscr","𝔾":"Gopf","𝔊":"Gfr",ǵ:"gacute",ğ:"gbreve",Ğ:"Gbreve",ĝ:"gcirc",Ĝ:"Gcirc",ġ:"gdot",Ġ:"Gdot",Ģ:"Gcedil","𝔥":"hfr",ℎ:"planckh","𝒽":"hscr","𝕙":"hopf",ℋ:"Hscr",ℌ:"Hfr",ℍ:"Hopf",ĥ:"hcirc",Ĥ:"Hcirc",ℏ:"hbar",ħ:"hstrok",Ħ:"Hstrok","𝕚":"iopf","𝔦":"ifr","𝒾":"iscr","ⅈ":"ii","𝕀":"Iopf",ℐ:"Iscr",ℑ:"Im",í:"iacute",Í:"Iacute",ì:"igrave",Ì:"Igrave",î:"icirc",Î:"Icirc",ï:"iuml",Ï:"Iuml",ĩ:"itilde",Ĩ:"Itilde",İ:"Idot",į:"iogon",Į:"Iogon",ī:"imacr",Ī:"Imacr",ĳ:"ijlig",Ĳ:"IJlig",ı:"imath","𝒿":"jscr","𝕛":"jopf","𝔧":"jfr","𝒥":"Jscr","𝔍":"Jfr","𝕁":"Jopf",ĵ:"jcirc",Ĵ:"Jcirc","ȷ":"jmath","𝕜":"kopf","𝓀":"kscr","𝔨":"kfr","𝒦":"Kscr","𝕂":"Kopf","𝔎":"Kfr",ķ:"kcedil",Ķ:"Kcedil","𝔩":"lfr","𝓁":"lscr",ℓ:"ell","𝕝":"lopf",ℒ:"Lscr","𝔏":"Lfr","𝕃":"Lopf",ĺ:"lacute",Ĺ:"Lacute",ľ:"lcaron",Ľ:"Lcaron",ļ:"lcedil",Ļ:"Lcedil",ł:"lstrok",Ł:"Lstrok",ŀ:"lmidot",Ŀ:"Lmidot","𝔪":"mfr","𝕞":"mopf","𝓂":"mscr","𝔐":"Mfr","𝕄":"Mopf",ℳ:"Mscr","𝔫":"nfr","𝕟":"nopf","𝓃":"nscr",ℕ:"Nopf","𝒩":"Nscr","𝔑":"Nfr",ń:"nacute",Ń:"Nacute",ň:"ncaron",Ň:"Ncaron",ñ:"ntilde",Ñ:"Ntilde",ņ:"ncedil",Ņ:"Ncedil","№":"numero",ŋ:"eng",Ŋ:"ENG","𝕠":"oopf","𝔬":"ofr",ℴ:"oscr","𝒪":"Oscr","𝔒":"Ofr","𝕆":"Oopf",º:"ordm",ó:"oacute",Ó:"Oacute",ò:"ograve",Ò:"Ograve",ô:"ocirc",Ô:"Ocirc",ö:"ouml",Ö:"Ouml",ő:"odblac",Ő:"Odblac",õ:"otilde",Õ:"Otilde",ø:"oslash",Ø:"Oslash",ō:"omacr",Ō:"Omacr",œ:"oelig",Œ:"OElig","𝔭":"pfr","𝓅":"pscr","𝕡":"popf",ℙ:"Popf","𝔓":"Pfr","𝒫":"Pscr","𝕢":"qopf","𝔮":"qfr","𝓆":"qscr","𝒬":"Qscr","𝔔":"Qfr",ℚ:"Qopf",ĸ:"kgreen","𝔯":"rfr","𝕣":"ropf","𝓇":"rscr",ℛ:"Rscr",ℜ:"Re",ℝ:"Ropf",ŕ:"racute",Ŕ:"Racute",ř:"rcaron",Ř:"Rcaron",ŗ:"rcedil",Ŗ:"Rcedil","𝕤":"sopf","𝓈":"sscr","𝔰":"sfr","𝕊":"Sopf","𝔖":"Sfr","𝒮":"Sscr","Ⓢ":"oS",ś:"sacute",Ś:"Sacute",ŝ:"scirc",Ŝ:"Scirc",š:"scaron",Š:"Scaron",ş:"scedil",Ş:"Scedil",ß:"szlig","𝔱":"tfr","𝓉":"tscr","𝕥":"topf","𝒯":"Tscr","𝔗":"Tfr","𝕋":"Topf",ť:"tcaron",Ť:"Tcaron",ţ:"tcedil",Ţ:"Tcedil","™":"trade",ŧ:"tstrok",Ŧ:"Tstrok","𝓊":"uscr","𝕦":"uopf","𝔲":"ufr","𝕌":"Uopf","𝔘":"Ufr","𝒰":"Uscr",ú:"uacute",Ú:"Uacute",ù:"ugrave",Ù:"Ugrave",ŭ:"ubreve",Ŭ:"Ubreve",û:"ucirc",Û:"Ucirc",ů:"uring",Ů:"Uring",ü:"uuml",Ü:"Uuml",ű:"udblac",Ű:"Udblac",ũ:"utilde",Ũ:"Utilde",ų:"uogon",Ų:"Uogon",ū:"umacr",Ū:"Umacr","𝔳":"vfr","𝕧":"vopf","𝓋":"vscr","𝔙":"Vfr","𝕍":"Vopf","𝒱":"Vscr","𝕨":"wopf","𝓌":"wscr","𝔴":"wfr","𝒲":"Wscr","𝕎":"Wopf","𝔚":"Wfr",ŵ:"wcirc",Ŵ:"Wcirc","𝔵":"xfr","𝓍":"xscr","𝕩":"xopf","𝕏":"Xopf","𝔛":"Xfr","𝒳":"Xscr","𝔶":"yfr","𝓎":"yscr","𝕪":"yopf","𝒴":"Yscr","𝔜":"Yfr","𝕐":"Yopf",ý:"yacute",Ý:"Yacute",ŷ:"ycirc",Ŷ:"Ycirc",ÿ:"yuml",Ÿ:"Yuml","𝓏":"zscr","𝔷":"zfr","𝕫":"zopf",ℨ:"Zfr",ℤ:"Zopf","𝒵":"Zscr",ź:"zacute",Ź:"Zacute",ž:"zcaron",Ž:"Zcaron",ż:"zdot",Ż:"Zdot",Ƶ:"imped",þ:"thorn",Þ:"THORN",ŉ:"napos",α:"alpha",Α:"Alpha",β:"beta",Β:"Beta",γ:"gamma",Γ:"Gamma",δ:"delta",Δ:"Delta",ε:"epsi","ϵ":"epsiv",Ε:"Epsilon",ϝ:"gammad",Ϝ:"Gammad",ζ:"zeta",Ζ:"Zeta",η:"eta",Η:"Eta",θ:"theta",ϑ:"thetav",Θ:"Theta",ι:"iota",Ι:"Iota",κ:"kappa",ϰ:"kappav",Κ:"Kappa",λ:"lambda",Λ:"Lambda",μ:"mu",µ:"micro",Μ:"Mu",ν:"nu",Ν:"Nu",ξ:"xi",Ξ:"Xi",ο:"omicron",Ο:"Omicron",π:"pi",ϖ:"piv",Π:"Pi",ρ:"rho",ϱ:"rhov",Ρ:"Rho",σ:"sigma",Σ:"Sigma",ς:"sigmaf",τ:"tau",Τ:"Tau",υ:"upsi",Υ:"Upsilon",ϒ:"Upsi",φ:"phi",ϕ:"phiv",Φ:"Phi",χ:"chi",Χ:"Chi",ψ:"psi",Ψ:"Psi",ω:"omega",Ω:"ohm",а:"acy",А:"Acy",б:"bcy",Б:"Bcy",в:"vcy",В:"Vcy",г:"gcy",Г:"Gcy",ѓ:"gjcy",Ѓ:"GJcy",д:"dcy",Д:"Dcy",ђ:"djcy",Ђ:"DJcy",е:"iecy",Е:"IEcy",ё:"iocy",Ё:"IOcy",є:"jukcy",Є:"Jukcy",ж:"zhcy",Ж:"ZHcy",з:"zcy",З:"Zcy",ѕ:"dscy",Ѕ:"DScy",и:"icy",И:"Icy",і:"iukcy",І:"Iukcy",ї:"yicy",Ї:"YIcy",й:"jcy",Й:"Jcy",ј:"jsercy",Ј:"Jsercy",к:"kcy",К:"Kcy",ќ:"kjcy",Ќ:"KJcy",л:"lcy",Л:"Lcy",љ:"ljcy",Љ:"LJcy",м:"mcy",М:"Mcy",н:"ncy",Н:"Ncy",њ:"njcy",Њ:"NJcy",о:"ocy",О:"Ocy",п:"pcy",П:"Pcy",р:"rcy",Р:"Rcy",с:"scy",С:"Scy",т:"tcy",Т:"Tcy",ћ:"tshcy",Ћ:"TSHcy",у:"ucy",У:"Ucy",ў:"ubrcy",Ў:"Ubrcy",ф:"fcy",Ф:"Fcy",х:"khcy",Х:"KHcy",ц:"tscy",Ц:"TScy",ч:"chcy",Ч:"CHcy",џ:"dzcy",Џ:"DZcy",ш:"shcy",Ш:"SHcy",щ:"shchcy",Щ:"SHCHcy",ъ:"hardcy",Ъ:"HARDcy",ы:"ycy",Ы:"Ycy",ь:"softcy",Ь:"SOFTcy",э:"ecy",Э:"Ecy",ю:"yucy",Ю:"YUcy",я:"yacy",Я:"YAcy",ℵ:"aleph",ℶ:"beth",ℷ:"gimel",ℸ:"daleth"},g=/["&'<>`]/g,p={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},v=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,A=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,b=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,E={aacute:"á",Aacute:"Á",abreve:"ă",Abreve:"Ă",ac:"∾",acd:"∿",acE:"∾̳",acirc:"â",Acirc:"Â",acute:"´",acy:"а",Acy:"А",aelig:"æ",AElig:"Æ",af:"⁡",afr:"𝔞",Afr:"𝔄",agrave:"à",Agrave:"À",alefsym:"ℵ",aleph:"ℵ",alpha:"α",Alpha:"Α",amacr:"ā",Amacr:"Ā",amalg:"⨿",amp:"&",AMP:"&",and:"∧",And:"⩓",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",Aogon:"Ą",aopf:"𝕒",Aopf:"𝔸",ap:"≈",apacir:"⩯",ape:"≊",apE:"⩰",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",aring:"å",Aring:"Å",ascr:"𝒶",Ascr:"𝒜",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",Bcy:"Б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",beta:"β",Beta:"Β",beth:"ℶ",between:"≬",bfr:"𝔟",Bfr:"𝔅",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bNot:"⫭",bopf:"𝕓",Bopf:"𝔹",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxhD:"╥",boxHd:"╤",boxHD:"╦",boxhu:"┴",boxhU:"╨",boxHu:"╧",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpe:"≏",bumpE:"⪮",bumpeq:"≏",Bumpeq:"≎",cacute:"ć",Cacute:"Ć",cap:"∩",Cap:"⋒",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",ccaron:"č",Ccaron:"Č",ccedil:"ç",Ccedil:"Ç",ccirc:"ĉ",Ccirc:"Ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",Cdot:"Ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",chcy:"ч",CHcy:"Ч",check:"✓",checkmark:"✓",chi:"χ",Chi:"Χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cire:"≗",cirE:"⧃",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",colone:"≔",Colone:"⩴",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",cscr:"𝒸",Cscr:"𝒞",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",Cup:"⋓",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",dArr:"⇓",Darr:"↡",dash:"‐",dashv:"⊣",Dashv:"⫤",dbkarow:"⤏",dblac:"˝",dcaron:"ď",Dcaron:"Ď",dcy:"д",Dcy:"Д",dd:"ⅆ",DD:"ⅅ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",delta:"δ",Delta:"Δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",Dfr:"𝔇",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",DJcy:"Ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",Dopf:"𝔻",dot:"˙",Dot:"¨",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",downarrow:"↓",Downarrow:"⇓",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",Dscr:"𝒟",dscy:"ѕ",DScy:"Ѕ",dsol:"⧶",dstrok:"đ",Dstrok:"Đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",DZcy:"Џ",dzigrarr:"⟿",eacute:"é",Eacute:"É",easter:"⩮",ecaron:"ě",Ecaron:"Ě",ecir:"≖",ecirc:"ê",Ecirc:"Ê",ecolon:"≕",ecy:"э",Ecy:"Э",eDDot:"⩷",edot:"ė",eDot:"≑",Edot:"Ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",Efr:"𝔈",eg:"⪚",egrave:"è",Egrave:"È",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",Emacr:"Ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",eng:"ŋ",ENG:"Ŋ",ensp:" ",eogon:"ę",Eogon:"Ę",eopf:"𝕖",Eopf:"𝔼",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",Epsilon:"Ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",esim:"≂",Esim:"⩳",eta:"η",Eta:"Η",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",fcy:"ф",Fcy:"Ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",Ffr:"𝔉",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",Fopf:"𝔽",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",gamma:"γ",Gamma:"Γ",gammad:"ϝ",Gammad:"Ϝ",gap:"⪆",gbreve:"ğ",Gbreve:"Ğ",Gcedil:"Ģ",gcirc:"ĝ",Gcirc:"Ĝ",gcy:"г",Gcy:"Г",gdot:"ġ",Gdot:"Ġ",ge:"≥",gE:"≧",gel:"⋛",gEl:"⪌",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",Gfr:"𝔊",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",GJcy:"Ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",Gopf:"𝔾",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",gscr:"ℊ",Gscr:"𝒢",gsim:"≳",gsime:"⪎",gsiml:"⪐",gt:">",Gt:"≫",GT:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",HARDcy:"Ъ",harr:"↔",hArr:"⇔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",hcirc:"ĥ",Hcirc:"Ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",hstrok:"ħ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",iacute:"í",Iacute:"Í",ic:"⁣",icirc:"î",Icirc:"Î",icy:"и",Icy:"И",Idot:"İ",iecy:"е",IEcy:"Е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",igrave:"ì",Igrave:"Ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",IJlig:"Ĳ",Im:"ℑ",imacr:"ī",Imacr:"Ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",Int:"∬",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",iocy:"ё",IOcy:"Ё",iogon:"į",Iogon:"Į",iopf:"𝕚",Iopf:"𝕀",iota:"ι",Iota:"Ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",Itilde:"Ĩ",iukcy:"і",Iukcy:"І",iuml:"ï",Iuml:"Ï",jcirc:"ĵ",Jcirc:"Ĵ",jcy:"й",Jcy:"Й",jfr:"𝔧",Jfr:"𝔍",jmath:"ȷ",jopf:"𝕛",Jopf:"𝕁",jscr:"𝒿",Jscr:"𝒥",jsercy:"ј",Jsercy:"Ј",jukcy:"є",Jukcy:"Є",kappa:"κ",Kappa:"Κ",kappav:"ϰ",kcedil:"ķ",Kcedil:"Ķ",kcy:"к",Kcy:"К",kfr:"𝔨",Kfr:"𝔎",kgreen:"ĸ",khcy:"х",KHcy:"Х",kjcy:"ќ",KJcy:"Ќ",kopf:"𝕜",Kopf:"𝕂",kscr:"𝓀",Kscr:"𝒦",lAarr:"⇚",lacute:"ĺ",Lacute:"Ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",Lambda:"Λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larr:"←",lArr:"⇐",Larr:"↞",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",lAtail:"⤛",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",Lcaron:"Ľ",lcedil:"ļ",Lcedil:"Ļ",lceil:"⌈",lcub:"{",lcy:"л",Lcy:"Л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",leftarrow:"←",Leftarrow:"⇐",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",Leftrightarrow:"⇔",LeftRightArrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",leg:"⋚",lEg:"⪋",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",Lfr:"𝔏",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",LJcy:"Љ",ll:"≪",Ll:"⋘",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",lmidot:"ŀ",Lmidot:"Ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",Longleftarrow:"⟸",LongLeftArrow:"⟵",longleftrightarrow:"⟷",Longleftrightarrow:"⟺",LongLeftRightArrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",Longrightarrow:"⟹",LongRightArrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",Lopf:"𝕃",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",Lstrok:"Ł",lt:"<",Lt:"≪",LT:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",map:"↦",Map:"⤅",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",Mcy:"М",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",mfr:"𝔪",Mfr:"𝔐",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",Mopf:"𝕄",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",mu:"μ",Mu:"Μ",multimap:"⊸",mumap:"⊸",nabla:"∇",nacute:"ń",Nacute:"Ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",Ncaron:"Ň",ncedil:"ņ",Ncedil:"Ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",Ncy:"Н",ndash:"–",ne:"≠",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",nfr:"𝔫",Nfr:"𝔑",nge:"≱",ngE:"≧̸",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",ngt:"≯",nGt:"≫⃒",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",NJcy:"Њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nle:"≰",nlE:"≦̸",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nlt:"≮",nLt:"≪⃒",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",not:"¬",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrarr:"↛",nrArr:"⇏",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",Nscr:"𝒩",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsube:"⊈",nsubE:"⫅̸",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupe:"⊉",nsupE:"⫆̸",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntilde:"ñ",Ntilde:"Ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",Nu:"Ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",oacute:"ó",Oacute:"Ó",oast:"⊛",ocir:"⊚",ocirc:"ô",Ocirc:"Ô",ocy:"о",Ocy:"О",odash:"⊝",odblac:"ő",Odblac:"Ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",OElig:"Œ",ofcir:"⦿",ofr:"𝔬",Ofr:"𝔒",ogon:"˛",ograve:"ò",Ograve:"Ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",Omacr:"Ō",omega:"ω",Omega:"Ω",omicron:"ο",Omicron:"Ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",Oopf:"𝕆",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",or:"∨",Or:"⩔",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",oscr:"ℴ",Oscr:"𝒪",oslash:"ø",Oslash:"Ø",osol:"⊘",otilde:"õ",Otilde:"Õ",otimes:"⊗",Otimes:"⨷",otimesas:"⨶",ouml:"ö",Ouml:"Ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",pcy:"п",Pcy:"П",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",Pfr:"𝔓",phi:"φ",Phi:"Φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",Pi:"Π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",pr:"≺",Pr:"⪻",prap:"⪷",prcue:"≼",pre:"⪯",prE:"⪳",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",Pscr:"𝒫",psi:"ψ",Psi:"Ψ",puncsp:" ",qfr:"𝔮",Qfr:"𝔔",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",qscr:"𝓆",Qscr:"𝒬",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",racute:"ŕ",Racute:"Ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarr:"→",rArr:"⇒",Rarr:"↠",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",Rarrtl:"⤖",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",Rcaron:"Ř",rcedil:"ŗ",Rcedil:"Ŗ",rceil:"⌉",rcub:"}",rcy:"р",Rcy:"Р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",Rho:"Ρ",rhov:"ϱ",RightAngleBracket:"⟩",rightarrow:"→",Rightarrow:"⇒",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",sacute:"ś",Sacute:"Ś",sbquo:"‚",sc:"≻",Sc:"⪼",scap:"⪸",scaron:"š",Scaron:"Š",sccue:"≽",sce:"⪰",scE:"⪴",scedil:"ş",Scedil:"Ş",scirc:"ŝ",Scirc:"Ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",Scy:"С",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",Sfr:"𝔖",sfrown:"⌢",sharp:"♯",shchcy:"щ",SHCHcy:"Щ",shcy:"ш",SHcy:"Ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",sigma:"σ",Sigma:"Σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",SOFTcy:"Ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",Sopf:"𝕊",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",Sscr:"𝒮",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",Star:"⋆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",sube:"⊆",subE:"⫅",subedot:"⫃",submult:"⫁",subne:"⊊",subnE:"⫋",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup:"⊃",Sup:"⋑",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supe:"⊇",supE:"⫆",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supne:"⊋",supnE:"⫌",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",tau:"τ",Tau:"Τ",tbrk:"⎴",tcaron:"ť",Tcaron:"Ť",tcedil:"ţ",Tcedil:"Ţ",tcy:"т",Tcy:"Т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",Tfr:"𝔗",there4:"∴",therefore:"∴",Therefore:"∴",theta:"θ",Theta:"Θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",thorn:"þ",THORN:"Þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",Topf:"𝕋",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",Tscr:"𝒯",tscy:"ц",TScy:"Ц",tshcy:"ћ",TSHcy:"Ћ",tstrok:"ŧ",Tstrok:"Ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uacute:"ú",Uacute:"Ú",uarr:"↑",uArr:"⇑",Uarr:"↟",Uarrocir:"⥉",ubrcy:"ў",Ubrcy:"Ў",ubreve:"ŭ",Ubreve:"Ŭ",ucirc:"û",Ucirc:"Û",ucy:"у",Ucy:"У",udarr:"⇅",udblac:"ű",Udblac:"Ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",Ufr:"𝔘",ugrave:"ù",Ugrave:"Ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",Umacr:"Ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",uogon:"ų",Uogon:"Ų",uopf:"𝕦",Uopf:"𝕌",uparrow:"↑",Uparrow:"⇑",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",updownarrow:"↕",Updownarrow:"⇕",UpDownArrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",upsilon:"υ",Upsilon:"Υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",Uring:"Ů",urtri:"◹",uscr:"𝓊",Uscr:"𝒰",utdot:"⋰",utilde:"ũ",Utilde:"Ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uuml:"ü",Uuml:"Ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",vcy:"в",Vcy:"В",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",vee:"∨",Vee:"⋁",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",vfr:"𝔳",Vfr:"𝔙",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",Vopf:"𝕍",vprop:"∝",vrtri:"⊳",vscr:"𝓋",Vscr:"𝒱",vsubne:"⊊︀",vsubnE:"⫋︀",vsupne:"⊋︀",vsupnE:"⫌︀",Vvdash:"⊪",vzigzag:"⦚",wcirc:"ŵ",Wcirc:"Ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",wfr:"𝔴",Wfr:"𝔚",wopf:"𝕨",Wopf:"𝕎",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",Wscr:"𝒲",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",Xfr:"𝔛",xharr:"⟷",xhArr:"⟺",xi:"ξ",Xi:"Ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",Xopf:"𝕏",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",xscr:"𝓍",Xscr:"𝒳",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacute:"ý",Yacute:"Ý",yacy:"я",YAcy:"Я",ycirc:"ŷ",Ycirc:"Ŷ",ycy:"ы",Ycy:"Ы",yen:"¥",yfr:"𝔶",Yfr:"𝔜",yicy:"ї",YIcy:"Ї",yopf:"𝕪",Yopf:"𝕐",yscr:"𝓎",Yscr:"𝒴",yucy:"ю",YUcy:"Ю",yuml:"ÿ",Yuml:"Ÿ",zacute:"ź",Zacute:"Ź",zcaron:"ž",Zcaron:"Ž",zcy:"з",Zcy:"З",zdot:"ż",Zdot:"Ż",zeetrf:"ℨ",ZeroWidthSpace:"​",zeta:"ζ",Zeta:"Ζ",zfr:"𝔷",Zfr:"ℨ",zhcy:"ж",ZHcy:"Ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",zscr:"𝓏",Zscr:"𝒵",zwj:"‍",zwnj:"‌"},w={aacute:"á",Aacute:"Á",acirc:"â",Acirc:"Â",acute:"´",aelig:"æ",AElig:"Æ",agrave:"à",Agrave:"À",amp:"&",AMP:"&",aring:"å",Aring:"Å",atilde:"ã",Atilde:"Ã",auml:"ä",Auml:"Ä",brvbar:"¦",ccedil:"ç",Ccedil:"Ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",Eacute:"É",ecirc:"ê",Ecirc:"Ê",egrave:"è",Egrave:"È",eth:"ð",ETH:"Ð",euml:"ë",Euml:"Ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",iacute:"í",Iacute:"Í",icirc:"î",Icirc:"Î",iexcl:"¡",igrave:"ì",Igrave:"Ì",iquest:"¿",iuml:"ï",Iuml:"Ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",Ntilde:"Ñ",oacute:"ó",Oacute:"Ó",ocirc:"ô",Ocirc:"Ô",ograve:"ò",Ograve:"Ò",ordf:"ª",ordm:"º",oslash:"ø",Oslash:"Ø",otilde:"õ",Otilde:"Õ",ouml:"ö",Ouml:"Ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",THORN:"Þ",times:"×",uacute:"ú",Uacute:"Ú",ucirc:"û",Ucirc:"Û",ugrave:"ù",Ugrave:"Ù",uml:"¨",uuml:"ü",Uuml:"Ü",yacute:"ý",Yacute:"Ý",yen:"¥",yuml:"ÿ"},S={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},P=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],T=String.fromCharCode,j={},q=j.hasOwnProperty,R=function(G,H){return q.call(G,H)},_=function(G,H){for(var B=-1,V=G.length;++B<V;)if(G[B]==H)return!0;return!1},D=function(G,H){if(!G)return H;var B={},V;for(V in H)B[V]=R(G,V)?G[V]:H[V];return B},I=function(G,H){var B="";return G>=55296&&G<=57343||G>1114111?(H&&O("character reference outside the permissible Unicode range"),"�"):R(S,G)?(H&&O("disallowed character reference"),S[G]):(H&&_(P,G)&&O("disallowed character reference"),G>65535&&(G-=65536,B+=T(G>>>10&1023|55296),G=56320|G&1023),B+=T(G),B)},k=function(G){return"&#x"+G.toString(16).toUpperCase()+";"},N=function(G){return"&#"+G+";"},O=function(G){throw Error("Parse error: "+G)},W=function(G,H){H=D(H,W.options);var B=H.strict;B&&A.test(G)&&O("forbidden code point");var V=H.encodeEverything,z=H.useNamedReferences,ee=H.allowUnsafeSymbols,X=H.decimal?N:k,$=function(Q){return X(Q.charCodeAt(0))};return V?(G=G.replace(c,function(Q){return z&&R(y,Q)?"&"+y[Q]+";":$(Q)}),z&&(G=G.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),z&&(G=G.replace(d,function(Q){return"&"+y[Q]+";"}))):z?(ee||(G=G.replace(g,function(Q){return"&"+y[Q]+";"})),G=G.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),G=G.replace(d,function(Q){return"&"+y[Q]+";"})):ee||(G=G.replace(g,$)),G.replace(u,function(Q){var te=Q.charCodeAt(0),ie=Q.charCodeAt(1),fe=(te-55296)*1024+ie-56320+65536;return X(fe)}).replace(h,$)};W.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var J=function(G,H){H=D(H,J.options);var B=H.strict;return B&&v.test(G)&&O("malformed character reference"),G.replace(b,function(V,z,ee,X,$,Q,te,ie,fe){var ge,De,Ie,ke,Re,Be;return z?(Re=z,E[Re]):ee?(Re=ee,Be=X,Be&&H.isAttributeValue?(B&&Be=="="&&O("`&` did not start a character reference"),V):(B&&O("named character reference was not terminated by a semicolon"),w[Re]+(Be||""))):$?(Ie=$,De=Q,B&&!De&&O("character reference was not terminated by a semicolon"),ge=parseInt(Ie,10),I(ge,B)):te?(ke=te,De=ie,B&&!De&&O("character reference was not terminated by a semicolon"),ge=parseInt(ke,16),I(ge,B)):(B&&O("named character reference was not terminated by a semicolon"),V)})};J.options={isAttributeValue:!1,strict:!1};var se=function(G){return G.replace(g,function(H){return p[H]})},Z={version:"1.2.0",encode:W,decode:J,escape:se,unescape:J};if(n&&!n.nodeType)if(i)i.exports=Z;else for(var re in Z)R(Z,re)&&(n[re]=Z[re]);else t.he=Z})(V4)}(_u,_u.exports)),_u.exports}var z4=U4();const H4=ah(z4);function hs(r){if(typeof r=="string"){const e=r.replace(/<[^>]+>/g,"");return H4.decode(e).replace(/\s+/g," ").trim()}}class $4 extends nt{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().body,t=hs(e);this.setState({plainText:t})}componentDidUpdate(e){const t=this.props.obj.getJson().body,n=e.obj.getJson().body;if(t!==n){const i=hs(t);this.setState({plainText:i})}}render(){let e=this.props.obj.getJson().ownerMessage?"outgoing":"incoming";return C.jsx("div",{children:this.props.obj.getJson().suggestion?C.jsxs("div",{className:"message-item outgoing",children:[C.jsxs("div",{className:"close-or-accept",children:[C.jsx("div",{className:"accept-suggested-message hover-darken",onClick:async()=>{debugger;let t=this.props.obj;t.setCompState({suggestion:!1,ownerMessage:!0},{run:!0});let n={originalMessageId:t.getJson().originalMessageId||"",from:this.propsState.currentUser.getJson()._id,to:this.propsState.currentConversation.getJson().contact,subject:t.getJson().subject,text:t.getJson().body},i=this.propsState.currentUser.getJson().gmailAuthenticated?"https://gmailapiemailhandler-7c5i3vsqma-uc.a.run.app":"https://sendgridemailhandler-7c5i3vsqma-uc.a.run.app";await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(a=>{if(!a.ok)throw new Error(`HTTP error! Status: ${a.status}`);return a.json()}).then(a=>{console.log("Reply sent successfully in thread.",a)}).catch(a=>{console.error("Error sending reply:",a)})},children:C.jsx("i",{className:"fas fa-check"})}),C.jsx(VC,{obj:this.props.obj,formClass:"none",content:C.jsx("div",{className:"decline-suggested-message hover-darken",children:C.jsx("i",{className:"fas fa-times"})})})]}),C.jsx("div",{className:"message message-item-suggested",children:this.state.plainText})]}):C.jsxs(C.Fragment,{children:[this.props.obj.getJson().timeStamp&&C.jsx("div",{className:"date-divider",children:C.jsx("span",{className:"timestamp",children:this.props.obj.getJson().timeStamp})}),C.jsx("div",{className:"message-item "+e,children:C.jsx("div",{className:"message "+e,children:this.state.plainText})})]})})}}const G4="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23696969'%3e%3cpath%20d='M400-80%200-480l400-400%2071%2071-329%20329%20329%20329-71%2071Z'/%3e%3c/svg%3e";class nb extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",currentConversation:null}}async componentDidMount(){await this.prepareMessages()}async prepareMessages(){let e=this.propsState.currentConversation;e||(e=this.componentList.getComponent("conversation"),await this.dispatch({currentConversation:e})),e?(await this.prepNewMessage(),this.setState({start:!0})):this.setState({message:"no current conversations"})}async prepNewMessage(){let e=this.propsState.currentConversation;const t=e.getJson().messageType||"email";let n=this.componentList.getList("email",this.propsState.currentConversation.getJson()._id,"conversationId");n=n[n.length-1];let i=n.getJson().originalMessageId,a=n.getJson().subject;const u=await this.operationsFactory.prepare({prepare:{type:t,conversationId:e.getJson()._id,originalMessageId:i||"",subject:a,ownerMessage:!0},clean:!0});this.dispatch({currentComponent:u[0]}),this.setState({currentConversation:e})}componentDidUpdate(e,t){this.propsState.currentConversation!==this.state.currentConversation&&this.prepNewMessage()}getInnerContent(){var n,i;const{currentConversation:e}=this.propsState;let t=this.componentList.getComponent("contact",e==null?void 0:e.getJson().contact,"email");return C.jsxs("div",{children:[window.innerWidth>1&&C.jsxs("div",{style:{position:"sticky",top:0,zIndex:200,display:"flex",flexDirection:"row",alignItems:"center",justifyItems:"space-between",background:"white",padding:"20px",paddingBottom:"8px",transform:"translateZ(0)"},children:[window.innerWidth<600&&C.jsx("div",{onClick:()=>{this.dispatch({showConversation:void 0})},children:C.jsx("img",{src:G4,style:{color:"black"}})}),C.jsx("div",{className:"contact-avatar",style:{maxWidth:"45px",maxHeight:"45px"},children:C.jsx("i",{className:"fa-solid fa-user"})}),C.jsxs("div",{className:"message-header-title",children:[C.jsx("span",{className:"sender-title",children:(n=this.propsState.currentConversation)==null?void 0:n.getJson().contactName}),C.jsx("span",{className:"sender-details-button",children:"See Details"})]}),C.jsx("div",{style:{fontSize:".8rem",cursor:"pointer",minWidth:"55px"},className:"hover-basic",children:(i=t==null?void 0:t.getJson())!=null&&i.autoAI?C.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},onClick:()=>{t.setCompState({autoAI:!1},{run:!0},!0)},children:C.jsx("i",{class:"fa-solid fa-comment-nodes",style:{fontSize:"35px",color:"#36b593"}})}):C.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},onClick:()=>{t.setCompState({autoAI:!0},{run:!0},!0)},children:C.jsx("i",{class:"fa-solid fa-comment-nodes",style:{fontSize:"35px",color:"#363636"}})})})]}),C.jsx("div",{className:"layoutColumn conversation-container",style:{padding:"20px",marginBottom:"12px"},children:this.state.message?C.jsx(C.Fragment,{children:this.state.message}):C.jsx(C.Fragment,{children:this.state.start&&C.jsxs("div",{style:{width:"100%",marginTop:"-20px"},children:[C.jsx(pn,{mapContainerClass:"message-list",name:(e==null?void 0:e.getJson().messageType)||"email",cells:[{type:"custom",custom:$4}],filter:{search:this.propsState.currentConversation.getJson()._id,attribute:"conversationId"},filterFunc:a=>!(a.getJson().body===void 0||a.getJson().body==="")}),C.jsxs("div",{style:{display:"flex",flexDirection:"row",position:"sticky",bottom:0,zIndex:1,width:"100%",minHeight:"70px",paddingBottom:"85px",paddingLeft:"12px",background:"linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 1%)"},children:[C.jsx("div",{style:{position:"relative",width:"40px",zIndex:2},children:C.jsx(to,{content:C.jsx("button",{className:"footer-btn",style:{marginBottom:"-15px",position:"absolute",left:0},children:C.jsx("i",{className:"fa-solid fa-circle-plus"})}),callbackFunc:()=>{let a=this.propsState.currentComponent;if(a.getJson().body==="")return;this.prepNewMessage();let u={originalMessageId:a.getJson().originalMessageId,from:this.propsState.currentUser.getJson()._id,to:this.propsState.currentConversation.getJson().contact,subject:a.getJson().subject,text:a.getJson().body},c=this.propsState.currentUser.getJson().gmailAuthenticated?"https://gmailapiemailhandler-7c5i3vsqma-uc.a.run.app":"https://sendgridemailhandler-7c5i3vsqma-uc.a.run.app";fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(h=>{if(!h.ok)throw new Error(`HTTP error! Status: ${h.status}`);return h.json()}).then(h=>{console.log("Reply sent successfully in thread.",h)}).catch(h=>{console.error("Error sending reply:",h)})}})}),C.jsx("div",{style:{zIndex:3,width:"100%"},children:C.jsx(ft,{wrapperClass:"footer-input",formClass:"search-input",name:"body",obj:this.propsState.currentComponent})})]})]})})})]})}render(){return C.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class W4 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}async componentDidMount(){this.propsState.convoSnapped?this.dispatch({convoSnapped:!0}):(await this.componentList.getComponentsFromBackend({type:"conversation",ids:this.propsState.currentUser.getJson()._id,filterKeys:"owner",snapshot:!0}),await this.componentList.getComponentsFromBackend({type:"email",ids:this.propsState.currentUser.getJson()._id,filterKeys:"owner",snapshot:!0})),await this.componentList.sortSelectedListbyFirebaseDate("conversation"),await this.componentList.sortSelectedListbyFirebaseDate("email"),this.componentList.getAPIService().subscribeToReadObserver(async(e,t)=>{if(this.setState({start:!1}),!Array.isArray(t)){console.error("l2 is not an array:",t),this.setState({start:!0});return}let n={};for(let a of t)n[a._id]=a;let i=this.componentList.getList("conversation");i=i.map(a=>{let u=n[a.getJson()._id];return u&&a.setCompState({...u}),a}),await this.componentList.clearSelectedList("conversation",i),await this.componentList.sortSelectedListbyFirebaseDate("conversation",!0),await this.componentList.sortSelectedListbyFirebaseDate("email"),this.dispatch({ranConversationRead:!0}),this.setState({start:!0})}),this.setState({start:!0})}getInnerContent(){return C.jsxs("div",{className:"layoutRow",style:{width:"100%",height:"100%"},children:[C.jsx("div",{style:{minWidth:window.innerWidth>600?"50%":""},children:!this.propsState.showConversation&&C.jsx(C.Fragment,{children:this.state.start&&C.jsx(dn,{theme:"defaultCard",content:C.jsx(q4,{})})})}),C.jsx("div",{style:{minWidth:window.innerWidth>600?"50%":""},children:(window.innerWidth>600||this.propsState.showConversation!==void 0)&&C.jsx(C.Fragment,{children:this.state.start&&C.jsx(dn,{theme:"defaultCard",content:C.jsx(nb,{})})})})]})}render(){return C.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class dw extends _a{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.dispatch({currentTopic:void 0,currentSubTopic:void 0,currentComponent:void 0}),await this.getComponentsFromBackend()}componentWillUnmount(){this.operationsFactory.clear(),this.dispatch({currentComponent:void 0})}render(){return C.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:C.jsx("div",{className:"fit",children:this.state.getComponentsFromBackend&&C.jsx(dn,{theme:"defaultCard",content:C.jsx(W4,{})})})})}}class K4 extends nt{constructor(e){super(e)}render(){var n,i;const{obj:e}=this.props;let t=e.getJson();return C.jsxs("div",{className:"sequence",children:[C.jsxs("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:[C.jsx(hn,{to:"/sequence/"+t._id,style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-left",children:C.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.name})}),C.jsx(hn,{to:"/sequence/"+t._id,style:{marginRight:"0px"},onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-right",children:"View Details"})]}),C.jsxs("div",{className:"row row-space-around",style:{fontSize:"14px"},children:[C.jsxs("div",{className:"col",children:[C.jsx("div",{children:"Active"}),C.jsx("div",{children:((i=(n=this.componentList.getList("contact",t._id,"sequenceId"))==null?void 0:n.filter(a=>a.getJson().finished===!1))==null?void 0:i.length)||"0"})]}),C.jsxs("div",{className:"col",children:[C.jsx("div",{children:"Completed"}),C.jsx("div",{children:(t==null?void 0:t.finished)||"0"})]}),C.jsxs("div",{className:"col",children:[C.jsx("div",{children:"Opened"}),C.jsx("div",{children:t!=null&&t.openedRate?`${t==null?void 0:t.openedRate}%`:"N/A"})]}),C.jsxs("div",{className:"col",children:[C.jsx("div",{children:"Reply"}),C.jsx("div",{children:(t==null?void 0:t.replyRate)!=null?`${t.replyRate}`:"N/A"}),"                "]}),C.jsxs("div",{className:"col",children:[C.jsx("div",{children:"Bounce"}),C.jsx("div",{children:t!=null&&t.bounceRate?`${t==null?void 0:t.bounceRate}%`:"N/A"})]})]})]})}}class J4 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return C.jsxs("div",{className:"fit",children:[C.jsx("h4",{style:{marginBottom:"10px",font:"normal normal 900 16px/22px Satoshi"},children:"Sequences"}),C.jsx(pn,{name:"sequence",filterFunc:e=>{var i;if(e.getJson().name===void 0||e.getJson().name==="")return!1;let t=!1;this.propsState.searchText||(t=!0);let n=this.propsState.searchText;return(i=e.getJson().name)!=null&&i.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0),t},cells:[{type:"custom",custom:K4}]})]})}render(){return C.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class Q4 extends nt{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().content,t=hs(e);this.setState({plainText:t})}componentDidUpdate(e){var i,a;const t=(i=this.props.obj)==null?void 0:i.getJson().content,n=(a=this.props.obj)==null?void 0:a.getJson().content;if(t!==n){const u=hs(t);this.setState({plainText:u})}}render(){const{obj:e}=this.props;let t=e.getJson();return C.jsx("div",{className:"sequence",children:C.jsxs("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:[C.jsx(hn,{style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},to:"/template/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-left",children:C.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:this.state.plainText})}),C.jsx(hn,{style:{marginRight:"0px"},to:"/template/"+t._id,onClick:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})},className:"title-right",children:"View Details"})]})})}}class Y4 extends nt{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().content,t=hs(e);this.setState({plainText:t})}componentDidUpdate(e){var i,a;const t=(i=this.props.obj)==null?void 0:i.getJson().content,n=(a=this.props.obj)==null?void 0:a.getJson().content;if(t!==n){const u=hs(t);this.setState({plainText:u})}}render(){const{obj:e}=this.props;let t=e.getJson();return C.jsx("div",{className:"sequence",children:C.jsx("div",{className:"title",style:{justifyContent:"space-between",padding:"2px"},children:C.jsx("div",{style:{color:"#262626",maxWidth:"50%",minWidth:"50%"},onClick:()=>{let n=this.props.changeItem||"currentPopupComponent",i=this.props.changeAttribute||"content";this.propsState[n].setCompState({[i]:t.content}),this.dispatch({update:this.propsState[n]})},className:"title-left",children:C.jsx("span",{style:{width:"100%",display:"inline-block",overflow:"hidden",lineBreak:"anywhere",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:this.state.plainText})})})})}}class X4 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return C.jsxs(C.Fragment,{children:[C.jsx("h4",{style:{marginBottom:"10px",font:"normal normal 900 16px/22px Satoshi"},children:"Templates"}),C.jsx(pn,{name:"template",filterFunc:e=>{var i;if(e.getJson().content===void 0||e.getJson().content==="")return!1;let t=!1;this.propsState.searchText||(t=!0);let n=this.propsState.searchText;return(i=e.getJson().content)!=null&&i.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0),t},cells:[{type:"custom",custom:Q4}]})]})}render(){return C.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class Z4 extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){return C.jsxs("div",{className:"map-container",style:{paddingBottom:"62px"},children:[C.jsxs("div",{className:"top-nav-float",children:[C.jsx("nav",{className:"top-nav",children:C.jsxs("div",{className:"nav-left",children:[C.jsx("div",{className:"nav-icon",children:C.jsx("i",{className:"fas fa-circle"})}),C.jsx("div",{className:"title-name",children:"Content"})]})}),C.jsx("div",{className:"search-container",children:C.jsxs("div",{className:"search-bar",children:[C.jsx("i",{className:"fas fa-search search-icon"}),C.jsx("input",{onChange:e=>{this.dispatch({searchText:e.target.value})},className:"search-input",placeholder:"Search"})]})}),C.jsx("div",{className:"filter",children:C.jsxs("div",{className:"row row-space-between",children:[C.jsx(hn,{to:"/sequence",className:"btn-gray",children:"New Sequence"}),C.jsx(hn,{to:"/template",className:"btn-gray",children:"New Template"})]})})]}),C.jsx("div",{children:C.jsx(dn,{theme:"defaultCard",content:C.jsx(J4,{})})}),C.jsx("div",{children:C.jsx(dn,{theme:"defaultCard",content:C.jsx(X4,{})})})]})}render(){return C.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class eF extends _a{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.propsState.currentUser.getJson()._id}}async componentDidMount(){this.getComponentsFromBackend()}render(){return C.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.state.gotComponents&&C.jsx(dn,{theme:"NoBorder",type:"fit",content:C.jsx(Z4,{})})})}}class tF extends nt{constructor(e){super(e),this.state={...this.state,plainText:""}}componentDidMount(){var n;const e=(n=this.props.obj)==null?void 0:n.getJson().content,t=hs(e);this.setState({plainText:t})}componentDidUpdate(e){var i,a;const t=(i=this.props.obj)==null?void 0:i.getJson().content,n=(a=this.props.obj)==null?void 0:a.getJson().content;if(t!==n){const u=hs(t);this.setState({plainText:u})}}render(){return C.jsx("div",{onClick:()=>{this.dispatch({popupSwitch:"updateStep",currentPopupComponent:this.props.obj})},children:C.jsxs("div",{className:"icon-row",children:[C.jsx("div",{className:"icon-container",children:C.jsxs("div",{className:"col",children:[C.jsx("div",{className:"icon",style:{cursor:"pointer"},children:C.jsx("i",{className:"fa-solid fa-envelope"})}),C.jsx("div",{className:"svg",children:C.jsx("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:C.jsx("line",{x1:"50%",y1:"0",x2:"50%",y2:"50",stroke:"var(--app-green)",strokeWidth:"3"})})})]})}),C.jsxs("div",{className:"message-container",children:[C.jsx("b",{children:this.props.obj.getJson().subject}),C.jsx("br",{}),C.jsx("span",{children:this.state.plainText})]})]})})}}class nF extends nt{constructor(e){super(e),this.state={...this.state,style:{width:"fit-content",font:"normal normal 900 10px / 14px Satoshi",padding:"6px 17px",letterSpacing:".5px",color:"white",borderRadius:"53px",marginTop:"0px"},plainText:""}}getText(e){let t="Active",n="#9a9a9a";return e.getJson().finished&&(t="Finished",e.getJson().bounced&&(t="Bounced",n="#BE5858"),e.getJson().replied&&(t="Replied",n="#2374AB")),C.jsx("div",{className:"contact-tag-btn",style:{...this.state.style,background:n+" 0% 0% no-repeat"},children:t})}render(){var i,a;let e=(i=this.props.obj)==null?void 0:i.getJson(),t=e!=null&&e.mobile?e==null?void 0:e.mobile:e==null?void 0:e.email;(e.firstName||e.lastName)&&`${e.firstName}${e.lastName}`;let n=this.getText((a=this.props)==null?void 0:a.obj);return C.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[C.jsxs("div",{className:"contact-info",style:{flex:2},children:[C.jsx("div",{className:"contact-name",children:`${e.firstName} ${e.lastName}`}),C.jsxs("div",{className:"contact-desc",children:[(e==null?void 0:e.company)||(e==null?void 0:e.title)||(e==null?void 0:e.email)||(e==null?void 0:e.mobile)||"",C.jsxs("div",{children:["step: ",parseInt(e.emailNumber)+1]})]})]}),C.jsxs("div",{style:{display:"flex",flex:1,gap:"3px",justifyContent:"flex-end"},children:[C.jsx("div",{children:n}),!this.props.obj.getJson().finished&&C.jsx("div",{title:"Remove from Sequence",onClick:()=>{this.props.obj.setCompState({finished:!0}),this.props.obj.update();let u=this.propsState.currentSequence,c=parseInt(u.getJson().finished)+1;u.setCompState({finished:c}),u.update()},className:"dark-button-1",children:"Remove"})]})]})}}class pw extends QC{constructor(e){super(e),this.state={...this.state,list:null,spState:"sequenceSteps"}}async componentDidMount(){var n;let e;await this.getComponentsFromBackend(),await this.componentList.getComponentsFromBackend("template"),await this.componentList.getComponentsFromBackend("step"),await this.componentList.getComponentsFromBackend("contact"),e=this.comp,e||(e=await this.operationsFactory.prepare({prepare:{type:"sequence"},clean:!0}),e=e[0]);let t=await this.componentList.getList("step",(n=this.propsState.currentSequence)==null?void 0:n.getJson()._id,"sequenceId");this.state.list||this.setState({list:t}),await this.dispatch({currentSequence:e}),this.componentList.sortSelectedList("step","order")}componentWillUnmount(){this.operationsFactory.clear()}async createStep(e){let t=this.componentList.getList("step",e?e.getJson()._id:this.propsState.currentSequence.getJson()._id,"sequenceId");this.state.list||this.setState({list:t});const n=await this.operationsFactory.prepare({prepare:{type:"step",sequenceId:e?e.getJson()._id:this.propsState.currentSequence.getJson()._id,step:t.length}});this.dispatch({currentStep:n.length===2?n[1]:n[0]})}getStepJson(){var n,i;let e=this.componentList.getList("step",(n=this.propsState.currentSequence)==null?void 0:n.getJson()._id,"sequenceId");return{type:"step",sequenceId:(i=this.propsState.currentSequence)==null?void 0:i.getJson()._id,step:e.length}}getInnerContent(){var n,i,a,u,c,h;let t=((n=this.state.list)==null?void 0:n.length)>0?(i=this.state)==null?void 0:i.list[0].getJson().content:void 0;return C.jsx("div",{className:"fit",children:C.jsxs("div",{className:"mobile-container",children:[C.jsxs("div",{className:"title-bar",children:[C.jsxs("div",{className:"title-left",children:[C.jsx("div",{className:"title-icon",children:C.jsx("i",{className:"fas fa-angle-left",onClick:()=>{history.back()}})}),((a=this.propsState.currentSequence)==null?void 0:a.getJson().name)===""||this.state.edit?C.jsxs("div",{className:"name-a-sequence",children:[C.jsx(ft,{obj:this.propsState.currentSequence,name:"name"}),C.jsx(to,{callbackFunc:()=>{this.setState({edit:!1}),this.propsState.currentSequence.update()},content:"save",className:"dark-button-1"})]}):C.jsx(C.Fragment,{children:C.jsxs("div",{className:"title-name",children:[(u=this.propsState.currentSequence)==null?void 0:u.getJson().name,C.jsx("span",{onClick:()=>{this.setState({edit:!0})},children:C.jsx("span",{className:"name-a-sequence-edit-btn",children:"Edit"})})]})})]}),"limit contacts per day:",C.jsx(ft,{name:"limit",obj:this.propsState.currentSequence,update:!0}),C.jsxs("div",{className:"title-right active-seq-container",children:[C.jsx("div",{className:"title-icon",children:C.jsx("i",{className:"fas fa-circle"})}),C.jsx("div",{className:"title-name",children:"Active"})]})]}),C.jsx("div",{className:"switch-tab",children:C.jsxs("div",{className:"row row-space-around",children:[C.jsxs("div",{onClick:()=>{this.setState({spState:"assignedProspects"})},className:this.state.spState==="sequenceSteps"?"switch-tab-btn":"switch-tab-btn active",children:["Assigned",C.jsx("br",{}),"Prospects"]}),C.jsxs("div",{onClick:()=>{this.setState({spState:"sequenceSteps"})},className:this.state.spState==="assignedProspects"?"switch-tab-btn":"switch-tab-btn active",children:["Sequence",C.jsx("br",{}),"Steps"]})]})}),this.state.spState==="sequenceSteps"?C.jsxs("div",{className:"icon-list",children:[C.jsx(pn,{name:"step",mapSectionClass:"none",mapContainerClass:"none",filter:{search:(c=this.propsState.currentSequence)==null?void 0:c.getJson()._id,attribute:"sequenceId"},filterFunc:d=>!(d.getJson().content===void 0||d.getJson().content===""),cells:[{type:"custom",custom:tF,wrapperClass:"none"}]}),C.jsx(Hh,{formClass:"svg-last",newProp:"asdf",obj:this.getStepJson(),content:C.jsxs(C.Fragment,{children:[C.jsx("svg",{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg",children:t&&this.state.list&&C.jsx(C.Fragment,{children:C.jsx("path",{d:"M25,0 Q25,25 50,25 H50",fill:"none",stroke:"var(--app-green)",strokeWidth:"3",strokeLinecap:"round"})})}),C.jsx("div",{className:"icon-last",children:C.jsx("i",{className:"fa-solid fa-plus"})})]}),popupSwitch:"addStep"}),C.jsx("div",{className:"icon-row",children:C.jsx("div",{className:"svg-last"})})]}):C.jsx("div",{className:"layoutColumn conversation-container",style:{padding:"20px"},children:C.jsx(pn,{name:"contact",mapSectionClass:"none",mapContainerClass:"none",filter:{search:(h=this.propsState.currentSequence)==null?void 0:h.getJson()._id,attribute:"sequenceId"},cells:[{type:"custom",custom:nF,wrapperClass:"none"}]})})]})})}render(){return C.jsx("div",{className:[this.props.pageClass||this.state.defaultClass,"sequence-margin"].join(" "),children:this.getInnerContent()})}}class mw extends QC{async componentDidMount(){await this.getComponentsFromBackend();const e=this.urlId;if(!e||e==="template"){const t=await this.operationsFactory.prepare({prepare:{type:"template"},clean:!0});this.dispatch({currentComponent:t[0]})}}getInnerContent(){return C.jsxs("div",{className:"fit",children:[C.jsx("h1",{children:"Template Details"}),C.jsx("div",{className:"input-container",children:C.jsx("div",{className:"input-bar",children:this.propsState.currentComponent&&C.jsx(ft,{type:"quill",name:"content",obj:this.propsState.currentComponent})})}),C.jsx(to,{content:"Save Template"})]})}render(){return C.jsx("div",{className:this.props.pageClass||"fit",children:this.state.gotComponents&&this.getInnerContent()})}}class rF extends nt{constructor(e){super(e)}render(){const{obj:e}=this.props;let t=e.getJson();return C.jsx("div",{className:"sequence sequence-custom",children:C.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},onClick:()=>{let n=this.props.obj,i=this.propsState.selectedContacts;if(this.propsState.sequenceDataType==="research"){let u=[];for(let c of i)u.push(this.componentList.getComponent("contact",c.getJson()._id,"ogPPId"))}let a=this.componentList.getList("step",[n.getJson()._id],["sequenceId"]);if(a=a.filter(u=>u.getJson().content!==""&&u.getJson().content)[0],(i==null?void 0:i.length)>0){let u=parseFloat(a.getJson().nextSend),c=new Date(Date.now()+u*60*60*1e3);c=Lt.fromDate(c);for(let h of i){let d=this.componentList.getComponent("sequence",h.getJson().sequenceId),y=h.getJson().finishedSequenceTags||"";d||h.getJson().finishedSequenceTags.includes(d.getJson().name)||(y=y.length===0?d.getJson().name:","+d.getJson().name),h.setCompState({sequenceId:n.getJson()._id,finishedSequenceTags:y,finished:!1,emailNumber:0,nextSend:c},{run:!0})}this.dispatch({popupSwitch:"",selectedContacts:[]})}},children:[C.jsx("div",{className:"title-left",children:t.name}),C.jsx("div",{children:C.jsx("div",{id:"arrow-icon-appear",className:"send-seq-icon",children:C.jsx("i",{class:"fa-solid fa-right-long"})})})]})})}}class iF extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}render(){var e;return C.jsxs("div",{style:{padding:"20px",paddingBottom:"100px",position:"relative",paddingTop:"0px"},className:this.props.pageClass||this.state.defaultClass,children:[C.jsxs("div",{style:{paddingTop:"20px",display:"flex",flexDirection:"column",position:"sticky",top:0,zIndex:20,background:"white"},children:[C.jsx("h2",{children:"Add to Sequence"})," ",C.jsxs("div",{className:"count-desc",style:{position:"relative",margin:"10px"},children:["Contacts: ",((e=this.propsState.selectedContacts)==null?void 0:e.length)||"0"," "]})]}),C.jsx(pn,{name:"sequence",cells:[{type:"custom",custom:rF}]})]})}}let sF=[{type:"email",body:"Hey John, just wanted to follow up on our conversation yesterday. Do you think the software is a good fit for your team? I'm happy to set up another demo or go over pricing options",conversationId:"123",_id:"email1",owner:"alan@salescapture.ai",timeStamp:"Yesterday 10:14 AM",subject:"hi",ownerMessage:!0},{type:"email",body:"Hey John, just wanted to follow up on our conversation yesterday. Do you think the software is a good fit for your team? I'm happy to set up another demo or go over pricing options",conversationId:"123",_id:"email1",owner:"alan@salescapture.ai",timeStamp:"Yesterday 10:14 AM",subject:"hi",ownerMessage:!0},{type:"email",body:"No I can't this week.",conversationId:"123",_id:"email2",owner:"alan@salescapture.ai",subject:"hi",timeStamp:"Today 9:14 AM",ownerMessage:!1},{type:"email",body:"Hi Jane, AI can find the contacts you need to reach out to TODAY. Let me know if you can connect today.",conversationId:"1234",_id:"email3",owner:"alan@salescapture.ai",timeStamp:"Yesterday 10:14 AM",subject:"hi",ownerMessage:!0},{type:"email",body:"Sure I have time arround 3pm tomorrow afternoon",conversationId:"1234",_id:"email4",owner:"alan@salescapture.ai",subject:"hi",timeStamp:"Today 9:14 AM",ownerMessage:!1},{type:"email",body:"Hey Taylor Just let me know if it would be good to meet today or not.",conversationId:"1235",_id:"email5",owner:"taylor@flinnapps.com",timeStamp:"Yesterday 10:14 AM",subject:"hi",ownerMessage:!0},{type:"email",body:"No I can't this week.",conversationId:"1235",_id:"email6",owner:"alan@salescapture.ai",subject:"hi",timeStamp:"Today 9:14 AM",ownerMessage:!1},{type:"conversation",_id:"123",contact:"taylormdavidson@gmail.com",contactName:"John Doe",timeStamp:"Today 2:15 pm",recentMessage:"Hey, how's it going?",owner:"alan@salescapture.com"},{type:"conversation",_id:"1234",suggestion:!0,contact:"taylormdavidson@gmail.com",contactName:"Jane Doe",timeStamp:"Today 2:15 pm",recentMessage:"Hey, how's it going?",owner:"alan@salescapture.com"},{type:"contact",_id:"contact1",firstName:"Mubarak",email:"mubarak@vividinfotech.com",owner:"alan@salescapture.com",lastName:"Basha",linkedIn:"https://www.linkedin.com/in/mubarak-basha-6a705516",company:"VIVID Infotech Software Solutions (P) Ltd",title:"Founder & CEO www.vividinfotech.com",connectedOn:"19 May 2021",mobile:"NA",tags:"linkedin"},{type:"contact",_id:"contact2",firstName:"Nate",email:"nmaguire@strativise.com",owner:"alan@salescapture.com",lastName:"Maguire",linkedIn:"https://www.linkedin.com/in/natemaguire",company:"Strativise, Inc.",title:"Founder & CEO",connectedOn:"22 Apr 2021",mobile:"949-390-4532",tags:"linkedin"},{type:"research",_id:"research1",name:"Vp of Sales",email:"taylormdavidson@gmail.com",owner:"alan@salescapture.com ",AIPrompt:"Search for all the Vp of Sales in Utah",searchFrequency:"Daily"},{type:"potentialProspect",_id:"prospect1",firstName:"Mubarak",email:"mubarak@vividinfotech.com",owner:"alan@salescapture.com",researchId:"research1",lastName:"Basha",linkedIn:"https://www.linkedin.com/in/mubarak-basha-6a705516",company:"VIVID Infotech Software Solutions (P) Ltd",title:"Founder & CEO www.vividinfotech.com",connectedOn:"19 May 2021",mobile:"NA",tags:"linkedin"},{type:"potentialProspect",_id:"prospect2",firstName:"Nate",email:"nmaguire@strativise.com",owner:"alan@salescapture.com",researchId:"research1",lastName:"Maguire",linkedIn:"https://www.linkedin.com/in/natemaguire",company:"Strativise, Inc.",title:"Founder & CEO",connectedOn:"22 Apr 2021",mobile:"949-390-4532",tags:"linkedin"},{type:"potentialProspect",_id:"prospect3",firstName:"Dave",email:"dave@turtlebayventures.com",owner:"alan@salescapture.com",researchId:"research1",lastName:"McKenna",linkedIn:"https://www.linkedin.com/in/davemckenna2",company:"Monarch Real Estate Partners",title:"Managing Partner",connectedOn:"16 Aug 2019",mobile:"214-783-0156",tags:"linkedin"},{type:"potentialProspect",_id:"prospect4",firstName:"R.W.",email:"rw@hollemanfarms.com",owner:"alan@salescapture.com",researchId:"research1",lastName:"Holleman",linkedIn:"https://www.linkedin.com/in/rwholleman",company:"Rain",title:"Head of Enterprise Sales",connectedOn:"14 May 2019",mobile:"972-814-6304",tags:"linkedin"},{type:"potentialProspect",_id:"prospect5",firstName:"Brian",email:"Brian.Reed@DigitalAutoStrategy.com",owner:"alan@salescapture.com",researchId:"research1",lastName:"Reed",linkedIn:"https://www.linkedin.com/in/digitalautoadvisors",company:"Car Capital Technologies, Inc.",title:"Car Capital - Chairman of the Board",connectedOn:"24 Apr 2019",mobile:"817.851.8229",tags:"linkedin"},{type:"potentialProspect",_id:"prospect6",firstName:"Thomas",email:"tom.wilson@graphiumhealth.com",owner:"alan@salescapture.com",researchId:"research1",lastName:"Wilson",linkedIn:"https://www.linkedin.com/in/thomas-t-wilson-70846b15",company:"Crest Expansion Group",title:"Co-Owner",connectedOn:"18 Apr 2019",mobile:"2147895978",tags:"linkedin"},{type:"potentialProspect",_id:"prospect7",firstName:"Shawn",email:"shawnlima@msn.com",owner:"alan@salescapture.com",researchId:"research1",lastName:"Lima",linkedIn:"https://www.linkedin.com/in/shawnlima",company:"Advisor labs",title:"Enterprise Account Executive",connectedOn:"12 Apr 2019",tags:"linkedin"},{type:"potentialProspect",_id:"prospect8",firstName:"Damon",email:"damon@exityourway.us",owner:"alan@salescapture.com",researchId:"research1",lastName:"Pistulka √",linkedIn:"https://www.linkedin.com/in/damonpistulka",company:"B2Btail",title:"Relentless Business Growth Advocate",connectedOn:"27 Sep 2018",mobile:"425-654-7757",tags:"linkedin"},{type:"potentialProspect",_id:"prospect9",firstName:"Vishal",email:"vishalrjoshi@live.com",owner:"alan@salescapture.com",researchId:"research1",lastName:"Joshi",linkedIn:"https://www.linkedin.com/in/vishaljoshivishalrjoshi@live.com",company:"JoyCo",title:"Founder & CEO",connectedOn:"18 Sep 2018",mobile:"4252332749",tags:"linkedin"},{type:"potentialProspect",_id:"prospect10",firstName:"John",email:"jc.murray@jcmurrayii.dev",owner:"alan@salescapture.com",researchId:"research1",lastName:"Murray",linkedIn:"https://www.linkedin.com/in/jcmurray2",company:"VGS",title:"Principal Software Engineer, Payments",connectedOn:"29 Aug 2018",mobile:"719 345 7617",tags:"linkedin"},{type:"potentialProspect",_id:"prospect11",firstName:"David",email:"david.sanders@revellence.com",owner:"alan@salescapture.com",researchId:"research1",lastName:"Sanders",linkedIn:"https://www.linkedin.com/in/dwsandrs",company:"Valenta",title:"Chief Revenue Officer (CRO)",connectedOn:"29 Aug 2018",mobile:"678-429-6245",tags:"linkedin"},{type:"potentialProspect",_id:"prospect12",firstName:"Sherry",email:"sherry@mac.com",owner:"alan@salescapture.com",researchId:"research1",lastName:"Warburton",linkedIn:"https://www.linkedin.com/in/sherry-warburtonus",company:"Comcast",title:"Sr Director - New Device Lifecycle, Special Projects, Initiatives and Ai Projects",connectedOn:"29 Aug 2018",tags:"linkedin"},{type:"potentialProspect",_id:"prospect13",firstName:"John",email:"jbeane@memcpu.com",owner:"alan@salescapture.com",researchId:"research1",lastName:"Beane",linkedIn:"https://www.linkedin.com/in/jbeane",company:"MemComputing, Inc.",title:"Founder & Chief Executive Officer",connectedOn:"06 Jul 2018",tags:"linkedin"}];class oF{async _makeApiCall(e){try{const t=await fetch("https://getemailfromai-7c5i3vsqma-uc.a.run.app",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const i=await t.json();throw console.error("API Error:",i.error),new Error(i.error||`Request failed with status ${t.status}`)}const n=await t.json();if(n.success)return n.data;throw new Error(n.error||"The API call was not successful.")}catch(t){throw console.error("Failed to fetch from AI service:",t),t}}async getTemplate(e,t={}){const n={currentAIOptions:{model:"gpt-4o-mini",temperature:.9,...t},companyID:e.getJson().companyId,emailType:"template"};return await this._makeApiCall(n)}async getFollowUp(e,t,n={}){const i={currentAIOptions:{model:"gpt-4o-mini",temperature:.8,...n},companyID:e.getJson().companyId,emailType:"sequence",conversationHistory:{lastSentEmail:t}};return await this._makeApiCall(i)}}const gw=new oF;class aF extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}extractSubjectAndBody(e){const t=e.match(/^{{\s*([^}]+?)\s*}}/);let n="",i="";t?(n=t[1].trim(),i=e.slice(t[0].length).trim()):i=e.trim();const a=i.split(`

`).map(u=>`<p>${u.replace(/\n/g,"<br>")}</p>`).join(`
`);return{subject:n,body:a}}render(){this.props.obj;let e=C.jsx(to,{formClass:"dark-button-1",content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc});return this.propsState.popupSwitch.includes("update")&&(e=C.jsx(fy,{formClass:"dark-button-1",obj:this.propsState.currentPopupComponent,content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc})),C.jsxs("div",{style:{padding:"10px",paddingBottom:"100px"},className:this.props.pageClass||this.state.defaultClass,children:[C.jsxs("div",{style:{display:"flex",gap:"8px"},children:[C.jsx("div",{onClick:async()=>{debugger;let t=this.componentList.getList("step",this.propsState.currentSequence.getJson()._id,"sequenceId"),n=t.length;t.length>0&&(t=t[t.length-1]);let i=n>0?await gw.getFollowUp(this.propsState.currentUser,t.getJson().content):await gw.getTemplate(this.propsState.currentUser),{subject:a,body:u}=this.extractSubjectAndBody(i);console.log(a),console.log(u),this.propsState.currentPopupComponent.setCompState({content:u,subject:a}),this.dispatch({})},className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Draft With AI"}),C.jsx("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},onClick:()=>{this.setState({selectTemplate:!0})},children:"Select Template"})]}),this.state.selectTemplate&&C.jsx(pn,{name:"template",filterFunc:t=>{var a;if(t.getJson().content===void 0||t.getJson().content==="")return!1;let n=!1;this.propsState.searchText||(n=!0);let i=this.propsState.searchText;return(a=t.getJson().content)!=null&&a.toLowerCase().includes(i==null?void 0:i.toLowerCase())&&(n=!0),n},cells:[{type:"custom",custom:Y4}]}),C.jsx("br",{}),C.jsxs("div",{className:"content-home-add",children:[C.jsx("div",{className:"contact-contact-data",children:C.jsxs("div",{className:"row row-container",children:[C.jsx("div",{className:"row-name",style:{maxWidth:"fit-content"},children:"Subject:"}),C.jsx("div",{className:"row-field",children:C.jsx(ft,{obj:this.propsState.currentPopupComponent,name:"subject",formClass:"underline-form"})})]})}),C.jsx("div",{className:"row",children:C.jsx(ft,{type:"quill",obj:this.propsState.currentPopupComponent,name:"content",wrapperClass:"contentWrapper"})}),C.jsxs("div",{className:"row",children:[C.jsx("div",{children:"Trigger this step in:"}),C.jsx(ft,{obj:this.propsState.currentPopupComponent,name:"nextSend",formClass:"underline-form",wrapperStyle:{width:"10%",marginRight:"8px",borderBottom:"1px solid rgb(212, 212, 212)"}})," days"]}),C.jsxs("div",{className:"row",children:[this.propsState.popupSwitch.includes("update")&&C.jsx(VC,{obj:this.propsState.currentPopupComponent,formClass:"del-button-1",callbackFunc:()=>{this.dispatch({popupSwitch:"",currentPopupComponent:void 0})}}),C.jsx("div",{className:"col hover-basic",style:{cursor:"pointer",width:"37px",height:"37px"},children:C.jsx(C5,{obj:this.propsState.currentPopupComponent,content:C.jsx("div",{style:{display:"flex",alignItems:"center",borderRadius:"50%",justifyContent:"center",fontSize:"19px",width:"37px",height:"37px",background:"#378c75",color:"#ade0d3"},children:C.jsx("div",{className:"icon-last",children:C.jsx("i",{className:"fa-solid fa-plus"})})})})}),C.jsx("div",{className:"col",children:e})]}),C.jsx("div",{})]})]})}}const uF="/assets/scailogofake-B3YGBRpn.png";class lF extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit"}}getInnerContent(){var t;let e=this.componentList.getComponent("aiSettings");return C.jsxs("div",{className:"map-container",style:{paddingBottom:"62px"},children:[C.jsx("h1",{children:"AI Settings"}),(t=e==null?void 0:e.getJson())!=null&&t.autoAI?C.jsx("div",{onClick:()=>{e.setCompState({autoAI:!1},{run:!0},!0)},className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Turn off AI"}):C.jsx("div",{onClick:()=>{e.setCompState({autoAI:!0},{run:!0},!0)},className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"Turn on AI"})]})}render(){return C.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}const rb="/assets/logo_google_g-DjEGDao7.png";class cF extends nt{constructor(t){super(t);he(this,"handleAuthClick",()=>{this.setState({statusMessage:"Redirecting to Google..."});const t="786362911238-7q3lb2icdev4ives0ho4loi21n1r1t1g.apps.googleusercontent.com",n="https://www.googleapis.com/auth/gmail.send https://www.googleapis.com/auth/gmail.modify https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile openid",i="https://scaiuserauthentication-7c5i3vsqma-uc.a.run.app/oauth2callback",a=new URL("https://accounts.google.com/o/oauth2/v2/auth");a.searchParams.set("client_id",t),a.searchParams.set("redirect_uri",i),a.searchParams.set("response_type","code"),a.searchParams.set("scope",n),a.searchParams.set("access_type","offline"),a.searchParams.set("prompt","consent");const u=this.propsState.currentUser.getJson()._id,c=window.location.href,d=JSON.stringify({userId:u,postAuthRedirect:c});a.searchParams.set("state",d),window.location.href=a.toString()});this.state={statusMessage:""}}render(){const{statusMessage:t}=this.state;return C.jsxs("div",{className:"gmail-auth-container",children:[C.jsx("h1",{style:{font:"normal normal 900 18px/24px Satoshi;"},children:"Gmail API Authorization"}),C.jsx("p",{children:"Click the button below to authorize your Google account for use with the Firebase Function."}),C.jsx("p",{children:"- This process will redirect you to Google for authorization and then back to your function, which will save your token to Firestore, linked by your email address."}),C.jsxs("button",{className:"auth-button dark-button-1",style:{fontSize:"15px",background:"#333333"},onClick:this.handleAuthClick,children:[C.jsx("img",{src:rb,style:{width:"30px"}}),C.jsx("div",{children:"Authorize with Google"})]}),t&&C.jsx("div",{className:"status-message",children:t})]})}}class hF extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}getInnerContent(){return C.jsx("div",{children:this.propsState.currentUser.getJson().gmailAuthenticated?C.jsxs("div",{style:{font:"normal normal 900 19px/25px Satoshi",paddingTop:"30px"},children:["Gmail Authenticated:",C.jsxs("div",{style:{font:"normal normal 400 16px/21px Satoshi",color:"#696969",alignItems:"center",display:"flex",marginTop:"20px"},children:[C.jsx("img",{src:rb,style:{width:"30px"}}),this.propsState.currentUser.getJson()._id]})]}):C.jsx(cF,{})})}render(){return C.jsx("div",{className:this.props.pageClass||this.state.defaultClass,style:{marginLeft:"30px",width:"100%"},children:this.getInnerContent()})}}class fF extends _a{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.getComponentsFromBackend()}render(){return C.jsxs("div",{className:this.props.pageClass||this.state.defaultClass,style:{display:"flex"},children:[C.jsx(dn,{theme:"NoBorder",type:"fit",content:C.jsx(hF,{})}),C.jsx(dn,{theme:"NoBorder",type:"fit",content:C.jsx(lF,{})})]})}}class dF extends nt{constructor(t){super(t);he(this,"handleCheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n.includes(t)||n.push(t),this.dispatch({selectedContacts:n})});he(this,"handleUncheckContact",t=>{let n=this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[];n=n.filter(i=>i!==t),this.dispatch({selectedContacts:n})})}render(){var u;const{obj:t}=this.props;let n=t.getJson(),a=(this.props.app.state.selectedContacts?[...this.props.app.state.selectedContacts]:[]).includes(t);return C.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[C.jsxs("div",{className:"contact-item hover-darken",style:{background:a?"#2374ab10":"white",position:"relative",paddingLeft:"5px"},children:[C.jsx(Kh,{checkKey:"selectedContacts",obj:t,check:this.handleCheckContact,uncheck:this.handleUncheckContact}),C.jsx("div",{className:"contact-avatar",children:C.jsx("i",{className:"fa-solid fa-user"})}),C.jsxs("div",{className:"contact-info",children:[C.jsx("div",{onClick:()=>{this.dispatch({currentPopupComponent:t,popupSwitch:"updateContact"})},className:"contact-name",children:`${n.firstName} ${n.lastName}`}),C.jsx("div",{className:"contact-desc",children:n.company})]}),C.jsx("div",{style:{cursor:"pointer",width:"fit-content"},children:C.jsx("div",{className:"contact-icon",children:C.jsx("i",{className:"fa-solid fa-message"})})})]}),C.jsx("div",{className:"contact-tag-container active",children:(u=n.tags)==null?void 0:u.split(",").map((c,h)=>C.jsx("button",{className:"contact-tag-btn",children:c},h))})]})}}class pF extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}componentDidMount(){this.dispatch({selectedContacts:[]})}filterFunc(){var a;let e=oh.getIdFromURL(),t=((a=this.propsState.tags)==null?void 0:a.split(","))||"",n=this.componentList.getList("potentialProspect",e,"researchId"),i=[];if(t)for(let u of t){let c=n.filter(h=>h.getJson().tags.includes(u));i=[...i,...c]}else i=[...n];this.dispatch({selectedContacts:i})}getInnerContent(){var u,c;let e=oh.getIdFromURL(),t=this.propsState.selectedContacts,n=this.propsState.componentList.getList("potentialProspect",e,"researchId");(t==null?void 0:t.length)>0;let i=n!=null&&n.length?"/"+(n==null?void 0:n.length):"",a=(t==null?void 0:t.length)===(n==null?void 0:n.length);return C.jsxs("div",{className:"mobile-container",children:[C.jsxs("div",{className:"top-nav-float",children:[C.jsxs("nav",{className:"top-nav",children:[C.jsxs("div",{className:"nav-left",children:[C.jsx("div",{className:"nav-icon",children:C.jsx("i",{className:"fas fa-circle"})}),C.jsx("div",{className:"nav-title",children:"Researched Potential Prospects"})]}),C.jsxs("div",{className:"nav-right",children:[C.jsx("div",{className:"nav-icon",children:C.jsxs("button",{className:"btn",children:["A to Z ",C.jsx("i",{className:"fa-solid fa-angle-down"})]})}),C.jsx("div",{className:"nav-icon",children:C.jsx("button",{className:"btn",children:C.jsx("i",{className:"fa-solid fa-filter"})})})]})]}),C.jsx("div",{className:"search-container",children:C.jsxs("div",{className:"search-bar",children:[C.jsx("i",{className:"fas fa-search search-icon"}),C.jsx("input",{onChange:h=>{this.dispatch({tags:h.target.value})},className:"search-input",placeholder:"Search"})]})}),C.jsx("div",{className:"filter-nav",children:C.jsxs("div",{className:"filter-nav-left",children:[C.jsx(C.Fragment,{children:C.jsx("div",{id:"selectBtn",style:{height:"fit-content",marginLeft:"5px",alignContent:"center"},children:C.jsx(Kh,{label:a?"Deselect All":"Select All",check:this.filterFunc,uncheck:()=>{this.dispatch({selectedContacts:[]})}})})}),C.jsx("span",{className:"count-desc",children:(u=this.propsState.selectedContacts)!=null&&u.length?this.propsState.selectedContacts.length+`${i} Selected`:""})]})})]}),C.jsx(pn,{filterFunc:h=>{if(!this.propsState.tags)return!0;let d=this.propsState.tags.split(",");for(let y of d)if(y!==""&&h.getJson().tags.includes(y))return!0;return!1},filter:{search:e,attribute:"researchId"},name:"potentialProspect",mapContainerclassName:"contact-list",mapSectionclassName:"contact",cells:[{type:"custom",custom:dF}],hasLink:!0}),((c=this.propsState.selectedContacts)==null?void 0:c.length)>0&&C.jsxs("div",{id:"floating-select-set",className:"floating-select-set",children:[C.jsx("button",{onClick:()=>{for(let h of this.propsState.selectedContacts)h.del();this.dispatch({selectedContacts:[]})},className:"floating-select-btn hover-basic",children:C.jsx("span",{className:"floating-select-btn-text",children:"Remove"})}),C.jsx("button",{onClick:()=>{for(let h of this.propsState.selectedContacts)h.copy({type:"contact",ogPPId:h.getJson()._id})},className:"floating-select-btn floating-select-primary-btn hover-basic",children:C.jsx("span",{className:"floating-select-btn-text",children:"Add Prospect"})}),C.jsx("button",{style:{width:"110px"},className:"floating-select-btn floating-select-primary-btn hover-basic",children:C.jsx(Hh,{formclassName:"FCImgButton",content:C.jsx("span",{onClick:()=>{let h=this.propsState.selectedContacts;for(let d of h)d.copy({type:"contact",ogPPId:d.getJson()._id});this.dispatch({sequenceDataType:"research"})},className:"floating-select-btn-text",style:{color:"white"},children:"Add to Sequence"}),popupSwitch:"addToSequence"})})]})]})}render(){return C.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class mF extends tb{constructor(e){super(e),this.state={...this.state,count:0}}componentDidMount(){if(this.state.count<=0){const{app:e,obj:t}=this.props;let a=e.state.componentList.getList("potentialProspect",t==null?void 0:t.getJson()._id,"researchId").length;this.setState({count:a})}}render(){const{obj:e,app:t}=this.props;let n=e.getJson(),i=n.isActive;return C.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[C.jsx("div",{style:{alignSelf:"flex-end"},children:C.jsx(Hh,{obj:e,formClass:"none",wrapperClass:"none",content:C.jsx("span",{className:"floating-select-btn-text",style:{color:"black",marginRight:"10px"},children:"edit"}),popupSwitch:"updateResearch"})}),C.jsxs(hn,{to:`./${n==null?void 0:n._id}`,style:{padding:"20px"},className:`contact-item ${i?"contact-item-active":""}`,children:[C.jsxs("div",{className:"contact-info",children:[C.jsx("div",{onClick:()=>{this.dispatch({currentPopupComponent:e,popupSwitch:"updateContact"})},className:"contact-name",children:`${n.name} `}),C.jsx("div",{className:"contact-desc",children:`${this.state.count} Contact${this.state.count!==1?"s":""} Found`})]}),C.jsxs("div",{className:`profile-status ${i?"profile-status-active":""}`,children:[C.jsx("i",{className:"fa-solid fa-circle"}),C.jsx("span",{children:i?"Active":"Paused"})]})]}),C.jsx("div",{className:"contact-tag-container active",children:this.getTagUI(n)})]})}}class gF extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",title:"Contacts"}}filterFunc(){var i;let e=((i=this.propsState.tags)==null?void 0:i.split(","))||"",t=this.componentList.getList("contact"),n=[];if(e)for(let a of e){let u=t.filter(c=>c.getJson().tags.includes(a));n=[...n,...u]}else n=[...t];this.dispatch({selectedContacts:n})}getInnerContent(){return C.jsxs("div",{className:"map-container",children:[C.jsxs("div",{className:"top-nav-float",children:[C.jsxs("nav",{className:"top-nav",children:[C.jsxs("div",{className:"nav-left",children:[C.jsx("div",{className:"nav-icon",children:C.jsx("i",{className:"fas fa-circle"})}),C.jsx("div",{className:"nav-title",children:"Research"})]}),C.jsxs("div",{className:"nav-right",children:[C.jsx("div",{className:"nav-icon",children:C.jsxs("button",{className:"btn",children:["A to Z ",C.jsx("i",{className:"fa-solid fa-angle-down"})]})}),C.jsx("div",{className:"nav-icon",children:C.jsx("button",{className:"btn",children:C.jsx("i",{className:"fa-solid fa-filter"})})})]})]}),C.jsx("div",{className:"search-container",children:C.jsxs("div",{className:"search-bar",children:[C.jsx("i",{className:"fas fa-search search-icon"}),C.jsx("input",{onChange:e=>{this.dispatch({searchText:e.target.value})},className:"search-input",placeholder:"Search"})]})}),C.jsx("div",{className:"filter-nav"}),C.jsx(yy,{wrapperClass:"icon-row",newProp:"asdf",content:C.jsx("div",{className:"dark-button-1",style:{position:"relative",width:"fit-content"},children:"New Research Profile"}),popupSwitch:"addResearch"})]}),C.jsx("div",{className:"card-header",children:"Customer Profiles"}),C.jsxs("div",{children:[" ",C.jsx(pn,{filterFunc:e=>{var i;let t=!1;this.propsState.searchText||(t=!0);let n=this.propsState.searchText;return(i=e.getJson().name)!=null&&i.toLowerCase().includes(n==null?void 0:n.toLowerCase())&&(t=!0),t},name:"research",mapContainerclassName:"contact-list",mapSectionclassName:"contact",cells:[{type:"custom",custom:mF}]})]})]})}render(){return C.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:this.getInnerContent()})}}class yF extends _a{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.getComponentsFromBackend()}render(){return C.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:C.jsx(dn,{theme:"NoBorder",type:"fit",content:C.jsx(gF,{})})})}}class vF extends _a{constructor(e){super(e),this.state={...this.state,defaultClass:"fit",owner:this.app.state.currentUser.getJson()._id}}async componentDidMount(){await this.getComponentsFromBackend()}render(){return C.jsx("div",{className:this.props.pageClass||this.state.defaultClass,children:C.jsx(dn,{theme:"NoBorder",type:"fit",content:C.jsx(pF,{})})})}}class _F extends WC{getHtml(){return C.jsxs("div",{className:"bottom-nav",children:[C.jsxs(hn,{to:"/conversation",className:"bottom-nav-item",children:[C.jsx("i",{className:"fa-solid fa-message"}),C.jsx("span",{children:"Messages"})]}),C.jsxs(hn,{to:"/contacts",className:"bottom-nav-item",children:[C.jsx("i",{className:"fa-solid fa-address-book"}),C.jsx("span",{children:"Contacts"})]}),C.jsx("a",{href:"#",className:"bottom-nav-item",children:C.jsx("div",{id:"float-btn-plus",className:"float-btn",children:C.jsx("i",{className:"fas fa-plus"})})}),C.jsxs(hn,{to:"/research",className:"bottom-nav-item",children:[C.jsx("i",{className:"fa-solid fa-graduation-cap"}),C.jsx("span",{children:"Research"})]}),C.jsxs(hn,{to:"/content",className:"bottom-nav-item",children:[C.jsx("i",{className:"fa-solid fa-briefcase"}),C.jsx("span",{children:"Content"})]})]})}}class wF extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}render(){const e=this.props.obj;let t=e?"Edit":"Add",n=e?C.jsx(fy,{formClass:"dark-button-1",obj:e,content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc}):C.jsx(to,{formClass:"dark-button-1",content:"Save",isPopup:!0,callbackFunc:this.props.callbackFunc});return C.jsxs("div",{style:{padding:"1px",paddingBottom:"100px",height:"100%"},className:this.props.pageClass||this.state.defaultClass,children:[C.jsxs("h2",{children:[t," Research Prompt"]})," ",C.jsxs("div",{className:"contact-contact-data",style:{padding:"10px",background:"rgb(245, 244, 244)",borderRadius:"12px"},children:[C.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[C.jsx("div",{className:"row-name",children:"Profile Name:"}),C.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",C.jsx(ft,{obj:e,placeholder:"ie: Daily Research",name:"name",inPopup:!0})," "]})]}),C.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[C.jsx("div",{className:"row-name",children:"Search Frequency:"}),C.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",C.jsx(ft,{obj:e,placeholder:"Daily",name:"searchFrequency",inputType:"select",inPopup:!0,selectOptions:["Daily","Weekly","Monthly"]})," "]})]}),C.jsxs("div",{className:"row-container",style:{flexDirection:"column"},children:[C.jsx("div",{className:"row-name",children:"AI Prompt:"}),C.jsxs("div",{className:"row-field",style:{width:"100%"},children:[" ",C.jsx(ft,{obj:e,placeholder:'ie: "Research VP of Sales at Tech Companies in Utah"',name:"AIPrompt",inPopup:!0})," "]})]}),C.jsxs("div",{style:{background:"white",width:"80%",display:"flex",justifyContent:"flex-end",alignSelf:"flex-end",position:"absolute",bottom:20,right:20},children:[" ",C.jsxs("div",{children:[" ",n]})]})]})]})}}class EF extends nb{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}componentDidMount(){var e,t;debugger;(t=this.propsState.currentPopupComponent)==null||t.setCompState({conversationId:(e=this.propsState.currentConversation)==null?void 0:e.getJson()._id,originalMessageId:!1,ownerMessage:!0}),this.setState({email:this.propsState.currentPopupComponent})}componentDidUpdate(){}render(){var n;const e=this.props.obj;let t=C.jsx(to,{formClass:"dark-button-1",content:C.jsx("div",{children:"Send"}),callbackFunc:()=>{let i=this.state.email,a={from:this.propsState.currentUser.getJson()._id,to:this.propsState.currentConversation.getJson().contact,subject:i.getJson().subject,text:i.getJson().body},u=this.propsState.currentUser.getJson().gmailAuthenticated?"https://gmailapiemailhandler-7c5i3vsqma-uc.a.run.app":"https://sendgridemailhandler-7c5i3vsqma-uc.a.run.app";fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(c=>{if(!c.ok)throw new Error(`HTTP error! Status: ${c.status}`);return c.json()}).then(c=>{console.log("Reply sent successfully in thread.",c)}).catch(c=>{console.error("Error sending reply:",c)}),this.dispatch({currentPopupComponent:void 0,popupSwitch:""})}});return C.jsxs("div",{style:{padding:"10px",paddingBottom:"100px",height:"100%"},className:this.props.pageClass||this.state.defaultClass,children:[C.jsx("h2",{children:"Email"})," ",C.jsxs("div",{className:"contact-Add-container",children:[C.jsxs("div",{className:"row",children:[C.jsx("div",{children:"To:"}),C.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ",(n=this.propsState.currentConversation)==null?void 0:n.getJson().contactName]})]}),C.jsxs("div",{className:"row",children:[C.jsx("div",{children:"From:"}),C.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ","Me"]})]}),C.jsxs("div",{className:"row",children:[C.jsx("div",{children:"Subject:"}),C.jsxs("div",{style:{width:"70%",marginLeft:"7px"},children:[" ",C.jsx(ft,{formClass:"underline-form",obj:e,name:"subject",inPopup:!0})," "]})]}),C.jsx("div",{children:C.jsxs("div",{style:{width:"100%"},children:[" ",C.jsx(ft,{obj:e,type:"quill",name:"body",inPopup:!0})," "]})}),C.jsxs("div",{style:{width:"100%",background:"white",display:"flex",justifyContent:"flex-end",alignContent:"flex-end"},children:[" ",C.jsxs("div",{style:{marginRight:"-10px"},children:[" ",t]})]})]})]})}}class AF extends nt{constructor(e){super(e),this.state={...this.state,defaultClass:"fit scroller"}}render(){return C.jsxs("div",{style:{padding:"18px",paddingBottom:"100px",height:"100%"},className:this.props.pageClass||this.state.defaultClass,children:[C.jsx("h2",{style:{font:"normal normal 900 18px/25px Satoshi"},children:"Add Tags to Selected"}),C.jsx("div",{className:"contact-contact-data",style:{marginTop:"8%",padding:"24px",border:"none",background:"#f0f0f0"},children:C.jsxs("div",{className:"row-container",children:[C.jsx("div",{className:"row-name",style:{maxWidth:"fit-content"},children:"Tags:"}),C.jsx("div",{className:"row-field",children:C.jsx("input",{class:"underline-form",onChange:e=>{let{value:t}=e.target;this.setState({tags:t})}})})]})}),C.jsx("div",{class:"dark-button-1",style:{justifySelf:"flex-end",marginTop:"20px"},onClick:async()=>{for(let e of this.propsState.selectedContacts){debugger;let t=e.getJson().tags||"";t=t.length===0?this.state.tags:","+this.state.tags,await e.setCompState({tags:t}),e.update()}this.dispatch({popupSwitch:""})},children:"Save"})]})}}class CF extends y4{constructor(e){super(e,{db:uO,endpoint:"salescaptureAI",auth:lO,storage:aO}),this.popupComponents={contact:eb,step:aF,research:wF,email:EF},this.popupComponentsProps={},sh.getFactory().registerComponent("bottomNavMap",_F),this.componentList.addComponents([...sF],!0),this.state={...this.state,navBarProps:{mapType:window.innerWidth<1e3?"bottomNavMap":void 0,type:window.innerWidth<1e3?"topBar":void 0,style:{backgroundColor:"#35b593",color:"white",fontFamily:"'Satoshi-Variable', sans-serif"},cardStyle:{backgroundColor:"#35b593",position:window.innerWidth<1e3&&"absolute",bottom:window.innerWidth<1e3&&"0px",fontFamily:"'Satoshi-Variable', sans-serif"},logoURL:window.innerWidth>1e3&&uF,linkItemStyle:{color:"white",fontFamily:"'Satoshi-Variable', sans-serif"}},routes:[{comp:dw,name:"Home",path:"/"},{comp:dw,name:"Messages",path:"conversation"},{comp:j4,name:"Contacts",path:"contacts"},{comp:yF,name:"Research",path:"research",idComp:vF},{comp:eF,name:"Content",path:"content"},{comp:fF,name:"Settings",path:"settings"},{comp:pw,name:"",path:"sequence",idComp:pw},{comp:mw,name:"",path:"template",idComp:mw}],popups:[{content:iF,popupSwitch:"addToSequence"},{content:AF,popupSwitch:"addTags"}]},this.registerListWithFactory([...Object.values(I4)]);let t=sh.getNavList();t.update(0,{class:"SCAILogo"}),t.update(1,{activeClass:"SCAILink"}),window.innerWidth<1e3&&(t.remove(2),t.remove(0))}componentDidMount(){super.componentDidMount();let e=document.getElementById("signUpFT");e&&(e.style.display="none")}}gT.createRoot(document.getElementById("root")).render(C.jsx(ve.StrictMode,{children:C.jsx(CF,{})}));
